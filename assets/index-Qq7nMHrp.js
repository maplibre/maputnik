var K$=Object.defineProperty;var P$=(e,n,t)=>n in e?K$(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var rn=(e,n,t)=>(P$(e,typeof n!="symbol"?n+"":n,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ch=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xO(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var xF={exports:{}},IC={},wF={exports:{}},ga={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Mk=Object.getOwnPropertySymbols,F$=Object.prototype.hasOwnProperty,D$=Object.prototype.propertyIsEnumerable;function L$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function U$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(o){return n[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var MF=U$()?Object.assign:function(e,n){for(var t,r=L$(e),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var s in t)F$.call(t,s)&&(r[s]=t[s]);if(Mk){i=Mk(t);for(var a=0;a<i.length;a++)D$.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO=MF,dh=typeof Symbol=="function"&&Symbol.for,TC=dh?Symbol.for("react.element"):60103,R$=dh?Symbol.for("react.portal"):60106,z$=dh?Symbol.for("react.fragment"):60107,j$=dh?Symbol.for("react.strict_mode"):60108,W$=dh?Symbol.for("react.profiler"):60114,N$=dh?Symbol.for("react.provider"):60109,G$=dh?Symbol.for("react.context"):60110,Q$=dh?Symbol.for("react.forward_ref"):60112,$$=dh?Symbol.for("react.suspense"):60113,Y$=dh?Symbol.for("react.memo"):60115,q$=dh?Symbol.for("react.lazy"):60116,Sk=typeof Symbol=="function"&&Symbol.iterator;function KC(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EF={};function Uy(e,n,t){this.props=e,this.context=n,this.refs=EF,this.updater=t||SF}Uy.prototype.isReactComponent={};Uy.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(KC(85));this.updater.enqueueSetState(this,e,n,"setState")};Uy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OF(){}OF.prototype=Uy.prototype;function MO(e,n,t){this.props=e,this.context=n,this.refs=EF,this.updater=t||SF}var SO=MO.prototype=new OF;SO.constructor=MO;wO(SO,Uy.prototype);SO.isPureReactComponent=!0;var EO={current:null},BF=Object.prototype.hasOwnProperty,kF={key:!0,ref:!0,__self:!0,__source:!0};function IF(e,n,t){var r,i={},o=null,s=null;if(n!=null)for(r in n.ref!==void 0&&(s=n.ref),n.key!==void 0&&(o=""+n.key),n)BF.call(n,r)&&!kF.hasOwnProperty(r)&&(i[r]=n[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var h=Array(a),g=0;g<a;g++)h[g]=arguments[g+2];i.children=h}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:TC,type:e,key:o,ref:s,props:i,_owner:EO.current}}function V$(e,n){return{$$typeof:TC,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function OO(e){return typeof e=="object"&&e!==null&&e.$$typeof===TC}function H$(e){var n={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(t){return n[t]})}var TF=/\/+/g,T2=[];function KF(e,n,t,r){if(T2.length){var i=T2.pop();return i.result=e,i.keyPrefix=n,i.func=t,i.context=r,i.count=0,i}return{result:e,keyPrefix:n,func:t,context:r,count:0}}function PF(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T2.length&&T2.push(e)}function BS(e,n,t,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case TC:case R$:o=!0}}if(o)return t(r,e,n===""?"."+Rw(e,0):n),1;if(o=0,n=n===""?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){i=e[s];var a=n+Rw(i,s);o+=BS(i,a,t,r)}else if(e===null||typeof e!="object"?a=null:(a=Sk&&e[Sk]||e["@@iterator"],a=typeof a=="function"?a:null),typeof a=="function")for(e=a.call(e),s=0;!(i=e.next()).done;)i=i.value,a=n+Rw(i,s++),o+=BS(i,a,t,r);else if(i==="object")throw t=""+e,Error(KC(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t,""));return o}function kS(e,n,t){return e==null?0:BS(e,"",n,t)}function Rw(e,n){return typeof e=="object"&&e!==null&&e.key!=null?H$(e.key):n.toString(36)}function Z$(e,n){e.func.call(e.context,n,e.count++)}function X$(e,n,t){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,n,e.count++),Array.isArray(e)?IS(e,r,t,function(o){return o}):e!=null&&(OO(e)&&(e=V$(e,i+(!e.key||n&&n.key===e.key?"":(""+e.key).replace(TF,"$&/")+"/")+t)),r.push(e))}function IS(e,n,t,r,i){var o="";t!=null&&(o=(""+t).replace(TF,"$&/")+"/"),n=KF(n,o,r,i),kS(e,X$,n),PF(n)}var FF={current:null};function Bp(){var e=FF.current;if(e===null)throw Error(KC(321));return e}var J$={ReactCurrentDispatcher:FF,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:EO,IsSomeRendererActing:{current:!1},assign:wO};ga.Children={map:function(e,n,t){if(e==null)return e;var r=[];return IS(e,r,null,n,t),r},forEach:function(e,n,t){if(e==null)return e;n=KF(null,null,n,t),kS(e,Z$,n),PF(n)},count:function(e){return kS(e,function(){return null},null)},toArray:function(e){var n=[];return IS(e,n,null,function(t){return t}),n},only:function(e){if(!OO(e))throw Error(KC(143));return e}};ga.Component=Uy;ga.Fragment=z$;ga.Profiler=W$;ga.PureComponent=MO;ga.StrictMode=j$;ga.Suspense=$$;ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J$;ga.cloneElement=function(e,n,t){if(e==null)throw Error(KC(267,e));var r=wO({},e.props),i=e.key,o=e.ref,s=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,s=EO.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(h in n)BF.call(n,h)&&!kF.hasOwnProperty(h)&&(r[h]=n[h]===void 0&&a!==void 0?a[h]:n[h])}var h=arguments.length-2;if(h===1)r.children=t;else if(1<h){a=Array(h);for(var g=0;g<h;g++)a[g]=arguments[g+2];r.children=a}return{$$typeof:TC,type:e.type,key:i,ref:o,props:r,_owner:s}};ga.createContext=function(e,n){return n===void 0&&(n=null),e={$$typeof:G$,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:N$,_context:e},e.Consumer=e};ga.createElement=IF;ga.createFactory=function(e){var n=IF.bind(null,e);return n.type=e,n};ga.createRef=function(){return{current:null}};ga.forwardRef=function(e){return{$$typeof:Q$,render:e}};ga.isValidElement=OO;ga.lazy=function(e){return{$$typeof:q$,_ctor:e,_status:-1,_result:null}};ga.memo=function(e,n){return{$$typeof:Y$,type:e,compare:n===void 0?null:n}};ga.useCallback=function(e,n){return Bp().useCallback(e,n)};ga.useContext=function(e,n){return Bp().useContext(e,n)};ga.useDebugValue=function(){};ga.useEffect=function(e,n){return Bp().useEffect(e,n)};ga.useImperativeHandle=function(e,n,t){return Bp().useImperativeHandle(e,n,t)};ga.useLayoutEffect=function(e,n){return Bp().useLayoutEffect(e,n)};ga.useMemo=function(e,n){return Bp().useMemo(e,n)};ga.useReducer=function(e,n,t){return Bp().useReducer(e,n,t)};ga.useRef=function(e){return Bp().useRef(e)};ga.useState=function(e){return Bp().useState(e)};ga.version="16.14.0";wF.exports=ga;var Sr=wF.exports;const xn=oa(Sr);/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eY=Sr,DF=60103;IC.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Ek=Symbol.for;DF=Ek("react.element"),IC.Fragment=Ek("react.fragment")}var tY=eY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nY=Object.prototype.hasOwnProperty,rY={key:!0,ref:!0,__self:!0,__source:!0};function LF(e,n,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(s=n.ref);for(r in n)nY.call(n,r)&&!rY.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:DF,type:e,key:o,ref:s,props:i,_owner:tY.current}}IC.jsx=LF;IC.jsxs=LF;xF.exports=IC;var N=xF.exports,UF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TS=xn.createContext&&xn.createContext(UF),Sm=function(){return Sm=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sm.apply(this,arguments)},iY=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function RF(e){return e&&e.map(function(n,t){return xn.createElement(n.tag,Sm({key:t},n.attr),RF(n.child))})}function rl(e){return function(n){return xn.createElement(oY,Sm({attr:Sm({},e.attr)},n),RF(e.child))}}function oY(e){var n=function(t){var r=e.attr,i=e.size,o=e.title,s=iY(e,["attr","size","title"]),a=i||t.size||"1em",h;return t.className&&(h=t.className),e.className&&(h=(h?h+" ":"")+e.className),xn.createElement("svg",Sm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:h,style:Sm(Sm({color:e.color||t.color},t.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&xn.createElement("title",null,o),e.children)};return TS!==void 0?xn.createElement(TS.Consumer,null,function(t){return n(t)}):n(UF)}var zF={exports:{}},Md={},jF={exports:{}},WF={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var n,t,r,i,o;if(typeof window>"u"||typeof MessageChannel!="function"){var s=null,a=null,h=function(){if(s!==null)try{var mt=e.unstable_now();s(!0,mt),s=null}catch(dt){throw setTimeout(h,0),dt}},g=Date.now();e.unstable_now=function(){return Date.now()-g},n=function(mt){s!==null?setTimeout(n,0,mt):(s=mt,setTimeout(h,0))},t=function(mt,dt){a=setTimeout(mt,dt)},r=function(){clearTimeout(a)},i=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var C=window.performance,B=window.Date,k=window.setTimeout,P=window.clearTimeout;if(typeof console<"u"){var U=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof U!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof C=="object"&&typeof C.now=="function")e.unstable_now=function(){return C.now()};else{var Z=B.now();e.unstable_now=function(){return B.now()-Z}}var W=!1,Q=null,q=-1,oe=5,re=0;i=function(){return e.unstable_now()>=re},o=function(){},e.unstable_forceFrameRate=function(mt){0>mt||125<mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):oe=0<mt?Math.floor(1e3/mt):5};var Ae=new MessageChannel,ae=Ae.port2;Ae.port1.onmessage=function(){if(Q!==null){var mt=e.unstable_now();re=mt+oe;try{Q(!0,mt)?ae.postMessage(null):(W=!1,Q=null)}catch(dt){throw ae.postMessage(null),dt}}else W=!1},n=function(mt){Q=mt,W||(W=!0,ae.postMessage(null))},t=function(mt,dt){q=k(function(){mt(e.unstable_now())},dt)},r=function(){P(q),q=-1}}function se(mt,dt){var kt=mt.length;mt.push(dt);e:for(;;){var Pt=kt-1>>>1,Me=mt[Pt];if(Me!==void 0&&0<Ne(Me,dt))mt[Pt]=dt,mt[kt]=Me,kt=Pt;else break e}}function ye(mt){return mt=mt[0],mt===void 0?null:mt}function De(mt){var dt=mt[0];if(dt!==void 0){var kt=mt.pop();if(kt!==dt){mt[0]=kt;e:for(var Pt=0,Me=mt.length;Pt<Me;){var he=2*(Pt+1)-1,be=mt[he],Pe=he+1,Ze=mt[Pe];if(be!==void 0&&0>Ne(be,kt))Ze!==void 0&&0>Ne(Ze,be)?(mt[Pt]=Ze,mt[Pe]=kt,Pt=Pe):(mt[Pt]=be,mt[he]=kt,Pt=he);else if(Ze!==void 0&&0>Ne(Ze,kt))mt[Pt]=Ze,mt[Pe]=kt,Pt=Pe;else break e}}return dt}return null}function Ne(mt,dt){var kt=mt.sortIndex-dt.sortIndex;return kt!==0?kt:mt.id-dt.id}var et=[],ft=[],Ke=1,rt=null,_e=3,Ut=!1,jt=!1,nn=!1;function Qt(mt){for(var dt=ye(ft);dt!==null;){if(dt.callback===null)De(ft);else if(dt.startTime<=mt)De(ft),dt.sortIndex=dt.expirationTime,se(et,dt);else break;dt=ye(ft)}}function He(mt){if(nn=!1,Qt(mt),!jt)if(ye(et)!==null)jt=!0,n(Je);else{var dt=ye(ft);dt!==null&&t(He,dt.startTime-mt)}}function Je(mt,dt){jt=!1,nn&&(nn=!1,r()),Ut=!0;var kt=_e;try{for(Qt(dt),rt=ye(et);rt!==null&&(!(rt.expirationTime>dt)||mt&&!i());){var Pt=rt.callback;if(Pt!==null){rt.callback=null,_e=rt.priorityLevel;var Me=Pt(rt.expirationTime<=dt);dt=e.unstable_now(),typeof Me=="function"?rt.callback=Me:rt===ye(et)&&De(et),Qt(dt)}else De(et);rt=ye(et)}if(rt!==null)var he=!0;else{var be=ye(ft);be!==null&&t(He,be.startTime-dt),he=!1}return he}finally{rt=null,_e=kt,Ut=!1}}function tt(mt){switch(mt){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var on=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(mt){mt.callback=null},e.unstable_continueExecution=function(){jt||Ut||(jt=!0,n(Je))},e.unstable_getCurrentPriorityLevel=function(){return _e},e.unstable_getFirstCallbackNode=function(){return ye(et)},e.unstable_next=function(mt){switch(_e){case 1:case 2:case 3:var dt=3;break;default:dt=_e}var kt=_e;_e=dt;try{return mt()}finally{_e=kt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=on,e.unstable_runWithPriority=function(mt,dt){switch(mt){case 1:case 2:case 3:case 4:case 5:break;default:mt=3}var kt=_e;_e=mt;try{return dt()}finally{_e=kt}},e.unstable_scheduleCallback=function(mt,dt,kt){var Pt=e.unstable_now();if(typeof kt=="object"&&kt!==null){var Me=kt.delay;Me=typeof Me=="number"&&0<Me?Pt+Me:Pt,kt=typeof kt.timeout=="number"?kt.timeout:tt(mt)}else kt=tt(mt),Me=Pt;return kt=Me+kt,mt={id:Ke++,callback:dt,priorityLevel:mt,startTime:Me,expirationTime:kt,sortIndex:-1},Me>Pt?(mt.sortIndex=Me,se(ft,mt),ye(et)===null&&mt===ye(ft)&&(nn?r():nn=!0,t(He,Me-Pt))):(mt.sortIndex=kt,se(et,mt),jt||Ut||(jt=!0,n(Je))),mt},e.unstable_shouldYield=function(){var mt=e.unstable_now();Qt(mt);var dt=ye(et);return dt!==rt&&rt!==null&&dt!==null&&dt.callback!==null&&dt.startTime<=mt&&dt.expirationTime<rt.expirationTime||i()},e.unstable_wrapCallback=function(mt){var dt=_e;return function(){var kt=_e;_e=dt;try{return mt.apply(this,arguments)}finally{_e=kt}}}})(WF);jF.exports=WF;var aY=jF.exports;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T4=Sr,CA=MF,Eu=aY;function jn(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!T4)throw Error(jn(227));function sY(e,n,t,r,i,o,s,a,h){var g=Array.prototype.slice.call(arguments,3);try{n.apply(t,g)}catch(C){this.onError(C)}}var v_=!1,K2=null,P2=!1,KS=null,lY={onError:function(e){v_=!0,K2=e}};function uY(e,n,t,r,i,o,s,a,h){v_=!1,K2=null,sY.apply(lY,arguments)}function AY(e,n,t,r,i,o,s,a,h){if(uY.apply(this,arguments),v_){if(v_){var g=K2;v_=!1,K2=null}else throw Error(jn(198));P2||(P2=!0,KS=g)}}var BO=null,NF=null,GF=null;function Ok(e,n,t){var r=e.type||"unknown-event";e.currentTarget=GF(t),AY(r,n,void 0,e),e.currentTarget=null}var F2=null,Kg={};function QF(){if(F2)for(var e in Kg){var n=Kg[e],t=F2.indexOf(e);if(!(-1<t))throw Error(jn(96,e));if(!D2[t]){if(!n.extractEvents)throw Error(jn(97,e));D2[t]=n,t=n.eventTypes;for(var r in t){var i=void 0,o=t[r],s=n,a=r;if(PS.hasOwnProperty(a))throw Error(jn(99,a));PS[a]=o;var h=o.phasedRegistrationNames;if(h){for(i in h)h.hasOwnProperty(i)&&Bk(h[i],s,a);i=!0}else o.registrationName?(Bk(o.registrationName,s,a),i=!0):i=!1;if(!i)throw Error(jn(98,r,e))}}}}function Bk(e,n,t){if(Cy[e])throw Error(jn(100,e));Cy[e]=n,kO[e]=n.eventTypes[t].dependencies}var D2=[],PS={},Cy={},kO={};function $F(e){var n=!1,t;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!Kg.hasOwnProperty(t)||Kg[t]!==r){if(Kg[t])throw Error(jn(102,t));Kg[t]=r,n=!0}}n&&QF()}var $m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FS=null,Hg=null,Zg=null;function kk(e){if(e=NF(e)){if(typeof FS!="function")throw Error(jn(280));var n=e.stateNode;n&&(n=BO(n),FS(e.stateNode,e.type,n))}}function YF(e){Hg?Zg?Zg.push(e):Zg=[e]:Hg=e}function qF(){if(Hg){var e=Hg,n=Zg;if(Zg=Hg=null,kk(e),n)for(e=0;e<n.length;e++)kk(n[e])}}function IO(e,n){return e(n)}function VF(e,n,t,r,i){return e(n,t,r,i)}function TO(){}var HF=IO,L0=!1,zw=!1;function KO(){(Hg!==null||Zg!==null)&&(TO(),qF())}function ZF(e,n,t){if(zw)return e(n,t);zw=!0;try{return HF(e,n,t)}finally{zw=!1,KO()}}var cY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ik=Object.prototype.hasOwnProperty,Tk={},Kk={};function dY(e){return Ik.call(Kk,e)?!0:Ik.call(Tk,e)?!1:cY.test(e)?Kk[e]=!0:(Tk[e]=!0,!1)}function hY(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fY(e,n,t,r){if(n===null||typeof n>"u"||hY(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function bA(e,n,t,r,i,o){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o}var Ou={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ou[e]=new bA(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ou[n]=new bA(n,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ou[e]=new bA(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ou[e]=new bA(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ou[e]=new bA(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ou[e]=new bA(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){Ou[e]=new bA(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){Ou[e]=new bA(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){Ou[e]=new bA(e,5,!1,e.toLowerCase(),null,!1)});var PO=/[\-:]([a-z])/g;function FO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(PO,FO);Ou[n]=new bA(n,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(PO,FO);Ou[n]=new bA(n,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(PO,FO);Ou[n]=new bA(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){Ou[e]=new bA(e,1,!1,e.toLowerCase(),null,!1)});Ou.xlinkHref=new bA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){Ou[e]=new bA(e,1,!1,e.toLowerCase(),null,!0)});var uh=T4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;uh.hasOwnProperty("ReactCurrentDispatcher")||(uh.ReactCurrentDispatcher={current:null});uh.hasOwnProperty("ReactCurrentBatchConfig")||(uh.ReactCurrentBatchConfig={suspense:null});function DO(e,n,t,r){var i=Ou.hasOwnProperty(n)?Ou[n]:null,o=i!==null?i.type===0:r?!1:!(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N");o||(fY(n,t,i,r)&&(t=null),r||i===null?dY(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var pY=/^(.*)[\\\/]/,nc=typeof Symbol=="function"&&Symbol.for,sx=nc?Symbol.for("react.element"):60103,Pg=nc?Symbol.for("react.portal"):60106,I0=nc?Symbol.for("react.fragment"):60107,XF=nc?Symbol.for("react.strict_mode"):60108,r2=nc?Symbol.for("react.profiler"):60114,JF=nc?Symbol.for("react.provider"):60109,eD=nc?Symbol.for("react.context"):60110,mY=nc?Symbol.for("react.concurrent_mode"):60111,LO=nc?Symbol.for("react.forward_ref"):60112,i2=nc?Symbol.for("react.suspense"):60113,DS=nc?Symbol.for("react.suspense_list"):60120,UO=nc?Symbol.for("react.memo"):60115,tD=nc?Symbol.for("react.lazy"):60116,nD=nc?Symbol.for("react.block"):60121,Pk=typeof Symbol=="function"&&Symbol.iterator;function Kv(e){return e===null||typeof e!="object"?null:(e=Pk&&e[Pk]||e["@@iterator"],typeof e=="function"?e:null)}function gY(e){if(e._status===-1){e._status=0;var n=e._ctor;n=n(),e._result=n,n.then(function(t){e._status===0&&(t=t.default,e._status=1,e._result=t)},function(t){e._status===0&&(e._status=2,e._result=t)})}}function bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I0:return"Fragment";case Pg:return"Portal";case r2:return"Profiler";case XF:return"StrictMode";case i2:return"Suspense";case DS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eD:return"Context.Consumer";case JF:return"Context.Provider";case LO:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case UO:return bp(e.type);case nD:return bp(e.render);case tD:if(e=e._status===1?e._result:null)return bp(e)}return null}function RO(e){var n="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var t="";break e;default:var r=e._debugOwner,i=e._debugSource,o=bp(e.type);t=null,r&&(t=bp(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(pY,"")+":"+i.lineNumber+")":t&&(o=" (created by "+t+")"),t=`
    in `+(r||"Unknown")+o}n+=t,e=e.return}while(e);return n}function zm(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function rD(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yY(e){var n=rD(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function lx(e){e._valueTracker||(e._valueTracker=yY(e))}function iD(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=rD(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function LS(e,n){var t=n.checked;return CA({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function Fk(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=zm(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function oD(e,n){n=n.checked,n!=null&&DO(e,"checked",n,!1)}function US(e,n){oD(e,n);var t=zm(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?RS(e,n.type,t):n.hasOwnProperty("defaultValue")&&RS(e,n.type,zm(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Dk(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function RS(e,n,t){(n!=="number"||e.ownerDocument.activeElement!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}function vY(e){var n="";return T4.Children.forEach(e,function(t){t!=null&&(n+=t)}),n}function zS(e,n){return e=CA({children:void 0},n),(n=vY(n.children))&&(e.children=n),e}function Xg(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+zm(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function jS(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(jn(91));return CA({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lk(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(jn(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(jn(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:zm(t)}}function aD(e,n){var t=zm(n.value),r=zm(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function Uk(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}var sD={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WS(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?lD(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ux,uD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!==sD.svg||"innerHTML"in e)e.innerHTML=n;else{for(ux=ux||document.createElement("div"),ux.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ux.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function $_(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}function Ax(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Fg={animationend:Ax("Animation","AnimationEnd"),animationiteration:Ax("Animation","AnimationIteration"),animationstart:Ax("Animation","AnimationStart"),transitionend:Ax("Transition","TransitionEnd")},jw={},AD={};$m&&(AD=document.createElement("div").style,"AnimationEvent"in window||(delete Fg.animationend.animation,delete Fg.animationiteration.animation,delete Fg.animationstart.animation),"TransitionEvent"in window||delete Fg.transitionend.transition);function K4(e){if(jw[e])return jw[e];if(!Fg[e])return e;var n=Fg[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in AD)return jw[e]=n[t];return e}var cD=K4("animationend"),dD=K4("animationiteration"),hD=K4("animationstart"),fD=K4("transitionend"),n_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rk=new(typeof WeakMap=="function"?WeakMap:Map);function zO(e){var n=Rk.get(e);return n===void 0&&(n=new Map,Rk.set(e,n)),n}function v1(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.effectTag&1026&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function pD(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function zk(e){if(v1(e)!==e)throw Error(jn(188))}function _Y(e){var n=e.alternate;if(!n){if(n=v1(e),n===null)throw Error(jn(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return zk(i),e;if(o===r)return zk(i),n;o=o.sibling}throw Error(jn(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(jn(189))}}if(t.alternate!==r)throw Error(jn(190))}if(t.tag!==3)throw Error(jn(188));return t.stateNode.current===t?e:n}function mD(e){if(e=_Y(e),!e)return null;for(var n=e;;){if(n.tag===5||n.tag===6)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function by(e,n){if(n==null)throw Error(jn(30));return e==null?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}function jO(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var Pv=null;function CY(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)Ok(e,n[r],t[r]);else n&&Ok(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function P4(e){if(e!==null&&(Pv=by(Pv,e)),e=Pv,Pv=null,e){if(jO(e,CY),Pv)throw Error(jn(95));if(P2)throw e=KS,P2=!1,KS=null,e}}function WO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function gD(e){if(!$m)return!1;e="on"+e;var n=e in document;return n||(n=document.createElement("div"),n.setAttribute(e,"return;"),n=typeof n[e]=="function"),n}var L2=[];function yD(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>L2.length&&L2.push(e)}function vD(e,n,t,r){if(L2.length){var i=L2.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=n,i.targetInst=t,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:n,targetInst:t,ancestors:[]}}function _D(e){var n=e.targetInst,t=n;do{if(!t){e.ancestors.push(t);break}var r=t;if(r.tag===3)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=r.tag!==3?null:r.stateNode.containerInfo}if(!r)break;n=t.tag,n!==5&&n!==6||e.ancestors.push(t),t=FC(r)}while(t);for(t=0;t<e.ancestors.length;t++){n=e.ancestors[t];var i=WO(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;t===0&&(s|=64);for(var a=null,h=0;h<D2.length;h++){var g=D2[h];g&&(g=g.extractEvents(r,n,o,i,s))&&(a=by(a,g))}P4(a)}}function NS(e,n,t){if(!t.has(e)){switch(e){case"scroll":r_(n,"scroll",!0);break;case"focus":case"blur":r_(n,"focus",!0),r_(n,"blur",!0),t.set("blur",null),t.set("focus",null);break;case"cancel":case"close":gD(e)&&r_(n,e,!0);break;case"invalid":case"submit":case"reset":break;default:n_.indexOf(e)===-1&&zs(e,n)}t.set(e,null)}}var CD,NO,bD,GS=!1,lf=[],Em=null,Om=null,Bm=null,Y_=new Map,q_=new Map,Fv=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),bY="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function xY(e,n){var t=zO(n);QS.forEach(function(r){NS(r,n,t)}),bY.forEach(function(r){NS(r,n,t)})}function $S(e,n,t,r,i){return{blockedOn:e,topLevelType:n,eventSystemFlags:t|32,nativeEvent:i,container:r}}function jk(e,n){switch(e){case"focus":case"blur":Em=null;break;case"dragenter":case"dragleave":Om=null;break;case"mouseover":case"mouseout":Bm=null;break;case"pointerover":case"pointerout":Y_.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":q_.delete(n.pointerId)}}function Dv(e,n,t,r,i,o){return e===null||e.nativeEvent!==o?(e=$S(n,t,r,i,o),n!==null&&(n=DC(n),n!==null&&NO(n)),e):(e.eventSystemFlags|=r,e)}function wY(e,n,t,r,i){switch(n){case"focus":return Em=Dv(Em,e,n,t,r,i),!0;case"dragenter":return Om=Dv(Om,e,n,t,r,i),!0;case"mouseover":return Bm=Dv(Bm,e,n,t,r,i),!0;case"pointerover":var o=i.pointerId;return Y_.set(o,Dv(Y_.get(o)||null,e,n,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,q_.set(o,Dv(q_.get(o)||null,e,n,t,r,i)),!0}return!1}function MY(e){var n=FC(e.target);if(n!==null){var t=v1(n);if(t!==null){if(n=t.tag,n===13){if(n=pD(t),n!==null){e.blockedOn=n,Eu.unstable_runWithPriority(e.priority,function(){bD(t)});return}}else if(n===3&&t.stateNode.hydrate){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function o2(e){if(e.blockedOn!==null)return!1;var n=$O(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(n!==null){var t=DC(n);return t!==null&&NO(t),e.blockedOn=n,!1}return!0}function Wk(e,n,t){o2(e)&&t.delete(n)}function SY(){for(GS=!1;0<lf.length;){var e=lf[0];if(e.blockedOn!==null){e=DC(e.blockedOn),e!==null&&CD(e);break}var n=$O(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);n!==null?e.blockedOn=n:lf.shift()}Em!==null&&o2(Em)&&(Em=null),Om!==null&&o2(Om)&&(Om=null),Bm!==null&&o2(Bm)&&(Bm=null),Y_.forEach(Wk),q_.forEach(Wk)}function Lv(e,n){e.blockedOn===n&&(e.blockedOn=null,GS||(GS=!0,Eu.unstable_scheduleCallback(Eu.unstable_NormalPriority,SY)))}function xD(e){function n(i){return Lv(i,e)}if(0<lf.length){Lv(lf[0],e);for(var t=1;t<lf.length;t++){var r=lf[t];r.blockedOn===e&&(r.blockedOn=null)}}for(Em!==null&&Lv(Em,e),Om!==null&&Lv(Om,e),Bm!==null&&Lv(Bm,e),Y_.forEach(n),q_.forEach(n),t=0;t<Fv.length;t++)r=Fv[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fv.length&&(t=Fv[0],t.blockedOn===null);)MY(t),t.blockedOn===null&&Fv.shift()}var wD={},MD=new Map,GO=new Map,EY=["abort","abort",cD,"animationEnd",dD,"animationIteration",hD,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",fD,"transitionEnd","waiting","waiting"];function QO(e,n){for(var t=0;t<e.length;t+=2){var r=e[t],i=e[t+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:n},GO.set(r,n),MD.set(r,o),wD[i]=o}}QO("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);QO("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);QO(EY,2);for(var Nk="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ww=0;Ww<Nk.length;Ww++)GO.set(Nk[Ww],0);var OY=Eu.unstable_UserBlockingPriority,BY=Eu.unstable_runWithPriority,a2=!0;function zs(e,n){r_(n,e,!1)}function r_(e,n,t){var r=GO.get(n);switch(r===void 0?2:r){case 0:r=kY.bind(null,n,1,e);break;case 1:r=IY.bind(null,n,1,e);break;default:r=F4.bind(null,n,1,e)}t?e.addEventListener(n,r,!0):e.addEventListener(n,r,!1)}function kY(e,n,t,r){L0||TO();var i=F4,o=L0;L0=!0;try{VF(i,e,n,t,r)}finally{(L0=o)||KO()}}function IY(e,n,t,r){BY(OY,F4.bind(null,e,n,t,r))}function F4(e,n,t,r){if(a2)if(0<lf.length&&-1<QS.indexOf(e))e=$S(null,e,n,t,r),lf.push(e);else{var i=$O(e,n,t,r);if(i===null)jk(e,r);else if(-1<QS.indexOf(e))e=$S(i,e,n,t,r),lf.push(e);else if(!wY(i,e,n,t,r)){jk(e,r),e=vD(e,r,null,n);try{ZF(_D,e)}finally{yD(e)}}}}function $O(e,n,t,r){if(t=WO(r),t=FC(t),t!==null){var i=v1(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=pD(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}e=vD(e,r,t,n);try{ZF(_D,e)}finally{yD(e)}return null}var __={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TY=["Webkit","ms","Moz","O"];Object.keys(__).forEach(function(e){TY.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),__[n]=__[e]})});function SD(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||__.hasOwnProperty(e)&&__[e]?(""+n).trim():n+"px"}function ED(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=SD(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var KY=CA({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function YS(e,n){if(n){if(KY[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(jn(137,e,""));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(jn(60));if(!(typeof n.dangerouslySetInnerHTML=="object"&&"__html"in n.dangerouslySetInnerHTML))throw Error(jn(61))}if(n.style!=null&&typeof n.style!="object")throw Error(jn(62,""))}}function qS(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gk=sD.html;function ip(e,n){e=e.nodeType===9||e.nodeType===11?e:e.ownerDocument;var t=zO(e);n=kO[n];for(var r=0;r<n.length;r++)NS(n[r],e,t)}function U2(){}function VS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $k(e,n){var t=Qk(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Qk(t)}}function OD(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?OD(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yk(){for(var e=window,n=VS();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=VS(e.document)}return n}function HS(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var BD="$",kD="/$",YO="$?",qO="$!",Nw=null,Gw=null;function ID(e,n){switch(e){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function ZS(e,n){return e==="textarea"||e==="option"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qw=typeof setTimeout=="function"?setTimeout:void 0,PY=typeof clearTimeout=="function"?clearTimeout:void 0;function Jg(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break}return e}function qk(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t===BD||t===qO||t===YO){if(n===0)return e;n--}else t===kD&&n++}e=e.previousSibling}return null}var VO=Math.random().toString(36).slice(2),pm="__reactInternalInstance$"+VO,R2="__reactEventHandlers$"+VO,PC="__reactContainere$"+VO;function FC(e){var n=e[pm];if(n)return n;for(var t=e.parentNode;t;){if(n=t[PC]||t[pm]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=qk(e);e!==null;){if(t=e[pm])return t;e=qk(e)}return n}e=t,t=e.parentNode}return null}function DC(e){return e=e[pm]||e[PC],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function o1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(jn(33))}function HO(e){return e[R2]||null}function op(e){do e=e.return;while(e&&e.tag!==5);return e||null}function TD(e,n){var t=e.stateNode;if(!t)return null;var r=BO(t);if(!r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(jn(231,n,typeof t));return t}function Vk(e,n,t){(n=TD(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=by(t._dispatchListeners,n),t._dispatchInstances=by(t._dispatchInstances,e))}function FY(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var n=e._targetInst,t=[];n;)t.push(n),n=op(n);for(n=t.length;0<n--;)Vk(t[n],"captured",e);for(n=0;n<t.length;n++)Vk(t[n],"bubbled",e)}}function XS(e,n,t){e&&t&&t.dispatchConfig.registrationName&&(n=TD(e,t.dispatchConfig.registrationName))&&(t._dispatchListeners=by(t._dispatchListeners,n),t._dispatchInstances=by(t._dispatchInstances,e))}function DY(e){e&&e.dispatchConfig.registrationName&&XS(e._targetInst,null,e)}function xy(e){jO(e,FY)}var mm=null,ZO=null,s2=null;function KD(){if(s2)return s2;var e,n=ZO,t=n.length,r,i="value"in mm?mm.value:mm.textContent,o=i.length;for(e=0;e<t&&n[e]===i[e];e++);var s=t-e;for(r=1;r<=s&&n[t-r]===i[o-r];r++);return s2=i.slice(e,1<r?1-r:void 0)}function l2(){return!0}function z2(){return!1}function zc(e,n,t,r){this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((n=e[i])?this[i]=n(t):i==="target"?this.target=r:this[i]=t[i]);return this.isDefaultPrevented=(t.defaultPrevented!=null?t.defaultPrevented:t.returnValue===!1)?l2:z2,this.isPropagationStopped=z2,this}CA(zc.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=l2)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=l2)},persist:function(){this.isPersistent=l2},isPersistent:z2,destructor:function(){var e=this.constructor.Interface,n;for(n in e)this[n]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=z2,this._dispatchInstances=this._dispatchListeners=null}});zc.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};zc.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var i=new n;return CA(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=CA({},r.Interface,e),t.extend=r.extend,PD(t),t};PD(zc);function LY(e,n,t,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,n,t,r),i}return new this(e,n,t,r)}function UY(e){if(!(e instanceof this))throw Error(jn(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function PD(e){e.eventPool=[],e.getPooled=LY,e.release=UY}var RY=zc.extend({data:null}),zY=zc.extend({data:null}),jY=[9,13,27,32],XO=$m&&"CompositionEvent"in window,C_=null;$m&&"documentMode"in document&&(C_=document.documentMode);var WY=$m&&"TextEvent"in window&&!C_,FD=$m&&(!XO||C_&&8<C_&&11>=C_),Hk=" ",Xf={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Zk=!1;function DD(e,n){switch(e){case"keyup":return jY.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function LD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dg=!1;function NY(e,n){switch(e){case"compositionend":return LD(n);case"keypress":return n.which!==32?null:(Zk=!0,Hk);case"textInput":return e=n.data,e===Hk&&Zk?null:e;default:return null}}function GY(e,n){if(Dg)return e==="compositionend"||!XO&&DD(e,n)?(e=KD(),s2=ZO=mm=null,Dg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return FD&&n.locale!=="ko"?null:n.data;default:return null}}var QY={eventTypes:Xf,extractEvents:function(e,n,t,r){var i;if(XO)e:{switch(e){case"compositionstart":var o=Xf.compositionStart;break e;case"compositionend":o=Xf.compositionEnd;break e;case"compositionupdate":o=Xf.compositionUpdate;break e}o=void 0}else Dg?DD(e,t)&&(o=Xf.compositionEnd):e==="keydown"&&t.keyCode===229&&(o=Xf.compositionStart);return o?(FD&&t.locale!=="ko"&&(Dg||o!==Xf.compositionStart?o===Xf.compositionEnd&&Dg&&(i=KD()):(mm=r,ZO="value"in mm?mm.value:mm.textContent,Dg=!0)),o=RY.getPooled(o,n,t,r),i?o.data=i:(i=LD(t),i!==null&&(o.data=i)),xy(o),i=o):i=null,(e=WY?NY(e,t):GY(e,t))?(n=zY.getPooled(Xf.beforeInput,n,t,r),n.data=e,xy(n)):n=null,i===null?n:n===null?i:[i,n]}},$Y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UD(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$Y[e.type]:n==="textarea"}var RD={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function zD(e,n,t){return e=zc.getPooled(RD.change,e,n,t),e.type="change",YF(t),xy(e),e}var b_=null,V_=null;function YY(e){P4(e)}function D4(e){var n=o1(e);if(iD(n))return e}function qY(e,n){if(e==="change")return n}var JS=!1;$m&&(JS=gD("input")&&(!document.documentMode||9<document.documentMode));function Xk(){b_&&(b_.detachEvent("onpropertychange",jD),V_=b_=null)}function jD(e){if(e.propertyName==="value"&&D4(V_))if(e=zD(V_,e,WO(e)),L0)P4(e);else{L0=!0;try{IO(YY,e)}finally{L0=!1,KO()}}}function VY(e,n,t){e==="focus"?(Xk(),b_=n,V_=t,b_.attachEvent("onpropertychange",jD)):e==="blur"&&Xk()}function HY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return D4(V_)}function ZY(e,n){if(e==="click")return D4(n)}function XY(e,n){if(e==="input"||e==="change")return D4(n)}var JY={eventTypes:RD,_isInputEventSupported:JS,extractEvents:function(e,n,t,r){var i=n?o1(n):window,o=i.nodeName&&i.nodeName.toLowerCase();if(o==="select"||o==="input"&&i.type==="file")var s=qY;else if(UD(i))if(JS)s=XY;else{s=HY;var a=VY}else(o=i.nodeName)&&o.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(s=ZY);if(s&&(s=s(e,n)))return zD(s,t,r);a&&a(e,i,n),e==="blur"&&(e=i._wrapperState)&&e.controlled&&i.type==="number"&&RS(i,"number",i.value)}},LC=zc.extend({view:null,detail:null}),eq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tq(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=eq[e])?!!n[e]:!1}function JO(){return tq}var Jk=0,eI=0,tI=!1,nI=!1,UC=LC.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:JO,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var n=Jk;return Jk=e.screenX,tI?e.type==="mousemove"?e.screenX-n:0:(tI=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var n=eI;return eI=e.screenY,nI?e.type==="mousemove"?e.screenY-n:0:(nI=!0,0)}}),WD=UC.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Uv={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},nq={eventTypes:Uv,extractEvents:function(e,n,t,r,i){var o=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout";if(o&&!(i&32)&&(t.relatedTarget||t.fromElement)||!s&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s){if(s=n,n=(n=t.relatedTarget||t.toElement)?FC(n):null,n!==null){var a=v1(n);(n!==a||n.tag!==5&&n.tag!==6)&&(n=null)}}else s=null;if(s===n)return null;if(e==="mouseout"||e==="mouseover")var h=UC,g=Uv.mouseLeave,C=Uv.mouseEnter,B="mouse";else(e==="pointerout"||e==="pointerover")&&(h=WD,g=Uv.pointerLeave,C=Uv.pointerEnter,B="pointer");if(e=s==null?o:o1(s),o=n==null?o:o1(n),g=h.getPooled(g,s,t,r),g.type=B+"leave",g.target=e,g.relatedTarget=o,t=h.getPooled(C,n,t,r),t.type=B+"enter",t.target=o,t.relatedTarget=e,r=s,B=n,r&&B)e:{for(h=r,C=B,s=0,e=h;e;e=op(e))s++;for(e=0,n=C;n;n=op(n))e++;for(;0<s-e;)h=op(h),s--;for(;0<e-s;)C=op(C),e--;for(;s--;){if(h===C||h===C.alternate)break e;h=op(h),C=op(C)}h=null}else h=null;for(C=h,h=[];r&&r!==C&&(s=r.alternate,!(s!==null&&s===C));)h.push(r),r=op(r);for(r=[];B&&B!==C&&(s=B.alternate,!(s!==null&&s===C));)r.push(B),B=op(B);for(B=0;B<h.length;B++)XS(h[B],"bubbled",g);for(B=r.length;0<B--;)XS(r[B],"captured",t);return i&64?[g,t]:[g]}};function rq(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var a1=typeof Object.is=="function"?Object.is:rq,iq=Object.prototype.hasOwnProperty;function H_(e,n){if(a1(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!iq.call(n,t[r])||!a1(e[t[r]],n[t[r]]))return!1;return!0}var oq=$m&&"documentMode"in document&&11>=document.documentMode,ND={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Lg=null,e6=null,x_=null,t6=!1;function rI(e,n){var t=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;return t6||Lg==null||Lg!==VS(t)?null:(t=Lg,"selectionStart"in t&&HS(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),x_&&H_(x_,t)?null:(x_=t,e=zc.getPooled(ND.select,e6,e,n),e.type="select",e.target=Lg,xy(e),e))}var aq={eventTypes:ND,extractEvents:function(e,n,t,r,i,o){if(i=o||(r.window===r?r.document:r.nodeType===9?r:r.ownerDocument),!(o=!i)){e:{i=zO(i),o=kO.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=n?o1(n):window,e){case"focus":(UD(i)||i.contentEditable==="true")&&(Lg=i,e6=n,x_=null);break;case"blur":x_=e6=Lg=null;break;case"mousedown":t6=!0;break;case"contextmenu":case"mouseup":case"dragend":return t6=!1,rI(t,r);case"selectionchange":if(oq)break;case"keydown":case"keyup":return rI(t,r)}return null}},sq=zc.extend({animationName:null,elapsedTime:null,pseudoElement:null}),lq=zc.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uq=LC.extend({relatedTarget:null});function u2(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}var Aq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dq=LC.extend({key:function(e){if(e.key){var n=Aq[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=u2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cq[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:JO,charCode:function(e){return e.type==="keypress"?u2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?u2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hq=UC.extend({dataTransfer:null}),fq=LC.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:JO}),pq=zc.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mq=UC.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gq={eventTypes:wD,extractEvents:function(e,n,t,r){var i=MD.get(e);if(!i)return null;switch(e){case"keypress":if(u2(t)===0)return null;case"keydown":case"keyup":e=dq;break;case"blur":case"focus":e=uq;break;case"click":if(t.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=UC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fq;break;case cD:case dD:case hD:e=sq;break;case fD:e=pq;break;case"scroll":e=LC;break;case"wheel":e=mq;break;case"copy":case"cut":case"paste":e=lq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=WD;break;default:e=zc}return n=e.getPooled(i,n,t,r),xy(n),n}};if(F2)throw Error(jn(101));F2=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));QF();var yq=DC;BO=HO;NF=yq;GF=o1;$F({SimpleEventPlugin:gq,EnterLeaveEventPlugin:nq,ChangeEventPlugin:JY,SelectEventPlugin:aq,BeforeInputEventPlugin:QY});var n6=[],Ug=-1;function Cs(e){0>Ug||(e.current=n6[Ug],n6[Ug]=null,Ug--)}function dl(e,n){Ug++,n6[Ug]=e.current,e.current=n}var jm={},Xu={current:jm},HA={current:!1},s1=jm;function wy(e,n){var t=e.type.contextTypes;if(!t)return jm;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=n[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function ZA(e){return e=e.childContextTypes,e!=null}function j2(){Cs(HA),Cs(Xu)}function iI(e,n,t){if(Xu.current!==jm)throw Error(jn(168));dl(Xu,n),dl(HA,t)}function GD(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(jn(108,bp(n)||"Unknown",i));return CA({},t,{},r)}function A2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jm,s1=Xu.current,dl(Xu,e),dl(HA,HA.current),!0}function oI(e,n,t){var r=e.stateNode;if(!r)throw Error(jn(169));t?(e=GD(e,n,s1),r.__reactInternalMemoizedMergedChildContext=e,Cs(HA),Cs(Xu),dl(Xu,e)):Cs(HA),dl(HA,t)}var vq=Eu.unstable_runWithPriority,eB=Eu.unstable_scheduleCallback,QD=Eu.unstable_cancelCallback,aI=Eu.unstable_requestPaint,r6=Eu.unstable_now,_q=Eu.unstable_getCurrentPriorityLevel,L4=Eu.unstable_ImmediatePriority,$D=Eu.unstable_UserBlockingPriority,YD=Eu.unstable_NormalPriority,qD=Eu.unstable_LowPriority,VD=Eu.unstable_IdlePriority,HD={},Cq=Eu.unstable_shouldYield,bq=aI!==void 0?aI:function(){},dp=null,c2=null,$w=!1,sI=r6(),md=1e4>sI?r6:function(){return r6()-sI};function U4(){switch(_q()){case L4:return 99;case $D:return 98;case YD:return 97;case qD:return 96;case VD:return 95;default:throw Error(jn(332))}}function ZD(e){switch(e){case 99:return L4;case 98:return $D;case 97:return YD;case 96:return qD;case 95:return VD;default:throw Error(jn(332))}}function Wm(e,n){return e=ZD(e),vq(e,n)}function XD(e,n,t){return e=ZD(e),eB(e,n,t)}function lI(e){return dp===null?(dp=[e],c2=eB(L4,JD)):dp.push(e),HD}function Mf(){if(c2!==null){var e=c2;c2=null,QD(e)}JD()}function JD(){if(!$w&&dp!==null){$w=!0;var e=0;try{var n=dp;Wm(99,function(){for(;e<n.length;e++){var t=n[e];do t=t(!0);while(t!==null)}}),dp=null}catch(t){throw dp!==null&&(dp=dp.slice(e+1)),eB(L4,Mf),t}finally{$w=!1}}}function d2(e,n,t){return t/=10,1073741821-(((1073741821-e+n/10)/t|0)+1)*t}function oh(e,n){if(e&&e.defaultProps){n=CA({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t])}return n}var W2={current:null},N2=null,Rg=null,G2=null;function tB(){G2=Rg=N2=null}function nB(e){var n=W2.current;Cs(W2),e.type._context._currentValue=n}function eL(e,n){for(;e!==null;){var t=e.alternate;if(e.childExpirationTime<n)e.childExpirationTime=n,t!==null&&t.childExpirationTime<n&&(t.childExpirationTime=n);else if(t!==null&&t.childExpirationTime<n)t.childExpirationTime=n;else break;e=e.return}}function ey(e,n){N2=e,G2=Rg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.expirationTime>=n&&(uf=!0),e.firstContext=null)}function bd(e,n){if(G2!==e&&n!==!1&&n!==0)if((typeof n!="number"||n===1073741823)&&(G2=e,n=1073741823),n={context:e,observedBits:n,next:null},Rg===null){if(N2===null)throw Error(jn(308));Rg=n,N2.dependencies={expirationTime:0,firstContext:n,responders:null}}else Rg=Rg.next=n;return e._currentValue}var sm=!1;function rB(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function iB(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function km(e,n){return e={expirationTime:e,suspenseConfig:n,tag:0,payload:null,callback:null,next:null},e.next=e}function Im(e,n){if(e=e.updateQueue,e!==null){e=e.shared;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function uI(e,n){var t=e.alternate;t!==null&&iB(t,e),e=e.updateQueue,t=e.baseQueue,t===null?(e.baseQueue=n.next=n,n.next=n):(n.next=t.next,t.next=n)}function Z_(e,n,t,r){var i=e.updateQueue;sm=!1;var o=i.baseQueue,s=i.shared.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}o=s,i.shared.pending=null,a=e.alternate,a!==null&&(a=a.updateQueue,a!==null&&(a.baseQueue=s))}if(o!==null){a=o.next;var h=i.baseState,g=0,C=null,B=null,k=null;if(a!==null){var P=a;do{if(s=P.expirationTime,s<r){var U={expirationTime:P.expirationTime,suspenseConfig:P.suspenseConfig,tag:P.tag,payload:P.payload,callback:P.callback,next:null};k===null?(B=k=U,C=h):k=k.next=U,s>g&&(g=s)}else{k!==null&&(k=k.next={expirationTime:1073741823,suspenseConfig:P.suspenseConfig,tag:P.tag,payload:P.payload,callback:P.callback,next:null}),kL(s,P.suspenseConfig);e:{var Z=e,W=P;switch(s=n,U=t,W.tag){case 1:if(Z=W.payload,typeof Z=="function"){h=Z.call(U,h,s);break e}h=Z;break e;case 3:Z.effectTag=Z.effectTag&-4097|64;case 0:if(Z=W.payload,s=typeof Z=="function"?Z.call(U,h,s):Z,s==null)break e;h=CA({},h,s);break e;case 2:sm=!0}}P.callback!==null&&(e.effectTag|=32,s=i.effects,s===null?i.effects=[P]:s.push(P))}if(P=P.next,P===null||P===a){if(s=i.shared.pending,s===null)break;P=o.next=s.next,s.next=a,i.baseQueue=o=s,i.shared.pending=null}}while(!0)}k===null?C=h:k.next=B,i.baseState=C,i.baseQueue=k,N4(g),e.expirationTime=g,e.memoizedState=h}}function AI(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=i,i=t,typeof r!="function")throw Error(jn(191,r));r.call(i)}}}var w_=uh.ReactCurrentBatchConfig,tL=new T4.Component().refs;function Q2(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:CA({},n,t),e.memoizedState=t,e.expirationTime===0&&(e.updateQueue.baseState=t)}var R4={isMounted:function(e){return(e=e._reactInternalFiber)?v1(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternalFiber;var r=ff(),i=w_.suspense;r=H0(r,e,i),i=km(r,i),i.payload=n,t!=null&&(i.callback=t),Im(e,i),Km(e,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternalFiber;var r=ff(),i=w_.suspense;r=H0(r,e,i),i=km(r,i),i.tag=1,i.payload=n,t!=null&&(i.callback=t),Im(e,i),Km(e,r)},enqueueForceUpdate:function(e,n){e=e._reactInternalFiber;var t=ff(),r=w_.suspense;t=H0(t,e,r),r=km(t,r),r.tag=2,n!=null&&(r.callback=n),Im(e,r),Km(e,t)}};function cI(e,n,t,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):n.prototype&&n.prototype.isPureReactComponent?!H_(t,r)||!H_(i,o):!0}function nL(e,n,t){var r=!1,i=jm,o=n.contextType;return typeof o=="object"&&o!==null?o=bd(o):(i=ZA(n)?s1:Xu.current,r=n.contextTypes,o=(r=r!=null)?wy(e,i):jm),n=new n(t,o),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=R4,e.stateNode=n,n._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),n}function dI(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&R4.enqueueReplaceState(n,n.state,null)}function i6(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=tL,rB(e);var o=n.contextType;typeof o=="object"&&o!==null?i.context=bd(o):(o=ZA(n)?s1:Xu.current,i.context=wy(e,o)),Z_(e,t,i,r),i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Q2(e,n,o,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&R4.enqueueReplaceState(i,i.state,null),Z_(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.effectTag|=4)}var cx=Array.isArray;function Rv(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(jn(309));var r=t.stateNode}if(!r)throw Error(jn(147,e));var i=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(o){var s=r.refs;s===tL&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},n._stringRef=i,n)}if(typeof e!="string")throw Error(jn(284));if(!t._owner)throw Error(jn(290,e))}return e}function dx(e,n){if(e.type!=="textarea")throw Error(jn(31,Object.prototype.toString.call(n)==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":n,""))}function rL(e){function n(W,Q){if(e){var q=W.lastEffect;q!==null?(q.nextEffect=Q,W.lastEffect=Q):W.firstEffect=W.lastEffect=Q,Q.nextEffect=null,Q.effectTag=8}}function t(W,Q){if(!e)return null;for(;Q!==null;)n(W,Q),Q=Q.sibling;return null}function r(W,Q){for(W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function i(W,Q){return W=l1(W,Q),W.index=0,W.sibling=null,W}function o(W,Q,q){return W.index=q,e?(q=W.alternate,q!==null?(q=q.index,q<Q?(W.effectTag=2,Q):q):(W.effectTag=2,Q)):Q}function s(W){return e&&W.alternate===null&&(W.effectTag=2),W}function a(W,Q,q,oe){return Q===null||Q.tag!==6?(Q=Xw(q,W.mode,oe),Q.return=W,Q):(Q=i(Q,q),Q.return=W,Q)}function h(W,Q,q,oe){return Q!==null&&Q.elementType===q.type?(oe=i(Q,q.props),oe.ref=Rv(W,Q,q),oe.return=W,oe):(oe=m2(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Rv(W,Q,q),oe.return=W,oe)}function g(W,Q,q,oe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==q.containerInfo||Q.stateNode.implementation!==q.implementation?(Q=Jw(q,W.mode,oe),Q.return=W,Q):(Q=i(Q,q.children||[]),Q.return=W,Q)}function C(W,Q,q,oe,re){return Q===null||Q.tag!==7?(Q=vm(q,W.mode,oe,re),Q.return=W,Q):(Q=i(Q,q),Q.return=W,Q)}function B(W,Q,q){if(typeof Q=="string"||typeof Q=="number")return Q=Xw(""+Q,W.mode,q),Q.return=W,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case sx:return q=m2(Q.type,Q.key,Q.props,null,W.mode,q),q.ref=Rv(W,null,Q),q.return=W,q;case Pg:return Q=Jw(Q,W.mode,q),Q.return=W,Q}if(cx(Q)||Kv(Q))return Q=vm(Q,W.mode,q,null),Q.return=W,Q;dx(W,Q)}return null}function k(W,Q,q,oe){var re=Q!==null?Q.key:null;if(typeof q=="string"||typeof q=="number")return re!==null?null:a(W,Q,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case sx:return q.key===re?q.type===I0?C(W,Q,q.props.children,oe,re):h(W,Q,q,oe):null;case Pg:return q.key===re?g(W,Q,q,oe):null}if(cx(q)||Kv(q))return re!==null?null:C(W,Q,q,oe,null);dx(W,q)}return null}function P(W,Q,q,oe,re){if(typeof oe=="string"||typeof oe=="number")return W=W.get(q)||null,a(Q,W,""+oe,re);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case sx:return W=W.get(oe.key===null?q:oe.key)||null,oe.type===I0?C(Q,W,oe.props.children,re,oe.key):h(Q,W,oe,re);case Pg:return W=W.get(oe.key===null?q:oe.key)||null,g(Q,W,oe,re)}if(cx(oe)||Kv(oe))return W=W.get(q)||null,C(Q,W,oe,re,null);dx(Q,oe)}return null}function U(W,Q,q,oe){for(var re=null,Ae=null,ae=Q,se=Q=0,ye=null;ae!==null&&se<q.length;se++){ae.index>se?(ye=ae,ae=null):ye=ae.sibling;var De=k(W,ae,q[se],oe);if(De===null){ae===null&&(ae=ye);break}e&&ae&&De.alternate===null&&n(W,ae),Q=o(De,Q,se),Ae===null?re=De:Ae.sibling=De,Ae=De,ae=ye}if(se===q.length)return t(W,ae),re;if(ae===null){for(;se<q.length;se++)ae=B(W,q[se],oe),ae!==null&&(Q=o(ae,Q,se),Ae===null?re=ae:Ae.sibling=ae,Ae=ae);return re}for(ae=r(W,ae);se<q.length;se++)ye=P(ae,W,se,q[se],oe),ye!==null&&(e&&ye.alternate!==null&&ae.delete(ye.key===null?se:ye.key),Q=o(ye,Q,se),Ae===null?re=ye:Ae.sibling=ye,Ae=ye);return e&&ae.forEach(function(Ne){return n(W,Ne)}),re}function Z(W,Q,q,oe){var re=Kv(q);if(typeof re!="function")throw Error(jn(150));if(q=re.call(q),q==null)throw Error(jn(151));for(var Ae=re=null,ae=Q,se=Q=0,ye=null,De=q.next();ae!==null&&!De.done;se++,De=q.next()){ae.index>se?(ye=ae,ae=null):ye=ae.sibling;var Ne=k(W,ae,De.value,oe);if(Ne===null){ae===null&&(ae=ye);break}e&&ae&&Ne.alternate===null&&n(W,ae),Q=o(Ne,Q,se),Ae===null?re=Ne:Ae.sibling=Ne,Ae=Ne,ae=ye}if(De.done)return t(W,ae),re;if(ae===null){for(;!De.done;se++,De=q.next())De=B(W,De.value,oe),De!==null&&(Q=o(De,Q,se),Ae===null?re=De:Ae.sibling=De,Ae=De);return re}for(ae=r(W,ae);!De.done;se++,De=q.next())De=P(ae,W,se,De.value,oe),De!==null&&(e&&De.alternate!==null&&ae.delete(De.key===null?se:De.key),Q=o(De,Q,se),Ae===null?re=De:Ae.sibling=De,Ae=De);return e&&ae.forEach(function(et){return n(W,et)}),re}return function(W,Q,q,oe){var re=typeof q=="object"&&q!==null&&q.type===I0&&q.key===null;re&&(q=q.props.children);var Ae=typeof q=="object"&&q!==null;if(Ae)switch(q.$$typeof){case sx:e:{for(Ae=q.key,re=Q;re!==null;){if(re.key===Ae){switch(re.tag){case 7:if(q.type===I0){t(W,re.sibling),Q=i(re,q.props.children),Q.return=W,W=Q;break e}break;default:if(re.elementType===q.type){t(W,re.sibling),Q=i(re,q.props),Q.ref=Rv(W,re,q),Q.return=W,W=Q;break e}}t(W,re);break}else n(W,re);re=re.sibling}q.type===I0?(Q=vm(q.props.children,W.mode,oe,q.key),Q.return=W,W=Q):(oe=m2(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Rv(W,Q,q),oe.return=W,W=oe)}return s(W);case Pg:e:{for(re=q.key;Q!==null;){if(Q.key===re)if(Q.tag===4&&Q.stateNode.containerInfo===q.containerInfo&&Q.stateNode.implementation===q.implementation){t(W,Q.sibling),Q=i(Q,q.children||[]),Q.return=W,W=Q;break e}else{t(W,Q);break}else n(W,Q);Q=Q.sibling}Q=Jw(q,W.mode,oe),Q.return=W,W=Q}return s(W)}if(typeof q=="string"||typeof q=="number")return q=""+q,Q!==null&&Q.tag===6?(t(W,Q.sibling),Q=i(Q,q),Q.return=W,W=Q):(t(W,Q),Q=Xw(q,W.mode,oe),Q.return=W,W=Q),s(W);if(cx(q))return U(W,Q,q,oe);if(Kv(q))return Z(W,Q,q,oe);if(Ae&&dx(W,q),typeof q>"u"&&!re)switch(W.tag){case 1:case 0:throw W=W.type,Error(jn(152,W.displayName||W.name||"Component"))}return t(W,Q)}}var My=rL(!0),oB=rL(!1),RC={},hf={current:RC},X_={current:RC},J_={current:RC};function U0(e){if(e===RC)throw Error(jn(174));return e}function o6(e,n){switch(dl(J_,n),dl(X_,e),dl(hf,RC),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:WS(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=WS(n,e)}Cs(hf),dl(hf,n)}function Sy(){Cs(hf),Cs(X_),Cs(J_)}function hI(e){U0(J_.current);var n=U0(hf.current),t=WS(n,e.type);n!==t&&(dl(X_,e),dl(hf,t))}function aB(e){X_.current===e&&(Cs(hf),Cs(X_))}var tl={current:0};function $2(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data===YO||t.data===qO))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.effectTag&64)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sB(e,n){return{responder:e,props:n}}var h2=uh.ReactCurrentDispatcher,vd=uh.ReactCurrentBatchConfig,gm=0,Nl=null,Hu=null,Zu=null,Y2=!1;function Oc(){throw Error(jn(321))}function lB(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!a1(e[t],n[t]))return!1;return!0}function uB(e,n,t,r,i,o){if(gm=o,Nl=n,n.memoizedState=null,n.updateQueue=null,n.expirationTime=0,h2.current=e===null||e.memoizedState===null?xq:wq,e=t(r,i),n.expirationTime===gm){o=0;do{if(n.expirationTime=0,!(25>o))throw Error(jn(301));o+=1,Zu=Hu=null,n.updateQueue=null,h2.current=Mq,e=t(r,i)}while(n.expirationTime===gm)}if(h2.current=H2,n=Hu!==null&&Hu.next!==null,gm=0,Zu=Hu=Nl=null,Y2=!1,n)throw Error(jn(300));return e}function ty(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zu===null?Nl.memoizedState=Zu=e:Zu=Zu.next=e,Zu}function Ry(){if(Hu===null){var e=Nl.alternate;e=e!==null?e.memoizedState:null}else e=Hu.next;var n=Zu===null?Nl.memoizedState:Zu.next;if(n!==null)Zu=n,Hu=e;else{if(e===null)throw Error(jn(310));Hu=e,e={memoizedState:Hu.memoizedState,baseState:Hu.baseState,baseQueue:Hu.baseQueue,queue:Hu.queue,next:null},Zu===null?Nl.memoizedState=Zu=e:Zu=Zu.next=e}return Zu}function Y0(e,n){return typeof n=="function"?n(e):n}function hx(e){var n=Ry(),t=n.queue;if(t===null)throw Error(jn(311));t.lastRenderedReducer=e;var r=Hu,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,h=i;do{var g=h.expirationTime;if(g<gm){var C={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};a===null?(s=a=C,o=r):a=a.next=C,g>Nl.expirationTime&&(Nl.expirationTime=g,N4(g))}else a!==null&&(a=a.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),kL(g,h.suspenseConfig),r=h.eagerReducer===e?h.eagerState:e(r,h.action);h=h.next}while(h!==null&&h!==i);a===null?o=r:a.next=s,a1(r,n.memoizedState)||(uf=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=a,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function fx(e){var n=Ry(),t=n.queue;if(t===null)throw Error(jn(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,o=n.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);a1(o,n.memoizedState)||(uf=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function Yw(e){var n=ty();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:e},e=e.dispatch=uL.bind(null,Nl,e),[n.memoizedState,e]}function a6(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=Nl.updateQueue,n===null?(n={lastEffect:null},Nl.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function iL(){return Ry().memoizedState}function s6(e,n,t,r){var i=ty();Nl.effectTag|=e,i.memoizedState=a6(1|n,t,void 0,r===void 0?null:r)}function AB(e,n,t,r){var i=Ry();r=r===void 0?null:r;var o=void 0;if(Hu!==null){var s=Hu.memoizedState;if(o=s.destroy,r!==null&&lB(r,s.deps)){a6(n,t,o,r);return}}Nl.effectTag|=e,i.memoizedState=a6(1|n,t,o,r)}function fI(e,n){return s6(516,4,e,n)}function q2(e,n){return AB(516,4,e,n)}function oL(e,n){return AB(4,2,e,n)}function aL(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sL(e,n,t){return t=t!=null?t.concat([e]):null,AB(4,2,aL.bind(null,n,e),t)}function cB(){}function pI(e,n){return ty().memoizedState=[e,n===void 0?null:n],e}function V2(e,n){var t=Ry();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&lB(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function lL(e,n){var t=Ry();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&lB(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function dB(e,n,t){var r=U4();Wm(98>r?98:r,function(){e(!0)}),Wm(97<r?97:r,function(){var i=vd.suspense;vd.suspense=n===void 0?null:n;try{e(!1),t()}finally{vd.suspense=i}})}function uL(e,n,t){var r=ff(),i=w_.suspense;r=H0(r,e,i),i={expirationTime:r,suspenseConfig:i,action:t,eagerReducer:null,eagerState:null,next:null};var o=n.pending;if(o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i,o=e.alternate,e===Nl||o!==null&&o===Nl)Y2=!0,i.expirationTime=gm,Nl.expirationTime=gm;else{if(e.expirationTime===0&&(o===null||o.expirationTime===0)&&(o=n.lastRenderedReducer,o!==null))try{var s=n.lastRenderedState,a=o(s,t);if(i.eagerReducer=o,i.eagerState=a,a1(a,s))return}catch{}finally{}Km(e,r)}}var H2={readContext:bd,useCallback:Oc,useContext:Oc,useEffect:Oc,useImperativeHandle:Oc,useLayoutEffect:Oc,useMemo:Oc,useReducer:Oc,useRef:Oc,useState:Oc,useDebugValue:Oc,useResponder:Oc,useDeferredValue:Oc,useTransition:Oc},xq={readContext:bd,useCallback:pI,useContext:bd,useEffect:fI,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,s6(4,2,aL.bind(null,n,e),t)},useLayoutEffect:function(e,n){return s6(4,2,e,n)},useMemo:function(e,n){var t=ty();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=ty();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},e=e.dispatch=uL.bind(null,Nl,e),[r.memoizedState,e]},useRef:function(e){var n=ty();return e={current:e},n.memoizedState=e},useState:Yw,useDebugValue:cB,useResponder:sB,useDeferredValue:function(e,n){var t=Yw(e),r=t[0],i=t[1];return fI(function(){var o=vd.suspense;vd.suspense=n===void 0?null:n;try{i(e)}finally{vd.suspense=o}},[e,n]),r},useTransition:function(e){var n=Yw(!1),t=n[0];return n=n[1],[pI(dB.bind(null,n,e),[n,e]),t]}},wq={readContext:bd,useCallback:V2,useContext:bd,useEffect:q2,useImperativeHandle:sL,useLayoutEffect:oL,useMemo:lL,useReducer:hx,useRef:iL,useState:function(){return hx(Y0)},useDebugValue:cB,useResponder:sB,useDeferredValue:function(e,n){var t=hx(Y0),r=t[0],i=t[1];return q2(function(){var o=vd.suspense;vd.suspense=n===void 0?null:n;try{i(e)}finally{vd.suspense=o}},[e,n]),r},useTransition:function(e){var n=hx(Y0),t=n[0];return n=n[1],[V2(dB.bind(null,n,e),[n,e]),t]}},Mq={readContext:bd,useCallback:V2,useContext:bd,useEffect:q2,useImperativeHandle:sL,useLayoutEffect:oL,useMemo:lL,useReducer:fx,useRef:iL,useState:function(){return fx(Y0)},useDebugValue:cB,useResponder:sB,useDeferredValue:function(e,n){var t=fx(Y0),r=t[0],i=t[1];return q2(function(){var o=vd.suspense;vd.suspense=n===void 0?null:n;try{i(e)}finally{vd.suspense=o}},[e,n]),r},useTransition:function(e){var n=fx(Y0),t=n[0];return n=n[1],[V2(dB.bind(null,n,e),[n,e]),t]}},_p=null,ym=null,q0=!1;function AL(e,n){var t=Af(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=n,t.return=e,t.effectTag=8,e.lastEffect!==null?(e.lastEffect.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t}function mI(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,!0):!1;case 13:return!1;default:return!1}}function l6(e){if(q0){var n=ym;if(n){var t=n;if(!mI(e,n)){if(n=Jg(t.nextSibling),!n||!mI(e,n)){e.effectTag=e.effectTag&-1025|2,q0=!1,_p=e;return}AL(_p,t)}_p=e,ym=Jg(n.firstChild)}else e.effectTag=e.effectTag&-1025|2,q0=!1,_p=e}}function gI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_p=e}function px(e){if(e!==_p)return!1;if(!q0)return gI(e),q0=!0,!1;var n=e.type;if(e.tag!==5||n!=="head"&&n!=="body"&&!ZS(n,e.memoizedProps))for(n=ym;n;)AL(e,n),n=Jg(n.nextSibling);if(gI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(jn(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t===kD){if(n===0){ym=Jg(e.nextSibling);break e}n--}else t!==BD&&t!==qO&&t!==YO||n++}e=e.nextSibling}ym=null}}else ym=_p?Jg(e.stateNode.nextSibling):null;return!0}function qw(){ym=_p=null,q0=!1}var Sq=uh.ReactCurrentOwner,uf=!1;function kc(e,n,t,r){n.child=e===null?oB(n,null,t,r):My(n,e.child,t,r)}function yI(e,n,t,r,i){t=t.render;var o=n.ref;return ey(n,i),r=uB(e,n,t,r,o,i),e!==null&&!uf?(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Cp(e,n,i)):(n.effectTag|=1,kc(e,n,r,i),n.child)}function vI(e,n,t,r,i,o){if(e===null){var s=t.type;return typeof s=="function"&&!gB(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=s,cL(e,n,s,r,i,o)):(e=m2(t.type,null,r,null,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}return s=e.child,i<o&&(i=s.memoizedProps,t=t.compare,t=t!==null?t:H_,t(i,r)&&e.ref===n.ref)?Cp(e,n,o):(n.effectTag|=1,e=l1(s,r),e.ref=n.ref,e.return=n,n.child=e)}function cL(e,n,t,r,i,o){return e!==null&&H_(e.memoizedProps,r)&&e.ref===n.ref&&(uf=!1,i<o)?(n.expirationTime=e.expirationTime,Cp(e,n,o)):u6(e,n,t,r,o)}function dL(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.effectTag|=128)}function u6(e,n,t,r,i){var o=ZA(t)?s1:Xu.current;return o=wy(n,o),ey(n,i),t=uB(e,n,t,r,o,i),e!==null&&!uf?(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Cp(e,n,i)):(n.effectTag|=1,kc(e,n,t,i),n.child)}function _I(e,n,t,r,i){if(ZA(t)){var o=!0;A2(n)}else o=!1;if(ey(n,i),n.stateNode===null)e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),nL(n,t,r),i6(n,t,r,i),r=!0;else if(e===null){var s=n.stateNode,a=n.memoizedProps;s.props=a;var h=s.context,g=t.contextType;typeof g=="object"&&g!==null?g=bd(g):(g=ZA(t)?s1:Xu.current,g=wy(n,g));var C=t.getDerivedStateFromProps,B=typeof C=="function"||typeof s.getSnapshotBeforeUpdate=="function";B||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||h!==g)&&dI(n,s,r,g),sm=!1;var k=n.memoizedState;s.state=k,Z_(n,r,s,i),h=n.memoizedState,a!==r||k!==h||HA.current||sm?(typeof C=="function"&&(Q2(n,t,C,r),h=n.memoizedState),(a=sm||cI(n,t,a,r,k,h,g))?(B||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(n.effectTag|=4)):(typeof s.componentDidMount=="function"&&(n.effectTag|=4),n.memoizedProps=r,n.memoizedState=h),s.props=r,s.state=h,s.context=g,r=a):(typeof s.componentDidMount=="function"&&(n.effectTag|=4),r=!1)}else s=n.stateNode,iB(e,n),a=n.memoizedProps,s.props=n.type===n.elementType?a:oh(n.type,a),h=s.context,g=t.contextType,typeof g=="object"&&g!==null?g=bd(g):(g=ZA(t)?s1:Xu.current,g=wy(n,g)),C=t.getDerivedStateFromProps,(B=typeof C=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||h!==g)&&dI(n,s,r,g),sm=!1,h=n.memoizedState,s.state=h,Z_(n,r,s,i),k=n.memoizedState,a!==r||h!==k||HA.current||sm?(typeof C=="function"&&(Q2(n,t,C,r),k=n.memoizedState),(C=sm||cI(n,t,a,r,h,k,g))?(B||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,g),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,g)),typeof s.componentDidUpdate=="function"&&(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(n.effectTag|=256)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(n.effectTag|=256),n.memoizedProps=r,n.memoizedState=k),s.props=r,s.state=k,s.context=g,r=C):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(n.effectTag|=256),r=!1);return A6(e,n,t,r,o,i)}function A6(e,n,t,r,i,o){dL(e,n);var s=(n.effectTag&64)!==0;if(!r&&!s)return i&&oI(n,t,!1),Cp(e,n,o);r=n.stateNode,Sq.current=n;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.effectTag|=1,e!==null&&s?(n.child=My(n,e.child,null,o),n.child=My(n,null,a,o)):kc(e,n,a,o),n.memoizedState=r.state,i&&oI(n,t,!0),n.child}function CI(e){var n=e.stateNode;n.pendingContext?iI(e,n.pendingContext,n.pendingContext!==n.context):n.context&&iI(e,n.context,!1),o6(e,n.containerInfo)}var Vw={dehydrated:null,retryTime:0};function bI(e,n,t){var r=n.mode,i=n.pendingProps,o=tl.current,s=!1,a;if((a=(n.effectTag&64)!==0)||(a=(o&2)!==0&&(e===null||e.memoizedState!==null)),a?(s=!0,n.effectTag&=-65):e!==null&&e.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(o|=1),dl(tl,o&1),e===null){if(i.fallback!==void 0&&l6(n),s){if(s=i.fallback,i=vm(null,r,0,null),i.return=n,!(n.mode&2))for(e=n.memoizedState!==null?n.child.child:n.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return t=vm(s,r,t,null),t.return=n,i.sibling=t,n.memoizedState=Vw,n.child=i,t}return r=i.children,n.memoizedState=null,n.child=oB(n,null,r,t)}if(e.memoizedState!==null){if(e=e.child,r=e.sibling,s){if(i=i.fallback,t=l1(e,e.pendingProps),t.return=n,!(n.mode&2)&&(s=n.memoizedState!==null?n.child.child:n.child,s!==e.child))for(t.child=s;s!==null;)s.return=t,s=s.sibling;return r=l1(r,i),r.return=n,t.sibling=r,t.childExpirationTime=0,n.memoizedState=Vw,n.child=t,r}return t=My(n,e.child,i.children,t),n.memoizedState=null,n.child=t}if(e=e.child,s){if(s=i.fallback,i=vm(null,r,0,null),i.return=n,i.child=e,e!==null&&(e.return=i),!(n.mode&2))for(e=n.memoizedState!==null?n.child.child:n.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return t=vm(s,r,t,null),t.return=n,i.sibling=t,t.effectTag|=2,i.childExpirationTime=0,n.memoizedState=Vw,n.child=i,t}return n.memoizedState=null,n.child=My(n,e,i.children,t)}function xI(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;t!==null&&t.expirationTime<n&&(t.expirationTime=n),eL(e.return,n)}function Hw(e,n,t,r,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function wI(e,n,t){var r=n.pendingProps,i=r.revealOrder,o=r.tail;if(kc(e,n,r.children,t),r=tl.current,r&2)r=r&1|2,n.effectTag|=64;else{if(e!==null&&e.effectTag&64)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xI(e,t);else if(e.tag===19)xI(e,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dl(tl,r),!(n.mode&2))n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&$2(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Hw(n,!1,i,t,o,n.lastEffect);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&$2(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Hw(n,!0,t,null,o,n.lastEffect);break;case"together":Hw(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function Cp(e,n,t){e!==null&&(n.dependencies=e.dependencies);var r=n.expirationTime;if(r!==0&&N4(r),n.childExpirationTime<t)return null;if(e!==null&&n.child!==e.child)throw Error(jn(153));if(n.child!==null){for(e=n.child,t=l1(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=l1(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}var hL,c6,fL,pL;hL=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};c6=function(){};fL=function(e,n,t,r,i){var o=e.memoizedProps;if(o!==r){var s=n.stateNode;switch(U0(hf.current),e=null,t){case"input":o=LS(s,o),r=LS(s,r),e=[];break;case"option":o=zS(s,o),r=zS(s,r),e=[];break;case"select":o=CA({},o,{value:void 0}),r=CA({},r,{value:void 0}),e=[];break;case"textarea":o=jS(s,o),r=jS(s,r),e=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(s.onclick=U2)}YS(t,r);var a,h;t=null;for(a in o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&o[a]!=null)if(a==="style")for(h in s=o[a],s)s.hasOwnProperty(h)&&(t||(t={}),t[h]="");else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cy.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var g=r[a];if(s=o!=null?o[a]:void 0,r.hasOwnProperty(a)&&g!==s&&(g!=null||s!=null))if(a==="style")if(s){for(h in s)!s.hasOwnProperty(h)||g&&g.hasOwnProperty(h)||(t||(t={}),t[h]="");for(h in g)g.hasOwnProperty(h)&&s[h]!==g[h]&&(t||(t={}),t[h]=g[h])}else t||(e||(e=[]),e.push(a,t)),t=g;else a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,s=s?s.__html:void 0,g!=null&&s!==g&&(e=e||[]).push(a,g)):a==="children"?s===g||typeof g!="string"&&typeof g!="number"||(e=e||[]).push(a,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Cy.hasOwnProperty(a)?(g!=null&&ip(i,a),e||s===g||(e=[])):(e=e||[]).push(a,g))}t&&(e=e||[]).push("style",t),i=e,(n.updateQueue=i)&&(n.effectTag|=4)}};pL=function(e,n,t,r){t!==r&&(n.effectTag|=4)};function mx(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Eq(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ZA(n.type)&&j2(),null;case 3:return Sy(),Cs(HA),Cs(Xu),t=n.stateNode,t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),e!==null&&e.child!==null||!px(n)||(n.effectTag|=4),c6(n),null;case 5:aB(n),t=U0(J_.current);var i=n.type;if(e!==null&&n.stateNode!=null)fL(e,n,i,r,t),e.ref!==n.ref&&(n.effectTag|=128);else{if(!r){if(n.stateNode===null)throw Error(jn(166));return null}if(e=U0(hf.current),px(n)){r=n.stateNode,i=n.type;var o=n.memoizedProps;switch(r[pm]=n,r[R2]=o,i){case"iframe":case"object":case"embed":zs("load",r);break;case"video":case"audio":for(e=0;e<n_.length;e++)zs(n_[e],r);break;case"source":zs("error",r);break;case"img":case"image":case"link":zs("error",r),zs("load",r);break;case"form":zs("reset",r),zs("submit",r);break;case"details":zs("toggle",r);break;case"input":Fk(r,o),zs("invalid",r),ip(t,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zs("invalid",r),ip(t,"onChange");break;case"textarea":Lk(r,o),zs("invalid",r),ip(t,"onChange")}YS(i,o),e=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(e=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(e=["children",""+a]):Cy.hasOwnProperty(s)&&a!=null&&ip(t,s)}switch(i){case"input":lx(r),Dk(r,o,!0);break;case"textarea":lx(r),Uk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=U2)}t=e,n.updateQueue=t,t!==null&&(n.effectTag|=4)}else{switch(s=t.nodeType===9?t:t.ownerDocument,e===Gk&&(e=lD(i)),e===Gk?i==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(i,{is:r.is}):(e=s.createElement(i),i==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,i),e[pm]=n,e[R2]=r,hL(e,n,!1,!1),n.stateNode=e,s=qS(i,r),i){case"iframe":case"object":case"embed":zs("load",e),a=r;break;case"video":case"audio":for(a=0;a<n_.length;a++)zs(n_[a],e);a=r;break;case"source":zs("error",e),a=r;break;case"img":case"image":case"link":zs("error",e),zs("load",e),a=r;break;case"form":zs("reset",e),zs("submit",e),a=r;break;case"details":zs("toggle",e),a=r;break;case"input":Fk(e,r),a=LS(e,r),zs("invalid",e),ip(t,"onChange");break;case"option":a=zS(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=CA({},r,{value:void 0}),zs("invalid",e),ip(t,"onChange");break;case"textarea":Lk(e,r),a=jS(e,r),zs("invalid",e),ip(t,"onChange");break;default:a=r}YS(i,a);var h=a;for(o in h)if(h.hasOwnProperty(o)){var g=h[o];o==="style"?ED(e,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&uD(e,g)):o==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&$_(e,g):typeof g=="number"&&$_(e,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cy.hasOwnProperty(o)?g!=null&&ip(t,o):g!=null&&DO(e,o,g,s))}switch(i){case"input":lx(e),Dk(e,r,!1);break;case"textarea":lx(e),Uk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zm(r.value));break;case"select":e.multiple=!!r.multiple,t=r.value,t!=null?Xg(e,!!r.multiple,t,!1):r.defaultValue!=null&&Xg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=U2)}ID(i,r)&&(n.effectTag|=4)}n.ref!==null&&(n.effectTag|=128)}return null;case 6:if(e&&n.stateNode!=null)pL(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(jn(166));t=U0(J_.current),U0(hf.current),px(n)?(t=n.stateNode,r=n.memoizedProps,t[pm]=n,t.nodeValue!==r&&(n.effectTag|=4)):(t=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),t[pm]=n,n.stateNode=t)}return null;case 13:return Cs(tl),r=n.memoizedState,n.effectTag&64?(n.expirationTime=t,n):(t=r!==null,r=!1,e===null?n.memoizedProps.fallback!==void 0&&px(n):(i=e.memoizedState,r=i!==null,t||i===null||(i=e.child.sibling,i!==null&&(o=n.firstEffect,o!==null?(n.firstEffect=i,i.nextEffect=o):(n.firstEffect=n.lastEffect=i,i.nextEffect=null),i.effectTag=8))),t&&!r&&n.mode&2&&(e===null&&n.memoizedProps.unstable_avoidThisFallback!==!0||tl.current&1?su===V0&&(su=J2):((su===V0||su===J2)&&(su=z4),tC!==0&&Lc!==null&&(j0(Lc,XA),FL(Lc,tC)))),(t||r)&&(n.effectTag|=4),null);case 4:return Sy(),c6(n),null;case 10:return nB(n),null;case 17:return ZA(n.type)&&j2(),null;case 19:if(Cs(tl),r=n.memoizedState,r===null)return null;if(i=(n.effectTag&64)!==0,o=r.rendering,o===null){if(i)mx(r,!1);else if(su!==V0||e!==null&&e.effectTag&64)for(o=n.child;o!==null;){if(e=$2(o),e!==null){for(n.effectTag|=64,mx(r,!1),i=e.updateQueue,i!==null&&(n.updateQueue=i,n.effectTag|=4),r.lastEffect===null&&(n.firstEffect=null),n.lastEffect=r.lastEffect,r=n.child;r!==null;)i=r,o=t,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,e=i.alternate,e===null?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=o===null?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return dl(tl,tl.current&1|2),n.child}o=o.sibling}}else{if(!i)if(e=$2(o),e!==null){if(n.effectTag|=64,i=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.effectTag|=4),mx(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate)return n=n.lastEffect=r.lastEffect,n!==null&&(n.nextEffect=null),null}else 2*md()-r.renderingStartTime>r.tailExpiration&&1<t&&(n.effectTag|=64,i=!0,mx(r,!1),n.expirationTime=n.childExpirationTime=t-1);r.isBackwards?(o.sibling=n.child,n.child=o):(t=r.last,t!==null?t.sibling=o:n.child=o,r.last=o)}return r.tail!==null?(r.tailExpiration===0&&(r.tailExpiration=md()+500),t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=md(),t.sibling=null,n=tl.current,dl(tl,i?n&1|2:n&1),t):null}throw Error(jn(156,n.tag))}function Oq(e){switch(e.tag){case 1:ZA(e.type)&&j2();var n=e.effectTag;return n&4096?(e.effectTag=n&-4097|64,e):null;case 3:if(Sy(),Cs(HA),Cs(Xu),n=e.effectTag,n&64)throw Error(jn(285));return e.effectTag=n&-4097|64,e;case 5:return aB(e),null;case 13:return Cs(tl),n=e.effectTag,n&4096?(e.effectTag=n&-4097|64,e):null;case 19:return Cs(tl),null;case 4:return Sy(),null;case 10:return nB(e),null;default:return null}}function hB(e,n){return{value:e,source:n,stack:RO(n)}}var Bq=typeof WeakSet=="function"?WeakSet:Set;function d6(e,n){var t=n.source,r=n.stack;r===null&&t!==null&&(r=RO(t)),t!==null&&bp(t.type),n=n.value,e!==null&&e.tag===1&&bp(e.type);try{console.error(n)}catch(i){setTimeout(function(){throw i})}}function kq(e,n){try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(t){Z0(e,t)}}function MI(e){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(t){Z0(e,t)}else n.current=null}function Iq(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(n.effectTag&256&&e!==null){var t=e.memoizedProps,r=e.memoizedState;e=n.stateNode,n=e.getSnapshotBeforeUpdate(n.elementType===n.type?t:oh(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(jn(163))}function mL(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.destroy;t.destroy=void 0,r!==void 0&&r()}t=t.next}while(t!==n)}}function gL(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function Tq(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:gL(3,t);return;case 1:if(e=t.stateNode,t.effectTag&4)if(n===null)e.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:oh(t.type,n.memoizedProps);e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}n=t.updateQueue,n!==null&&AI(t,n,e);return;case 3:if(n=t.updateQueue,n!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}AI(t,n,e)}return;case 5:e=t.stateNode,n===null&&t.effectTag&4&&ID(t.type,t.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&xD(t))));return;case 19:case 17:case 20:case 21:return}throw Error(jn(163))}function SI(e,n,t){switch(typeof _6=="function"&&_6(n),n.tag){case 0:case 11:case 14:case 15:case 22:if(e=n.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e.next;Wm(97<t?97:t,function(){var i=r;do{var o=i.destroy;if(o!==void 0){var s=n;try{o()}catch(a){Z0(s,a)}}i=i.next}while(i!==r)})}break;case 1:MI(n),t=n.stateNode,typeof t.componentWillUnmount=="function"&&kq(n,t);break;case 5:MI(n);break;case 4:vL(e,n,t)}}function yL(e){var n=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,n!==null&&yL(n)}function EI(e){return e.tag===5||e.tag===3||e.tag===4}function OI(e){e:{for(var n=e.return;n!==null;){if(EI(n)){var t=n;break e}n=n.return}throw Error(jn(160))}switch(n=t.stateNode,t.tag){case 5:var r=!1;break;case 3:n=n.containerInfo,r=!0;break;case 4:n=n.containerInfo,r=!0;break;default:throw Error(jn(161))}t.effectTag&16&&($_(n,""),t.effectTag&=-17);e:t:for(t=e;;){for(;t.sibling===null;){if(t.return===null||EI(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.effectTag&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.effectTag&2)){t=t.stateNode;break e}}r?h6(e,t,n):f6(e,t,n)}function h6(e,n,t){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=U2));else if(r!==4&&(e=e.child,e!==null))for(h6(e,n,t),e=e.sibling;e!==null;)h6(e,n,t),e=e.sibling}function f6(e,n,t){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(f6(e,n,t),e=e.sibling;e!==null;)f6(e,n,t),e=e.sibling}function vL(e,n,t){for(var r=n,i=!1,o,s;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(jn(160));switch(o=i.stateNode,i.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var a=e,h=r,g=t,C=h;;)if(SI(a,C,g),C.child!==null&&C.tag!==4)C.child.return=C,C=C.child;else{if(C===h)break e;for(;C.sibling===null;){if(C.return===null||C.return===h)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s?(a=o,h=r.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):o.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){o=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(SI(e,r,t),r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function Zw(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:mL(3,n);return;case 1:return;case 5:var t=n.stateNode;if(t!=null){var r=n.memoizedProps,i=e!==null?e.memoizedProps:r;e=n.type;var o=n.updateQueue;if(n.updateQueue=null,o!==null){for(t[R2]=r,e==="input"&&r.type==="radio"&&r.name!=null&&oD(t,r),qS(e,i),n=qS(e,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?ED(t,a):s==="dangerouslySetInnerHTML"?uD(t,a):s==="children"?$_(t,a):DO(t,s,a,n)}switch(e){case"input":US(t,r);break;case"textarea":aD(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,e=r.value,e!=null?Xg(t,!!r.multiple,e,!1):n!==!!r.multiple&&(r.defaultValue!=null?Xg(t,!!r.multiple,r.defaultValue,!0):Xg(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(n.stateNode===null)throw Error(jn(162));n.stateNode.nodeValue=n.memoizedProps;return;case 3:n=n.stateNode,n.hydrate&&(n.hydrate=!1,xD(n.containerInfo));return;case 12:return;case 13:if(t=n,n.memoizedState===null?r=!1:(r=!0,t=n.child,mB=md()),t!==null)e:for(e=t;;){if(e.tag===5)o=e.stateNode,r?(o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(o=e.stateNode,i=e.memoizedProps.style,i=i!=null&&i.hasOwnProperty("display")?i.display:null,o.style.display=SD("display",i));else if(e.tag===6)e.stateNode.nodeValue=r?"":e.memoizedProps;else if(e.tag===13&&e.memoizedState!==null&&e.memoizedState.dehydrated===null){o=e.child.sibling,o.return=e,e=o;continue}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}BI(n);return;case 19:BI(n);return;case 17:return}throw Error(jn(163))}function BI(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new Bq),n.forEach(function(r){var i=Wq.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}var Kq=typeof WeakMap=="function"?WeakMap:Map;function _L(e,n,t){t=km(t,null),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){n3||(n3=!0,p6=r),d6(e,n)},t}function CL(e,n,t){t=km(t,null),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return d6(e,n),r(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(Tm===null?Tm=new Set([this]):Tm.add(this),d6(e,n));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})}),t}var Pq=Math.ceil,Z2=uh.ReactCurrentDispatcher,bL=uh.ReactCurrentOwner,lu=0,fB=8,Ah=16,gf=32,V0=0,X2=1,xL=2,J2=3,z4=4,pB=5,Ri=lu,Lc=null,Zi=null,XA=0,su=V0,j4=null,mp=1073741823,eC=1073741823,e3=null,tC=0,t3=!1,mB=0,wL=500,Gr=null,n3=!1,p6=null,Tm=null,r3=!1,M_=null,i_=90,R0=null,S_=0,m6=null,f2=0;function ff(){return(Ri&(Ah|gf))!==lu?1073741821-(md()/10|0):f2!==0?f2:f2=1073741821-(md()/10|0)}function H0(e,n,t){if(n=n.mode,!(n&2))return 1073741823;var r=U4();if(!(n&4))return r===99?1073741823:1073741822;if((Ri&Ah)!==lu)return XA;if(t!==null)e=d2(e,t.timeoutMs|0||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=d2(e,150,100);break;case 97:case 96:e=d2(e,5e3,250);break;case 95:e=2;break;default:throw Error(jn(326))}return Lc!==null&&e===XA&&--e,e}function Km(e,n){if(50<S_)throw S_=0,m6=null,Error(jn(185));if(e=W4(e,n),e!==null){var t=U4();n===1073741823?(Ri&fB)!==lu&&(Ri&(Ah|gf))===lu?g6(e):(Uc(e),Ri===lu&&Mf()):Uc(e),(Ri&4)===lu||t!==98&&t!==99||(R0===null?R0=new Map([[e,n]]):(t=R0.get(e),(t===void 0||t>n)&&R0.set(e,n)))}}function W4(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;t!==null&&t.expirationTime<n&&(t.expirationTime=n);var r=e.return,i=null;if(r===null&&e.tag===3)i=e.stateNode;else for(;r!==null;){if(t=r.alternate,r.childExpirationTime<n&&(r.childExpirationTime=n),t!==null&&t.childExpirationTime<n&&(t.childExpirationTime=n),r.return===null&&r.tag===3){i=r.stateNode;break}r=r.return}return i!==null&&(Lc===i&&(N4(n),su===z4&&j0(i,XA)),FL(i,n)),i}function p2(e){var n=e.lastExpiredTime;if(n!==0||(n=e.firstPendingTime,!PL(e,n)))return n;var t=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=t>e?t:e,2>=e&&n!==e?0:e}function Uc(e){if(e.lastExpiredTime!==0)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=lI(g6.bind(null,e));else{var n=p2(e),t=e.callbackNode;if(n===0)t!==null&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ff();if(n===1073741823?r=99:n===1||n===2?r=95:(r=10*(1073741821-n)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),t!==null){var i=e.callbackPriority;if(e.callbackExpirationTime===n&&i>=r)return;t!==HD&&QD(t)}e.callbackExpirationTime=n,e.callbackPriority=r,n=n===1073741823?lI(g6.bind(null,e)):XD(r,ML.bind(null,e),{timeout:10*(1073741821-n)-md()}),e.callbackNode=n}}}function ML(e,n){if(f2=0,n)return n=ff(),C6(e,n),Uc(e),null;var t=p2(e);if(t!==0){if(n=e.callbackNode,(Ri&(Ah|gf))!==lu)throw Error(jn(327));if(zy(),e===Lc&&t===XA||z0(e,t),Zi!==null){var r=Ri;Ri|=Ah;var i=BL();do try{Lq();break}catch(a){OL(e,a)}while(!0);if(tB(),Ri=r,Z2.current=i,su===X2)throw n=j4,z0(e,t),j0(e,t),Uc(e),n;if(Zi===null)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,r=su,Lc=null,r){case V0:case X2:throw Error(jn(345));case xL:C6(e,2<t?2:t);break;case J2:if(j0(e,t),r=e.lastSuspendedTime,t===r&&(e.nextKnownPendingLevel=y6(i)),mp===1073741823&&(i=mB+wL-md(),10<i)){if(t3){var o=e.lastPingedTime;if(o===0||o>=t){e.lastPingedTime=t,z0(e,t);break}}if(o=p2(e),o!==0&&o!==t)break;if(r!==0&&r!==t){e.lastPingedTime=r;break}e.timeoutHandle=Qw(S0.bind(null,e),i);break}S0(e);break;case z4:if(j0(e,t),r=e.lastSuspendedTime,t===r&&(e.nextKnownPendingLevel=y6(i)),t3&&(i=e.lastPingedTime,i===0||i>=t)){e.lastPingedTime=t,z0(e,t);break}if(i=p2(e),i!==0&&i!==t)break;if(r!==0&&r!==t){e.lastPingedTime=r;break}if(eC!==1073741823?r=10*(1073741821-eC)-md():mp===1073741823?r=0:(r=10*(1073741821-mp)-5e3,i=md(),t=10*(1073741821-t)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pq(r/1960))-r,t<r&&(r=t)),10<r){e.timeoutHandle=Qw(S0.bind(null,e),r);break}S0(e);break;case pB:if(mp!==1073741823&&e3!==null){o=mp;var s=e3;if(r=s.busyMinDurationMs|0,0>=r?r=0:(i=s.busyDelayMs|0,o=md()-(10*(1073741821-o)-(s.timeoutMs|0||5e3)),r=o<=i?0:i+r-o),10<r){j0(e,t),e.timeoutHandle=Qw(S0.bind(null,e),r);break}}S0(e);break;default:throw Error(jn(329))}if(Uc(e),e.callbackNode===n)return ML.bind(null,e)}}return null}function g6(e){var n=e.lastExpiredTime;if(n=n!==0?n:1073741823,(Ri&(Ah|gf))!==lu)throw Error(jn(327));if(zy(),e===Lc&&n===XA||z0(e,n),Zi!==null){var t=Ri;Ri|=Ah;var r=BL();do try{Dq();break}catch(i){OL(e,i)}while(!0);if(tB(),Ri=t,Z2.current=r,su===X2)throw t=j4,z0(e,n),j0(e,n),Uc(e),t;if(Zi!==null)throw Error(jn(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,Lc=null,S0(e),Uc(e)}return null}function Fq(){if(R0!==null){var e=R0;R0=null,e.forEach(function(n,t){C6(t,n),Uc(t)}),Mf()}}function SL(e,n){var t=Ri;Ri|=1;try{return e(n)}finally{Ri=t,Ri===lu&&Mf()}}function EL(e,n){var t=Ri;Ri&=-2,Ri|=fB;try{return e(n)}finally{Ri=t,Ri===lu&&Mf()}}function z0(e,n){e.finishedWork=null,e.finishedExpirationTime=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,PY(t)),Zi!==null)for(t=Zi.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&j2();break;case 3:Sy(),Cs(HA),Cs(Xu);break;case 5:aB(r);break;case 4:Sy();break;case 13:Cs(tl);break;case 19:Cs(tl);break;case 10:nB(r)}t=t.return}Lc=e,Zi=l1(e.current,null),XA=n,su=V0,j4=null,eC=mp=1073741823,e3=null,tC=0,t3=!1}function OL(e,n){do{try{if(tB(),h2.current=H2,Y2)for(var t=Nl.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}if(gm=0,Zu=Hu=Nl=null,Y2=!1,Zi===null||Zi.return===null)return su=X2,j4=n,Zi=null;e:{var i=e,o=Zi.return,s=Zi,a=n;if(n=XA,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var h=a;if(!(s.mode&2)){var g=s.alternate;g?(s.updateQueue=g.updateQueue,s.memoizedState=g.memoizedState,s.expirationTime=g.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var C=(tl.current&1)!==0,B=o;do{var k;if(k=B.tag===13){var P=B.memoizedState;if(P!==null)k=P.dehydrated!==null;else{var U=B.memoizedProps;k=U.fallback===void 0?!1:U.unstable_avoidThisFallback!==!0?!0:!C}}if(k){var Z=B.updateQueue;if(Z===null){var W=new Set;W.add(h),B.updateQueue=W}else Z.add(h);if(!(B.mode&2)){if(B.effectTag|=64,s.effectTag&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var Q=km(1073741823,null);Q.tag=2,Im(s,Q)}s.expirationTime=1073741823;break e}a=void 0,s=n;var q=i.pingCache;if(q===null?(q=i.pingCache=new Kq,a=new Set,q.set(h,a)):(a=q.get(h),a===void 0&&(a=new Set,q.set(h,a))),!a.has(s)){a.add(s);var oe=jq.bind(null,i,h,s);h.then(oe,oe)}B.effectTag|=4096,B.expirationTime=n;break e}B=B.return}while(B!==null);a=Error((bp(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+RO(s))}su!==pB&&(su=xL),a=hB(a,s),B=o;do{switch(B.tag){case 3:h=a,B.effectTag|=4096,B.expirationTime=n;var re=_L(B,h,n);uI(B,re);break e;case 1:h=a;var Ae=B.type,ae=B.stateNode;if(!(B.effectTag&64)&&(typeof Ae.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Tm===null||!Tm.has(ae)))){B.effectTag|=4096,B.expirationTime=n;var se=CL(B,h,n);uI(B,se);break e}}B=B.return}while(B!==null)}Zi=TL(Zi)}catch(ye){n=ye;continue}break}while(!0)}function BL(){var e=Z2.current;return Z2.current=H2,e===null?H2:e}function kL(e,n){e<mp&&2<e&&(mp=e),n!==null&&e<eC&&2<e&&(eC=e,e3=n)}function N4(e){e>tC&&(tC=e)}function Dq(){for(;Zi!==null;)Zi=IL(Zi)}function Lq(){for(;Zi!==null&&!Cq();)Zi=IL(Zi)}function IL(e){var n=KL(e.alternate,e,XA);return e.memoizedProps=e.pendingProps,n===null&&(n=TL(e)),bL.current=null,n}function TL(e){Zi=e;do{var n=Zi.alternate;if(e=Zi.return,Zi.effectTag&2048){if(n=Oq(Zi),n!==null)return n.effectTag&=2047,n;e!==null&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(n=Eq(n,Zi,XA),XA===1||Zi.childExpirationTime!==1){for(var t=0,r=Zi.child;r!==null;){var i=r.expirationTime,o=r.childExpirationTime;i>t&&(t=i),o>t&&(t=o),r=r.sibling}Zi.childExpirationTime=t}if(n!==null)return n;e!==null&&!(e.effectTag&2048)&&(e.firstEffect===null&&(e.firstEffect=Zi.firstEffect),Zi.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=Zi.firstEffect),e.lastEffect=Zi.lastEffect),1<Zi.effectTag&&(e.lastEffect!==null?e.lastEffect.nextEffect=Zi:e.firstEffect=Zi,e.lastEffect=Zi))}if(n=Zi.sibling,n!==null)return n;Zi=e}while(Zi!==null);return su===V0&&(su=pB),null}function y6(e){var n=e.expirationTime;return e=e.childExpirationTime,n>e?n:e}function S0(e){var n=U4();return Wm(99,Uq.bind(null,e,n)),null}function Uq(e,n){do zy();while(M_!==null);if((Ri&(Ah|gf))!==lu)throw Error(jn(327));var t=e.finishedWork,r=e.finishedExpirationTime;if(t===null)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,t===e.current)throw Error(jn(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=y6(t);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Lc&&(Zi=Lc=null,XA=0),1<t.effectTag?t.lastEffect!==null?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,i!==null){var o=Ri;Ri|=gf,bL.current=null,Nw=a2;var s=Yk();if(HS(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var g=h.anchorOffset,C=h.focusNode;h=h.focusOffset;try{a.nodeType,C.nodeType}catch{a=null;break e}var B=0,k=-1,P=-1,U=0,Z=0,W=s,Q=null;t:for(;;){for(var q;W!==a||g!==0&&W.nodeType!==3||(k=B+g),W!==C||h!==0&&W.nodeType!==3||(P=B+h),W.nodeType===3&&(B+=W.nodeValue.length),(q=W.firstChild)!==null;)Q=W,W=q;for(;;){if(W===s)break t;if(Q===a&&++U===g&&(k=B),Q===C&&++Z===h&&(P=B),(q=W.nextSibling)!==null)break;W=Q,Q=W.parentNode}W=q}a=k===-1||P===-1?null:{start:k,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;Gw={activeElementDetached:null,focusedElem:s,selectionRange:a},a2=!1,Gr=i;do try{Rq()}catch(De){if(Gr===null)throw Error(jn(330));Z0(Gr,De),Gr=Gr.nextEffect}while(Gr!==null);Gr=i;do try{for(s=e,a=n;Gr!==null;){var oe=Gr.effectTag;if(oe&16&&$_(Gr.stateNode,""),oe&128){var re=Gr.alternate;if(re!==null){var Ae=re.ref;Ae!==null&&(typeof Ae=="function"?Ae(null):Ae.current=null)}}switch(oe&1038){case 2:OI(Gr),Gr.effectTag&=-3;break;case 6:OI(Gr),Gr.effectTag&=-3,Zw(Gr.alternate,Gr);break;case 1024:Gr.effectTag&=-1025;break;case 1028:Gr.effectTag&=-1025,Zw(Gr.alternate,Gr);break;case 4:Zw(Gr.alternate,Gr);break;case 8:g=Gr,vL(s,g,a),yL(g)}Gr=Gr.nextEffect}}catch(De){if(Gr===null)throw Error(jn(330));Z0(Gr,De),Gr=Gr.nextEffect}while(Gr!==null);if(Ae=Gw,re=Yk(),oe=Ae.focusedElem,a=Ae.selectionRange,re!==oe&&oe&&oe.ownerDocument&&OD(oe.ownerDocument.documentElement,oe)){for(a!==null&&HS(oe)&&(re=a.start,Ae=a.end,Ae===void 0&&(Ae=re),"selectionStart"in oe?(oe.selectionStart=re,oe.selectionEnd=Math.min(Ae,oe.value.length)):(Ae=(re=oe.ownerDocument||document)&&re.defaultView||window,Ae.getSelection&&(Ae=Ae.getSelection(),g=oe.textContent.length,s=Math.min(a.start,g),a=a.end===void 0?s:Math.min(a.end,g),!Ae.extend&&s>a&&(g=a,a=s,s=g),g=$k(oe,s),C=$k(oe,a),g&&C&&(Ae.rangeCount!==1||Ae.anchorNode!==g.node||Ae.anchorOffset!==g.offset||Ae.focusNode!==C.node||Ae.focusOffset!==C.offset)&&(re=re.createRange(),re.setStart(g.node,g.offset),Ae.removeAllRanges(),s>a?(Ae.addRange(re),Ae.extend(C.node,C.offset)):(re.setEnd(C.node,C.offset),Ae.addRange(re)))))),re=[],Ae=oe;Ae=Ae.parentNode;)Ae.nodeType===1&&re.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<re.length;oe++)Ae=re[oe],Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}a2=!!Nw,Gw=Nw=null,e.current=t,Gr=i;do try{for(oe=e;Gr!==null;){var ae=Gr.effectTag;if(ae&36&&Tq(oe,Gr.alternate,Gr),ae&128){re=void 0;var se=Gr.ref;if(se!==null){var ye=Gr.stateNode;switch(Gr.tag){case 5:re=ye;break;default:re=ye}typeof se=="function"?se(re):se.current=re}}Gr=Gr.nextEffect}}catch(De){if(Gr===null)throw Error(jn(330));Z0(Gr,De),Gr=Gr.nextEffect}while(Gr!==null);Gr=null,bq(),Ri=o}else e.current=t;if(r3)r3=!1,M_=e,i_=n;else for(Gr=i;Gr!==null;)n=Gr.nextEffect,Gr.nextEffect=null,Gr=n;if(n=e.firstPendingTime,n===0&&(Tm=null),n===1073741823?e===m6?S_++:(S_=0,m6=e):S_=0,typeof v6=="function"&&v6(t.stateNode,r),Uc(e),n3)throw n3=!1,e=p6,p6=null,e;return(Ri&fB)!==lu||Mf(),null}function Rq(){for(;Gr!==null;){var e=Gr.effectTag;e&256&&Iq(Gr.alternate,Gr),!(e&512)||r3||(r3=!0,XD(97,function(){return zy(),null})),Gr=Gr.nextEffect}}function zy(){if(i_!==90){var e=97<i_?97:i_;return i_=90,Wm(e,zq)}}function zq(){if(M_===null)return!1;var e=M_;if(M_=null,(Ri&(Ah|gf))!==lu)throw Error(jn(331));var n=Ri;for(Ri|=gf,e=e.current.firstEffect;e!==null;){try{var t=e;if(t.effectTag&512)switch(t.tag){case 0:case 11:case 15:case 22:mL(5,t),gL(5,t)}}catch(r){if(e===null)throw Error(jn(330));Z0(e,r)}t=e.nextEffect,e.nextEffect=null,e=t}return Ri=n,Mf(),!0}function kI(e,n,t){n=hB(t,n),n=_L(e,n,1073741823),Im(e,n),e=W4(e,1073741823),e!==null&&Uc(e)}function Z0(e,n){if(e.tag===3)kI(e,e,n);else for(var t=e.return;t!==null;){if(t.tag===3){kI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tm===null||!Tm.has(r))){e=hB(n,e),e=CL(t,e,1073741823),Im(t,e),t=W4(t,1073741823),t!==null&&Uc(t);break}}t=t.return}}function jq(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),Lc===e&&XA===t?su===z4||su===J2&&mp===1073741823&&md()-mB<wL?z0(e,XA):t3=!0:PL(e,t)&&(n=e.lastPingedTime,n!==0&&n<t||(e.lastPingedTime=t,Uc(e)))}function Wq(e,n){var t=e.stateNode;t!==null&&t.delete(n),n=0,n===0&&(n=ff(),n=H0(n,e,null)),e=W4(e,n),e!==null&&Uc(e)}var KL;KL=function(e,n,t){var r=n.expirationTime;if(e!==null){var i=n.pendingProps;if(e.memoizedProps!==i||HA.current)uf=!0;else{if(r<t){switch(uf=!1,n.tag){case 3:CI(n),qw();break;case 5:if(hI(n),n.mode&4&&t!==1&&i.hidden)return n.expirationTime=n.childExpirationTime=1,null;break;case 1:ZA(n.type)&&A2(n);break;case 4:o6(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value,i=n.type._context,dl(W2,i._currentValue),i._currentValue=r;break;case 13:if(n.memoizedState!==null)return r=n.child.childExpirationTime,r!==0&&r>=t?bI(e,n,t):(dl(tl,tl.current&1),n=Cp(e,n,t),n!==null?n.sibling:null);dl(tl,tl.current&1);break;case 19:if(r=n.childExpirationTime>=t,e.effectTag&64){if(r)return wI(e,n,t);n.effectTag|=64}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null),dl(tl,tl.current),!r)return null}return Cp(e,n,t)}uf=!1}}else uf=!1;switch(n.expirationTime=0,n.tag){case 2:if(r=n.type,e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,i=wy(n,Xu.current),ey(n,t),i=uB(null,n,r,e,i,t),n.effectTag|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,ZA(r)){var o=!0;A2(n)}else o=!1;n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rB(n);var s=r.getDerivedStateFromProps;typeof s=="function"&&Q2(n,r,s,e),i.updater=R4,n.stateNode=i,i._reactInternalFiber=n,i6(n,r,e,t),n=A6(null,n,r,!0,o,t)}else n.tag=0,kc(null,n,i,t),n=n.child;return n;case 16:e:{if(i=n.elementType,e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,gY(i),i._status!==1)throw i._result;switch(i=i._result,n.type=i,o=n.tag=Qq(i),e=oh(i,e),o){case 0:n=u6(null,n,i,e,t);break e;case 1:n=_I(null,n,i,e,t);break e;case 11:n=yI(null,n,i,e,t);break e;case 14:n=vI(null,n,i,oh(i.type,e),r,t);break e}throw Error(jn(306,i,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:oh(r,i),u6(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:oh(r,i),_I(e,n,r,i,t);case 3:if(CI(n),r=n.updateQueue,e===null||r===null)throw Error(jn(282));if(r=n.pendingProps,i=n.memoizedState,i=i!==null?i.element:null,iB(e,n),Z_(n,r,null,t),r=n.memoizedState.element,r===i)qw(),n=Cp(e,n,t);else{if((i=n.stateNode.hydrate)&&(ym=Jg(n.stateNode.containerInfo.firstChild),_p=n,i=q0=!0),i)for(t=oB(n,null,r,t),n.child=t;t;)t.effectTag=t.effectTag&-3|1024,t=t.sibling;else kc(e,n,r,t),qw();n=n.child}return n;case 5:return hI(n),e===null&&l6(n),r=n.type,i=n.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,ZS(r,i)?s=null:o!==null&&ZS(r,o)&&(n.effectTag|=16),dL(e,n),n.mode&4&&t!==1&&i.hidden?(n.expirationTime=n.childExpirationTime=1,n=null):(kc(e,n,s,t),n=n.child),n;case 6:return e===null&&l6(n),null;case 13:return bI(e,n,t);case 4:return o6(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=My(n,null,r,t):kc(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:oh(r,i),yI(e,n,r,i,t);case 7:return kc(e,n,n.pendingProps,t),n.child;case 8:return kc(e,n,n.pendingProps.children,t),n.child;case 12:return kc(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,i=n.pendingProps,s=n.memoizedProps,o=i.value;var a=n.type._context;if(dl(W2,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=a1(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!HA.current){n=Cp(e,n,t);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var h=a.dependencies;if(h!==null){s=a.child;for(var g=h.firstContext;g!==null;){if(g.context===r&&g.observedBits&o){a.tag===1&&(g=km(t,null),g.tag=2,Im(a,g)),a.expirationTime<t&&(a.expirationTime=t),g=a.alternate,g!==null&&g.expirationTime<t&&(g.expirationTime=t),eL(a.return,t),h.expirationTime<t&&(h.expirationTime=t);break}g=g.next}}else s=a.tag===10&&a.type===n.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===n){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}kc(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,o=n.pendingProps,r=o.children,ey(n,t),i=bd(i,o.unstable_observedBits),r=r(i),n.effectTag|=1,kc(e,n,r,t),n.child;case 14:return i=n.type,o=oh(i,n.pendingProps),o=oh(i.type,o),vI(e,n,i,o,r,t);case 15:return cL(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:oh(r,i),e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,ZA(r)?(e=!0,A2(n)):e=!1,ey(n,t),nL(n,r,i),i6(n,r,i,t),A6(null,n,r,!0,e,t);case 19:return wI(e,n,t)}throw Error(jn(156,n.tag))};var v6=null,_6=null;function Nq(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var t=n.inject(e);v6=function(r){try{n.onCommitFiberRoot(t,r,void 0,(r.current.effectTag&64)===64)}catch{}},_6=function(r){try{n.onCommitFiberUnmount(t,r)}catch{}}}catch{}return!0}function Gq(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Af(e,n,t,r){return new Gq(e,n,t,r)}function gB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qq(e){if(typeof e=="function")return gB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===LO)return 11;if(e===UO)return 14}return 2}function l1(e,n){var t=e.alternate;return t===null?(t=Af(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.effectTag=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childExpirationTime=e.childExpirationTime,t.expirationTime=e.expirationTime,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function m2(e,n,t,r,i,o){var s=2;if(r=e,typeof e=="function")gB(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case I0:return vm(t.children,i,o,n);case mY:s=8,i|=7;break;case XF:s=8,i|=1;break;case r2:return e=Af(12,t,n,i|8),e.elementType=r2,e.type=r2,e.expirationTime=o,e;case i2:return e=Af(13,t,n,i),e.type=i2,e.elementType=i2,e.expirationTime=o,e;case DS:return e=Af(19,t,n,i),e.elementType=DS,e.expirationTime=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JF:s=10;break e;case eD:s=9;break e;case LO:s=11;break e;case UO:s=14;break e;case tD:s=16,r=null;break e;case nD:s=22;break e}throw Error(jn(130,e==null?e:typeof e,""))}return n=Af(s,t,n,i),n.elementType=e,n.type=r,n.expirationTime=o,n}function vm(e,n,t,r){return e=Af(7,e,r,n),e.expirationTime=t,e}function Xw(e,n,t){return e=Af(6,e,null,n),e.expirationTime=t,e}function Jw(e,n,t){return n=Af(4,e.children!==null?e.children:[],e.key,n),n.expirationTime=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function $q(e,n,t){this.tag=n,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function PL(e,n){var t=e.firstSuspendedTime;return e=e.lastSuspendedTime,t!==0&&t>=n&&e<=n}function j0(e,n){var t=e.firstSuspendedTime,r=e.lastSuspendedTime;t<n&&(e.firstSuspendedTime=n),(r>n||t===0)&&(e.lastSuspendedTime=n),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function FL(e,n){n>e.firstPendingTime&&(e.firstPendingTime=n);var t=e.firstSuspendedTime;t!==0&&(n>=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n>=e.lastSuspendedTime&&(e.lastSuspendedTime=n+1),n>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=n))}function C6(e,n){var t=e.lastExpiredTime;(t===0||t>n)&&(e.lastExpiredTime=n)}function i3(e,n,t,r){var i=n.current,o=ff(),s=w_.suspense;o=H0(o,i,s);e:if(t){t=t._reactInternalFiber;t:{if(v1(t)!==t||t.tag!==1)throw Error(jn(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(ZA(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(jn(171))}if(t.tag===1){var h=t.type;if(ZA(h)){t=GD(t,h,a);break e}}t=a}else t=jm;return n.context===null?n.context=t:n.pendingContext=t,n=km(o,s),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),Im(i,n),Km(i,o),o}function eM(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function II(e,n){e=e.memoizedState,e!==null&&e.dehydrated!==null&&e.retryTime<n&&(e.retryTime=n)}function yB(e,n){II(e,n),(e=e.alternate)&&II(e,n)}function vB(e,n,t){t=t!=null&&t.hydrate===!0;var r=new $q(e,n,t),i=Af(3,null,null,n===2?7:n===1?3:0);r.current=i,i.stateNode=r,rB(i),e[PC]=r.current,t&&n!==0&&xY(e,e.nodeType===9?e:e.ownerDocument),this._internalRoot=r}vB.prototype.render=function(e){i3(e,this._internalRoot,null,null)};vB.prototype.unmount=function(){var e=this._internalRoot,n=e.containerInfo;i3(null,e,null,function(){n[PC]=null})};function zC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yq(e,n){if(n||(n=e?e.nodeType===9?e.documentElement:e.firstChild:null,n=!(!n||n.nodeType!==1||!n.hasAttribute("data-reactroot"))),!n)for(var t;t=e.lastChild;)e.removeChild(t);return new vB(e,0,n?{hydrate:!0}:void 0)}function G4(e,n,t,r,i){var o=t._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var g=eM(s);a.call(g)}}i3(n,s,e,i)}else{if(o=t._reactRootContainer=Yq(t,r),s=o._internalRoot,typeof i=="function"){var h=i;i=function(){var g=eM(s);h.call(g)}}EL(function(){i3(n,s,e,i)})}return eM(s)}function qq(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pg,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}CD=function(e){if(e.tag===13){var n=d2(ff(),150,100);Km(e,n),yB(e,n)}};NO=function(e){e.tag===13&&(Km(e,3),yB(e,3))};bD=function(e){if(e.tag===13){var n=ff();n=H0(n,e,null),Km(e,n),yB(e,n)}};FS=function(e,n,t){switch(n){case"input":if(US(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=HO(r);if(!i)throw Error(jn(90));iD(r),US(r,i)}}}break;case"textarea":aD(e,t);break;case"select":n=t.value,n!=null&&Xg(e,!!t.multiple,n,!1)}};IO=SL;VF=function(e,n,t,r,i){var o=Ri;Ri|=4;try{return Wm(98,e.bind(null,n,t,r,i))}finally{Ri=o,Ri===lu&&Mf()}};TO=function(){(Ri&(1|Ah|gf))===lu&&(Fq(),zy())};HF=function(e,n){var t=Ri;Ri|=2;try{return e(n)}finally{Ri=t,Ri===lu&&Mf()}};function DL(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zC(n))throw Error(jn(200));return qq(e,n,null,t)}var Vq={Events:[DC,o1,HO,$F,PS,xy,function(e){jO(e,DY)},YF,qF,F4,P4,zy,{current:!1}]};(function(e){var n=e.findFiberByHostInstance;return Nq(CA({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mD(t),t===null?null:t.stateNode},findFiberByHostInstance:function(t){return n?n(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:FC,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});Md.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vq;Md.createPortal=DL;Md.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternalFiber;if(n===void 0)throw typeof e.render=="function"?Error(jn(188)):Error(jn(268,Object.keys(e)));return e=mD(n),e=e===null?null:e.stateNode,e};Md.flushSync=function(e,n){if((Ri&(Ah|gf))!==lu)throw Error(jn(187));var t=Ri;Ri|=1;try{return Wm(99,e.bind(null,n))}finally{Ri=t,Mf()}};Md.hydrate=function(e,n,t){if(!zC(n))throw Error(jn(200));return G4(null,e,n,!0,t)};Md.render=function(e,n,t){if(!zC(n))throw Error(jn(200));return G4(null,e,n,!1,t)};Md.unmountComponentAtNode=function(e){if(!zC(e))throw Error(jn(40));return e._reactRootContainer?(EL(function(){G4(null,null,e,!1,function(){e._reactRootContainer=null,e[PC]=null})}),!0):!1};Md.unstable_batchedUpdates=SL;Md.unstable_createPortal=function(e,n){return DL(e,n,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Md.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!zC(t))throw Error(jn(200));if(e==null||e._reactInternalFiber===void 0)throw Error(jn(38));return G4(e,n,t,!1,r)};Md.version="16.14.0";function LL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LL)}catch(e){console.error(e)}}LL(),zF.exports=Md;var Ym=zF.exports;const UL=oa(Ym);var b6={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var t=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(s){if(s===void 0){console.error("Autobind error: No context provided.");return}var a=Object.getPrototypeOf(s);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(a),r.forEach(function(h){var g=Object.getOwnPropertyDescriptor(a,h);if(g===void 0){console.warn('Autobind: "'+h+'" method not found in class.');return}t.indexOf(h)!==-1||typeof g.value!="function"||Object.defineProperty(a,h,o(a,h,g))})}function o(s,a,h){var g=h.value;return{configurable:!0,get:function(){if(this===s||this.hasOwnProperty(a))return g;var B=g.bind(this);return Object.defineProperty(this,a,{value:B,configurable:!0,writable:!0}),B}}}e.exports=n.default})(b6,b6.exports);var Hq=b6.exports,Zq=Hq;const Xq=oa(Zq);var o3={exports:{}};o3.exports;(function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",h="[object Date]",g="[object Error]",C="[object Function]",B="[object GeneratorFunction]",k="[object Map]",P="[object Number]",U="[object Object]",Z="[object Promise]",W="[object RegExp]",Q="[object Set]",q="[object String]",oe="[object Symbol]",re="[object WeakMap]",Ae="[object ArrayBuffer]",ae="[object DataView]",se="[object Float32Array]",ye="[object Float64Array]",De="[object Int8Array]",Ne="[object Int16Array]",et="[object Int32Array]",ft="[object Uint8Array]",Ke="[object Uint8ClampedArray]",rt="[object Uint16Array]",_e="[object Uint32Array]",Ut=/[\\^$.*+?()[\]{}|]/g,jt=/\w*$/,nn=/^\[object .+?Constructor\]$/,Qt=/^(?:0|[1-9]\d*)$/,He={};He[o]=He[s]=He[Ae]=He[ae]=He[a]=He[h]=He[se]=He[ye]=He[De]=He[Ne]=He[et]=He[k]=He[P]=He[U]=He[W]=He[Q]=He[q]=He[oe]=He[ft]=He[Ke]=He[rt]=He[_e]=!0,He[g]=He[C]=He[re]=!1;var Je=typeof window=="object"&&window&&window.Object===Object&&window,tt=typeof self=="object"&&self&&self.Object===Object&&self,on=Je||tt||Function("return this")(),mt=n&&!n.nodeType&&n,dt=mt&&!0&&e&&!e.nodeType&&e,kt=dt&&dt.exports===mt;function Pt(ne,Ie){return ne.set(Ie[0],Ie[1]),ne}function Me(ne,Ie){return ne.add(Ie),ne}function he(ne,Ie){for(var At=-1,Yt=ne?ne.length:0;++At<Yt&&Ie(ne[At],At,ne)!==!1;);return ne}function be(ne,Ie){for(var At=-1,Yt=Ie.length,wr=ne.length;++At<Yt;)ne[wr+At]=Ie[At];return ne}function Pe(ne,Ie,At,Yt){var wr=-1,Tn=ne?ne.length:0;for(Yt&&Tn&&(At=ne[++wr]);++wr<Tn;)At=Ie(At,ne[wr],wr,ne);return At}function Ze(ne,Ie){for(var At=-1,Yt=Array(ne);++At<ne;)Yt[At]=Ie(At);return Yt}function nt(ne,Ie){return ne==null?void 0:ne[Ie]}function xt(ne){var Ie=!1;if(ne!=null&&typeof ne.toString!="function")try{Ie=!!(ne+"")}catch{}return Ie}function Ft(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt,wr){At[++Ie]=[wr,Yt]}),At}function Dt(ne,Ie){return function(At){return ne(Ie(At))}}function pt(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt){At[++Ie]=Yt}),At}var nr=Array.prototype,pn=Function.prototype,bn=Object.prototype,Jn=on["__core-js_shared__"],mr=function(){var ne=/[^.]+$/.exec(Jn&&Jn.keys&&Jn.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),xr=pn.toString,Nr=bn.hasOwnProperty,_r=bn.toString,fi=RegExp("^"+xr.call(Nr).replace(Ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=kt?on.Buffer:void 0,H=on.Symbol,Y=on.Uint8Array,Be=Dt(Object.getPrototypeOf,Object),st=Object.create,St=bn.propertyIsEnumerable,Et=nr.splice,Nt=Object.getOwnPropertySymbols,mn=we?we.isBuffer:void 0,Kn=Dt(Object.keys,Object),En=Ha(on,"DataView"),m=Ha(on,"Map"),Tt=Ha(on,"Promise"),Lr=Ha(on,"Set"),Wn=Ha(on,"WeakMap"),Te=Ha(Object,"create"),de=Xa(En),ve=Xa(m),Se=Xa(Tt),Ue=Xa(Lr),Xe=Xa(Wn),at=H?H.prototype:void 0,ht=at?at.valueOf:void 0;function Ve(ne){var Ie=-1,At=ne?ne.length:0;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function Ct(){this.__data__=Te?Te(null):{}}function Zt(ne){return this.has(ne)&&delete this.__data__[ne]}function Ht(ne){var Ie=this.__data__;if(Te){var At=Ie[ne];return At===r?void 0:At}return Nr.call(Ie,ne)?Ie[ne]:void 0}function qt(ne){var Ie=this.__data__;return Te?Ie[ne]!==void 0:Nr.call(Ie,ne)}function Vn(ne,Ie){var At=this.__data__;return At[ne]=Te&&Ie===void 0?r:Ie,this}Ve.prototype.clear=Ct,Ve.prototype.delete=Zt,Ve.prototype.get=Ht,Ve.prototype.has=qt,Ve.prototype.set=Vn;function On(ne){var Ie=-1,At=ne?ne.length:0;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function ir(){this.__data__=[]}function or(ne){var Ie=this.__data__,At=so(Ie,ne);if(At<0)return!1;var Yt=Ie.length-1;return At==Yt?Ie.pop():Et.call(Ie,At,1),!0}function Tr(ne){var Ie=this.__data__,At=so(Ie,ne);return At<0?void 0:Ie[At][1]}function Ur(ne){return so(this.__data__,ne)>-1}function Dr(ne,Ie){var At=this.__data__,Yt=so(At,ne);return Yt<0?At.push([ne,Ie]):At[Yt][1]=Ie,this}On.prototype.clear=ir,On.prototype.delete=or,On.prototype.get=Tr,On.prototype.has=Ur,On.prototype.set=Dr;function Jr(ne){var Ie=-1,At=ne?ne.length:0;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function rr(){this.__data__={hash:new Ve,map:new(m||On),string:new Ve}}function li(ne){return Ns(this,ne).delete(ne)}function ki(ne){return Ns(this,ne).get(ne)}function Xi(ne){return Ns(this,ne).has(ne)}function xo(ne,Ie){return Ns(this,ne).set(ne,Ie),this}Jr.prototype.clear=rr,Jr.prototype.delete=li,Jr.prototype.get=ki,Jr.prototype.has=Xi,Jr.prototype.set=xo;function pi(ne){this.__data__=new On(ne)}function Oo(){this.__data__=new On}function As(ne){return this.__data__.delete(ne)}function Ia(ne){return this.__data__.get(ne)}function _i(ne){return this.__data__.has(ne)}function Ss(ne,Ie){var At=this.__data__;if(At instanceof On){var Yt=At.__data__;if(!m||Yt.length<t-1)return Yt.push([ne,Ie]),this;At=this.__data__=new Jr(Yt)}return At.set(ne,Ie),this}pi.prototype.clear=Oo,pi.prototype.delete=As,pi.prototype.get=Ia,pi.prototype.has=_i,pi.prototype.set=Ss;function Si(ne,Ie){var At=Il(ne)||ml(ne)?Ze(ne.length,String):[],Yt=At.length,wr=!!Yt;for(var Tn in ne)(Ie||Nr.call(ne,Tn))&&!(wr&&(Tn=="length"||wA(Tn,Yt)))&&At.push(Tn);return At}function Qn(ne,Ie,At){var Yt=ne[Ie];(!(Nr.call(ne,Ie)&&SA(Yt,At))||At===void 0&&!(Ie in ne))&&(ne[Ie]=At)}function so(ne,Ie){for(var At=ne.length;At--;)if(SA(ne[At][0],Ie))return At;return-1}function No(ne,Ie){return ne&&Va(Ie,ac(Ie),ne)}function Ji(ne,Ie,At,Yt,wr,Tn,Ci){var Ti;if(Yt&&(Ti=Tn?Yt(ne,wr,Tn,Ci):Yt(ne)),Ti!==void 0)return Ti;if(!cs(ne))return ne;var Yr=Il(ne);if(Yr){if(Ti=xA(ne),!Ie)return il(ne,Ti)}else{var Gi=Gs(ne),Po=Gi==C||Gi==B;if(uu(ne))return Mn(ne,Ie);if(Gi==U||Gi==o||Po&&!Tn){if(xt(ne))return Tn?ne:{};if(Ti=pl(Po?{}:ne),!Ie)return xa(ne,No(Ti,ne))}else{if(!He[Gi])return Tn?ne:{};Ti=ic(ne,Gi,Ji,Ie)}}Ci||(Ci=new pi);var wa=Ci.get(ne);if(wa)return wa;if(Ci.set(ne,Ti),!Yr)var zo=At?Bu(ne):ac(ne);return he(zo||ne,function(Ki,aa){zo&&(aa=Ki,Ki=ne[aa]),Qn(Ti,aa,Ji(Ki,Ie,At,Yt,aa,ne,Ci))}),Ti}function ge(ne){return cs(ne)?st(ne):{}}function $e(ne,Ie,At){var Yt=Ie(ne);return Il(ne)?Yt:be(Yt,At(ne))}function Xt(ne){return _r.call(ne)}function ln(ne){if(!cs(ne)||tA(ne))return!1;var Ie=Au(ne)||xt(ne)?fi:nn;return Ie.test(Xa(ne))}function Kt(ne){if(!oc(ne))return Kn(ne);var Ie=[];for(var At in Object(ne))Nr.call(ne,At)&&At!="constructor"&&Ie.push(At);return Ie}function Mn(ne,Ie){if(Ie)return ne.slice();var At=new ne.constructor(ne.length);return ne.copy(At),At}function cr(ne){var Ie=new ne.constructor(ne.byteLength);return new Y(Ie).set(new Y(ne)),Ie}function Ii(ne,Ie){var At=Ie?cr(ne.buffer):ne.buffer;return new ne.constructor(At,ne.byteOffset,ne.byteLength)}function ri(ne,Ie,At){var Yt=Ie?At(Ft(ne),!0):Ft(ne);return Pe(Yt,Pt,new ne.constructor)}function ya(ne){var Ie=new ne.constructor(ne.source,jt.exec(ne));return Ie.lastIndex=ne.lastIndex,Ie}function qa(ne,Ie,At){var Yt=Ie?At(pt(ne),!0):pt(ne);return Pe(Yt,Me,new ne.constructor)}function Br(ne){return ht?Object(ht.call(ne)):{}}function mi(ne,Ie){var At=Ie?cr(ne.buffer):ne.buffer;return new ne.constructor(At,ne.byteOffset,ne.length)}function il(ne,Ie){var At=-1,Yt=ne.length;for(Ie||(Ie=Array(Yt));++At<Yt;)Ie[At]=ne[At];return Ie}function Va(ne,Ie,At,Yt){At||(At={});for(var wr=-1,Tn=Ie.length;++wr<Tn;){var Ci=Ie[wr],Ti=Yt?Yt(At[Ci],ne[Ci],Ci,At,ne):void 0;Qn(At,Ci,Ti===void 0?ne[Ci]:Ti)}return At}function xa(ne,Ie){return Va(ne,Za(ne),Ie)}function Bu(ne){return $e(ne,ac,Za)}function Ns(ne,Ie){var At=ne.__data__;return MA(Ie)?At[typeof Ie=="string"?"string":"hash"]:At.map}function Ha(ne,Ie){var At=nt(ne,Ie);return ln(At)?At:void 0}var Za=Nt?Dt(Nt,Object):mo,Gs=Xt;(En&&Gs(new En(new ArrayBuffer(1)))!=ae||m&&Gs(new m)!=k||Tt&&Gs(Tt.resolve())!=Z||Lr&&Gs(new Lr)!=Q||Wn&&Gs(new Wn)!=re)&&(Gs=function(ne){var Ie=_r.call(ne),At=Ie==U?ne.constructor:void 0,Yt=At?Xa(At):void 0;if(Yt)switch(Yt){case de:return ae;case ve:return k;case Se:return Z;case Ue:return Q;case Xe:return re}return Ie});function xA(ne){var Ie=ne.length,At=ne.constructor(Ie);return Ie&&typeof ne[0]=="string"&&Nr.call(ne,"index")&&(At.index=ne.index,At.input=ne.input),At}function pl(ne){return typeof ne.constructor=="function"&&!oc(ne)?ge(Be(ne)):{}}function ic(ne,Ie,At,Yt){var wr=ne.constructor;switch(Ie){case Ae:return cr(ne);case a:case h:return new wr(+ne);case ae:return Ii(ne,Yt);case se:case ye:case De:case Ne:case et:case ft:case Ke:case rt:case _e:return mi(ne,Yt);case k:return ri(ne,Yt,At);case P:case q:return new wr(ne);case W:return ya(ne);case Q:return qa(ne,Yt,At);case oe:return Br(ne)}}function wA(ne,Ie){return Ie=Ie??i,!!Ie&&(typeof ne=="number"||Qt.test(ne))&&ne>-1&&ne%1==0&&ne<Ie}function MA(ne){var Ie=typeof ne;return Ie=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?ne!=="__proto__":ne===null}function tA(ne){return!!mr&&mr in ne}function oc(ne){var Ie=ne&&ne.constructor,At=typeof Ie=="function"&&Ie.prototype||bn;return ne===At}function Xa(ne){if(ne!=null){try{return xr.call(ne)}catch{}try{return ne+""}catch{}}return""}function Es(ne){return Ji(ne,!0,!0)}function SA(ne,Ie){return ne===Ie||ne!==ne&&Ie!==Ie}function ml(ne){return nA(ne)&&Nr.call(ne,"callee")&&(!St.call(ne,"callee")||_r.call(ne)==o)}var Il=Array.isArray;function Ho(ne){return ne!=null&&ku(ne.length)&&!Au(ne)}function nA(ne){return cu(ne)&&Ho(ne)}var uu=mn||Ao;function Au(ne){var Ie=cs(ne)?_r.call(ne):"";return Ie==C||Ie==B}function ku(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=i}function cs(ne){var Ie=typeof ne;return!!ne&&(Ie=="object"||Ie=="function")}function cu(ne){return!!ne&&typeof ne=="object"}function ac(ne){return Ho(ne)?Si(ne):Kt(ne)}function mo(){return[]}function Ao(){return!1}e.exports=Es})(o3,o3.exports);var Jq=o3.exports;const TI=oa(Jq);var KI=NaN,eV="[object Symbol]",tV=/^\s+|\s+$/g,nV=/^[-+]0x[0-9a-f]+$/i,rV=/^0b[01]+$/i,iV=/^0o[0-7]+$/i,oV=parseInt,aV=Object.prototype,sV=aV.toString;function lV(e,n,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),n!==void 0&&(e=e>=n?e:n)),e}function PI(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function uV(e){return!!e&&typeof e=="object"}function AV(e){return typeof e=="symbol"||uV(e)&&sV.call(e)==eV}function tM(e){if(typeof e=="number")return e;if(AV(e))return KI;if(PI(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=PI(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(tV,"");var t=rV.test(e);return t||iV.test(e)?oV(e.slice(2),t?2:8):nV.test(e)?KI:+e}function cV(e,n,t){return t===void 0&&(t=n,n=void 0),t!==void 0&&(t=tM(t),t=t===t?t:0),n!==void 0&&(n=tM(n),n=n===n?n:0),lV(tM(e),n,t)}var dV=cV;const FI=oa(dV);var RL={},Q4={};Q4.byteLength=pV;Q4.toByteArray=gV;Q4.fromByteArray=_V;var of=[],hd=[],hV=typeof Uint8Array<"u"?Uint8Array:Array,nM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var lg=0,fV=nM.length;lg<fV;++lg)of[lg]=nM[lg],hd[nM.charCodeAt(lg)]=lg;hd[45]=62;hd[95]=63;function zL(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function pV(e){var n=zL(e),t=n[0],r=n[1];return(t+r)*3/4-r}function mV(e,n,t){return(n+t)*3/4-t}function gV(e){var n,t=zL(e),r=t[0],i=t[1],o=new hV(mV(e,r,i)),s=0,a=i>0?r-4:r,h;for(h=0;h<a;h+=4)n=hd[e.charCodeAt(h)]<<18|hd[e.charCodeAt(h+1)]<<12|hd[e.charCodeAt(h+2)]<<6|hd[e.charCodeAt(h+3)],o[s++]=n>>16&255,o[s++]=n>>8&255,o[s++]=n&255;return i===2&&(n=hd[e.charCodeAt(h)]<<2|hd[e.charCodeAt(h+1)]>>4,o[s++]=n&255),i===1&&(n=hd[e.charCodeAt(h)]<<10|hd[e.charCodeAt(h+1)]<<4|hd[e.charCodeAt(h+2)]>>2,o[s++]=n>>8&255,o[s++]=n&255),o}function yV(e){return of[e>>18&63]+of[e>>12&63]+of[e>>6&63]+of[e&63]}function vV(e,n,t){for(var r,i=[],o=n;o<t;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(yV(r));return i.join("")}function _V(e){for(var n,t=e.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(vV(e,s,s+o>a?a:s+o));return r===1?(n=e[t-1],i.push(of[n>>2]+of[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],i.push(of[n>>10]+of[n>>4&63]+of[n<<2&63]+"=")),i.join("")}var $4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$4.read=function(e,n,t,r,i){var o,s,a=i*8-r-1,h=(1<<a)-1,g=h>>1,C=-7,B=t?i-1:0,k=t?-1:1,P=e[n+B];for(B+=k,o=P&(1<<-C)-1,P>>=-C,C+=a;C>0;o=o*256+e[n+B],B+=k,C-=8);for(s=o&(1<<-C)-1,o>>=-C,C+=r;C>0;s=s*256+e[n+B],B+=k,C-=8);if(o===0)o=1-g;else{if(o===h)return s?NaN:(P?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-g}return(P?-1:1)*s*Math.pow(2,o-r)};$4.write=function(e,n,t,r,i,o){var s,a,h,g=o*8-i-1,C=(1<<g)-1,B=C>>1,k=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=r?0:o-1,U=r?1:-1,Z=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,s=C):(s=Math.floor(Math.log(n)/Math.LN2),n*(h=Math.pow(2,-s))<1&&(s--,h*=2),s+B>=1?n+=k/h:n+=k*Math.pow(2,1-B),n*h>=2&&(s++,h/=2),s+B>=C?(a=0,s=C):s+B>=1?(a=(n*h-1)*Math.pow(2,i),s=s+B):(a=n*Math.pow(2,B-1)*Math.pow(2,i),s=0));i>=8;e[t+P]=a&255,P+=U,a/=256,i-=8);for(s=s<<i|a,g+=i;g>0;e[t+P]=s&255,P+=U,s/=256,g-=8);e[t+P-U]|=Z*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const n=Q4,t=$4,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=q,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const we=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(we,H),we.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(we){if(we>i)throw new RangeError('The value "'+we+'" is invalid for option "size"');const H=new Uint8Array(we);return Object.setPrototypeOf(H,a.prototype),H}function a(we,H,Y){if(typeof we=="number"){if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(we)}return h(we,H,Y)}a.poolSize=8192;function h(we,H,Y){if(typeof we=="string")return k(we,H);if(ArrayBuffer.isView(we))return U(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof we);if(mr(we,ArrayBuffer)||we&&mr(we.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mr(we,SharedArrayBuffer)||we&&mr(we.buffer,SharedArrayBuffer)))return Z(we,H,Y);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Be=we.valueOf&&we.valueOf();if(Be!=null&&Be!==we)return a.from(Be,H,Y);const st=W(we);if(st)return st;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return a.from(we[Symbol.toPrimitive]("string"),H,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof we)}a.from=function(we,H,Y){return h(we,H,Y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function C(we,H,Y){return g(we),we<=0?s(we):H!==void 0?typeof Y=="string"?s(we).fill(H,Y):s(we).fill(H):s(we)}a.alloc=function(we,H,Y){return C(we,H,Y)};function B(we){return g(we),s(we<0?0:Q(we)|0)}a.allocUnsafe=function(we){return B(we)},a.allocUnsafeSlow=function(we){return B(we)};function k(we,H){if((typeof H!="string"||H==="")&&(H="utf8"),!a.isEncoding(H))throw new TypeError("Unknown encoding: "+H);const Y=oe(we,H)|0;let Be=s(Y);const st=Be.write(we,H);return st!==Y&&(Be=Be.slice(0,st)),Be}function P(we){const H=we.length<0?0:Q(we.length)|0,Y=s(H);for(let Be=0;Be<H;Be+=1)Y[Be]=we[Be]&255;return Y}function U(we){if(mr(we,Uint8Array)){const H=new Uint8Array(we);return Z(H.buffer,H.byteOffset,H.byteLength)}return P(we)}function Z(we,H,Y){if(H<0||we.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<H+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let Be;return H===void 0&&Y===void 0?Be=new Uint8Array(we):Y===void 0?Be=new Uint8Array(we,H):Be=new Uint8Array(we,H,Y),Object.setPrototypeOf(Be,a.prototype),Be}function W(we){if(a.isBuffer(we)){const H=Q(we.length)|0,Y=s(H);return Y.length===0||we.copy(Y,0,0,H),Y}if(we.length!==void 0)return typeof we.length!="number"||xr(we.length)?s(0):P(we);if(we.type==="Buffer"&&Array.isArray(we.data))return P(we.data)}function Q(we){if(we>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return we|0}function q(we){return+we!=we&&(we=0),a.alloc(+we)}a.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==a.prototype},a.compare=function(H,Y){if(mr(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),mr(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),!a.isBuffer(H)||!a.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===Y)return 0;let Be=H.length,st=Y.length;for(let St=0,Et=Math.min(Be,st);St<Et;++St)if(H[St]!==Y[St]){Be=H[St],st=Y[St];break}return Be<st?-1:st<Be?1:0},a.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(H,Y){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return a.alloc(0);let Be;if(Y===void 0)for(Y=0,Be=0;Be<H.length;++Be)Y+=H[Be].length;const st=a.allocUnsafe(Y);let St=0;for(Be=0;Be<H.length;++Be){let Et=H[Be];if(mr(Et,Uint8Array))St+Et.length>st.length?(a.isBuffer(Et)||(Et=a.from(Et)),Et.copy(st,St)):Uint8Array.prototype.set.call(st,Et,St);else if(a.isBuffer(Et))Et.copy(st,St);else throw new TypeError('"list" argument must be an Array of Buffers');St+=Et.length}return st};function oe(we,H){if(a.isBuffer(we))return we.length;if(ArrayBuffer.isView(we)||mr(we,ArrayBuffer))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof we);const Y=we.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&Y===0)return 0;let st=!1;for(;;)switch(H){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return pt(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return bn(we).length;default:if(st)return Be?-1:pt(we).length;H=(""+H).toLowerCase(),st=!0}}a.byteLength=oe;function re(we,H,Y){let Be=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,H>>>=0,Y<=H))return"";for(we||(we="utf8");;)switch(we){case"hex":return Qt(this,H,Y);case"utf8":case"utf-8":return rt(this,H,Y);case"ascii":return jt(this,H,Y);case"latin1":case"binary":return nn(this,H,Y);case"base64":return Ke(this,H,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return He(this,H,Y);default:if(Be)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Be=!0}}a.prototype._isBuffer=!0;function Ae(we,H,Y){const Be=we[H];we[H]=we[Y],we[Y]=Be}a.prototype.swap16=function(){const H=this.length;if(H%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<H;Y+=2)Ae(this,Y,Y+1);return this},a.prototype.swap32=function(){const H=this.length;if(H%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<H;Y+=4)Ae(this,Y,Y+3),Ae(this,Y+1,Y+2);return this},a.prototype.swap64=function(){const H=this.length;if(H%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<H;Y+=8)Ae(this,Y,Y+7),Ae(this,Y+1,Y+6),Ae(this,Y+2,Y+5),Ae(this,Y+3,Y+4);return this},a.prototype.toString=function(){const H=this.length;return H===0?"":arguments.length===0?rt(this,0,H):re.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(H){if(!a.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H?!0:a.compare(this,H)===0},a.prototype.inspect=function(){let H="";const Y=e.INSPECT_MAX_BYTES;return H=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(H+=" ... "),"<Buffer "+H+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(H,Y,Be,st,St){if(mr(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),!a.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(Y===void 0&&(Y=0),Be===void 0&&(Be=H?H.length:0),st===void 0&&(st=0),St===void 0&&(St=this.length),Y<0||Be>H.length||st<0||St>this.length)throw new RangeError("out of range index");if(st>=St&&Y>=Be)return 0;if(st>=St)return-1;if(Y>=Be)return 1;if(Y>>>=0,Be>>>=0,st>>>=0,St>>>=0,this===H)return 0;let Et=St-st,Nt=Be-Y;const mn=Math.min(Et,Nt),Kn=this.slice(st,St),En=H.slice(Y,Be);for(let m=0;m<mn;++m)if(Kn[m]!==En[m]){Et=Kn[m],Nt=En[m];break}return Et<Nt?-1:Nt<Et?1:0};function ae(we,H,Y,Be,st){if(we.length===0)return-1;if(typeof Y=="string"?(Be=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,xr(Y)&&(Y=st?0:we.length-1),Y<0&&(Y=we.length+Y),Y>=we.length){if(st)return-1;Y=we.length-1}else if(Y<0)if(st)Y=0;else return-1;if(typeof H=="string"&&(H=a.from(H,Be)),a.isBuffer(H))return H.length===0?-1:se(we,H,Y,Be,st);if(typeof H=="number")return H=H&255,typeof Uint8Array.prototype.indexOf=="function"?st?Uint8Array.prototype.indexOf.call(we,H,Y):Uint8Array.prototype.lastIndexOf.call(we,H,Y):se(we,[H],Y,Be,st);throw new TypeError("val must be string, number or Buffer")}function se(we,H,Y,Be,st){let St=1,Et=we.length,Nt=H.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(we.length<2||H.length<2)return-1;St=2,Et/=2,Nt/=2,Y/=2}function mn(En,m){return St===1?En[m]:En.readUInt16BE(m*St)}let Kn;if(st){let En=-1;for(Kn=Y;Kn<Et;Kn++)if(mn(we,Kn)===mn(H,En===-1?0:Kn-En)){if(En===-1&&(En=Kn),Kn-En+1===Nt)return En*St}else En!==-1&&(Kn-=Kn-En),En=-1}else for(Y+Nt>Et&&(Y=Et-Nt),Kn=Y;Kn>=0;Kn--){let En=!0;for(let m=0;m<Nt;m++)if(mn(we,Kn+m)!==mn(H,m)){En=!1;break}if(En)return Kn}return-1}a.prototype.includes=function(H,Y,Be){return this.indexOf(H,Y,Be)!==-1},a.prototype.indexOf=function(H,Y,Be){return ae(this,H,Y,Be,!0)},a.prototype.lastIndexOf=function(H,Y,Be){return ae(this,H,Y,Be,!1)};function ye(we,H,Y,Be){Y=Number(Y)||0;const st=we.length-Y;Be?(Be=Number(Be),Be>st&&(Be=st)):Be=st;const St=H.length;Be>St/2&&(Be=St/2);let Et;for(Et=0;Et<Be;++Et){const Nt=parseInt(H.substr(Et*2,2),16);if(xr(Nt))return Et;we[Y+Et]=Nt}return Et}function De(we,H,Y,Be){return Jn(pt(H,we.length-Y),we,Y,Be)}function Ne(we,H,Y,Be){return Jn(nr(H),we,Y,Be)}function et(we,H,Y,Be){return Jn(bn(H),we,Y,Be)}function ft(we,H,Y,Be){return Jn(pn(H,we.length-Y),we,Y,Be)}a.prototype.write=function(H,Y,Be,st){if(Y===void 0)st="utf8",Be=this.length,Y=0;else if(Be===void 0&&typeof Y=="string")st=Y,Be=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(Be)?(Be=Be>>>0,st===void 0&&(st="utf8")):(st=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const St=this.length-Y;if((Be===void 0||Be>St)&&(Be=St),H.length>0&&(Be<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");st||(st="utf8");let Et=!1;for(;;)switch(st){case"hex":return ye(this,H,Y,Be);case"utf8":case"utf-8":return De(this,H,Y,Be);case"ascii":case"latin1":case"binary":return Ne(this,H,Y,Be);case"base64":return et(this,H,Y,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ft(this,H,Y,Be);default:if(Et)throw new TypeError("Unknown encoding: "+st);st=(""+st).toLowerCase(),Et=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ke(we,H,Y){return H===0&&Y===we.length?n.fromByteArray(we):n.fromByteArray(we.slice(H,Y))}function rt(we,H,Y){Y=Math.min(we.length,Y);const Be=[];let st=H;for(;st<Y;){const St=we[st];let Et=null,Nt=St>239?4:St>223?3:St>191?2:1;if(st+Nt<=Y){let mn,Kn,En,m;switch(Nt){case 1:St<128&&(Et=St);break;case 2:mn=we[st+1],(mn&192)===128&&(m=(St&31)<<6|mn&63,m>127&&(Et=m));break;case 3:mn=we[st+1],Kn=we[st+2],(mn&192)===128&&(Kn&192)===128&&(m=(St&15)<<12|(mn&63)<<6|Kn&63,m>2047&&(m<55296||m>57343)&&(Et=m));break;case 4:mn=we[st+1],Kn=we[st+2],En=we[st+3],(mn&192)===128&&(Kn&192)===128&&(En&192)===128&&(m=(St&15)<<18|(mn&63)<<12|(Kn&63)<<6|En&63,m>65535&&m<1114112&&(Et=m))}}Et===null?(Et=65533,Nt=1):Et>65535&&(Et-=65536,Be.push(Et>>>10&1023|55296),Et=56320|Et&1023),Be.push(Et),st+=Nt}return Ut(Be)}const _e=4096;function Ut(we){const H=we.length;if(H<=_e)return String.fromCharCode.apply(String,we);let Y="",Be=0;for(;Be<H;)Y+=String.fromCharCode.apply(String,we.slice(Be,Be+=_e));return Y}function jt(we,H,Y){let Be="";Y=Math.min(we.length,Y);for(let st=H;st<Y;++st)Be+=String.fromCharCode(we[st]&127);return Be}function nn(we,H,Y){let Be="";Y=Math.min(we.length,Y);for(let st=H;st<Y;++st)Be+=String.fromCharCode(we[st]);return Be}function Qt(we,H,Y){const Be=we.length;(!H||H<0)&&(H=0),(!Y||Y<0||Y>Be)&&(Y=Be);let st="";for(let St=H;St<Y;++St)st+=Nr[we[St]];return st}function He(we,H,Y){const Be=we.slice(H,Y);let st="";for(let St=0;St<Be.length-1;St+=2)st+=String.fromCharCode(Be[St]+Be[St+1]*256);return st}a.prototype.slice=function(H,Y){const Be=this.length;H=~~H,Y=Y===void 0?Be:~~Y,H<0?(H+=Be,H<0&&(H=0)):H>Be&&(H=Be),Y<0?(Y+=Be,Y<0&&(Y=0)):Y>Be&&(Y=Be),Y<H&&(Y=H);const st=this.subarray(H,Y);return Object.setPrototypeOf(st,a.prototype),st};function Je(we,H,Y){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+H>Y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=this[H],St=1,Et=0;for(;++Et<Y&&(St*=256);)st+=this[H+Et]*St;return st},a.prototype.readUintBE=a.prototype.readUIntBE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=this[H+--Y],St=1;for(;Y>0&&(St*=256);)st+=this[H+--Y]*St;return st},a.prototype.readUint8=a.prototype.readUInt8=function(H,Y){return H=H>>>0,Y||Je(H,1,this.length),this[H]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(H,Y){return H=H>>>0,Y||Je(H,2,this.length),this[H]|this[H+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(H,Y){return H=H>>>0,Y||Je(H,2,this.length),this[H]<<8|this[H+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+this[H+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),this[H]*16777216+(this[H+1]<<16|this[H+2]<<8|this[H+3])},a.prototype.readBigUInt64LE=_r(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=Y+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24,St=this[++H]+this[++H]*2**8+this[++H]*2**16+Be*2**24;return BigInt(st)+(BigInt(St)<<BigInt(32))}),a.prototype.readBigUInt64BE=_r(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=Y*2**24+this[++H]*2**16+this[++H]*2**8+this[++H],St=this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+Be;return(BigInt(st)<<BigInt(32))+BigInt(St)}),a.prototype.readIntLE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=this[H],St=1,Et=0;for(;++Et<Y&&(St*=256);)st+=this[H+Et]*St;return St*=128,st>=St&&(st-=Math.pow(2,8*Y)),st},a.prototype.readIntBE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=Y,St=1,Et=this[H+--st];for(;st>0&&(St*=256);)Et+=this[H+--st]*St;return St*=128,Et>=St&&(Et-=Math.pow(2,8*Y)),Et},a.prototype.readInt8=function(H,Y){return H=H>>>0,Y||Je(H,1,this.length),this[H]&128?(255-this[H]+1)*-1:this[H]},a.prototype.readInt16LE=function(H,Y){H=H>>>0,Y||Je(H,2,this.length);const Be=this[H]|this[H+1]<<8;return Be&32768?Be|4294901760:Be},a.prototype.readInt16BE=function(H,Y){H=H>>>0,Y||Je(H,2,this.length);const Be=this[H+1]|this[H]<<8;return Be&32768?Be|4294901760:Be},a.prototype.readInt32LE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},a.prototype.readInt32BE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},a.prototype.readBigInt64LE=_r(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=this[H+4]+this[H+5]*2**8+this[H+6]*2**16+(Be<<24);return(BigInt(st)<<BigInt(32))+BigInt(Y+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24)}),a.prototype.readBigInt64BE=_r(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=(Y<<24)+this[++H]*2**16+this[++H]*2**8+this[++H];return(BigInt(st)<<BigInt(32))+BigInt(this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+Be)}),a.prototype.readFloatLE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),t.read(this,H,!0,23,4)},a.prototype.readFloatBE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),t.read(this,H,!1,23,4)},a.prototype.readDoubleLE=function(H,Y){return H=H>>>0,Y||Je(H,8,this.length),t.read(this,H,!0,52,8)},a.prototype.readDoubleBE=function(H,Y){return H=H>>>0,Y||Je(H,8,this.length),t.read(this,H,!1,52,8)};function tt(we,H,Y,Be,st,St){if(!a.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>st||H<St)throw new RangeError('"value" argument is out of bounds');if(Y+Be>we.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,Be=Be>>>0,!st){const Nt=Math.pow(2,8*Be)-1;tt(this,H,Y,Be,Nt,0)}let St=1,Et=0;for(this[Y]=H&255;++Et<Be&&(St*=256);)this[Y+Et]=H/St&255;return Y+Be},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,Be=Be>>>0,!st){const Nt=Math.pow(2,8*Be)-1;tt(this,H,Y,Be,Nt,0)}let St=Be-1,Et=1;for(this[Y+St]=H&255;--St>=0&&(Et*=256);)this[Y+St]=H/Et&255;return Y+Be},a.prototype.writeUint8=a.prototype.writeUInt8=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,1,255,0),this[Y]=H&255,Y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,65535,0),this[Y]=H&255,this[Y+1]=H>>>8,Y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,65535,0),this[Y]=H>>>8,this[Y+1]=H&255,Y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,4294967295,0),this[Y+3]=H>>>24,this[Y+2]=H>>>16,this[Y+1]=H>>>8,this[Y]=H&255,Y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,4294967295,0),this[Y]=H>>>24,this[Y+1]=H>>>16,this[Y+2]=H>>>8,this[Y+3]=H&255,Y+4};function on(we,H,Y,Be,st){Ze(H,Be,st,we,Y,7);let St=Number(H&BigInt(4294967295));we[Y++]=St,St=St>>8,we[Y++]=St,St=St>>8,we[Y++]=St,St=St>>8,we[Y++]=St;let Et=Number(H>>BigInt(32)&BigInt(4294967295));return we[Y++]=Et,Et=Et>>8,we[Y++]=Et,Et=Et>>8,we[Y++]=Et,Et=Et>>8,we[Y++]=Et,Y}function mt(we,H,Y,Be,st){Ze(H,Be,st,we,Y,7);let St=Number(H&BigInt(4294967295));we[Y+7]=St,St=St>>8,we[Y+6]=St,St=St>>8,we[Y+5]=St,St=St>>8,we[Y+4]=St;let Et=Number(H>>BigInt(32)&BigInt(4294967295));return we[Y+3]=Et,Et=Et>>8,we[Y+2]=Et,Et=Et>>8,we[Y+1]=Et,Et=Et>>8,we[Y]=Et,Y+8}a.prototype.writeBigUInt64LE=_r(function(H,Y=0){return on(this,H,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=_r(function(H,Y=0){return mt(this,H,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,!st){const mn=Math.pow(2,8*Be-1);tt(this,H,Y,Be,mn-1,-mn)}let St=0,Et=1,Nt=0;for(this[Y]=H&255;++St<Be&&(Et*=256);)H<0&&Nt===0&&this[Y+St-1]!==0&&(Nt=1),this[Y+St]=(H/Et>>0)-Nt&255;return Y+Be},a.prototype.writeIntBE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,!st){const mn=Math.pow(2,8*Be-1);tt(this,H,Y,Be,mn-1,-mn)}let St=Be-1,Et=1,Nt=0;for(this[Y+St]=H&255;--St>=0&&(Et*=256);)H<0&&Nt===0&&this[Y+St+1]!==0&&(Nt=1),this[Y+St]=(H/Et>>0)-Nt&255;return Y+Be},a.prototype.writeInt8=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,1,127,-128),H<0&&(H=255+H+1),this[Y]=H&255,Y+1},a.prototype.writeInt16LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,32767,-32768),this[Y]=H&255,this[Y+1]=H>>>8,Y+2},a.prototype.writeInt16BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,32767,-32768),this[Y]=H>>>8,this[Y+1]=H&255,Y+2},a.prototype.writeInt32LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,2147483647,-2147483648),this[Y]=H&255,this[Y+1]=H>>>8,this[Y+2]=H>>>16,this[Y+3]=H>>>24,Y+4},a.prototype.writeInt32BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[Y]=H>>>24,this[Y+1]=H>>>16,this[Y+2]=H>>>8,this[Y+3]=H&255,Y+4},a.prototype.writeBigInt64LE=_r(function(H,Y=0){return on(this,H,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=_r(function(H,Y=0){return mt(this,H,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dt(we,H,Y,Be,st,St){if(Y+Be>we.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function kt(we,H,Y,Be,st){return H=+H,Y=Y>>>0,st||dt(we,H,Y,4),t.write(we,H,Y,Be,23,4),Y+4}a.prototype.writeFloatLE=function(H,Y,Be){return kt(this,H,Y,!0,Be)},a.prototype.writeFloatBE=function(H,Y,Be){return kt(this,H,Y,!1,Be)};function Pt(we,H,Y,Be,st){return H=+H,Y=Y>>>0,st||dt(we,H,Y,8),t.write(we,H,Y,Be,52,8),Y+8}a.prototype.writeDoubleLE=function(H,Y,Be){return Pt(this,H,Y,!0,Be)},a.prototype.writeDoubleBE=function(H,Y,Be){return Pt(this,H,Y,!1,Be)},a.prototype.copy=function(H,Y,Be,st){if(!a.isBuffer(H))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!st&&st!==0&&(st=this.length),Y>=H.length&&(Y=H.length),Y||(Y=0),st>0&&st<Be&&(st=Be),st===Be||H.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("sourceEnd out of bounds");st>this.length&&(st=this.length),H.length-Y<st-Be&&(st=H.length-Y+Be);const St=st-Be;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,Be,st):Uint8Array.prototype.set.call(H,this.subarray(Be,st),Y),St},a.prototype.fill=function(H,Y,Be,st){if(typeof H=="string"){if(typeof Y=="string"?(st=Y,Y=0,Be=this.length):typeof Be=="string"&&(st=Be,Be=this.length),st!==void 0&&typeof st!="string")throw new TypeError("encoding must be a string");if(typeof st=="string"&&!a.isEncoding(st))throw new TypeError("Unknown encoding: "+st);if(H.length===1){const Et=H.charCodeAt(0);(st==="utf8"&&Et<128||st==="latin1")&&(H=Et)}}else typeof H=="number"?H=H&255:typeof H=="boolean"&&(H=Number(H));if(Y<0||this.length<Y||this.length<Be)throw new RangeError("Out of range index");if(Be<=Y)return this;Y=Y>>>0,Be=Be===void 0?this.length:Be>>>0,H||(H=0);let St;if(typeof H=="number")for(St=Y;St<Be;++St)this[St]=H;else{const Et=a.isBuffer(H)?H:a.from(H,st),Nt=Et.length;if(Nt===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(St=0;St<Be-Y;++St)this[St+Y]=Et[St%Nt]}return this};const Me={};function he(we,H,Y){Me[we]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:H.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${we}]`,this.stack,delete this.name}get code(){return we}set code(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}toString(){return`${this.name} [${we}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?`${we} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(we,H){return`The "${we}" argument must be of type number. Received type ${typeof H}`},TypeError),he("ERR_OUT_OF_RANGE",function(we,H,Y){let Be=`The value of "${we}" is out of range.`,st=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?st=be(String(Y)):typeof Y=="bigint"&&(st=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(st=be(st)),st+="n"),Be+=` It must be ${H}. Received ${st}`,Be},RangeError);function be(we){let H="",Y=we.length;const Be=we[0]==="-"?1:0;for(;Y>=Be+4;Y-=3)H=`_${we.slice(Y-3,Y)}${H}`;return`${we.slice(0,Y)}${H}`}function Pe(we,H,Y){nt(H,"offset"),(we[H]===void 0||we[H+Y]===void 0)&&xt(H,we.length-(Y+1))}function Ze(we,H,Y,Be,st,St){if(we>Y||we<H){const Et=typeof H=="bigint"?"n":"";let Nt;throw St>3?H===0||H===BigInt(0)?Nt=`>= 0${Et} and < 2${Et} ** ${(St+1)*8}${Et}`:Nt=`>= -(2${Et} ** ${(St+1)*8-1}${Et}) and < 2 ** ${(St+1)*8-1}${Et}`:Nt=`>= ${H}${Et} and <= ${Y}${Et}`,new Me.ERR_OUT_OF_RANGE("value",Nt,we)}Pe(Be,st,St)}function nt(we,H){if(typeof we!="number")throw new Me.ERR_INVALID_ARG_TYPE(H,"number",we)}function xt(we,H,Y){throw Math.floor(we)!==we?(nt(we,Y),new Me.ERR_OUT_OF_RANGE(Y||"offset","an integer",we)):H<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(Y||"offset",`>= ${Y?1:0} and <= ${H}`,we)}const Ft=/[^+/0-9A-Za-z-_]/g;function Dt(we){if(we=we.split("=")[0],we=we.trim().replace(Ft,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function pt(we,H){H=H||1/0;let Y;const Be=we.length;let st=null;const St=[];for(let Et=0;Et<Be;++Et){if(Y=we.charCodeAt(Et),Y>55295&&Y<57344){if(!st){if(Y>56319){(H-=3)>-1&&St.push(239,191,189);continue}else if(Et+1===Be){(H-=3)>-1&&St.push(239,191,189);continue}st=Y;continue}if(Y<56320){(H-=3)>-1&&St.push(239,191,189),st=Y;continue}Y=(st-55296<<10|Y-56320)+65536}else st&&(H-=3)>-1&&St.push(239,191,189);if(st=null,Y<128){if((H-=1)<0)break;St.push(Y)}else if(Y<2048){if((H-=2)<0)break;St.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((H-=3)<0)break;St.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((H-=4)<0)break;St.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return St}function nr(we){const H=[];for(let Y=0;Y<we.length;++Y)H.push(we.charCodeAt(Y)&255);return H}function pn(we,H){let Y,Be,st;const St=[];for(let Et=0;Et<we.length&&!((H-=2)<0);++Et)Y=we.charCodeAt(Et),Be=Y>>8,st=Y%256,St.push(st),St.push(Be);return St}function bn(we){return n.toByteArray(Dt(we))}function Jn(we,H,Y,Be){let st;for(st=0;st<Be&&!(st+Y>=H.length||st>=we.length);++st)H[st+Y]=we[st];return st}function mr(we,H){return we instanceof H||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===H.name}function xr(we){return we!==we}const Nr=function(){const we="0123456789abcdef",H=new Array(256);for(let Y=0;Y<16;++Y){const Be=Y*16;for(let st=0;st<16;++st)H[Be+st]=we[Y]+we[st]}return H}();function _r(we){return typeof BigInt>"u"?fi:we}function fi(){throw new Error("BigInt not supported")}})(RL);const CV=oa(RL);var bV="Expected a function",jL="__lodash_hash_undefined__",WL=1/0,xV="[object Function]",wV="[object GeneratorFunction]",MV="[object Symbol]",SV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EV=/^\w*$/,OV=/^\./,BV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kV=/[\\^$.*+?()[\]{}|]/g,IV=/\\(\\)?/g,TV=/^\[object .+?Constructor\]$/,KV=typeof window=="object"&&window&&window.Object===Object&&window,PV=typeof self=="object"&&self&&self.Object===Object&&self,_B=KV||PV||Function("return this")();function FV(e,n){return e==null?void 0:e[n]}function DV(e){var n=!1;if(e!=null&&typeof e.toString!="function")try{n=!!(e+"")}catch{}return n}var LV=Array.prototype,UV=Function.prototype,NL=Object.prototype,rM=_B["__core-js_shared__"],DI=function(){var e=/[^.]+$/.exec(rM&&rM.keys&&rM.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),GL=UV.toString,CB=NL.hasOwnProperty,QL=NL.toString,RV=RegExp("^"+GL.call(CB).replace(kV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),LI=_B.Symbol,zV=LV.splice,jV=$L(_B,"Map"),nC=$L(Object,"create"),UI=LI?LI.prototype:void 0,RI=UI?UI.toString:void 0;function u1(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function WV(){this.__data__=nC?nC(null):{}}function NV(e){return this.has(e)&&delete this.__data__[e]}function GV(e){var n=this.__data__;if(nC){var t=n[e];return t===jL?void 0:t}return CB.call(n,e)?n[e]:void 0}function QV(e){var n=this.__data__;return nC?n[e]!==void 0:CB.call(n,e)}function $V(e,n){var t=this.__data__;return t[e]=nC&&n===void 0?jL:n,this}u1.prototype.clear=WV;u1.prototype.delete=NV;u1.prototype.get=GV;u1.prototype.has=QV;u1.prototype.set=$V;function jy(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function YV(){this.__data__=[]}function qV(e){var n=this.__data__,t=Y4(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():zV.call(n,t,1),!0}function VV(e){var n=this.__data__,t=Y4(n,e);return t<0?void 0:n[t][1]}function HV(e){return Y4(this.__data__,e)>-1}function ZV(e,n){var t=this.__data__,r=Y4(t,e);return r<0?t.push([e,n]):t[r][1]=n,this}jy.prototype.clear=YV;jy.prototype.delete=qV;jy.prototype.get=VV;jy.prototype.has=HV;jy.prototype.set=ZV;function _1(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function XV(){this.__data__={hash:new u1,map:new(jV||jy),string:new u1}}function JV(e){return q4(this,e).delete(e)}function eH(e){return q4(this,e).get(e)}function tH(e){return q4(this,e).has(e)}function nH(e,n){return q4(this,e).set(e,n),this}_1.prototype.clear=XV;_1.prototype.delete=JV;_1.prototype.get=eH;_1.prototype.has=tH;_1.prototype.set=nH;function Y4(e,n){for(var t=e.length;t--;)if(hH(e[t][0],n))return t;return-1}function rH(e,n){n=sH(n,e)?[n]:aH(n);for(var t=0,r=n.length;e!=null&&t<r;)e=e[cH(n[t++])];return t&&t==r?e:void 0}function iH(e){if(!qL(e)||uH(e))return!1;var n=fH(e)||DV(e)?RV:TV;return n.test(dH(e))}function oH(e){if(typeof e=="string")return e;if(xB(e))return RI?RI.call(e):"";var n=e+"";return n=="0"&&1/e==-WL?"-0":n}function aH(e){return YL(e)?e:AH(e)}function q4(e,n){var t=e.__data__;return lH(n)?t[typeof n=="string"?"string":"hash"]:t.map}function $L(e,n){var t=FV(e,n);return iH(t)?t:void 0}function sH(e,n){if(YL(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||xB(e)?!0:EV.test(e)||!SV.test(e)||n!=null&&e in Object(n)}function lH(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function uH(e){return!!DI&&DI in e}var AH=bB(function(e){e=mH(e);var n=[];return OV.test(e)&&n.push(""),e.replace(BV,function(t,r,i,o){n.push(i?o.replace(IV,"$1"):r||t)}),n});function cH(e){if(typeof e=="string"||xB(e))return e;var n=e+"";return n=="0"&&1/e==-WL?"-0":n}function dH(e){if(e!=null){try{return GL.call(e)}catch{}try{return e+""}catch{}}return""}function bB(e,n){if(typeof e!="function"||n&&typeof n!="function")throw new TypeError(bV);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return t.cache=o.set(i,s),s};return t.cache=new(bB.Cache||_1),t}bB.Cache=_1;function hH(e,n){return e===n||e!==e&&n!==n}var YL=Array.isArray;function fH(e){var n=qL(e)?QL.call(e):"";return n==xV||n==wV}function qL(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function pH(e){return!!e&&typeof e=="object"}function xB(e){return typeof e=="symbol"||pH(e)&&QL.call(e)==MV}function mH(e){return e==null?"":oH(e)}function gH(e,n,t){var r=e==null?void 0:rH(e,n);return r===void 0?t:r}var yH=gH;const vH=oa(yH);var a3={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */a3.exports;(function(e,n){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,C="__lodash_placeholder__",B=1,k=2,P=4,U=1,Z=2,W=1,Q=2,q=4,oe=8,re=16,Ae=32,ae=64,se=128,ye=256,De=512,Ne=30,et="...",ft=800,Ke=16,rt=1,_e=2,Ut=3,jt=1/0,nn=9007199254740991,Qt=17976931348623157e292,He=NaN,Je=4294967295,tt=Je-1,on=Je>>>1,mt=[["ary",se],["bind",W],["bindKey",Q],["curry",oe],["curryRight",re],["flip",De],["partial",Ae],["partialRight",ae],["rearg",ye]],dt="[object Arguments]",kt="[object Array]",Pt="[object AsyncFunction]",Me="[object Boolean]",he="[object Date]",be="[object DOMException]",Pe="[object Error]",Ze="[object Function]",nt="[object GeneratorFunction]",xt="[object Map]",Ft="[object Number]",Dt="[object Null]",pt="[object Object]",nr="[object Promise]",pn="[object Proxy]",bn="[object RegExp]",Jn="[object Set]",mr="[object String]",xr="[object Symbol]",Nr="[object Undefined]",_r="[object WeakMap]",fi="[object WeakSet]",we="[object ArrayBuffer]",H="[object DataView]",Y="[object Float32Array]",Be="[object Float64Array]",st="[object Int8Array]",St="[object Int16Array]",Et="[object Int32Array]",Nt="[object Uint8Array]",mn="[object Uint8ClampedArray]",Kn="[object Uint16Array]",En="[object Uint32Array]",m=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,Lr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wn=/&(?:amp|lt|gt|quot|#39);/g,Te=/[&<>"']/g,de=RegExp(Wn.source),ve=RegExp(Te.source),Se=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,Xe=/<%=([\s\S]+?)%>/g,at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ht=/^\w*$/,Ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(Ct.source),Ht=/^\s+/,qt=/\s/,Vn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,On=/\{\n\/\* \[wrapped with (.+)\] \*/,ir=/,? & /,or=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tr=/[()=,{}\[\]\/\s]/,Ur=/\\(\\)?/g,Dr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jr=/\w*$/,rr=/^[-+]0x[0-9a-f]+$/i,li=/^0b[01]+$/i,ki=/^\[object .+?Constructor\]$/,Xi=/^0o[0-7]+$/i,xo=/^(?:0|[1-9]\d*)$/,pi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,As=/['\n\r\u2028\u2029\\]/g,Ia="\\ud800-\\udfff",_i="\\u0300-\\u036f",Ss="\\ufe20-\\ufe2f",Si="\\u20d0-\\u20ff",Qn=_i+Ss+Si,so="\\u2700-\\u27bf",No="a-z\\xdf-\\xf6\\xf8-\\xff",Ji="\\xac\\xb1\\xd7\\xf7",ge="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$e="\\u2000-\\u206f",Xt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",Kt="\\ufe0e\\ufe0f",Mn=Ji+ge+$e+Xt,cr="[']",Ii="["+Ia+"]",ri="["+Mn+"]",ya="["+Qn+"]",qa="\\d+",Br="["+so+"]",mi="["+No+"]",il="[^"+Ia+Mn+qa+so+No+ln+"]",Va="\\ud83c[\\udffb-\\udfff]",xa="(?:"+ya+"|"+Va+")",Bu="[^"+Ia+"]",Ns="(?:\\ud83c[\\udde6-\\uddff]){2}",Ha="[\\ud800-\\udbff][\\udc00-\\udfff]",Za="["+ln+"]",Gs="\\u200d",xA="(?:"+mi+"|"+il+")",pl="(?:"+Za+"|"+il+")",ic="(?:"+cr+"(?:d|ll|m|re|s|t|ve))?",wA="(?:"+cr+"(?:D|LL|M|RE|S|T|VE))?",MA=xa+"?",tA="["+Kt+"]?",oc="(?:"+Gs+"(?:"+[Bu,Ns,Ha].join("|")+")"+tA+MA+")*",Xa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Es="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",SA=tA+MA+oc,ml="(?:"+[Br,Ns,Ha].join("|")+")"+SA,Il="(?:"+[Bu+ya+"?",ya,Ns,Ha,Ii].join("|")+")",Ho=RegExp(cr,"g"),nA=RegExp(ya,"g"),uu=RegExp(Va+"(?="+Va+")|"+Il+SA,"g"),Au=RegExp([Za+"?"+mi+"+"+ic+"(?="+[ri,Za,"$"].join("|")+")",pl+"+"+wA+"(?="+[ri,Za+xA,"$"].join("|")+")",Za+"?"+xA+"+"+ic,Za+"+"+wA,Es,Xa,qa,ml].join("|"),"g"),ku=RegExp("["+Gs+Ia+Qn+Kt+"]"),cs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ac=-1,mo={};mo[Y]=mo[Be]=mo[st]=mo[St]=mo[Et]=mo[Nt]=mo[mn]=mo[Kn]=mo[En]=!0,mo[dt]=mo[kt]=mo[we]=mo[Me]=mo[H]=mo[he]=mo[Pe]=mo[Ze]=mo[xt]=mo[Ft]=mo[pt]=mo[bn]=mo[Jn]=mo[mr]=mo[_r]=!1;var Ao={};Ao[dt]=Ao[kt]=Ao[we]=Ao[H]=Ao[Me]=Ao[he]=Ao[Y]=Ao[Be]=Ao[st]=Ao[St]=Ao[Et]=Ao[xt]=Ao[Ft]=Ao[pt]=Ao[bn]=Ao[Jn]=Ao[mr]=Ao[xr]=Ao[Nt]=Ao[mn]=Ao[Kn]=Ao[En]=!0,Ao[Pe]=Ao[Ze]=Ao[_r]=!1;var ne={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},At={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wr=parseFloat,Tn=parseInt,Ci=typeof window=="object"&&window&&window.Object===Object&&window,Ti=typeof self=="object"&&self&&self.Object===Object&&self,Yr=Ci||Ti||Function("return this")(),Gi=n&&!n.nodeType&&n,Po=Gi&&!0&&e&&!e.nodeType&&e,wa=Po&&Po.exports===Gi,zo=wa&&Ci.process,Ki=function(){try{var bt=Po&&Po.require&&Po.require("util").types;return bt||zo&&zo.binding&&zo.binding("util")}catch{}}(),aa=Ki&&Ki.isArrayBuffer,Ta=Ki&&Ki.isDate,Ka=Ki&&Ki.isMap,Ql=Ki&&Ki.isRegExp,Iu=Ki&&Ki.isSet,sc=Ki&&Ki.isTypedArray;function ds(bt,an,Rt){switch(Rt.length){case 0:return bt.call(an);case 1:return bt.call(an,Rt[0]);case 2:return bt.call(an,Rt[0],Rt[1]);case 3:return bt.call(an,Rt[0],Rt[1],Rt[2])}return bt.apply(an,Rt)}function Hm(bt,an,Rt,dr){for(var ei=-1,eo=bt==null?0:bt.length;++ei<eo;){var Xo=bt[ei];an(dr,Xo,Rt(Xo),bt)}return dr}function $l(bt,an){for(var Rt=-1,dr=bt==null?0:bt.length;++Rt<dr&&an(bt[Rt],Rt,bt)!==!1;);return bt}function mh(bt,an){for(var Rt=bt==null?0:bt.length;Rt--&&an(bt[Rt],Rt,bt)!==!1;);return bt}function Wc(bt,an){for(var Rt=-1,dr=bt==null?0:bt.length;++Rt<dr;)if(!an(bt[Rt],Rt,bt))return!1;return!0}function Tu(bt,an){for(var Rt=-1,dr=bt==null?0:bt.length,ei=0,eo=[];++Rt<dr;){var Xo=bt[Rt];an(Xo,Rt,bt)&&(eo[ei++]=Xo)}return eo}function Nc(bt,an){var Rt=bt==null?0:bt.length;return!!Rt&&Fo(bt,an,0)>-1}function EA(bt,an,Rt){for(var dr=-1,ei=bt==null?0:bt.length;++dr<ei;)if(Rt(an,bt[dr]))return!0;return!1}function Go(bt,an){for(var Rt=-1,dr=bt==null?0:bt.length,ei=Array(dr);++Rt<dr;)ei[Rt]=an(bt[Rt],Rt,bt);return ei}function Ku(bt,an){for(var Rt=-1,dr=an.length,ei=bt.length;++Rt<dr;)bt[ei+Rt]=an[Rt];return bt}function Od(bt,an,Rt,dr){var ei=-1,eo=bt==null?0:bt.length;for(dr&&eo&&(Rt=bt[++ei]);++ei<eo;)Rt=an(Rt,bt[ei],ei,bt);return Rt}function OA(bt,an,Rt,dr){var ei=bt==null?0:bt.length;for(dr&&ei&&(Rt=bt[--ei]);ei--;)Rt=an(Rt,bt[ei],ei,bt);return Rt}function lc(bt,an){for(var Rt=-1,dr=bt==null?0:bt.length;++Rt<dr;)if(an(bt[Rt],Rt,bt))return!0;return!1}var du=sa("length");function Gc(bt){return bt.split("")}function Tp(bt){return bt.match(or)||[]}function gh(bt,an,Rt){var dr;return Rt(bt,function(ei,eo,Xo){if(an(ei,eo,Xo))return dr=eo,!1}),dr}function hi(bt,an,Rt,dr){for(var ei=bt.length,eo=Rt+(dr?1:-1);dr?eo--:++eo<ei;)if(an(bt[eo],eo,bt))return eo;return-1}function Fo(bt,an,Rt){return an===an?rA(bt,an,Rt):hi(bt,yh,Rt)}function Zm(bt,an,Rt,dr){for(var ei=Rt-1,eo=bt.length;++ei<eo;)if(dr(bt[ei],an))return ei;return-1}function yh(bt){return bt!==bt}function Pu(bt,an){var Rt=bt==null?0:bt.length;return Rt?wo(bt,an)/Rt:He}function sa(bt){return function(an){return an==null?t:an[bt]}}function vh(bt){return function(an){return bt==null?t:bt[an]}}function Pi(bt,an,Rt,dr,ei){return ei(bt,function(eo,Xo,co){Rt=dr?(dr=!1,eo):an(Rt,eo,Xo,co)}),Rt}function Bd(bt,an){var Rt=bt.length;for(bt.sort(an);Rt--;)bt[Rt]=bt[Rt].value;return bt}function wo(bt,an){for(var Rt,dr=-1,ei=bt.length;++dr<ei;){var eo=an(bt[dr]);eo!==t&&(Rt=Rt===t?eo:Rt+eo)}return Rt}function go(bt,an){for(var Rt=-1,dr=Array(bt);++Rt<bt;)dr[Rt]=an(Rt);return dr}function uc(bt,an){return Go(an,function(Rt){return[Rt,bt[Rt]]})}function Qc(bt){return bt&&bt.slice(0,bh(bt)+1).replace(Ht,"")}function Qs(bt){return function(an){return bt(an)}}function _h(bt,an){return Go(an,function(Rt){return bt[Rt]})}function Yl(bt,an){return bt.has(an)}function Tl(bt,an){for(var Rt=-1,dr=bt.length;++Rt<dr&&Fo(an,bt[Rt],0)>-1;);return Rt}function BA(bt,an){for(var Rt=bt.length;Rt--&&Fo(an,bt[Rt],0)>-1;);return Rt}function Ch(bt,an){for(var Rt=bt.length,dr=0;Rt--;)bt[Rt]===an&&++dr;return dr}var kd=vh(ne),hu=vh(Ie);function Fu(bt){return"\\"+Yt[bt]}function $c(bt,an){return bt==null?t:bt[an]}function kA(bt){return ku.test(bt)}function If(bt){return cs.test(bt)}function Kp(bt){for(var an,Rt=[];!(an=bt.next()).done;)Rt.push(an.value);return Rt}function Ac(bt){var an=-1,Rt=Array(bt.size);return bt.forEach(function(dr,ei){Rt[++an]=[ei,dr]}),Rt}function Yc(bt,an){return function(Rt){return bt(an(Rt))}}function Kl(bt,an){for(var Rt=-1,dr=bt.length,ei=0,eo=[];++Rt<dr;){var Xo=bt[Rt];(Xo===an||Xo===C)&&(bt[Rt]=C,eo[ei++]=Rt)}return eo}function gl(bt){var an=-1,Rt=Array(bt.size);return bt.forEach(function(dr){Rt[++an]=dr}),Rt}function Zo(bt){var an=-1,Rt=Array(bt.size);return bt.forEach(function(dr){Rt[++an]=[dr,dr]}),Rt}function rA(bt,an,Rt){for(var dr=Rt-1,ei=bt.length;++dr<ei;)if(bt[dr]===an)return dr;return-1}function ol(bt,an,Rt){for(var dr=Rt+1;dr--;)if(bt[dr]===an)return dr;return dr}function IA(bt){return kA(bt)?ql(bt):du(bt)}function yl(bt){return kA(bt)?cc(bt):Gc(bt)}function bh(bt){for(var an=bt.length;an--&&qt.test(bt.charAt(an)););return an}var iA=vh(At);function ql(bt){for(var an=uu.lastIndex=0;uu.test(bt);)++an;return an}function cc(bt){return bt.match(uu)||[]}function Id(bt){return bt.match(Au)||[]}var Td=function bt(an){an=an==null?Yr:fu.defaults(Yr.Object(),an,fu.pick(Yr,cu));var Rt=an.Array,dr=an.Date,ei=an.Error,eo=an.Function,Xo=an.Math,co=an.Object,hs=an.RegExp,qc=an.String,fs=an.TypeError,Kd=Rt.prototype,Os=eo.prototype,Jo=co.prototype,pu=an["__core-js_shared__"],Bs=Os.toString,Vi=Jo.hasOwnProperty,xh=0,wh=function(){var v=/[^.]+$/.exec(pu&&pu.keys&&pu.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),vl=Jo.toString,TA=Bs.call(co),Ma=Yr._,$s=hs("^"+Bs.call(Vi).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zn=wa?an.Buffer:t,Pl=an.Symbol,oA=an.Uint8Array,dc=zn?zn.allocUnsafe:t,mu=Yc(co.getPrototypeOf,co),Nn=co.create,hc=Jo.propertyIsEnumerable,KA=Kd.splice,Tf=Pl?Pl.isConcatSpreadable:t,Du=Pl?Pl.iterator:t,gu=Pl?Pl.toStringTag:t,PA=function(){try{var v=sd(co,"defineProperty");return v({},"",{}),v}catch{}}(),Kf=an.clearTimeout!==Yr.clearTimeout&&an.clearTimeout,fc=dr&&dr.now!==Yr.Date.now&&dr.now,Lu=an.setTimeout!==Yr.setTimeout&&an.setTimeout,yo=Xo.ceil,yu=Xo.floor,Vc=co.getOwnPropertySymbols,Pp=zn?zn.isBuffer:t,Pf=an.isFinite,Pd=Kd.join,Mh=Yc(co.keys,co),to=Xo.max,ea=Xo.min,gr=dr.now,Er=an.parseInt,FA=Xo.random,pc=Kd.reverse,Hc=sd(an,"DataView"),Qo=sd(an,"Map"),aA=sd(an,"Promise"),va=sd(an,"Set"),sA=sd(an,"WeakMap"),_l=sd(co,"create"),Do=sA&&new sA,Lo={},Ff=es(Hc),Uu=es(Qo),Ru=es(aA),lA=es(va),Df=es(sA),Zc=Pl?Pl.prototype:t,zu=Zc?Zc.valueOf:t,Sh=Zc?Zc.toString:t;function ke(v){if(fn(v)&&!ee(v)&&!(v instanceof jr)){if(v instanceof no)return v;if(Vi.call(v,"__wrapped__"))return xl(v)}return new no(v)}var Cl=function(){function v(){}return function(S){if(!Cn(S))return{};if(Nn)return Nn(S);v.prototype=S;var F=new v;return v.prototype=t,F}}();function Pa(){}function no(v,S){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=t}ke.templateSettings={escape:Se,evaluate:Ue,interpolate:Xe,variable:"",imports:{_:ke}},ke.prototype=Pa.prototype,ke.prototype.constructor=ke,no.prototype=Cl(Pa.prototype),no.prototype.constructor=no;function jr(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Je,this.__views__=[]}function la(){var v=new jr(this.__wrapped__);return v.__actions__=Vs(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=Vs(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=Vs(this.__views__),v}function mc(){if(this.__filtered__){var v=new jr(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function gc(){var v=this.__wrapped__.value(),S=this.__dir__,F=ee(v),X=S<0,Ce=F?v.length:0,Le=lv(0,Ce,this.__views__),ot=Le.start,yt=Le.end,Bt=yt-ot,gn=X?yt:ot-1,yn=this.__iteratees__,kn=yn.length,hr=0,Wr=ea(Bt,this.__takeCount__);if(!F||!X&&Ce==Bt&&Wr==Bt)return Ph(v,this.__actions__);var ui=[];e:for(;Bt--&&hr<Wr;){gn+=S;for(var ro=-1,Ai=v[gn];++ro<kn;){var po=yn[ro],So=po.iteratee,Sc=po.type,pA=So(Ai);if(Sc==_e)Ai=pA;else if(!pA){if(Sc==rt)continue e;break e}}ui[hr++]=Ai}return ui}jr.prototype=Cl(Pa.prototype),jr.prototype.constructor=jr;function Ys(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var X=v[S];this.set(X[0],X[1])}}function Lf(){this.__data__=_l?_l(null):{},this.size=0}function Fd(v){var S=this.has(v)&&delete this.__data__[v];return this.size-=S?1:0,S}function yc(v){var S=this.__data__;if(_l){var F=S[v];return F===h?t:F}return Vi.call(S,v)?S[v]:t}function Dd(v){var S=this.__data__;return _l?S[v]!==t:Vi.call(S,v)}function Eh(v,S){var F=this.__data__;return this.size+=this.has(v)?0:1,F[v]=_l&&S===t?h:S,this}Ys.prototype.clear=Lf,Ys.prototype.delete=Fd,Ys.prototype.get=yc,Ys.prototype.has=Dd,Ys.prototype.set=Eh;function bl(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var X=v[S];this.set(X[0],X[1])}}function Uf(){this.__data__=[],this.size=0}function O(v){var S=this.__data__,F=un(S,v);if(F<0)return!1;var X=S.length-1;return F==X?S.pop():KA.call(S,F,1),--this.size,!0}function u(v){var S=this.__data__,F=un(S,v);return F<0?t:S[F][1]}function p(v){return un(this.__data__,v)>-1}function _(v,S){var F=this.__data__,X=un(F,v);return X<0?(++this.size,F.push([v,S])):F[X][1]=S,this}bl.prototype.clear=Uf,bl.prototype.delete=O,bl.prototype.get=u,bl.prototype.has=p,bl.prototype.set=_;function M(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var X=v[S];this.set(X[0],X[1])}}function I(){this.size=0,this.__data__={hash:new Ys,map:new(Qo||bl),string:new Ys}}function R(v){var S=Gh(this,v).delete(v);return this.size-=S?1:0,S}function j(v){return Gh(this,v).get(v)}function G(v){return Gh(this,v).has(v)}function te(v,S){var F=Gh(this,v),X=F.size;return F.set(v,S),this.size+=F.size==X?0:1,this}M.prototype.clear=I,M.prototype.delete=R,M.prototype.get=j,M.prototype.has=G,M.prototype.set=te;function ue(v){var S=-1,F=v==null?0:v.length;for(this.__data__=new M;++S<F;)this.add(v[S])}function fe(v){return this.__data__.set(v,h),this}function Ee(v){return this.__data__.has(v)}ue.prototype.add=ue.prototype.push=fe,ue.prototype.has=Ee;function ze(v){var S=this.__data__=new bl(v);this.size=S.size}function Fe(){this.__data__=new bl,this.size=0}function Ge(v){var S=this.__data__,F=S.delete(v);return this.size=S.size,F}function je(v){return this.__data__.get(v)}function ct(v){return this.__data__.has(v)}function Ot(v,S){var F=this.__data__;if(F instanceof bl){var X=F.__data__;if(!Qo||X.length<i-1)return X.push([v,S]),this.size=++F.size,this;F=this.__data__=new M(X)}return F.set(v,S),this.size=F.size,this}ze.prototype.clear=Fe,ze.prototype.delete=Ge,ze.prototype.get=je,ze.prototype.has=ct,ze.prototype.set=Ot;function Ye(v,S){var F=ee(v),X=!F&&V(v),Ce=!F&&!X&&Re(v),Le=!F&&!X&&!Ce&&Ls(v),ot=F||X||Ce||Le,yt=ot?go(v.length,qc):[],Bt=yt.length;for(var gn in v)(S||Vi.call(v,gn))&&!(ot&&(gn=="length"||Ce&&(gn=="offset"||gn=="parent")||Le&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||x(gn,Bt)))&&yt.push(gn);return yt}function _t(v){var S=v.length;return S?v[Dp(0,S-1)]:t}function Gt(v,S){return La(Vs(v),Zn(S,0,v.length))}function It(v){return La(Vs(v))}function en(v,S,F){(F!==t&&!K(v[S],F)||F===t&&!(S in v))&&In(v,S,F)}function cn(v,S,F){var X=v[S];(!(Vi.call(v,S)&&K(X,F))||F===t&&!(S in v))&&In(v,S,F)}function un(v,S){for(var F=v.length;F--;)if(K(v[F][0],S))return F;return-1}function vn(v,S,F,X){return Fi(v,function(Ce,Le,ot){S(X,Ce,F(Ce),ot)}),X}function er(v,S){return v&&Nu(S,El(S),v)}function kr(v,S){return v&&Nu(S,Ra(S),v)}function In(v,S,F){S=="__proto__"&&PA?PA(v,S,{configurable:!0,enumerable:!0,value:F,writable:!0}):v[S]=F}function Cr(v,S){for(var F=-1,X=S.length,Ce=Rt(X),Le=v==null;++F<X;)Ce[F]=Le?t:Iv(v,S[F]);return Ce}function Zn(v,S,F){return v===v&&(F!==t&&(v=v<=F?v:F),S!==t&&(v=v>=S?v:S)),v}function zi(v,S,F,X,Ce,Le){var ot,yt=S&B,Bt=S&k,gn=S&P;if(F&&(ot=Ce?F(v,X,Ce,Le):F(v)),ot!==t)return ot;if(!Cn(v))return v;var yn=ee(v);if(yn){if(ot=uv(v),!yt)return Vs(v,ot)}else{var kn=Ks(v),hr=kn==Ze||kn==nt;if(Re(v))return i0(v,yt);if(kn==pt||kn==dt||hr&&!Ce){if(ot=Bt||hr?{}:u0(v),!yt)return Bt?Qf(v,kr(ot,v)):o0(v,er(ot,v))}else{if(!Ao[kn])return Ce?v:{};ot=Qh(v,kn,yt)}}Le||(Le=new ze);var Wr=Le.get(v);if(Wr)return Wr;Le.set(v,ot),rs(v)?v.forEach(function(Ai){ot.add(zi(Ai,S,F,Ai,v,Le))}):sr(v)&&v.forEach(function(Ai,po){ot.set(po,zi(Ai,S,F,po,v,Le))});var ui=gn?Bt?Wh:$p:Bt?Ra:El,ro=yn?t:ui(v);return $l(ro||v,function(Ai,po){ro&&(po=Ai,Ai=v[po]),cn(ot,po,zi(Ai,S,F,po,v,Le))}),ot}function bi(v){var S=El(v);return function(F){return Hr(F,v,S)}}function Hr(v,S,F){var X=F.length;if(v==null)return!X;for(v=co(v);X--;){var Ce=F[X],Le=S[Ce],ot=v[Ce];if(ot===t&&!(Ce in v)||!Le(ot))return!1}return!0}function gi(v,S,F){if(typeof v!="function")throw new fs(s);return Or(function(){v.apply(t,F)},S)}function $o(v,S,F,X){var Ce=-1,Le=Nc,ot=!0,yt=v.length,Bt=[],gn=S.length;if(!yt)return Bt;F&&(S=Go(S,Qs(F))),X?(Le=EA,ot=!1):S.length>=i&&(Le=Yl,ot=!1,S=new ue(S));e:for(;++Ce<yt;){var yn=v[Ce],kn=F==null?yn:F(yn);if(yn=X||yn!==0?yn:0,ot&&kn===kn){for(var hr=gn;hr--;)if(S[hr]===kn)continue e;Bt.push(yn)}else Le(S,kn,X)||Bt.push(yn)}return Bt}var Fi=Nd(Ts),ks=Nd(vu,!0);function ps(v,S){var F=!0;return Fi(v,function(X,Ce,Le){return F=!!S(X,Ce,Le),F}),F}function jo(v,S,F){for(var X=-1,Ce=v.length;++X<Ce;){var Le=v[X],ot=S(Le);if(ot!=null&&(yt===t?ot===ot&&!Wo(ot):F(ot,yt)))var yt=ot,Bt=Le}return Bt}function Is(v,S,F,X){var Ce=v.length;for(F=$r(F),F<0&&(F=-F>Ce?0:Ce+F),X=X===t||X>Ce?Ce:$r(X),X<0&&(X+=Ce),X=F>X?0:_s(X);F<X;)v[F++]=S;return v}function _a(v,S){var F=[];return Fi(v,function(X,Ce,Le){S(X,Ce,Le)&&F.push(X)}),F}function vo(v,S,F,X,Ce){var Le=-1,ot=v.length;for(F||(F=f),Ce||(Ce=[]);++Le<ot;){var yt=v[Le];S>0&&F(yt)?S>1?vo(yt,S-1,F,X,Ce):Ku(Ce,yt):X||(Ce[Ce.length]=yt)}return Ce}var Fl=L1(),DA=L1(!0);function Ts(v,S){return v&&Fl(v,S,El)}function vu(v,S){return v&&DA(v,S,El)}function Ca(v,S){return Tu(S,function(F){return Dn(v[F])})}function Bo(v,S){S=id(S,v);for(var F=0,X=S.length;v!=null&&F<X;)v=v[Ea(S[F++])];return F&&F==X?v:t}function Ei(v,S,F){var X=S(v);return ee(v)?X:Ku(X,F(v))}function ho(v){return v==null?v===t?Nr:Dt:gu&&gu in co(v)?qf(v):dn(v)}function Mo(v,S){return v>S}function Fa(v,S){return v!=null&&Vi.call(v,S)}function Ja(v,S){return v!=null&&S in co(v)}function ta(v,S,F){return v>=ea(S,F)&&v<to(S,F)}function vc(v,S,F){for(var X=F?EA:Nc,Ce=v[0].length,Le=v.length,ot=Le,yt=Rt(Le),Bt=1/0,gn=[];ot--;){var yn=v[ot];ot&&S&&(yn=Go(yn,Qs(S))),Bt=ea(yn.length,Bt),yt[ot]=!F&&(S||Ce>=120&&yn.length>=120)?new ue(ot&&yn):t}yn=v[0];var kn=-1,hr=yt[0];e:for(;++kn<Ce&&gn.length<Bt;){var Wr=yn[kn],ui=S?S(Wr):Wr;if(Wr=F||Wr!==0?Wr:0,!(hr?Yl(hr,ui):X(gn,ui,F))){for(ot=Le;--ot;){var ro=yt[ot];if(!(ro?Yl(ro,ui):X(v[ot],ui,F)))continue e}hr&&hr.push(ui),gn.push(Wr)}}return gn}function ua(v,S,F,X){return Ts(v,function(Ce,Le,ot){S(X,F(Ce),Le,ot)}),X}function LA(v,S,F){S=id(S,v),v=Gn(v,S);var X=v==null?v:v[Ea(cA(S))];return X==null?t:ds(X,v,F)}function Oh(v){return fn(v)&&ho(v)==dt}function Vl(v){return fn(v)&&ho(v)==we}function UA(v){return fn(v)&&ho(v)==he}function qs(v,S,F,X,Ce){return v===S?!0:v==null||S==null||!fn(v)&&!fn(S)?v!==v&&S!==S:Ld(v,S,F,X,qs,Ce)}function Ld(v,S,F,X,Ce,Le){var ot=ee(v),yt=ee(S),Bt=ot?kt:Ks(v),gn=yt?kt:Ks(S);Bt=Bt==dt?pt:Bt,gn=gn==dt?pt:gn;var yn=Bt==pt,kn=gn==pt,hr=Bt==gn;if(hr&&Re(v)){if(!Re(S))return!1;ot=!0,yn=!1}if(hr&&!yn)return Le||(Le=new ze),ot||Ls(v)?bu(v,S,F,X,Ce,Le):Qp(v,S,Bt,F,X,Ce,Le);if(!(F&U)){var Wr=yn&&Vi.call(v,"__wrapped__"),ui=kn&&Vi.call(S,"__wrapped__");if(Wr||ui){var ro=Wr?v.value():v,Ai=ui?S.value():S;return Le||(Le=new ze),Ce(ro,Ai,F,X,Le)}}return hr?(Le||(Le=new ze),l0(v,S,F,X,Ce,Le)):!1}function _c(v){return fn(v)&&Ks(v)==xt}function Bh(v,S,F,X){var Ce=F.length,Le=Ce,ot=!X;if(v==null)return!Le;for(v=co(v);Ce--;){var yt=F[Ce];if(ot&&yt[2]?yt[1]!==v[yt[0]]:!(yt[0]in v))return!1}for(;++Ce<Le;){yt=F[Ce];var Bt=yt[0],gn=v[Bt],yn=yt[1];if(ot&&yt[2]){if(gn===t&&!(Bt in v))return!1}else{var kn=new ze;if(X)var hr=X(gn,yn,Bt,v,S,kn);if(!(hr===t?qs(yn,gn,U|Z,X,kn):hr))return!1}}return!0}function ju(v){if(!Cn(v)||J(v))return!1;var S=Dn(v)?$s:ki;return S.test(es(v))}function Rf(v){return fn(v)&&ho(v)==bn}function Xc(v){return fn(v)&&Ks(v)==Jn}function I1(v){return fn(v)&&$n(v.length)&&!!mo[ho(v)]}function Jc(v){return typeof v=="function"?v:v==null?$A:typeof v=="object"?ee(v)?Th(v[0],v[1]):Ih(v):xk(v)}function ed(v){if(!pe(v))return Mh(v);var S=[];for(var F in co(v))Vi.call(v,F)&&F!="constructor"&&S.push(F);return S}function kh(v){if(!Cn(v))return Lt(v);var S=pe(v),F=[];for(var X in v)X=="constructor"&&(S||!Vi.call(v,X))||F.push(X);return F}function Wu(v,S){return v<S}function Xm(v,S){var F=-1,X=me(v)?Rt(v.length):[];return Fi(v,function(Ce,Le,ot){X[++F]=S(Ce,Le,ot)}),X}function Ih(v){var S=_o(v);return S.length==1&&S[0][2]?qe(S[0][0],S[0][1]):function(F){return F===v||Bh(F,v,S)}}function Th(v,S){return E(v)&&We(S)?qe(Ea(v),S):function(F){var X=Iv(F,v);return X===t&&X===S?Tv(F,v):qs(S,X,U|Z)}}function Hl(v,S,F,X,Ce){v!==S&&Fl(S,function(Le,ot){if(Ce||(Ce=new ze),Cn(Le))Ud(v,S,ot,F,Hl,X,Ce);else{var yt=X?X(Fn(v,ot),Le,ot+"",v,S,Ce):t;yt===t&&(yt=Le),en(v,ot,yt)}},Ra)}function Ud(v,S,F,X,Ce,Le,ot){var yt=Fn(v,F),Bt=Fn(S,F),gn=ot.get(Bt);if(gn){en(v,F,gn);return}var yn=Le?Le(yt,Bt,F+"",v,S,ot):t,kn=yn===t;if(kn){var hr=ee(Bt),Wr=!hr&&Re(Bt),ui=!hr&&!Wr&&Ls(Bt);yn=Bt,hr||Wr||ui?ee(yt)?yn=yt:xe(yt)?yn=Vs(yt):Wr?(kn=!1,yn=i0(Bt,!0)):ui?(kn=!1,yn=Aa(Bt,!0)):yn=[]:Oa(Bt)||V(Bt)?(yn=yt,V(yt)?yn=Ml(yt):(!Cn(yt)||Dn(yt))&&(yn=u0(Bt))):kn=!1}kn&&(ot.set(Bt,yn),Ce(yn,Bt,X,Le,ot),ot.delete(Bt)),en(v,F,yn)}function Rd(v,S){var F=v.length;if(F)return S+=S<0?F:0,x(S,F)?v[S]:t}function T1(v,S,F){S.length?S=Go(S,function(Le){return ee(Le)?function(ot){return Bo(ot,Le.length===1?Le[0]:Le)}:Le}):S=[$A];var X=-1;S=Go(S,Qs(Qr()));var Ce=Xm(v,function(Le,ot,yt){var Bt=Go(S,function(gn){return gn(Le)});return{criteria:Bt,index:++X,value:Le}});return Bd(Ce,function(Le,ot){return D1(Le,ot,F)})}function al(v,S){return zd(v,S,function(F,X){return Tv(v,X)})}function zd(v,S,F){for(var X=-1,Ce=S.length,Le={};++X<Ce;){var ot=S[X],yt=Bo(v,ot);F(yt,ot)&&Kh(Le,id(ot,v),yt)}return Le}function Jm(v){return function(S){return Bo(S,v)}}function Fp(v,S,F,X){var Ce=X?Zm:Fo,Le=-1,ot=S.length,yt=v;for(v===S&&(S=Vs(S)),F&&(yt=Go(v,Qs(F)));++Le<ot;)for(var Bt=0,gn=S[Le],yn=F?F(gn):gn;(Bt=Ce(yt,yn,Bt,X))>-1;)yt!==v&&KA.call(yt,Bt,1),KA.call(v,Bt,1);return v}function ms(v,S){for(var F=v?S.length:0,X=F-1;F--;){var Ce=S[F];if(F==X||Ce!==Le){var Le=Ce;x(Ce)?KA.call(v,Ce,1):Rp(v,Ce)}}return v}function Dp(v,S){return v+yu(FA()*(S-v+1))}function Lp(v,S,F,X){for(var Ce=-1,Le=to(yo((S-v)/(F||1)),0),ot=Rt(Le);Le--;)ot[X?Le:++Ce]=v,v+=F;return ot}function e0(v,S){var F="";if(!v||S<1||S>nn)return F;do S%2&&(F+=v),S=yu(S/2),S&&(v+=v);while(S);return F}function ji(v,S){return yr(Bn(v,S,$A),v+"")}function t0(v){return _t(sg(v))}function n0(v,S){var F=sg(v);return La(F,Zn(S,0,F.length))}function Kh(v,S,F,X){if(!Cn(v))return v;S=id(S,v);for(var Ce=-1,Le=S.length,ot=Le-1,yt=v;yt!=null&&++Ce<Le;){var Bt=Ea(S[Ce]),gn=F;if(Bt==="__proto__"||Bt==="constructor"||Bt==="prototype")return v;if(Ce!=ot){var yn=yt[Bt];gn=X?X(yn,Bt,yt):t,gn===t&&(gn=Cn(yn)?yn:x(S[Ce+1])?[]:{})}cn(yt,Bt,gn),yt=yt[Bt]}return v}var Up=Do?function(v,S){return Do.set(v,S),v}:$A,K1=PA?function(v,S){return PA(v,"toString",{configurable:!0,enumerable:!1,value:Kw(S),writable:!0})}:$A;function r0(v){return La(sg(v))}function Sa(v,S,F){var X=-1,Ce=v.length;S<0&&(S=-S>Ce?0:Ce+S),F=F>Ce?Ce:F,F<0&&(F+=Ce),Ce=S>F?0:F-S>>>0,S>>>=0;for(var Le=Rt(Ce);++X<Ce;)Le[X]=v[X+S];return Le}function sl(v,S){var F;return Fi(v,function(X,Ce,Le){return F=S(X,Ce,Le),!F}),!!F}function td(v,S,F){var X=0,Ce=v==null?X:v.length;if(typeof S=="number"&&S===S&&Ce<=on){for(;X<Ce;){var Le=X+Ce>>>1,ot=v[Le];ot!==null&&!Wo(ot)&&(F?ot<=S:ot<S)?X=Le+1:Ce=Le}return Ce}return jd(v,S,$A,F)}function jd(v,S,F,X){var Ce=0,Le=v==null?0:v.length;if(Le===0)return 0;S=F(S);for(var ot=S!==S,yt=S===null,Bt=Wo(S),gn=S===t;Ce<Le;){var yn=yu((Ce+Le)/2),kn=F(v[yn]),hr=kn!==t,Wr=kn===null,ui=kn===kn,ro=Wo(kn);if(ot)var Ai=X||ui;else gn?Ai=ui&&(X||hr):yt?Ai=ui&&hr&&(X||!Wr):Bt?Ai=ui&&hr&&!Wr&&(X||!ro):Wr||ro?Ai=!1:Ai=X?kn<=S:kn<S;Ai?Ce=yn+1:Le=yn}return ea(Le,tt)}function uA(v,S){for(var F=-1,X=v.length,Ce=0,Le=[];++F<X;){var ot=v[F],yt=S?S(ot):ot;if(!F||!K(yt,Bt)){var Bt=yt;Le[Ce++]=ot===0?0:ot}}return Le}function P1(v){return typeof v=="number"?v:Wo(v)?He:+v}function _u(v){if(typeof v=="string")return v;if(ee(v))return Go(v,_u)+"";if(Wo(v))return Sh?Sh.call(v):"";var S=v+"";return S=="0"&&1/v==-jt?"-0":S}function Cu(v,S,F){var X=-1,Ce=Nc,Le=v.length,ot=!0,yt=[],Bt=yt;if(F)ot=!1,Ce=EA;else if(Le>=i){var gn=S?null:R1(v);if(gn)return gl(gn);ot=!1,Ce=Yl,Bt=new ue}else Bt=S?[]:yt;e:for(;++X<Le;){var yn=v[X],kn=S?S(yn):yn;if(yn=F||yn!==0?yn:0,ot&&kn===kn){for(var hr=Bt.length;hr--;)if(Bt[hr]===kn)continue e;S&&Bt.push(kn),yt.push(yn)}else Ce(Bt,kn,F)||(Bt!==yt&&Bt.push(kn),yt.push(yn))}return yt}function Rp(v,S){return S=id(S,v),v=Gn(v,S),v==null||delete v[Ea(cA(S))]}function zf(v,S,F,X){return Kh(v,S,F(Bo(v,S)),X)}function nd(v,S,F,X){for(var Ce=v.length,Le=X?Ce:-1;(X?Le--:++Le<Ce)&&S(v[Le],Le,v););return F?Sa(v,X?0:Le,X?Le+1:Ce):Sa(v,X?Le+1:0,X?Ce:Le)}function Ph(v,S){var F=v;return F instanceof jr&&(F=F.value()),Od(S,function(X,Ce){return Ce.func.apply(Ce.thisArg,Ku([X],Ce.args))},F)}function Zl(v,S,F){var X=v.length;if(X<2)return X?Cu(v[0]):[];for(var Ce=-1,Le=Rt(X);++Ce<X;)for(var ot=v[Ce],yt=-1;++yt<X;)yt!=Ce&&(Le[Ce]=$o(Le[Ce]||ot,v[yt],S,F));return Cu(vo(Le,1),S,F)}function rd(v,S,F){for(var X=-1,Ce=v.length,Le=S.length,ot={};++X<Ce;){var yt=X<Le?S[X]:t;F(ot,v[X],yt)}return ot}function jf(v){return xe(v)?v:[]}function Wf(v){return typeof v=="function"?v:$A}function id(v,S){return ee(v)?v:E(v,S)?[v]:ca(oi(v))}var Nf=ji;function Cc(v,S,F){var X=v.length;return F=F===t?X:F,!S&&F>=X?v:Sa(v,S,F)}var F1=Kf||function(v){return Yr.clearTimeout(v)};function i0(v,S){if(S)return v.slice();var F=v.length,X=dc?dc(F):new v.constructor(F);return v.copy(X),X}function od(v){var S=new v.constructor(v.byteLength);return new oA(S).set(new oA(v)),S}function av(v,S){var F=S?od(v.buffer):v.buffer;return new v.constructor(F,v.byteOffset,v.byteLength)}function Fh(v){var S=new v.constructor(v.source,Jr.exec(v));return S.lastIndex=v.lastIndex,S}function Gf(v){return zu?co(zu.call(v)):{}}function Aa(v,S){var F=S?od(v.buffer):v.buffer;return new v.constructor(F,v.byteOffset,v.length)}function Dh(v,S){if(v!==S){var F=v!==t,X=v===null,Ce=v===v,Le=Wo(v),ot=S!==t,yt=S===null,Bt=S===S,gn=Wo(S);if(!yt&&!gn&&!Le&&v>S||Le&&ot&&Bt&&!yt&&!gn||X&&ot&&Bt||!F&&Bt||!Ce)return 1;if(!X&&!Le&&!gn&&v<S||gn&&F&&Ce&&!X&&!Le||yt&&F&&Ce||!ot&&Ce||!Bt)return-1}return 0}function D1(v,S,F){for(var X=-1,Ce=v.criteria,Le=S.criteria,ot=Ce.length,yt=F.length;++X<ot;){var Bt=Dh(Ce[X],Le[X]);if(Bt){if(X>=yt)return Bt;var gn=F[X];return Bt*(gn=="desc"?-1:1)}}return v.index-S.index}function Wd(v,S,F,X){for(var Ce=-1,Le=v.length,ot=F.length,yt=-1,Bt=S.length,gn=to(Le-ot,0),yn=Rt(Bt+gn),kn=!X;++yt<Bt;)yn[yt]=S[yt];for(;++Ce<ot;)(kn||Ce<Le)&&(yn[F[Ce]]=v[Ce]);for(;gn--;)yn[yt++]=v[Ce++];return yn}function Lh(v,S,F,X){for(var Ce=-1,Le=v.length,ot=-1,yt=F.length,Bt=-1,gn=S.length,yn=to(Le-yt,0),kn=Rt(yn+gn),hr=!X;++Ce<yn;)kn[Ce]=v[Ce];for(var Wr=Ce;++Bt<gn;)kn[Wr+Bt]=S[Bt];for(;++ot<yt;)(hr||Ce<Le)&&(kn[Wr+F[ot]]=v[Ce++]);return kn}function Vs(v,S){var F=-1,X=v.length;for(S||(S=Rt(X));++F<X;)S[F]=v[F];return S}function Nu(v,S,F,X){var Ce=!F;F||(F={});for(var Le=-1,ot=S.length;++Le<ot;){var yt=S[Le],Bt=X?X(F[yt],v[yt],yt,F,v):t;Bt===t&&(Bt=v[yt]),Ce?In(F,yt,Bt):cn(F,yt,Bt)}return F}function o0(v,S){return Nu(v,xc(v),S)}function Qf(v,S){return Nu(v,j1(v),S)}function ad(v,S){return function(F,X){var Ce=ee(F)?Hm:vn,Le=S?S():{};return Ce(F,v,Qr(X,2),Le)}}function Gu(v){return ji(function(S,F){var X=-1,Ce=F.length,Le=Ce>1?F[Ce-1]:t,ot=Ce>2?F[2]:t;for(Le=v.length>3&&typeof Le=="function"?(Ce--,Le):t,ot&&b(F[0],F[1],ot)&&(Le=Ce<3?t:Le,Ce=1),S=co(S);++X<Ce;){var yt=F[X];yt&&v(S,yt,X,Le)}return S})}function Nd(v,S){return function(F,X){if(F==null)return F;if(!me(F))return v(F,X);for(var Ce=F.length,Le=S?Ce:-1,ot=co(F);(S?Le--:++Le<Ce)&&X(ot[Le],Le,ot)!==!1;);return F}}function L1(v){return function(S,F,X){for(var Ce=-1,Le=co(S),ot=X(S),yt=ot.length;yt--;){var Bt=ot[v?yt:++Ce];if(F(Le[Bt],Bt,Le)===!1)break}return S}}function a0(v,S,F){var X=S&W,Ce=Gd(v);function Le(){var ot=this&&this!==Yr&&this instanceof Le?Ce:v;return ot.apply(X?F:this,arguments)}return Le}function Uh(v){return function(S){S=oi(S);var F=kA(S)?yl(S):t,X=F?F[0]:S.charAt(0),Ce=F?Cc(F,1).join(""):S.slice(1);return X[v]()+Ce}}function Rh(v){return function(S){return Od(Ck(_k(S).replace(Ho,"")),v,"")}}function Gd(v){return function(){var S=arguments;switch(S.length){case 0:return new v;case 1:return new v(S[0]);case 2:return new v(S[0],S[1]);case 3:return new v(S[0],S[1],S[2]);case 4:return new v(S[0],S[1],S[2],S[3]);case 5:return new v(S[0],S[1],S[2],S[3],S[4]);case 6:return new v(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new v(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var F=Cl(v.prototype),X=v.apply(F,S);return Cn(X)?X:F}}function sv(v,S,F){var X=Gd(v);function Ce(){for(var Le=arguments.length,ot=Rt(Le),yt=Le,Bt=Nh(Ce);yt--;)ot[yt]=arguments[yt];var gn=Le<3&&ot[0]!==Bt&&ot[Le-1]!==Bt?[]:Kl(ot,Bt);if(Le-=gn.length,Le<F)return Qu(v,S,zh,Ce.placeholder,t,ot,gn,t,t,F-Le);var yn=this&&this!==Yr&&this instanceof Ce?X:v;return ds(yn,this,ot)}return Ce}function $f(v){return function(S,F,X){var Ce=co(S);if(!me(S)){var Le=Qr(F,3);S=El(S),F=function(yt){return Le(Ce[yt],yt,Ce)}}var ot=v(S,F,X);return ot>-1?Ce[Le?S[ot]:ot]:t}}function zp(v){return RA(function(S){var F=S.length,X=F,Ce=no.prototype.thru;for(v&&S.reverse();X--;){var Le=S[X];if(typeof Le!="function")throw new fs(s);if(Ce&&!ot&&qd(Le)=="wrapper")var ot=new no([],!0)}for(X=ot?X:F;++X<F;){Le=S[X];var yt=qd(Le),Bt=yt=="wrapper"?bc(Le):t;Bt&&$(Bt[0])&&Bt[1]==(se|oe|Ae|ye)&&!Bt[4].length&&Bt[9]==1?ot=ot[qd(Bt[0])].apply(ot,Bt[3]):ot=Le.length==1&&$(Le)?ot[yt]():ot.thru(Le)}return function(){var gn=arguments,yn=gn[0];if(ot&&gn.length==1&&ee(yn))return ot.plant(yn).value();for(var kn=0,hr=F?S[kn].apply(this,gn):yn;++kn<F;)hr=S[kn].call(this,hr);return hr}})}function zh(v,S,F,X,Ce,Le,ot,yt,Bt,gn){var yn=S&se,kn=S&W,hr=S&Q,Wr=S&(oe|re),ui=S&De,ro=hr?t:Gd(v);function Ai(){for(var po=arguments.length,So=Rt(po),Sc=po;Sc--;)So[Sc]=arguments[Sc];if(Wr)var pA=Nh(Ai),Ec=Ch(So,pA);if(X&&(So=Wd(So,X,Ce,Wr)),Le&&(So=Lh(So,Le,ot,Wr)),po-=Ec,Wr&&po<gn){var ll=Kl(So,pA);return Qu(v,S,zh,Ai.placeholder,F,So,ll,yt,Bt,gn-po)}var th=kn?F:this,Zf=hr?th[v]:v;return po=So.length,yt?So=_n(So,yt):ui&&po>1&&So.reverse(),yn&&Bt<po&&(So.length=Bt),this&&this!==Yr&&this instanceof Ai&&(Zf=ro||Gd(Zf)),Zf.apply(th,So)}return Ai}function jp(v,S){return function(F,X){return ua(F,v,S(X),{})}}function Qd(v,S){return function(F,X){var Ce;if(F===t&&X===t)return S;if(F!==t&&(Ce=F),X!==t){if(Ce===t)return X;typeof F=="string"||typeof X=="string"?(F=_u(F),X=_u(X)):(F=P1(F),X=P1(X)),Ce=v(F,X)}return Ce}}function Wp(v){return RA(function(S){return S=Go(S,Qs(Qr())),ji(function(F){var X=this;return v(S,function(Ce){return ds(Ce,X,F)})})})}function Np(v,S){S=S===t?" ":_u(S);var F=S.length;if(F<2)return F?e0(S,v):S;var X=e0(S,yo(v/IA(S)));return kA(S)?Cc(yl(X),0,v).join(""):X.slice(0,v)}function U1(v,S,F,X){var Ce=S&W,Le=Gd(v);function ot(){for(var yt=-1,Bt=arguments.length,gn=-1,yn=X.length,kn=Rt(yn+Bt),hr=this&&this!==Yr&&this instanceof ot?Le:v;++gn<yn;)kn[gn]=X[gn];for(;Bt--;)kn[gn++]=arguments[++yt];return ds(hr,Ce?F:this,kn)}return ot}function $d(v){return function(S,F,X){return X&&typeof X!="number"&&b(S,F,X)&&(F=X=t),S=is(S),F===t?(F=S,S=0):F=is(F),X=X===t?S<F?1:-1:is(X),Lp(S,F,X,v)}}function Yf(v){return function(S,F){return typeof S=="string"&&typeof F=="string"||(S=Zr(S),F=Zr(F)),v(S,F)}}function Qu(v,S,F,X,Ce,Le,ot,yt,Bt,gn){var yn=S&oe,kn=yn?ot:t,hr=yn?t:ot,Wr=yn?Le:t,ui=yn?t:Le;S|=yn?Ae:ae,S&=~(yn?ae:Ae),S&q||(S&=~(W|Q));var ro=[v,S,Ce,Wr,kn,ui,hr,yt,Bt,gn],Ai=F.apply(t,ro);return $(v)&&ar(Ai,ro),Ai.placeholder=X,ii(Ai,v,S)}function s0(v){var S=Xo[v];return function(F,X){if(F=Zr(F),X=X==null?0:ea($r(X),292),X&&Pf(F)){var Ce=(oi(F)+"e").split("e"),Le=S(Ce[0]+"e"+(+Ce[1]+X));return Ce=(oi(Le)+"e").split("e"),+(Ce[0]+"e"+(+Ce[1]-X))}return S(F)}}var R1=va&&1/gl(new va([,-0]))[1]==jt?function(v){return new va(v)}:Dw;function Yd(v){return function(S){var F=Ks(S);return F==xt?Ac(S):F==Jn?Zo(S):uc(S,v(S))}}function fo(v,S,F,X,Ce,Le,ot,yt){var Bt=S&Q;if(!Bt&&typeof v!="function")throw new fs(s);var gn=X?X.length:0;if(gn||(S&=~(Ae|ae),X=Ce=t),ot=ot===t?ot:to($r(ot),0),yt=yt===t?yt:$r(yt),gn-=Ce?Ce.length:0,S&ae){var yn=X,kn=Ce;X=Ce=t}var hr=Bt?t:bc(v),Wr=[v,S,F,X,Ce,yn,kn,Le,ot,yt];if(hr&&gt(Wr,hr),v=Wr[0],S=Wr[1],F=Wr[2],X=Wr[3],Ce=Wr[4],yt=Wr[9]=Wr[9]===t?Bt?0:v.length:to(Wr[9]-gn,0),!yt&&S&(oe|re)&&(S&=~(oe|re)),!S||S==W)var ui=a0(v,S,F);else S==oe||S==re?ui=sv(v,S,yt):(S==Ae||S==(W|Ae))&&!Ce.length?ui=U1(v,S,F,X):ui=zh.apply(t,Wr);var ro=hr?Up:ar;return ii(ro(ui,Wr),v,S)}function z1(v,S,F,X){return v===t||K(v,Jo[F])&&!Vi.call(X,F)?S:v}function Gp(v,S,F,X,Ce,Le){return Cn(v)&&Cn(S)&&(Le.set(S,v),Hl(v,S,t,Gp,Le),Le.delete(S)),v}function jh(v){return Oa(v)?t:v}function bu(v,S,F,X,Ce,Le){var ot=F&U,yt=v.length,Bt=S.length;if(yt!=Bt&&!(ot&&Bt>yt))return!1;var gn=Le.get(v),yn=Le.get(S);if(gn&&yn)return gn==S&&yn==v;var kn=-1,hr=!0,Wr=F&Z?new ue:t;for(Le.set(v,S),Le.set(S,v);++kn<yt;){var ui=v[kn],ro=S[kn];if(X)var Ai=ot?X(ro,ui,kn,S,v,Le):X(ui,ro,kn,v,S,Le);if(Ai!==t){if(Ai)continue;hr=!1;break}if(Wr){if(!lc(S,function(po,So){if(!Yl(Wr,So)&&(ui===po||Ce(ui,po,F,X,Le)))return Wr.push(So)})){hr=!1;break}}else if(!(ui===ro||Ce(ui,ro,F,X,Le))){hr=!1;break}}return Le.delete(v),Le.delete(S),hr}function Qp(v,S,F,X,Ce,Le,ot){switch(F){case H:if(v.byteLength!=S.byteLength||v.byteOffset!=S.byteOffset)return!1;v=v.buffer,S=S.buffer;case we:return!(v.byteLength!=S.byteLength||!Le(new oA(v),new oA(S)));case Me:case he:case Ft:return K(+v,+S);case Pe:return v.name==S.name&&v.message==S.message;case bn:case mr:return v==S+"";case xt:var yt=Ac;case Jn:var Bt=X&U;if(yt||(yt=gl),v.size!=S.size&&!Bt)return!1;var gn=ot.get(v);if(gn)return gn==S;X|=Z,ot.set(v,S);var yn=bu(yt(v),yt(S),X,Ce,Le,ot);return ot.delete(v),yn;case xr:if(zu)return zu.call(v)==zu.call(S)}return!1}function l0(v,S,F,X,Ce,Le){var ot=F&U,yt=$p(v),Bt=yt.length,gn=$p(S),yn=gn.length;if(Bt!=yn&&!ot)return!1;for(var kn=Bt;kn--;){var hr=yt[kn];if(!(ot?hr in S:Vi.call(S,hr)))return!1}var Wr=Le.get(v),ui=Le.get(S);if(Wr&&ui)return Wr==S&&ui==v;var ro=!0;Le.set(v,S),Le.set(S,v);for(var Ai=ot;++kn<Bt;){hr=yt[kn];var po=v[hr],So=S[hr];if(X)var Sc=ot?X(So,po,hr,S,v,Le):X(po,So,hr,v,S,Le);if(!(Sc===t?po===So||Ce(po,So,F,X,Le):Sc)){ro=!1;break}Ai||(Ai=hr=="constructor")}if(ro&&!Ai){var pA=v.constructor,Ec=S.constructor;pA!=Ec&&"constructor"in v&&"constructor"in S&&!(typeof pA=="function"&&pA instanceof pA&&typeof Ec=="function"&&Ec instanceof Ec)&&(ro=!1)}return Le.delete(v),Le.delete(S),ro}function RA(v){return yr(Bn(v,t,Ua),v+"")}function $p(v){return Ei(v,El,xc)}function Wh(v){return Ei(v,Ra,j1)}var bc=Do?function(v){return Do.get(v)}:Dw;function qd(v){for(var S=v.name+"",F=Lo[S],X=Vi.call(Lo,S)?F.length:0;X--;){var Ce=F[X],Le=Ce.func;if(Le==null||Le==v)return Ce.name}return S}function Nh(v){var S=Vi.call(ke,"placeholder")?ke:v;return S.placeholder}function Qr(){var v=ke.iteratee||Pw;return v=v===Pw?Jc:v,arguments.length?v(arguments[0],arguments[1]):v}function Gh(v,S){var F=v.__data__;return L(S)?F[typeof S=="string"?"string":"hash"]:F.map}function _o(v){for(var S=El(v),F=S.length;F--;){var X=S[F],Ce=v[X];S[F]=[X,Ce,We(Ce)]}return S}function sd(v,S){var F=$c(v,S);return ju(F)?F:t}function qf(v){var S=Vi.call(v,gu),F=v[gu];try{v[gu]=t;var X=!0}catch{}var Ce=vl.call(v);return X&&(S?v[gu]=F:delete v[gu]),Ce}var xc=Vc?function(v){return v==null?[]:(v=co(v),Tu(Vc(v),function(S){return hc.call(v,S)}))}:Lw,j1=Vc?function(v){for(var S=[];v;)Ku(S,xc(v)),v=mu(v);return S}:Lw,Ks=ho;(Hc&&Ks(new Hc(new ArrayBuffer(1)))!=H||Qo&&Ks(new Qo)!=xt||aA&&Ks(aA.resolve())!=nr||va&&Ks(new va)!=Jn||sA&&Ks(new sA)!=_r)&&(Ks=function(v){var S=ho(v),F=S==pt?v.constructor:t,X=F?es(F):"";if(X)switch(X){case Ff:return H;case Uu:return xt;case Ru:return nr;case lA:return Jn;case Df:return _r}return S});function lv(v,S,F){for(var X=-1,Ce=F.length;++X<Ce;){var Le=F[X],ot=Le.size;switch(Le.type){case"drop":v+=ot;break;case"dropRight":S-=ot;break;case"take":S=ea(S,v+ot);break;case"takeRight":v=to(v,S-ot);break}}return{start:v,end:S}}function Da(v){var S=v.match(On);return S?S[1].split(ir):[]}function W1(v,S,F){S=id(S,v);for(var X=-1,Ce=S.length,Le=!1;++X<Ce;){var ot=Ea(S[X]);if(!(Le=v!=null&&F(v,ot)))break;v=v[ot]}return Le||++X!=Ce?Le:(Ce=v==null?0:v.length,!!Ce&&$n(Ce)&&x(ot,Ce)&&(ee(v)||V(v)))}function uv(v){var S=v.length,F=new v.constructor(S);return S&&typeof v[0]=="string"&&Vi.call(v,"index")&&(F.index=v.index,F.input=v.input),F}function u0(v){return typeof v.constructor=="function"&&!pe(v)?Cl(mu(v)):{}}function Qh(v,S,F){var X=v.constructor;switch(S){case we:return od(v);case Me:case he:return new X(+v);case H:return av(v,F);case Y:case Be:case st:case St:case Et:case Nt:case mn:case Kn:case En:return Aa(v,F);case xt:return new X;case Ft:case mr:return new X(v);case bn:return Fh(v);case Jn:return new X;case xr:return Gf(v)}}function A(v,S){var F=S.length;if(!F)return v;var X=F-1;return S[X]=(F>1?"& ":"")+S[X],S=S.join(F>2?", ":" "),v.replace(Vn,`{
/* [wrapped with `+S+`] */
`)}function f(v){return ee(v)||V(v)||!!(Tf&&v&&v[Tf])}function x(v,S){var F=typeof v;return S=S??nn,!!S&&(F=="number"||F!="symbol"&&xo.test(v))&&v>-1&&v%1==0&&v<S}function b(v,S,F){if(!Cn(F))return!1;var X=typeof S;return(X=="number"?me(F)&&x(S,F.length):X=="string"&&S in F)?K(F[S],v):!1}function E(v,S){if(ee(v))return!1;var F=typeof v;return F=="number"||F=="symbol"||F=="boolean"||v==null||Wo(v)?!0:ht.test(v)||!at.test(v)||S!=null&&v in co(S)}function L(v){var S=typeof v;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?v!=="__proto__":v===null}function $(v){var S=qd(v),F=ke[S];if(typeof F!="function"||!(S in jr.prototype))return!1;if(v===F)return!0;var X=bc(F);return!!X&&v===X[0]}function J(v){return!!wh&&wh in v}var le=pu?Dn:Uw;function pe(v){var S=v&&v.constructor,F=typeof S=="function"&&S.prototype||Jo;return v===F}function We(v){return v===v&&!Cn(v)}function qe(v,S){return function(F){return F==null?!1:F[v]===S&&(S!==t||v in co(F))}}function wt(v){var S=Xp(v,function(X){return F.size===g&&F.clear(),X}),F=S.cache;return S}function gt(v,S){var F=v[1],X=S[1],Ce=F|X,Le=Ce<(W|Q|se),ot=X==se&&F==oe||X==se&&F==ye&&v[7].length<=S[8]||X==(se|ye)&&S[7].length<=S[8]&&F==oe;if(!(Le||ot))return v;X&W&&(v[2]=S[2],Ce|=F&W?0:q);var yt=S[3];if(yt){var Bt=v[3];v[3]=Bt?Wd(Bt,yt,S[4]):yt,v[4]=Bt?Kl(v[3],C):S[4]}return yt=S[5],yt&&(Bt=v[5],v[5]=Bt?Lh(Bt,yt,S[6]):yt,v[6]=Bt?Kl(v[5],C):S[6]),yt=S[7],yt&&(v[7]=yt),X&se&&(v[8]=v[8]==null?S[8]:ea(v[8],S[8])),v[9]==null&&(v[9]=S[9]),v[0]=S[0],v[1]=Ce,v}function Lt(v){var S=[];if(v!=null)for(var F in co(v))S.push(F);return S}function dn(v){return vl.call(v)}function Bn(v,S,F){return S=to(S===t?v.length-1:S,0),function(){for(var X=arguments,Ce=-1,Le=to(X.length-S,0),ot=Rt(Le);++Ce<Le;)ot[Ce]=X[S+Ce];Ce=-1;for(var yt=Rt(S+1);++Ce<S;)yt[Ce]=X[Ce];return yt[S]=F(ot),ds(v,this,yt)}}function Gn(v,S){return S.length<2?v:Bo(v,Sa(S,0,-1))}function _n(v,S){for(var F=v.length,X=ea(S.length,F),Ce=Vs(v);X--;){var Le=S[X];v[X]=x(Le,F)?Ce[Le]:t}return v}function Fn(v,S){if(!(S==="constructor"&&typeof v[S]=="function")&&S!="__proto__")return v[S]}var ar=ko(Up),Or=Lu||function(v,S){return Yr.setTimeout(v,S)},yr=ko(K1);function ii(v,S,F){var X=S+"";return yr(v,A(X,ts(Da(X),F)))}function ko(v){var S=0,F=0;return function(){var X=gr(),Ce=Ke-(X-F);if(F=X,Ce>0){if(++S>=ft)return arguments[0]}else S=0;return v.apply(t,arguments)}}function La(v,S){var F=-1,X=v.length,Ce=X-1;for(S=S===t?X:S;++F<S;){var Le=Dp(F,Ce),ot=v[Le];v[Le]=v[F],v[F]=ot}return v.length=S,v}var ca=wt(function(v){var S=[];return v.charCodeAt(0)===46&&S.push(""),v.replace(Ve,function(F,X,Ce,Le){S.push(Ce?Le.replace(Ur,"$1"):X||F)}),S});function Ea(v){if(typeof v=="string"||Wo(v))return v;var S=v+"";return S=="0"&&1/v==-jt?"-0":S}function es(v){if(v!=null){try{return Bs.call(v)}catch{}try{return v+""}catch{}}return""}function ts(v,S){return $l(mt,function(F){var X="_."+F[0];S&F[1]&&!Nc(v,X)&&v.push(X)}),v.sort()}function xl(v){if(v instanceof jr)return v.clone();var S=new no(v.__wrapped__,v.__chain__);return S.__actions__=Vs(v.__actions__),S.__index__=v.__index__,S.__values__=v.__values__,S}function Hs(v,S,F){(F?b(v,S,F):S===t)?S=1:S=to($r(S),0);var X=v==null?0:v.length;if(!X||S<1)return[];for(var Ce=0,Le=0,ot=Rt(yo(X/S));Ce<X;)ot[Le++]=Sa(v,Ce,Ce+=S);return ot}function gs(v){for(var S=-1,F=v==null?0:v.length,X=0,Ce=[];++S<F;){var Le=v[S];Le&&(Ce[X++]=Le)}return Ce}function ns(){var v=arguments.length;if(!v)return[];for(var S=Rt(v-1),F=arguments[0],X=v;X--;)S[X-1]=arguments[X];return Ku(ee(F)?Vs(F):[F],vo(S,1))}var na=ji(function(v,S){return xe(v)?$o(v,vo(S,1,xe,!0)):[]}),ys=ji(function(v,S){var F=cA(S);return xe(F)&&(F=t),xe(v)?$o(v,vo(S,1,xe,!0),Qr(F,2)):[]}),Vd=ji(function(v,S){var F=cA(S);return xe(F)&&(F=t),xe(v)?$o(v,vo(S,1,xe,!0),t,F):[]});function zA(v,S,F){var X=v==null?0:v.length;return X?(S=F||S===t?1:$r(S),Sa(v,S<0?0:S,X)):[]}function Ps(v,S,F){var X=v==null?0:v.length;return X?(S=F||S===t?1:$r(S),S=X-S,Sa(v,0,S<0?0:S)):[]}function jA(v,S){return v&&v.length?nd(v,Qr(S,3),!0,!0):[]}function Fs(v,S){return v&&v.length?nd(v,Qr(S,3),!0):[]}function A0(v,S,F,X){var Ce=v==null?0:v.length;return Ce?(F&&typeof F!="number"&&b(v,S,F)&&(F=0,X=Ce),Is(v,S,F,X)):[]}function AA(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var Ce=F==null?0:$r(F);return Ce<0&&(Ce=to(X+Ce,0)),hi(v,Qr(S,3),Ce)}function wc(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var Ce=X-1;return F!==t&&(Ce=$r(F),Ce=F<0?to(X+Ce,0):ea(Ce,X-1)),hi(v,Qr(S,3),Ce,!0)}function Ua(v){var S=v==null?0:v.length;return S?vo(v,1):[]}function Zs(v){var S=v==null?0:v.length;return S?vo(v,jt):[]}function Hd(v,S){var F=v==null?0:v.length;return F?(S=S===t?1:$r(S),vo(v,S)):[]}function WA(v){for(var S=-1,F=v==null?0:v.length,X={};++S<F;){var Ce=v[S];X[Ce[0]]=Ce[1]}return X}function Yp(v){return v&&v.length?v[0]:t}function c0(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var Ce=F==null?0:$r(F);return Ce<0&&(Ce=to(X+Ce,0)),Fo(v,S,Ce)}function qp(v){var S=v==null?0:v.length;return S?Sa(v,0,-1):[]}var N1=ji(function(v){var S=Go(v,jf);return S.length&&S[0]===v[0]?vc(S):[]}),G1=ji(function(v){var S=cA(v),F=Go(v,jf);return S===cA(F)?S=t:F.pop(),F.length&&F[0]===v[0]?vc(F,Qr(S,2)):[]}),iw=ji(function(v){var S=cA(v),F=Go(v,jf);return S=typeof S=="function"?S:t,S&&F.pop(),F.length&&F[0]===v[0]?vc(F,t,S):[]});function Sb(v,S){return v==null?"":Pd.call(v,S)}function cA(v){var S=v==null?0:v.length;return S?v[S-1]:t}function ow(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var Ce=X;return F!==t&&(Ce=$r(F),Ce=Ce<0?to(X+Ce,0):ea(Ce,X-1)),S===S?ol(v,S,Ce):hi(v,yh,Ce,!0)}function Eb(v,S){return v&&v.length?Rd(v,$r(S)):t}var Ob=ji(Q1);function Q1(v,S){return v&&v.length&&S&&S.length?Fp(v,S):v}function Av(v,S,F){return v&&v.length&&S&&S.length?Fp(v,S,Qr(F,2)):v}function aw(v,S,F){return v&&v.length&&S&&S.length?Fp(v,S,t,F):v}var sw=RA(function(v,S){var F=v==null?0:v.length,X=Cr(v,S);return ms(v,Go(S,function(Ce){return x(Ce,F)?+Ce:Ce}).sort(Dh)),X});function Bb(v,S){var F=[];if(!(v&&v.length))return F;var X=-1,Ce=[],Le=v.length;for(S=Qr(S,3);++X<Le;){var ot=v[X];S(ot,X,v)&&(F.push(ot),Ce.push(X))}return ms(v,Ce),F}function Vf(v){return v==null?v:pc.call(v)}function ld(v,S,F){var X=v==null?0:v.length;return X?(F&&typeof F!="number"&&b(v,S,F)?(S=0,F=X):(S=S==null?0:$r(S),F=F===t?X:$r(F)),Sa(v,S,F)):[]}function $h(v,S){return td(v,S)}function kb(v,S,F){return jd(v,S,Qr(F,2))}function cv(v,S){var F=v==null?0:v.length;if(F){var X=td(v,S);if(X<F&&K(v[X],S))return X}return-1}function lw(v,S){return td(v,S,!0)}function uw(v,S,F){return jd(v,S,Qr(F,2),!0)}function $1(v,S){var F=v==null?0:v.length;if(F){var X=td(v,S,!0)-1;if(K(v[X],S))return X}return-1}function dv(v){return v&&v.length?uA(v):[]}function Aw(v,S){return v&&v.length?uA(v,Qr(S,2)):[]}function hv(v){var S=v==null?0:v.length;return S?Sa(v,1,S):[]}function fv(v,S,F){return v&&v.length?(S=F||S===t?1:$r(S),Sa(v,0,S<0?0:S)):[]}function Vp(v,S,F){var X=v==null?0:v.length;return X?(S=F||S===t?1:$r(S),S=X-S,Sa(v,S<0?0:S,X)):[]}function Ib(v,S){return v&&v.length?nd(v,Qr(S,3),!1,!0):[]}function Tb(v,S){return v&&v.length?nd(v,Qr(S,3)):[]}var pv=ji(function(v){return Cu(vo(v,1,xe,!0))}),Kb=ji(function(v){var S=cA(v);return xe(S)&&(S=t),Cu(vo(v,1,xe,!0),Qr(S,2))}),Y1=ji(function(v){var S=cA(v);return S=typeof S=="function"?S:t,Cu(vo(v,1,xe,!0),t,S)});function Pb(v){return v&&v.length?Cu(v):[]}function cw(v,S){return v&&v.length?Cu(v,Qr(S,2)):[]}function dw(v,S){return S=typeof S=="function"?S:t,v&&v.length?Cu(v,t,S):[]}function q1(v){if(!(v&&v.length))return[];var S=0;return v=Tu(v,function(F){if(xe(F))return S=to(F.length,S),!0}),go(S,function(F){return Go(v,sa(F))})}function Fb(v,S){if(!(v&&v.length))return[];var F=q1(v);return S==null?F:Go(F,function(X){return ds(S,t,X)})}var hw=ji(function(v,S){return xe(v)?$o(v,S):[]}),fw=ji(function(v){return Zl(Tu(v,xe))}),pw=ji(function(v){var S=cA(v);return xe(S)&&(S=t),Zl(Tu(v,xe),Qr(S,2))}),mv=ji(function(v){var S=cA(v);return S=typeof S=="function"?S:t,Zl(Tu(v,xe),t,S)}),Yh=ji(q1);function Db(v,S){return rd(v||[],S||[],cn)}function Lb(v,S){return rd(v||[],S||[],Kh)}var Ub=ji(function(v){var S=v.length,F=S>1?v[S-1]:t;return F=typeof F=="function"?(v.pop(),F):t,Fb(v,F)});function gv(v){var S=ke(v);return S.__chain__=!0,S}function Rb(v,S){return S(v),v}function Hp(v,S){return S(v)}var V1=RA(function(v){var S=v.length,F=S?v[0]:0,X=this.__wrapped__,Ce=function(Le){return Cr(Le,v)};return S>1||this.__actions__.length||!(X instanceof jr)||!x(F)?this.thru(Ce):(X=X.slice(F,+F+(S?1:0)),X.__actions__.push({func:Hp,args:[Ce],thisArg:t}),new no(X,this.__chain__).thru(function(Le){return S&&!Le.length&&Le.push(t),Le}))});function zb(){return gv(this)}function yv(){return new no(this.value(),this.__chain__)}function jb(){this.__values__===t&&(this.__values__=wl(this.value()));var v=this.__index__>=this.__values__.length,S=v?t:this.__values__[this.__index__++];return{done:v,value:S}}function dA(){return this}function d0(v){for(var S,F=this;F instanceof Pa;){var X=xl(F);X.__index__=0,X.__values__=t,S?Ce.__wrapped__=X:S=X;var Ce=X;F=F.__wrapped__}return Ce.__wrapped__=v,S}function Wb(){var v=this.__wrapped__;if(v instanceof jr){var S=v;return this.__actions__.length&&(S=new jr(this)),S=S.reverse(),S.__actions__.push({func:Hp,args:[Vf],thisArg:t}),new no(S,this.__chain__)}return this.thru(Vf)}function Nb(){return Ph(this.__wrapped__,this.__actions__)}var Gb=ad(function(v,S,F){Vi.call(v,F)?++v[F]:In(v,F,1)});function Qb(v,S,F){var X=ee(v)?Wc:ps;return F&&b(v,S,F)&&(S=t),X(v,Qr(S,3))}function $b(v,S){var F=ee(v)?Tu:_a;return F(v,Qr(S,3))}var Yb=$f(AA),mw=$f(wc);function qb(v,S){return vo(Zd(v,S),1)}function qh(v,S){return vo(Zd(v,S),jt)}function Vb(v,S,F){return F=F===t?1:$r(F),vo(Zd(v,S),F)}function vv(v,S){var F=ee(v)?$l:Fi;return F(v,Qr(S,3))}function _v(v,S){var F=ee(v)?mh:ks;return F(v,Qr(S,3))}var Hb=ad(function(v,S,F){Vi.call(v,F)?v[F].push(S):In(v,F,[S])});function gw(v,S,F,X){v=me(v)?v:sg(v),F=F&&!X?$r(F):0;var Ce=v.length;return F<0&&(F=to(Ce+F,0)),vs(v)?F<=Ce&&v.indexOf(S,F)>-1:!!Ce&&Fo(v,S,F)>-1}var yw=ji(function(v,S,F){var X=-1,Ce=typeof S=="function",Le=me(v)?Rt(v.length):[];return Fi(v,function(ot){Le[++X]=Ce?ds(S,ot,F):LA(ot,S,F)}),Le}),Zb=ad(function(v,S,F){In(v,F,S)});function Zd(v,S){var F=ee(v)?Go:Xm;return F(v,Qr(S,3))}function Xb(v,S,F,X){return v==null?[]:(ee(S)||(S=S==null?[]:[S]),F=X?t:F,ee(F)||(F=F==null?[]:[F]),T1(v,S,F))}var H1=ad(function(v,S,F){v[F?0:1].push(S)},function(){return[[],[]]});function Jb(v,S,F){var X=ee(v)?Od:Pi,Ce=arguments.length<3;return X(v,Qr(S,4),F,Ce,Fi)}function Z1(v,S,F){var X=ee(v)?OA:Pi,Ce=arguments.length<3;return X(v,Qr(S,4),F,Ce,ks)}function X1(v,S){var F=ee(v)?Tu:_a;return F(v,h0(Qr(S,3)))}function J1(v){var S=ee(v)?_t:t0;return S(v)}function vw(v,S,F){(F?b(v,S,F):S===t)?S=1:S=$r(S);var X=ee(v)?Gt:n0;return X(v,S)}function _w(v){var S=ee(v)?It:r0;return S(v)}function Cw(v){if(v==null)return 0;if(me(v))return vs(v)?IA(v):v.length;var S=Ks(v);return S==xt||S==Jn?v.size:ed(v).length}function bw(v,S,F){var X=ee(v)?lc:sl;return F&&b(v,S,F)&&(S=t),X(v,Qr(S,3))}var Zp=ji(function(v,S){if(v==null)return[];var F=S.length;return F>1&&b(v,S[0],S[1])?S=[]:F>2&&b(S[0],S[1],S[2])&&(S=[S[0]]),T1(v,vo(S,1),[])}),Ds=fc||function(){return Yr.Date.now()};function Vh(v,S){if(typeof S!="function")throw new fs(s);return v=$r(v),function(){if(--v<1)return S.apply(this,arguments)}}function eg(v,S,F){return S=F?t:S,S=v&&S==null?v.length:S,fo(v,se,t,t,t,t,S)}function Cv(v,S){var F;if(typeof S!="function")throw new fs(s);return v=$r(v),function(){return--v>0&&(F=S.apply(this,arguments)),v<=1&&(S=t),F}}var tg=ji(function(v,S,F){var X=W;if(F.length){var Ce=Kl(F,Nh(tg));X|=Ae}return fo(v,X,S,F,Ce)}),ng=ji(function(v,S,F){var X=W|Q;if(F.length){var Ce=Kl(F,Nh(ng));X|=Ae}return fo(S,X,v,F,Ce)});function ex(v,S,F){S=F?t:S;var X=fo(v,oe,t,t,t,t,t,S);return X.placeholder=ex.placeholder,X}function bv(v,S,F){S=F?t:S;var X=fo(v,re,t,t,t,t,t,S);return X.placeholder=bv.placeholder,X}function xv(v,S,F){var X,Ce,Le,ot,yt,Bt,gn=0,yn=!1,kn=!1,hr=!0;if(typeof v!="function")throw new fs(s);S=Zr(S)||0,Cn(F)&&(yn=!!F.leading,kn="maxWait"in F,Le=kn?to(Zr(F.maxWait)||0,S):Le,hr="trailing"in F?!!F.trailing:hr);function Wr(ll){var th=X,Zf=Ce;return X=Ce=t,gn=ll,ot=v.apply(Zf,th),ot}function ui(ll){return gn=ll,yt=Or(po,S),yn?Wr(ll):ot}function ro(ll){var th=ll-Bt,Zf=ll-gn,wk=S-th;return kn?ea(wk,Le-Zf):wk}function Ai(ll){var th=ll-Bt,Zf=ll-gn;return Bt===t||th>=S||th<0||kn&&Zf>=Le}function po(){var ll=Ds();if(Ai(ll))return So(ll);yt=Or(po,ro(ll))}function So(ll){return yt=t,hr&&X?Wr(ll):(X=Ce=t,ot)}function Sc(){yt!==t&&F1(yt),gn=0,X=Bt=Ce=yt=t}function pA(){return yt===t?ot:So(Ds())}function Ec(){var ll=Ds(),th=Ai(ll);if(X=arguments,Ce=this,Bt=ll,th){if(yt===t)return ui(Bt);if(kn)return F1(yt),yt=Or(po,S),Wr(Bt)}return yt===t&&(yt=Or(po,S)),ot}return Ec.cancel=Sc,Ec.flush=pA,Ec}var xw=ji(function(v,S){return gi(v,1,S)}),tx=ji(function(v,S,F){return gi(v,Zr(S)||0,F)});function wv(v){return fo(v,De)}function Xp(v,S){if(typeof v!="function"||S!=null&&typeof S!="function")throw new fs(s);var F=function(){var X=arguments,Ce=S?S.apply(this,X):X[0],Le=F.cache;if(Le.has(Ce))return Le.get(Ce);var ot=v.apply(this,X);return F.cache=Le.set(Ce,ot)||Le,ot};return F.cache=new(Xp.Cache||M),F}Xp.Cache=M;function h0(v){if(typeof v!="function")throw new fs(s);return function(){var S=arguments;switch(S.length){case 0:return!v.call(this);case 1:return!v.call(this,S[0]);case 2:return!v.call(this,S[0],S[1]);case 3:return!v.call(this,S[0],S[1],S[2])}return!v.apply(this,S)}}function f0(v){return Cv(2,v)}var Mv=Nf(function(v,S){S=S.length==1&&ee(S[0])?Go(S[0],Qs(Qr())):Go(vo(S,1),Qs(Qr()));var F=S.length;return ji(function(X){for(var Ce=-1,Le=ea(X.length,F);++Ce<Le;)X[Ce]=S[Ce].call(this,X[Ce]);return ds(v,this,X)})}),rg=ji(function(v,S){var F=Kl(S,Nh(rg));return fo(v,Ae,t,S,F)}),ig=ji(function(v,S){var F=Kl(S,Nh(ig));return fo(v,ae,t,S,F)}),og=RA(function(v,S){return fo(v,ye,t,t,t,S)});function p0(v,S){if(typeof v!="function")throw new fs(s);return S=S===t?S:$r(S),ji(v,S)}function Sv(v,S){if(typeof v!="function")throw new fs(s);return S=S==null?0:to($r(S),0),ji(function(F){var X=F[S],Ce=Cc(F,0,S);return X&&Ku(Ce,X),ds(v,this,Ce)})}function Ev(v,S,F){var X=!0,Ce=!0;if(typeof v!="function")throw new fs(s);return Cn(F)&&(X="leading"in F?!!F.leading:X,Ce="trailing"in F?!!F.trailing:Ce),xv(v,S,{leading:X,maxWait:S,trailing:Ce})}function Ov(v){return eg(v,1)}function ww(v,S){return rg(Wf(S),v)}function c(){if(!arguments.length)return[];var v=arguments[0];return ee(v)?v:[v]}function l(v){return zi(v,P)}function d(v,S){return S=typeof S=="function"?S:t,zi(v,P,S)}function y(v){return zi(v,B|P)}function w(v,S){return S=typeof S=="function"?S:t,zi(v,B|P,S)}function T(v,S){return S==null||Hr(v,S,El(S))}function K(v,S){return v===S||v!==v&&S!==S}var D=Yf(Mo),z=Yf(function(v,S){return v>=S}),V=Oh(function(){return arguments}())?Oh:function(v){return fn(v)&&Vi.call(v,"callee")&&!hc.call(v,"callee")},ee=Rt.isArray,ce=aa?Qs(aa):Vl;function me(v){return v!=null&&$n(v.length)&&!Dn(v)}function xe(v){return fn(v)&&me(v)}function Oe(v){return v===!0||v===!1||fn(v)&&ho(v)==Me}var Re=Pp||Uw,Qe=Ta?Qs(Ta):UA;function it(v){return fn(v)&&v.nodeType===1&&!Oa(v)}function Mt(v){if(v==null)return!0;if(me(v)&&(ee(v)||typeof v=="string"||typeof v.splice=="function"||Re(v)||Ls(v)||V(v)))return!v.length;var S=Ks(v);if(S==xt||S==Jn)return!v.size;if(pe(v))return!ed(v).length;for(var F in v)if(Vi.call(v,F))return!1;return!0}function lt(v,S){return qs(v,S)}function vt(v,S,F){F=typeof F=="function"?F:t;var X=F?F(v,S):t;return X===t?qs(v,S,t,F):!!X}function tn(v){if(!fn(v))return!1;var S=ho(v);return S==Pe||S==be||typeof v.message=="string"&&typeof v.name=="string"&&!Oa(v)}function An(v){return typeof v=="number"&&Pf(v)}function Dn(v){if(!Cn(v))return!1;var S=ho(v);return S==Ze||S==nt||S==Pt||S==pn}function vr(v){return typeof v=="number"&&v==$r(v)}function $n(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=nn}function Cn(v){var S=typeof v;return v!=null&&(S=="object"||S=="function")}function fn(v){return v!=null&&typeof v=="object"}var sr=Ka?Qs(Ka):_c;function Ln(v,S){return v===S||Bh(v,S,_o(S))}function wn(v,S,F){return F=typeof F=="function"?F:t,Bh(v,S,_o(S),F)}function Ir(v){return ia(v)&&v!=+v}function br(v){if(le(v))throw new ei(o);return ju(v)}function Oi(v){return v===null}function ra(v){return v==null}function ia(v){return typeof v=="number"||fn(v)&&ho(v)==Ft}function Oa(v){if(!fn(v)||ho(v)!=pt)return!1;var S=mu(v);if(S===null)return!0;var F=Vi.call(S,"constructor")&&S.constructor;return typeof F=="function"&&F instanceof F&&Bs.call(F)==TA}var Xl=Ql?Qs(Ql):Rf;function Jl(v){return vr(v)&&v>=-nn&&v<=nn}var rs=Iu?Qs(Iu):Xc;function vs(v){return typeof v=="string"||!ee(v)&&fn(v)&&ho(v)==mr}function Wo(v){return typeof v=="symbol"||fn(v)&&ho(v)==xr}var Ls=sc?Qs(sc):I1;function eu(v){return v===t}function Us(v){return fn(v)&&Ks(v)==_r}function Rs(v){return fn(v)&&ho(v)==fi}var Dl=Yf(Wu),tu=Yf(function(v,S){return v<=S});function wl(v){if(!v)return[];if(me(v))return vs(v)?yl(v):Vs(v);if(Du&&v[Du])return Kp(v[Du]());var S=Ks(v),F=S==xt?Ac:S==Jn?gl:sg;return F(v)}function is(v){if(!v)return v===0?v:0;if(v=Zr(v),v===jt||v===-jt){var S=v<0?-1:1;return S*Qt}return v===v?v:0}function $r(v){var S=is(v),F=S%1;return S===S?F?S-F:S:0}function _s(v){return v?Zn($r(v),0,Je):0}function Zr(v){if(typeof v=="number")return v;if(Wo(v))return He;if(Cn(v)){var S=typeof v.valueOf=="function"?v.valueOf():v;v=Cn(S)?S+"":S}if(typeof v!="string")return v===0?v:+v;v=Qc(v);var F=li.test(v);return F||Xi.test(v)?Tn(v.slice(2),F?2:8):rr.test(v)?He:+v}function Ml(v){return Nu(v,Ra(v))}function Sl(v){return v?Zn($r(v),-nn,nn):v===0?v:0}function oi(v){return v==null?"":_u(v)}var NA=Gu(function(v,S){if(pe(S)||me(S)){Nu(S,El(S),v);return}for(var F in S)Vi.call(S,F)&&cn(v,F,S[F])}),GA=Gu(function(v,S){Nu(S,Ra(S),v)}),$u=Gu(function(v,S,F,X){Nu(S,Ra(S),v,X)}),Xd=Gu(function(v,S,F,X){Nu(S,El(S),v,X)}),QA=RA(Cr);function hA(v,S){var F=Cl(v);return S==null?F:er(F,S)}var xu=ji(function(v,S){v=co(v);var F=-1,X=S.length,Ce=X>2?S[2]:t;for(Ce&&b(S[0],S[1],Ce)&&(X=1);++F<X;)for(var Le=S[F],ot=Ra(Le),yt=-1,Bt=ot.length;++yt<Bt;){var gn=ot[yt],yn=v[gn];(yn===t||K(yn,Jo[gn])&&!Vi.call(v,gn))&&(v[gn]=Le[gn])}return v}),Jd=ji(function(v){return v.push(t,Gp),ds(ax,t,v)});function m0(v,S){return gh(v,Qr(S,3),Ts)}function nx(v,S){return gh(v,Qr(S,3),vu)}function Bv(v,S){return v==null?v:Fl(v,Qr(S,3),Ra)}function kv(v,S){return v==null?v:DA(v,Qr(S,3),Ra)}function eh(v,S){return v&&Ts(v,Qr(S,3))}function rx(v,S){return v&&vu(v,Qr(S,3))}function ix(v){return v==null?[]:Ca(v,El(v))}function Mw(v){return v==null?[]:Ca(v,Ra(v))}function Iv(v,S,F){var X=v==null?t:Bo(v,S);return X===t?F:X}function Sw(v,S){return v!=null&&W1(v,S,Fa)}function Tv(v,S){return v!=null&&W1(v,S,Ja)}var Ew=jp(function(v,S,F){S!=null&&typeof S.toString!="function"&&(S=vl.call(S)),v[S]=F},Kw($A)),Ow=jp(function(v,S,F){S!=null&&typeof S.toString!="function"&&(S=vl.call(S)),Vi.call(v,S)?v[S].push(F):v[S]=[F]},Qr),Bw=ji(LA);function El(v){return me(v)?Ye(v):ed(v)}function Ra(v){return me(v)?Ye(v,!0):kh(v)}function ag(v,S){var F={};return S=Qr(S,3),Ts(v,function(X,Ce,Le){In(F,S(X,Ce,Le),X)}),F}function ox(v,S){var F={};return S=Qr(S,3),Ts(v,function(X,Ce,Le){In(F,Ce,S(X,Ce,Le))}),F}var kw=Gu(function(v,S,F){Hl(v,S,F)}),ax=Gu(function(v,S,F,X){Hl(v,S,F,X)}),Iw=RA(function(v,S){var F={};if(v==null)return F;var X=!1;S=Go(S,function(Le){return Le=id(Le,v),X||(X=Le.length>1),Le}),Nu(v,Wh(v),F),X&&(F=zi(F,B|k|P,jh));for(var Ce=S.length;Ce--;)Rp(F,S[Ce]);return F});function Ll(v,S){return Hh(v,h0(Qr(S)))}var fA=RA(function(v,S){return v==null?{}:al(v,S)});function Hh(v,S){if(v==null)return{};var F=Go(Wh(v),function(X){return[X]});return S=Qr(S),zd(v,F,function(X,Ce){return S(X,Ce[0])})}function Mc(v,S,F){S=id(S,v);var X=-1,Ce=S.length;for(Ce||(Ce=1,v=t);++X<Ce;){var Le=v==null?t:v[Ea(S[X])];Le===t&&(X=Ce,Le=F),v=Dn(Le)?Le.call(v):Le}return v}function Hf(v,S,F){return v==null?v:Kh(v,S,F)}function ud(v,S,F,X){return X=typeof X=="function"?X:t,v==null?v:Kh(v,S,F,X)}var gk=Yd(El),yk=Yd(Ra);function fQ(v,S,F){var X=ee(v),Ce=X||Re(v)||Ls(v);if(S=Qr(S,4),F==null){var Le=v&&v.constructor;Ce?F=X?new Le:[]:Cn(v)?F=Dn(Le)?Cl(mu(v)):{}:F={}}return(Ce?$l:Ts)(v,function(ot,yt,Bt){return S(F,ot,yt,Bt)}),F}function pQ(v,S){return v==null?!0:Rp(v,S)}function mQ(v,S,F){return v==null?v:zf(v,S,Wf(F))}function gQ(v,S,F,X){return X=typeof X=="function"?X:t,v==null?v:zf(v,S,Wf(F),X)}function sg(v){return v==null?[]:_h(v,El(v))}function yQ(v){return v==null?[]:_h(v,Ra(v))}function vQ(v,S,F){return F===t&&(F=S,S=t),F!==t&&(F=Zr(F),F=F===F?F:0),S!==t&&(S=Zr(S),S=S===S?S:0),Zn(Zr(v),S,F)}function _Q(v,S,F){return S=is(S),F===t?(F=S,S=0):F=is(F),v=Zr(v),ta(v,S,F)}function CQ(v,S,F){if(F&&typeof F!="boolean"&&b(v,S,F)&&(S=F=t),F===t&&(typeof S=="boolean"?(F=S,S=t):typeof v=="boolean"&&(F=v,v=t)),v===t&&S===t?(v=0,S=1):(v=is(v),S===t?(S=v,v=0):S=is(S)),v>S){var X=v;v=S,S=X}if(F||v%1||S%1){var Ce=FA();return ea(v+Ce*(S-v+wr("1e-"+((Ce+"").length-1))),S)}return Dp(v,S)}var bQ=Rh(function(v,S,F){return S=S.toLowerCase(),v+(F?vk(S):S)});function vk(v){return Tw(oi(v).toLowerCase())}function _k(v){return v=oi(v),v&&v.replace(pi,kd).replace(nA,"")}function xQ(v,S,F){v=oi(v),S=_u(S);var X=v.length;F=F===t?X:Zn($r(F),0,X);var Ce=F;return F-=S.length,F>=0&&v.slice(F,Ce)==S}function wQ(v){return v=oi(v),v&&ve.test(v)?v.replace(Te,hu):v}function MQ(v){return v=oi(v),v&&Zt.test(v)?v.replace(Ct,"\\$&"):v}var SQ=Rh(function(v,S,F){return v+(F?"-":"")+S.toLowerCase()}),EQ=Rh(function(v,S,F){return v+(F?" ":"")+S.toLowerCase()}),OQ=Uh("toLowerCase");function BQ(v,S,F){v=oi(v),S=$r(S);var X=S?IA(v):0;if(!S||X>=S)return v;var Ce=(S-X)/2;return Np(yu(Ce),F)+v+Np(yo(Ce),F)}function kQ(v,S,F){v=oi(v),S=$r(S);var X=S?IA(v):0;return S&&X<S?v+Np(S-X,F):v}function IQ(v,S,F){v=oi(v),S=$r(S);var X=S?IA(v):0;return S&&X<S?Np(S-X,F)+v:v}function TQ(v,S,F){return F||S==null?S=0:S&&(S=+S),Er(oi(v).replace(Ht,""),S||0)}function KQ(v,S,F){return(F?b(v,S,F):S===t)?S=1:S=$r(S),e0(oi(v),S)}function PQ(){var v=arguments,S=oi(v[0]);return v.length<3?S:S.replace(v[1],v[2])}var FQ=Rh(function(v,S,F){return v+(F?"_":"")+S.toLowerCase()});function DQ(v,S,F){return F&&typeof F!="number"&&b(v,S,F)&&(S=F=t),F=F===t?Je:F>>>0,F?(v=oi(v),v&&(typeof S=="string"||S!=null&&!Xl(S))&&(S=_u(S),!S&&kA(v))?Cc(yl(v),0,F):v.split(S,F)):[]}var LQ=Rh(function(v,S,F){return v+(F?" ":"")+Tw(S)});function UQ(v,S,F){return v=oi(v),F=F==null?0:Zn($r(F),0,v.length),S=_u(S),v.slice(F,F+S.length)==S}function RQ(v,S,F){var X=ke.templateSettings;F&&b(v,S,F)&&(S=t),v=oi(v),S=$u({},S,X,z1);var Ce=$u({},S.imports,X.imports,z1),Le=El(Ce),ot=_h(Ce,Le),yt,Bt,gn=0,yn=S.interpolate||Oo,kn="__p += '",hr=hs((S.escape||Oo).source+"|"+yn.source+"|"+(yn===Xe?Dr:Oo).source+"|"+(S.evaluate||Oo).source+"|$","g"),Wr="//# sourceURL="+(Vi.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ac+"]")+`
`;v.replace(hr,function(Ai,po,So,Sc,pA,Ec){return So||(So=Sc),kn+=v.slice(gn,Ec).replace(As,Fu),po&&(yt=!0,kn+=`' +
__e(`+po+`) +
'`),pA&&(Bt=!0,kn+=`';
`+pA+`;
__p += '`),So&&(kn+=`' +
((__t = (`+So+`)) == null ? '' : __t) +
'`),gn=Ec+Ai.length,Ai}),kn+=`';
`;var ui=Vi.call(S,"variable")&&S.variable;if(!ui)kn=`with (obj) {
`+kn+`
}
`;else if(Tr.test(ui))throw new ei(a);kn=(Bt?kn.replace(m,""):kn).replace(Tt,"$1").replace(Lr,"$1;"),kn="function("+(ui||"obj")+`) {
`+(ui?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(yt?", __e = _.escape":"")+(Bt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+kn+`return __p
}`;var ro=bk(function(){return eo(Le,Wr+"return "+kn).apply(t,ot)});if(ro.source=kn,tn(ro))throw ro;return ro}function zQ(v){return oi(v).toLowerCase()}function jQ(v){return oi(v).toUpperCase()}function WQ(v,S,F){if(v=oi(v),v&&(F||S===t))return Qc(v);if(!v||!(S=_u(S)))return v;var X=yl(v),Ce=yl(S),Le=Tl(X,Ce),ot=BA(X,Ce)+1;return Cc(X,Le,ot).join("")}function NQ(v,S,F){if(v=oi(v),v&&(F||S===t))return v.slice(0,bh(v)+1);if(!v||!(S=_u(S)))return v;var X=yl(v),Ce=BA(X,yl(S))+1;return Cc(X,0,Ce).join("")}function GQ(v,S,F){if(v=oi(v),v&&(F||S===t))return v.replace(Ht,"");if(!v||!(S=_u(S)))return v;var X=yl(v),Ce=Tl(X,yl(S));return Cc(X,Ce).join("")}function QQ(v,S){var F=Ne,X=et;if(Cn(S)){var Ce="separator"in S?S.separator:Ce;F="length"in S?$r(S.length):F,X="omission"in S?_u(S.omission):X}v=oi(v);var Le=v.length;if(kA(v)){var ot=yl(v);Le=ot.length}if(F>=Le)return v;var yt=F-IA(X);if(yt<1)return X;var Bt=ot?Cc(ot,0,yt).join(""):v.slice(0,yt);if(Ce===t)return Bt+X;if(ot&&(yt+=Bt.length-yt),Xl(Ce)){if(v.slice(yt).search(Ce)){var gn,yn=Bt;for(Ce.global||(Ce=hs(Ce.source,oi(Jr.exec(Ce))+"g")),Ce.lastIndex=0;gn=Ce.exec(yn);)var kn=gn.index;Bt=Bt.slice(0,kn===t?yt:kn)}}else if(v.indexOf(_u(Ce),yt)!=yt){var hr=Bt.lastIndexOf(Ce);hr>-1&&(Bt=Bt.slice(0,hr))}return Bt+X}function $Q(v){return v=oi(v),v&&de.test(v)?v.replace(Wn,iA):v}var YQ=Rh(function(v,S,F){return v+(F?" ":"")+S.toUpperCase()}),Tw=Uh("toUpperCase");function Ck(v,S,F){return v=oi(v),S=F?t:S,S===t?If(v)?Id(v):Tp(v):v.match(S)||[]}var bk=ji(function(v,S){try{return ds(v,t,S)}catch(F){return tn(F)?F:new ei(F)}}),qQ=RA(function(v,S){return $l(S,function(F){F=Ea(F),In(v,F,tg(v[F],v))}),v});function VQ(v){var S=v==null?0:v.length,F=Qr();return v=S?Go(v,function(X){if(typeof X[1]!="function")throw new fs(s);return[F(X[0]),X[1]]}):[],ji(function(X){for(var Ce=-1;++Ce<S;){var Le=v[Ce];if(ds(Le[0],this,X))return ds(Le[1],this,X)}})}function HQ(v){return bi(zi(v,B))}function Kw(v){return function(){return v}}function ZQ(v,S){return v==null||v!==v?S:v}var XQ=zp(),JQ=zp(!0);function $A(v){return v}function Pw(v){return Jc(typeof v=="function"?v:zi(v,B))}function e$(v){return Ih(zi(v,B))}function t$(v,S){return Th(v,zi(S,B))}var n$=ji(function(v,S){return function(F){return LA(F,v,S)}}),r$=ji(function(v,S){return function(F){return LA(v,F,S)}});function Fw(v,S,F){var X=El(S),Ce=Ca(S,X);F==null&&!(Cn(S)&&(Ce.length||!X.length))&&(F=S,S=v,v=this,Ce=Ca(S,El(S)));var Le=!(Cn(F)&&"chain"in F)||!!F.chain,ot=Dn(v);return $l(Ce,function(yt){var Bt=S[yt];v[yt]=Bt,ot&&(v.prototype[yt]=function(){var gn=this.__chain__;if(Le||gn){var yn=v(this.__wrapped__),kn=yn.__actions__=Vs(this.__actions__);return kn.push({func:Bt,args:arguments,thisArg:v}),yn.__chain__=gn,yn}return Bt.apply(v,Ku([this.value()],arguments))})}),v}function i$(){return Yr._===this&&(Yr._=Ma),this}function Dw(){}function o$(v){return v=$r(v),ji(function(S){return Rd(S,v)})}var a$=Wp(Go),s$=Wp(Wc),l$=Wp(lc);function xk(v){return E(v)?sa(Ea(v)):Jm(v)}function u$(v){return function(S){return v==null?t:Bo(v,S)}}var A$=$d(),c$=$d(!0);function Lw(){return[]}function Uw(){return!1}function d$(){return{}}function h$(){return""}function f$(){return!0}function p$(v,S){if(v=$r(v),v<1||v>nn)return[];var F=Je,X=ea(v,Je);S=Qr(S),v-=Je;for(var Ce=go(X,S);++F<v;)S(F);return Ce}function m$(v){return ee(v)?Go(v,Ea):Wo(v)?[v]:Vs(ca(oi(v)))}function g$(v){var S=++xh;return oi(v)+S}var y$=Qd(function(v,S){return v+S},0),v$=s0("ceil"),_$=Qd(function(v,S){return v/S},1),C$=s0("floor");function b$(v){return v&&v.length?jo(v,$A,Mo):t}function x$(v,S){return v&&v.length?jo(v,Qr(S,2),Mo):t}function w$(v){return Pu(v,$A)}function M$(v,S){return Pu(v,Qr(S,2))}function S$(v){return v&&v.length?jo(v,$A,Wu):t}function E$(v,S){return v&&v.length?jo(v,Qr(S,2),Wu):t}var O$=Qd(function(v,S){return v*S},1),B$=s0("round"),k$=Qd(function(v,S){return v-S},0);function I$(v){return v&&v.length?wo(v,$A):0}function T$(v,S){return v&&v.length?wo(v,Qr(S,2)):0}return ke.after=Vh,ke.ary=eg,ke.assign=NA,ke.assignIn=GA,ke.assignInWith=$u,ke.assignWith=Xd,ke.at=QA,ke.before=Cv,ke.bind=tg,ke.bindAll=qQ,ke.bindKey=ng,ke.castArray=c,ke.chain=gv,ke.chunk=Hs,ke.compact=gs,ke.concat=ns,ke.cond=VQ,ke.conforms=HQ,ke.constant=Kw,ke.countBy=Gb,ke.create=hA,ke.curry=ex,ke.curryRight=bv,ke.debounce=xv,ke.defaults=xu,ke.defaultsDeep=Jd,ke.defer=xw,ke.delay=tx,ke.difference=na,ke.differenceBy=ys,ke.differenceWith=Vd,ke.drop=zA,ke.dropRight=Ps,ke.dropRightWhile=jA,ke.dropWhile=Fs,ke.fill=A0,ke.filter=$b,ke.flatMap=qb,ke.flatMapDeep=qh,ke.flatMapDepth=Vb,ke.flatten=Ua,ke.flattenDeep=Zs,ke.flattenDepth=Hd,ke.flip=wv,ke.flow=XQ,ke.flowRight=JQ,ke.fromPairs=WA,ke.functions=ix,ke.functionsIn=Mw,ke.groupBy=Hb,ke.initial=qp,ke.intersection=N1,ke.intersectionBy=G1,ke.intersectionWith=iw,ke.invert=Ew,ke.invertBy=Ow,ke.invokeMap=yw,ke.iteratee=Pw,ke.keyBy=Zb,ke.keys=El,ke.keysIn=Ra,ke.map=Zd,ke.mapKeys=ag,ke.mapValues=ox,ke.matches=e$,ke.matchesProperty=t$,ke.memoize=Xp,ke.merge=kw,ke.mergeWith=ax,ke.method=n$,ke.methodOf=r$,ke.mixin=Fw,ke.negate=h0,ke.nthArg=o$,ke.omit=Iw,ke.omitBy=Ll,ke.once=f0,ke.orderBy=Xb,ke.over=a$,ke.overArgs=Mv,ke.overEvery=s$,ke.overSome=l$,ke.partial=rg,ke.partialRight=ig,ke.partition=H1,ke.pick=fA,ke.pickBy=Hh,ke.property=xk,ke.propertyOf=u$,ke.pull=Ob,ke.pullAll=Q1,ke.pullAllBy=Av,ke.pullAllWith=aw,ke.pullAt=sw,ke.range=A$,ke.rangeRight=c$,ke.rearg=og,ke.reject=X1,ke.remove=Bb,ke.rest=p0,ke.reverse=Vf,ke.sampleSize=vw,ke.set=Hf,ke.setWith=ud,ke.shuffle=_w,ke.slice=ld,ke.sortBy=Zp,ke.sortedUniq=dv,ke.sortedUniqBy=Aw,ke.split=DQ,ke.spread=Sv,ke.tail=hv,ke.take=fv,ke.takeRight=Vp,ke.takeRightWhile=Ib,ke.takeWhile=Tb,ke.tap=Rb,ke.throttle=Ev,ke.thru=Hp,ke.toArray=wl,ke.toPairs=gk,ke.toPairsIn=yk,ke.toPath=m$,ke.toPlainObject=Ml,ke.transform=fQ,ke.unary=Ov,ke.union=pv,ke.unionBy=Kb,ke.unionWith=Y1,ke.uniq=Pb,ke.uniqBy=cw,ke.uniqWith=dw,ke.unset=pQ,ke.unzip=q1,ke.unzipWith=Fb,ke.update=mQ,ke.updateWith=gQ,ke.values=sg,ke.valuesIn=yQ,ke.without=hw,ke.words=Ck,ke.wrap=ww,ke.xor=fw,ke.xorBy=pw,ke.xorWith=mv,ke.zip=Yh,ke.zipObject=Db,ke.zipObjectDeep=Lb,ke.zipWith=Ub,ke.entries=gk,ke.entriesIn=yk,ke.extend=GA,ke.extendWith=$u,Fw(ke,ke),ke.add=y$,ke.attempt=bk,ke.camelCase=bQ,ke.capitalize=vk,ke.ceil=v$,ke.clamp=vQ,ke.clone=l,ke.cloneDeep=y,ke.cloneDeepWith=w,ke.cloneWith=d,ke.conformsTo=T,ke.deburr=_k,ke.defaultTo=ZQ,ke.divide=_$,ke.endsWith=xQ,ke.eq=K,ke.escape=wQ,ke.escapeRegExp=MQ,ke.every=Qb,ke.find=Yb,ke.findIndex=AA,ke.findKey=m0,ke.findLast=mw,ke.findLastIndex=wc,ke.findLastKey=nx,ke.floor=C$,ke.forEach=vv,ke.forEachRight=_v,ke.forIn=Bv,ke.forInRight=kv,ke.forOwn=eh,ke.forOwnRight=rx,ke.get=Iv,ke.gt=D,ke.gte=z,ke.has=Sw,ke.hasIn=Tv,ke.head=Yp,ke.identity=$A,ke.includes=gw,ke.indexOf=c0,ke.inRange=_Q,ke.invoke=Bw,ke.isArguments=V,ke.isArray=ee,ke.isArrayBuffer=ce,ke.isArrayLike=me,ke.isArrayLikeObject=xe,ke.isBoolean=Oe,ke.isBuffer=Re,ke.isDate=Qe,ke.isElement=it,ke.isEmpty=Mt,ke.isEqual=lt,ke.isEqualWith=vt,ke.isError=tn,ke.isFinite=An,ke.isFunction=Dn,ke.isInteger=vr,ke.isLength=$n,ke.isMap=sr,ke.isMatch=Ln,ke.isMatchWith=wn,ke.isNaN=Ir,ke.isNative=br,ke.isNil=ra,ke.isNull=Oi,ke.isNumber=ia,ke.isObject=Cn,ke.isObjectLike=fn,ke.isPlainObject=Oa,ke.isRegExp=Xl,ke.isSafeInteger=Jl,ke.isSet=rs,ke.isString=vs,ke.isSymbol=Wo,ke.isTypedArray=Ls,ke.isUndefined=eu,ke.isWeakMap=Us,ke.isWeakSet=Rs,ke.join=Sb,ke.kebabCase=SQ,ke.last=cA,ke.lastIndexOf=ow,ke.lowerCase=EQ,ke.lowerFirst=OQ,ke.lt=Dl,ke.lte=tu,ke.max=b$,ke.maxBy=x$,ke.mean=w$,ke.meanBy=M$,ke.min=S$,ke.minBy=E$,ke.stubArray=Lw,ke.stubFalse=Uw,ke.stubObject=d$,ke.stubString=h$,ke.stubTrue=f$,ke.multiply=O$,ke.nth=Eb,ke.noConflict=i$,ke.noop=Dw,ke.now=Ds,ke.pad=BQ,ke.padEnd=kQ,ke.padStart=IQ,ke.parseInt=TQ,ke.random=CQ,ke.reduce=Jb,ke.reduceRight=Z1,ke.repeat=KQ,ke.replace=PQ,ke.result=Mc,ke.round=B$,ke.runInContext=bt,ke.sample=J1,ke.size=Cw,ke.snakeCase=FQ,ke.some=bw,ke.sortedIndex=$h,ke.sortedIndexBy=kb,ke.sortedIndexOf=cv,ke.sortedLastIndex=lw,ke.sortedLastIndexBy=uw,ke.sortedLastIndexOf=$1,ke.startCase=LQ,ke.startsWith=UQ,ke.subtract=k$,ke.sum=I$,ke.sumBy=T$,ke.template=RQ,ke.times=p$,ke.toFinite=is,ke.toInteger=$r,ke.toLength=_s,ke.toLower=zQ,ke.toNumber=Zr,ke.toSafeInteger=Sl,ke.toString=oi,ke.toUpper=jQ,ke.trim=WQ,ke.trimEnd=NQ,ke.trimStart=GQ,ke.truncate=QQ,ke.unescape=$Q,ke.uniqueId=g$,ke.upperCase=YQ,ke.upperFirst=Tw,ke.each=vv,ke.eachRight=_v,ke.first=Yp,Fw(ke,function(){var v={};return Ts(ke,function(S,F){Vi.call(ke.prototype,F)||(v[F]=S)}),v}(),{chain:!1}),ke.VERSION=r,$l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){ke[v].placeholder=ke}),$l(["drop","take"],function(v,S){jr.prototype[v]=function(F){F=F===t?1:to($r(F),0);var X=this.__filtered__&&!S?new jr(this):this.clone();return X.__filtered__?X.__takeCount__=ea(F,X.__takeCount__):X.__views__.push({size:ea(F,Je),type:v+(X.__dir__<0?"Right":"")}),X},jr.prototype[v+"Right"]=function(F){return this.reverse()[v](F).reverse()}}),$l(["filter","map","takeWhile"],function(v,S){var F=S+1,X=F==rt||F==Ut;jr.prototype[v]=function(Ce){var Le=this.clone();return Le.__iteratees__.push({iteratee:Qr(Ce,3),type:F}),Le.__filtered__=Le.__filtered__||X,Le}}),$l(["head","last"],function(v,S){var F="take"+(S?"Right":"");jr.prototype[v]=function(){return this[F](1).value()[0]}}),$l(["initial","tail"],function(v,S){var F="drop"+(S?"":"Right");jr.prototype[v]=function(){return this.__filtered__?new jr(this):this[F](1)}}),jr.prototype.compact=function(){return this.filter($A)},jr.prototype.find=function(v){return this.filter(v).head()},jr.prototype.findLast=function(v){return this.reverse().find(v)},jr.prototype.invokeMap=ji(function(v,S){return typeof v=="function"?new jr(this):this.map(function(F){return LA(F,v,S)})}),jr.prototype.reject=function(v){return this.filter(h0(Qr(v)))},jr.prototype.slice=function(v,S){v=$r(v);var F=this;return F.__filtered__&&(v>0||S<0)?new jr(F):(v<0?F=F.takeRight(-v):v&&(F=F.drop(v)),S!==t&&(S=$r(S),F=S<0?F.dropRight(-S):F.take(S-v)),F)},jr.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},jr.prototype.toArray=function(){return this.take(Je)},Ts(jr.prototype,function(v,S){var F=/^(?:filter|find|map|reject)|While$/.test(S),X=/^(?:head|last)$/.test(S),Ce=ke[X?"take"+(S=="last"?"Right":""):S],Le=X||/^find/.test(S);Ce&&(ke.prototype[S]=function(){var ot=this.__wrapped__,yt=X?[1]:arguments,Bt=ot instanceof jr,gn=yt[0],yn=Bt||ee(ot),kn=function(po){var So=Ce.apply(ke,Ku([po],yt));return X&&hr?So[0]:So};yn&&F&&typeof gn=="function"&&gn.length!=1&&(Bt=yn=!1);var hr=this.__chain__,Wr=!!this.__actions__.length,ui=Le&&!hr,ro=Bt&&!Wr;if(!Le&&yn){ot=ro?ot:new jr(this);var Ai=v.apply(ot,yt);return Ai.__actions__.push({func:Hp,args:[kn],thisArg:t}),new no(Ai,hr)}return ui&&ro?v.apply(this,yt):(Ai=this.thru(kn),ui?X?Ai.value()[0]:Ai.value():Ai)})}),$l(["pop","push","shift","sort","splice","unshift"],function(v){var S=Kd[v],F=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",X=/^(?:pop|shift)$/.test(v);ke.prototype[v]=function(){var Ce=arguments;if(X&&!this.__chain__){var Le=this.value();return S.apply(ee(Le)?Le:[],Ce)}return this[F](function(ot){return S.apply(ee(ot)?ot:[],Ce)})}}),Ts(jr.prototype,function(v,S){var F=ke[S];if(F){var X=F.name+"";Vi.call(Lo,X)||(Lo[X]=[]),Lo[X].push({name:S,func:F})}}),Lo[zh(t,Q).name]=[{name:"wrapper",func:t}],jr.prototype.clone=la,jr.prototype.reverse=mc,jr.prototype.value=gc,ke.prototype.at=V1,ke.prototype.chain=zb,ke.prototype.commit=yv,ke.prototype.next=jb,ke.prototype.plant=d0,ke.prototype.reverse=Wb,ke.prototype.toJSON=ke.prototype.valueOf=ke.prototype.value=Nb,ke.prototype.first=ke.prototype.head,Du&&(ke.prototype[Du]=dA),ke},fu=Td();Po?((Po.exports=fu)._=fu,Gi._=fu):Yr._=fu}).call(ch)})(a3,a3.exports);var V4=a3.exports;const x6=oa(V4);function _H(e,n,t){const r=n<0?e.length+n:n;if(r>=0&&r<e.length){const i=t<0?e.length+t:t,[o]=e.splice(n,1);e.splice(i,0,o)}}function CH(e){for(var n=5381,t=e.length;t;)n=n*33^e.charCodeAt(--t);return n>>>0}var bH=CH;const zI=oa(bH);var xH=8,wH={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},MH={"*":{type:"source"}},SH=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],EH={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},OH={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},BH={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},kH={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},IH={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},TH={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},KH={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},PH=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],FH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},DH={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},LH={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},UH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},RH={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zH={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},WH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},NH={type:"array",value:"*"},GH={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},QH={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},$H={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},YH={type:"array",value:"*",minimum:1},qH={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},VH={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},HH={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},ZH=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],XH={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},JH={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},eZ={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},tZ={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},nZ={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},rZ={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},iZ={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},oZ={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},aZ={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},sZ={"*":{type:"string"}},ma={$version:xH,$root:wH,sources:MH,source:SH,source_vector:EH,source_raster:OH,source_raster_dem:BH,source_geojson:kH,source_video:IH,source_image:TH,layer:KH,layout:PH,layout_background:FH,layout_fill:DH,layout_circle:LH,layout_heatmap:UH,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:RH,layout_symbol:zH,layout_raster:jH,layout_hillshade:WH,filter:NH,filter_operator:GH,geometry_type:QH,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:$H,expression:YH,light:qH,sky:VH,terrain:HH,paint:ZH,paint_fill:XH,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:JH,paint_circle:eZ,paint_heatmap:tZ,paint_symbol:nZ,paint_raster:rZ,paint_hillshade:iZ,paint_background:oZ,transition:aZ,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:sZ};const lZ=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function uZ(e,n){const t={};for(const r in e)r!=="ref"&&(t[r]=e[r]);return lZ.forEach(r=>{r in n&&(t[r]=n[r])}),t}function AZ(e){e=e.slice();const n=Object.create(null);for(let t=0;t<e.length;t++)n[e[t].id]=e[t];for(let t=0;t<e.length;t++)"ref"in e[t]&&(e[t]=uZ(e[t],n[e[t].ref]));return e}function Qa(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!Qa(e[t],n[t]))return!1;return!0}if(typeof e=="object"&&e!==null&&n!==null){if(typeof n!="object"||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(!Qa(e[r],n[r]))return!1;return!0}return e===n}function fd(e,n){e.push(n)}function VL(e,n,t){fd(t,{command:"addSource",args:[e,n[e]]})}function HL(e,n,t){fd(n,{command:"removeSource",args:[e]}),t[e]=!0}function cZ(e,n,t,r){HL(e,t,r),VL(e,n,t)}function dZ(e,n,t){let r;for(r in e[t])if(Object.prototype.hasOwnProperty.call(e[t],r)&&r!=="data"&&!Qa(e[t][r],n[t][r]))return!1;for(r in n[t])if(Object.prototype.hasOwnProperty.call(n[t],r)&&r!=="data"&&!Qa(e[t][r],n[t][r]))return!1;return!0}function hZ(e,n,t,r){e=e||{},n=n||{};let i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(n,i)||HL(i,t,r));for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(Object.prototype.hasOwnProperty.call(e,i)?Qa(e[i],n[i])||(e[i].type==="geojson"&&n[i].type==="geojson"&&dZ(e,n,i)?fd(t,{command:"setGeoJSONSourceData",args:[i,n[i].data]}):cZ(i,n,t,r)):VL(i,n,t))}function gx(e,n,t,r,i,o){e=e||{},n=n||{};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(Qa(e[s],n[s])||t.push({command:o,args:[r,s,n[s],i]}));for(const s in n)!Object.prototype.hasOwnProperty.call(n,s)||Object.prototype.hasOwnProperty.call(e,s)||Qa(e[s],n[s])||t.push({command:o,args:[r,s,n[s],i]})}function jI(e){return e.id}function WI(e,n){return e[n.id]=n,e}function fZ(e,n,t){e=e||[],n=n||[];const r=e.map(jI),i=n.map(jI),o=e.reduce(WI,{}),s=n.reduce(WI,{}),a=r.slice(),h=Object.create(null);let g,C,B,k,P;for(let U=0,Z=0;U<r.length;U++)g=r[U],Object.prototype.hasOwnProperty.call(s,g)?Z++:(fd(t,{command:"removeLayer",args:[g]}),a.splice(a.indexOf(g,Z),1));for(let U=0,Z=0;U<i.length;U++)g=i[i.length-1-U],a[a.length-1-U]!==g&&(Object.prototype.hasOwnProperty.call(o,g)?(fd(t,{command:"removeLayer",args:[g]}),a.splice(a.lastIndexOf(g,a.length-Z),1)):Z++,k=a[a.length-U],fd(t,{command:"addLayer",args:[s[g],k]}),a.splice(a.length-U,0,g),h[g]=!0);for(let U=0;U<i.length;U++)if(g=i[U],C=o[g],B=s[g],!(h[g]||Qa(C,B))){if(!Qa(C.source,B.source)||!Qa(C["source-layer"],B["source-layer"])||!Qa(C.type,B.type)){fd(t,{command:"removeLayer",args:[g]}),k=a[a.lastIndexOf(g)+1],fd(t,{command:"addLayer",args:[B,k]});continue}gx(C.layout,B.layout,t,g,null,"setLayoutProperty"),gx(C.paint,B.paint,t,g,null,"setPaintProperty"),Qa(C.filter,B.filter)||fd(t,{command:"setFilter",args:[g,B.filter]}),(!Qa(C.minzoom,B.minzoom)||!Qa(C.maxzoom,B.maxzoom))&&fd(t,{command:"setLayerZoomRange",args:[g,B.minzoom,B.maxzoom]});for(P in C)Object.prototype.hasOwnProperty.call(C,P)&&(P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?gx(C[P],B[P],t,g,P.slice(6),"setPaintProperty"):Qa(C[P],B[P])||fd(t,{command:"setLayerProperty",args:[g,P,B[P]]})));for(P in B)!Object.prototype.hasOwnProperty.call(B,P)||Object.prototype.hasOwnProperty.call(C,P)||P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?gx(C[P],B[P],t,g,P.slice(6),"setPaintProperty"):Qa(C[P],B[P])||fd(t,{command:"setLayerProperty",args:[g,P,B[P]]}))}}function pZ(e,n){if(!e)return[{command:"setStyle",args:[n]}];let t=[];try{if(!Qa(e.version,n.version))return[{command:"setStyle",args:[n]}];Qa(e.center,n.center)||t.push({command:"setCenter",args:[n.center]}),Qa(e.zoom,n.zoom)||t.push({command:"setZoom",args:[n.zoom]}),Qa(e.bearing,n.bearing)||t.push({command:"setBearing",args:[n.bearing]}),Qa(e.pitch,n.pitch)||t.push({command:"setPitch",args:[n.pitch]}),Qa(e.sprite,n.sprite)||t.push({command:"setSprite",args:[n.sprite]}),Qa(e.glyphs,n.glyphs)||t.push({command:"setGlyphs",args:[n.glyphs]}),Qa(e.transition,n.transition)||t.push({command:"setTransition",args:[n.transition]}),Qa(e.light,n.light)||t.push({command:"setLight",args:[n.light]}),Qa(e.terrain,n.terrain)||t.push({command:"setTerrain",args:[n.terrain]});const r={},i=[];hZ(e.sources,n.sources,i,r);const o=[];e.layers&&e.layers.forEach(s=>{"source"in s&&r[s.source]?t.push({command:"removeLayer",args:[s.id]}):o.push(s)}),t=t.concat(i),fZ(o,n.layers,t)}catch(r){console.warn("Unable to compute style diff:",r),t=[{command:"setStyle",args:[n]}]}return t}class Hn{constructor(n,t,r,i){this.message=(n?`${n}: `:"")+r,i&&(this.identifier=i),t!=null&&t.__line__&&(this.line=t.__line__)}}function Ey(e,...n){for(const t of n)for(const r in t)e[r]=t[r];return e}class af extends Error{constructor(n,t){super(t),this.message=t,this.key=n}}let mZ=class ZL{constructor(n,t=[]){this.parent=n,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(n){return new ZL(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return this.bindings[n]?!0:this.parent?this.parent.has(n):!1}};const H4={kind:"null"},tr={kind:"number"},uo={kind:"string"},Qi={kind:"boolean"},pf={kind:"color"},ny={kind:"object"},Yi={kind:"value"},gZ={kind:"error"},Z4={kind:"collator"},X4={kind:"formatted"},J4={kind:"padding"},jC={kind:"resolvedImage"},e5={kind:"variableAnchorOffsetCollection"};function Tc(e,n){return{kind:"array",itemType:e,N:n}}function bs(e){if(e.kind==="array"){const n=bs(e.itemType);return typeof e.N=="number"?`array<${n}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${n}>`}else return e.kind}const yZ=[H4,tr,uo,Qi,pf,X4,ny,Tc(Yi),J4,jC,e5];function rC(e,n){if(n.kind==="error")return null;if(e.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!rC(e.itemType,n.itemType))&&(typeof e.N!="number"||e.N===n.N))return null}else{if(e.kind===n.kind)return null;if(e.kind==="value"){for(const t of yZ)if(!rC(t,n))return null}}return`Expected ${bs(e)} but found ${bs(n)} instead.`}function wB(e,n){return n.some(t=>t.kind===e.kind)}function iC(e,n){return n.some(t=>t==="null"?e===null:t==="array"?Array.isArray(e):t==="object"?e&&!Array.isArray(e)&&typeof e=="object":t===typeof e)}function zv(e,n){return e.kind==="array"&&n.kind==="array"?e.itemType.kind===n.itemType.kind&&typeof e.N=="number":e.kind===n.kind}const XL=.96422,JL=1,eU=.82521,tU=4/29,ry=6/29,nU=3*ry*ry,vZ=ry*ry*ry,_Z=Math.PI/180,CZ=180/Math.PI;function rU(e){return e=e%360,e<0&&(e+=360),e}function iU([e,n,t,r]){e=iM(e),n=iM(n),t=iM(t);let i,o;const s=oM((.2225045*e+.7168786*n+.0606169*t)/JL);e===n&&n===t?i=o=s:(i=oM((.4360747*e+.3850649*n+.1430804*t)/XL),o=oM((.0139322*e+.0971045*n+.7141733*t)/eU));const a=116*s-16;return[a<0?0:a,500*(i-s),200*(s-o),r]}function iM(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function oM(e){return e>vZ?Math.pow(e,1/3):e/nU+tU}function oU([e,n,t,r]){let i=(e+16)/116,o=isNaN(n)?i:i+n/500,s=isNaN(t)?i:i-t/200;return i=JL*sM(i),o=XL*sM(o),s=eU*sM(s),[aM(3.1338561*o-1.6168667*i-.4906146*s),aM(-.9787684*o+1.9161415*i+.033454*s),aM(.0719453*o-.2289914*i+1.4052427*s),r]}function aM(e){return e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055,e<0?0:e>1?1:e}function sM(e){return e>ry?e*e*e:nU*(e-tU)}function bZ(e){const[n,t,r,i]=iU(e),o=Math.sqrt(t*t+r*r);return[Math.round(o*1e4)?rU(Math.atan2(r,t)*CZ):NaN,o,n,i]}function xZ([e,n,t,r]){return e=isNaN(e)?0:e*_Z,oU([t,Math.cos(e)*n,Math.sin(e)*n,r])}function wZ([e,n,t,r]){e=rU(e),n/=100,t/=100;function i(o){const s=(o+e/30)%12,a=n*Math.min(t,1-t);return t-a*Math.max(-1,Math.min(s-3,9-s,1))}return[i(0),i(8),i(4),r]}function MZ(e){if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];const n=SZ[e];if(n){const[i,o,s]=n;return[i/255,o/255,s/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const o=e.length<6?1:2;let s=1;return[yx(e.slice(s,s+=o)),yx(e.slice(s,s+=o)),yx(e.slice(s,s+=o)),yx(e.slice(s,s+o)||"ff")]}if(e.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=e.match(i);if(o){const[s,a,h,g,C,B,k,P,U,Z,W,Q]=o,q=[g||" ",k||" ",Z].join("");if(q==="  "||q==="  /"||q===",,"||q===",,,"){const oe=[h,B,U].join(""),re=oe==="%%%"?100:oe===""?255:0;if(re){const Ae=[bg(+a/re,0,1),bg(+C/re,0,1),bg(+P/re,0,1),W?NI(+W,Q):1];if(GI(Ae))return Ae}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,r=e.match(t);if(r){const[i,o,s,a,h,g,C,B,k]=r,P=[s||" ",h||" ",C].join("");if(P==="  "||P==="  /"||P===",,"||P===",,,"){const U=[+o,bg(+a,0,100),bg(+g,0,100),B?NI(+B,k):1];if(GI(U))return wZ(U)}}}function yx(e){return parseInt(e.padEnd(2,e),16)/255}function NI(e,n){return bg(n?e/100:e,0,1)}function bg(e,n,t){return Math.min(Math.max(n,e),t)}function GI(e){return!e.some(Number.isNaN)}const SZ={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};let ws=class w6{constructor(n,t,r,i=1,o=!0){this.r=n,this.g=t,this.b=r,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[n,t,r,i]))}static parse(n){if(n instanceof w6)return n;if(typeof n!="string")return;const t=MZ(n);if(t)return new w6(...t,!1)}get rgb(){const{r:n,g:t,b:r,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[n/o,t/o,r/o,i])}get hcl(){return this.overwriteGetter("hcl",bZ(this.rgb))}get lab(){return this.overwriteGetter("lab",iU(this.rgb))}overwriteGetter(n,t){return Object.defineProperty(this,n,{value:t}),t}toString(){const[n,t,r,i]=this.rgb;return`rgba(${[n,t,r].map(o=>Math.round(o*255)).join(",")},${i})`}};ws.black=new ws(0,0,0,1);ws.white=new ws(1,1,1,1);ws.transparent=new ws(0,0,0,0);ws.red=new ws(1,0,0,1);let MB=class{constructor(n,t,r){n?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,t){return this.collator.compare(n,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}},M6=class{constructor(n,t,r,i,o){this.text=n,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o}},Wy=class g2{constructor(n){this.sections=n}static fromString(n){return new g2([new M6(n,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof g2?n:g2.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}};class Rc{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof Rc)return n;if(typeof n=="number")return new Rc([n,n,n,n]);if(Array.isArray(n)&&!(n.length<1||n.length>4)){for(const t of n)if(typeof t!="number")return;switch(n.length){case 1:n=[n[0],n[0],n[0],n[0]];break;case 2:n=[n[0],n[1],n[0],n[1]];break;case 3:n=[n[0],n[1],n[2],n[1]];break}return new Rc(n)}}toString(){return JSON.stringify(this.values)}}const EZ=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class yf{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof yf)return n;if(!(!Array.isArray(n)||n.length<1||n.length%2!==0)){for(let t=0;t<n.length;t+=2){const r=n[t],i=n[t+1];if(typeof r!="string"||!EZ.has(r)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new yf(n)}}toString(){return JSON.stringify(this.values)}}let C1=class aU{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new aU({name:n,available:!1}):null}};function sU(e,n,t,r){return typeof e=="number"&&e>=0&&e<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,n,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,n,t,r]:[e,n,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function s3(e){if(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e instanceof ws||e instanceof MB||e instanceof Wy||e instanceof Rc||e instanceof yf||e instanceof C1)return!0;if(Array.isArray(e)){for(const n of e)if(!s3(n))return!1;return!0}else if(typeof e=="object"){for(const n in e)if(!s3(e[n]))return!1;return!0}else return!1}function jl(e){if(e===null)return H4;if(typeof e=="string")return uo;if(typeof e=="boolean")return Qi;if(typeof e=="number")return tr;if(e instanceof ws)return pf;if(e instanceof MB)return Z4;if(e instanceof Wy)return X4;if(e instanceof Rc)return J4;if(e instanceof yf)return e5;if(e instanceof C1)return jC;if(Array.isArray(e)){const n=e.length;let t;for(const r of e){const i=jl(r);if(!t)t=i;else{if(t===i)continue;t=Yi;break}}return Tc(t||Yi,n)}else return ny}function E_(e){const n=typeof e;return e===null?"":n==="string"||n==="number"||n==="boolean"?String(e):e instanceof ws||e instanceof Wy||e instanceof Rc||e instanceof yf||e instanceof C1?e.toString():JSON.stringify(e)}let l3=class lU{constructor(n,t){this.type=n,this.value=t}static parse(n,t){if(n.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!s3(n[1]))return t.error("invalid value");const r=n[1];let i=jl(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new lU(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}},fl=class{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}};const vx={string:uo,number:tr,boolean:Qi,object:ny};let gp=class uU{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=n[0];if(o==="array"){let a;if(n.length>2){const g=n[1];if(typeof g!="string"||!(g in vx)||g==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=vx[g],r++}else a=Yi;let h;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return t.error('The length argument to "array" must be a positive integer literal',2);h=n[2],r++}i=Tc(a,h)}else{if(!vx[o])throw new Error(`Types doesn't contain name = ${o}`);i=vx[o]}const s=[];for(;r<n.length;r++){const a=t.parse(n[r],r,Yi);if(!a)return null;s.push(a)}return new uU(i,s)}evaluate(n){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(n);if(rC(this.type,jl(r))){if(t===this.args.length-1)throw new fl(`Expected value to be of type ${bs(this.type)}, but found ${bs(jl(r))} instead.`)}else return r}throw new Error}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}};const QI={"to-boolean":Qi,"to-color":pf,"to-number":tr,"to-string":uo};let zg=class AU{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[0];if(!QI[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&n.length!==2)return t.error("Expected one argument.");const i=QI[r],o=[];for(let s=1;s<n.length;s++){const a=t.parse(n[s],s,Yi);if(!a)return null;o.push(a)}return new AU(i,o)}evaluate(n){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(n);case"color":{let t,r;for(const i of this.args){if(t=i.evaluate(n),r=null,t instanceof ws)return t;if(typeof t=="string"){const o=n.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=sU(t[0],t[1],t[2],t[3]),!r))return new ws(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new fl(r||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const r of this.args){t=r.evaluate(n);const i=Rc.parse(t);if(i)return i}throw new fl(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const r of this.args){t=r.evaluate(n);const i=yf.parse(t);if(i)return i}throw new fl(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const r of this.args){if(t=r.evaluate(n),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new fl(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Wy.fromString(E_(this.args[0].evaluate(n)));case"resolvedImage":return C1.fromString(E_(this.args[0].evaluate(n)));default:return E_(this.args[0].evaluate(n))}}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}};const OZ=["Unknown","Point","LineString","Polygon"];let cU=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?OZ[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(n){let t=this._parseColorCache[n];return t||(t=this._parseColorCache[n]=ws.parse(n)),t}},dU=class hU{constructor(n,t,r=[],i,o=new mZ,s=[]){this.registry=n,this.path=r,this.key=r.map(a=>`[${a}]`).join(""),this.scope=o,this.errors=s,this.expectedType=i,this._isConstant=t}parse(n,t,r,i,o={}){return t?this.concat(t,r,i)._parse(n,o):this._parse(n,o)}_parse(n,t){(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number")&&(n=["literal",n]);function r(i,o,s){return s==="assert"?new gp(o,[i]):s==="coerce"?new zg(o,[i]):i}if(Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=n[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(n,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,h=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&h.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="padding"&&(h.kind==="value"||h.kind==="number"||h.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="variableAnchorOffsetCollection"&&(h.kind==="value"||h.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,h))return null}if(!(s instanceof l3)&&s.type.kind!=="resolvedImage"&&this._isConstant(s)){const a=new cU;try{s=new l3(s.type,s.evaluate(a))}catch(h){return this.error(h.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof n>"u"?this.error("'undefined' value invalid. Use null instead."):typeof n=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof n} instead.`)}concat(n,t,r){const i=typeof n=="number"?this.path.concat(n):this.path,o=r?this.scope.concat(r):this.scope;return new hU(this.registry,this._isConstant,i,t||null,o,this.errors)}error(n,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new af(r,n))}checkSubtype(n,t){const r=rC(n,t);return r&&this.error(r),r}},fU=class pU{constructor(n,t,r){this.type=Z4,this.locale=r,this.caseSensitive=n,this.diacriticSensitive=t}static parse(n,t){if(n.length!==2)return t.error("Expected one argument.");const r=n[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Qi);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Qi);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,uo),!s)?null:new pU(i,o,s)}evaluate(n){return new MB(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}};const Pm=8192;function SB(e,n){e[0]=Math.min(e[0],n[0]),e[1]=Math.min(e[1],n[1]),e[2]=Math.max(e[2],n[0]),e[3]=Math.max(e[3],n[1])}function BZ(e){return(180+e)/360}function kZ(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function u3(e,n){return!(e[0]<=n[0]||e[2]>=n[2]||e[1]<=n[1]||e[3]>=n[3])}function IZ(e,n){const t=BZ(e[0]),r=kZ(e[1]),i=Math.pow(2,n.z);return[Math.round(t*i*Pm),Math.round(r*i*Pm)]}function TZ(e,n,t){const r=e[0]-n[0],i=e[1]-n[1],o=e[0]-t[0],s=e[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function KZ(e,n,t){return n[1]>e[1]!=t[1]>e[1]&&e[0]<(t[0]-n[0])*(e[1]-n[1])/(t[1]-n[1])+n[0]}function EB(e,n){let t=!1;for(let r=0,i=n.length;r<i;r++){const o=n[r];for(let s=0,a=o.length;s<a-1;s++){if(TZ(e,o[s],o[s+1]))return!1;KZ(e,o[s],o[s+1])&&(t=!t)}}return t}function PZ(e,n){for(let t=0;t<n.length;t++)if(EB(e,n[t]))return!0;return!1}function FZ(e,n){return e[0]*n[1]-e[1]*n[0]}function $I(e,n,t,r){const i=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],a=n[1]-t[1],h=r[0]-t[0],g=r[1]-t[1],C=i*g-h*o,B=s*g-h*a;return C>0&&B<0||C<0&&B>0}function DZ(e,n,t,r){const i=[n[0]-e[0],n[1]-e[1]],o=[r[0]-t[0],r[1]-t[1]];return FZ(o,i)===0?!1:!!($I(e,n,t,r)&&$I(t,r,e,n))}function LZ(e,n,t){for(const r of t)for(let i=0;i<r.length-1;++i)if(DZ(e,n,r[i],r[i+1]))return!0;return!1}function mU(e,n){for(let t=0;t<e.length;++t)if(!EB(e[t],n))return!1;for(let t=0;t<e.length-1;++t)if(LZ(e[t],e[t+1],n))return!1;return!0}function UZ(e,n){for(let t=0;t<n.length;t++)if(mU(e,n[t]))return!0;return!1}function OB(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let s=0;s<e[i].length;s++){const a=IZ(e[i][s],t);SB(n,a),o.push(a)}r.push(o)}return r}function gU(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=OB(e[i],n,t);r.push(o)}return r}function yU(e,n,t,r){if(e[0]<t[0]||e[0]>t[2]){const i=r*.5;let o=e[0]-t[0]>i?-r:t[0]-e[0]>i?r:0;o===0&&(o=e[0]-t[2]>i?-r:t[2]-e[0]>i?r:0),e[0]+=o}SB(n,e)}function RZ(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function YI(e,n,t,r){const i=Math.pow(2,r.z)*Pm,o=[r.x*Pm,r.y*Pm],s=[];for(const a of e)for(const h of a){const g=[h.x+o[0],h.y+o[1]];yU(g,n,t,i),s.push(g)}return s}function qI(e,n,t,r){const i=Math.pow(2,r.z)*Pm,o=[r.x*Pm,r.y*Pm],s=[];for(const a of e){const h=[];for(const g of a){const C=[g.x+o[0],g.y+o[1]];SB(n,C),h.push(C)}s.push(h)}if(n[2]-n[0]<=i/2){RZ(n);for(const a of s)for(const h of a)yU(h,n,t,i)}return s}function zZ(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(n.type==="Polygon"){const o=OB(n.coordinates,r,i),s=YI(e.geometry(),t,r,i);if(!u3(t,r))return!1;for(const a of s)if(!EB(a,o))return!1}if(n.type==="MultiPolygon"){const o=gU(n.coordinates,r,i),s=YI(e.geometry(),t,r,i);if(!u3(t,r))return!1;for(const a of s)if(!PZ(a,o))return!1}return!0}function jZ(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(n.type==="Polygon"){const o=OB(n.coordinates,r,i),s=qI(e.geometry(),t,r,i);if(!u3(t,r))return!1;for(const a of s)if(!mU(a,o))return!1}if(n.type==="MultiPolygon"){const o=gU(n.coordinates,r,i),s=qI(e.geometry(),t,r,i);if(!u3(t,r))return!1;for(const a of s)if(!UZ(a,o))return!1}return!0}let BB=class y2{constructor(n,t){this.type=Qi,this.geojson=n,this.geometries=t}static parse(n,t){if(n.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(s3(n[1])){const r=n[1];if(r.type==="FeatureCollection"){const i=[];for(const o of r.features){const{type:s,coordinates:a}=o.geometry;s==="Polygon"&&i.push(a),s==="MultiPolygon"&&i.push(...a)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new y2(r,o)}}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new y2(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new y2(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return zZ(n,this.geometries);if(n.geometryType()==="LineString")return jZ(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}},vU=class _U{constructor(n,t){this.type=t.type,this.name=n,this.boundExpression=t}static parse(n,t){if(n.length!==2||typeof n[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=n[1];return t.scope.has(r)?new _U(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}},Ny=class o_{constructor(n,t,r,i){this.name=n,this.type=t,this._evaluate=r,this.args=i}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}static parse(n,t){const r=n[0],i=o_.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([g])=>!Array.isArray(g)||g.length===n.length-1);let h=null;for(const[g,C]of a){h=new dU(t.registry,A3,t.path,null,t.scope);const B=[];let k=!1;for(let P=1;P<n.length;P++){const U=n[P],Z=Array.isArray(g)?g[P-1]:g.type,W=h.parse(U,1+B.length,Z);if(!W){k=!0;break}B.push(W)}if(!k){if(Array.isArray(g)&&g.length!==B.length){h.error(`Expected ${g.length} arguments, but found ${B.length} instead.`);continue}for(let P=0;P<B.length;P++){const U=Array.isArray(g)?g[P]:g.type,Z=B[P];h.concat(P+1).checkSubtype(U,Z.type)}if(h.errors.length===0)return new o_(r,o,C,B)}}if(a.length===1)t.errors.push(...h.errors);else{const C=(a.length?a:s).map(([k])=>WZ(k)).join(" | "),B=[];for(let k=1;k<n.length;k++){const P=t.parse(n[k],1+B.length);if(!P)return null;B.push(bs(P.type))}t.error(`Expected arguments of type ${C}, but found (${B.join(", ")}) instead.`)}return null}static register(n,t){o_.definitions=t;for(const r in t)n[r]=o_}};function WZ(e){return Array.isArray(e)?`(${e.map(bs).join(", ")})`:`(${bs(e.type)}...)`}function A3(e){if(e instanceof vU)return A3(e.boundExpression);if(e instanceof Ny&&e.name==="error")return!1;if(e instanceof fU)return!1;if(e instanceof BB)return!1;const n=e instanceof zg||e instanceof gp;let t=!0;return e.eachChild(r=>{n?t=t&&A3(r):t=t&&r instanceof l3}),t?t5(e)&&n5(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function t5(e){if(e instanceof Ny){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof BB)return!1;let n=!0;return e.eachChild(t=>{n&&!t5(t)&&(n=!1)}),n}function oC(e){if(e instanceof Ny&&e.name==="feature-state")return!1;let n=!0;return e.eachChild(t=>{n&&!oC(t)&&(n=!1)}),n}function n5(e,n){if(e instanceof Ny&&n.indexOf(e.name)>=0)return!1;let t=!0;return e.eachChild(r=>{t&&!n5(r,n)&&(t=!1)}),t}function r5(e,n){const t=e.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=e[o],a=e[o+1],s<=n){if(o===t||n<a)return o;r=o+1}else if(s>n)i=o-1;else throw new fl("Input is not a number.");return 0}let CU=class bU{constructor(n,t,r){this.type=n,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(n,t){if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(n[1],1,tr);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<n.length;s+=2){const a=s===1?-1/0:n[s],h=n[s+1],g=s,C=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const B=t.parse(h,C,o);if(!B)return null;o=o||B.type,i.push([a,B])}return new bU(o,r,i)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=r5(t,i);return r[s].evaluate(n)}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}};function NZ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var GZ=xU;function xU(e,n,t,r){this.cx=3*e,this.bx=3*(t-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(r-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=t,this.p2y=r}xU.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,n){if(n===void 0&&(n=1e-6),e<0)return 0;if(e>1)return 1;for(var t=e,r=0;r<8;r++){var i=this.sampleCurveX(t)-e;if(Math.abs(i)<n)return t;var o=this.sampleCurveDerivativeX(t);if(Math.abs(o)<1e-6)break;t=t-i/o}var s=0,a=1;for(t=e,r=0;r<20&&(i=this.sampleCurveX(t),!(Math.abs(i-e)<n));r++)e>i?s=t:a=t,t=(a-s)*.5+s;return t},solve:function(e,n){return this.sampleCurveY(this.solveCurveX(e,n))}};var QZ=NZ(GZ);function $Z(e){return e==="rgb"||e==="hcl"||e==="lab"}function X0(e,n,t){return e+t*(n-e)}function YZ(e,n,t,r="rgb"){switch(r){case"rgb":{const[i,o,s,a]=c3(e.rgb,n.rgb,t);return new ws(i,o,s,a,!1)}case"hcl":{const[i,o,s,a]=e.hcl,[h,g,C,B]=n.hcl;let k,P;if(!isNaN(i)&&!isNaN(h)){let q=h-i;h>i&&q>180?q-=360:h<i&&i-h>180&&(q+=360),k=i+t*q}else isNaN(i)?isNaN(h)?k=NaN:(k=h,(s===1||s===0)&&(P=g)):(k=i,(C===1||C===0)&&(P=o));const[U,Z,W,Q]=xZ([k,P??X0(o,g,t),X0(s,C,t),X0(a,B,t)]);return new ws(U,Z,W,Q,!1)}case"lab":{const[i,o,s,a]=oU(c3(e.lab,n.lab,t));return new ws(i,o,s,a,!1)}}}function c3(e,n,t){return e.map((r,i)=>X0(r,n[i],t))}function qZ(e,n,t){return new Rc(c3(e.values,n.values,t))}function VZ(e,n,t){const r=e.values,i=n.values;if(r.length!==i.length)throw new fl(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${n.toString()}`);const o=[];for(let s=0;s<r.length;s+=2){if(r[s]!==i[s])throw new fl(`Cannot interpolate values containing mismatched anchors. from[${s}]: ${r[s]}, to[${s}]: ${i[s]}`);o.push(r[s]);const[a,h]=r[s+1],[g,C]=i[s+1];o.push([X0(a,g,t),X0(h,C,t)])}return new yf(o)}const v2={number:X0,color:YZ,array:c3,padding:qZ,variableAnchorOffsetCollection:VZ};let xp=class S6{constructor(n,t,r,i,o){this.type=n,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(n,t,r,i){let o=0;if(n.name==="exponential")o=lM(t,n.base,r,i);else if(n.name==="linear")o=lM(t,1,r,i);else if(n.name==="cubic-bezier"){const s=n.controlPoints;o=new QZ(s[0],s[1],s[2],s[3]).solve(lM(t,1,r,i))}return o}static parse(n,t){let[r,i,o,...s]=n;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(C=>typeof C!="number"||C<0||C>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,tr),!o)return null;const a=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=pf:t.expectedType&&t.expectedType.kind!=="value"&&(h=t.expectedType);for(let g=0;g<s.length;g+=2){const C=s[g],B=s[g+1],k=g+3,P=g+4;if(typeof C!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(a.length&&a[a.length-1][0]>=C)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',k);const U=t.parse(B,P,h);if(!U)return null;h=h||U.type,a.push([C,U])}return!zv(h,tr)&&!zv(h,pf)&&!zv(h,J4)&&!zv(h,e5)&&!zv(h,Tc(tr))?t.error(`Type ${bs(h)} is not interpolatable.`):new S6(h,r,i,o,a)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=r5(t,i),a=t[s],h=t[s+1],g=S6.interpolationFactor(this.interpolation,i,a,h),C=r[s].evaluate(n),B=r[s+1].evaluate(n);switch(this.operator){case"interpolate":return v2[this.type.kind](C,B,g);case"interpolate-hcl":return v2.color(C,B,g,"hcl");case"interpolate-lab":return v2.color(C,B,g,"lab")}}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}};function lM(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}let wU=class E6{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expectected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of n.slice(1)){const h=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}if(!r)throw new Error("No output type");return i&&o.some(a=>rC(i,a.type))?new E6(Yi,o):new E6(r,o)}evaluate(n){let t=null,r=0,i;for(const o of this.args)if(r++,t=o.evaluate(n),t&&t instanceof C1&&!t.available&&(i||(i=t.name),t=null,r===this.args.length&&(t=i)),t!==null)break;return t}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}},MU=class SU{constructor(n,t){this.type=t.type,this.bindings=[].concat(n),this.result=t}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const t of this.bindings)n(t[1]);n(this.result)}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const r=[];for(let o=1;o<n.length-1;o+=2){const s=n[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(n[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(n[n.length-1],n.length-1,t.expectedType,r);return i?new SU(r,i):null}outputDefined(){return this.result.outputDefined()}},HZ=class EU{constructor(n,t,r){this.type=n,this.index=t,this.input=r}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,tr),i=t.parse(n[2],2,Tc(t.expectedType||Yi));if(!r||!i)return null;const o=i.type;return new EU(o.itemType,r,i)}evaluate(n){const t=this.index.evaluate(n),r=this.input.evaluate(n);if(t<0)throw new fl(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new fl(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new fl(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}},ZZ=class OU{constructor(n,t){this.type=Qi,this.needle=n,this.haystack=t}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Yi),i=t.parse(n[2],2,Yi);return!r||!i?null:wB(r.type,[Qi,uo,tr,H4,Yi])?new OU(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${bs(r.type)} instead`)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!r)return!1;if(!iC(t,["boolean","string","number","null"]))throw new fl(`Expected first argument to be of type boolean, string, number or null, but found ${bs(jl(t))} instead.`);if(!iC(r,["string","array"]))throw new fl(`Expected second argument to be of type array or string, but found ${bs(jl(r))} instead.`);return r.indexOf(t)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}},XZ=class O6{constructor(n,t,r){this.type=tr,this.needle=n,this.haystack=t,this.fromIndex=r}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Yi),i=t.parse(n[2],2,Yi);if(!r||!i)return null;if(!wB(r.type,[Qi,uo,tr,H4,Yi]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${bs(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,tr);return o?new O6(r,i,o):null}else return new O6(r,i)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!iC(t,["boolean","string","number","null"]))throw new fl(`Expected first argument to be of type boolean, string, number or null, but found ${bs(jl(t))} instead.`);if(!iC(r,["string","array"]))throw new fl(`Expected second argument to be of type array or string, but found ${bs(jl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(n);return r.indexOf(t,i)}return r.indexOf(t)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}},JZ=class BU{constructor(n,t,r,i,o,s){this.inputType=n,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(n,t){if(n.length<5)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let g=2;g<n.length-1;g+=2){let C=n[g];const B=n[g+1];Array.isArray(C)||(C=[C]);const k=t.concat(g);if(C.length===0)return k.error("Expected at least one branch label.");for(const U of C){if(typeof U!="number"&&typeof U!="string")return k.error("Branch labels must be numbers or strings.");if(typeof U=="number"&&Math.abs(U)>Number.MAX_SAFE_INTEGER)return k.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof U=="number"&&Math.floor(U)!==U)return k.error("Numeric branch labels must be integer values.");if(!r)r=jl(U);else if(k.checkSubtype(r,jl(U)))return null;if(typeof o[String(U)]<"u")return k.error("Branch labels must be unique.");o[String(U)]=s.length}const P=t.parse(B,g,i);if(!P)return null;i=i||P.type,s.push(P)}const a=t.parse(n[1],1,Yi);if(!a)return null;const h=t.parse(n[n.length-1],n.length-1,i);return!h||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new BU(r,i,a,o,s,h)}evaluate(n){const t=this.input.evaluate(n);return(jl(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}},eX=class kU{constructor(n,t,r){this.type=n,this.branches=t,this.otherwise=r}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<n.length-1;s+=2){const a=t.parse(n[s],s,Qi);if(!a)return null;const h=t.parse(n[s+1],s+1,r);if(!h)return null;i.push([a,h]),r=r||h.type}const o=t.parse(n[n.length-1],n.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new kU(r,i,o)}evaluate(n){for(const[t,r]of this.branches)if(t.evaluate(n))return r.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[t,r]of this.branches)n(t),n(r);n(this.otherwise)}outputDefined(){return this.branches.every(([n,t])=>t.outputDefined())&&this.otherwise.outputDefined()}},tX=class B6{constructor(n,t,r,i){this.type=n,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Yi),i=t.parse(n[2],2,tr);if(!r||!i)return null;if(!wB(r.type,[Tc(Yi),uo,Yi]))return t.error(`Expected first argument to be of type array or string, but found ${bs(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,tr);return o?new B6(r.type,r,i,o):null}else return new B6(r.type,r,i)}evaluate(n){const t=this.input.evaluate(n),r=this.beginIndex.evaluate(n);if(!iC(t,["string","array"]))throw new fl(`Expected first argument to be of type array or string, but found ${bs(jl(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(n);return t.slice(r,i)}return t.slice(r)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}};function VI(e,n){return e==="=="||e==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function nX(e,n,t){return n===t}function rX(e,n,t){return n!==t}function iX(e,n,t){return n<t}function oX(e,n,t){return n>t}function aX(e,n,t){return n<=t}function sX(e,n,t){return n>=t}function IU(e,n,t,r){return r.compare(n,t)===0}function lX(e,n,t,r){return!IU(e,n,t,r)}function uX(e,n,t,r){return r.compare(n,t)<0}function AX(e,n,t,r){return r.compare(n,t)>0}function cX(e,n,t,r){return r.compare(n,t)<=0}function dX(e,n,t,r){return r.compare(n,t)>=0}function Gy(e,n,t){const r=e!=="=="&&e!=="!=";return class TU{constructor(o,s,a){this.type=Qi,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let h=s.parse(o[1],1,Yi);if(!h)return null;if(!VI(a,h.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${bs(h.type)}'.`);let g=s.parse(o[2],2,Yi);if(!g)return null;if(!VI(a,g.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${bs(g.type)}'.`);if(h.type.kind!==g.type.kind&&h.type.kind!=="value"&&g.type.kind!=="value")return s.error(`Cannot compare types '${bs(h.type)}' and '${bs(g.type)}'.`);r&&(h.type.kind==="value"&&g.type.kind!=="value"?h=new gp(g.type,[h]):h.type.kind!=="value"&&g.type.kind==="value"&&(g=new gp(h.type,[g])));let C=null;if(o.length===4){if(h.type.kind!=="string"&&g.type.kind!=="string"&&h.type.kind!=="value"&&g.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(C=s.parse(o[3],3,Z4),!C)return null}return new TU(h,g,C)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=jl(s),g=jl(a);if(h.kind!==g.kind||!(h.kind==="string"||h.kind==="number"))throw new fl(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=jl(s),g=jl(a);if(h.kind!=="string"||g.kind!=="string")return n(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):n(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const hX=Gy("==",nX,IU),fX=Gy("!=",rX,lX),pX=Gy("<",iX,uX),mX=Gy(">",oX,AX),gX=Gy("<=",aX,cX),yX=Gy(">=",sX,dX);let vX=class KU{constructor(n,t,r,i,o){this.type=uo,this.number=n,this.locale=t,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(n,t){if(n.length!==3)return t.error("Expected two arguments.");const r=t.parse(n[1],1,tr);if(!r)return null;const i=n[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,uo),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,uo),!s))return null;let a=null;if(i["min-fraction-digits"]&&(a=t.parse(i["min-fraction-digits"],1,tr),!a))return null;let h=null;return i["max-fraction-digits"]&&(h=t.parse(i["max-fraction-digits"],1,tr),!h)?null:new KU(r,o,s,a,h)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}},_X=class PU{constructor(n){this.type=X4,this.sections=n}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=n.length-1;++s){const a=n[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let h=null;if(a["font-scale"]&&(h=t.parse(a["font-scale"],1,tr),!h))return null;let g=null;if(a["text-font"]&&(g=t.parse(a["text-font"],1,Tc(uo)),!g))return null;let C=null;if(a["text-color"]&&(C=t.parse(a["text-color"],1,pf),!C))return null;const B=i[i.length-1];B.scale=h,B.font=g,B.textColor=C}else{const h=t.parse(n[s],1,Yi);if(!h)return null;const g=h.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new PU(i)}evaluate(n){const t=r=>{const i=r.content.evaluate(n);return jl(i)===jC?new M6("",i,null,null,null):new M6(E_(i),null,r.scale?r.scale.evaluate(n):null,r.font?r.font.evaluate(n).join(","):null,r.textColor?r.textColor.evaluate(n):null)};return new Wy(this.sections.map(t))}eachChild(n){for(const t of this.sections)n(t.content),t.scale&&n(t.scale),t.font&&n(t.font),t.textColor&&n(t.textColor)}outputDefined(){return!1}},CX=class FU{constructor(n){this.type=jC,this.input=n}static parse(n,t){if(n.length!==2)return t.error("Expected two arguments.");const r=t.parse(n[1],1,uo);return r?new FU(r):t.error("No image name provided.")}evaluate(n){const t=this.input.evaluate(n),r=C1.fromString(t);return r&&n.availableImages&&(r.available=n.availableImages.indexOf(t)>-1),r}eachChild(n){n(this.input)}outputDefined(){return!1}},bX=class DU{constructor(n){this.type=tr,this.input=n}static parse(n,t){if(n.length!==2)return t.error(`Expected 1 argument, but found ${n.length-1} instead.`);const r=t.parse(n[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${bs(r.type)} instead.`):new DU(r):null}evaluate(n){const t=this.input.evaluate(n);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new fl(`Expected value to be of type string or array, but found ${bs(jl(t))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}};const kB={"==":hX,"!=":fX,">":mX,"<":pX,">=":yX,"<=":gX,array:gp,at:HZ,boolean:gp,case:eX,coalesce:wU,collator:fU,format:_X,image:CX,in:ZZ,"index-of":XZ,interpolate:xp,"interpolate-hcl":xp,"interpolate-lab":xp,length:bX,let:MU,literal:l3,match:JZ,number:gp,"number-format":vX,object:gp,slice:tX,step:CU,string:gp,"to-boolean":zg,"to-color":zg,"to-number":zg,"to-string":zg,var:vU,within:BB};function HI(e,[n,t,r,i]){n=n.evaluate(e),t=t.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,s=sU(n,t,r,o);if(s)throw new fl(s);return new ws(n/255,t/255,r/255,o,!1)}function ZI(e,n){return e in n}function uM(e,n){const t=n[e];return typeof t>"u"?null:t}function xX(e,n,t,r){for(;t<=r;){const i=t+r>>1;if(n[i]===e)return!0;n[i]>e?r=i-1:t=i+1}return!1}function g0(e){return{type:e}}Ny.register(kB,{error:[gZ,[uo],(e,[n])=>{throw new fl(n.evaluate(e))}],typeof:[uo,[Yi],(e,[n])=>bs(jl(n.evaluate(e)))],"to-rgba":[Tc(tr,4),[pf],(e,[n])=>{const[t,r,i,o]=n.evaluate(e).rgb;return[t*255,r*255,i*255,o]}],rgb:[pf,[tr,tr,tr],HI],rgba:[pf,[tr,tr,tr,tr],HI],has:{type:Qi,overloads:[[[uo],(e,[n])=>ZI(n.evaluate(e),e.properties())],[[uo,ny],(e,[n,t])=>ZI(n.evaluate(e),t.evaluate(e))]]},get:{type:Yi,overloads:[[[uo],(e,[n])=>uM(n.evaluate(e),e.properties())],[[uo,ny],(e,[n,t])=>uM(n.evaluate(e),t.evaluate(e))]]},"feature-state":[Yi,[uo],(e,[n])=>uM(n.evaluate(e),e.featureState||{})],properties:[ny,[],e=>e.properties()],"geometry-type":[uo,[],e=>e.geometryType()],id:[Yi,[],e=>e.id()],zoom:[tr,[],e=>e.globals.zoom],"heatmap-density":[tr,[],e=>e.globals.heatmapDensity||0],"line-progress":[tr,[],e=>e.globals.lineProgress||0],accumulated:[Yi,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[tr,g0(tr),(e,n)=>{let t=0;for(const r of n)t+=r.evaluate(e);return t}],"*":[tr,g0(tr),(e,n)=>{let t=1;for(const r of n)t*=r.evaluate(e);return t}],"-":{type:tr,overloads:[[[tr,tr],(e,[n,t])=>n.evaluate(e)-t.evaluate(e)],[[tr],(e,[n])=>-n.evaluate(e)]]},"/":[tr,[tr,tr],(e,[n,t])=>n.evaluate(e)/t.evaluate(e)],"%":[tr,[tr,tr],(e,[n,t])=>n.evaluate(e)%t.evaluate(e)],ln2:[tr,[],()=>Math.LN2],pi:[tr,[],()=>Math.PI],e:[tr,[],()=>Math.E],"^":[tr,[tr,tr],(e,[n,t])=>Math.pow(n.evaluate(e),t.evaluate(e))],sqrt:[tr,[tr],(e,[n])=>Math.sqrt(n.evaluate(e))],log10:[tr,[tr],(e,[n])=>Math.log(n.evaluate(e))/Math.LN10],ln:[tr,[tr],(e,[n])=>Math.log(n.evaluate(e))],log2:[tr,[tr],(e,[n])=>Math.log(n.evaluate(e))/Math.LN2],sin:[tr,[tr],(e,[n])=>Math.sin(n.evaluate(e))],cos:[tr,[tr],(e,[n])=>Math.cos(n.evaluate(e))],tan:[tr,[tr],(e,[n])=>Math.tan(n.evaluate(e))],asin:[tr,[tr],(e,[n])=>Math.asin(n.evaluate(e))],acos:[tr,[tr],(e,[n])=>Math.acos(n.evaluate(e))],atan:[tr,[tr],(e,[n])=>Math.atan(n.evaluate(e))],min:[tr,g0(tr),(e,n)=>Math.min(...n.map(t=>t.evaluate(e)))],max:[tr,g0(tr),(e,n)=>Math.max(...n.map(t=>t.evaluate(e)))],abs:[tr,[tr],(e,[n])=>Math.abs(n.evaluate(e))],round:[tr,[tr],(e,[n])=>{const t=n.evaluate(e);return t<0?-Math.round(-t):Math.round(t)}],floor:[tr,[tr],(e,[n])=>Math.floor(n.evaluate(e))],ceil:[tr,[tr],(e,[n])=>Math.ceil(n.evaluate(e))],"filter-==":[Qi,[uo,Yi],(e,[n,t])=>e.properties()[n.value]===t.value],"filter-id-==":[Qi,[Yi],(e,[n])=>e.id()===n.value],"filter-type-==":[Qi,[uo],(e,[n])=>e.geometryType()===n.value],"filter-<":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<r}],"filter->":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>r}],"filter-<=":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<=r}],"filter->=":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>=r}],"filter-has":[Qi,[Yi],(e,[n])=>n.value in e.properties()],"filter-has-id":[Qi,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[Qi,[Tc(uo)],(e,[n])=>n.value.indexOf(e.geometryType())>=0],"filter-id-in":[Qi,[Tc(Yi)],(e,[n])=>n.value.indexOf(e.id())>=0],"filter-in-small":[Qi,[uo,Tc(Yi)],(e,[n,t])=>t.value.indexOf(e.properties()[n.value])>=0],"filter-in-large":[Qi,[uo,Tc(Yi)],(e,[n,t])=>xX(e.properties()[n.value],t.value,0,t.value.length-1)],all:{type:Qi,overloads:[[[Qi,Qi],(e,[n,t])=>n.evaluate(e)&&t.evaluate(e)],[g0(Qi),(e,n)=>{for(const t of n)if(!t.evaluate(e))return!1;return!0}]]},any:{type:Qi,overloads:[[[Qi,Qi],(e,[n,t])=>n.evaluate(e)||t.evaluate(e)],[g0(Qi),(e,n)=>{for(const t of n)if(t.evaluate(e))return!0;return!1}]]},"!":[Qi,[Qi],(e,[n])=>!n.evaluate(e)],"is-supported-script":[Qi,[uo],(e,[n])=>{const t=e.globals&&e.globals.isSupportedScript;return t?t(n.evaluate(e)):!0}],upcase:[uo,[uo],(e,[n])=>n.evaluate(e).toUpperCase()],downcase:[uo,[uo],(e,[n])=>n.evaluate(e).toLowerCase()],concat:[uo,g0(Yi),(e,n)=>n.map(t=>E_(t.evaluate(e))).join("")],"resolved-locale":[uo,[Z4],(e,[n])=>n.evaluate(e).resolvedLocale()]});function k6(e){return{result:"success",value:e}}function xg(e){return{result:"error",value:e}}function d3(e){return e["property-type"]==="data-driven"||e["property-type"]==="cross-faded-data-driven"}function LU(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function IB(e){return!!e.expression&&e.expression.interpolated}function Ko(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function WC(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function wX(e){return e}function TB(e,n){const t=n.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,s=e.type||(IB(n)?"exponential":"interval");if(t||n.type==="padding"){const C=t?ws.parse:Rc.parse;e=Ey({},e),e.stops&&(e.stops=e.stops.map(B=>[B[0],C(B[1])])),e.default?e.default=C(e.default):e.default=C(n.default)}if(e.colorSpace&&!$Z(e.colorSpace))throw new Error(`Unknown color space: "${e.colorSpace}"`);let a,h,g;if(s==="exponential")a=XI;else if(s==="interval")a=SX;else if(s==="categorical"){a=MX,h=Object.create(null);for(const C of e.stops)h[C[0]]=C[1];g=typeof e.stops[0][0]}else if(s==="identity")a=EX;else throw new Error(`Unknown function type "${s}"`);if(r){const C={},B=[];for(let U=0;U<e.stops.length;U++){const Z=e.stops[U],W=Z[0].zoom;C[W]===void 0&&(C[W]={zoom:W,type:e.type,property:e.property,default:e.default,stops:[]},B.push(W)),C[W].stops.push([Z[0].value,Z[1]])}const k=[];for(const U of B)k.push([C[U].zoom,TB(C[U],n)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:xp.interpolationFactor.bind(void 0,P),zoomStops:k.map(U=>U[0]),evaluate({zoom:U},Z){return XI({stops:k,base:e.base},n,U).evaluate(U,Z)}}}else if(o){const C=s==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:xp.interpolationFactor.bind(void 0,C),zoomStops:e.stops.map(B=>B[0]),evaluate:({zoom:B})=>a(e,n,B,h,g)}}else return{kind:"source",evaluate(C,B){const k=B&&B.properties?B.properties[e.property]:void 0;return k===void 0?NC(e.default,n.default):a(e,n,k,h,g)}}}function NC(e,n,t){if(e!==void 0)return e;if(n!==void 0)return n;if(t!==void 0)return t}function MX(e,n,t,r,i){const o=typeof t===i?r[t]:void 0;return NC(o,e.default,n.default)}function SX(e,n,t){if(Ko(t)!=="number")return NC(e.default,n.default);const r=e.stops.length;if(r===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[r-1][0])return e.stops[r-1][1];const i=r5(e.stops.map(o=>o[0]),t);return e.stops[i][1]}function XI(e,n,t){const r=e.base!==void 0?e.base:1;if(Ko(t)!=="number")return NC(e.default,n.default);const i=e.stops.length;if(i===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[i-1][0])return e.stops[i-1][1];const o=r5(e.stops.map(C=>C[0]),t),s=OX(t,r,e.stops[o][0],e.stops[o+1][0]),a=e.stops[o][1],h=e.stops[o+1][1],g=v2[n.type]||wX;return typeof a.evaluate=="function"?{evaluate(...C){const B=a.evaluate.apply(void 0,C),k=h.evaluate.apply(void 0,C);if(!(B===void 0||k===void 0))return g(B,k,s,e.colorSpace)}}:g(a,h,s,e.colorSpace)}function EX(e,n,t){switch(n.type){case"color":t=ws.parse(t);break;case"formatted":t=Wy.fromString(t.toString());break;case"resolvedImage":t=C1.fromString(t.toString());break;case"padding":t=Rc.parse(t);break;default:Ko(t)!==n.type&&(n.type!=="enum"||!n.values[t])&&(t=void 0)}return NC(t,e.default,n.default)}function OX(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}let UU=class{constructor(n,t){this.expression=n,this._warningHistory={},this._evaluator=new cU,this._defaultValue=t?TX(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._evaluator.globals=n,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(n,t,r,i,o,s){this._evaluator.globals=n,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null;try{const a=this.expression.evaluate(this._evaluator);if(a==null||typeof a=="number"&&a!==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new fl(`Expected value to be one of ${Object.keys(this._enumValues).map(h=>JSON.stringify(h)).join(", ")}, but found ${JSON.stringify(a)} instead.`);return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,typeof console<"u"&&console.warn(a.message)),this._defaultValue}}};function GC(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in kB}function KB(e,n){const t=new dU(kB,A3,[],n?IX(n):void 0),r=t.parse(e,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?k6(new UU(r,n)):xg(t.errors)}let I6=class{constructor(n,t){this.kind=n,this._styleExpression=t,this.isStateDependent=n!=="constant"&&!oC(t.expression)}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}},T6=class{constructor(n,t,r,i){this.kind=n,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=n!=="camera"&&!oC(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}interpolationFactor(n,t,r){return this.interpolationType?xp.interpolationFactor(this.interpolationType,n,t,r):0}};function BX(e){return e._styleExpression!==void 0}function PB(e,n){const t=KB(e,n);if(t.result==="error")return t;const r=t.value.expression,i=t5(r);if(!i&&!d3(n))return xg([new af("","data expressions not supported")]);const o=n5(r,["zoom"]);if(!o&&!LU(n))return xg([new af("","zoom expressions not supported")]);const s=_2(r);if(!s&&!o)return xg([new af("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof af)return xg([s]);if(s instanceof xp&&!IB(n))return xg([new af("",'"interpolate" expressions cannot be used with this property')]);if(!s)return k6(i?new I6("constant",t.value):new I6("source",t.value));const a=s instanceof xp?s.interpolation:void 0;return k6(i?new T6("camera",t.value,s.labels,a):new T6("composite",t.value,s.labels,a))}let RU=class zU{constructor(n,t){this._parameters=n,this._specification=t,Ey(this,TB(this._parameters,this._specification))}static deserialize(n){return new zU(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}};function kX(e,n){if(WC(e))return new RU(e,n);if(GC(e)){const t=PB(e,n);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=e;return n.type==="color"&&typeof e=="string"?t=ws.parse(e):n.type==="padding"&&(typeof e=="number"||Array.isArray(e))?t=Rc.parse(e):n.type==="variableAnchorOffsetCollection"&&Array.isArray(e)&&(t=yf.parse(e)),{kind:"constant",evaluate:()=>t}}}function _2(e){let n=null;if(e instanceof MU)n=_2(e.result);else if(e instanceof wU){for(const t of e.args)if(n=_2(t),n)break}else(e instanceof CU||e instanceof xp)&&e.input instanceof Ny&&e.input.name==="zoom"&&(n=e);return n instanceof af||e.eachChild(t=>{const r=_2(t);r instanceof af?n=r:!n&&r?n=new af("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new af("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function IX(e){const n={color:pf,string:uo,number:tr,enum:uo,boolean:Qi,formatted:X4,padding:J4,resolvedImage:jC,variableAnchorOffsetCollection:e5};return e.type==="array"?Tc(n[e.value]||Yi,e.length):n[e.type]}function TX(e){return e.type==="color"&&WC(e.default)?new ws(0,0,0,0):e.type==="color"?ws.parse(e.default)||null:e.type==="padding"?Rc.parse(e.default)||null:e.type==="variableAnchorOffsetCollection"?yf.parse(e.default)||null:e.default===void 0?null:e.default}function i5(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const n of e.slice(1))if(!i5(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function O_(e,n={}){if(i5(e))return e;if(!e)return!0;const t=e,r=t[0];if(e.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=e;return PX(i,o,r,n)}case"any":{const[,...i]=t;return["any",...i.map(s=>{const a={},h=O_(s,a),g=KX(a);return g===!0?h:["case",g,h,!1]})]}case"all":{const[,...i]=t,o=i.map(s=>O_(s,n));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=t;return["!",O_(["any",...i],{})]}case"in":{const[,i,...o]=t;return JI(i,o)}case"!in":{const[,i,...o]=t;return JI(i,o,!0)}case"has":return e9(t[1]);case"!has":return["!",e9(t[1])];default:return!0}}function KX(e){const n=[];for(const t in e){const r=t==="$id"?["id"]:["get",t];n.push(["==",["typeof",r],e[t]])}return n.length===0?!0:n.length===1?n[0]:["all",...n]}function PX(e,n,t,r){let i;if(e==="$type")return[t,["geometry-type"],n];if(e==="$id"?i=["id"]:i=["get",e],r&&n!==null){const o=typeof n;r[e]=o}return t==="=="&&e!=="$id"&&n===null?["all",["has",e],["==",i,null]]:t==="!="&&e!=="$id"&&n===null?["any",["!",["has",e]],["!=",i,null]]:[t,i,n]}function JI(e,n,t=!1){if(n.length===0)return t;let r;e==="$type"?r=["geometry-type"]:e==="$id"?r=["id"]:r=["get",e];let i=!0;const o=typeof n[0];for(const s of n)if(typeof s!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const s=n.sort().filter((a,h)=>h===0||n[h-1]!==a);return["match",r,s,!t,t]}return t?["all",...n.map(s=>["!=",r,s])]:["any",...n.map(s=>["==",r,s])]}function e9(e){return e==="$type"?!0:e==="$id"?["!=",["id"],null]:["has",e]}function aC(e){return typeof e=="object"?["literal",e]:e}function jU(e,n){let t=e.stops;if(!t)return FX(e,n);const r=t&&typeof t[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return t=t.map(s=>!i&&n.tokens&&typeof s[1]=="string"?[s[0],WU(s[1])]:[s[0],aC(s[1])]),r?DX(e,n,t):o?UX(e,n,t):K6(e,n,t)}function FX(e,n){const t=["get",e.property];if(e.default===void 0)return n.type==="string"?["string",t]:t;if(n.type==="enum")return["match",t,Object.keys(n.values),t,e.default];{const r=[n.type==="color"?"to-color":n.type,t,aC(e.default)];return n.type==="array"&&r.splice(1,0,n.value,n.length||null),r}}function FB(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function DX(e,n,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const h=t[a],g=h[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([h[0].value,h[1]])}if(LB({},n)==="exponential"){const a=[FB(e),["linear"],["zoom"]];for(const h of o){const g=K6(r[h],n,i[h]);iy(a,h,g,!1)}return a}else{const a=["step",["zoom"]];for(const h of o){const g=K6(r[h],n,i[h]);iy(a,h,g,!0)}return DB(a),a}}function LX(e,n){if(e!==void 0)return e;if(n!==void 0)return n}function t9(e,n){const t=aC(LX(e.default,n.default));return t===void 0&&n.type==="resolvedImage"?"":t}function K6(e,n,t){const r=LB(e,n),i=["get",e.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(t9(e,n)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)iy(o,s[0],s[1],!1);return o.push(t9(e,n)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)iy(o,s[0],s[1],!0);return DB(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,aC(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,s=[FB(e),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)iy(s,a[0],a[1],!1);return e.default===void 0?s:["case",["==",["typeof",i],"number"],s,aC(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function UX(e,n,t,r=["zoom"]){const i=LB(e,n);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=e.base!==void 0?e.base:1;o=[FB(e),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)iy(o,a[0],a[1],s);return DB(o),o}function DB(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function iy(e,n,t,r){e.length>3&&n===e[e.length-2]||(r&&e.length===2||e.push(n),e.push(t))}function LB(e,n){return e.type?e.type:n.expression.interpolated?"exponential":"interval"}function WU(e){const n=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(e);i!==null;i=t.exec(e)){const o=e.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&n.push(o),n.push(["get",i[1]])}if(n.length===1)return e;if(r<e.length)n.push(e.slice(r));else if(n.length===2)return["to-string",n[1]];return n}function RX(e){for(let n=0;n<ma.layout.length;n++)for(const t in ma[ma.layout[n]])if(t===e)return ma[ma.layout[n]][t];for(let n=0;n<ma.paint.length;n++)for(const t in ma[ma.paint[n]])if(t===e)return ma[ma.paint[n]][t];return null}function zX(e,n){for(const t in e.sources)n(e.sources[t])}function B_(e,n){for(const t of e.layers)n(t)}function UB(e,n,t){function r(i,o){const s=i[o];s&&Object.keys(s).forEach(a=>{t({path:[i.id,o,a],key:a,value:s[a],reference:RX(a),set(h){s[a]=h}})})}B_(e,i=>{n.paint&&r(i,"paint"),n.layout&&r(i,"layout")})}function NU(e){const n=e.key,t=e.value;return t?[new Hn(n,t,"constants have been deprecated as of v8")]:[]}function nl(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function A1(e){if(Array.isArray(e))return e.map(A1);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const n={};for(const t in e)n[t]=A1(e[t]);return n}return nl(e)}function gd(e){const n=e.key,t=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,s=e.styleSpec,a=e.validateSpec;let h=[];const g=Ko(t);if(g!=="object")return[new Hn(n,t,`object expected, ${g} found`)];for(const C in t){const B=C.split(".")[0],k=r[B]||r["*"];let P;if(i[B])P=i[B];else if(r[B])P=a;else if(i["*"])P=i["*"];else if(r["*"])P=a;else{h.push(new Hn(n,t[C],`unknown property "${C}"`));continue}h=h.concat(P({key:(n&&`${n}.`)+C,value:t[C],valueSpec:k,style:o,styleSpec:s,object:t,objectKey:C,validateSpec:a},t))}for(const C in r)i[C]||r[C].required&&r[C].default===void 0&&t[C]===void 0&&h.push(new Hn(n,t,`missing required property "${C}"`));return h}function RB(e){const n=e.value,t=e.valueSpec,r=e.validateSpec,i=e.style,o=e.styleSpec,s=e.key,a=e.arrayElementValidator||r;if(Ko(n)!=="array")return[new Hn(s,n,`array expected, ${Ko(n)} found`)];if(t.length&&n.length!==t.length)return[new Hn(s,n,`array length ${t.length} expected, length ${n.length} found`)];if(t["min-length"]&&n.length<t["min-length"])return[new Hn(s,n,`array length at least ${t["min-length"]} expected, length ${n.length} found`)];let h={type:t.value,values:t.values};o.$version<7&&(h.function=t.function),Ko(t.value)==="object"&&(h=t.value);let g=[];for(let C=0;C<n.length;C++)g=g.concat(a({array:n,arrayIndex:C,value:n[C],valueSpec:h,validateSpec:e.validateSpec,style:i,styleSpec:o,key:`${s}[${C}]`}));return g}function zB(e){const n=e.key,t=e.value,r=e.valueSpec;let i=Ko(t);return i==="number"&&t!==t&&(i="NaN"),i!=="number"?[new Hn(n,t,`number expected, ${i} found`)]:"minimum"in r&&t<r.minimum?[new Hn(n,t,`${t} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&t>r.maximum?[new Hn(n,t,`${t} is greater than the maximum value ${r.maximum}`)]:[]}function GU(e){const n=e.valueSpec,t=nl(e.value.type);let r,i={},o,s;const a=t!=="categorical"&&e.value.property===void 0,h=!a,g=Ko(e.value.stops)==="array"&&Ko(e.value.stops[0])==="array"&&Ko(e.value.stops[0][0])==="object",C=gd({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:B,default:U}});return t==="identity"&&a&&C.push(new Hn(e.key,e.value,'missing required property "property"')),t!=="identity"&&!e.value.stops&&C.push(new Hn(e.key,e.value,'missing required property "stops"')),t==="exponential"&&e.valueSpec.expression&&!IB(e.valueSpec)&&C.push(new Hn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(h&&!d3(e.valueSpec)?C.push(new Hn(e.key,e.value,"property functions not supported")):a&&!LU(e.valueSpec)&&C.push(new Hn(e.key,e.value,"zoom functions not supported"))),(t==="categorical"||g)&&e.value.property===void 0&&C.push(new Hn(e.key,e.value,'"property" property is required')),C;function B(Z){if(t==="identity")return[new Hn(Z.key,Z.value,'identity function may not have a "stops" property')];let W=[];const Q=Z.value;return W=W.concat(RB({key:Z.key,value:Q,valueSpec:Z.valueSpec,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,arrayElementValidator:k})),Ko(Q)==="array"&&Q.length===0&&W.push(new Hn(Z.key,Q,"array must have at least one stop")),W}function k(Z){let W=[];const Q=Z.value,q=Z.key;if(Ko(Q)!=="array")return[new Hn(q,Q,`array expected, ${Ko(Q)} found`)];if(Q.length!==2)return[new Hn(q,Q,`array length 2 expected, length ${Q.length} found`)];if(g){if(Ko(Q[0])!=="object")return[new Hn(q,Q,`object expected, ${Ko(Q[0])} found`)];if(Q[0].zoom===void 0)return[new Hn(q,Q,"object stop key must have zoom")];if(Q[0].value===void 0)return[new Hn(q,Q,"object stop key must have value")];if(s&&s>nl(Q[0].zoom))return[new Hn(q,Q[0].zoom,"stop zoom values must appear in ascending order")];nl(Q[0].zoom)!==s&&(s=nl(Q[0].zoom),o=void 0,i={}),W=W.concat(gd({key:`${q}[0]`,value:Q[0],valueSpec:{zoom:{}},validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{zoom:zB,value:P}}))}else W=W.concat(P({key:`${q}[0]`,value:Q[0],valueSpec:{},validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec},Q));return GC(A1(Q[1]))?W.concat([new Hn(`${q}[1]`,Q[1],"expressions are not allowed in function stops.")]):W.concat(Z.validateSpec({key:`${q}[1]`,value:Q[1],valueSpec:n,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec}))}function P(Z,W){const Q=Ko(Z.value),q=nl(Z.value),oe=Z.value!==null?Z.value:W;if(!r)r=Q;else if(Q!==r)return[new Hn(Z.key,oe,`${Q} stop domain type must match previous stop domain type ${r}`)];if(Q!=="number"&&Q!=="string"&&Q!=="boolean")return[new Hn(Z.key,oe,"stop domain value must be a number, string, or boolean")];if(Q!=="number"&&t!=="categorical"){let re=`number expected, ${Q} found`;return d3(n)&&t===void 0&&(re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Hn(Z.key,oe,re)]}return t==="categorical"&&Q==="number"&&(!isFinite(q)||Math.floor(q)!==q)?[new Hn(Z.key,oe,`integer expected, found ${q}`)]:t!=="categorical"&&Q==="number"&&o!==void 0&&q<o?[new Hn(Z.key,oe,"stop domain values must appear in ascending order")]:(o=q,t==="categorical"&&q in i?[new Hn(Z.key,oe,"stop domain values must be unique")]:(i[q]=!0,[]))}function U(Z){return Z.validateSpec({key:Z.key,value:Z.value,valueSpec:n,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec})}}function Oy(e){const n=(e.expressionContext==="property"?PB:KB)(A1(e.value),e.valueSpec);if(n.result==="error")return n.value.map(r=>new Hn(`${e.key}${r.key}`,e.value,r.message));const t=n.value.expression||n.value._styleExpression.expression;if(e.expressionContext==="property"&&e.propertyKey==="text-font"&&!t.outputDefined())return[new Hn(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if(e.expressionContext==="property"&&e.propertyType==="layout"&&!oC(t))return[new Hn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if(e.expressionContext==="filter"&&!oC(t))return[new Hn(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&e.expressionContext.indexOf("cluster")===0){if(!n5(t,["zoom","feature-state"]))return[new Hn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(e.expressionContext==="cluster-initial"&&!t5(t))return[new Hn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function jX(e){const n=e.value,t=e.key,r=Ko(n);return r!=="boolean"?[new Hn(t,n,`boolean expected, ${r} found`)]:[]}function WX(e){const n=e.key,t=e.value,r=Ko(t);return r!=="string"?[new Hn(n,t,`color expected, ${r} found`)]:ws.parse(String(t))?[]:[new Hn(n,t,`color expected, "${t}" found`)]}function sC(e){const n=e.key,t=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(nl(t))===-1&&i.push(new Hn(n,t,`expected one of [${r.values.join(", ")}], ${JSON.stringify(t)} found`)):Object.keys(r.values).indexOf(nl(t))===-1&&i.push(new Hn(n,t,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(t)} found`)),i}function jB(e){return i5(A1(e.value))?Oy(Ey({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):QU(e)}function QU(e){const n=e.value,t=e.key;if(Ko(n)!=="array")return[new Hn(t,n,`array expected, ${Ko(n)} found`)];const r=e.styleSpec;let i,o=[];if(n.length<1)return[new Hn(t,n,"filter array must have at least 1 element")];switch(o=o.concat(sC({key:`${t}[0]`,value:n[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),nl(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&nl(n[1])==="$type"&&o.push(new Hn(t,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&o.push(new Hn(t,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(i=Ko(n[1]),i!=="string"&&o.push(new Hn(`${t}[1]`,n[1],`string expected, ${i} found`)));for(let s=2;s<n.length;s++)i=Ko(n[s]),nl(n[1])==="$type"?o=o.concat(sC({key:`${t}[${s}]`,value:n[s],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new Hn(`${t}[${s}]`,n[s],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let s=1;s<n.length;s++)o=o.concat(QU({key:`${t}[${s}]`,value:n[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Ko(n[1]),n.length!==2?o.push(new Hn(t,n,`filter array for "${n[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new Hn(`${t}[1]`,n[1],`string expected, ${i} found`));break;case"within":i=Ko(n[1]),n.length!==2?o.push(new Hn(t,n,`filter array for "${n[0]}" operator must have 2 elements`)):i!=="object"&&o.push(new Hn(`${t}[1]`,n[1],`object expected, ${i} found`));break}return o}function $U(e,n){const t=e.key,r=e.validateSpec,i=e.style,o=e.styleSpec,s=e.value,a=e.objectKey,h=o[`${n}_${e.layerType}`];if(!h)return[];const g=a.match(/^(.*)-transition$/);if(n==="paint"&&g&&h[g[1]]&&h[g[1]].transition)return r({key:t,value:s,valueSpec:o.transition,style:i,styleSpec:o});const C=e.valueSpec||h[a];if(!C)return[new Hn(t,s,`unknown property "${a}"`)];let B;if(Ko(s)==="string"&&d3(C)&&!C.tokens&&(B=/^{([^}]+)}$/.exec(s)))return[new Hn(t,s,`"${a}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(B[1])} }\`.`)];const k=[];return e.layerType==="symbol"&&(a==="text-field"&&i&&!i.glyphs&&k.push(new Hn(t,s,'use of "text-field" requires a style "glyphs" property')),a==="text-font"&&WC(A1(s))&&nl(s.type)==="identity"&&k.push(new Hn(t,s,'"text-font" does not support identity functions'))),k.concat(r({key:e.key,value:s,valueSpec:C,style:i,styleSpec:o,expressionContext:"property",propertyType:n,propertyKey:a}))}function YU(e){return $U(e,"paint")}function qU(e){return $U(e,"layout")}function VU(e){let n=[];const t=e.value,r=e.key,i=e.style,o=e.styleSpec;!t.type&&!t.ref&&n.push(new Hn(r,t,'either "type" or "ref" is required'));let s=nl(t.type);const a=nl(t.ref);if(t.id){const h=nl(t.id);for(let g=0;g<e.arrayIndex;g++){const C=i.layers[g];nl(C.id)===h&&n.push(new Hn(r,t.id,`duplicate layer id "${t.id}", previously used at line ${C.id.__line__}`))}}if("ref"in t){["type","source","source-layer","filter","layout"].forEach(g=>{g in t&&n.push(new Hn(r,t[g],`"${g}" is prohibited for ref layers`))});let h;i.layers.forEach(g=>{nl(g.id)===a&&(h=g)}),h?h.ref?n.push(new Hn(r,t.ref,"ref cannot reference another ref layer")):s=nl(h.type):n.push(new Hn(r,t.ref,`ref layer "${a}" not found`))}else if(s!=="background")if(!t.source)n.push(new Hn(r,t,'missing required property "source"'));else{const h=i.sources&&i.sources[t.source],g=h&&nl(h.type);h?g==="vector"&&s==="raster"?n.push(new Hn(r,t.source,`layer "${t.id}" requires a raster source`)):g!=="raster-dem"&&s==="hillshade"?n.push(new Hn(r,t.source,`layer "${t.id}" requires a raster-dem source`)):g==="raster"&&s!=="raster"?n.push(new Hn(r,t.source,`layer "${t.id}" requires a vector source`)):g==="vector"&&!t["source-layer"]?n.push(new Hn(r,t,`layer "${t.id}" must specify a "source-layer"`)):g==="raster-dem"&&s!=="hillshade"?n.push(new Hn(r,t.source,"raster-dem source can only be used with layer type 'hillshade'.")):s==="line"&&t.paint&&t.paint["line-gradient"]&&(g!=="geojson"||!h.lineMetrics)&&n.push(new Hn(r,t,`layer "${t.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new Hn(r,t.source,`source "${t.source}" not found`))}return n=n.concat(gd({key:r,value:t,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*"(){return[]},type(){return e.validateSpec({key:`${r}.type`,value:t.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:t,objectKey:"type"})},filter:jB,layout(h){return gd({layer:t,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(g){return qU(Ey({layerType:s},g))}}})},paint(h){return gd({layer:t,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(g){return YU(Ey({layerType:s},g))}}})}}})),n}function c1(e){const n=e.value,t=e.key,r=Ko(n);return r!=="string"?[new Hn(t,n,`string expected, ${r} found`)]:[]}function NX(e){var n;const t=(n=e.sourceName)!==null&&n!==void 0?n:"",r=e.value,i=e.styleSpec,o=i.source_raster_dem,s=e.style;let a=[];const h=Ko(r);if(r===void 0)return a;if(h!=="object")return a.push(new Hn("source_raster_dem",r,`object expected, ${h} found`)),a;const C=nl(r.encoding)==="custom",B=["redFactor","greenFactor","blueFactor","baseShift"],k=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const P in r)!C&&B.includes(P)?a.push(new Hn(P,r[P],`In "${t}": "${P}" is only valid when "encoding" is set to "custom". ${k} encoding found`)):o[P]?a=a.concat(e.validateSpec({key:P,value:r[P],valueSpec:o[P],validateSpec:e.validateSpec,style:s,styleSpec:i})):a.push(new Hn(P,r[P],`unknown property "${P}"`));return a}const n9={promoteId:GX};function HU(e){const n=e.value,t=e.key,r=e.styleSpec,i=e.style,o=e.validateSpec;if(!n.type)return[new Hn(t,n,'"type" is required')];const s=nl(n.type);let a;switch(s){case"vector":case"raster":return a=gd({key:t,value:n,valueSpec:r[`source_${s.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:n9,validateSpec:o}),a;case"raster-dem":return a=NX({sourceName:t,value:n,style:e.style,styleSpec:r,validateSpec:o}),a;case"geojson":if(a=gd({key:t,value:n,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:n9}),n.cluster)for(const h in n.clusterProperties){const[g,C]=n.clusterProperties[h],B=typeof g=="string"?[g,["accumulated"],["get",h]]:g;a.push(...Oy({key:`${t}.${h}.map`,value:C,validateSpec:o,expressionContext:"cluster-map"})),a.push(...Oy({key:`${t}.${h}.reduce`,value:B,validateSpec:o,expressionContext:"cluster-reduce"}))}return a;case"video":return gd({key:t,value:n,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return gd({key:t,value:n,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Hn(t,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return sC({key:`${t}.type`,value:n.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function GX({key:e,value:n}){if(Ko(n)==="string")return c1({key:e,value:n});{const t=[];for(const r in n)t.push(...c1({key:`${e}.${r}`,value:n[r]}));return t}}function ZU(e){const n=e.value,t=e.styleSpec,r=t.light,i=e.style;let o=[];const s=Ko(n);if(n===void 0)return o;if(s!=="object")return o=o.concat([new Hn("light",n,`object expected, ${s} found`)]),o;for(const a in n){const h=a.match(/^(.*)-transition$/);h&&r[h[1]]&&r[h[1]].transition?o=o.concat(e.validateSpec({key:a,value:n[a],valueSpec:t.transition,validateSpec:e.validateSpec,style:i,styleSpec:t})):r[a]?o=o.concat(e.validateSpec({key:a,value:n[a],valueSpec:r[a],validateSpec:e.validateSpec,style:i,styleSpec:t})):o=o.concat([new Hn(a,n[a],`unknown property "${a}"`)])}return o}function XU(e){const n=e.value,t=e.styleSpec,r=t.sky,i=e.style,o=Ko(n);if(n===void 0)return[];if(o!=="object")return[new Hn("sky",n,`object expected, ${o} found`)];let s=[];for(const a in n)r[a]?s=s.concat(oy({key:a,value:n[a],valueSpec:r[a],style:i,styleSpec:t})):s=s.concat([new Hn(a,n[a],`unknown property "${a}"`)]);return s}function JU(e){const n=e.value,t=e.styleSpec,r=t.terrain,i=e.style;let o=[];const s=Ko(n);if(n===void 0)return o;if(s!=="object")return o=o.concat([new Hn("terrain",n,`object expected, ${s} found`)]),o;for(const a in n)r[a]?o=o.concat(e.validateSpec({key:a,value:n[a],valueSpec:r[a],validateSpec:e.validateSpec,style:i,styleSpec:t})):o=o.concat([new Hn(a,n[a],`unknown property "${a}"`)]);return o}function QX(e){return c1(e).length===0?[]:Oy(e)}function $X(e){return c1(e).length===0?[]:Oy(e)}function YX(e){const n=e.key,t=e.value;if(Ko(t)==="array"){if(t.length<1||t.length>4)return[new Hn(n,t,`padding requires 1 to 4 values; ${t.length} values found`)];const i={type:"number"};let o=[];for(let s=0;s<t.length;s++)o=o.concat(e.validateSpec({key:`${n}[${s}]`,value:t[s],validateSpec:e.validateSpec,valueSpec:i}));return o}else return zB({key:n,value:t,valueSpec:{}})}function qX(e){const n=e.key,t=e.value,r=Ko(t),i=e.styleSpec;if(r!=="array"||t.length<1||t.length%2!==0)return[new Hn(n,t,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let s=0;s<t.length;s+=2)o=o.concat(sC({key:`${n}[${s}]`,value:t[s],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(RB({key:`${n}[${s+1}]`,value:t[s+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o}function eR(e){let n=[];const t=e.value,r=e.key;if(Array.isArray(t)){const i=[],o=[];for(const s in t){t[s].id&&i.includes(t[s].id)&&n.push(new Hn(r,t,`all the sprites' ids must be unique, but ${t[s].id} is duplicated`)),i.push(t[s].id),t[s].url&&o.includes(t[s].url)&&n.push(new Hn(r,t,`all the sprites' URLs must be unique, but ${t[s].url} is duplicated`)),o.push(t[s].url);const a={id:{type:"string",required:!0},url:{type:"string",required:!0}};n=n.concat(gd({key:`${r}[${s}]`,value:t[s],valueSpec:a,validateSpec:e.validateSpec}))}return n}else return c1({key:r,value:t})}const r9={"*"(){return[]},array:RB,boolean:jX,number:zB,color:WX,constants:NU,enum:sC,filter:jB,function:GU,layer:VU,object:gd,source:HU,light:ZU,sky:XU,terrain:JU,string:c1,formatted:QX,resolvedImage:$X,padding:YX,variableAnchorOffsetCollection:qX,sprite:eR};function oy(e){const n=e.value,t=e.valueSpec,r=e.styleSpec;return e.validateSpec=oy,t.expression&&WC(nl(n))?GU(e):t.expression&&GC(A1(n))?Oy(e):t.type&&r9[t.type]?r9[t.type](e):gd(Ey({},e,{valueSpec:t.type?r[t.type]:t}))}function tR(e){const n=e.value,t=e.key,r=c1(e);return r.length||(n.indexOf("{fontstack}")===-1&&r.push(new Hn(t,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&r.push(new Hn(t,n,'"glyphs" url must include a "{range}" token'))),r}function Sd(e,n=ma){let t=[];return t=t.concat(oy({key:"",value:e,valueSpec:n.$root,styleSpec:n,style:e,validateSpec:oy,objectElementValidators:{glyphs:tR,"*"(){return[]}}})),e.constants&&(t=t.concat(NU({key:"constants",value:e.constants,style:e,styleSpec:n,validateSpec:oy}))),nR(t)}Sd.source=Ef(Sf(HU));Sd.sprite=Ef(Sf(eR));Sd.glyphs=Ef(Sf(tR));Sd.light=Ef(Sf(ZU));Sd.sky=Ef(Sf(XU));Sd.terrain=Ef(Sf(JU));Sd.layer=Ef(Sf(VU));Sd.filter=Ef(Sf(jB));Sd.paintProperty=Ef(Sf(YU));Sd.layoutProperty=Ef(Sf(qU));function Sf(e){return function(n){return e({...n,validateSpec:oy})}}function nR(e){return[].concat(e).sort((n,t)=>n.line-t.line)}function Ef(e){return function(...n){return nR(e.apply(this,n))}}const VX=/("(?:[^\\"]|\\.)*")|[:,]/g;function HX(e,n={}){const t=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),r=t===""?1/0:n.maxLength===void 0?80:n.maxLength;let{replacer:i}=n;return function o(s,a,h){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const g=JSON.stringify(s,i);if(g===void 0)return g;const C=r-a.length-h;if(g.length<=C){const B=g.replace(VX,(k,P)=>P||`${k} `);if(B.length<=C)return B}if(i!=null&&(s=JSON.parse(g),i=void 0),typeof s=="object"&&s!==null){const B=a+t,k=[];let P=0,U,Z;if(Array.isArray(s)){U="[",Z="]";const{length:W}=s;for(;P<W;P++)k.push(o(s[P],B,P===W-1?0:1)||"null")}else{U="{",Z="}";const W=Object.keys(s),{length:Q}=W;for(;P<Q;P++){const q=W[P],oe=`${JSON.stringify(q)}: `,re=o(s[q],B,oe.length+(P===Q-1?0:1));re!==void 0&&k.push(oe+re)}}if(k.length>0)return[U,t+k.join(`,
${B}`),Z].join(`
${a}`)}return g}(e,"",0)}function i9(e,n){const t={};for(const r in n)e[r]!==void 0&&(t[r]=e[r]);for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function rR(e,n=2){return e=i9(e,ma.$root),e.layers&&(e.layers=e.layers.map(t=>i9(t,ma.layer))),HX(e,{indent:n})}function AM(e,n){for(const t in e)t.indexOf("layout")===0&&n(e[t],t)}function o9(e,n){for(const t in e)t.indexOf("paint")===0&&n(e[t],t)}function P6(e,n){return typeof n=="string"&&n[0]==="@"?P6(e,e.constants[n]):n}function ZX(e){return Array.isArray(e.stops)}function jv(e,n,t){e[t]=e[n],delete e[n]}function XX(e){e.version=8,zX(e,i=>{i.type==="video"&&i.url!==void 0&&jv(i,"url","urls"),i.type==="video"&&i.coordinates.forEach(o=>o.reverse())}),B_(e,i=>{AM(i,o=>{o["symbol-min-distance"]!==void 0&&jv(o,"symbol-min-distance","symbol-spacing")}),o9(i,o=>{o["background-image"]!==void 0&&jv(o,"background-image","background-pattern"),o["line-image"]!==void 0&&jv(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&jv(o,"fill-image","fill-pattern")})}),UB(e,{paint:!0,layout:!0},i=>{const o=P6(e,i.value);ZX(o)&&o.stops.forEach(s=>{s[1]=P6(e,s[1])}),i.set(o)}),delete e.constants,B_(e,i=>{AM(i,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),o9(i,o=>{o["text-size"]&&(i.layout||(i.layout={}),i.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(i.layout||(i.layout={}),i.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function n(i){function o(s){return s.split(",").map(a=>a.trim())}if(Array.isArray(i))return i;if(typeof i=="string")return o(i);if(typeof i=="object")return i.stops.forEach(s=>{s[1]=o(s[1])}),i;throw new Error("unexpected font value")}B_(e,i=>{AM(i,o=>{o["text-font"]&&(o["text-font"]=n(o["text-font"]))})});let t=0;for(let i=e.layers.length-1;i>=0;i--)if(e.layers[i].type!=="symbol"){t=i+1;break}const r=e.layers.splice(t);return r.reverse(),e.layers=e.layers.concat(r),e}function JX(e){const n=[];return B_(e,t=>{t.filter&&(t.filter=O_(t.filter))}),UB(e,{paint:!0,layout:!0},({path:t,value:r,reference:i,set:o})=>{GC(r)||(typeof r=="object"&&!Array.isArray(r)?(o(jU(r,i)),n.push(t.join("."))):i.tokens&&typeof r=="string"&&o(WU(r)))}),e}function eJ(e){return JSON.parse(tJ(JSON.stringify(e)))}function tJ(e){return e.replace(/"hsla?\((.+?)\)"/gi,(n,t)=>{const r=t.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(r){let[i,o,s,a]=r.slice(1);return[o,s]=[o,s].map(h=>h.endsWith("%")?h:`${parseFloat(h)*100}%`),`"hsl${typeof a=="string"?"a":""}(${[i,o,s,a].filter(Boolean).join(",")})"`}return n})}function nJ(e){let n=!1;if(e.version===7&&(e=XX(e),n=!0),e.version===8&&(n=!!JX(e),n=!0),UB(e,{paint:!0,layout:!0},({value:t,reference:r,set:i})=>{r.type==="color"&&i(eJ(t))}),!n)throw new Error(`Cannot migrate from ${e.version}`);return e}const rJ={StyleExpression:UU,StylePropertyFunction:RU,ZoomConstantExpression:I6,ZoomDependentExpression:T6,createExpression:KB,createPropertyExpression:PB,isExpression:GC,isExpressionFilter:i5,isZoomExpression:BX,normalizePropertyExpression:kX},iJ={convertFunction:jU,createFunction:TB,isFunction:WC};var iR={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(ch,function(){var t={},r={};function i(s,a,h){if(r[s]=h,s==="index"){var g="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",C={};return r.shared(C),r.index(t,C),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([g],{type:"text/javascript"}))),t}}i("shared",["exports"],function(s){function a(c,l,d,y){return new(d||(d=Promise))(function(w,T){function K(V){try{z(y.next(V))}catch(ee){T(ee)}}function D(V){try{z(y.throw(V))}catch(ee){T(ee)}}function z(V){var ee;V.done?w(V.value):(ee=V.value,ee instanceof d?ee:new d(function(ce){ce(ee)})).then(K,D)}z((y=y.apply(c,l||[])).next())})}function h(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}typeof SuppressedError=="function"&&SuppressedError;var g=C;function C(c,l){this.x=c,this.y=l}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,d=c.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),d=Math.sin(c),y=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=y,this},_rotateAround:function(c,l){var d=Math.cos(c),y=Math.sin(c),w=l.y+y*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-y*(this.y-l.y),this.y=w,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(c){return c instanceof C?c:Array.isArray(c)?new C(c[0],c[1]):c};var B=h(g),k=P;function P(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}P.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var w=this.sampleCurveX(d)-c;if(Math.abs(w)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=w/T}var K=0,D=1;for(d=c,y=0;y<20&&(w=this.sampleCurveX(d),!(Math.abs(w-c)<l));y++)c>w?K=d:D=d,d=.5*(D-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var U=h(k);let Z,W;function Q(){return Z==null&&(Z=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Z}function q(){if(W==null&&(W=!1,Q())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let y=0;y<5*5;y++){const w=4*y;l.fillStyle=`rgb(${w},${w+1},${w+2})`,l.fillRect(y%5,Math.floor(y/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&d[y]!==y){W=!0;break}}}return W||!1}function oe(c,l,d,y){const w=new U(c,l,d,y);return function(T){return w.solve(T)}}const re=oe(.25,.1,.25,1);function Ae(c,l,d){return Math.min(d,Math.max(l,c))}function ae(c,l,d){const y=d-l,w=((c-l)%y+y)%y+l;return w===l?d:w}function se(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}let ye=1;function De(c,l,d){const y={};for(const w in c)y[w]=l.call(d||this,c[w],w,c);return y}function Ne(c,l,d){const y={};for(const w in c)l.call(d||this,c[w],w,c)&&(y[w]=c[w]);return y}function et(c){return Array.isArray(c)?c.map(et):typeof c=="object"&&c?De(c,et):c}const ft={};function Ke(c){ft[c]||(typeof console<"u"&&console.warn(c),ft[c]=!0)}function rt(c,l,d){return(d.y-c.y)*(l.x-c.x)>(l.y-c.y)*(d.x-c.x)}function _e(c){let l=0;for(let d,y,w=0,T=c.length,K=T-1;w<T;K=w++)d=c[w],y=c[K],l+=(y.x-d.x)*(d.y+y.y);return l}function Ut(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let jt=null;function nn(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const Qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function He(c,l,d,y,w){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const T=new VideoFrame(c,{timestamp:0});try{const K=T==null?void 0:T.format;if(!K||!K.startsWith("BGR")&&!K.startsWith("RGB"))throw new Error(`Unrecognized format ${K}`);const D=K.startsWith("BGR"),z=new Uint8ClampedArray(y*w*4);if(yield T.copyTo(z,function(V,ee,ce,me,xe){const Oe=4*Math.max(-ee,0),Re=(Math.max(0,ce)-ce)*me*4+Oe,Qe=4*me,it=Math.max(0,ee),Mt=Math.max(0,ce);return{rect:{x:it,y:Mt,width:Math.min(V.width,ee+me)-it,height:Math.min(V.height,ce+xe)-Mt},layout:[{offset:Re,stride:Qe}]}}(c,l,d,y,w)),D)for(let V=0;V<z.length;V+=4){const ee=z[V];z[V]=z[V+2],z[V+2]=ee}return z}finally{T.close()}})}let Je,tt;const on="AbortError";function mt(){return new Error(on)}const dt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function kt(c){return dt.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const Pt="global-dispatcher";class Me extends Error{constructor(l,d,y,w){super(`AJAXError: ${d} (${l}): ${y}`),this.status=l,this.statusText=d,this.url=y,this.body=w}}const he=()=>Ut(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,be=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const y=kt(c.url);if(y)return y(c,l);if(Ut(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,targetMapId:Pt},l)}if(!(/^file:/.test(d=c.url)||/^file:/.test(he())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,w){return a(this,void 0,void 0,function*(){const T=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:he(),signal:w.signal});y.type==="json"&&T.headers.set("Accept","application/json");const K=yield fetch(T);if(!K.ok){const V=yield K.blob();throw new Me(K.status,K.statusText,y.url,V)}const D=y.type==="arrayBuffer"||y.type==="image"?K.arrayBuffer():y.type==="json"?K.json():K.text(),z=yield D;if(w.signal.aborted)throw mt();return{data:z,cacheControl:K.headers.get("Cache-Control"),expires:K.headers.get("Expires")}})}(c,l);if(Ut(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,mustQueue:!0,targetMapId:Pt},l)}var d;return function(y,w){return new Promise((T,K)=>{const D=new XMLHttpRequest;D.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(D.responseType="arraybuffer");for(const z in y.headers)D.setRequestHeader(z,y.headers[z]);y.type==="json"&&(D.responseType="text",D.setRequestHeader("Accept","application/json")),D.withCredentials=y.credentials==="include",D.onerror=()=>{K(new Error(D.statusText))},D.onload=()=>{if(!w.signal.aborted)if((D.status>=200&&D.status<300||D.status===0)&&D.response!==null){let z=D.response;if(y.type==="json")try{z=JSON.parse(D.response)}catch(V){return void K(V)}T({data:z,cacheControl:D.getResponseHeader("Cache-Control"),expires:D.getResponseHeader("Expires")})}else{const z=new Blob([D.response],{type:D.getResponseHeader("Content-Type")});K(new Me(D.status,D.statusText,y.url,z))}},w.signal.addEventListener("abort",()=>{D.abort(),K(mt())}),D.send(y.body)})}(c,l)};function Pe(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const l=new URL(c),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function Ze(c,l,d){d[c]&&d[c].indexOf(l)!==-1||(d[c]=d[c]||[],d[c].push(l))}function nt(c,l,d){if(d&&d[c]){const y=d[c].indexOf(l);y!==-1&&d[c].splice(y,1)}}class xt{constructor(l,d={}){se(this,d),this.type=l}}class Ft extends xt{constructor(l,d={}){super("error",se({error:l},d))}}class Dt{on(l,d){return this._listeners=this._listeners||{},Ze(l,d,this._listeners),this}off(l,d){return nt(l,d,this._listeners),nt(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},Ze(l,d,this._oneTimeListeners),this):new Promise(y=>this.once(l,y))}fire(l,d){typeof l=="string"&&(l=new xt(l,d||{}));const y=l.type;if(this.listens(y)){l.target=this;const w=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const D of w)D.call(this,l);const T=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const D of T)nt(y,D,this._oneTimeListeners),D.call(this,l);const K=this._eventedParent;K&&(se(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),K.fire(l))}else l instanceof Ft&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const nr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function pn(c,l){const d={};for(const y in c)y!=="ref"&&(d[y]=c[y]);return nr.forEach(y=>{y in l&&(d[y]=l[y])}),d}function bn(c,l){if(Array.isArray(c)){if(!Array.isArray(l)||c.length!==l.length)return!1;for(let d=0;d<c.length;d++)if(!bn(c[d],l[d]))return!1;return!0}if(typeof c=="object"&&c!==null&&l!==null){if(typeof l!="object"||Object.keys(c).length!==Object.keys(l).length)return!1;for(const d in c)if(!bn(c[d],l[d]))return!1;return!0}return c===l}function Jn(c,l){c.push(l)}function mr(c,l,d){Jn(d,{command:"addSource",args:[c,l[c]]})}function xr(c,l,d){Jn(l,{command:"removeSource",args:[c]}),d[c]=!0}function Nr(c,l,d,y){xr(c,d,y),mr(c,l,d)}function _r(c,l,d){let y;for(y in c[d])if(Object.prototype.hasOwnProperty.call(c[d],y)&&y!=="data"&&!bn(c[d][y],l[d][y]))return!1;for(y in l[d])if(Object.prototype.hasOwnProperty.call(l[d],y)&&y!=="data"&&!bn(c[d][y],l[d][y]))return!1;return!0}function fi(c,l,d,y,w,T){c=c||{},l=l||{};for(const K in c)Object.prototype.hasOwnProperty.call(c,K)&&(bn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],w]}));for(const K in l)Object.prototype.hasOwnProperty.call(l,K)&&!Object.prototype.hasOwnProperty.call(c,K)&&(bn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],w]}))}function we(c){return c.id}function H(c,l){return c[l.id]=l,c}class Y{constructor(l,d,y,w){this.message=(l?`${l}: `:"")+y,w&&(this.identifier=w),d!=null&&d.__line__&&(this.line=d.__line__)}}function Be(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}class st extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class St{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[y,w]of d)this.bindings[y]=w}concat(l){return new St(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Et={kind:"null"},Nt={kind:"number"},mn={kind:"string"},Kn={kind:"boolean"},En={kind:"color"},m={kind:"object"},Tt={kind:"value"},Lr={kind:"collator"},Wn={kind:"formatted"},Te={kind:"padding"},de={kind:"resolvedImage"},ve={kind:"variableAnchorOffsetCollection"};function Se(c,l){return{kind:"array",itemType:c,N:l}}function Ue(c){if(c.kind==="array"){const l=Ue(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const Xe=[Et,Nt,mn,Kn,En,Wn,m,Se(Tt),Te,de,ve];function at(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!at(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const d of Xe)if(!at(d,l))return null}}return`Expected ${Ue(c)} but found ${Ue(l)} instead.`}function ht(c,l){return l.some(d=>d.kind===c.kind)}function Ve(c,l){return l.some(d=>d==="null"?c===null:d==="array"?Array.isArray(c):d==="object"?c&&!Array.isArray(c)&&typeof c=="object":d===typeof c)}function Ct(c,l){return c.kind==="array"&&l.kind==="array"?c.itemType.kind===l.itemType.kind&&typeof c.N=="number":c.kind===l.kind}const Zt=.96422,Ht=.82521,qt=4/29,Vn=6/29,On=3*Vn*Vn,ir=Vn*Vn*Vn,or=Math.PI/180,Tr=180/Math.PI;function Ur(c){return(c%=360)<0&&(c+=360),c}function Dr([c,l,d,y]){let w,T;const K=rr((.2225045*(c=Jr(c))+.7168786*(l=Jr(l))+.0606169*(d=Jr(d)))/1);c===l&&l===d?w=T=K:(w=rr((.4360747*c+.3850649*l+.1430804*d)/Zt),T=rr((.0139322*c+.0971045*l+.7141733*d)/Ht));const D=116*K-16;return[D<0?0:D,500*(w-K),200*(K-T),y]}function Jr(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function rr(c){return c>ir?Math.pow(c,1/3):c/On+qt}function li([c,l,d,y]){let w=(c+16)/116,T=isNaN(l)?w:w+l/500,K=isNaN(d)?w:w-d/200;return w=1*Xi(w),T=Zt*Xi(T),K=Ht*Xi(K),[ki(3.1338561*T-1.6168667*w-.4906146*K),ki(-.9787684*T+1.9161415*w+.033454*K),ki(.0719453*T-.2289914*w+1.4052427*K),y]}function ki(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Xi(c){return c>Vn?c*c*c:On*(c-qt)}function xo(c){return parseInt(c.padEnd(2,c),16)/255}function pi(c,l){return Oo(l?c/100:c,0,1)}function Oo(c,l,d){return Math.min(Math.max(l,c),d)}function As(c){return!c.some(Number.isNaN)}const Ia={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class _i{constructor(l,d,y,w=1,T=!0){this.r=l,this.g=d,this.b=y,this.a=w,T||(this.r*=w,this.g*=w,this.b*=w,w||this.overwriteGetter("rgb",[l,d,y,w]))}static parse(l){if(l instanceof _i)return l;if(typeof l!="string")return;const d=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const w=Ia[y];if(w){const[K,D,z]=w;return[K/255,D/255,z/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const K=y.length<6?1:2;let D=1;return[xo(y.slice(D,D+=K)),xo(y.slice(D,D+=K)),xo(y.slice(D,D+=K)),xo(y.slice(D,D+K)||"ff")]}if(y.startsWith("rgb")){const K=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(K){const[D,z,V,ee,ce,me,xe,Oe,Re,Qe,it,Mt]=K,lt=[ee||" ",xe||" ",Qe].join("");if(lt==="  "||lt==="  /"||lt===",,"||lt===",,,"){const vt=[V,me,Re].join(""),tn=vt==="%%%"?100:vt===""?255:0;if(tn){const An=[Oo(+z/tn,0,1),Oo(+ce/tn,0,1),Oo(+Oe/tn,0,1),it?pi(+it,Mt):1];if(As(An))return An}}return}}const T=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[K,D,z,V,ee,ce,me,xe,Oe]=T,Re=[z||" ",ee||" ",me].join("");if(Re==="  "||Re==="  /"||Re===",,"||Re===",,,"){const Qe=[+D,Oo(+V,0,100),Oo(+ce,0,100),xe?pi(+xe,Oe):1];if(As(Qe))return function([it,Mt,lt,vt]){function tn(An){const Dn=(An+it/30)%12,vr=Mt*Math.min(lt,1-lt);return lt-vr*Math.max(-1,Math.min(Dn-3,9-Dn,1))}return it=Ur(it),Mt/=100,lt/=100,[tn(0),tn(8),tn(4),vt]}(Qe)}}}(l);return d?new _i(...d,!1):void 0}get rgb(){const{r:l,g:d,b:y,a:w}=this,T=w||1/0;return this.overwriteGetter("rgb",[l/T,d/T,y/T,w])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,y,w,T]=Dr(l),K=Math.sqrt(y*y+w*w);return[Math.round(1e4*K)?Ur(Math.atan2(w,y)*Tr):NaN,K,d,T]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Dr(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,y,w]=this.rgb;return`rgba(${[l,d,y].map(T=>Math.round(255*T)).join(",")},${w})`}}_i.black=new _i(0,0,0,1),_i.white=new _i(1,1,1,1),_i.transparent=new _i(0,0,0,0),_i.red=new _i(1,0,0,1);class Ss{constructor(l,d,y){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Si{constructor(l,d,y,w,T){this.text=l,this.image=d,this.scale=y,this.fontStack=w,this.textColor=T}}class Qn{constructor(l){this.sections=l}static fromString(l){return new Qn([new Si(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Qn?l:Qn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class so{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof so)return l;if(typeof l=="number")return new so([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new so(l)}}toString(){return JSON.stringify(this.values)}}const No=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ji{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ji)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const y=l[d],w=l[d+1];if(typeof y!="string"||!No.has(y)||!Array.isArray(w)||w.length!==2||typeof w[0]!="number"||typeof w[1]!="number")return}return new Ji(l)}}toString(){return JSON.stringify(this.values)}}class ge{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ge({name:l,available:!1}):null}}function $e(c,l,d,y){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[c,l,d,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[c,l,d,y]:[c,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Xt(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof _i||c instanceof Ss||c instanceof Qn||c instanceof so||c instanceof Ji||c instanceof ge)return!0;if(Array.isArray(c)){for(const l of c)if(!Xt(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!Xt(c[l]))return!1;return!0}return!1}function ln(c){if(c===null)return Et;if(typeof c=="string")return mn;if(typeof c=="boolean")return Kn;if(typeof c=="number")return Nt;if(c instanceof _i)return En;if(c instanceof Ss)return Lr;if(c instanceof Qn)return Wn;if(c instanceof so)return Te;if(c instanceof Ji)return ve;if(c instanceof ge)return de;if(Array.isArray(c)){const l=c.length;let d;for(const y of c){const w=ln(y);if(d){if(d===w)continue;d=Tt;break}d=w}return Se(d||Tt,l)}return m}function Kt(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof _i||c instanceof Qn||c instanceof so||c instanceof Ji||c instanceof ge?c.toString():JSON.stringify(c)}class Mn{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Xt(l[1]))return d.error("invalid value");const y=l[1];let w=ln(y);const T=d.expectedType;return w.kind!=="array"||w.N!==0||!T||T.kind!=="array"||typeof T.N=="number"&&T.N!==0||(w=T),new Mn(w,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class cr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Ii={string:mn,number:Nt,boolean:Kn,object:m};class ri{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let y,w=1;const T=l[0];if(T==="array"){let D,z;if(l.length>2){const V=l[1];if(typeof V!="string"||!(V in Ii)||V==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);D=Ii[V],w++}else D=Tt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);z=l[2],w++}y=Se(D,z)}else{if(!Ii[T])throw new Error(`Types doesn't contain name = ${T}`);y=Ii[T]}const K=[];for(;w<l.length;w++){const D=d.parse(l[w],w,Tt);if(!D)return null;K.push(D)}return new ri(y,K)}evaluate(l){for(let d=0;d<this.args.length;d++){const y=this.args[d].evaluate(l);if(!at(this.type,ln(y)))return y;if(d===this.args.length-1)throw new cr(`Expected value to be of type ${Ue(this.type)}, but found ${Ue(ln(y))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const ya={"to-boolean":Kn,"to-color":En,"to-number":Nt,"to-string":mn};class qa{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[0];if(!ya[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&l.length!==2)return d.error("Expected one argument.");const w=ya[y],T=[];for(let K=1;K<l.length;K++){const D=d.parse(l[K],K,Tt);if(!D)return null;T.push(D)}return new qa(w,T)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,y;for(const w of this.args){if(d=w.evaluate(l),y=null,d instanceof _i)return d;if(typeof d=="string"){const T=l.parseColor(d);if(T)return T}else if(Array.isArray(d)&&(y=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:$e(d[0],d[1],d[2],d[3]),!y))return new _i(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new cr(y||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const y of this.args){d=y.evaluate(l);const w=so.parse(d);if(w)return w}throw new cr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const y of this.args){d=y.evaluate(l);const w=Ji.parse(d);if(w)return w}throw new cr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const y of this.args){if(d=y.evaluate(l),d===null)return 0;const w=Number(d);if(!isNaN(w))return w}throw new cr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Qn.fromString(Kt(this.args[0].evaluate(l)));case"resolvedImage":return ge.fromString(Kt(this.args[0].evaluate(l)));default:return Kt(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Br=["Unknown","Point","LineString","Polygon"];class mi{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Br[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=_i.parse(l)),d}}class il{constructor(l,d,y=[],w,T=new St,K=[]){this.registry=l,this.path=y,this.key=y.map(D=>`[${D}]`).join(""),this.scope=T,this.errors=K,this.expectedType=w,this._isConstant=d}parse(l,d,y,w,T={}){return d?this.concat(d,y,w)._parse(l,T):this._parse(l,T)}_parse(l,d){function y(w,T,K){return K==="assert"?new ri(T,[w]):K==="coerce"?new qa(T,[w]):w}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=l[0];if(typeof w!="string")return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const T=this.registry[w];if(T){let K=T.parse(l,this);if(!K)return null;if(this.expectedType){const D=this.expectedType,z=K.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||z.kind!=="value")if(D.kind!=="color"&&D.kind!=="formatted"&&D.kind!=="resolvedImage"||z.kind!=="value"&&z.kind!=="string")if(D.kind!=="padding"||z.kind!=="value"&&z.kind!=="number"&&z.kind!=="array")if(D.kind!=="variableAnchorOffsetCollection"||z.kind!=="value"&&z.kind!=="array"){if(this.checkSubtype(D,z))return null}else K=y(K,D,d.typeAnnotation||"coerce");else K=y(K,D,d.typeAnnotation||"coerce");else K=y(K,D,d.typeAnnotation||"coerce");else K=y(K,D,d.typeAnnotation||"assert")}if(!(K instanceof Mn)&&K.type.kind!=="resolvedImage"&&this._isConstant(K)){const D=new mi;try{K=new Mn(K.type,K.evaluate(D))}catch(z){return this.error(z.message),null}}return K}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,y){const w=typeof l=="number"?this.path.concat(l):this.path,T=y?this.scope.concat(y):this.scope;return new il(this.registry,this._isConstant,w,d||null,T,this.errors)}error(l,...d){const y=`${this.key}${d.map(w=>`[${w}]`).join("")}`;this.errors.push(new st(y,l))}checkSubtype(l,d){const y=at(l,d);return y&&this.error(y),y}}class Va{constructor(l,d,y){this.type=Lr,this.locale=y,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const y=l[1];if(typeof y!="object"||Array.isArray(y))return d.error("Collator options argument must be an object.");const w=d.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,Kn);if(!w)return null;const T=d.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,Kn);if(!T)return null;let K=null;return y.locale&&(K=d.parse(y.locale,1,mn),!K)?null:new Va(w,T,K)}evaluate(l){return new Ss(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const xa=8192;function Bu(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function Ns(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function Ha(c,l){const d=(180+c[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,w=Math.pow(2,l.z);return[Math.round(d*w*xa),Math.round(y*w*xa)]}function Za(c,l,d){const y=c[0]-l[0],w=c[1]-l[1],T=c[0]-d[0],K=c[1]-d[1];return y*K-T*w==0&&y*T<=0&&w*K<=0}function Gs(c,l){let d=!1;for(let K=0,D=l.length;K<D;K++){const z=l[K];for(let V=0,ee=z.length;V<ee-1;V++){if(Za(c,z[V],z[V+1]))return!1;(w=z[V])[1]>(y=c)[1]!=(T=z[V+1])[1]>y[1]&&y[0]<(T[0]-w[0])*(y[1]-w[1])/(T[1]-w[1])+w[0]&&(d=!d)}}var y,w,T;return d}function xA(c,l){for(let d=0;d<l.length;d++)if(Gs(c,l[d]))return!0;return!1}function pl(c,l,d,y){const w=y[0]-d[0],T=y[1]-d[1],K=(c[0]-d[0])*T-w*(c[1]-d[1]),D=(l[0]-d[0])*T-w*(l[1]-d[1]);return K>0&&D<0||K<0&&D>0}function ic(c,l,d){for(const V of d)for(let ee=0;ee<V.length-1;++ee)if((D=[(K=V[ee+1])[0]-(T=V[ee])[0],K[1]-T[1]])[0]*(z=[(w=l)[0]-(y=c)[0],w[1]-y[1]])[1]-D[1]*z[0]!=0&&pl(y,w,T,K)&&pl(T,K,y,w))return!0;var y,w,T,K,D,z;return!1}function wA(c,l){for(let d=0;d<c.length;++d)if(!Gs(c[d],l))return!1;for(let d=0;d<c.length-1;++d)if(ic(c[d],c[d+1],l))return!1;return!0}function MA(c,l){for(let d=0;d<l.length;d++)if(wA(c,l[d]))return!0;return!1}function tA(c,l,d){const y=[];for(let w=0;w<c.length;w++){const T=[];for(let K=0;K<c[w].length;K++){const D=Ha(c[w][K],d);Bu(l,D),T.push(D)}y.push(T)}return y}function oc(c,l,d){const y=[];for(let w=0;w<c.length;w++){const T=tA(c[w],l,d);y.push(T)}return y}function Xa(c,l,d,y){if(c[0]<d[0]||c[0]>d[2]){const w=.5*y;let T=c[0]-d[0]>w?-y:d[0]-c[0]>w?y:0;T===0&&(T=c[0]-d[2]>w?-y:d[2]-c[0]>w?y:0),c[0]+=T}Bu(l,c)}function Es(c,l,d,y){const w=Math.pow(2,y.z)*xa,T=[y.x*xa,y.y*xa],K=[];for(const D of c)for(const z of D){const V=[z.x+T[0],z.y+T[1]];Xa(V,l,d,w),K.push(V)}return K}function SA(c,l,d,y){const w=Math.pow(2,y.z)*xa,T=[y.x*xa,y.y*xa],K=[];for(const z of c){const V=[];for(const ee of z){const ce=[ee.x+T[0],ee.y+T[1]];Bu(l,ce),V.push(ce)}K.push(V)}if(l[2]-l[0]<=w/2){(D=l)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const z of K)for(const V of z)Xa(V,l,d,w)}var D;return K}class ml{constructor(l,d){this.type=Kn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Xt(l[1])){const y=l[1];if(y.type==="FeatureCollection"){const w=[];for(const T of y.features){const{type:K,coordinates:D}=T.geometry;K==="Polygon"&&w.push(D),K==="MultiPolygon"&&w.push(...D)}if(w.length)return new ml(y,{type:"MultiPolygon",coordinates:w})}else if(y.type==="Feature"){const w=y.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new ml(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new ml(y,y)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,y){const w=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const D=tA(y.coordinates,T,K),z=Es(d.geometry(),w,T,K);if(!Ns(w,T))return!1;for(const V of z)if(!Gs(V,D))return!1}if(y.type==="MultiPolygon"){const D=oc(y.coordinates,T,K),z=Es(d.geometry(),w,T,K);if(!Ns(w,T))return!1;for(const V of z)if(!xA(V,D))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,y){const w=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const D=tA(y.coordinates,T,K),z=SA(d.geometry(),w,T,K);if(!Ns(w,T))return!1;for(const V of z)if(!wA(V,D))return!1}if(y.type==="MultiPolygon"){const D=oc(y.coordinates,T,K),z=SA(d.geometry(),w,T,K);if(!Ns(w,T))return!1;for(const V of z)if(!MA(V,D))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Il{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const y=l[1];return d.scope.has(y)?new Il(y,d.scope.get(y)):d.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Ho{constructor(l,d,y,w){this.name=l,this.type=d,this._evaluate=y,this.args=w}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const y=l[0],w=Ho.definitions[y];if(!w)return d.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const T=Array.isArray(w)?w[0]:w.type,K=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,D=K.filter(([V])=>!Array.isArray(V)||V.length===l.length-1);let z=null;for(const[V,ee]of D){z=new il(d.registry,nA,d.path,null,d.scope);const ce=[];let me=!1;for(let xe=1;xe<l.length;xe++){const Oe=l[xe],Re=Array.isArray(V)?V[xe-1]:V.type,Qe=z.parse(Oe,1+ce.length,Re);if(!Qe){me=!0;break}ce.push(Qe)}if(!me)if(Array.isArray(V)&&V.length!==ce.length)z.error(`Expected ${V.length} arguments, but found ${ce.length} instead.`);else{for(let xe=0;xe<ce.length;xe++){const Oe=Array.isArray(V)?V[xe]:V.type,Re=ce[xe];z.concat(xe+1).checkSubtype(Oe,Re.type)}if(z.errors.length===0)return new Ho(y,T,ee,ce)}}if(D.length===1)d.errors.push(...z.errors);else{const V=(D.length?D:K).map(([ce])=>{return me=ce,Array.isArray(me)?`(${me.map(Ue).join(", ")})`:`(${Ue(me.type)}...)`;var me}).join(" | "),ee=[];for(let ce=1;ce<l.length;ce++){const me=d.parse(l[ce],1+ee.length);if(!me)return null;ee.push(Ue(me.type))}d.error(`Expected arguments of type ${V}, but found (${ee.join(", ")}) instead.`)}return null}static register(l,d){Ho.definitions=d;for(const y in d)l[y]=Ho}}function nA(c){if(c instanceof Il)return nA(c.boundExpression);if(c instanceof Ho&&c.name==="error"||c instanceof Va||c instanceof ml)return!1;const l=c instanceof qa||c instanceof ri;let d=!0;return c.eachChild(y=>{d=l?d&&nA(y):d&&y instanceof Mn}),!!d&&uu(c)&&ku(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function uu(c){if(c instanceof Ho&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof ml)return!1;let l=!0;return c.eachChild(d=>{l&&!uu(d)&&(l=!1)}),l}function Au(c){if(c instanceof Ho&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(d=>{l&&!Au(d)&&(l=!1)}),l}function ku(c,l){if(c instanceof Ho&&l.indexOf(c.name)>=0)return!1;let d=!0;return c.eachChild(y=>{d&&!ku(y,l)&&(d=!1)}),d}function cs(c,l){const d=c.length-1;let y,w,T=0,K=d,D=0;for(;T<=K;)if(D=Math.floor((T+K)/2),y=c[D],w=c[D+1],y<=l){if(D===d||l<w)return D;T=D+1}else{if(!(y>l))throw new cr("Input is not a number.");K=D-1}return 0}class cu{constructor(l,d,y){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[w,T]of y)this.labels.push(w),this.outputs.push(T)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const y=d.parse(l[1],1,Nt);if(!y)return null;const w=[];let T=null;d.expectedType&&d.expectedType.kind!=="value"&&(T=d.expectedType);for(let K=1;K<l.length;K+=2){const D=K===1?-1/0:l[K],z=l[K+1],V=K,ee=K+1;if(typeof D!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(w.length&&w[w.length-1][0]>=D)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const ce=d.parse(z,ee,T);if(!ce)return null;T=T||ce.type,w.push([D,ce])}return new cu(T,y,w)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const w=this.input.evaluate(l);if(w<=d[0])return y[0].evaluate(l);const T=d.length;return w>=d[T-1]?y[T-1].evaluate(l):y[cs(d,w)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function ac(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var mo=Ao;function Ao(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}Ao.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var w=this.sampleCurveX(d)-c;if(Math.abs(w)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=w/T}var K=0,D=1;for(d=c,y=0;y<20&&(w=this.sampleCurveX(d),!(Math.abs(w-c)<l));y++)c>w?K=d:D=d,d=.5*(D-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var ne=ac(mo);function Ie(c,l,d){return c+d*(l-c)}function At(c,l,d){return c.map((y,w)=>Ie(y,l[w],d))}const Yt={number:Ie,color:function(c,l,d,y="rgb"){switch(y){case"rgb":{const[w,T,K,D]=At(c.rgb,l.rgb,d);return new _i(w,T,K,D,!1)}case"hcl":{const[w,T,K,D]=c.hcl,[z,V,ee,ce]=l.hcl;let me,xe;if(isNaN(w)||isNaN(z))isNaN(w)?isNaN(z)?me=NaN:(me=z,K!==1&&K!==0||(xe=V)):(me=w,ee!==1&&ee!==0||(xe=T));else{let Mt=z-w;z>w&&Mt>180?Mt-=360:z<w&&w-z>180&&(Mt+=360),me=w+d*Mt}const[Oe,Re,Qe,it]=function([Mt,lt,vt,tn]){return Mt=isNaN(Mt)?0:Mt*or,li([vt,Math.cos(Mt)*lt,Math.sin(Mt)*lt,tn])}([me,xe??Ie(T,V,d),Ie(K,ee,d),Ie(D,ce,d)]);return new _i(Oe,Re,Qe,it,!1)}case"lab":{const[w,T,K,D]=li(At(c.lab,l.lab,d));return new _i(w,T,K,D,!1)}}},array:At,padding:function(c,l,d){return new so(At(c.values,l.values,d))},variableAnchorOffsetCollection:function(c,l,d){const y=c.values,w=l.values;if(y.length!==w.length)throw new cr(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${l.toString()}`);const T=[];for(let K=0;K<y.length;K+=2){if(y[K]!==w[K])throw new cr(`Cannot interpolate values containing mismatched anchors. from[${K}]: ${y[K]}, to[${K}]: ${w[K]}`);T.push(y[K]);const[D,z]=y[K+1],[V,ee]=w[K+1];T.push([Ie(D,V,d),Ie(z,ee,d)])}return new Ji(T)}};class wr{constructor(l,d,y,w,T){this.type=l,this.operator=d,this.interpolation=y,this.input=w,this.labels=[],this.outputs=[];for(const[K,D]of T)this.labels.push(K),this.outputs.push(D)}static interpolationFactor(l,d,y,w){let T=0;if(l.name==="exponential")T=Tn(d,l.base,y,w);else if(l.name==="linear")T=Tn(d,1,y,w);else if(l.name==="cubic-bezier"){const K=l.controlPoints;T=new ne(K[0],K[1],K[2],K[3]).solve(Tn(d,1,y,w))}return T}static parse(l,d){let[y,w,T,...K]=l;if(!Array.isArray(w)||w.length===0)return d.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){const V=w[1];if(typeof V!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:V}}else{if(w[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const V=w.slice(1);if(V.length!==4||V.some(ee=>typeof ee!="number"||ee<0||ee>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:V}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(T=d.parse(T,2,Nt),!T)return null;const D=[];let z=null;y==="interpolate-hcl"||y==="interpolate-lab"?z=En:d.expectedType&&d.expectedType.kind!=="value"&&(z=d.expectedType);for(let V=0;V<K.length;V+=2){const ee=K[V],ce=K[V+1],me=V+3,xe=V+4;if(typeof ee!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',me);if(D.length&&D[D.length-1][0]>=ee)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',me);const Oe=d.parse(ce,xe,z);if(!Oe)return null;z=z||Oe.type,D.push([ee,Oe])}return Ct(z,Nt)||Ct(z,En)||Ct(z,Te)||Ct(z,ve)||Ct(z,Se(Nt))?new wr(z,y,w,T,D):d.error(`Type ${Ue(z)} is not interpolatable.`)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const w=this.input.evaluate(l);if(w<=d[0])return y[0].evaluate(l);const T=d.length;if(w>=d[T-1])return y[T-1].evaluate(l);const K=cs(d,w),D=wr.interpolationFactor(this.interpolation,w,d[K],d[K+1]),z=y[K].evaluate(l),V=y[K+1].evaluate(l);switch(this.operator){case"interpolate":return Yt[this.type.kind](z,V,D);case"interpolate-hcl":return Yt.color(z,V,D,"hcl");case"interpolate-lab":return Yt.color(z,V,D,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Tn(c,l,d,y){const w=y-d,T=c-d;return w===0?0:l===1?T/w:(Math.pow(l,T)-1)/(Math.pow(l,w)-1)}class Ci{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let y=null;const w=d.expectedType;w&&w.kind!=="value"&&(y=w);const T=[];for(const D of l.slice(1)){const z=d.parse(D,1+T.length,y,void 0,{typeAnnotation:"omit"});if(!z)return null;y=y||z.type,T.push(z)}if(!y)throw new Error("No output type");const K=w&&T.some(D=>at(w,D.type));return new Ci(K?Tt:y,T)}evaluate(l){let d,y=null,w=0;for(const T of this.args)if(w++,y=T.evaluate(l),y&&y instanceof ge&&!y.available&&(d||(d=y.name),y=null,w===this.args.length&&(y=d)),y!==null)break;return y}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Ti{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const y=[];for(let T=1;T<l.length-1;T+=2){const K=l[T];if(typeof K!="string")return d.error(`Expected string, but found ${typeof K} instead.`,T);if(/[^a-zA-Z0-9_]/.test(K))return d.error("Variable names must contain only alphanumeric characters or '_'.",T);const D=d.parse(l[T+1],T+1);if(!D)return null;y.push([K,D])}const w=d.parse(l[l.length-1],l.length-1,d.expectedType,y);return w?new Ti(y,w):null}outputDefined(){return this.result.outputDefined()}}class Yr{constructor(l,d,y){this.type=l,this.index=d,this.input=y}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Nt),w=d.parse(l[2],2,Se(d.expectedType||Tt));return y&&w?new Yr(w.type.itemType,y,w):null}evaluate(l){const d=this.index.evaluate(l),y=this.input.evaluate(l);if(d<0)throw new cr(`Array index out of bounds: ${d} < 0.`);if(d>=y.length)throw new cr(`Array index out of bounds: ${d} > ${y.length-1}.`);if(d!==Math.floor(d))throw new cr(`Array index must be an integer, but found ${d} instead.`);return y[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Gi{constructor(l,d){this.type=Kn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Tt),w=d.parse(l[2],2,Tt);return y&&w?ht(y.type,[Kn,mn,Nt,Et,Tt])?new Gi(y,w):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ue(y.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!y)return!1;if(!Ve(d,["boolean","string","number","null"]))throw new cr(`Expected first argument to be of type boolean, string, number or null, but found ${Ue(ln(d))} instead.`);if(!Ve(y,["string","array"]))throw new cr(`Expected second argument to be of type array or string, but found ${Ue(ln(y))} instead.`);return y.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Po{constructor(l,d,y){this.type=Nt,this.needle=l,this.haystack=d,this.fromIndex=y}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Tt),w=d.parse(l[2],2,Tt);if(!y||!w)return null;if(!ht(y.type,[Kn,mn,Nt,Et,Tt]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ue(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Nt);return T?new Po(y,w,T):null}return new Po(y,w)}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!Ve(d,["boolean","string","number","null"]))throw new cr(`Expected first argument to be of type boolean, string, number or null, but found ${Ue(ln(d))} instead.`);if(!Ve(y,["string","array"]))throw new cr(`Expected second argument to be of type array or string, but found ${Ue(ln(y))} instead.`);if(this.fromIndex){const w=this.fromIndex.evaluate(l);return y.indexOf(d,w)}return y.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class wa{constructor(l,d,y,w,T,K){this.inputType=l,this.type=d,this.input=y,this.cases=w,this.outputs=T,this.otherwise=K}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let y,w;d.expectedType&&d.expectedType.kind!=="value"&&(w=d.expectedType);const T={},K=[];for(let V=2;V<l.length-1;V+=2){let ee=l[V];const ce=l[V+1];Array.isArray(ee)||(ee=[ee]);const me=d.concat(V);if(ee.length===0)return me.error("Expected at least one branch label.");for(const Oe of ee){if(typeof Oe!="number"&&typeof Oe!="string")return me.error("Branch labels must be numbers or strings.");if(typeof Oe=="number"&&Math.abs(Oe)>Number.MAX_SAFE_INTEGER)return me.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Oe=="number"&&Math.floor(Oe)!==Oe)return me.error("Numeric branch labels must be integer values.");if(y){if(me.checkSubtype(y,ln(Oe)))return null}else y=ln(Oe);if(T[String(Oe)]!==void 0)return me.error("Branch labels must be unique.");T[String(Oe)]=K.length}const xe=d.parse(ce,V,w);if(!xe)return null;w=w||xe.type,K.push(xe)}const D=d.parse(l[1],1,Tt);if(!D)return null;const z=d.parse(l[l.length-1],l.length-1,w);return z?D.type.kind!=="value"&&d.concat(1).checkSubtype(y,D.type)?null:new wa(y,w,D,T,K,z):null}evaluate(l){const d=this.input.evaluate(l);return(ln(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class zo{constructor(l,d,y){this.type=l,this.branches=d,this.otherwise=y}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let y;d.expectedType&&d.expectedType.kind!=="value"&&(y=d.expectedType);const w=[];for(let K=1;K<l.length-1;K+=2){const D=d.parse(l[K],K,Kn);if(!D)return null;const z=d.parse(l[K+1],K+1,y);if(!z)return null;w.push([D,z]),y=y||z.type}const T=d.parse(l[l.length-1],l.length-1,y);if(!T)return null;if(!y)throw new Error("Can't infer output type");return new zo(y,w,T)}evaluate(l){for(const[d,y]of this.branches)if(d.evaluate(l))return y.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,y]of this.branches)l(d),l(y);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Ki{constructor(l,d,y,w){this.type=l,this.input=d,this.beginIndex=y,this.endIndex=w}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Tt),w=d.parse(l[2],2,Nt);if(!y||!w)return null;if(!ht(y.type,[Se(Tt),mn,Tt]))return d.error(`Expected first argument to be of type array or string, but found ${Ue(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Nt);return T?new Ki(y.type,y,w,T):null}return new Ki(y.type,y,w)}evaluate(l){const d=this.input.evaluate(l),y=this.beginIndex.evaluate(l);if(!Ve(d,["string","array"]))throw new cr(`Expected first argument to be of type array or string, but found ${Ue(ln(d))} instead.`);if(this.endIndex){const w=this.endIndex.evaluate(l);return d.slice(y,w)}return d.slice(y)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function aa(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Ta(c,l,d,y){return y.compare(l,d)===0}function Ka(c,l,d){const y=c!=="=="&&c!=="!=";return class oR{constructor(T,K,D){this.type=Kn,this.lhs=T,this.rhs=K,this.collator=D,this.hasUntypedArgument=T.type.kind==="value"||K.type.kind==="value"}static parse(T,K){if(T.length!==3&&T.length!==4)return K.error("Expected two or three arguments.");const D=T[0];let z=K.parse(T[1],1,Tt);if(!z)return null;if(!aa(D,z.type))return K.concat(1).error(`"${D}" comparisons are not supported for type '${Ue(z.type)}'.`);let V=K.parse(T[2],2,Tt);if(!V)return null;if(!aa(D,V.type))return K.concat(2).error(`"${D}" comparisons are not supported for type '${Ue(V.type)}'.`);if(z.type.kind!==V.type.kind&&z.type.kind!=="value"&&V.type.kind!=="value")return K.error(`Cannot compare types '${Ue(z.type)}' and '${Ue(V.type)}'.`);y&&(z.type.kind==="value"&&V.type.kind!=="value"?z=new ri(V.type,[z]):z.type.kind!=="value"&&V.type.kind==="value"&&(V=new ri(z.type,[V])));let ee=null;if(T.length===4){if(z.type.kind!=="string"&&V.type.kind!=="string"&&z.type.kind!=="value"&&V.type.kind!=="value")return K.error("Cannot use collator to compare non-string types.");if(ee=K.parse(T[3],3,Lr),!ee)return null}return new oR(z,V,ee)}evaluate(T){const K=this.lhs.evaluate(T),D=this.rhs.evaluate(T);if(y&&this.hasUntypedArgument){const z=ln(K),V=ln(D);if(z.kind!==V.kind||z.kind!=="string"&&z.kind!=="number")throw new cr(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${z.kind}, ${V.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const z=ln(K),V=ln(D);if(z.kind!=="string"||V.kind!=="string")return l(T,K,D)}return this.collator?d(T,K,D,this.collator.evaluate(T)):l(T,K,D)}eachChild(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)}outputDefined(){return!0}}}const Ql=Ka("==",function(c,l,d){return l===d},Ta),Iu=Ka("!=",function(c,l,d){return l!==d},function(c,l,d,y){return!Ta(0,l,d,y)}),sc=Ka("<",function(c,l,d){return l<d},function(c,l,d,y){return y.compare(l,d)<0}),ds=Ka(">",function(c,l,d){return l>d},function(c,l,d,y){return y.compare(l,d)>0}),Hm=Ka("<=",function(c,l,d){return l<=d},function(c,l,d,y){return y.compare(l,d)<=0}),$l=Ka(">=",function(c,l,d){return l>=d},function(c,l,d,y){return y.compare(l,d)>=0});class mh{constructor(l,d,y,w,T){this.type=mn,this.number=l,this.locale=d,this.currency=y,this.minFractionDigits=w,this.maxFractionDigits=T}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const y=d.parse(l[1],1,Nt);if(!y)return null;const w=l[2];if(typeof w!="object"||Array.isArray(w))return d.error("NumberFormat options argument must be an object.");let T=null;if(w.locale&&(T=d.parse(w.locale,1,mn),!T))return null;let K=null;if(w.currency&&(K=d.parse(w.currency,1,mn),!K))return null;let D=null;if(w["min-fraction-digits"]&&(D=d.parse(w["min-fraction-digits"],1,Nt),!D))return null;let z=null;return w["max-fraction-digits"]&&(z=d.parse(w["max-fraction-digits"],1,Nt),!z)?null:new mh(y,T,K,D,z)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Wc{constructor(l){this.type=Wn,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[1];if(!Array.isArray(y)&&typeof y=="object")return d.error("First argument must be an image or text section.");const w=[];let T=!1;for(let K=1;K<=l.length-1;++K){const D=l[K];if(T&&typeof D=="object"&&!Array.isArray(D)){T=!1;let z=null;if(D["font-scale"]&&(z=d.parse(D["font-scale"],1,Nt),!z))return null;let V=null;if(D["text-font"]&&(V=d.parse(D["text-font"],1,Se(mn)),!V))return null;let ee=null;if(D["text-color"]&&(ee=d.parse(D["text-color"],1,En),!ee))return null;const ce=w[w.length-1];ce.scale=z,ce.font=V,ce.textColor=ee}else{const z=d.parse(l[K],1,Tt);if(!z)return null;const V=z.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");T=!0,w.push({content:z,scale:null,font:null,textColor:null})}}return new Wc(w)}evaluate(l){return new Qn(this.sections.map(d=>{const y=d.content.evaluate(l);return ln(y)===de?new Si("",y,null,null,null):new Si(Kt(y),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class Tu{constructor(l){this.type=de,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const y=d.parse(l[1],1,mn);return y?new Tu(y):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),y=ge.fromString(d);return y&&l.availableImages&&(y.available=l.availableImages.indexOf(d)>-1),y}eachChild(l){l(this.input)}outputDefined(){return!1}}class Nc{constructor(l){this.type=Nt,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const y=d.parse(l[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${Ue(y.type)} instead.`):new Nc(y):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new cr(`Expected value to be of type string or array, but found ${Ue(ln(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const EA={"==":Ql,"!=":Iu,">":ds,"<":sc,">=":$l,"<=":Hm,array:ri,at:Yr,boolean:ri,case:zo,coalesce:Ci,collator:Va,format:Wc,image:Tu,in:Gi,"index-of":Po,interpolate:wr,"interpolate-hcl":wr,"interpolate-lab":wr,length:Nc,let:Ti,literal:Mn,match:wa,number:ri,"number-format":mh,object:ri,slice:Ki,step:cu,string:ri,"to-boolean":qa,"to-color":qa,"to-number":qa,"to-string":qa,var:Il,within:ml};function Go(c,[l,d,y,w]){l=l.evaluate(c),d=d.evaluate(c),y=y.evaluate(c);const T=w?w.evaluate(c):1,K=$e(l,d,y,T);if(K)throw new cr(K);return new _i(l/255,d/255,y/255,T,!1)}function Ku(c,l){return c in l}function Od(c,l){const d=l[c];return d===void 0?null:d}function OA(c){return{type:c}}function lc(c){return{result:"success",value:c}}function du(c){return{result:"error",value:c}}function Gc(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function Tp(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function gh(c){return!!c.expression&&c.expression.interpolated}function hi(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function Fo(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function Zm(c){return c}function yh(c,l){const d=l.type==="color",y=c.stops&&typeof c.stops[0][0]=="object",w=y||!(y||c.property!==void 0),T=c.type||(gh(l)?"exponential":"interval");if(d||l.type==="padding"){const ee=d?_i.parse:so.parse;(c=Be({},c)).stops&&(c.stops=c.stops.map(ce=>[ce[0],ee(ce[1])])),c.default=ee(c.default?c.default:l.default)}if(c.colorSpace&&(K=c.colorSpace)!=="rgb"&&K!=="hcl"&&K!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var K;let D,z,V;if(T==="exponential")D=Pi;else if(T==="interval")D=vh;else if(T==="categorical"){D=sa,z=Object.create(null);for(const ee of c.stops)z[ee[0]]=ee[1];V=typeof c.stops[0][0]}else{if(T!=="identity")throw new Error(`Unknown function type "${T}"`);D=Bd}if(y){const ee={},ce=[];for(let Oe=0;Oe<c.stops.length;Oe++){const Re=c.stops[Oe],Qe=Re[0].zoom;ee[Qe]===void 0&&(ee[Qe]={zoom:Qe,type:c.type,property:c.property,default:c.default,stops:[]},ce.push(Qe)),ee[Qe].stops.push([Re[0].value,Re[1]])}const me=[];for(const Oe of ce)me.push([ee[Oe].zoom,yh(ee[Oe],l)]);const xe={name:"linear"};return{kind:"composite",interpolationType:xe,interpolationFactor:wr.interpolationFactor.bind(void 0,xe),zoomStops:me.map(Oe=>Oe[0]),evaluate:({zoom:Oe},Re)=>Pi({stops:me,base:c.base},l,Oe).evaluate(Oe,Re)}}if(w){const ee=T==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:ee,interpolationFactor:wr.interpolationFactor.bind(void 0,ee),zoomStops:c.stops.map(ce=>ce[0]),evaluate:({zoom:ce})=>D(c,l,ce,z,V)}}return{kind:"source",evaluate(ee,ce){const me=ce&&ce.properties?ce.properties[c.property]:void 0;return me===void 0?Pu(c.default,l.default):D(c,l,me,z,V)}}}function Pu(c,l,d){return c!==void 0?c:l!==void 0?l:d!==void 0?d:void 0}function sa(c,l,d,y,w){return Pu(typeof d===w?y[d]:void 0,c.default,l.default)}function vh(c,l,d){if(hi(d)!=="number")return Pu(c.default,l.default);const y=c.stops.length;if(y===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[y-1][0])return c.stops[y-1][1];const w=cs(c.stops.map(T=>T[0]),d);return c.stops[w][1]}function Pi(c,l,d){const y=c.base!==void 0?c.base:1;if(hi(d)!=="number")return Pu(c.default,l.default);const w=c.stops.length;if(w===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[w-1][0])return c.stops[w-1][1];const T=cs(c.stops.map(ee=>ee[0]),d),K=function(ee,ce,me,xe){const Oe=xe-me,Re=ee-me;return Oe===0?0:ce===1?Re/Oe:(Math.pow(ce,Re)-1)/(Math.pow(ce,Oe)-1)}(d,y,c.stops[T][0],c.stops[T+1][0]),D=c.stops[T][1],z=c.stops[T+1][1],V=Yt[l.type]||Zm;return typeof D.evaluate=="function"?{evaluate(...ee){const ce=D.evaluate.apply(void 0,ee),me=z.evaluate.apply(void 0,ee);if(ce!==void 0&&me!==void 0)return V(ce,me,K,c.colorSpace)}}:V(D,z,K,c.colorSpace)}function Bd(c,l,d){switch(l.type){case"color":d=_i.parse(d);break;case"formatted":d=Qn.fromString(d.toString());break;case"resolvedImage":d=ge.fromString(d.toString());break;case"padding":d=so.parse(d);break;default:hi(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return Pu(d,c.default,l.default)}Ho.register(EA,{error:[{kind:"error"},[mn],(c,[l])=>{throw new cr(l.evaluate(c))}],typeof:[mn,[Tt],(c,[l])=>Ue(ln(l.evaluate(c)))],"to-rgba":[Se(Nt,4),[En],(c,[l])=>{const[d,y,w,T]=l.evaluate(c).rgb;return[255*d,255*y,255*w,T]}],rgb:[En,[Nt,Nt,Nt],Go],rgba:[En,[Nt,Nt,Nt,Nt],Go],has:{type:Kn,overloads:[[[mn],(c,[l])=>Ku(l.evaluate(c),c.properties())],[[mn,m],(c,[l,d])=>Ku(l.evaluate(c),d.evaluate(c))]]},get:{type:Tt,overloads:[[[mn],(c,[l])=>Od(l.evaluate(c),c.properties())],[[mn,m],(c,[l,d])=>Od(l.evaluate(c),d.evaluate(c))]]},"feature-state":[Tt,[mn],(c,[l])=>Od(l.evaluate(c),c.featureState||{})],properties:[m,[],c=>c.properties()],"geometry-type":[mn,[],c=>c.geometryType()],id:[Tt,[],c=>c.id()],zoom:[Nt,[],c=>c.globals.zoom],"heatmap-density":[Nt,[],c=>c.globals.heatmapDensity||0],"line-progress":[Nt,[],c=>c.globals.lineProgress||0],accumulated:[Tt,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Nt,OA(Nt),(c,l)=>{let d=0;for(const y of l)d+=y.evaluate(c);return d}],"*":[Nt,OA(Nt),(c,l)=>{let d=1;for(const y of l)d*=y.evaluate(c);return d}],"-":{type:Nt,overloads:[[[Nt,Nt],(c,[l,d])=>l.evaluate(c)-d.evaluate(c)],[[Nt],(c,[l])=>-l.evaluate(c)]]},"/":[Nt,[Nt,Nt],(c,[l,d])=>l.evaluate(c)/d.evaluate(c)],"%":[Nt,[Nt,Nt],(c,[l,d])=>l.evaluate(c)%d.evaluate(c)],ln2:[Nt,[],()=>Math.LN2],pi:[Nt,[],()=>Math.PI],e:[Nt,[],()=>Math.E],"^":[Nt,[Nt,Nt],(c,[l,d])=>Math.pow(l.evaluate(c),d.evaluate(c))],sqrt:[Nt,[Nt],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[Nt,[Nt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[Nt,[Nt],(c,[l])=>Math.log(l.evaluate(c))],log2:[Nt,[Nt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[Nt,[Nt],(c,[l])=>Math.sin(l.evaluate(c))],cos:[Nt,[Nt],(c,[l])=>Math.cos(l.evaluate(c))],tan:[Nt,[Nt],(c,[l])=>Math.tan(l.evaluate(c))],asin:[Nt,[Nt],(c,[l])=>Math.asin(l.evaluate(c))],acos:[Nt,[Nt],(c,[l])=>Math.acos(l.evaluate(c))],atan:[Nt,[Nt],(c,[l])=>Math.atan(l.evaluate(c))],min:[Nt,OA(Nt),(c,l)=>Math.min(...l.map(d=>d.evaluate(c)))],max:[Nt,OA(Nt),(c,l)=>Math.max(...l.map(d=>d.evaluate(c)))],abs:[Nt,[Nt],(c,[l])=>Math.abs(l.evaluate(c))],round:[Nt,[Nt],(c,[l])=>{const d=l.evaluate(c);return d<0?-Math.round(-d):Math.round(d)}],floor:[Nt,[Nt],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[Nt,[Nt],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Kn,[mn,Tt],(c,[l,d])=>c.properties()[l.value]===d.value],"filter-id-==":[Kn,[Tt],(c,[l])=>c.id()===l.value],"filter-type-==":[Kn,[mn],(c,[l])=>c.geometryType()===l.value],"filter-<":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y<w}],"filter-id-<":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<y}],"filter->":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y>w}],"filter-id->":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>y}],"filter-<=":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y<=w}],"filter-id-<=":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<=y}],"filter->=":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y>=w}],"filter-id->=":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>=y}],"filter-has":[Kn,[Tt],(c,[l])=>l.value in c.properties()],"filter-has-id":[Kn,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Kn,[Se(mn)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Kn,[Se(Tt)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Kn,[mn,Se(Tt)],(c,[l,d])=>d.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Kn,[mn,Se(Tt)],(c,[l,d])=>function(y,w,T,K){for(;T<=K;){const D=T+K>>1;if(w[D]===y)return!0;w[D]>y?K=D-1:T=D+1}return!1}(c.properties()[l.value],d.value,0,d.value.length-1)],all:{type:Kn,overloads:[[[Kn,Kn],(c,[l,d])=>l.evaluate(c)&&d.evaluate(c)],[OA(Kn),(c,l)=>{for(const d of l)if(!d.evaluate(c))return!1;return!0}]]},any:{type:Kn,overloads:[[[Kn,Kn],(c,[l,d])=>l.evaluate(c)||d.evaluate(c)],[OA(Kn),(c,l)=>{for(const d of l)if(d.evaluate(c))return!0;return!1}]]},"!":[Kn,[Kn],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Kn,[mn],(c,[l])=>{const d=c.globals&&c.globals.isSupportedScript;return!d||d(l.evaluate(c))}],upcase:[mn,[mn],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[mn,[mn],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[mn,OA(Tt),(c,l)=>l.map(d=>Kt(d.evaluate(c))).join("")],"resolved-locale":[mn,[Lr],(c,[l])=>l.evaluate(c).resolvedLocale()]});class wo{constructor(l,d){var y;this.expression=l,this._warningHistory={},this._evaluator=new mi,this._defaultValue=d?(y=d).type==="color"&&Fo(y.default)?new _i(0,0,0,0):y.type==="color"?_i.parse(y.default)||null:y.type==="padding"?so.parse(y.default)||null:y.type==="variableAnchorOffsetCollection"?Ji.parse(y.default)||null:y.default===void 0?null:y.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,y,w,T,K){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=y,this._evaluator.canonical=w,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K,this.expression.evaluate(this._evaluator)}evaluate(l,d,y,w,T,K){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=y||null,this._evaluator.canonical=w,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new cr(`Expected value to be one of ${Object.keys(this._enumValues).map(z=>JSON.stringify(z)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function go(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in EA}function uc(c,l){const d=new il(EA,nA,[],l?function(w){const T={color:En,string:mn,number:Nt,enum:mn,boolean:Kn,formatted:Wn,padding:Te,resolvedImage:de,variableAnchorOffsetCollection:ve};return w.type==="array"?Se(T[w.value]||Tt,w.length):T[w.type]}(l):void 0),y=d.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?lc(new wo(y,l)):du(d.errors)}class Qc{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!Au(d.expression)}evaluateWithoutErrorHandling(l,d,y,w,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,w,T,K)}evaluate(l,d,y,w,T,K){return this._styleExpression.evaluate(l,d,y,w,T,K)}}class Qs{constructor(l,d,y,w){this.kind=l,this.zoomStops=y,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!Au(d.expression),this.interpolationType=w}evaluateWithoutErrorHandling(l,d,y,w,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,w,T,K)}evaluate(l,d,y,w,T,K){return this._styleExpression.evaluate(l,d,y,w,T,K)}interpolationFactor(l,d,y){return this.interpolationType?wr.interpolationFactor(this.interpolationType,l,d,y):0}}function _h(c,l){const d=uc(c,l);if(d.result==="error")return d;const y=d.value.expression,w=uu(y);if(!w&&!Gc(l))return du([new st("","data expressions not supported")]);const T=ku(y,["zoom"]);if(!T&&!Tp(l))return du([new st("","zoom expressions not supported")]);const K=Tl(y);return K||T?K instanceof st?du([K]):K instanceof wr&&!gh(l)?du([new st("",'"interpolate" expressions cannot be used with this property')]):lc(K?new Qs(w?"camera":"composite",d.value,K.labels,K instanceof wr?K.interpolation:void 0):new Qc(w?"constant":"source",d.value)):du([new st("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Yl{constructor(l,d){this._parameters=l,this._specification=d,Be(this,yh(this._parameters,this._specification))}static deserialize(l){return new Yl(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Tl(c){let l=null;if(c instanceof Ti)l=Tl(c.result);else if(c instanceof Ci){for(const d of c.args)if(l=Tl(d),l)break}else(c instanceof cu||c instanceof wr)&&c.input instanceof Ho&&c.input.name==="zoom"&&(l=c);return l instanceof st||c.eachChild(d=>{const y=Tl(d);y instanceof st?l=y:!l&&y?l=new st("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&y&&l!==y&&(l=new st("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function BA(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!BA(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Ch={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function kd(c){if(c==null)return{filter:()=>!0,needGeometry:!1};BA(c)||(c=$c(c));const l=uc(c,Ch);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,y,w)=>l.value.evaluate(d,y,{},w),needGeometry:Fu(c)}}function hu(c,l){return c<l?-1:c>l?1:0}function Fu(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let l=1;l<c.length;l++)if(Fu(c[l]))return!0;return!1}function $c(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?kA(c[1],c[2],"=="):l==="!="?Ac(kA(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?kA(c[1],c[2],l):l==="any"?(d=c.slice(1),["any"].concat(d.map($c))):l==="all"?["all"].concat(c.slice(1).map($c)):l==="none"?["all"].concat(c.slice(1).map($c).map(Ac)):l==="in"?If(c[1],c.slice(2)):l==="!in"?Ac(If(c[1],c.slice(2))):l==="has"?Kp(c[1]):l==="!has"?Ac(Kp(c[1])):l!=="within"||c;var d}function kA(c,l,d){switch(c){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,c,l]}}function If(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",c,["literal",l.sort(hu)]]:["filter-in-small",c,["literal",l]]}}function Kp(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Ac(c){return["!",c]}function Yc(c){const l=typeof c;if(l==="number"||l==="boolean"||l==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let w="[";for(const T of c)w+=`${Yc(T)},`;return`${w}]`}const d=Object.keys(c).sort();let y="{";for(let w=0;w<d.length;w++)y+=`${JSON.stringify(d[w])}:${Yc(c[d[w]])},`;return`${y}}`}function Kl(c){let l="";for(const d of nr)l+=`/${Yc(c[d])}`;return l}function gl(c){const l=c.value;return l?[new Y(c.key,l,"constants have been deprecated as of v8")]:[]}function Zo(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function rA(c){if(Array.isArray(c))return c.map(rA);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const d in c)l[d]=rA(c[d]);return l}return Zo(c)}function ol(c){const l=c.key,d=c.value,y=c.valueSpec||{},w=c.objectElementValidators||{},T=c.style,K=c.styleSpec,D=c.validateSpec;let z=[];const V=hi(d);if(V!=="object")return[new Y(l,d,`object expected, ${V} found`)];for(const ee in d){const ce=ee.split(".")[0],me=y[ce]||y["*"];let xe;if(w[ce])xe=w[ce];else if(y[ce])xe=D;else if(w["*"])xe=w["*"];else{if(!y["*"]){z.push(new Y(l,d[ee],`unknown property "${ee}"`));continue}xe=D}z=z.concat(xe({key:(l&&`${l}.`)+ee,value:d[ee],valueSpec:me,style:T,styleSpec:K,object:d,objectKey:ee,validateSpec:D},d))}for(const ee in y)w[ee]||y[ee].required&&y[ee].default===void 0&&d[ee]===void 0&&z.push(new Y(l,d,`missing required property "${ee}"`));return z}function IA(c){const l=c.value,d=c.valueSpec,y=c.style,w=c.styleSpec,T=c.key,K=c.arrayElementValidator||c.validateSpec;if(hi(l)!=="array")return[new Y(T,l,`array expected, ${hi(l)} found`)];if(d.length&&l.length!==d.length)return[new Y(T,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new Y(T,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let D={type:d.value,values:d.values};w.$version<7&&(D.function=d.function),hi(d.value)==="object"&&(D=d.value);let z=[];for(let V=0;V<l.length;V++)z=z.concat(K({array:l,arrayIndex:V,value:l[V],valueSpec:D,validateSpec:c.validateSpec,style:y,styleSpec:w,key:`${T}[${V}]`}));return z}function yl(c){const l=c.key,d=c.value,y=c.valueSpec;let w=hi(d);return w==="number"&&d!=d&&(w="NaN"),w!=="number"?[new Y(l,d,`number expected, ${w} found`)]:"minimum"in y&&d<y.minimum?[new Y(l,d,`${d} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&d>y.maximum?[new Y(l,d,`${d} is greater than the maximum value ${y.maximum}`)]:[]}function bh(c){const l=c.valueSpec,d=Zo(c.value.type);let y,w,T,K={};const D=d!=="categorical"&&c.value.property===void 0,z=!D,V=hi(c.value.stops)==="array"&&hi(c.value.stops[0])==="array"&&hi(c.value.stops[0][0])==="object",ee=ol({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(xe){if(d==="identity")return[new Y(xe.key,xe.value,'identity function may not have a "stops" property')];let Oe=[];const Re=xe.value;return Oe=Oe.concat(IA({key:xe.key,value:Re,valueSpec:xe.valueSpec,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,arrayElementValidator:ce})),hi(Re)==="array"&&Re.length===0&&Oe.push(new Y(xe.key,Re,"array must have at least one stop")),Oe},default:function(xe){return xe.validateSpec({key:xe.key,value:xe.value,valueSpec:l,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec})}}});return d==="identity"&&D&&ee.push(new Y(c.key,c.value,'missing required property "property"')),d==="identity"||c.value.stops||ee.push(new Y(c.key,c.value,'missing required property "stops"')),d==="exponential"&&c.valueSpec.expression&&!gh(c.valueSpec)&&ee.push(new Y(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(z&&!Gc(c.valueSpec)?ee.push(new Y(c.key,c.value,"property functions not supported")):D&&!Tp(c.valueSpec)&&ee.push(new Y(c.key,c.value,"zoom functions not supported"))),d!=="categorical"&&!V||c.value.property!==void 0||ee.push(new Y(c.key,c.value,'"property" property is required')),ee;function ce(xe){let Oe=[];const Re=xe.value,Qe=xe.key;if(hi(Re)!=="array")return[new Y(Qe,Re,`array expected, ${hi(Re)} found`)];if(Re.length!==2)return[new Y(Qe,Re,`array length 2 expected, length ${Re.length} found`)];if(V){if(hi(Re[0])!=="object")return[new Y(Qe,Re,`object expected, ${hi(Re[0])} found`)];if(Re[0].zoom===void 0)return[new Y(Qe,Re,"object stop key must have zoom")];if(Re[0].value===void 0)return[new Y(Qe,Re,"object stop key must have value")];if(T&&T>Zo(Re[0].zoom))return[new Y(Qe,Re[0].zoom,"stop zoom values must appear in ascending order")];Zo(Re[0].zoom)!==T&&(T=Zo(Re[0].zoom),w=void 0,K={}),Oe=Oe.concat(ol({key:`${Qe}[0]`,value:Re[0],valueSpec:{zoom:{}},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,objectElementValidators:{zoom:yl,value:me}}))}else Oe=Oe.concat(me({key:`${Qe}[0]`,value:Re[0],valueSpec:{},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec},Re));return go(rA(Re[1]))?Oe.concat([new Y(`${Qe}[1]`,Re[1],"expressions are not allowed in function stops.")]):Oe.concat(xe.validateSpec({key:`${Qe}[1]`,value:Re[1],valueSpec:l,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec}))}function me(xe,Oe){const Re=hi(xe.value),Qe=Zo(xe.value),it=xe.value!==null?xe.value:Oe;if(y){if(Re!==y)return[new Y(xe.key,it,`${Re} stop domain type must match previous stop domain type ${y}`)]}else y=Re;if(Re!=="number"&&Re!=="string"&&Re!=="boolean")return[new Y(xe.key,it,"stop domain value must be a number, string, or boolean")];if(Re!=="number"&&d!=="categorical"){let Mt=`number expected, ${Re} found`;return Gc(l)&&d===void 0&&(Mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Y(xe.key,it,Mt)]}return d!=="categorical"||Re!=="number"||isFinite(Qe)&&Math.floor(Qe)===Qe?d!=="categorical"&&Re==="number"&&w!==void 0&&Qe<w?[new Y(xe.key,it,"stop domain values must appear in ascending order")]:(w=Qe,d==="categorical"&&Qe in K?[new Y(xe.key,it,"stop domain values must be unique")]:(K[Qe]=!0,[])):[new Y(xe.key,it,`integer expected, found ${Qe}`)]}}function iA(c){const l=(c.expressionContext==="property"?_h:uc)(rA(c.value),c.valueSpec);if(l.result==="error")return l.value.map(y=>new Y(`${c.key}${y.key}`,c.value,y.message));const d=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!d.outputDefined())return[new Y(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Au(d))return[new Y(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!Au(d))return[new Y(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!ku(d,["zoom","feature-state"]))return[new Y(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!uu(d))return[new Y(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ql(c){const l=c.key,d=c.value,y=c.valueSpec,w=[];return Array.isArray(y.values)?y.values.indexOf(Zo(d))===-1&&w.push(new Y(l,d,`expected one of [${y.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(y.values).indexOf(Zo(d))===-1&&w.push(new Y(l,d,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(d)} found`)),w}function cc(c){return BA(rA(c.value))?iA(Be({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Id(c)}function Id(c){const l=c.value,d=c.key;if(hi(l)!=="array")return[new Y(d,l,`array expected, ${hi(l)} found`)];const y=c.styleSpec;let w,T=[];if(l.length<1)return[new Y(d,l,"filter array must have at least 1 element")];switch(T=T.concat(ql({key:`${d}[0]`,value:l[0],valueSpec:y.filter_operator,style:c.style,styleSpec:c.styleSpec})),Zo(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Zo(l[1])==="$type"&&T.push(new Y(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&T.push(new Y(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(w=hi(l[1]),w!=="string"&&T.push(new Y(`${d}[1]`,l[1],`string expected, ${w} found`)));for(let K=2;K<l.length;K++)w=hi(l[K]),Zo(l[1])==="$type"?T=T.concat(ql({key:`${d}[${K}]`,value:l[K],valueSpec:y.geometry_type,style:c.style,styleSpec:c.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&T.push(new Y(`${d}[${K}]`,l[K],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let K=1;K<l.length;K++)T=T.concat(Id({key:`${d}[${K}]`,value:l[K],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":w=hi(l[1]),l.length!==2?T.push(new Y(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):w!=="string"&&T.push(new Y(`${d}[1]`,l[1],`string expected, ${w} found`));break;case"within":w=hi(l[1]),l.length!==2?T.push(new Y(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):w!=="object"&&T.push(new Y(`${d}[1]`,l[1],`object expected, ${w} found`))}return T}function Td(c,l){const d=c.key,y=c.validateSpec,w=c.style,T=c.styleSpec,K=c.value,D=c.objectKey,z=T[`${l}_${c.layerType}`];if(!z)return[];const V=D.match(/^(.*)-transition$/);if(l==="paint"&&V&&z[V[1]]&&z[V[1]].transition)return y({key:d,value:K,valueSpec:T.transition,style:w,styleSpec:T});const ee=c.valueSpec||z[D];if(!ee)return[new Y(d,K,`unknown property "${D}"`)];let ce;if(hi(K)==="string"&&Gc(ee)&&!ee.tokens&&(ce=/^{([^}]+)}$/.exec(K)))return[new Y(d,K,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ce[1])} }\`.`)];const me=[];return c.layerType==="symbol"&&(D==="text-field"&&w&&!w.glyphs&&me.push(new Y(d,K,'use of "text-field" requires a style "glyphs" property')),D==="text-font"&&Fo(rA(K))&&Zo(K.type)==="identity"&&me.push(new Y(d,K,'"text-font" does not support identity functions'))),me.concat(y({key:c.key,value:K,valueSpec:ee,style:w,styleSpec:T,expressionContext:"property",propertyType:l,propertyKey:D}))}function fu(c){return Td(c,"paint")}function bt(c){return Td(c,"layout")}function an(c){let l=[];const d=c.value,y=c.key,w=c.style,T=c.styleSpec;d.type||d.ref||l.push(new Y(y,d,'either "type" or "ref" is required'));let K=Zo(d.type);const D=Zo(d.ref);if(d.id){const z=Zo(d.id);for(let V=0;V<c.arrayIndex;V++){const ee=w.layers[V];Zo(ee.id)===z&&l.push(new Y(y,d.id,`duplicate layer id "${d.id}", previously used at line ${ee.id.__line__}`))}}if("ref"in d){let z;["type","source","source-layer","filter","layout"].forEach(V=>{V in d&&l.push(new Y(y,d[V],`"${V}" is prohibited for ref layers`))}),w.layers.forEach(V=>{Zo(V.id)===D&&(z=V)}),z?z.ref?l.push(new Y(y,d.ref,"ref cannot reference another ref layer")):K=Zo(z.type):l.push(new Y(y,d.ref,`ref layer "${D}" not found`))}else if(K!=="background")if(d.source){const z=w.sources&&w.sources[d.source],V=z&&Zo(z.type);z?V==="vector"&&K==="raster"?l.push(new Y(y,d.source,`layer "${d.id}" requires a raster source`)):V!=="raster-dem"&&K==="hillshade"?l.push(new Y(y,d.source,`layer "${d.id}" requires a raster-dem source`)):V==="raster"&&K!=="raster"?l.push(new Y(y,d.source,`layer "${d.id}" requires a vector source`)):V!=="vector"||d["source-layer"]?V==="raster-dem"&&K!=="hillshade"?l.push(new Y(y,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):K!=="line"||!d.paint||!d.paint["line-gradient"]||V==="geojson"&&z.lineMetrics||l.push(new Y(y,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Y(y,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new Y(y,d.source,`source "${d.source}" not found`))}else l.push(new Y(y,d,'missing required property "source"'));return l=l.concat(ol({key:y,value:d,valueSpec:T.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${y}.type`,value:d.type,valueSpec:T.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:d,objectKey:"type"}),filter:cc,layout:z=>ol({layer:d,key:z.key,value:z.value,style:z.style,styleSpec:z.styleSpec,validateSpec:z.validateSpec,objectElementValidators:{"*":V=>bt(Be({layerType:K},V))}}),paint:z=>ol({layer:d,key:z.key,value:z.value,style:z.style,styleSpec:z.styleSpec,validateSpec:z.validateSpec,objectElementValidators:{"*":V=>fu(Be({layerType:K},V))}})}})),l}function Rt(c){const l=c.value,d=c.key,y=hi(l);return y!=="string"?[new Y(d,l,`string expected, ${y} found`)]:[]}const dr={promoteId:function({key:c,value:l}){if(hi(l)==="string")return Rt({key:c,value:l});{const d=[];for(const y in l)d.push(...Rt({key:`${c}.${y}`,value:l[y]}));return d}}};function ei(c){const l=c.value,d=c.key,y=c.styleSpec,w=c.style,T=c.validateSpec;if(!l.type)return[new Y(d,l,'"type" is required')];const K=Zo(l.type);let D;switch(K){case"vector":case"raster":return D=ol({key:d,value:l,valueSpec:y[`source_${K.replace("-","_")}`],style:c.style,styleSpec:y,objectElementValidators:dr,validateSpec:T}),D;case"raster-dem":return D=function(z){var V;const ee=(V=z.sourceName)!==null&&V!==void 0?V:"",ce=z.value,me=z.styleSpec,xe=me.source_raster_dem,Oe=z.style;let Re=[];const Qe=hi(ce);if(ce===void 0)return Re;if(Qe!=="object")return Re.push(new Y("source_raster_dem",ce,`object expected, ${Qe} found`)),Re;const it=Zo(ce.encoding)==="custom",Mt=["redFactor","greenFactor","blueFactor","baseShift"],lt=z.value.encoding?`"${z.value.encoding}"`:"Default";for(const vt in ce)!it&&Mt.includes(vt)?Re.push(new Y(vt,ce[vt],`In "${ee}": "${vt}" is only valid when "encoding" is set to "custom". ${lt} encoding found`)):xe[vt]?Re=Re.concat(z.validateSpec({key:vt,value:ce[vt],valueSpec:xe[vt],validateSpec:z.validateSpec,style:Oe,styleSpec:me})):Re.push(new Y(vt,ce[vt],`unknown property "${vt}"`));return Re}({sourceName:d,value:l,style:c.style,styleSpec:y,validateSpec:T}),D;case"geojson":if(D=ol({key:d,value:l,valueSpec:y.source_geojson,style:w,styleSpec:y,validateSpec:T,objectElementValidators:dr}),l.cluster)for(const z in l.clusterProperties){const[V,ee]=l.clusterProperties[z],ce=typeof V=="string"?[V,["accumulated"],["get",z]]:V;D.push(...iA({key:`${d}.${z}.map`,value:ee,validateSpec:T,expressionContext:"cluster-map"})),D.push(...iA({key:`${d}.${z}.reduce`,value:ce,validateSpec:T,expressionContext:"cluster-reduce"}))}return D;case"video":return ol({key:d,value:l,valueSpec:y.source_video,style:w,validateSpec:T,styleSpec:y});case"image":return ol({key:d,value:l,valueSpec:y.source_image,style:w,validateSpec:T,styleSpec:y});case"canvas":return[new Y(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ql({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:w,validateSpec:T,styleSpec:y})}}function eo(c){const l=c.value,d=c.styleSpec,y=d.light,w=c.style;let T=[];const K=hi(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new Y("light",l,`object expected, ${K} found`)]),T;for(const D in l){const z=D.match(/^(.*)-transition$/);T=T.concat(z&&y[z[1]]&&y[z[1]].transition?c.validateSpec({key:D,value:l[D],valueSpec:d.transition,validateSpec:c.validateSpec,style:w,styleSpec:d}):y[D]?c.validateSpec({key:D,value:l[D],valueSpec:y[D],validateSpec:c.validateSpec,style:w,styleSpec:d}):[new Y(D,l[D],`unknown property "${D}"`)])}return T}function Xo(c){const l=c.value,d=c.styleSpec,y=d.sky,w=c.style,T=hi(l);if(l===void 0)return[];if(T!=="object")return[new Y("sky",l,`object expected, ${T} found`)];let K=[];for(const D in l)K=K.concat(y[D]?fs({key:D,value:l[D],valueSpec:y[D],style:w,styleSpec:d}):[new Y(D,l[D],`unknown property "${D}"`)]);return K}function co(c){const l=c.value,d=c.styleSpec,y=d.terrain,w=c.style;let T=[];const K=hi(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new Y("terrain",l,`object expected, ${K} found`)]),T;for(const D in l)T=T.concat(y[D]?c.validateSpec({key:D,value:l[D],valueSpec:y[D],validateSpec:c.validateSpec,style:w,styleSpec:d}):[new Y(D,l[D],`unknown property "${D}"`)]);return T}function hs(c){let l=[];const d=c.value,y=c.key;if(Array.isArray(d)){const w=[],T=[];for(const K in d)d[K].id&&w.includes(d[K].id)&&l.push(new Y(y,d,`all the sprites' ids must be unique, but ${d[K].id} is duplicated`)),w.push(d[K].id),d[K].url&&T.includes(d[K].url)&&l.push(new Y(y,d,`all the sprites' URLs must be unique, but ${d[K].url} is duplicated`)),T.push(d[K].url),l=l.concat(ol({key:`${y}[${K}]`,value:d[K],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return l}return Rt({key:y,value:d})}const qc={"*":()=>[],array:IA,boolean:function(c){const l=c.value,d=c.key,y=hi(l);return y!=="boolean"?[new Y(d,l,`boolean expected, ${y} found`)]:[]},number:yl,color:function(c){const l=c.key,d=c.value,y=hi(d);return y!=="string"?[new Y(l,d,`color expected, ${y} found`)]:_i.parse(String(d))?[]:[new Y(l,d,`color expected, "${d}" found`)]},constants:gl,enum:ql,filter:cc,function:bh,layer:an,object:ol,source:ei,light:eo,sky:Xo,terrain:co,string:Rt,formatted:function(c){return Rt(c).length===0?[]:iA(c)},resolvedImage:function(c){return Rt(c).length===0?[]:iA(c)},padding:function(c){const l=c.key,d=c.value;if(hi(d)==="array"){if(d.length<1||d.length>4)return[new Y(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const y={type:"number"};let w=[];for(let T=0;T<d.length;T++)w=w.concat(c.validateSpec({key:`${l}[${T}]`,value:d[T],validateSpec:c.validateSpec,valueSpec:y}));return w}return yl({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const l=c.key,d=c.value,y=hi(d),w=c.styleSpec;if(y!=="array"||d.length<1||d.length%2!=0)return[new Y(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let T=[];for(let K=0;K<d.length;K+=2)T=T.concat(ql({key:`${l}[${K}]`,value:d[K],valueSpec:w.layout_symbol["text-anchor"]})),T=T.concat(IA({key:`${l}[${K+1}]`,value:d[K+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:w}));return T},sprite:hs};function fs(c){const l=c.value,d=c.valueSpec,y=c.styleSpec;return c.validateSpec=fs,d.expression&&Fo(Zo(l))?bh(c):d.expression&&go(rA(l))?iA(c):d.type&&qc[d.type]?qc[d.type](c):ol(Be({},c,{valueSpec:d.type?y[d.type]:d}))}function Kd(c){const l=c.value,d=c.key,y=Rt(c);return y.length||(l.indexOf("{fontstack}")===-1&&y.push(new Y(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&y.push(new Y(d,l,'"glyphs" url must include a "{range}" token'))),y}function Os(c,l=pt){let d=[];return d=d.concat(fs({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,validateSpec:fs,objectElementValidators:{glyphs:Kd,"*":()=>[]}})),c.constants&&(d=d.concat(gl({key:"constants",value:c.constants,style:c,styleSpec:l,validateSpec:fs}))),pu(d)}function Jo(c){return function(l){return c({...l,validateSpec:fs})}}function pu(c){return[].concat(c).sort((l,d)=>l.line-d.line)}function Bs(c){return function(...l){return pu(c.apply(this,l))}}Os.source=Bs(Jo(ei)),Os.sprite=Bs(Jo(hs)),Os.glyphs=Bs(Jo(Kd)),Os.light=Bs(Jo(eo)),Os.sky=Bs(Jo(Xo)),Os.terrain=Bs(Jo(co)),Os.layer=Bs(Jo(an)),Os.filter=Bs(Jo(cc)),Os.paintProperty=Bs(Jo(fu)),Os.layoutProperty=Bs(Jo(bt));const Vi=Os,xh=Vi.light,wh=Vi.paintProperty,vl=Vi.layoutProperty;function TA(c,l){let d=!1;if(l&&l.length)for(const y of l)c.fire(new Ft(new Error(y.message))),d=!0;return d}class Ma{constructor(l,d,y){const w=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const K=new Int32Array(this.arrayBuffer);l=K[0],this.d=(d=K[1])+2*(y=K[2]);for(let z=0;z<this.d*this.d;z++){const V=K[3+z],ee=K[3+z+1];w.push(V===ee?null:K.subarray(V,ee))}const D=K[3+w.length+1];this.keys=K.subarray(K[3+w.length],D),this.bboxes=K.subarray(D),this.insert=this._insertReadonly}else{this.d=d+2*y;for(let K=0;K<this.d*this.d;K++)w.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=y,this.scale=d/l,this.uid=0;const T=y/d*l;this.min=-T,this.max=l+T}insert(l,d,y,w,T){this._forEachCell(d,y,w,T,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(y),this.bboxes.push(w),this.bboxes.push(T)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,y,w,T,K){this.cells[T].push(K)}query(l,d,y,w,T){const K=this.min,D=this.max;if(l<=K&&d<=K&&D<=y&&D<=w&&!T)return Array.prototype.slice.call(this.keys);{const z=[];return this._forEachCell(l,d,y,w,this._queryCell,z,{},T),z}}_queryCell(l,d,y,w,T,K,D,z){const V=this.cells[T];if(V!==null){const ee=this.keys,ce=this.bboxes;for(let me=0;me<V.length;me++){const xe=V[me];if(D[xe]===void 0){const Oe=4*xe;(z?z(ce[Oe+0],ce[Oe+1],ce[Oe+2],ce[Oe+3]):l<=ce[Oe+2]&&d<=ce[Oe+3]&&y>=ce[Oe+0]&&w>=ce[Oe+1])?(D[xe]=!0,K.push(ee[xe])):D[xe]=!1}}}}_forEachCell(l,d,y,w,T,K,D,z){const V=this._convertToCellCoord(l),ee=this._convertToCellCoord(d),ce=this._convertToCellCoord(y),me=this._convertToCellCoord(w);for(let xe=V;xe<=ce;xe++)for(let Oe=ee;Oe<=me;Oe++){const Re=this.d*Oe+xe;if((!z||z(this._convertFromCellCoord(xe),this._convertFromCellCoord(Oe),this._convertFromCellCoord(xe+1),this._convertFromCellCoord(Oe+1)))&&T.call(this,l,d,y,w,Re,K,D,z))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let y=0;for(let K=0;K<this.cells.length;K++)y+=this.cells[K].length;const w=new Int32Array(d+y+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let T=d;for(let K=0;K<l.length;K++){const D=l[K];w[3+K]=T,w.set(D,T),T+=D.length}return w[3+l.length]=T,w.set(this.keys,T),T+=this.keys.length,w[3+l.length+1]=T,w.set(this.bboxes,T),T+=this.bboxes.length,w.buffer}static serialize(l,d){const y=l.toArrayBuffer();return d&&d.push(y),{buffer:y}}static deserialize(l){return new Ma(l.buffer)}}const $s={};function zn(c,l,d={}){if($s[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),$s[c]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}zn("Object",Object),zn("TransferableGridIndex",Ma),zn("Color",_i),zn("Error",Error),zn("AJAXError",Me),zn("ResolvedImage",ge),zn("StylePropertyFunction",Yl),zn("StyleExpression",wo,{omit:["_evaluator"]}),zn("ZoomDependentExpression",Qs),zn("ZoomConstantExpression",Qc),zn("CompoundExpression",Ho,{omit:["_evaluate"]});for(const c in EA)EA[c]._classRegistryKey||zn(`Expression_${c}`,EA[c]);function Pl(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function oA(c,l){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error)return c;if(Pl(c)||nn(c))return l&&l.push(c),c;if(ArrayBuffer.isView(c)){const d=c;return l&&l.push(d.buffer),d}if(c instanceof ImageData)return l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const d=[];for(const y of c)d.push(oA(y,l));return d}if(typeof c=="object"){const d=c.constructor,y=d._classRegistryKey;if(!y)throw new Error(`can't serialize object of unregistered class ${d.name}`);if(!$s[y])throw new Error(`${y} is not registered.`);const w=d.serialize?d.serialize(c,l):{};if(d.serialize){if(l&&w===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const T in c){if(!c.hasOwnProperty(T)||$s[y].omit.indexOf(T)>=0)continue;const K=c[T];w[T]=$s[y].shallow.indexOf(T)>=0?K:oA(K,l)}c instanceof Error&&(w.message=c.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return y!=="Object"&&(w.$name=y),w}throw new Error("can't serialize object of type "+typeof c)}function dc(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||Pl(c)||nn(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(dc);if(typeof c=="object"){const l=c.$name||"Object";if(!$s[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=$s[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(c);const y=Object.create(d.prototype);for(const w of Object.keys(c)){if(w==="$name")continue;const T=c[w];y[w]=$s[l].shallow.indexOf(w)>=0?T:dc(T)}return y}throw new Error("can't deserialize object of type "+typeof c)}class mu{constructor(){this.first=!0}update(l,d){const y=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=y,!0))}}const Nn={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function hc(c){for(const l of c)if(Du(l.charCodeAt(0)))return!0;return!1}function KA(c){for(const l of c)if(!Tf(l.charCodeAt(0)))return!1;return!0}function Tf(c){return!(Nn.Arabic(c)||Nn["Arabic Supplement"](c)||Nn["Arabic Extended-A"](c)||Nn["Arabic Presentation Forms-A"](c)||Nn["Arabic Presentation Forms-B"](c))}function Du(c){return!(c!==746&&c!==747&&(c<4352||!(Nn["Bopomofo Extended"](c)||Nn.Bopomofo(c)||Nn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Nn["CJK Compatibility Ideographs"](c)||Nn["CJK Compatibility"](c)||Nn["CJK Radicals Supplement"](c)||Nn["CJK Strokes"](c)||!(!Nn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Nn["CJK Unified Ideographs Extension A"](c)||Nn["CJK Unified Ideographs"](c)||Nn["Enclosed CJK Letters and Months"](c)||Nn["Hangul Compatibility Jamo"](c)||Nn["Hangul Jamo Extended-A"](c)||Nn["Hangul Jamo Extended-B"](c)||Nn["Hangul Jamo"](c)||Nn["Hangul Syllables"](c)||Nn.Hiragana(c)||Nn["Ideographic Description Characters"](c)||Nn.Kanbun(c)||Nn["Kangxi Radicals"](c)||Nn["Katakana Phonetic Extensions"](c)||Nn.Katakana(c)&&c!==12540||!(!Nn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Nn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Nn["Unified Canadian Aboriginal Syllabics"](c)||Nn["Unified Canadian Aboriginal Syllabics Extended"](c)||Nn["Vertical Forms"](c)||Nn["Yijing Hexagram Symbols"](c)||Nn["Yi Syllables"](c)||Nn["Yi Radicals"](c))))}function gu(c){return!(Du(c)||function(l){return!!(Nn["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Nn["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Nn["Letterlike Symbols"](l)||Nn["Number Forms"](l)||Nn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Nn["Control Pictures"](l)&&l!==9251||Nn["Optical Character Recognition"](l)||Nn["Enclosed Alphanumerics"](l)||Nn["Geometric Shapes"](l)||Nn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Nn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Nn["CJK Symbols and Punctuation"](l)||Nn.Katakana(l)||Nn["Private Use Area"](l)||Nn["CJK Compatibility Forms"](l)||Nn["Small Form Variants"](l)||Nn["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}function PA(c){return c>=1424&&c<=2303||Nn["Arabic Presentation Forms-A"](c)||Nn["Arabic Presentation Forms-B"](c)}function Kf(c,l){return!(!l&&PA(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Nn.Khmer(c))}function fc(c){for(const l of c)if(PA(l.charCodeAt(0)))return!0;return!1}const Lu=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}setMethods(c){this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class yo{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new mu,this.transition={})}isSupportedScript(l){return function(d,y){for(const w of d)if(!Kf(w.charCodeAt(0),y))return!1;return!0}(l,Lu.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),y=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*d}}}class yu{constructor(l,d){this.property=l,this.value=d,this.expression=function(y,w){if(Fo(y))return new Yl(y,w);if(go(y)){const T=_h(y,w);if(T.result==="error")throw new Error(T.value.map(K=>`${K.key}: ${K.message}`).join(", "));return T.value}{let T=y;return w.type==="color"&&typeof y=="string"?T=_i.parse(y):w.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?w.type==="variableAnchorOffsetCollection"&&Array.isArray(y)&&(T=Ji.parse(y)):T=so.parse(y),{kind:"constant",evaluate:()=>T}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,y){return this.property.possiblyEvaluate(this,l,d,y)}}class Vc{constructor(l){this.property=l,this.value=new yu(l,void 0)}transitioned(l,d){return new Pf(this.property,this.value,d,se({},l.transition,this.transition),l.now)}untransitioned(){return new Pf(this.property,this.value,null,{},0)}}class Pp{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return et(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Vc(this._values[l].property)),this._values[l].value=new yu(this._values[l].property,d===null?void 0:et(d))}getTransition(l){return et(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Vc(this._values[l].property)),this._values[l].transition=et(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y);const w=this.getTransition(d);w!==void 0&&(l[`${d}-transition`]=w)}return l}transitioned(l,d){const y=new Pd(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].transitioned(l,d._values[w]);return y}untransitioned(){const l=new Pd(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class Pf{constructor(l,d,y,w,T){this.property=l,this.value=d,this.begin=T+w.delay||0,this.end=this.begin+w.duration||0,l.specification.transition&&(w.delay||w.duration)&&(this.prior=y)}possiblyEvaluate(l,d,y){const w=l.now||0,T=this.value.possiblyEvaluate(l,d,y),K=this.prior;if(K){if(w>this.end)return this.prior=null,T;if(this.value.isDataDriven())return this.prior=null,T;if(w<this.begin)return K.possiblyEvaluate(l,d,y);{const D=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(K.possiblyEvaluate(l,d,y),T,function(z){if(z<=0)return 0;if(z>=1)return 1;const V=z*z,ee=V*z;return 4*(z<.5?ee:3*(z-V)+ee-.75)}(D))}}return T}}class Pd{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,y){const w=new ea(this._properties);for(const T of Object.keys(this._values))w._values[T]=this._values[T].possiblyEvaluate(l,d,y);return w}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Mh{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return et(this._values[l].value)}setValue(l,d){this._values[l]=new yu(this._values[l].property,d===null?void 0:et(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y)}return l}possiblyEvaluate(l,d,y){const w=new ea(this._properties);for(const T of Object.keys(this._values))w._values[T]=this._values[T].possiblyEvaluate(l,d,y);return w}}class to{constructor(l,d,y){this.property=l,this.value=d,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,y,w){return this.property.evaluate(this.value,this.parameters,l,d,y,w)}}class ea{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class gr{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,y){const w=Yt[this.specification.type];return w?w(l,d,y):l}}class Er{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,y,w){return new to(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},y,w)}:l.expression,d)}interpolate(l,d,y){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new to(this,{kind:"constant",value:void 0},l.parameters);const w=Yt[this.specification.type];if(w){const T=w(l.value.value,d.value.value,y);return new to(this,{kind:"constant",value:T},l.parameters)}return l}evaluate(l,d,y,w,T,K){return l.kind==="constant"?l.value:l.evaluate(d,y,w,T,K)}}class FA extends Er{possiblyEvaluate(l,d,y,w){if(l.value===void 0)return new to(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,w),K=l.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,D=this._calculate(K,K,K,d);return new to(this,{kind:"constant",value:D},d)}if(l.expression.kind==="camera"){const T=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new to(this,{kind:"constant",value:T},d)}return new to(this,l.expression,d)}evaluate(l,d,y,w,T,K){if(l.kind==="source"){const D=l.evaluate(d,y,w,T,K);return this._calculate(D,D,D,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},y,w),l.evaluate({zoom:Math.floor(d.zoom)},y,w),l.evaluate({zoom:Math.floor(d.zoom)+1},y,w),d):l.value}_calculate(l,d,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class pc{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,w){if(l.value!==void 0){if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,w);return this._calculate(T,T,T,d)}return this._calculate(l.expression.evaluate(new yo(Math.floor(d.zoom-1),d)),l.expression.evaluate(new yo(Math.floor(d.zoom),d)),l.expression.evaluate(new yo(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class Hc{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,w){return!!l.expression.evaluate(d,null,{},y,w)}interpolate(){return!1}}class Qo{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const y=l[d];y.specification.overridable&&this.overridableProperties.push(d);const w=this.defaultPropertyValues[d]=new yu(y,void 0),T=this.defaultTransitionablePropertyValues[d]=new Vc(y);this.defaultTransitioningPropertyValues[d]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=w.possiblyEvaluate({})}}}zn("DataDrivenProperty",Er),zn("DataConstantProperty",gr),zn("CrossFadedDataDrivenProperty",FA),zn("CrossFadedProperty",pc),zn("ColorRampProperty",Hc);const aA="-transition";class va extends Dt{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new Mh(d.layout)),d.paint)){this._transitionablePaint=new Pp(d.paint);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ea(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,y={}){d!=null&&this._validate(vl,`layers.${this.id}.layout.${l}`,l,d,y)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(aA)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,y={}){if(d!=null&&this._validate(wh,`layers.${this.id}.paint.${l}`,l,d,y))return!1;if(l.endsWith(aA))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const w=this._transitionablePaint._values[l],T=w.property.specification["property-type"]==="cross-faded-data-driven",K=w.value.isDataDriven(),D=w.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const z=this._transitionablePaint._values[l].value;return z.isDataDriven()||K||T||this._handleOverridablePaintPropertyUpdate(l,D,z)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,y){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),Ne(l,(d,y)=>!(d===void 0||y==="layout"&&!Object.keys(d).length||y==="paint"&&!Object.keys(d).length))}_validate(l,d,y,w,T={}){return(!T||T.validate!==!1)&&TA(this,l.call(Vi,{key:d,layerType:this.type,objectKey:y,value:w,styleSpec:pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof to&&Gc(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const sA={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class _l{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Do{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Lo(c,l=1){let d=0,y=0;return{members:c.map(w=>{const T=sA[w.type].BYTES_PER_ELEMENT,K=d=Ff(d,Math.max(l,T)),D=w.components||1;return y=Math.max(y,T),d+=T*D,{name:w.name,type:w.type,components:D,offset:K}}),size:Ff(d,Math.max(y,l)),alignment:l}}function Ff(c,l){return Math.ceil(c/l)*l}class Uu extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const w=2*l;return this.int16[w+0]=d,this.int16[w+1]=y,l}}Uu.prototype.bytesPerElement=4,zn("StructArrayLayout2i4",Uu);class Ru extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.int16[T+0]=d,this.int16[T+1]=y,this.int16[T+2]=w,l}}Ru.prototype.bytesPerElement=6,zn("StructArrayLayout3i6",Ru);class lA extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,w)}emplace(l,d,y,w,T){const K=4*l;return this.int16[K+0]=d,this.int16[K+1]=y,this.int16[K+2]=w,this.int16[K+3]=T,l}}lA.prototype.bytesPerElement=8,zn("StructArrayLayout4i8",lA);class Df extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,y,w,T,K)}emplace(l,d,y,w,T,K,D){const z=6*l;return this.int16[z+0]=d,this.int16[z+1]=y,this.int16[z+2]=w,this.int16[z+3]=T,this.int16[z+4]=K,this.int16[z+5]=D,l}}Df.prototype.bytesPerElement=12,zn("StructArrayLayout2i4i12",Df);class Zc extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,y,w,T,K)}emplace(l,d,y,w,T,K,D){const z=4*l,V=8*l;return this.int16[z+0]=d,this.int16[z+1]=y,this.uint8[V+4]=w,this.uint8[V+5]=T,this.uint8[V+6]=K,this.uint8[V+7]=D,l}}Zc.prototype.bytesPerElement=8,zn("StructArrayLayout2i4ub8",Zc);class zu extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const w=2*l;return this.float32[w+0]=d,this.float32[w+1]=y,l}}zu.prototype.bytesPerElement=8,zn("StructArrayLayout2f8",zu);class Sh extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee){const ce=this.length;return this.resize(ce+1),this.emplace(ce,l,d,y,w,T,K,D,z,V,ee)}emplace(l,d,y,w,T,K,D,z,V,ee,ce){const me=10*l;return this.uint16[me+0]=d,this.uint16[me+1]=y,this.uint16[me+2]=w,this.uint16[me+3]=T,this.uint16[me+4]=K,this.uint16[me+5]=D,this.uint16[me+6]=z,this.uint16[me+7]=V,this.uint16[me+8]=ee,this.uint16[me+9]=ce,l}}Sh.prototype.bytesPerElement=20,zn("StructArrayLayout10ui20",Sh);class ke extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee,ce,me){const xe=this.length;return this.resize(xe+1),this.emplace(xe,l,d,y,w,T,K,D,z,V,ee,ce,me)}emplace(l,d,y,w,T,K,D,z,V,ee,ce,me,xe){const Oe=12*l;return this.int16[Oe+0]=d,this.int16[Oe+1]=y,this.int16[Oe+2]=w,this.int16[Oe+3]=T,this.uint16[Oe+4]=K,this.uint16[Oe+5]=D,this.uint16[Oe+6]=z,this.uint16[Oe+7]=V,this.int16[Oe+8]=ee,this.int16[Oe+9]=ce,this.int16[Oe+10]=me,this.int16[Oe+11]=xe,l}}ke.prototype.bytesPerElement=24,zn("StructArrayLayout4i4ui4i24",ke);class Cl extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.float32[T+0]=d,this.float32[T+1]=y,this.float32[T+2]=w,l}}Cl.prototype.bytesPerElement=12,zn("StructArrayLayout3f12",Cl);class Pa extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}Pa.prototype.bytesPerElement=4,zn("StructArrayLayout1ul4",Pa);class no extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V){const ee=this.length;return this.resize(ee+1),this.emplace(ee,l,d,y,w,T,K,D,z,V)}emplace(l,d,y,w,T,K,D,z,V,ee){const ce=10*l,me=5*l;return this.int16[ce+0]=d,this.int16[ce+1]=y,this.int16[ce+2]=w,this.int16[ce+3]=T,this.int16[ce+4]=K,this.int16[ce+5]=D,this.uint32[me+3]=z,this.uint16[ce+8]=V,this.uint16[ce+9]=ee,l}}no.prototype.bytesPerElement=20,zn("StructArrayLayout6i1ul2ui20",no);class jr extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,y,w,T,K)}emplace(l,d,y,w,T,K,D){const z=6*l;return this.int16[z+0]=d,this.int16[z+1]=y,this.int16[z+2]=w,this.int16[z+3]=T,this.int16[z+4]=K,this.int16[z+5]=D,l}}jr.prototype.bytesPerElement=12,zn("StructArrayLayout2i2i2i12",jr);class la extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T){const K=this.length;return this.resize(K+1),this.emplace(K,l,d,y,w,T)}emplace(l,d,y,w,T,K){const D=4*l,z=8*l;return this.float32[D+0]=d,this.float32[D+1]=y,this.float32[D+2]=w,this.int16[z+6]=T,this.int16[z+7]=K,l}}la.prototype.bytesPerElement=16,zn("StructArrayLayout2f1f2i16",la);class mc extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,w)}emplace(l,d,y,w,T){const K=12*l,D=3*l;return this.uint8[K+0]=d,this.uint8[K+1]=y,this.float32[D+1]=w,this.float32[D+2]=T,l}}mc.prototype.bytesPerElement=12,zn("StructArrayLayout2ub2f12",mc);class gc extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.uint16[T+0]=d,this.uint16[T+1]=y,this.uint16[T+2]=w,l}}gc.prototype.bytesPerElement=6,zn("StructArrayLayout3ui6",gc);class Ys extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re,Qe,it){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re,Qe,it)}emplace(l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re,Qe,it,Mt){const lt=24*l,vt=12*l,tn=48*l;return this.int16[lt+0]=d,this.int16[lt+1]=y,this.uint16[lt+2]=w,this.uint16[lt+3]=T,this.uint32[vt+2]=K,this.uint32[vt+3]=D,this.uint32[vt+4]=z,this.uint16[lt+10]=V,this.uint16[lt+11]=ee,this.uint16[lt+12]=ce,this.float32[vt+7]=me,this.float32[vt+8]=xe,this.uint8[tn+36]=Oe,this.uint8[tn+37]=Re,this.uint8[tn+38]=Qe,this.uint32[vt+10]=it,this.int16[lt+22]=Mt,l}}Ys.prototype.bytesPerElement=48,zn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ys);class Lf extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re,Qe,it,Mt,lt,vt,tn,An,Dn,vr,$n,Cn,fn,sr){const Ln=this.length;return this.resize(Ln+1),this.emplace(Ln,l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re,Qe,it,Mt,lt,vt,tn,An,Dn,vr,$n,Cn,fn,sr)}emplace(l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re,Qe,it,Mt,lt,vt,tn,An,Dn,vr,$n,Cn,fn,sr,Ln){const wn=32*l,Ir=16*l;return this.int16[wn+0]=d,this.int16[wn+1]=y,this.int16[wn+2]=w,this.int16[wn+3]=T,this.int16[wn+4]=K,this.int16[wn+5]=D,this.int16[wn+6]=z,this.int16[wn+7]=V,this.uint16[wn+8]=ee,this.uint16[wn+9]=ce,this.uint16[wn+10]=me,this.uint16[wn+11]=xe,this.uint16[wn+12]=Oe,this.uint16[wn+13]=Re,this.uint16[wn+14]=Qe,this.uint16[wn+15]=it,this.uint16[wn+16]=Mt,this.uint16[wn+17]=lt,this.uint16[wn+18]=vt,this.uint16[wn+19]=tn,this.uint16[wn+20]=An,this.uint16[wn+21]=Dn,this.uint16[wn+22]=vr,this.uint32[Ir+12]=$n,this.float32[Ir+13]=Cn,this.float32[Ir+14]=fn,this.uint16[wn+30]=sr,this.uint16[wn+31]=Ln,l}}Lf.prototype.bytesPerElement=64,zn("StructArrayLayout8i15ui1ul2f2ui64",Lf);class Fd extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}Fd.prototype.bytesPerElement=4,zn("StructArrayLayout1f4",Fd);class yc extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.uint16[6*l+0]=d,this.float32[T+1]=y,this.float32[T+2]=w,l}}yc.prototype.bytesPerElement=12,zn("StructArrayLayout1ui2f12",yc);class Dd extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=4*l;return this.uint32[2*l+0]=d,this.uint16[T+2]=y,this.uint16[T+3]=w,l}}Dd.prototype.bytesPerElement=8,zn("StructArrayLayout1ul2ui8",Dd);class Eh extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const w=2*l;return this.uint16[w+0]=d,this.uint16[w+1]=y,l}}Eh.prototype.bytesPerElement=4,zn("StructArrayLayout2ui4",Eh);class bl extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}bl.prototype.bytesPerElement=2,zn("StructArrayLayout1ui2",bl);class Uf extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,w)}emplace(l,d,y,w,T){const K=4*l;return this.float32[K+0]=d,this.float32[K+1]=y,this.float32[K+2]=w,this.float32[K+3]=T,l}}Uf.prototype.bytesPerElement=16,zn("StructArrayLayout4f16",Uf);class O extends _l{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new B(this.anchorPointX,this.anchorPointY)}}O.prototype.size=20;class u extends no{get(l){return new O(this,l)}}zn("CollisionBoxArray",u);class p extends _l{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}p.prototype.size=48;class _ extends Ys{get(l){return new p(this,l)}}zn("PlacedSymbolArray",_);class M extends _l{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}M.prototype.size=64;class I extends Lf{get(l){return new M(this,l)}}zn("SymbolInstanceArray",I);class R extends Fd{getoffsetX(l){return this.float32[1*l+0]}}zn("GlyphOffsetArray",R);class j extends Ru{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}zn("SymbolLineVertexArray",j);class G extends _l{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}G.prototype.size=12;class te extends yc{get(l){return new G(this,l)}}zn("TextAnchorOffsetArray",te);class ue extends _l{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ue.prototype.size=8;class fe extends Dd{get(l){return new ue(this,l)}}zn("FeatureIndexArray",fe);class Ee extends Uu{}class ze extends Uu{}class Fe extends Uu{}class Ge extends Df{}class je extends Zc{}class ct extends zu{}class Ot extends Sh{}class Ye extends ke{}class _t extends Cl{}class Gt extends Pa{}class It extends jr{}class en extends mc{}class cn extends gc{}class un extends Eh{}const vn=Lo([{name:"a_pos",components:2,type:"Int16"}],4),{members:er}=vn;class kr{constructor(l=[]){this.segments=l}prepareSegment(l,d,y,w){let T=this.segments[this.segments.length-1];return l>kr.MAX_VERTEX_ARRAY_LENGTH&&Ke(`Max vertices per segment is ${kr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!T||T.vertexLength+l>kr.MAX_VERTEX_ARRAY_LENGTH||T.sortKey!==w)&&(T={vertexOffset:d.length,primitiveOffset:y.length,vertexLength:0,primitiveLength:0},w!==void 0&&(T.sortKey=w),this.segments.push(T)),T}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,y,w){return new kr([{vertexOffset:l,primitiveOffset:d,vertexLength:y,primitiveLength:w,vaos:{},sortKey:0}])}}function In(c,l){return 256*(c=Ae(Math.floor(c),0,255))+Ae(Math.floor(l),0,255)}kr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zn("SegmentVector",kr);const Cr=Lo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Zn={exports:{}},zi={exports:{}};zi.exports=function(c,l){var d,y,w,T,K,D,z,V;for(y=c.length-(d=3&c.length),w=l,K=3432918353,D=461845907,V=0;V<y;)z=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24,++V,w=27492+(65535&(T=5*(65535&(w=(w^=z=(65535&(z=(z=(65535&z)*K+(((z>>>16)*K&65535)<<16)&4294967295)<<15|z>>>17))*D+(((z>>>16)*D&65535)<<16)&4294967295)<<13|w>>>19))+((5*(w>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(z=0,d){case 3:z^=(255&c.charCodeAt(V+2))<<16;case 2:z^=(255&c.charCodeAt(V+1))<<8;case 1:w^=z=(65535&(z=(z=(65535&(z^=255&c.charCodeAt(V)))*K+(((z>>>16)*K&65535)<<16)&4294967295)<<15|z>>>17))*D+(((z>>>16)*D&65535)<<16)&4294967295}return w^=c.length,w=2246822507*(65535&(w^=w>>>16))+((2246822507*(w>>>16)&65535)<<16)&4294967295,w=3266489909*(65535&(w^=w>>>13))+((3266489909*(w>>>16)&65535)<<16)&4294967295,(w^=w>>>16)>>>0};var bi=zi.exports,Hr={exports:{}};Hr.exports=function(c,l){for(var d,y=c.length,w=l^y,T=0;y>=4;)d=1540483477*(65535&(d=255&c.charCodeAt(T)|(255&c.charCodeAt(++T))<<8|(255&c.charCodeAt(++T))<<16|(255&c.charCodeAt(++T))<<24))+((1540483477*(d>>>16)&65535)<<16),w=1540483477*(65535&w)+((1540483477*(w>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),y-=4,++T;switch(y){case 3:w^=(255&c.charCodeAt(T+2))<<16;case 2:w^=(255&c.charCodeAt(T+1))<<8;case 1:w=1540483477*(65535&(w^=255&c.charCodeAt(T)))+((1540483477*(w>>>16)&65535)<<16)}return w=1540483477*(65535&(w^=w>>>13))+((1540483477*(w>>>16)&65535)<<16),(w^=w>>>15)>>>0};var gi=bi,$o=Hr.exports;Zn.exports=gi,Zn.exports.murmur3=gi,Zn.exports.murmur2=$o;var Fi=h(Zn.exports);class ks{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,y,w){this.ids.push(ps(l)),this.positions.push(d,y,w)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=ps(l);let y=0,w=this.ids.length-1;for(;y<w;){const K=y+w>>1;this.ids[K]>=d?w=K:y=K+1}const T=[];for(;this.ids[y]===d;)T.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return T}static serialize(l,d){const y=new Float64Array(l.ids),w=new Uint32Array(l.positions);return jo(y,w,0,y.length-1),d&&d.push(y.buffer,w.buffer),{ids:y,positions:w}}static deserialize(l){const d=new ks;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function ps(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Fi(String(c))}function jo(c,l,d,y){for(;d<y;){const w=c[d+y>>1];let T=d-1,K=y+1;for(;;){do T++;while(c[T]<w);do K--;while(c[K]>w);if(T>=K)break;Is(c,T,K),Is(l,3*T,3*K),Is(l,3*T+1,3*K+1),Is(l,3*T+2,3*K+2)}K-d<y-K?(jo(c,l,d,K),d=K+1):(jo(c,l,K+1,y),y=K)}}function Is(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}zn("FeaturePositionMap",ks);class _a{constructor(l,d){this.gl=l.gl,this.location=d}}class vo extends _a{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Fl extends _a{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class DA extends _a{constructor(l,d){super(l,d),this.current=_i.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Ts=new Float32Array(16);function vu(c){return[In(255*c.r,255*c.g),In(255*c.b,255*c.a)]}class Ca{constructor(l,d,y){this.value=l,this.uniformNames=d.map(w=>`u_${w}`),this.type=y}setUniform(l,d,y){l.set(y.constantOr(this.value))}getBinding(l,d,y){return this.type==="color"?new DA(l,d):new vo(l,d)}}class Bo{constructor(l,d){this.uniformNames=d.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,y,w){const T=w==="u_pattern_to"?this.patternTo:w==="u_pattern_from"?this.patternFrom:w==="u_pixel_ratio_to"?this.pixelRatioTo:w==="u_pixel_ratio_from"?this.pixelRatioFrom:null;T&&l.set(T)}getBinding(l,d,y){return y.substr(0,9)==="u_pattern"?new Fl(l,d):new vo(l,d)}}class Ei{constructor(l,d,y,w){this.expression=l,this.type=y,this.maxValue=0,this.paintVertexAttributes=d.map(T=>({name:`a_${T}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new w}populatePaintArray(l,d,y,w,T){const K=this.paintVertexArray.length,D=this.expression.evaluate(new yo(0),d,{},w,[],T);this.paintVertexArray.resize(l),this._setPaintValue(K,l,D)}updatePaintArray(l,d,y,w){const T=this.expression.evaluate({zoom:0},y,w);this._setPaintValue(l,d,T)}_setPaintValue(l,d,y){if(this.type==="color"){const w=vu(y);for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,w[0],w[1])}else{for(let w=l;w<d;w++)this.paintVertexArray.emplace(w,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ho{constructor(l,d,y,w,T,K){this.expression=l,this.uniformNames=d.map(D=>`u_${D}_t`),this.type=y,this.useIntegerZoom=w,this.zoom=T,this.maxValue=0,this.paintVertexAttributes=d.map(D=>({name:`a_${D}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new K}populatePaintArray(l,d,y,w,T){const K=this.expression.evaluate(new yo(this.zoom),d,{},w,[],T),D=this.expression.evaluate(new yo(this.zoom+1),d,{},w,[],T),z=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(z,l,K,D)}updatePaintArray(l,d,y,w){const T=this.expression.evaluate({zoom:this.zoom},y,w),K=this.expression.evaluate({zoom:this.zoom+1},y,w);this._setPaintValue(l,d,T,K)}_setPaintValue(l,d,y,w){if(this.type==="color"){const T=vu(y),K=vu(w);for(let D=l;D<d;D++)this.paintVertexArray.emplace(D,T[0],T[1],K[0],K[1])}else{for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,y,w);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(w))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const y=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,w=Ae(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);l.set(w)}getBinding(l,d,y){return new vo(l,d)}}class Mo{constructor(l,d,y,w,T,K){this.expression=l,this.type=d,this.useIntegerZoom=y,this.zoom=w,this.layerId=K,this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T}populatePaintArray(l,d,y){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(w,l,d.patterns&&d.patterns[this.layerId],y)}updatePaintArray(l,d,y,w,T){this._setPaintValues(l,d,y.patterns&&y.patterns[this.layerId],T)}_setPaintValues(l,d,y,w){if(!w||!y)return;const{min:T,mid:K,max:D}=y,z=w[T],V=w[K],ee=w[D];if(z&&V&&ee)for(let ce=l;ce<d;ce++)this.zoomInPaintVertexArray.emplace(ce,V.tl[0],V.tl[1],V.br[0],V.br[1],z.tl[0],z.tl[1],z.br[0],z.br[1],V.pixelRatio,z.pixelRatio),this.zoomOutPaintVertexArray.emplace(ce,V.tl[0],V.tl[1],V.br[0],V.br[1],ee.tl[0],ee.tl[1],ee.br[0],ee.br[1],V.pixelRatio,ee.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Cr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Cr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Fa{constructor(l,d,y){this.binders={},this._buffers=[];const w=[];for(const T in l.paint._values){if(!y(T))continue;const K=l.paint.get(T);if(!(K instanceof to&&Gc(K.property.specification)))continue;const D=ta(T,l.type),z=K.value,V=K.property.specification.type,ee=K.property.useIntegerZoom,ce=K.property.specification["property-type"],me=ce==="cross-faded"||ce==="cross-faded-data-driven";if(z.kind==="constant")this.binders[T]=me?new Bo(z.value,D):new Ca(z.value,D,V),w.push(`/u_${T}`);else if(z.kind==="source"||me){const xe=vc(T,V,"source");this.binders[T]=me?new Mo(z,V,ee,d,xe,l.id):new Ei(z,D,V,xe),w.push(`/a_${T}`)}else{const xe=vc(T,V,"composite");this.binders[T]=new ho(z,D,V,ee,d,xe),w.push(`/z_${T}`)}}this.cacheKey=w.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof Ei||d instanceof ho?d.maxValue:0}populatePaintArrays(l,d,y,w,T){for(const K in this.binders){const D=this.binders[K];(D instanceof Ei||D instanceof ho||D instanceof Mo)&&D.populatePaintArray(l,d,y,w,T)}}setConstantPatternPositions(l,d){for(const y in this.binders){const w=this.binders[y];w instanceof Bo&&w.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,y,w,T){let K=!1;for(const D in l){const z=d.getPositions(D);for(const V of z){const ee=y.feature(V.index);for(const ce in this.binders){const me=this.binders[ce];if((me instanceof Ei||me instanceof ho||me instanceof Mo)&&me.expression.isStateDependent===!0){const xe=w.paint.get(ce);me.expression=xe.value,me.updatePaintArray(V.start,V.end,ee,l[D],T),K=!0}}}}return K}defines(){const l=[];for(const d in this.binders){const y=this.binders[d];(y instanceof Ca||y instanceof Bo)&&l.push(...y.uniformNames.map(w=>`#define HAS_UNIFORM_${w}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof Ei||y instanceof ho)for(let w=0;w<y.paintVertexAttributes.length;w++)l.push(y.paintVertexAttributes[w].name);else if(y instanceof Mo)for(let w=0;w<Cr.members.length;w++)l.push(Cr.members[w].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof Ca||y instanceof Bo||y instanceof ho)for(const w of y.uniformNames)l.push(w)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const y=[];for(const w in this.binders){const T=this.binders[w];if(T instanceof Ca||T instanceof Bo||T instanceof ho){for(const K of T.uniformNames)if(d[K]){const D=T.getBinding(l,d[K],K);y.push({name:K,property:w,binding:D})}}}return y}setUniforms(l,d,y,w){for(const{name:T,property:K,binding:D}of d)this.binders[K].setUniform(D,w,y.get(K),T)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const y=this.binders[d];if(l&&y instanceof Mo){const w=l.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(y instanceof Ei||y instanceof ho)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(l){for(const d in this.binders){const y=this.binders[d];(y instanceof Ei||y instanceof ho||y instanceof Mo)&&y.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof Ei||d instanceof ho||d instanceof Mo)&&d.destroy()}}}class Ja{constructor(l,d,y=()=>!0){this.programConfigurations={};for(const w of l)this.programConfigurations[w.id]=new Fa(w,d,y);this.needsUpload=!1,this._featureMap=new ks,this._bufferOffset=0}populatePaintArrays(l,d,y,w,T,K){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(l,d,w,T,K);d.id!==void 0&&this._featureMap.add(d.id,y,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,y,w){for(const T of y)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(l,this._featureMap,d,T,w)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function ta(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function vc(c,l,d){const y={color:{source:zu,composite:Uf},number:{source:Fd,composite:zu}},w=function(T){return{"line-pattern":{source:Ot,composite:Ot},"fill-pattern":{source:Ot,composite:Ot},"fill-extrusion-pattern":{source:Ot,composite:Ot}}[T]}(c);return w&&w[d]||y[l][d]}zn("ConstantBinder",Ca),zn("CrossFadedConstantBinder",Bo),zn("SourceExpressionBinder",Ei),zn("CrossFadedCompositeBinder",Mo),zn("CompositeExpressionBinder",ho),zn("ProgramConfiguration",Fa,{omit:["_buffers"]}),zn("ProgramConfigurationSet",Ja);const ua=8192,LA=Math.pow(2,14)-1,Oh=-LA-1;function Vl(c){const l=ua/c.extent,d=c.loadGeometry();for(let y=0;y<d.length;y++){const w=d[y];for(let T=0;T<w.length;T++){const K=w[T],D=Math.round(K.x*l),z=Math.round(K.y*l);K.x=Ae(D,Oh,LA),K.y=Ae(z,Oh,LA),(D<K.x||D>K.x+1||z<K.y||z>K.y+1)&&Ke("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function UA(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?Vl(c):[]}}function qs(c,l,d,y,w){c.emplaceBack(2*l+(y+1)/2,2*d+(w+1)/2)}class Ld{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new ze,this.indexArray=new cn,this.segments=new kr,this.programConfigurations=new Ja(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){const w=this.layers[0],T=[];let K=null,D=!1;w.type==="circle"&&(K=w.layout.get("circle-sort-key"),D=!K.isConstant());for(const{feature:z,id:V,index:ee,sourceLayerIndex:ce}of l){const me=this.layers[0]._featureFilter.needGeometry,xe=UA(z,me);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),xe,y))continue;const Oe=D?K.evaluate(xe,{},y):void 0,Re={id:V,properties:z.properties,type:z.type,sourceLayerIndex:ce,index:ee,geometry:me?xe.geometry:Vl(z),patterns:{},sortKey:Oe};T.push(Re)}D&&T.sort((z,V)=>z.sortKey-V.sortKey);for(const z of T){const{geometry:V,index:ee,sourceLayerIndex:ce}=z,me=l[ee].feature;this.addFeature(z,V,ee,y),d.featureIndex.insert(me,V,ee,ce,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,er),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,y,w){for(const T of d)for(const K of T){const D=K.x,z=K.y;if(D<0||D>=ua||z<0||z>=ua)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),ee=V.vertexLength;qs(this.layoutVertexArray,D,z,-1,-1),qs(this.layoutVertexArray,D,z,1,-1),qs(this.layoutVertexArray,D,z,1,1),qs(this.layoutVertexArray,D,z,-1,1),this.indexArray.emplaceBack(ee,ee+1,ee+2),this.indexArray.emplaceBack(ee,ee+3,ee+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,{},w)}}function _c(c,l){for(let d=0;d<c.length;d++)if(Wu(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(Wu(c,l[d]))return!0;return!!Xc(c,l)}function Bh(c,l,d){return!!Wu(c,l)||!!Jc(l,c,d)}function ju(c,l){if(c.length===1)return kh(l,c[0]);for(let d=0;d<l.length;d++){const y=l[d];for(let w=0;w<y.length;w++)if(Wu(c,y[w]))return!0}for(let d=0;d<c.length;d++)if(kh(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(Xc(c,l[d]))return!0;return!1}function Rf(c,l,d){if(c.length>1){if(Xc(c,l))return!0;for(let y=0;y<l.length;y++)if(Jc(l[y],c,d))return!0}for(let y=0;y<c.length;y++)if(Jc(c[y],l,d))return!0;return!1}function Xc(c,l){if(c.length===0||l.length===0)return!1;for(let d=0;d<c.length-1;d++){const y=c[d],w=c[d+1];for(let T=0;T<l.length-1;T++)if(I1(y,w,l[T],l[T+1]))return!0}return!1}function I1(c,l,d,y){return rt(c,d,y)!==rt(l,d,y)&&rt(c,l,d)!==rt(c,l,y)}function Jc(c,l,d){const y=d*d;if(l.length===1)return c.distSqr(l[0])<y;for(let w=1;w<l.length;w++)if(ed(c,l[w-1],l[w])<y)return!0;return!1}function ed(c,l,d){const y=l.distSqr(d);if(y===0)return c.distSqr(l);const w=((c.x-l.x)*(d.x-l.x)+(c.y-l.y)*(d.y-l.y))/y;return c.distSqr(w<0?l:w>1?d:d.sub(l)._mult(w)._add(l))}function kh(c,l){let d,y,w,T=!1;for(let K=0;K<c.length;K++){d=c[K];for(let D=0,z=d.length-1;D<d.length;z=D++)y=d[D],w=d[z],y.y>l.y!=w.y>l.y&&l.x<(w.x-y.x)*(l.y-y.y)/(w.y-y.y)+y.x&&(T=!T)}return T}function Wu(c,l){let d=!1;for(let y=0,w=c.length-1;y<c.length;w=y++){const T=c[y],K=c[w];T.y>l.y!=K.y>l.y&&l.x<(K.x-T.x)*(l.y-T.y)/(K.y-T.y)+T.x&&(d=!d)}return d}function Xm(c,l,d){const y=d[0],w=d[2];if(c.x<y.x&&l.x<y.x||c.x>w.x&&l.x>w.x||c.y<y.y&&l.y<y.y||c.y>w.y&&l.y>w.y)return!1;const T=rt(c,l,d[0]);return T!==rt(c,l,d[1])||T!==rt(c,l,d[2])||T!==rt(c,l,d[3])}function Ih(c,l,d){const y=l.paint.get(c).value;return y.kind==="constant"?y.value:d.programConfigurations.get(l.id).getMaxValue(c)}function Th(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function Hl(c,l,d,y,w){if(!l[0]&&!l[1])return c;const T=B.convert(l)._mult(w);d==="viewport"&&T._rotate(-y);const K=[];for(let D=0;D<c.length;D++)K.push(c[D].sub(T));return K}let Ud,Rd;zn("CircleBucket",Ld,{omit:["layers"]});var T1={get paint(){return Rd=Rd||new Qo({"circle-radius":new Er(pt.paint_circle["circle-radius"]),"circle-color":new Er(pt.paint_circle["circle-color"]),"circle-blur":new Er(pt.paint_circle["circle-blur"]),"circle-opacity":new Er(pt.paint_circle["circle-opacity"]),"circle-translate":new gr(pt.paint_circle["circle-translate"]),"circle-translate-anchor":new gr(pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gr(pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gr(pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Er(pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Er(pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Er(pt.paint_circle["circle-stroke-opacity"])})},get layout(){return Ud=Ud||new Qo({"circle-sort-key":new Er(pt.layout_circle["circle-sort-key"])})}},al=1e-6,zd=typeof Float32Array<"u"?Float32Array:Array;function Jm(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function Fp(c,l,d){var y=l[0],w=l[1],T=l[2],K=l[3],D=l[4],z=l[5],V=l[6],ee=l[7],ce=l[8],me=l[9],xe=l[10],Oe=l[11],Re=l[12],Qe=l[13],it=l[14],Mt=l[15],lt=d[0],vt=d[1],tn=d[2],An=d[3];return c[0]=lt*y+vt*D+tn*ce+An*Re,c[1]=lt*w+vt*z+tn*me+An*Qe,c[2]=lt*T+vt*V+tn*xe+An*it,c[3]=lt*K+vt*ee+tn*Oe+An*Mt,c[4]=(lt=d[4])*y+(vt=d[5])*D+(tn=d[6])*ce+(An=d[7])*Re,c[5]=lt*w+vt*z+tn*me+An*Qe,c[6]=lt*T+vt*V+tn*xe+An*it,c[7]=lt*K+vt*ee+tn*Oe+An*Mt,c[8]=(lt=d[8])*y+(vt=d[9])*D+(tn=d[10])*ce+(An=d[11])*Re,c[9]=lt*w+vt*z+tn*me+An*Qe,c[10]=lt*T+vt*V+tn*xe+An*it,c[11]=lt*K+vt*ee+tn*Oe+An*Mt,c[12]=(lt=d[12])*y+(vt=d[13])*D+(tn=d[14])*ce+(An=d[15])*Re,c[13]=lt*w+vt*z+tn*me+An*Qe,c[14]=lt*T+vt*V+tn*xe+An*it,c[15]=lt*K+vt*ee+tn*Oe+An*Mt,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var ms,Dp=Fp;function Lp(c,l,d){var y=l[0],w=l[1],T=l[2],K=l[3];return c[0]=d[0]*y+d[4]*w+d[8]*T+d[12]*K,c[1]=d[1]*y+d[5]*w+d[9]*T+d[13]*K,c[2]=d[2]*y+d[6]*w+d[10]*T+d[14]*K,c[3]=d[3]*y+d[7]*w+d[11]*T+d[15]*K,c}ms=new zd(4),zd!=Float32Array&&(ms[0]=0,ms[1]=0,ms[2]=0,ms[3]=0);class e0 extends va{constructor(l){super(l,T1)}createBucket(l){return new Ld(l)}queryRadius(l){const d=l;return Ih("circle-radius",this,d)+Ih("circle-stroke-width",this,d)+Th(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,y,w,T,K,D,z){const V=Hl(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),K.angle,D),ee=this.paint.get("circle-radius").evaluate(d,y)+this.paint.get("circle-stroke-width").evaluate(d,y),ce=this.paint.get("circle-pitch-alignment")==="map",me=ce?V:function(Oe,Re){return Oe.map(Qe=>ji(Qe,Re))}(V,z),xe=ce?ee*D:ee;for(const Oe of w)for(const Re of Oe){const Qe=ce?Re:ji(Re,z);let it=xe;const Mt=Lp([],[Re.x,Re.y,0,1],z);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?it*=Mt[3]/K.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(it*=K.cameraToCenterDistance/Mt[3]),Bh(me,Qe,it))return!0}return!1}}function ji(c,l){const d=Lp([],[c.x,c.y,0,1],l);return new B(d[0]/d[3],d[1]/d[3])}class t0 extends Ld{}let n0;zn("HeatmapBucket",t0,{omit:["layers"]});var Kh={get paint(){return n0=n0||new Qo({"heatmap-radius":new Er(pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Er(pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gr(pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Hc(pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gr(pt.paint_heatmap["heatmap-opacity"])})}};function Up(c,{width:l,height:d},y,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==l*d*y)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${l*d*y}`)}else w=new Uint8Array(l*d*y);return c.width=l,c.height=d,c.data=w,c}function K1(c,{width:l,height:d},y){if(l===c.width&&d===c.height)return;const w=Up({},{width:l,height:d},y);r0(c,w,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,d)},y),c.width=l,c.height=d,c.data=w.data}function r0(c,l,d,y,w,T){if(w.width===0||w.height===0)return l;if(w.width>c.width||w.height>c.height||d.x>c.width-w.width||d.y>c.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>l.width||w.height>l.height||y.x>l.width-w.width||y.y>l.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const K=c.data,D=l.data;if(K===D)throw new Error("srcData equals dstData, so image is already copied");for(let z=0;z<w.height;z++){const V=((d.y+z)*c.width+d.x)*T,ee=((y.y+z)*l.width+y.x)*T;for(let ce=0;ce<w.width*T;ce++)D[ee+ce]=K[V+ce]}return l}class Sa{constructor(l,d){Up(this,l,1,d)}resize(l){K1(this,l,1)}clone(){return new Sa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,w,T){r0(l,d,y,w,T,1)}}class sl{constructor(l,d){Up(this,l,4,d)}resize(l){K1(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new sl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,w,T){r0(l,d,y,w,T,4)}}function td(c){const l={},d=c.resolution||256,y=c.clips?c.clips.length:1,w=c.image||new sl({width:d,height:y});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const T=(K,D,z)=>{l[c.evaluationKey]=z;const V=c.expression.evaluate(l);w.data[K+D+0]=Math.floor(255*V.r/V.a),w.data[K+D+1]=Math.floor(255*V.g/V.a),w.data[K+D+2]=Math.floor(255*V.b/V.a),w.data[K+D+3]=Math.floor(255*V.a)};if(c.clips)for(let K=0,D=0;K<y;++K,D+=4*d)for(let z=0,V=0;z<d;z++,V+=4){const ee=z/(d-1),{start:ce,end:me}=c.clips[K];T(D,V,ce*(1-ee)+me*ee)}else for(let K=0,D=0;K<d;K++,D+=4)T(0,D,K/(d-1));return w}zn("AlphaImage",Sa),zn("RGBAImage",sl);class jd extends va{createBucket(l){return new t0(l)}constructor(l){super(l,Kh),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=td({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let uA;var P1={get paint(){return uA=uA||new Qo({"hillshade-illumination-direction":new gr(pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new gr(pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gr(pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gr(pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gr(pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gr(pt.paint_hillshade["hillshade-accent-color"])})}};class _u extends va{constructor(l){super(l,P1)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Cu=Lo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Rp}=Cu;var zf={exports:{}};function nd(c,l,d){d=d||2;var y,w,T,K,D,z,V,ee=l&&l.length,ce=ee?l[0]*d:c.length,me=Ph(c,0,ce,d,!0),xe=[];if(!me||me.next===me.prev)return xe;if(ee&&(me=function(Re,Qe,it,Mt){var lt,vt,tn,An=[];for(lt=0,vt=Qe.length;lt<vt;lt++)(tn=Ph(Re,Qe[lt]*Mt,lt<vt-1?Qe[lt+1]*Mt:Re.length,Mt,!1))===tn.next&&(tn.steiner=!0),An.push(av(tn));for(An.sort(Cc),lt=0;lt<An.length;lt++)it=F1(An[lt],it);return it}(c,l,me,d)),c.length>80*d){y=T=c[0],w=K=c[1];for(var Oe=d;Oe<ce;Oe+=d)(D=c[Oe])<y&&(y=D),(z=c[Oe+1])<w&&(w=z),D>T&&(T=D),z>K&&(K=z);V=(V=Math.max(T-y,K-w))!==0?32767/V:0}return rd(me,xe,d,y,w,V,0),xe}function Ph(c,l,d,y,w){var T,K;if(w===Gu(c,l,d,y)>0)for(T=l;T<d;T+=y)K=o0(T,c[T],c[T+1],K);else for(T=d-y;T>=l;T-=y)K=o0(T,c[T],c[T+1],K);return K&&Dh(K,K.next)&&(Qf(K),K=K.next),K}function Zl(c,l){if(!c)return c;l||(l=c);var d,y=c;do if(d=!1,y.steiner||!Dh(y,y.next)&&Aa(y.prev,y,y.next)!==0)y=y.next;else{if(Qf(y),(y=l=y.prev)===y.next)break;d=!0}while(d||y!==l);return l}function rd(c,l,d,y,w,T,K){if(c){!K&&T&&function(ee,ce,me,xe){var Oe=ee;do Oe.z===0&&(Oe.z=od(Oe.x,Oe.y,ce,me,xe)),Oe.prevZ=Oe.prev,Oe.nextZ=Oe.next,Oe=Oe.next;while(Oe!==ee);Oe.prevZ.nextZ=null,Oe.prevZ=null,function(Re){var Qe,it,Mt,lt,vt,tn,An,Dn,vr=1;do{for(it=Re,Re=null,vt=null,tn=0;it;){for(tn++,Mt=it,An=0,Qe=0;Qe<vr&&(An++,Mt=Mt.nextZ);Qe++);for(Dn=vr;An>0||Dn>0&&Mt;)An!==0&&(Dn===0||!Mt||it.z<=Mt.z)?(lt=it,it=it.nextZ,An--):(lt=Mt,Mt=Mt.nextZ,Dn--),vt?vt.nextZ=lt:Re=lt,lt.prevZ=vt,vt=lt;it=Mt}vt.nextZ=null,vr*=2}while(tn>1)}(Oe)}(c,y,w,T);for(var D,z,V=c;c.prev!==c.next;)if(D=c.prev,z=c.next,T?Wf(c,y,w,T):jf(c))l.push(D.i/d|0),l.push(c.i/d|0),l.push(z.i/d|0),Qf(c),c=z.next,V=z.next;else if((c=z)===V){K?K===1?rd(c=id(Zl(c),l,d),l,d,y,w,T,2):K===2&&Nf(c,l,d,y,w,T):rd(Zl(c),l,d,y,w,T,1);break}}}function jf(c){var l=c.prev,d=c,y=c.next;if(Aa(l,d,y)>=0)return!1;for(var w=l.x,T=d.x,K=y.x,D=l.y,z=d.y,V=y.y,ee=w<T?w<K?w:K:T<K?T:K,ce=D<z?D<V?D:V:z<V?z:V,me=w>T?w>K?w:K:T>K?T:K,xe=D>z?D>V?D:V:z>V?z:V,Oe=y.next;Oe!==l;){if(Oe.x>=ee&&Oe.x<=me&&Oe.y>=ce&&Oe.y<=xe&&Fh(w,D,T,z,K,V,Oe.x,Oe.y)&&Aa(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.next}return!0}function Wf(c,l,d,y){var w=c.prev,T=c,K=c.next;if(Aa(w,T,K)>=0)return!1;for(var D=w.x,z=T.x,V=K.x,ee=w.y,ce=T.y,me=K.y,xe=D<z?D<V?D:V:z<V?z:V,Oe=ee<ce?ee<me?ee:me:ce<me?ce:me,Re=D>z?D>V?D:V:z>V?z:V,Qe=ee>ce?ee>me?ee:me:ce>me?ce:me,it=od(xe,Oe,l,d,y),Mt=od(Re,Qe,l,d,y),lt=c.prevZ,vt=c.nextZ;lt&&lt.z>=it&&vt&&vt.z<=Mt;){if(lt.x>=xe&&lt.x<=Re&&lt.y>=Oe&&lt.y<=Qe&&lt!==w&&lt!==K&&Fh(D,ee,z,ce,V,me,lt.x,lt.y)&&Aa(lt.prev,lt,lt.next)>=0||(lt=lt.prevZ,vt.x>=xe&&vt.x<=Re&&vt.y>=Oe&&vt.y<=Qe&&vt!==w&&vt!==K&&Fh(D,ee,z,ce,V,me,vt.x,vt.y)&&Aa(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;lt&&lt.z>=it;){if(lt.x>=xe&&lt.x<=Re&&lt.y>=Oe&&lt.y<=Qe&&lt!==w&&lt!==K&&Fh(D,ee,z,ce,V,me,lt.x,lt.y)&&Aa(lt.prev,lt,lt.next)>=0)return!1;lt=lt.prevZ}for(;vt&&vt.z<=Mt;){if(vt.x>=xe&&vt.x<=Re&&vt.y>=Oe&&vt.y<=Qe&&vt!==w&&vt!==K&&Fh(D,ee,z,ce,V,me,vt.x,vt.y)&&Aa(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function id(c,l,d){var y=c;do{var w=y.prev,T=y.next.next;!Dh(w,T)&&D1(w,y,y.next,T)&&Vs(w,T)&&Vs(T,w)&&(l.push(w.i/d|0),l.push(y.i/d|0),l.push(T.i/d|0),Qf(y),Qf(y.next),y=c=T),y=y.next}while(y!==c);return Zl(y)}function Nf(c,l,d,y,w,T){var K=c;do{for(var D=K.next.next;D!==K.prev;){if(K.i!==D.i&&Gf(K,D)){var z=Nu(K,D);return K=Zl(K,K.next),z=Zl(z,z.next),rd(K,l,d,y,w,T,0),void rd(z,l,d,y,w,T,0)}D=D.next}K=K.next}while(K!==c)}function Cc(c,l){return c.x-l.x}function F1(c,l){var d=function(w,T){var K,D=T,z=w.x,V=w.y,ee=-1/0;do{if(V<=D.y&&V>=D.next.y&&D.next.y!==D.y){var ce=D.x+(V-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(ce<=z&&ce>ee&&(ee=ce,K=D.x<D.next.x?D:D.next,ce===z))return K}D=D.next}while(D!==T);if(!K)return null;var me,xe=K,Oe=K.x,Re=K.y,Qe=1/0;D=K;do z>=D.x&&D.x>=Oe&&z!==D.x&&Fh(V<Re?z:ee,V,Oe,Re,V<Re?ee:z,V,D.x,D.y)&&(me=Math.abs(V-D.y)/(z-D.x),Vs(D,w)&&(me<Qe||me===Qe&&(D.x>K.x||D.x===K.x&&i0(K,D)))&&(K=D,Qe=me)),D=D.next;while(D!==xe);return K}(c,l);if(!d)return l;var y=Nu(d,c);return Zl(y,y.next),Zl(d,d.next)}function i0(c,l){return Aa(c.prev,c,l.prev)<0&&Aa(l.next,c,c.next)<0}function od(c,l,d,y,w){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-d)*w|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-y)*w|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function av(c){var l=c,d=c;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==c);return d}function Fh(c,l,d,y,w,T,K,D){return(w-K)*(l-D)>=(c-K)*(T-D)&&(c-K)*(y-D)>=(d-K)*(l-D)&&(d-K)*(T-D)>=(w-K)*(y-D)}function Gf(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(d,y){var w=d;do{if(w.i!==d.i&&w.next.i!==d.i&&w.i!==y.i&&w.next.i!==y.i&&D1(w,w.next,d,y))return!0;w=w.next}while(w!==d);return!1}(c,l)&&(Vs(c,l)&&Vs(l,c)&&function(d,y){var w=d,T=!1,K=(d.x+y.x)/2,D=(d.y+y.y)/2;do w.y>D!=w.next.y>D&&w.next.y!==w.y&&K<(w.next.x-w.x)*(D-w.y)/(w.next.y-w.y)+w.x&&(T=!T),w=w.next;while(w!==d);return T}(c,l)&&(Aa(c.prev,c,l.prev)||Aa(c,l.prev,l))||Dh(c,l)&&Aa(c.prev,c,c.next)>0&&Aa(l.prev,l,l.next)>0)}function Aa(c,l,d){return(l.y-c.y)*(d.x-l.x)-(l.x-c.x)*(d.y-l.y)}function Dh(c,l){return c.x===l.x&&c.y===l.y}function D1(c,l,d,y){var w=Lh(Aa(c,l,d)),T=Lh(Aa(c,l,y)),K=Lh(Aa(d,y,c)),D=Lh(Aa(d,y,l));return w!==T&&K!==D||!(w!==0||!Wd(c,d,l))||!(T!==0||!Wd(c,y,l))||!(K!==0||!Wd(d,c,y))||!(D!==0||!Wd(d,l,y))}function Wd(c,l,d){return l.x<=Math.max(c.x,d.x)&&l.x>=Math.min(c.x,d.x)&&l.y<=Math.max(c.y,d.y)&&l.y>=Math.min(c.y,d.y)}function Lh(c){return c>0?1:c<0?-1:0}function Vs(c,l){return Aa(c.prev,c,c.next)<0?Aa(c,l,c.next)>=0&&Aa(c,c.prev,l)>=0:Aa(c,l,c.prev)<0||Aa(c,c.next,l)<0}function Nu(c,l){var d=new ad(c.i,c.x,c.y),y=new ad(l.i,l.x,l.y),w=c.next,T=l.prev;return c.next=l,l.prev=c,d.next=w,w.prev=d,y.next=d,d.prev=y,T.next=y,y.prev=T,y}function o0(c,l,d,y){var w=new ad(c,l,d);return y?(w.next=y.next,w.prev=y,y.next.prev=w,y.next=w):(w.prev=w,w.next=w),w}function Qf(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function ad(c,l,d){this.i=c,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Gu(c,l,d,y){for(var w=0,T=l,K=d-y;T<d;T+=y)w+=(c[K]-c[T])*(c[T+1]+c[K+1]),K=T;return w}zf.exports=nd,zf.exports.default=nd,nd.deviation=function(c,l,d,y){var w=l&&l.length,T=Math.abs(Gu(c,0,w?l[0]*d:c.length,d));if(w)for(var K=0,D=l.length;K<D;K++)T-=Math.abs(Gu(c,l[K]*d,K<D-1?l[K+1]*d:c.length,d));var z=0;for(K=0;K<y.length;K+=3){var V=y[K]*d,ee=y[K+1]*d,ce=y[K+2]*d;z+=Math.abs((c[V]-c[ce])*(c[ee+1]-c[V+1])-(c[V]-c[ee])*(c[ce+1]-c[V+1]))}return T===0&&z===0?0:Math.abs((z-T)/T)},nd.flatten=function(c){for(var l=c[0][0].length,d={vertices:[],holes:[],dimensions:l},y=0,w=0;w<c.length;w++){for(var T=0;T<c[w].length;T++)for(var K=0;K<l;K++)d.vertices.push(c[w][T][K]);w>0&&d.holes.push(y+=c[w-1].length)}return d};var Nd=h(zf.exports);function L1(c,l,d,y,w){a0(c,l,d||0,y||c.length-1,w||Rh)}function a0(c,l,d,y,w){for(;y>d;){if(y-d>600){var T=y-d+1,K=l-d+1,D=Math.log(T),z=.5*Math.exp(2*D/3),V=.5*Math.sqrt(D*z*(T-z)/T)*(K-T/2<0?-1:1);a0(c,l,Math.max(d,Math.floor(l-K*z/T+V)),Math.min(y,Math.floor(l+(T-K)*z/T+V)),w)}var ee=c[l],ce=d,me=y;for(Uh(c,d,l),w(c[y],ee)>0&&Uh(c,d,y);ce<me;){for(Uh(c,ce,me),ce++,me--;w(c[ce],ee)<0;)ce++;for(;w(c[me],ee)>0;)me--}w(c[d],ee)===0?Uh(c,d,me):Uh(c,++me,y),me<=l&&(d=me+1),l<=me&&(y=me-1)}}function Uh(c,l,d){var y=c[l];c[l]=c[d],c[d]=y}function Rh(c,l){return c<l?-1:c>l?1:0}function Gd(c,l){const d=c.length;if(d<=1)return[c];const y=[];let w,T;for(let K=0;K<d;K++){const D=_e(c[K]);D!==0&&(c[K].area=Math.abs(D),T===void 0&&(T=D<0),T===D<0?(w&&y.push(w),w=[c[K]]):w.push(c[K]))}if(w&&y.push(w),l>1)for(let K=0;K<y.length;K++)y[K].length<=l||(L1(y[K],l,1,y[K].length-1,sv),y[K]=y[K].slice(0,l));return y}function sv(c,l){return l.area-c.area}function $f(c,l,d){const y=d.patternDependencies;let w=!1;for(const T of l){const K=T.paint.get(`${c}-pattern`);K.isConstant()||(w=!0);const D=K.constantOr(null);D&&(w=!0,y[D.to]=!0,y[D.from]=!0)}return w}function zp(c,l,d,y,w){const T=w.patternDependencies;for(const K of l){const D=K.paint.get(`${c}-pattern`).value;if(D.kind!=="constant"){let z=D.evaluate({zoom:y-1},d,{},w.availableImages),V=D.evaluate({zoom:y},d,{},w.availableImages),ee=D.evaluate({zoom:y+1},d,{},w.availableImages);z=z&&z.name?z.name:z,V=V&&V.name?V.name:V,ee=ee&&ee.name?ee.name:ee,T[z]=!0,T[V]=!0,T[ee]=!0,d.patterns[K.id]={min:z,mid:V,max:ee}}}return d}class zh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Fe,this.indexArray=new cn,this.indexArray2=new un,this.programConfigurations=new Ja(l.layers,l.zoom),this.segments=new kr,this.segments2=new kr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=$f("fill",this.layers,d);const w=this.layers[0].layout.get("fill-sort-key"),T=!w.isConstant(),K=[];for(const{feature:D,id:z,index:V,sourceLayerIndex:ee}of l){const ce=this.layers[0]._featureFilter.needGeometry,me=UA(D,ce);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),me,y))continue;const xe=T?w.evaluate(me,{},y,d.availableImages):void 0,Oe={id:z,properties:D.properties,type:D.type,sourceLayerIndex:ee,index:V,geometry:ce?me.geometry:Vl(D),patterns:{},sortKey:xe};K.push(Oe)}T&&K.sort((D,z)=>D.sortKey-z.sortKey);for(const D of K){const{geometry:z,index:V,sourceLayerIndex:ee}=D;if(this.hasPattern){const ce=zp("fill",this.layers,D,this.zoom,d);this.patternFeatures.push(ce)}else this.addFeature(D,z,V,y,{});d.featureIndex.insert(l[V].feature,z,V,ee,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Rp),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,y,w,T){for(const K of Gd(d,500)){let D=0;for(const xe of K)D+=xe.length;const z=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray),V=z.vertexLength,ee=[],ce=[];for(const xe of K){if(xe.length===0)continue;xe!==K[0]&&ce.push(ee.length/2);const Oe=this.segments2.prepareSegment(xe.length,this.layoutVertexArray,this.indexArray2),Re=Oe.vertexLength;this.layoutVertexArray.emplaceBack(xe[0].x,xe[0].y),this.indexArray2.emplaceBack(Re+xe.length-1,Re),ee.push(xe[0].x),ee.push(xe[0].y);for(let Qe=1;Qe<xe.length;Qe++)this.layoutVertexArray.emplaceBack(xe[Qe].x,xe[Qe].y),this.indexArray2.emplaceBack(Re+Qe-1,Re+Qe),ee.push(xe[Qe].x),ee.push(xe[Qe].y);Oe.vertexLength+=xe.length,Oe.primitiveLength+=xe.length}const me=Nd(ee,ce);for(let xe=0;xe<me.length;xe+=3)this.indexArray.emplaceBack(V+me[xe],V+me[xe+1],V+me[xe+2]);z.vertexLength+=D,z.primitiveLength+=me.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,w)}}let jp,Qd;zn("FillBucket",zh,{omit:["layers","patternFeatures"]});var Wp={get paint(){return Qd=Qd||new Qo({"fill-antialias":new gr(pt.paint_fill["fill-antialias"]),"fill-opacity":new Er(pt.paint_fill["fill-opacity"]),"fill-color":new Er(pt.paint_fill["fill-color"]),"fill-outline-color":new Er(pt.paint_fill["fill-outline-color"]),"fill-translate":new gr(pt.paint_fill["fill-translate"]),"fill-translate-anchor":new gr(pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new FA(pt.paint_fill["fill-pattern"])})},get layout(){return jp=jp||new Qo({"fill-sort-key":new Er(pt.layout_fill["fill-sort-key"])})}};class Np extends va{constructor(l){super(l,Wp)}recalculate(l,d){super.recalculate(l,d);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new zh(l)}queryRadius(){return Th(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,y,w,T,K,D){return ju(Hl(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),K.angle,D),w)}isTileClipped(){return!0}}const U1=Lo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),$d=Lo([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Yf}=U1;var Qu={},s0=g,R1=Yd;function Yd(c,l,d,y,w){this.properties={},this.extent=d,this.type=0,this._pbf=c,this._geometry=-1,this._keys=y,this._values=w,c.readFields(fo,this,l)}function fo(c,l,d){c==1?l.id=d.readVarint():c==2?function(y,w){for(var T=y.readVarint()+y.pos;y.pos<T;){var K=w._keys[y.readVarint()],D=w._values[y.readVarint()];w.properties[K]=D}}(d,l):c==3?l.type=d.readVarint():c==4&&(l._geometry=d.pos)}function z1(c){for(var l,d,y=0,w=0,T=c.length,K=T-1;w<T;K=w++)y+=((d=c[K]).x-(l=c[w]).x)*(l.y+d.y);return y}Yd.types=["Unknown","Point","LineString","Polygon"],Yd.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,d=c.readVarint()+c.pos,y=1,w=0,T=0,K=0,D=[];c.pos<d;){if(w<=0){var z=c.readVarint();y=7&z,w=z>>3}if(w--,y===1||y===2)T+=c.readSVarint(),K+=c.readSVarint(),y===1&&(l&&D.push(l),l=[]),l.push(new s0(T,K));else{if(y!==7)throw new Error("unknown command "+y);l&&l.push(l[0].clone())}}return l&&D.push(l),D},Yd.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,d=1,y=0,w=0,T=0,K=1/0,D=-1/0,z=1/0,V=-1/0;c.pos<l;){if(y<=0){var ee=c.readVarint();d=7&ee,y=ee>>3}if(y--,d===1||d===2)(w+=c.readSVarint())<K&&(K=w),w>D&&(D=w),(T+=c.readSVarint())<z&&(z=T),T>V&&(V=T);else if(d!==7)throw new Error("unknown command "+d)}return[K,z,D,V]},Yd.prototype.toGeoJSON=function(c,l,d){var y,w,T=this.extent*Math.pow(2,d),K=this.extent*c,D=this.extent*l,z=this.loadGeometry(),V=Yd.types[this.type];function ee(xe){for(var Oe=0;Oe<xe.length;Oe++){var Re=xe[Oe];xe[Oe]=[360*(Re.x+K)/T-180,360/Math.PI*Math.atan(Math.exp((180-360*(Re.y+D)/T)*Math.PI/180))-90]}}switch(this.type){case 1:var ce=[];for(y=0;y<z.length;y++)ce[y]=z[y][0];ee(z=ce);break;case 2:for(y=0;y<z.length;y++)ee(z[y]);break;case 3:for(z=function(xe){var Oe=xe.length;if(Oe<=1)return[xe];for(var Re,Qe,it=[],Mt=0;Mt<Oe;Mt++){var lt=z1(xe[Mt]);lt!==0&&(Qe===void 0&&(Qe=lt<0),Qe===lt<0?(Re&&it.push(Re),Re=[xe[Mt]]):Re.push(xe[Mt]))}return Re&&it.push(Re),it}(z),y=0;y<z.length;y++)for(w=0;w<z[y].length;w++)ee(z[y][w])}z.length===1?z=z[0]:V="Multi"+V;var me={type:"Feature",geometry:{type:V,coordinates:z},properties:this.properties};return"id"in this&&(me.id=this.id),me};var Gp=R1,jh=bu;function bu(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(Qp,this,l),this.length=this._features.length}function Qp(c,l,d){c===15?l.version=d.readVarint():c===1?l.name=d.readString():c===5?l.extent=d.readVarint():c===2?l._features.push(d.pos):c===3?l._keys.push(d.readString()):c===4&&l._values.push(function(y){for(var w=null,T=y.readVarint()+y.pos;y.pos<T;){var K=y.readVarint()>>3;w=K===1?y.readString():K===2?y.readFloat():K===3?y.readDouble():K===4?y.readVarint64():K===5?y.readVarint():K===6?y.readSVarint():K===7?y.readBoolean():null}return w}(d))}bu.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new Gp(this._pbf,l,this.extent,this._keys,this._values)};var l0=jh;function RA(c,l,d){if(c===3){var y=new l0(d,d.readVarint()+d.pos);y.length&&(l[y.name]=y)}}Qu.VectorTile=function(c,l){this.layers=c.readFields(RA,{},l)},Qu.VectorTileFeature=R1,Qu.VectorTileLayer=jh;const $p=Qu.VectorTileFeature.types,Wh=Math.pow(2,13);function bc(c,l,d,y,w,T,K,D){c.emplaceBack(l,d,2*Math.floor(y*Wh)+K,w*Wh*2,T*Wh*2,Math.round(D))}class qd{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ge,this.centroidVertexArray=new Ee,this.indexArray=new cn,this.programConfigurations=new Ja(l.layers,l.zoom),this.segments=new kr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.features=[],this.hasPattern=$f("fill-extrusion",this.layers,d);for(const{feature:w,id:T,index:K,sourceLayerIndex:D}of l){const z=this.layers[0]._featureFilter.needGeometry,V=UA(w,z);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),V,y))continue;const ee={id:T,sourceLayerIndex:D,index:K,geometry:z?V.geometry:Vl(w),properties:w.properties,type:w.type,patterns:{}};this.hasPattern?this.features.push(zp("fill-extrusion",this.layers,ee,this.zoom,d)):this.addFeature(ee,ee.geometry,K,y,{}),d.featureIndex.insert(w,ee.geometry,K,D,this.index,!0)}}addFeatures(l,d,y){for(const w of this.features){const{geometry:T}=w;this.addFeature(w,T,w.index,d,y)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Yf),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,$d.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,y,w,T){const K={x:0,y:0,vertexCount:0};for(const D of Gd(d,500)){let z=0;for(const Oe of D)z+=Oe.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Oe of D){if(Oe.length===0||Qr(Oe))continue;let Re=0;for(let Qe=0;Qe<Oe.length;Qe++){const it=Oe[Qe];if(Qe>=1){const Mt=Oe[Qe-1];if(!Nh(it,Mt)){V.vertexLength+4>kr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const lt=it.sub(Mt)._perp()._unit(),vt=Mt.dist(it);Re+vt>32768&&(Re=0),bc(this.layoutVertexArray,it.x,it.y,lt.x,lt.y,0,0,Re),bc(this.layoutVertexArray,it.x,it.y,lt.x,lt.y,0,1,Re),K.x+=2*it.x,K.y+=2*it.y,K.vertexCount+=2,Re+=vt,bc(this.layoutVertexArray,Mt.x,Mt.y,lt.x,lt.y,0,0,Re),bc(this.layoutVertexArray,Mt.x,Mt.y,lt.x,lt.y,0,1,Re),K.x+=2*Mt.x,K.y+=2*Mt.y,K.vertexCount+=2;const tn=V.vertexLength;this.indexArray.emplaceBack(tn,tn+2,tn+1),this.indexArray.emplaceBack(tn+1,tn+2,tn+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+z>kr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(z,this.layoutVertexArray,this.indexArray)),$p[l.type]!=="Polygon")continue;const ee=[],ce=[],me=V.vertexLength;for(const Oe of D)if(Oe.length!==0){Oe!==D[0]&&ce.push(ee.length/2);for(let Re=0;Re<Oe.length;Re++){const Qe=Oe[Re];bc(this.layoutVertexArray,Qe.x,Qe.y,0,0,1,1,0),K.x+=Qe.x,K.y+=Qe.y,K.vertexCount+=1,ee.push(Qe.x),ee.push(Qe.y)}}const xe=Nd(ee,ce);for(let Oe=0;Oe<xe.length;Oe+=3)this.indexArray.emplaceBack(me+xe[Oe],me+xe[Oe+2],me+xe[Oe+1]);V.primitiveLength+=xe.length/3,V.vertexLength+=z}for(let D=0;D<K.vertexCount;D++)this.centroidVertexArray.emplaceBack(Math.floor(K.x/K.vertexCount),Math.floor(K.y/K.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,w)}}function Nh(c,l){return c.x===l.x&&(c.x<0||c.x>ua)||c.y===l.y&&(c.y<0||c.y>ua)}function Qr(c){return c.every(l=>l.x<0)||c.every(l=>l.x>ua)||c.every(l=>l.y<0)||c.every(l=>l.y>ua)}let Gh;zn("FillExtrusionBucket",qd,{omit:["layers","features"]});var _o={get paint(){return Gh=Gh||new Qo({"fill-extrusion-opacity":new gr(pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Er(pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gr(pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gr(pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new FA(pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Er(pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Er(pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gr(pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class sd extends va{constructor(l){super(l,_o)}createBucket(l){return new qd(l)}queryRadius(){return Th(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,y,w,T,K,D,z){const V=Hl(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),K.angle,D),ee=this.paint.get("fill-extrusion-height").evaluate(d,y),ce=this.paint.get("fill-extrusion-base").evaluate(d,y),me=function(Oe,Re,Qe,it){const Mt=[];for(const lt of Oe){const vt=[lt.x,lt.y,0,1];Lp(vt,vt,Re),Mt.push(new B(vt[0]/vt[3],vt[1]/vt[3]))}return Mt}(V,z),xe=function(Oe,Re,Qe,it){const Mt=[],lt=[],vt=it[8]*Re,tn=it[9]*Re,An=it[10]*Re,Dn=it[11]*Re,vr=it[8]*Qe,$n=it[9]*Qe,Cn=it[10]*Qe,fn=it[11]*Qe;for(const sr of Oe){const Ln=[],wn=[];for(const Ir of sr){const br=Ir.x,Oi=Ir.y,ra=it[0]*br+it[4]*Oi+it[12],ia=it[1]*br+it[5]*Oi+it[13],Oa=it[2]*br+it[6]*Oi+it[14],Xl=it[3]*br+it[7]*Oi+it[15],Jl=Oa+An,rs=Xl+Dn,vs=ra+vr,Wo=ia+$n,Ls=Oa+Cn,eu=Xl+fn,Us=new B((ra+vt)/rs,(ia+tn)/rs);Us.z=Jl/rs,Ln.push(Us);const Rs=new B(vs/eu,Wo/eu);Rs.z=Ls/eu,wn.push(Rs)}Mt.push(Ln),lt.push(wn)}return[Mt,lt]}(w,ce,ee,z);return function(Oe,Re,Qe){let it=1/0;ju(Qe,Re)&&(it=xc(Qe,Re[0]));for(let Mt=0;Mt<Re.length;Mt++){const lt=Re[Mt],vt=Oe[Mt];for(let tn=0;tn<lt.length-1;tn++){const An=lt[tn],Dn=[An,lt[tn+1],vt[tn+1],vt[tn],An];_c(Qe,Dn)&&(it=Math.min(it,xc(Qe,Dn)))}}return it!==1/0&&it}(xe[0],xe[1],me)}}function qf(c,l){return c.x*l.x+c.y*l.y}function xc(c,l){if(c.length===1){let d=0;const y=l[d++];let w;for(;!w||y.equals(w);)if(w=l[d++],!w)return 1/0;for(;d<l.length;d++){const T=l[d],K=c[0],D=w.sub(y),z=T.sub(y),V=K.sub(y),ee=qf(D,D),ce=qf(D,z),me=qf(z,z),xe=qf(V,D),Oe=qf(V,z),Re=ee*me-ce*ce,Qe=(me*xe-ce*Oe)/Re,it=(ee*Oe-ce*xe)/Re,Mt=y.z*(1-Qe-it)+w.z*Qe+T.z*it;if(isFinite(Mt))return Mt}return 1/0}{let d=1/0;for(const y of l)d=Math.min(d,y.z);return d}}const j1=Lo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Ks}=j1,lv=Lo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Da}=lv,W1=Qu.VectorTileFeature.types,uv=Math.cos(Math.PI/180*37.5),u0=Math.pow(2,14)/.5;class Qh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new je,this.layoutVertexArray2=new ct,this.indexArray=new cn,this.programConfigurations=new Ja(l.layers,l.zoom),this.segments=new kr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=$f("line",this.layers,d);const w=this.layers[0].layout.get("line-sort-key"),T=!w.isConstant(),K=[];for(const{feature:D,id:z,index:V,sourceLayerIndex:ee}of l){const ce=this.layers[0]._featureFilter.needGeometry,me=UA(D,ce);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),me,y))continue;const xe=T?w.evaluate(me,{},y):void 0,Oe={id:z,properties:D.properties,type:D.type,sourceLayerIndex:ee,index:V,geometry:ce?me.geometry:Vl(D),patterns:{},sortKey:xe};K.push(Oe)}T&&K.sort((D,z)=>D.sortKey-z.sortKey);for(const D of K){const{geometry:z,index:V,sourceLayerIndex:ee}=D;if(this.hasPattern){const ce=zp("line",this.layers,D,this.zoom,d);this.patternFeatures.push(ce)}else this.addFeature(D,z,V,y,{});d.featureIndex.insert(l[V].feature,z,V,ee,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Da)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Ks),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,y,w,T){const K=this.layers[0].layout,D=K.get("line-join").evaluate(l,{}),z=K.get("line-cap"),V=K.get("line-miter-limit"),ee=K.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const ce of d)this.addLine(ce,l,D,z,V,ee);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,w)}addLine(l,d,y,w,T,K){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let it=0;it<l.length-1;it++)this.totalDistance+=l[it].dist(l[it+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const D=W1[d.type]==="Polygon";let z=l.length;for(;z>=2&&l[z-1].equals(l[z-2]);)z--;let V=0;for(;V<z-1&&l[V].equals(l[V+1]);)V++;if(z<(D?3:2))return;y==="bevel"&&(T=1.05);const ee=this.overscaling<=16?15*ua/(512*this.overscaling):0,ce=this.segments.prepareSegment(10*z,this.layoutVertexArray,this.indexArray);let me,xe,Oe,Re,Qe;this.e1=this.e2=-1,D&&(me=l[z-2],Qe=l[V].sub(me)._unit()._perp());for(let it=V;it<z;it++){if(Oe=it===z-1?D?l[V+1]:void 0:l[it+1],Oe&&l[it].equals(Oe))continue;Qe&&(Re=Qe),me&&(xe=me),me=l[it],Qe=Oe?Oe.sub(me)._unit()._perp():Re,Re=Re||Qe;let Mt=Re.add(Qe);Mt.x===0&&Mt.y===0||Mt._unit();const lt=Re.x*Qe.x+Re.y*Qe.y,vt=Mt.x*Qe.x+Mt.y*Qe.y,tn=vt!==0?1/vt:1/0,An=2*Math.sqrt(2-2*vt),Dn=vt<uv&&xe&&Oe,vr=Re.x*Qe.y-Re.y*Qe.x>0;if(Dn&&it>V){const fn=me.dist(xe);if(fn>2*ee){const sr=me.sub(me.sub(xe)._mult(ee/fn)._round());this.updateDistance(xe,sr),this.addCurrentVertex(sr,Re,0,0,ce),xe=sr}}const $n=xe&&Oe;let Cn=$n?y:D?"butt":w;if($n&&Cn==="round"&&(tn<K?Cn="miter":tn<=2&&(Cn="fakeround")),Cn==="miter"&&tn>T&&(Cn="bevel"),Cn==="bevel"&&(tn>2&&(Cn="flipbevel"),tn<T&&(Cn="miter")),xe&&this.updateDistance(xe,me),Cn==="miter")Mt._mult(tn),this.addCurrentVertex(me,Mt,0,0,ce);else if(Cn==="flipbevel"){if(tn>100)Mt=Qe.mult(-1);else{const fn=tn*Re.add(Qe).mag()/Re.sub(Qe).mag();Mt._perp()._mult(fn*(vr?-1:1))}this.addCurrentVertex(me,Mt,0,0,ce),this.addCurrentVertex(me,Mt.mult(-1),0,0,ce)}else if(Cn==="bevel"||Cn==="fakeround"){const fn=-Math.sqrt(tn*tn-1),sr=vr?fn:0,Ln=vr?0:fn;if(xe&&this.addCurrentVertex(me,Re,sr,Ln,ce),Cn==="fakeround"){const wn=Math.round(180*An/Math.PI/20);for(let Ir=1;Ir<wn;Ir++){let br=Ir/wn;if(br!==.5){const ra=br-.5;br+=br*ra*(br-1)*((1.0904+lt*(lt*(3.55645-1.43519*lt)-3.2452))*ra*ra+(.848013+lt*(.215638*lt-1.06021)))}const Oi=Qe.sub(Re)._mult(br)._add(Re)._unit()._mult(vr?-1:1);this.addHalfVertex(me,Oi.x,Oi.y,!1,vr,0,ce)}}Oe&&this.addCurrentVertex(me,Qe,-sr,-Ln,ce)}else if(Cn==="butt")this.addCurrentVertex(me,Mt,0,0,ce);else if(Cn==="square"){const fn=xe?1:-1;this.addCurrentVertex(me,Mt,fn,fn,ce)}else Cn==="round"&&(xe&&(this.addCurrentVertex(me,Re,0,0,ce),this.addCurrentVertex(me,Re,1,1,ce,!0)),Oe&&(this.addCurrentVertex(me,Qe,-1,-1,ce,!0),this.addCurrentVertex(me,Qe,0,0,ce)));if(Dn&&it<z-1){const fn=me.dist(Oe);if(fn>2*ee){const sr=me.add(Oe.sub(me)._mult(ee/fn)._round());this.updateDistance(me,sr),this.addCurrentVertex(sr,Qe,0,0,ce),me=sr}}}}addCurrentVertex(l,d,y,w,T,K=!1){const D=d.y*w-d.x,z=-d.y-d.x*w;this.addHalfVertex(l,d.x+d.y*y,d.y-d.x*y,K,!1,y,T),this.addHalfVertex(l,D,z,K,!0,-w,T),this.distance>u0/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,y,w,T,K))}addHalfVertex({x:l,y:d},y,w,T,K,D,z){const V=.5*(this.lineClips?this.scaledDistance*(u0-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(T?1:0),(d<<1)+(K?1:0),Math.round(63*y)+128,Math.round(63*w)+128,1+(D===0?0:D<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ee=z.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ee),z.primitiveLength++),K?this.e2=ee:this.e1=ee}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let A,f;zn("LineBucket",Qh,{omit:["layers","patternFeatures"]});var x={get paint(){return f=f||new Qo({"line-opacity":new Er(pt.paint_line["line-opacity"]),"line-color":new Er(pt.paint_line["line-color"]),"line-translate":new gr(pt.paint_line["line-translate"]),"line-translate-anchor":new gr(pt.paint_line["line-translate-anchor"]),"line-width":new Er(pt.paint_line["line-width"]),"line-gap-width":new Er(pt.paint_line["line-gap-width"]),"line-offset":new Er(pt.paint_line["line-offset"]),"line-blur":new Er(pt.paint_line["line-blur"]),"line-dasharray":new pc(pt.paint_line["line-dasharray"]),"line-pattern":new FA(pt.paint_line["line-pattern"]),"line-gradient":new Hc(pt.paint_line["line-gradient"])})},get layout(){return A=A||new Qo({"line-cap":new gr(pt.layout_line["line-cap"]),"line-join":new Er(pt.layout_line["line-join"]),"line-miter-limit":new gr(pt.layout_line["line-miter-limit"]),"line-round-limit":new gr(pt.layout_line["line-round-limit"]),"line-sort-key":new Er(pt.layout_line["line-sort-key"])})}};class b extends Er{possiblyEvaluate(l,d){return d=new yo(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,y,w){return d=se({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,y,w)}}let E;class L extends va{constructor(l){super(l,x),this.gradientVersion=0,E||(E=new b(x.paint.properties["line-width"].specification),E.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof cu,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=E.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new Qh(l)}queryRadius(l){const d=l,y=$(Ih("line-width",this,d),Ih("line-gap-width",this,d)),w=Ih("line-offset",this,d);return y/2+Math.abs(w)+Th(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,y,w,T,K,D){const z=Hl(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),K.angle,D),V=D/2*$(this.paint.get("line-width").evaluate(d,y),this.paint.get("line-gap-width").evaluate(d,y)),ee=this.paint.get("line-offset").evaluate(d,y);return ee&&(w=function(ce,me){const xe=[];for(let Oe=0;Oe<ce.length;Oe++){const Re=ce[Oe],Qe=[];for(let it=0;it<Re.length;it++){const Mt=Re[it-1],lt=Re[it],vt=Re[it+1],tn=it===0?new B(0,0):lt.sub(Mt)._unit()._perp(),An=it===Re.length-1?new B(0,0):vt.sub(lt)._unit()._perp(),Dn=tn._add(An)._unit(),vr=Dn.x*An.x+Dn.y*An.y;vr!==0&&Dn._mult(1/vr),Qe.push(Dn._mult(me)._add(lt))}xe.push(Qe)}return xe}(w,ee*D)),function(ce,me,xe){for(let Oe=0;Oe<me.length;Oe++){const Re=me[Oe];if(ce.length>=3){for(let Qe=0;Qe<Re.length;Qe++)if(Wu(ce,Re[Qe]))return!0}if(Rf(ce,Re,xe))return!0}return!1}(z,w,V)}isTileClipped(){return!0}}function $(c,l){return l>0?l+2*c:c}const J=Lo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),le=Lo([{name:"a_projected_pos",components:3,type:"Float32"}],4);Lo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const pe=Lo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Lo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const We=Lo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),qe=Lo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function wt(c,l,d){return c.sections.forEach(y=>{y.text=function(w,T,K){const D=T.layout.get("text-transform").evaluate(K,{});return D==="uppercase"?w=w.toLocaleUpperCase():D==="lowercase"&&(w=w.toLocaleLowerCase()),Lu.applyArabicShaping&&(w=Lu.applyArabicShaping(w)),w}(y.text,l,d)}),c}Lo([{name:"triangle",components:3,type:"Uint16"}]),Lo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Lo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Lo([{type:"Float32",name:"offsetX"}]),Lo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Lo([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const gt={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Lt=24,dn=_n,Bn=function(c,l,d,y,w){var T,K,D=8*w-y-1,z=(1<<D)-1,V=z>>1,ee=-7,ce=d?w-1:0,me=d?-1:1,xe=c[l+ce];for(ce+=me,T=xe&(1<<-ee)-1,xe>>=-ee,ee+=D;ee>0;T=256*T+c[l+ce],ce+=me,ee-=8);for(K=T&(1<<-ee)-1,T>>=-ee,ee+=y;ee>0;K=256*K+c[l+ce],ce+=me,ee-=8);if(T===0)T=1-V;else{if(T===z)return K?NaN:1/0*(xe?-1:1);K+=Math.pow(2,y),T-=V}return(xe?-1:1)*K*Math.pow(2,T-y)},Gn=function(c,l,d,y,w,T){var K,D,z,V=8*T-w-1,ee=(1<<V)-1,ce=ee>>1,me=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,xe=y?0:T-1,Oe=y?1:-1,Re=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(D=isNaN(l)?1:0,K=ee):(K=Math.floor(Math.log(l)/Math.LN2),l*(z=Math.pow(2,-K))<1&&(K--,z*=2),(l+=K+ce>=1?me/z:me*Math.pow(2,1-ce))*z>=2&&(K++,z/=2),K+ce>=ee?(D=0,K=ee):K+ce>=1?(D=(l*z-1)*Math.pow(2,w),K+=ce):(D=l*Math.pow(2,ce-1)*Math.pow(2,w),K=0));w>=8;c[d+xe]=255&D,xe+=Oe,D/=256,w-=8);for(K=K<<w|D,V+=w;V>0;c[d+xe]=255&K,xe+=Oe,K/=256,V-=8);c[d+xe-Oe]|=128*Re};function _n(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}_n.Varint=0,_n.Fixed64=1,_n.Bytes=2,_n.Fixed32=5;var Fn=4294967296,ar=1/Fn,Or=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function yr(c){return c.type===_n.Bytes?c.readVarint()+c.pos:c.pos+1}function ii(c,l,d){return d?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function ko(c,l,d){var y=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(y);for(var w=d.pos-1;w>=c;w--)d.buf[w+y]=d.buf[w]}function La(c,l){for(var d=0;d<c.length;d++)l.writeVarint(c[d])}function ca(c,l){for(var d=0;d<c.length;d++)l.writeSVarint(c[d])}function Ea(c,l){for(var d=0;d<c.length;d++)l.writeFloat(c[d])}function es(c,l){for(var d=0;d<c.length;d++)l.writeDouble(c[d])}function ts(c,l){for(var d=0;d<c.length;d++)l.writeBoolean(c[d])}function xl(c,l){for(var d=0;d<c.length;d++)l.writeFixed32(c[d])}function Hs(c,l){for(var d=0;d<c.length;d++)l.writeSFixed32(c[d])}function gs(c,l){for(var d=0;d<c.length;d++)l.writeFixed64(c[d])}function ns(c,l){for(var d=0;d<c.length;d++)l.writeSFixed64(c[d])}function na(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function ys(c,l,d){c[d]=l,c[d+1]=l>>>8,c[d+2]=l>>>16,c[d+3]=l>>>24}function Vd(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}_n.prototype={destroy:function(){this.buf=null},readFields:function(c,l,d){for(d=d||this.length;this.pos<d;){var y=this.readVarint(),w=y>>3,T=this.pos;this.type=7&y,c(w,l,this),this.pos===T&&this.skip(y)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=na(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=Vd(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=na(this.buf,this.pos)+na(this.buf,this.pos+4)*Fn;return this.pos+=8,c},readSFixed64:function(){var c=na(this.buf,this.pos)+Vd(this.buf,this.pos+4)*Fn;return this.pos+=8,c},readFloat:function(){var c=Bn(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=Bn(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,d,y=this.buf;return l=127&(d=y[this.pos++]),d<128?l:(l|=(127&(d=y[this.pos++]))<<7,d<128?l:(l|=(127&(d=y[this.pos++]))<<14,d<128?l:(l|=(127&(d=y[this.pos++]))<<21,d<128?l:function(w,T,K){var D,z,V=K.buf;if(D=(112&(z=V[K.pos++]))>>4,z<128||(D|=(127&(z=V[K.pos++]))<<3,z<128)||(D|=(127&(z=V[K.pos++]))<<10,z<128)||(D|=(127&(z=V[K.pos++]))<<17,z<128)||(D|=(127&(z=V[K.pos++]))<<24,z<128)||(D|=(1&(z=V[K.pos++]))<<31,z<128))return ii(w,D,T);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=y[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&Or?function(d,y,w){return Or.decode(d.subarray(y,w))}(this.buf,l,c):function(d,y,w){for(var T="",K=y;K<w;){var D,z,V,ee=d[K],ce=null,me=ee>239?4:ee>223?3:ee>191?2:1;if(K+me>w)break;me===1?ee<128&&(ce=ee):me===2?(192&(D=d[K+1]))==128&&(ce=(31&ee)<<6|63&D)<=127&&(ce=null):me===3?(z=d[K+2],(192&(D=d[K+1]))==128&&(192&z)==128&&((ce=(15&ee)<<12|(63&D)<<6|63&z)<=2047||ce>=55296&&ce<=57343)&&(ce=null)):me===4&&(z=d[K+2],V=d[K+3],(192&(D=d[K+1]))==128&&(192&z)==128&&(192&V)==128&&((ce=(15&ee)<<18|(63&D)<<12|(63&z)<<6|63&V)<=65535||ce>=1114112)&&(ce=null)),ce===null?(ce=65533,me=1):ce>65535&&(ce-=65536,T+=String.fromCharCode(ce>>>10&1023|55296),ce=56320|1023&ce),T+=String.fromCharCode(ce),K+=me}return T}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==_n.Bytes)return c.push(this.readVarint(l));var d=yr(this);for(c=c||[];this.pos<d;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==_n.Bytes)return c.push(this.readSVarint());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==_n.Bytes)return c.push(this.readBoolean());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==_n.Bytes)return c.push(this.readFloat());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==_n.Bytes)return c.push(this.readDouble());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==_n.Bytes)return c.push(this.readFixed32());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==_n.Bytes)return c.push(this.readSFixed32());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==_n.Bytes)return c.push(this.readFixed64());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==_n.Bytes)return c.push(this.readSFixed64());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===_n.Varint)for(;this.buf[this.pos++]>127;);else if(l===_n.Bytes)this.pos=this.readVarint()+this.pos;else if(l===_n.Fixed32)this.pos+=4;else{if(l!==_n.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),ys(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),ys(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),ys(this.buf,-1&c,this.pos),ys(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),ys(this.buf,-1&c,this.pos),ys(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,d){var y,w;if(l>=0?(y=l%4294967296|0,w=l/4294967296|0):(w=~(-l/4294967296),4294967295^(y=~(-l%4294967296))?y=y+1|0:(y=0,w=w+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(T,K,D){D.buf[D.pos++]=127&T|128,T>>>=7,D.buf[D.pos++]=127&T|128,T>>>=7,D.buf[D.pos++]=127&T|128,T>>>=7,D.buf[D.pos++]=127&T|128,D.buf[D.pos]=127&(T>>>=7)}(y,0,d),function(T,K){var D=(7&T)<<4;K.buf[K.pos++]|=D|((T>>>=3)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T)))))}(w,d)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(y,w,T){for(var K,D,z=0;z<w.length;z++){if((K=w.charCodeAt(z))>55295&&K<57344){if(!D){K>56319||z+1===w.length?(y[T++]=239,y[T++]=191,y[T++]=189):D=K;continue}if(K<56320){y[T++]=239,y[T++]=191,y[T++]=189,D=K;continue}K=D-55296<<10|K-56320|65536,D=null}else D&&(y[T++]=239,y[T++]=191,y[T++]=189,D=null);K<128?y[T++]=K:(K<2048?y[T++]=K>>6|192:(K<65536?y[T++]=K>>12|224:(y[T++]=K>>18|240,y[T++]=K>>12&63|128),y[T++]=K>>6&63|128),y[T++]=63&K|128)}return T}(this.buf,c,this.pos);var d=this.pos-l;d>=128&&ko(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(c){this.realloc(4),Gn(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),Gn(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=c[d]},writeRawMessage:function(c,l){this.pos++;var d=this.pos;c(l,this);var y=this.pos-d;y>=128&&ko(d,y,this),this.pos=d-1,this.writeVarint(y),this.pos+=y},writeMessage:function(c,l,d){this.writeTag(c,_n.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,La,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,ca,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,ts,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,Ea,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,es,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,xl,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,Hs,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,gs,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,ns,l)},writeBytesField:function(c,l){this.writeTag(c,_n.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,_n.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,_n.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,_n.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,_n.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,_n.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,_n.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,_n.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,_n.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,_n.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};var zA=h(dn);const Ps=3;function jA(c,l,d){c===1&&d.readMessage(Fs,l)}function Fs(c,l,d){if(c===3){const{id:y,bitmap:w,width:T,height:K,left:D,top:z,advance:V}=d.readMessage(A0,{});l.push({id:y,bitmap:new Sa({width:T+2*Ps,height:K+2*Ps},w),metrics:{width:T,height:K,left:D,top:z,advance:V}})}}function A0(c,l,d){c===1?l.id=d.readVarint():c===2?l.bitmap=d.readBytes():c===3?l.width=d.readVarint():c===4?l.height=d.readVarint():c===5?l.left=d.readSVarint():c===6?l.top=d.readSVarint():c===7&&(l.advance=d.readVarint())}const AA=Ps;function wc(c){let l=0,d=0;for(const K of c)l+=K.w*K.h,d=Math.max(d,K.w);c.sort((K,D)=>D.h-K.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let w=0,T=0;for(const K of c)for(let D=y.length-1;D>=0;D--){const z=y[D];if(!(K.w>z.w||K.h>z.h)){if(K.x=z.x,K.y=z.y,T=Math.max(T,K.y+K.h),w=Math.max(w,K.x+K.w),K.w===z.w&&K.h===z.h){const V=y.pop();D<y.length&&(y[D]=V)}else K.h===z.h?(z.x+=K.w,z.w-=K.w):K.w===z.w?(z.y+=K.h,z.h-=K.h):(y.push({x:z.x+K.w,y:z.y,w:z.w-K.w,h:K.h}),z.y+=K.h,z.h-=K.h);break}}return{w,h:T,fill:l/(w*T)||0}}const Ua=1;class Zs{constructor(l,{pixelRatio:d,version:y,stretchX:w,stretchY:T,content:K}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=w,this.stretchY=T,this.content=K,this.version=y}get tl(){return[this.paddedRect.x+Ua,this.paddedRect.y+Ua]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ua,this.paddedRect.y+this.paddedRect.h-Ua]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ua)/this.pixelRatio,(this.paddedRect.h-2*Ua)/this.pixelRatio]}}class Hd{constructor(l,d){const y={},w={};this.haveRenderCallbacks=[];const T=[];this.addImages(l,y,T),this.addImages(d,w,T);const{w:K,h:D}=wc(T),z=new sl({width:K||1,height:D||1});for(const V in l){const ee=l[V],ce=y[V].paddedRect;sl.copy(ee.data,z,{x:0,y:0},{x:ce.x+Ua,y:ce.y+Ua},ee.data)}for(const V in d){const ee=d[V],ce=w[V].paddedRect,me=ce.x+Ua,xe=ce.y+Ua,Oe=ee.data.width,Re=ee.data.height;sl.copy(ee.data,z,{x:0,y:0},{x:me,y:xe},ee.data),sl.copy(ee.data,z,{x:0,y:Re-1},{x:me,y:xe-1},{width:Oe,height:1}),sl.copy(ee.data,z,{x:0,y:0},{x:me,y:xe+Re},{width:Oe,height:1}),sl.copy(ee.data,z,{x:Oe-1,y:0},{x:me-1,y:xe},{width:1,height:Re}),sl.copy(ee.data,z,{x:0,y:0},{x:me+Oe,y:xe},{width:1,height:Re})}this.image=z,this.iconPositions=y,this.patternPositions=w}addImages(l,d,y){for(const w in l){const T=l[w],K={x:0,y:0,w:T.data.width+2*Ua,h:T.data.height+2*Ua};y.push(K),d[w]=new Zs(K,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in l.updatedImages)this.patchUpdatedImage(this.iconPositions[y],l.getImage(y),d),this.patchUpdatedImage(this.patternPositions[y],l.getImage(y),d)}patchUpdatedImage(l,d,y){if(!l||!d||l.version===d.version)return;l.version=d.version;const[w,T]=l.tl;y.update(d.data,void 0,{x:w,y:T})}}var WA;zn("ImagePosition",Zs),zn("ImageAtlas",Hd),s.ah=void 0,(WA=s.ah||(s.ah={}))[WA.none=0]="none",WA[WA.horizontal=1]="horizontal",WA[WA.vertical=2]="vertical",WA[WA.horizontalOnly=3]="horizontalOnly";const Yp=-17;class c0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const y=new c0;return y.scale=l||1,y.fontStack=d,y}static forImage(l){const d=new c0;return d.imageName=l,d}}class qp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const y=new qp;for(let w=0;w<l.sections.length;w++){const T=l.sections[w];T.image?y.addImageSection(T):y.addTextSection(T,d)}return y}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let y=0;y<l.length;y++){const w=l.charCodeAt(y+1)||null,T=l.charCodeAt(y-1)||null;d+=w&&gu(w)&&!gt[l[y+1]]||T&&gu(T)&&!gt[l[y-1]]||!gt[l[y]]?l[y]:gt[l[y]]}return d}(this.text)}trim(){let l=0;for(let y=0;y<this.text.length&&G1[this.text.charCodeAt(y)];y++)l++;let d=this.text.length;for(let y=this.text.length-1;y>=0&&y>=l&&G1[this.text.charCodeAt(y)];y--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const y=new qp;return y.text=this.text.substring(l,d),y.sectionIndex=this.sectionIndex.slice(l,d),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(c0.forText(l.scale,l.fontStack||d));const y=this.sections.length-1;for(let w=0;w<l.text.length;++w)this.sectionIndex.push(y)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void Ke("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(c0.forImage(d)),this.sectionIndex.push(this.sections.length-1)):Ke("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function N1(c,l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re){const Qe=qp.fromFeature(c,w);let it;ce===s.ah.vertical&&Qe.verticalizePunctuation();const{processBidirectionalText:Mt,processStyledBidirectionalText:lt}=Lu;if(Mt&&Qe.sections.length===1){it=[];const An=Mt(Qe.toString(),Q1(Qe,V,T,l,y,xe,Oe));for(const Dn of An){const vr=new qp;vr.text=Dn,vr.sections=Qe.sections;for(let $n=0;$n<Dn.length;$n++)vr.sectionIndex.push(0);it.push(vr)}}else if(lt){it=[];const An=lt(Qe.text,Qe.sectionIndex,Q1(Qe,V,T,l,y,xe,Oe));for(const Dn of An){const vr=new qp;vr.text=Dn[0],vr.sectionIndex=Dn[1],vr.sections=Qe.sections,it.push(vr)}}else it=function(An,Dn){const vr=[],$n=An.text;let Cn=0;for(const fn of Dn)vr.push(An.substring(Cn,fn)),Cn=fn;return Cn<$n.length&&vr.push(An.substring(Cn,$n.length)),vr}(Qe,Q1(Qe,V,T,l,y,xe,Oe));const vt=[],tn={positionedLines:vt,text:Qe.toString(),top:ee[1],bottom:ee[1],left:ee[0],right:ee[0],writingMode:ce,iconsInText:!1,verticalizable:!1};return function(An,Dn,vr,$n,Cn,fn,sr,Ln,wn,Ir,br,Oi){let ra=0,ia=Yp,Oa=0,Xl=0;const Jl=Ln==="right"?1:Ln==="left"?0:.5;let rs=0;for(const Us of Cn){Us.trim();const Rs=Us.getMaxScale(),Dl=(Rs-1)*Lt,tu={positionedGlyphs:[],lineOffset:0};An.positionedLines[rs]=tu;const wl=tu.positionedGlyphs;let is=0;if(!Us.length()){ia+=fn,++rs;continue}for(let _s=0;_s<Us.length();_s++){const Zr=Us.getSection(_s),Ml=Us.getSectionIndex(_s),Sl=Us.getCharCode(_s);let oi=0,NA=null,GA=null,$u=null,Xd=Lt;const QA=!(wn===s.ah.horizontal||!br&&!Du(Sl)||br&&(G1[Sl]||(vs=Sl,Nn.Arabic(vs)||Nn["Arabic Supplement"](vs)||Nn["Arabic Extended-A"](vs)||Nn["Arabic Presentation Forms-A"](vs)||Nn["Arabic Presentation Forms-B"](vs))));if(Zr.imageName){const hA=$n[Zr.imageName];if(!hA)continue;$u=Zr.imageName,An.iconsInText=An.iconsInText||!0,GA=hA.paddedRect;const xu=hA.displaySize;Zr.scale=Zr.scale*Lt/Oi,NA={width:xu[0],height:xu[1],left:Ua,top:-AA,advance:QA?xu[1]:xu[0]},oi=Dl+(Lt-xu[1]*Zr.scale),Xd=NA.advance;const Jd=QA?xu[0]*Zr.scale-Lt*Rs:xu[1]*Zr.scale-Lt*Rs;Jd>0&&Jd>is&&(is=Jd)}else{const hA=vr[Zr.fontStack],xu=hA&&hA[Sl];if(xu&&xu.rect)GA=xu.rect,NA=xu.metrics;else{const Jd=Dn[Zr.fontStack],m0=Jd&&Jd[Sl];if(!m0)continue;NA=m0.metrics}oi=(Rs-Zr.scale)*Lt}QA?(An.verticalizable=!0,wl.push({glyph:Sl,imageName:$u,x:ra,y:ia+oi,vertical:QA,scale:Zr.scale,fontStack:Zr.fontStack,sectionIndex:Ml,metrics:NA,rect:GA}),ra+=Xd*Zr.scale+Ir):(wl.push({glyph:Sl,imageName:$u,x:ra,y:ia+oi,vertical:QA,scale:Zr.scale,fontStack:Zr.fontStack,sectionIndex:Ml,metrics:NA,rect:GA}),ra+=NA.advance*Zr.scale+Ir)}wl.length!==0&&(Oa=Math.max(ra-Ir,Oa),aw(wl,0,wl.length-1,Jl,is)),ra=0;const $r=fn*Rs+is;tu.lineOffset=Math.max(is,Dl),ia+=$r,Xl=Math.max($r,Xl),++rs}var vs;const Wo=ia-Yp,{horizontalAlign:Ls,verticalAlign:eu}=Av(sr);(function(Us,Rs,Dl,tu,wl,is,$r,_s,Zr){const Ml=(Rs-Dl)*wl;let Sl=0;Sl=is!==$r?-_s*tu-Yp:(-tu*Zr+.5)*$r;for(const oi of Us)for(const NA of oi.positionedGlyphs)NA.x+=Ml,NA.y+=Sl})(An.positionedLines,Jl,Ls,eu,Oa,Xl,fn,Wo,Cn.length),An.top+=-eu*Wo,An.bottom=An.top+Wo,An.left+=-Ls*Oa,An.right=An.left+Oa}(tn,l,d,y,it,K,D,z,ce,V,me,Re),!function(An){for(const Dn of An)if(Dn.positionedGlyphs.length!==0)return!1;return!0}(vt)&&tn}const G1={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},iw={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Sb(c,l,d,y,w,T){if(l.imageName){const K=y[l.imageName];return K?K.displaySize[0]*l.scale*Lt/T+w:0}{const K=d[l.fontStack],D=K&&K[c];return D?D.metrics.advance*l.scale+w:0}}function cA(c,l,d,y){const w=Math.pow(c-l,2);return y?c<l?w/2:2*w:w+Math.abs(d)*d}function ow(c,l,d){let y=0;return c===10&&(y-=1e4),d&&(y+=150),c!==40&&c!==65288||(y+=50),l!==41&&l!==65289||(y+=50),y}function Eb(c,l,d,y,w,T){let K=null,D=cA(l,d,w,T);for(const z of y){const V=cA(l-z.x,d,w,T)+z.badness;V<=D&&(K=z,D=V)}return{index:c,x:l,priorBreak:K,badness:D}}function Ob(c){return c?Ob(c.priorBreak).concat(c.index):[]}function Q1(c,l,d,y,w,T,K){if(T!=="point")return[];if(!c)return[];const D=[],z=function(me,xe,Oe,Re,Qe,it){let Mt=0;for(let lt=0;lt<me.length();lt++){const vt=me.getSection(lt);Mt+=Sb(me.getCharCode(lt),vt,Re,Qe,xe,it)}return Mt/Math.max(1,Math.ceil(Mt/Oe))}(c,l,d,y,w,K),V=c.text.indexOf("")>=0;let ee=0;for(let me=0;me<c.length();me++){const xe=c.getSection(me),Oe=c.getCharCode(me);if(G1[Oe]||(ee+=Sb(Oe,xe,y,w,l,K)),me<c.length()-1){const Re=!((ce=Oe)<11904||!(Nn["Bopomofo Extended"](ce)||Nn.Bopomofo(ce)||Nn["CJK Compatibility Forms"](ce)||Nn["CJK Compatibility Ideographs"](ce)||Nn["CJK Compatibility"](ce)||Nn["CJK Radicals Supplement"](ce)||Nn["CJK Strokes"](ce)||Nn["CJK Symbols and Punctuation"](ce)||Nn["CJK Unified Ideographs Extension A"](ce)||Nn["CJK Unified Ideographs"](ce)||Nn["Enclosed CJK Letters and Months"](ce)||Nn["Halfwidth and Fullwidth Forms"](ce)||Nn.Hiragana(ce)||Nn["Ideographic Description Characters"](ce)||Nn["Kangxi Radicals"](ce)||Nn["Katakana Phonetic Extensions"](ce)||Nn.Katakana(ce)||Nn["Vertical Forms"](ce)||Nn["Yi Radicals"](ce)||Nn["Yi Syllables"](ce)));(iw[Oe]||Re||xe.imageName)&&D.push(Eb(me+1,ee,z,D,ow(Oe,c.getCharCode(me+1),Re&&V),!1))}}var ce;return Ob(Eb(c.length(),ee,z,D,0,!0))}function Av(c){let l=.5,d=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function aw(c,l,d,y,w){if(!y&&!w)return;const T=c[d],K=(c[d].x+T.metrics.advance*T.scale)*y;for(let D=l;D<=d;D++)c[D].x-=K,c[D].y+=w}function sw(c,l,d){const{horizontalAlign:y,verticalAlign:w}=Av(d),T=l[0]-c.displaySize[0]*y,K=l[1]-c.displaySize[1]*w;return{image:c,top:K,bottom:K+c.displaySize[1],left:T,right:T+c.displaySize[0]}}function Bb(c,l,d,y,w,T){const K=c.image;let D;if(K.content){const Qe=K.content,it=K.pixelRatio||1;D=[Qe[0]/it,Qe[1]/it,K.displaySize[0]-Qe[2]/it,K.displaySize[1]-Qe[3]/it]}const z=l.left*T,V=l.right*T;let ee,ce,me,xe;d==="width"||d==="both"?(xe=w[0]+z-y[3],ce=w[0]+V+y[1]):(xe=w[0]+(z+V-K.displaySize[0])/2,ce=xe+K.displaySize[0]);const Oe=l.top*T,Re=l.bottom*T;return d==="height"||d==="both"?(ee=w[1]+Oe-y[0],me=w[1]+Re+y[2]):(ee=w[1]+(Oe+Re-K.displaySize[1])/2,me=ee+K.displaySize[1]),{image:K,top:ee,right:ce,bottom:me,left:xe,collisionPadding:D}}const Vf=255,ld=128,$h=Vf*ld;function kb(c,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new yo(c+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:w}=d;let T=0;for(;T<y.length&&y[T]<=c;)T++;T=Math.max(0,T-1);let K=T;for(;K<y.length&&y[K]<c+1;)K++;K=Math.min(y.length-1,K);const D=y[T],z=y[K];return d.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:z,interpolationType:w}:{kind:"camera",minZoom:D,maxZoom:z,minSize:d.evaluate(new yo(D)),maxSize:d.evaluate(new yo(z)),interpolationType:w}}}function cv(c,l,d){let y="never";const w=c.get(l);return w?y=w:c.get(d)&&(y="always"),y}const lw=Qu.VectorTileFeature.types,uw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function $1(c,l,d,y,w,T,K,D,z,V,ee,ce,me){const xe=D?Math.min($h,Math.round(D[0])):0,Oe=D?Math.min($h,Math.round(D[1])):0;c.emplaceBack(l,d,Math.round(32*y),Math.round(32*w),T,K,(xe<<1)+(z?1:0),Oe,16*V,16*ee,256*ce,256*me)}function dv(c,l,d){c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d)}function Aw(c){for(const l of c.sections)if(fc(l.text))return!0;return!1}class hv{constructor(l){this.layoutVertexArray=new Ye,this.indexArray=new cn,this.programConfigurations=l,this.segments=new kr,this.dynamicLayoutVertexArray=new _t,this.opacityVertexArray=new Gt,this.hasVisibleVertices=!1,this.placedSymbolArray=new _}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,y,w){this.isEmpty()||(y&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,J.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,le.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,uw,!0),this.opacityVertexBuffer.itemSize=1),(y||w)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}zn("SymbolBuffers",hv);class fv{constructor(l,d,y){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new y,this.segments=new kr,this.collisionVertexArray=new en}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,pe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}zn("CollisionBuffers",fv);class Vp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(K=>K.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Jm([]),this.placementViewportMatrix=Jm([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=kb(this.zoom,d["text-size"]),this.iconSizeData=kb(this.zoom,d["icon-size"]);const y=this.layers[0].layout,w=y.get("symbol-sort-key"),T=y.get("symbol-z-order");this.canOverlap=cv(y,"text-overlap","text-allow-overlap")!=="never"||cv(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=T!=="viewport-y"&&!w.isConstant(),this.sortFeaturesByY=(T==="viewport-y"||T==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(K=>s.ah[K])),this.stateDependentLayerIds=this.layers.filter(K=>K.isStateDependent()).map(K=>K.id),this.sourceID=l.sourceID}createArrays(){this.text=new hv(new Ja(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new hv(new Ja(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new R,this.lineVertexArray=new j,this.symbolInstances=new I,this.textAnchorOffsets=new te}calculateGlyphDependencies(l,d,y,w,T){for(let K=0;K<l.length;K++)if(d[l.charCodeAt(K)]=!0,(y||w)&&T){const D=gt[l.charAt(K)];D&&(d[D.charCodeAt(0)]=!0)}}populate(l,d,y){const w=this.layers[0],T=w.layout,K=T.get("text-font"),D=T.get("text-field"),z=T.get("icon-image"),V=(D.value.kind!=="constant"||D.value.value instanceof Qn&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(K.value.kind!=="constant"||K.value.value.length>0),ee=z.value.kind!=="constant"||!!z.value.value||Object.keys(z.parameters).length>0,ce=T.get("symbol-sort-key");if(this.features=[],!V&&!ee)return;const me=d.iconDependencies,xe=d.glyphDependencies,Oe=d.availableImages,Re=new yo(this.zoom);for(const{feature:Qe,id:it,index:Mt,sourceLayerIndex:lt}of l){const vt=w._featureFilter.needGeometry,tn=UA(Qe,vt);if(!w._featureFilter.filter(Re,tn,y))continue;let An,Dn;if(vt||(tn.geometry=Vl(Qe)),V){const $n=w.getValueAndResolveTokens("text-field",tn,y,Oe),Cn=Qn.factory($n);Aw(Cn)&&(this.hasRTLText=!0),(!this.hasRTLText||Lu.getRTLTextPluginStatus()==="unavailable"||this.hasRTLText&&Lu.isParsed())&&(An=wt(Cn,w,tn))}if(ee){const $n=w.getValueAndResolveTokens("icon-image",tn,y,Oe);Dn=$n instanceof ge?$n:ge.fromString($n)}if(!An&&!Dn)continue;const vr=this.sortFeaturesByKey?ce.evaluate(tn,{},y):void 0;if(this.features.push({id:it,text:An,icon:Dn,index:Mt,sourceLayerIndex:lt,geometry:tn.geometry,properties:Qe.properties,type:lw[Qe.type],sortKey:vr}),Dn&&(me[Dn.name]=!0),An){const $n=K.evaluate(tn,{},y).join(","),Cn=T.get("text-rotation-alignment")!=="viewport"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ah.vertical)>=0;for(const fn of An.sections)if(fn.image)me[fn.image.name]=!0;else{const sr=hc(An.toString()),Ln=fn.fontStack||$n,wn=xe[Ln]=xe[Ln]||{};this.calculateGlyphDependencies(fn.text,wn,Cn,this.allowVerticalPlacement,sr)}}}T.get("symbol-placement")==="line"&&(this.features=function(Qe){const it={},Mt={},lt=[];let vt=0;function tn($n){lt.push(Qe[$n]),vt++}function An($n,Cn,fn){const sr=Mt[$n];return delete Mt[$n],Mt[Cn]=sr,lt[sr].geometry[0].pop(),lt[sr].geometry[0]=lt[sr].geometry[0].concat(fn[0]),sr}function Dn($n,Cn,fn){const sr=it[Cn];return delete it[Cn],it[$n]=sr,lt[sr].geometry[0].shift(),lt[sr].geometry[0]=fn[0].concat(lt[sr].geometry[0]),sr}function vr($n,Cn,fn){const sr=fn?Cn[0][Cn[0].length-1]:Cn[0][0];return`${$n}:${sr.x}:${sr.y}`}for(let $n=0;$n<Qe.length;$n++){const Cn=Qe[$n],fn=Cn.geometry,sr=Cn.text?Cn.text.toString():null;if(!sr){tn($n);continue}const Ln=vr(sr,fn),wn=vr(sr,fn,!0);if(Ln in Mt&&wn in it&&Mt[Ln]!==it[wn]){const Ir=Dn(Ln,wn,fn),br=An(Ln,wn,lt[Ir].geometry);delete it[Ln],delete Mt[wn],Mt[vr(sr,lt[br].geometry,!0)]=br,lt[Ir].geometry=null}else Ln in Mt?An(Ln,wn,fn):wn in it?Dn(Ln,wn,fn):(tn($n),it[Ln]=vt-1,Mt[wn]=vt-1)}return lt.filter($n=>$n.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Qe,it)=>Qe.sortKey-it.sortKey)}update(l,d,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,y),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const y=this.lineVertexArray.length;if(l.segment!==void 0){let w=l.dist(d[l.segment+1]),T=l.dist(d[l.segment]);const K={};for(let D=l.segment+1;D<d.length;D++)K[D]={x:d[D].x,y:d[D].y,tileUnitDistanceFromAnchor:w},D<d.length-1&&(w+=d[D+1].dist(d[D]));for(let D=l.segment||0;D>=0;D--)K[D]={x:d[D].x,y:d[D].y,tileUnitDistanceFromAnchor:T},D>0&&(T+=d[D-1].dist(d[D]));for(let D=0;D<d.length;D++){const z=K[D];this.lineVertexArray.emplaceBack(z.x,z.y,z.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(l,d,y,w,T,K,D,z,V,ee,ce,me){const xe=l.indexArray,Oe=l.layoutVertexArray,Re=l.segments.prepareSegment(4*d.length,Oe,xe,this.canOverlap?K.sortKey:void 0),Qe=this.glyphOffsetArray.length,it=Re.vertexLength,Mt=this.allowVerticalPlacement&&D===s.ah.vertical?Math.PI/2:0,lt=K.text&&K.text.sections;for(let vt=0;vt<d.length;vt++){const{tl:tn,tr:An,bl:Dn,br:vr,tex:$n,pixelOffsetTL:Cn,pixelOffsetBR:fn,minFontScaleX:sr,minFontScaleY:Ln,glyphOffset:wn,isSDF:Ir,sectionIndex:br}=d[vt],Oi=Re.vertexLength,ra=wn[1];$1(Oe,z.x,z.y,tn.x,ra+tn.y,$n.x,$n.y,y,Ir,Cn.x,Cn.y,sr,Ln),$1(Oe,z.x,z.y,An.x,ra+An.y,$n.x+$n.w,$n.y,y,Ir,fn.x,Cn.y,sr,Ln),$1(Oe,z.x,z.y,Dn.x,ra+Dn.y,$n.x,$n.y+$n.h,y,Ir,Cn.x,fn.y,sr,Ln),$1(Oe,z.x,z.y,vr.x,ra+vr.y,$n.x+$n.w,$n.y+$n.h,y,Ir,fn.x,fn.y,sr,Ln),dv(l.dynamicLayoutVertexArray,z,Mt),xe.emplaceBack(Oi,Oi+1,Oi+2),xe.emplaceBack(Oi+1,Oi+2,Oi+3),Re.vertexLength+=4,Re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(wn[0]),vt!==d.length-1&&br===d[vt+1].sectionIndex||l.programConfigurations.populatePaintArrays(Oe.length,K,K.index,{},me,lt&&lt[br])}l.placedSymbolArray.emplaceBack(z.x,z.y,Qe,this.glyphOffsetArray.length-Qe,it,V,ee,z.segment,y?y[0]:0,y?y[1]:0,w[0],w[1],D,0,!1,0,ce)}_addCollisionDebugVertex(l,d,y,w,T,K){return d.emplaceBack(0,0),l.emplaceBack(y.x,y.y,w,T,Math.round(K.x),Math.round(K.y))}addCollisionDebugVertices(l,d,y,w,T,K,D){const z=T.segments.prepareSegment(4,T.layoutVertexArray,T.indexArray),V=z.vertexLength,ee=T.layoutVertexArray,ce=T.collisionVertexArray,me=D.anchorX,xe=D.anchorY;this._addCollisionDebugVertex(ee,ce,K,me,xe,new B(l,d)),this._addCollisionDebugVertex(ee,ce,K,me,xe,new B(y,d)),this._addCollisionDebugVertex(ee,ce,K,me,xe,new B(y,w)),this._addCollisionDebugVertex(ee,ce,K,me,xe,new B(l,w)),z.vertexLength+=4;const Oe=T.indexArray;Oe.emplaceBack(V,V+1),Oe.emplaceBack(V+1,V+2),Oe.emplaceBack(V+2,V+3),Oe.emplaceBack(V+3,V),z.primitiveLength+=4}addDebugCollisionBoxes(l,d,y,w){for(let T=l;T<d;T++){const K=this.collisionBoxArray.get(T);this.addCollisionDebugVertices(K.x1,K.y1,K.x2,K.y2,w?this.textCollisionBox:this.iconCollisionBox,K.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new fv(It,We.members,un),this.iconCollisionBox=new fv(It,We.members,un);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,y,w,T,K,D,z,V){const ee={};for(let ce=d;ce<y;ce++){const me=l.get(ce);ee.textBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.textFeatureIndex=me.featureIndex;break}for(let ce=w;ce<T;ce++){const me=l.get(ce);ee.verticalTextBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.verticalTextFeatureIndex=me.featureIndex;break}for(let ce=K;ce<D;ce++){const me=l.get(ce);ee.iconBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.iconFeatureIndex=me.featureIndex;break}for(let ce=z;ce<V;ce++){const me=l.get(ce);ee.verticalIconBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.verticalIconFeatureIndex=me.featureIndex;break}return ee}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const y=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const y=l.placedSymbolArray.get(d),w=y.vertexStartIndex+4*y.numGlyphs;for(let T=y.vertexStartIndex;T<w;T+=4)l.indexArray.emplaceBack(T,T+1,T+2),l.indexArray.emplaceBack(T+1,T+2,T+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),y=Math.cos(l),w=[],T=[],K=[];for(let D=0;D<this.symbolInstances.length;++D){K.push(D);const z=this.symbolInstances.get(D);w.push(0|Math.round(d*z.anchorX+y*z.anchorY)),T.push(z.featureIndex)}return K.sort((D,z)=>w[D]-w[z]||T[z]-T[D]),K}addToSortKeyRanges(l,d){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===d?y.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const y=this.symbolInstances.get(d);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((w,T,K)=>{w>=0&&K.indexOf(w)===T&&this.addIndicesForPlacedSymbol(this.text,w)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Ib,Tb;zn("SymbolBucket",Vp,{omit:["layers","collisionBoxArray","features","compareText"]}),Vp.MAX_GLYPHS=65535,Vp.addDynamicAttributes=dv;var pv={get paint(){return Tb=Tb||new Qo({"icon-opacity":new Er(pt.paint_symbol["icon-opacity"]),"icon-color":new Er(pt.paint_symbol["icon-color"]),"icon-halo-color":new Er(pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Er(pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Er(pt.paint_symbol["icon-halo-blur"]),"icon-translate":new gr(pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new gr(pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Er(pt.paint_symbol["text-opacity"]),"text-color":new Er(pt.paint_symbol["text-color"],{runtimeType:En,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Er(pt.paint_symbol["text-halo-color"]),"text-halo-width":new Er(pt.paint_symbol["text-halo-width"]),"text-halo-blur":new Er(pt.paint_symbol["text-halo-blur"]),"text-translate":new gr(pt.paint_symbol["text-translate"]),"text-translate-anchor":new gr(pt.paint_symbol["text-translate-anchor"])})},get layout(){return Ib=Ib||new Qo({"symbol-placement":new gr(pt.layout_symbol["symbol-placement"]),"symbol-spacing":new gr(pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gr(pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Er(pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gr(pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gr(pt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new gr(pt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new gr(pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new gr(pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gr(pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Er(pt.layout_symbol["icon-size"]),"icon-text-fit":new gr(pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gr(pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Er(pt.layout_symbol["icon-image"]),"icon-rotate":new Er(pt.layout_symbol["icon-rotate"]),"icon-padding":new Er(pt.layout_symbol["icon-padding"]),"icon-keep-upright":new gr(pt.layout_symbol["icon-keep-upright"]),"icon-offset":new Er(pt.layout_symbol["icon-offset"]),"icon-anchor":new Er(pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gr(pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gr(pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gr(pt.layout_symbol["text-rotation-alignment"]),"text-field":new Er(pt.layout_symbol["text-field"]),"text-font":new Er(pt.layout_symbol["text-font"]),"text-size":new Er(pt.layout_symbol["text-size"]),"text-max-width":new Er(pt.layout_symbol["text-max-width"]),"text-line-height":new gr(pt.layout_symbol["text-line-height"]),"text-letter-spacing":new Er(pt.layout_symbol["text-letter-spacing"]),"text-justify":new Er(pt.layout_symbol["text-justify"]),"text-radial-offset":new Er(pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gr(pt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Er(pt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Er(pt.layout_symbol["text-anchor"]),"text-max-angle":new gr(pt.layout_symbol["text-max-angle"]),"text-writing-mode":new gr(pt.layout_symbol["text-writing-mode"]),"text-rotate":new Er(pt.layout_symbol["text-rotate"]),"text-padding":new gr(pt.layout_symbol["text-padding"]),"text-keep-upright":new gr(pt.layout_symbol["text-keep-upright"]),"text-transform":new Er(pt.layout_symbol["text-transform"]),"text-offset":new Er(pt.layout_symbol["text-offset"]),"text-allow-overlap":new gr(pt.layout_symbol["text-allow-overlap"]),"text-overlap":new gr(pt.layout_symbol["text-overlap"]),"text-ignore-placement":new gr(pt.layout_symbol["text-ignore-placement"]),"text-optional":new gr(pt.layout_symbol["text-optional"])})}};class Kb{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Et,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}zn("FormatSectionOverride",Kb,{omit:["defaultValue"]});class Y1 extends va{constructor(l){super(l,pv)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const w=[];for(const T of y)w.indexOf(T)<0&&w.push(T);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,y,w){const T=this.layout.get(l).evaluate(d,{},y,w),K=this._unevaluatedLayout._values[l];return K.isDataDriven()||go(K.value)||!T?T:function(D,z){return z.replace(/{([^{}]+)}/g,(V,ee)=>D&&ee in D?String(D[ee]):"")}(d.properties,T)}createBucket(l){return new Vp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of pv.paint.overridableProperties){if(!Y1.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),y=new Kb(d),w=new wo(y,d.property.specification);let T=null;T=d.value.kind==="constant"||d.value.kind==="source"?new Qc("source",w):new Qs("composite",w,d.value.zoomStops),this.paint._values[l]=new to(d.property,T,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,y){return!(!this.layout||d.isDataDriven()||y.isDataDriven())&&Y1.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const y=l.get("text-field"),w=pv.paint.properties[d];let T=!1;const K=D=>{for(const z of D)if(w.overrides&&w.overrides.hasOverride(z))return void(T=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Qn)K(y.value.value.sections);else if(y.value.kind==="source"){const D=V=>{T||(V instanceof Mn&&ln(V.value)===Wn?K(V.value.sections):V instanceof Wc?K(V.sections):V.eachChild(D))},z=y.value;z._styleExpression&&D(z._styleExpression.expression)}return T}}let Pb;var cw={get paint(){return Pb=Pb||new Qo({"background-color":new gr(pt.paint_background["background-color"]),"background-pattern":new pc(pt.paint_background["background-pattern"]),"background-opacity":new gr(pt.paint_background["background-opacity"])})}};class dw extends va{constructor(l){super(l,cw)}}let q1;var Fb={get paint(){return q1=q1||new Qo({"raster-opacity":new gr(pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new gr(pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gr(pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gr(pt.paint_raster["raster-brightness-max"]),"raster-saturation":new gr(pt.paint_raster["raster-saturation"]),"raster-contrast":new gr(pt.paint_raster["raster-contrast"]),"raster-resampling":new gr(pt.paint_raster["raster-resampling"]),"raster-fade-duration":new gr(pt.paint_raster["raster-fade-duration"])})}};class hw extends va{constructor(l){super(l,Fb)}}class fw extends va{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class pw{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const mv=63710088e-1;class Yh{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Yh(ae(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,y=this.lat*d,w=l.lat*d,T=Math.sin(y)*Math.sin(w)+Math.cos(y)*Math.cos(w)*Math.cos((l.lng-this.lng)*d);return mv*Math.acos(Math.min(T,1))}static convert(l){if(l instanceof Yh)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Yh(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Yh(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Db=2*Math.PI*mv;function Lb(c){return Db*Math.cos(c*Math.PI/180)}function Ub(c){return(180+c)/360}function gv(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Rb(c,l){return c/Lb(l)}function Hp(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class V1{constructor(l,d,y=0){this.x=+l,this.y=+d,this.z=+y}static fromLngLat(l,d=0){const y=Yh.convert(l);return new V1(Ub(y.lng),gv(y.lat),Rb(d,y.lat))}toLngLat(){return new Yh(360*this.x-180,Hp(this.y))}toAltitude(){return this.z*Lb(Hp(this.y))}meterInMercatorCoordinateUnits(){return 1/Db*(l=Hp(this.y),1/Math.cos(l*Math.PI/180));var l}}function zb(c,l,d){var y=2*Math.PI*6378137/256/Math.pow(2,d);return[c*y-2*Math.PI*6378137/2,l*y-2*Math.PI*6378137/2]}class yv{constructor(l,d,y){if(l<0||l>25||y<0||y>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${y}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=y,this.key=d0(0,l,l,d,y)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,y){const w=(K=this.y,D=this.z,z=zb(256*(T=this.x),256*(K=Math.pow(2,D)-K-1),D),V=zb(256*(T+1),256*(K+1),D),z[0]+","+z[1]+","+V[0]+","+V[1]);var T,K,D,z,V;const ee=function(ce,me,xe){let Oe,Re="";for(let Qe=ce;Qe>0;Qe--)Oe=1<<Qe-1,Re+=(me&Oe?1:0)+(xe&Oe?2:0);return Re}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,ee).replace(/{bbox-epsg-3857}/g,w)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new B((l.x*d-this.x)*ua,(l.y*d-this.y)*ua)}toString(){return`${this.z}/${this.x}/${this.y}`}}class jb{constructor(l,d){this.wrap=l,this.canonical=d,this.key=d0(l,d.z,d.z,d.x,d.y)}}class dA{constructor(l,d,y,w,T){if(l<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${y}`);this.overscaledZ=l,this.wrap=d,this.canonical=new yv(y,+w,+T),this.key=d0(d,l,y,w,T)}clone(){return new dA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new dA(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new dA(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-l;return l>this.canonical.z?d0(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):d0(this.wrap*+d,l,l,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new dA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,y=2*this.canonical.x,w=2*this.canonical.y;return[new dA(d,this.wrap,d,y,w),new dA(d,this.wrap,d,y+1,w),new dA(d,this.wrap,d,y,w+1),new dA(d,this.wrap,d,y+1,w+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new dA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new dA(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new jb(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new V1(l.x-this.wrap,l.y))}}function d0(c,l,d,y,w){(c*=2)<0&&(c=-1*c-1);const T=1<<d;return(T*T*c+T*w+y).toString(36)+d.toString(36)+l.toString(36)}zn("CanonicalTileID",yv),zn("OverscaledTileID",dA,{omit:["posMatrix"]});class Wb{constructor(l,d,y,w=1,T=1,K=1,D=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void Ke(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const z=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=w,this.greenFactor=T,this.blueFactor=K,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let V=0;V<z;V++)this.data[this._idx(-1,V)]=this.data[this._idx(0,V)],this.data[this._idx(z,V)]=this.data[this._idx(z-1,V)],this.data[this._idx(V,-1)]=this.data[this._idx(V,0)],this.data[this._idx(V,z)]=this.data[this._idx(V,z-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(z,-1)]=this.data[this._idx(z-1,0)],this.data[this._idx(-1,z)]=this.data[this._idx(0,z-1)],this.data[this._idx(z,z)]=this.data[this._idx(z-1,z-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let V=0;V<z;V++)for(let ee=0;ee<z;ee++){const ce=this.get(V,ee);ce>this.max&&(this.max=ce),ce<this.min&&(this.min=ce)}}get(l,d){const y=new Uint8Array(this.data.buffer),w=4*this._idx(l,d);return this.unpack(y[w],y[w+1],y[w+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,y){return l*this.redFactor+d*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new sl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,y){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let w=d*this.dim,T=d*this.dim+this.dim,K=y*this.dim,D=y*this.dim+this.dim;switch(d){case-1:w=T-1;break;case 1:T=w+1}switch(y){case-1:K=D-1;break;case 1:D=K+1}const z=-d*this.dim,V=-y*this.dim;for(let ee=K;ee<D;ee++)for(let ce=w;ce<T;ce++)this.data[this._idx(ce,ee)]=l.data[this._idx(ce+z,ee+V)]}}zn("DEMData",Wb);class Nb{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const y=l[d];this._stringToNumber[y]=d,this._numberToString[d]=y}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class Gb{constructor(l,d,y,w,T){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=y,l._y=w,this.properties=l.properties,this.id=T}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class Qb{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Ma(ua,16,0),this.grid3D=new Ma(ua,16,0),this.featureIndexArray=new fe,this.promoteId=d}insert(l,d,y,w,T,K){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,w,T);const z=K?this.grid3D:this.grid;for(let V=0;V<d.length;V++){const ee=d[V],ce=[1/0,1/0,-1/0,-1/0];for(let me=0;me<ee.length;me++){const xe=ee[me];ce[0]=Math.min(ce[0],xe.x),ce[1]=Math.min(ce[1],xe.y),ce[2]=Math.max(ce[2],xe.x),ce[3]=Math.max(ce[3],xe.y)}ce[0]<ua&&ce[1]<ua&&ce[2]>=0&&ce[3]>=0&&z.insert(D,ce[0],ce[1],ce[2],ce[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Qu.VectorTile(new zA(this.rawTileData)).layers,this.sourceLayerCoder=new Nb(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,y,w){this.loadVTLayers();const T=l.params||{},K=ua/l.tileSize/l.scale,D=kd(T.filter),z=l.queryGeometry,V=l.queryPadding*K,ee=Yb(z),ce=this.grid.query(ee.minX-V,ee.minY-V,ee.maxX+V,ee.maxY+V),me=Yb(l.cameraQueryGeometry),xe=this.grid3D.query(me.minX-V,me.minY-V,me.maxX+V,me.maxY+V,(Qe,it,Mt,lt)=>function(vt,tn,An,Dn,vr){for(const Cn of vt)if(tn<=Cn.x&&An<=Cn.y&&Dn>=Cn.x&&vr>=Cn.y)return!0;const $n=[new B(tn,An),new B(tn,vr),new B(Dn,vr),new B(Dn,An)];if(vt.length>2){for(const Cn of $n)if(Wu(vt,Cn))return!0}for(let Cn=0;Cn<vt.length-1;Cn++)if(Xm(vt[Cn],vt[Cn+1],$n))return!0;return!1}(l.cameraQueryGeometry,Qe-V,it-V,Mt+V,lt+V));for(const Qe of xe)ce.push(Qe);ce.sort(mw);const Oe={};let Re;for(let Qe=0;Qe<ce.length;Qe++){const it=ce[Qe];if(it===Re)continue;Re=it;const Mt=this.featureIndexArray.get(it);let lt=null;this.loadMatchingFeature(Oe,Mt.bucketIndex,Mt.sourceLayerIndex,Mt.featureIndex,D,T.layers,T.availableImages,d,y,w,(vt,tn,An)=>(lt||(lt=Vl(vt)),tn.queryIntersectsFeature(z,vt,An,lt,this.z,l.transform,K,l.pixelPosMatrix)))}return Oe}loadMatchingFeature(l,d,y,w,T,K,D,z,V,ee,ce){const me=this.bucketLayerIDs[d];if(K&&!function(Qe,it){for(let Mt=0;Mt<Qe.length;Mt++)if(it.indexOf(Qe[Mt])>=0)return!0;return!1}(K,me))return;const xe=this.sourceLayerCoder.decode(y),Oe=this.vtLayers[xe].feature(w);if(T.needGeometry){const Qe=UA(Oe,!0);if(!T.filter(new yo(this.tileID.overscaledZ),Qe,this.tileID.canonical))return}else if(!T.filter(new yo(this.tileID.overscaledZ),Oe))return;const Re=this.getId(Oe,xe);for(let Qe=0;Qe<me.length;Qe++){const it=me[Qe];if(K&&K.indexOf(it)<0)continue;const Mt=z[it];if(!Mt)continue;let lt={};Re&&ee&&(lt=ee.getState(Mt.sourceLayer||"_geojsonTileLayer",Re));const vt=se({},V[it]);vt.paint=$b(vt.paint,Mt.paint,Oe,lt,D),vt.layout=$b(vt.layout,Mt.layout,Oe,lt,D);const tn=!ce||ce(Oe,Mt,lt);if(!tn)continue;const An=new Gb(Oe,this.z,this.x,this.y,Re);An.layer=vt;let Dn=l[it];Dn===void 0&&(Dn=l[it]=[]),Dn.push({featureIndex:w,feature:An,intersectionZ:tn})}}lookupSymbolFeatures(l,d,y,w,T,K,D,z){const V={};this.loadVTLayers();const ee=kd(T);for(const ce of l)this.loadMatchingFeature(V,y,w,ce,ee,K,D,z,d);return V}hasLayer(l){for(const d of this.bucketLayerIDs)for(const y of d)if(l===y)return!0;return!1}getId(l,d){let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof y=="boolean"&&(y=Number(y))),y}}function $b(c,l,d,y,w){return De(c,(T,K)=>{const D=l instanceof ea?l.get(K):null;return D&&D.evaluate?D.evaluate(d,y,w):D})}function Yb(c){let l=1/0,d=1/0,y=-1/0,w=-1/0;for(const T of c)l=Math.min(l,T.x),d=Math.min(d,T.y),y=Math.max(y,T.x),w=Math.max(w,T.y);return{minX:l,minY:d,maxX:y,maxY:w}}function mw(c,l){return l-c}function qb(c,l,d,y,w){const T=[];for(let K=0;K<c.length;K++){const D=c[K];let z;for(let V=0;V<D.length-1;V++){let ee=D[V],ce=D[V+1];ee.x<l&&ce.x<l||(ee.x<l?ee=new B(l,ee.y+(l-ee.x)/(ce.x-ee.x)*(ce.y-ee.y))._round():ce.x<l&&(ce=new B(l,ee.y+(l-ee.x)/(ce.x-ee.x)*(ce.y-ee.y))._round()),ee.y<d&&ce.y<d||(ee.y<d?ee=new B(ee.x+(d-ee.y)/(ce.y-ee.y)*(ce.x-ee.x),d)._round():ce.y<d&&(ce=new B(ee.x+(d-ee.y)/(ce.y-ee.y)*(ce.x-ee.x),d)._round()),ee.x>=y&&ce.x>=y||(ee.x>=y?ee=new B(y,ee.y+(y-ee.x)/(ce.x-ee.x)*(ce.y-ee.y))._round():ce.x>=y&&(ce=new B(y,ee.y+(y-ee.x)/(ce.x-ee.x)*(ce.y-ee.y))._round()),ee.y>=w&&ce.y>=w||(ee.y>=w?ee=new B(ee.x+(w-ee.y)/(ce.y-ee.y)*(ce.x-ee.x),w)._round():ce.y>=w&&(ce=new B(ee.x+(w-ee.y)/(ce.y-ee.y)*(ce.x-ee.x),w)._round()),z&&ee.equals(z[z.length-1])||(z=[ee],T.push(z)),z.push(ce)))))}}return T}zn("FeatureIndex",Qb,{omit:["rawTileData","sourceLayerCoder"]});class qh extends B{constructor(l,d,y,w){super(l,d),this.angle=y,w!==void 0&&(this.segment=w)}clone(){return new qh(this.x,this.y,this.angle,this.segment)}}function Vb(c,l,d,y,w){if(l.segment===void 0||d===0)return!0;let T=l,K=l.segment+1,D=0;for(;D>-d/2;){if(K--,K<0)return!1;D-=c[K].dist(T),T=c[K]}D+=c[K].dist(c[K+1]),K++;const z=[];let V=0;for(;D<d/2;){const ee=c[K],ce=c[K+1];if(!ce)return!1;let me=c[K-1].angleTo(ee)-ee.angleTo(ce);for(me=Math.abs((me+3*Math.PI)%(2*Math.PI)-Math.PI),z.push({distance:D,angleDelta:me}),V+=me;D-z[0].distance>y;)V-=z.shift().angleDelta;if(V>w)return!1;K++,D+=ee.dist(ce)}return!0}function vv(c){let l=0;for(let d=0;d<c.length-1;d++)l+=c[d].dist(c[d+1]);return l}function _v(c,l,d){return c?.6*l*d:0}function Hb(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function gw(c,l,d,y,w,T){const K=_v(d,w,T),D=Hb(d,y)*T;let z=0;const V=vv(c)/2;for(let ee=0;ee<c.length-1;ee++){const ce=c[ee],me=c[ee+1],xe=ce.dist(me);if(z+xe>V){const Oe=(V-z)/xe,Re=Yt.number(ce.x,me.x,Oe),Qe=Yt.number(ce.y,me.y,Oe),it=new qh(Re,Qe,me.angleTo(ce),ee);return it._round(),!K||Vb(c,it,D,K,l)?it:void 0}z+=xe}}function yw(c,l,d,y,w,T,K,D,z){const V=_v(y,T,K),ee=Hb(y,w),ce=ee*K,me=c[0].x===0||c[0].x===z||c[0].y===0||c[0].y===z;return l-ce<l/4&&(l=ce+l/4),Zb(c,me?l/2*D%l:(ee/2+2*T)*K*D%l,l,V,d,ce,me,!1,z)}function Zb(c,l,d,y,w,T,K,D,z){const V=T/2,ee=vv(c);let ce=0,me=l-d,xe=[];for(let Oe=0;Oe<c.length-1;Oe++){const Re=c[Oe],Qe=c[Oe+1],it=Re.dist(Qe),Mt=Qe.angleTo(Re);for(;me+d<ce+it;){me+=d;const lt=(me-ce)/it,vt=Yt.number(Re.x,Qe.x,lt),tn=Yt.number(Re.y,Qe.y,lt);if(vt>=0&&vt<z&&tn>=0&&tn<z&&me-V>=0&&me+V<=ee){const An=new qh(vt,tn,Mt,Oe);An._round(),y&&!Vb(c,An,T,y,w)||xe.push(An)}}ce+=it}return D||xe.length||K||(xe=Zb(c,ce/2,d,y,w,T,K,!0,z)),xe}zn("Anchor",qh);const Zd=Ua;function Xb(c,l,d,y){const w=[],T=c.image,K=T.pixelRatio,D=T.paddedRect.w-2*Zd,z=T.paddedRect.h-2*Zd,V=c.right-c.left,ee=c.bottom-c.top,ce=T.stretchX||[[0,D]],me=T.stretchY||[[0,z]],xe=(fn,sr)=>fn+sr[1]-sr[0],Oe=ce.reduce(xe,0),Re=me.reduce(xe,0),Qe=D-Oe,it=z-Re;let Mt=0,lt=Oe,vt=0,tn=Re,An=0,Dn=Qe,vr=0,$n=it;if(T.content&&y){const fn=T.content;Mt=H1(ce,0,fn[0]),vt=H1(me,0,fn[1]),lt=H1(ce,fn[0],fn[2]),tn=H1(me,fn[1],fn[3]),An=fn[0]-Mt,vr=fn[1]-vt,Dn=fn[2]-fn[0]-lt,$n=fn[3]-fn[1]-tn}const Cn=(fn,sr,Ln,wn)=>{const Ir=Z1(fn.stretch-Mt,lt,V,c.left),br=X1(fn.fixed-An,Dn,fn.stretch,Oe),Oi=Z1(sr.stretch-vt,tn,ee,c.top),ra=X1(sr.fixed-vr,$n,sr.stretch,Re),ia=Z1(Ln.stretch-Mt,lt,V,c.left),Oa=X1(Ln.fixed-An,Dn,Ln.stretch,Oe),Xl=Z1(wn.stretch-vt,tn,ee,c.top),Jl=X1(wn.fixed-vr,$n,wn.stretch,Re),rs=new B(Ir,Oi),vs=new B(ia,Oi),Wo=new B(ia,Xl),Ls=new B(Ir,Xl),eu=new B(br/K,ra/K),Us=new B(Oa/K,Jl/K),Rs=l*Math.PI/180;if(Rs){const wl=Math.sin(Rs),is=Math.cos(Rs),$r=[is,-wl,wl,is];rs._matMult($r),vs._matMult($r),Ls._matMult($r),Wo._matMult($r)}const Dl=fn.stretch+fn.fixed,tu=sr.stretch+sr.fixed;return{tl:rs,tr:vs,bl:Ls,br:Wo,tex:{x:T.paddedRect.x+Zd+Dl,y:T.paddedRect.y+Zd+tu,w:Ln.stretch+Ln.fixed-Dl,h:wn.stretch+wn.fixed-tu},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:eu,pixelOffsetBR:Us,minFontScaleX:Dn/K/V,minFontScaleY:$n/K/ee,isSDF:d}};if(y&&(T.stretchX||T.stretchY)){const fn=Jb(ce,Qe,Oe),sr=Jb(me,it,Re);for(let Ln=0;Ln<fn.length-1;Ln++){const wn=fn[Ln],Ir=fn[Ln+1];for(let br=0;br<sr.length-1;br++)w.push(Cn(wn,sr[br],Ir,sr[br+1]))}}else w.push(Cn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:z+1}));return w}function H1(c,l,d){let y=0;for(const w of c)y+=Math.max(l,Math.min(d,w[1]))-Math.max(l,Math.min(d,w[0]));return y}function Jb(c,l,d){const y=[{fixed:-Zd,stretch:0}];for(const[w,T]of c){const K=y[y.length-1];y.push({fixed:w-K.stretch,stretch:K.stretch}),y.push({fixed:w-K.stretch,stretch:K.stretch+(T-w)})}return y.push({fixed:l+Zd,stretch:d}),y}function Z1(c,l,d,y){return c/l*d+y}function X1(c,l,d,y){return c-l*d/y}class J1{constructor(l,d,y,w,T,K,D,z,V,ee){if(this.boxStartIndex=l.length,V){let ce=K.top,me=K.bottom;const xe=K.collisionPadding;xe&&(ce-=xe[1],me+=xe[3]);let Oe=me-ce;Oe>0&&(Oe=Math.max(10,Oe),this.circleDiameter=Oe)}else{let ce=K.top*D-z[0],me=K.bottom*D+z[2],xe=K.left*D-z[3],Oe=K.right*D+z[1];const Re=K.collisionPadding;if(Re&&(xe-=Re[0]*D,ce-=Re[1]*D,Oe+=Re[2]*D,me+=Re[3]*D),ee){const Qe=new B(xe,ce),it=new B(Oe,ce),Mt=new B(xe,me),lt=new B(Oe,me),vt=ee*Math.PI/180;Qe._rotate(vt),it._rotate(vt),Mt._rotate(vt),lt._rotate(vt),xe=Math.min(Qe.x,it.x,Mt.x,lt.x),Oe=Math.max(Qe.x,it.x,Mt.x,lt.x),ce=Math.min(Qe.y,it.y,Mt.y,lt.y),me=Math.max(Qe.y,it.y,Mt.y,lt.y)}l.emplaceBack(d.x,d.y,xe,ce,Oe,me,y,w,T)}this.boxEndIndex=l.length}}class vw{constructor(l=[],d=_w){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:y}=this,w=d[l];for(;l>0;){const T=l-1>>1,K=d[T];if(y(w,K)>=0)break;d[l]=K,l=T}d[l]=w}_down(l){const{data:d,compare:y}=this,w=this.length>>1,T=d[l];for(;l<w;){let K=1+(l<<1),D=d[K];const z=K+1;if(z<this.length&&y(d[z],D)<0&&(K=z,D=d[z]),y(D,T)>=0)break;d[l]=D,l=K}d[l]=T}}function _w(c,l){return c<l?-1:c>l?1:0}function Cw(c,l=1,d=!1){let y=1/0,w=1/0,T=-1/0,K=-1/0;const D=c[0];for(let xe=0;xe<D.length;xe++){const Oe=D[xe];(!xe||Oe.x<y)&&(y=Oe.x),(!xe||Oe.y<w)&&(w=Oe.y),(!xe||Oe.x>T)&&(T=Oe.x),(!xe||Oe.y>K)&&(K=Oe.y)}const z=Math.min(T-y,K-w);let V=z/2;const ee=new vw([],bw);if(z===0)return new B(y,w);for(let xe=y;xe<T;xe+=z)for(let Oe=w;Oe<K;Oe+=z)ee.push(new Zp(xe+V,Oe+V,V,c));let ce=function(xe){let Oe=0,Re=0,Qe=0;const it=xe[0];for(let Mt=0,lt=it.length,vt=lt-1;Mt<lt;vt=Mt++){const tn=it[Mt],An=it[vt],Dn=tn.x*An.y-An.x*tn.y;Re+=(tn.x+An.x)*Dn,Qe+=(tn.y+An.y)*Dn,Oe+=3*Dn}return new Zp(Re/Oe,Qe/Oe,0,xe)}(c),me=ee.length;for(;ee.length;){const xe=ee.pop();(xe.d>ce.d||!ce.d)&&(ce=xe,d&&console.log("found best %d after %d probes",Math.round(1e4*xe.d)/1e4,me)),xe.max-ce.d<=l||(V=xe.h/2,ee.push(new Zp(xe.p.x-V,xe.p.y-V,V,c)),ee.push(new Zp(xe.p.x+V,xe.p.y-V,V,c)),ee.push(new Zp(xe.p.x-V,xe.p.y+V,V,c)),ee.push(new Zp(xe.p.x+V,xe.p.y+V,V,c)),me+=4)}return d&&(console.log(`num probes: ${me}`),console.log(`best distance: ${ce.d}`)),ce.p}function bw(c,l){return l.max-c.max}function Zp(c,l,d,y){this.p=new B(c,l),this.h=d,this.d=function(w,T){let K=!1,D=1/0;for(let z=0;z<T.length;z++){const V=T[z];for(let ee=0,ce=V.length,me=ce-1;ee<ce;me=ee++){const xe=V[ee],Oe=V[me];xe.y>w.y!=Oe.y>w.y&&w.x<(Oe.x-xe.x)*(w.y-xe.y)/(Oe.y-xe.y)+xe.x&&(K=!K),D=Math.min(D,ed(w,xe,Oe))}}return(K?1:-1)*Math.sqrt(D)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var Ds;s.ap=void 0,(Ds=s.ap||(s.ap={}))[Ds.center=1]="center",Ds[Ds.left=2]="left",Ds[Ds.right=3]="right",Ds[Ds.top=4]="top",Ds[Ds.bottom=5]="bottom",Ds[Ds["top-left"]=6]="top-left",Ds[Ds["top-right"]=7]="top-right",Ds[Ds["bottom-left"]=8]="bottom-left",Ds[Ds["bottom-right"]=9]="bottom-right";const Vh=7,eg=Number.POSITIVE_INFINITY;function Cv(c,l){return l[1]!==eg?function(d,y,w){let T=0,K=0;switch(y=Math.abs(y),w=Math.abs(w),d){case"top-right":case"top-left":case"top":K=w-Vh;break;case"bottom-right":case"bottom-left":case"bottom":K=-w+Vh}switch(d){case"top-right":case"bottom-right":case"right":T=-y;break;case"top-left":case"bottom-left":case"left":T=y}return[T,K]}(c,l[0],l[1]):function(d,y){let w=0,T=0;y<0&&(y=0);const K=y/Math.SQRT2;switch(d){case"top-right":case"top-left":T=K-Vh;break;case"bottom-right":case"bottom-left":T=-K+Vh;break;case"bottom":T=-y+Vh;break;case"top":T=y-Vh}switch(d){case"top-right":case"bottom-right":w=-K;break;case"top-left":case"bottom-left":w=K;break;case"left":w=y;break;case"right":w=-y}return[w,T]}(c,l[0])}function tg(c,l,d){var y;const w=c.layout,T=(y=w.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(l,{},d);if(T){const D=T.values,z=[];for(let V=0;V<D.length;V+=2){const ee=z[V]=D[V],ce=D[V+1].map(me=>me*Lt);ee.startsWith("top")?ce[1]-=Vh:ee.startsWith("bottom")&&(ce[1]+=Vh),z[V+1]=ce}return new Ji(z)}const K=w.get("text-variable-anchor");if(K){let D;D=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[w.get("text-radial-offset").evaluate(l,{},d)*Lt,eg]:w.get("text-offset").evaluate(l,{},d).map(V=>V*Lt);const z=[];for(const V of K)z.push(V,Cv(V,D));return new Ji(z)}return null}function ng(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function ex(c,l,d,y,w,T,K,D,z,V,ee){let ce=T.textMaxSize.evaluate(l,{});ce===void 0&&(ce=K);const me=c.layers[0].layout,xe=me.get("icon-offset").evaluate(l,{},ee),Oe=xv(d.horizontal),Re=K/24,Qe=c.tilePixelRatio*Re,it=c.tilePixelRatio*ce/24,Mt=c.tilePixelRatio*D,lt=c.tilePixelRatio*me.get("symbol-spacing"),vt=me.get("text-padding")*c.tilePixelRatio,tn=function(wn,Ir,br,Oi=1){const ra=wn.get("icon-padding").evaluate(Ir,{},br),ia=ra&&ra.values;return[ia[0]*Oi,ia[1]*Oi,ia[2]*Oi,ia[3]*Oi]}(me,l,ee,c.tilePixelRatio),An=me.get("text-max-angle")/180*Math.PI,Dn=me.get("text-rotation-alignment")!=="viewport"&&me.get("symbol-placement")!=="point",vr=me.get("icon-rotation-alignment")==="map"&&me.get("symbol-placement")!=="point",$n=me.get("symbol-placement"),Cn=lt/2,fn=me.get("icon-text-fit");let sr;y&&fn!=="none"&&(c.allowVerticalPlacement&&d.vertical&&(sr=Bb(y,d.vertical,fn,me.get("icon-text-fit-padding"),xe,Re)),Oe&&(y=Bb(y,Oe,fn,me.get("icon-text-fit-padding"),xe,Re)));const Ln=(wn,Ir)=>{Ir.x<0||Ir.x>=ua||Ir.y<0||Ir.y>=ua||function(br,Oi,ra,ia,Oa,Xl,Jl,rs,vs,Wo,Ls,eu,Us,Rs,Dl,tu,wl,is,$r,_s,Zr,Ml,Sl,oi,NA){const GA=br.addToLineVertexArray(Oi,ra);let $u,Xd,QA,hA,xu=0,Jd=0,m0=0,nx=0,Bv=-1,kv=-1;const eh={};let rx=Fi("");if(br.allowVerticalPlacement&&ia.vertical){const Ll=rs.layout.get("text-rotate").evaluate(Zr,{},oi)+90;QA=new J1(vs,Oi,Wo,Ls,eu,ia.vertical,Us,Rs,Dl,Ll),Jl&&(hA=new J1(vs,Oi,Wo,Ls,eu,Jl,wl,is,Dl,Ll))}if(Oa){const Ll=rs.layout.get("icon-rotate").evaluate(Zr,{}),fA=rs.layout.get("icon-text-fit")!=="none",Hh=Xb(Oa,Ll,Sl,fA),Mc=Jl?Xb(Jl,Ll,Sl,fA):void 0;Xd=new J1(vs,Oi,Wo,Ls,eu,Oa,wl,is,!1,Ll),xu=4*Hh.length;const Hf=br.iconSizeData;let ud=null;Hf.kind==="source"?(ud=[ld*rs.layout.get("icon-size").evaluate(Zr,{})],ud[0]>$h&&Ke(`${br.layerIds[0]}: Value for "icon-size" is >= ${Vf}. Reduce your "icon-size".`)):Hf.kind==="composite"&&(ud=[ld*Ml.compositeIconSizes[0].evaluate(Zr,{},oi),ld*Ml.compositeIconSizes[1].evaluate(Zr,{},oi)],(ud[0]>$h||ud[1]>$h)&&Ke(`${br.layerIds[0]}: Value for "icon-size" is >= ${Vf}. Reduce your "icon-size".`)),br.addSymbols(br.icon,Hh,ud,_s,$r,Zr,s.ah.none,Oi,GA.lineStartIndex,GA.lineLength,-1,oi),Bv=br.icon.placedSymbolArray.length-1,Mc&&(Jd=4*Mc.length,br.addSymbols(br.icon,Mc,ud,_s,$r,Zr,s.ah.vertical,Oi,GA.lineStartIndex,GA.lineLength,-1,oi),kv=br.icon.placedSymbolArray.length-1)}const ix=Object.keys(ia.horizontal);for(const Ll of ix){const fA=ia.horizontal[Ll];if(!$u){rx=Fi(fA.text);const Mc=rs.layout.get("text-rotate").evaluate(Zr,{},oi);$u=new J1(vs,Oi,Wo,Ls,eu,fA,Us,Rs,Dl,Mc)}const Hh=fA.positionedLines.length===1;if(m0+=bv(br,Oi,fA,Xl,rs,Dl,Zr,tu,GA,ia.vertical?s.ah.horizontal:s.ah.horizontalOnly,Hh?ix:[Ll],eh,Bv,Ml,oi),Hh)break}ia.vertical&&(nx+=bv(br,Oi,ia.vertical,Xl,rs,Dl,Zr,tu,GA,s.ah.vertical,["vertical"],eh,kv,Ml,oi));const Mw=$u?$u.boxStartIndex:br.collisionBoxArray.length,Iv=$u?$u.boxEndIndex:br.collisionBoxArray.length,Sw=QA?QA.boxStartIndex:br.collisionBoxArray.length,Tv=QA?QA.boxEndIndex:br.collisionBoxArray.length,Ew=Xd?Xd.boxStartIndex:br.collisionBoxArray.length,Ow=Xd?Xd.boxEndIndex:br.collisionBoxArray.length,Bw=hA?hA.boxStartIndex:br.collisionBoxArray.length,El=hA?hA.boxEndIndex:br.collisionBoxArray.length;let Ra=-1;const ag=(Ll,fA)=>Ll&&Ll.circleDiameter?Math.max(Ll.circleDiameter,fA):fA;Ra=ag($u,Ra),Ra=ag(QA,Ra),Ra=ag(Xd,Ra),Ra=ag(hA,Ra);const ox=Ra>-1?1:0;ox&&(Ra*=NA/Lt),br.glyphOffsetArray.length>=Vp.MAX_GLYPHS&&Ke("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Zr.sortKey!==void 0&&br.addToSortKeyRanges(br.symbolInstances.length,Zr.sortKey);const kw=tg(rs,Zr,oi),[ax,Iw]=function(Ll,fA){const Hh=Ll.length,Mc=fA==null?void 0:fA.values;if((Mc==null?void 0:Mc.length)>0)for(let Hf=0;Hf<Mc.length;Hf+=2){const ud=Mc[Hf+1];Ll.emplaceBack(s.ap[Mc[Hf]],ud[0],ud[1])}return[Hh,Ll.length]}(br.textAnchorOffsets,kw);br.symbolInstances.emplaceBack(Oi.x,Oi.y,eh.right>=0?eh.right:-1,eh.center>=0?eh.center:-1,eh.left>=0?eh.left:-1,eh.vertical||-1,Bv,kv,rx,Mw,Iv,Sw,Tv,Ew,Ow,Bw,El,Wo,m0,nx,xu,Jd,ox,0,Us,Ra,ax,Iw)}(c,Ir,wn,d,y,w,sr,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,Qe,[vt,vt,vt,vt],Dn,z,Mt,tn,vr,xe,l,T,V,ee,K)};if($n==="line")for(const wn of qb(l.geometry,0,0,ua,ua)){const Ir=yw(wn,lt,An,d.vertical||Oe,y,24,it,c.overscaling,ua);for(const br of Ir)Oe&&xw(c,Oe.text,Cn,br)||Ln(wn,br)}else if($n==="line-center"){for(const wn of l.geometry)if(wn.length>1){const Ir=gw(wn,An,d.vertical||Oe,y,24,it);Ir&&Ln(wn,Ir)}}else if(l.type==="Polygon")for(const wn of Gd(l.geometry,0)){const Ir=Cw(wn,16);Ln(wn[0],new qh(Ir.x,Ir.y,0))}else if(l.type==="LineString")for(const wn of l.geometry)Ln(wn,new qh(wn[0].x,wn[0].y,0));else if(l.type==="Point")for(const wn of l.geometry)for(const Ir of wn)Ln([Ir],new qh(Ir.x,Ir.y,0))}function bv(c,l,d,y,w,T,K,D,z,V,ee,ce,me,xe,Oe){const Re=function(Mt,lt,vt,tn,An,Dn,vr,$n){const Cn=tn.layout.get("text-rotate").evaluate(Dn,{})*Math.PI/180,fn=[];for(const sr of lt.positionedLines)for(const Ln of sr.positionedGlyphs){if(!Ln.rect)continue;const wn=Ln.rect||{};let Ir=AA+1,br=!0,Oi=1,ra=0;const ia=(An||$n)&&Ln.vertical,Oa=Ln.metrics.advance*Ln.scale/2;if($n&&lt.verticalizable&&(ra=sr.lineOffset/2-(Ln.imageName?-(Lt-Ln.metrics.width*Ln.scale)/2:(Ln.scale-1)*Lt)),Ln.imageName){const _s=vr[Ln.imageName];br=_s.sdf,Oi=_s.pixelRatio,Ir=Ua/Oi}const Xl=An?[Ln.x+Oa,Ln.y]:[0,0];let Jl=An?[0,0]:[Ln.x+Oa+vt[0],Ln.y+vt[1]-ra],rs=[0,0];ia&&(rs=Jl,Jl=[0,0]);const vs=Ln.metrics.isDoubleResolution?2:1,Wo=(Ln.metrics.left-Ir)*Ln.scale-Oa+Jl[0],Ls=(-Ln.metrics.top-Ir)*Ln.scale+Jl[1],eu=Wo+wn.w/vs*Ln.scale/Oi,Us=Ls+wn.h/vs*Ln.scale/Oi,Rs=new B(Wo,Ls),Dl=new B(eu,Ls),tu=new B(Wo,Us),wl=new B(eu,Us);if(ia){const _s=new B(-Oa,Oa-Yp),Zr=-Math.PI/2,Ml=Lt/2-Oa,Sl=new B(5-Yp-Ml,-(Ln.imageName?Ml:0)),oi=new B(...rs);Rs._rotateAround(Zr,_s)._add(Sl)._add(oi),Dl._rotateAround(Zr,_s)._add(Sl)._add(oi),tu._rotateAround(Zr,_s)._add(Sl)._add(oi),wl._rotateAround(Zr,_s)._add(Sl)._add(oi)}if(Cn){const _s=Math.sin(Cn),Zr=Math.cos(Cn),Ml=[Zr,-_s,_s,Zr];Rs._matMult(Ml),Dl._matMult(Ml),tu._matMult(Ml),wl._matMult(Ml)}const is=new B(0,0),$r=new B(0,0);fn.push({tl:Rs,tr:Dl,bl:tu,br:wl,tex:wn,writingMode:lt.writingMode,glyphOffset:Xl,sectionIndex:Ln.sectionIndex,isSDF:br,pixelOffsetTL:is,pixelOffsetBR:$r,minFontScaleX:0,minFontScaleY:0})}return fn}(0,d,D,w,T,K,y,c.allowVerticalPlacement),Qe=c.textSizeData;let it=null;Qe.kind==="source"?(it=[ld*w.layout.get("text-size").evaluate(K,{})],it[0]>$h&&Ke(`${c.layerIds[0]}: Value for "text-size" is >= ${Vf}. Reduce your "text-size".`)):Qe.kind==="composite"&&(it=[ld*xe.compositeTextSizes[0].evaluate(K,{},Oe),ld*xe.compositeTextSizes[1].evaluate(K,{},Oe)],(it[0]>$h||it[1]>$h)&&Ke(`${c.layerIds[0]}: Value for "text-size" is >= ${Vf}. Reduce your "text-size".`)),c.addSymbols(c.text,Re,it,D,T,K,V,l,z.lineStartIndex,z.lineLength,me,Oe);for(const Mt of ee)ce[Mt]=c.text.placedSymbolArray.length-1;return 4*Re.length}function xv(c){for(const l in c)return c[l];return null}function xw(c,l,d,y){const w=c.compareText;if(l in w){const T=w[l];for(let K=T.length-1;K>=0;K--)if(y.dist(T[K])<d)return!0}else w[l]=[];return w[l].push(y),!1}const tx=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class wv{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,y]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const w=y>>4;if(w!==1)throw new Error(`Got v${w} data when expected v1.`);const T=tx[15&y];if(!T)throw new Error("Unrecognized array type.");const[K]=new Uint16Array(l,2,1),[D]=new Uint32Array(l,4,1);return new wv(D,K,T,l)}constructor(l,d=64,y=Float64Array,w){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=y,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const T=tx.indexOf(this.ArrayType),K=2*l*this.ArrayType.BYTES_PER_ELEMENT,D=l*this.IndexArrayType.BYTES_PER_ELEMENT,z=(8-D%8)%8;if(T<0)throw new Error(`Unexpected typed array class: ${y}.`);w&&w instanceof ArrayBuffer?(this.data=w,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+z,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+K+D+z),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+z,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+T]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=l,this.coords[this._pos++]=d,y}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return Xp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,y,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:K,nodeSize:D}=this,z=[0,T.length-1,0],V=[];for(;z.length;){const ee=z.pop()||0,ce=z.pop()||0,me=z.pop()||0;if(ce-me<=D){for(let Qe=me;Qe<=ce;Qe++){const it=K[2*Qe],Mt=K[2*Qe+1];it>=l&&it<=y&&Mt>=d&&Mt<=w&&V.push(T[Qe])}continue}const xe=me+ce>>1,Oe=K[2*xe],Re=K[2*xe+1];Oe>=l&&Oe<=y&&Re>=d&&Re<=w&&V.push(T[xe]),(ee===0?l<=Oe:d<=Re)&&(z.push(me),z.push(xe-1),z.push(1-ee)),(ee===0?y>=Oe:w>=Re)&&(z.push(xe+1),z.push(ce),z.push(1-ee))}return V}within(l,d,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:T,nodeSize:K}=this,D=[0,w.length-1,0],z=[],V=y*y;for(;D.length;){const ee=D.pop()||0,ce=D.pop()||0,me=D.pop()||0;if(ce-me<=K){for(let Qe=me;Qe<=ce;Qe++)rg(T[2*Qe],T[2*Qe+1],l,d)<=V&&z.push(w[Qe]);continue}const xe=me+ce>>1,Oe=T[2*xe],Re=T[2*xe+1];rg(Oe,Re,l,d)<=V&&z.push(w[xe]),(ee===0?l-y<=Oe:d-y<=Re)&&(D.push(me),D.push(xe-1),D.push(1-ee)),(ee===0?l+y>=Oe:d+y>=Re)&&(D.push(xe+1),D.push(ce),D.push(1-ee))}return z}}function Xp(c,l,d,y,w,T){if(w-y<=d)return;const K=y+w>>1;h0(c,l,K,y,w,T),Xp(c,l,d,y,K-1,1-T),Xp(c,l,d,K+1,w,1-T)}function h0(c,l,d,y,w,T){for(;w>y;){if(w-y>600){const V=w-y+1,ee=d-y+1,ce=Math.log(V),me=.5*Math.exp(2*ce/3),xe=.5*Math.sqrt(ce*me*(V-me)/V)*(ee-V/2<0?-1:1);h0(c,l,d,Math.max(y,Math.floor(d-ee*me/V+xe)),Math.min(w,Math.floor(d+(V-ee)*me/V+xe)),T)}const K=l[2*d+T];let D=y,z=w;for(f0(c,l,y,d),l[2*w+T]>K&&f0(c,l,y,w);D<z;){for(f0(c,l,D,z),D++,z--;l[2*D+T]<K;)D++;for(;l[2*z+T]>K;)z--}l[2*y+T]===K?f0(c,l,y,z):(z++,f0(c,l,z,w)),z<=d&&(y=z+1),d<=z&&(w=z-1)}}function f0(c,l,d,y){Mv(c,d,y),Mv(l,2*d,2*y),Mv(l,2*d+1,2*y+1)}function Mv(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}function rg(c,l,d,y){const w=c-d,T=l-y;return w*w+T*T}var ig;s.bc=void 0,(ig=s.bc||(s.bc={})).create="create",ig.load="load",ig.fullLoad="fullLoad";let og=null,p0=[];const Sv=1e3/60,Ev="loadTime",Ov="fullLoadTime",ww={mark(c){performance.mark(c)},frame(c){const l=c;og!=null&&p0.push(l-og),og=l},clearMetrics(){og=null,p0=[],performance.clearMeasures(Ev),performance.clearMeasures(Ov);for(const c in s.bc)performance.clearMarks(s.bc[c])},getPerformanceMetrics(){performance.measure(Ev,s.bc.create,s.bc.load),performance.measure(Ov,s.bc.create,s.bc.fullLoad);const c=performance.getEntriesByName(Ev)[0].duration,l=performance.getEntriesByName(Ov)[0].duration,d=p0.length,y=1/(p0.reduce((T,K)=>T+K,0)/d/1e3),w=p0.filter(T=>T>Sv).reduce((T,K)=>T+(K-Sv)/Sv,0);return{loadTime:c,fullLoadTime:l,fps:y,percentDroppedFrames:w/(d+w)*100,totalFrames:d}}};s.$=kr,s.A=zd,s.B=function(c){if(jt==null){const l=c.navigator?c.navigator.userAgent:null;jt=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return jt},s.C=class{constructor(c,l){this.target=c,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new pw(()=>this.process()),this.subscription=function(d,y,w,T){return d.addEventListener(y,w,!1),{unsubscribe:()=>{d.removeEventListener(y,w,!1)}}}(this.target,"message",d=>this.receive(d)),this.globalScope=Ut(self)?c:window}registerMessageHandler(c,l){this.messageHandlers[c]=l}sendAsync(c,l){return new Promise((d,y)=>{const w=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[w]={resolve:d,reject:y},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[w];const D={id:w,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(D)},{once:!0});const T=[],K=Object.assign(Object.assign({},c),{id:w,sourceMapId:this.mapId,origin:location.origin,data:oA(c.data,T)});this.target.postMessage(K,{transfer:T})})}receive(c){const l=c.data,d=l.id;if(l.origin===location.origin&&(!l.targetMapId||this.mapId===l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[d];const y=this.abortControllers[d];return delete this.abortControllers[d],void(y&&y.abort())}if(Ut(self)||l.mustQueue)return this.tasks[d]=l,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,l)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){return a(this,void 0,void 0,function*(){if(l.type==="<response>"){const w=this.resolveRejects[c];return delete this.resolveRejects[c],w?void(l.error?w.reject(dc(l.error)):w.resolve(dc(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=dc(l.data),y=new AbortController;this.abortControllers[c]=y;try{const w=yield this.messageHandlers[l.type](l.sourceMapId,d,y);this.completeTask(c,null,w)}catch(w){this.completeTask(c,w)}})}completeTask(c,l,d){const y=[];delete this.abortControllers[c];const w={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?oA(l):null,data:oA(d,y)};this.target.postMessage(w,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.D=gr,s.E=Dt,s.F=function(){var c=new zd(16);return zd!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},s.G=Pt,s.H=function(c,l,d){var y,w,T,K,D,z,V,ee,ce,me,xe,Oe,Re=d[0],Qe=d[1],it=d[2];return l===c?(c[12]=l[0]*Re+l[4]*Qe+l[8]*it+l[12],c[13]=l[1]*Re+l[5]*Qe+l[9]*it+l[13],c[14]=l[2]*Re+l[6]*Qe+l[10]*it+l[14],c[15]=l[3]*Re+l[7]*Qe+l[11]*it+l[15]):(w=l[1],T=l[2],K=l[3],D=l[4],z=l[5],V=l[6],ee=l[7],ce=l[8],me=l[9],xe=l[10],Oe=l[11],c[0]=y=l[0],c[1]=w,c[2]=T,c[3]=K,c[4]=D,c[5]=z,c[6]=V,c[7]=ee,c[8]=ce,c[9]=me,c[10]=xe,c[11]=Oe,c[12]=y*Re+D*Qe+ce*it+l[12],c[13]=w*Re+z*Qe+me*it+l[13],c[14]=T*Re+V*Qe+xe*it+l[14],c[15]=K*Re+ee*Qe+Oe*it+l[15]),c},s.I=Zs,s.J=function(c,l,d){var y=d[0],w=d[1],T=d[2];return c[0]=l[0]*y,c[1]=l[1]*y,c[2]=l[2]*y,c[3]=l[3]*y,c[4]=l[4]*w,c[5]=l[5]*w,c[6]=l[6]*w,c[7]=l[7]*w,c[8]=l[8]*T,c[9]=l[9]*T,c[10]=l[10]*T,c[11]=l[11]*T,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},s.K=Fp,s.L=function(c,l){const d={};for(let y=0;y<l.length;y++){const w=l[y];w in c&&(d[w]=c[w])}return d},s.M=Yh,s.N=Ub,s.O=gv,s.P=B,s.Q=dA,s.R=sl,s.S=Q,s.T=Pp,s.U=q,s.V=He,s.W=ua,s.X=Lo,s.Y=V1,s.Z=class extends lA{},s._=a,s.a=dt,s.a$=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},s.a0=yv,s.a1=Y,s.a2=c=>{const l=window.document.createElement("video");return l.muted=!0,new Promise(d=>{l.onloadstart=()=>{d(l)};for(const y of c){const w=window.document.createElement("source");Pe(y)||(l.crossOrigin="Anonymous"),w.src=y,l.appendChild(w)}})},s.a3=function(){return ye++},s.a4=u,s.a5=Vp,s.a6=kd,s.a7=UA,s.a8=yo,s.a9=Gb,s.aA=et,s.aB=function(c,l){if(!c)return[{command:"setStyle",args:[l]}];let d=[];try{if(!bn(c.version,l.version))return[{command:"setStyle",args:[l]}];bn(c.center,l.center)||d.push({command:"setCenter",args:[l.center]}),bn(c.zoom,l.zoom)||d.push({command:"setZoom",args:[l.zoom]}),bn(c.bearing,l.bearing)||d.push({command:"setBearing",args:[l.bearing]}),bn(c.pitch,l.pitch)||d.push({command:"setPitch",args:[l.pitch]}),bn(c.sprite,l.sprite)||d.push({command:"setSprite",args:[l.sprite]}),bn(c.glyphs,l.glyphs)||d.push({command:"setGlyphs",args:[l.glyphs]}),bn(c.transition,l.transition)||d.push({command:"setTransition",args:[l.transition]}),bn(c.light,l.light)||d.push({command:"setLight",args:[l.light]}),bn(c.terrain,l.terrain)||d.push({command:"setTerrain",args:[l.terrain]});const y={},w=[];(function(K,D,z,V){let ee;for(ee in D=D||{},K=K||{})Object.prototype.hasOwnProperty.call(K,ee)&&(Object.prototype.hasOwnProperty.call(D,ee)||xr(ee,z,V));for(ee in D)Object.prototype.hasOwnProperty.call(D,ee)&&(Object.prototype.hasOwnProperty.call(K,ee)?bn(K[ee],D[ee])||(K[ee].type==="geojson"&&D[ee].type==="geojson"&&_r(K,D,ee)?Jn(z,{command:"setGeoJSONSourceData",args:[ee,D[ee].data]}):Nr(ee,D,z,V)):mr(ee,D,z))})(c.sources,l.sources,w,y);const T=[];c.layers&&c.layers.forEach(K=>{"source"in K&&y[K.source]?d.push({command:"removeLayer",args:[K.id]}):T.push(K)}),d=d.concat(w),function(K,D,z){D=D||[];const V=(K=K||[]).map(we),ee=D.map(we),ce=K.reduce(H,{}),me=D.reduce(H,{}),xe=V.slice(),Oe=Object.create(null);let Re,Qe,it,Mt,lt;for(let vt=0,tn=0;vt<V.length;vt++)Re=V[vt],Object.prototype.hasOwnProperty.call(me,Re)?tn++:(Jn(z,{command:"removeLayer",args:[Re]}),xe.splice(xe.indexOf(Re,tn),1));for(let vt=0,tn=0;vt<ee.length;vt++)Re=ee[ee.length-1-vt],xe[xe.length-1-vt]!==Re&&(Object.prototype.hasOwnProperty.call(ce,Re)?(Jn(z,{command:"removeLayer",args:[Re]}),xe.splice(xe.lastIndexOf(Re,xe.length-tn),1)):tn++,Mt=xe[xe.length-vt],Jn(z,{command:"addLayer",args:[me[Re],Mt]}),xe.splice(xe.length-vt,0,Re),Oe[Re]=!0);for(let vt=0;vt<ee.length;vt++)if(Re=ee[vt],Qe=ce[Re],it=me[Re],!Oe[Re]&&!bn(Qe,it))if(bn(Qe.source,it.source)&&bn(Qe["source-layer"],it["source-layer"])&&bn(Qe.type,it.type)){for(lt in fi(Qe.layout,it.layout,z,Re,null,"setLayoutProperty"),fi(Qe.paint,it.paint,z,Re,null,"setPaintProperty"),bn(Qe.filter,it.filter)||Jn(z,{command:"setFilter",args:[Re,it.filter]}),bn(Qe.minzoom,it.minzoom)&&bn(Qe.maxzoom,it.maxzoom)||Jn(z,{command:"setLayerZoomRange",args:[Re,it.minzoom,it.maxzoom]}),Qe)Object.prototype.hasOwnProperty.call(Qe,lt)&&lt!=="layout"&&lt!=="paint"&&lt!=="filter"&&lt!=="metadata"&&lt!=="minzoom"&&lt!=="maxzoom"&&(lt.indexOf("paint.")===0?fi(Qe[lt],it[lt],z,Re,lt.slice(6),"setPaintProperty"):bn(Qe[lt],it[lt])||Jn(z,{command:"setLayerProperty",args:[Re,lt,it[lt]]}));for(lt in it)Object.prototype.hasOwnProperty.call(it,lt)&&!Object.prototype.hasOwnProperty.call(Qe,lt)&&lt!=="layout"&&lt!=="paint"&&lt!=="filter"&&lt!=="metadata"&&lt!=="minzoom"&&lt!=="maxzoom"&&(lt.indexOf("paint.")===0?fi(Qe[lt],it[lt],z,Re,lt.slice(6),"setPaintProperty"):bn(Qe[lt],it[lt])||Jn(z,{command:"setLayerProperty",args:[Re,lt,it[lt]]}))}else Jn(z,{command:"removeLayer",args:[Re]}),Mt=xe[xe.lastIndexOf(Re)+1],Jn(z,{command:"addLayer",args:[it,Mt]})}(T,l.layers,d)}catch(y){console.warn("Unable to compute style diff:",y),d=[{command:"setStyle",args:[l]}]}return d},s.aC=function(c){const l=[],d=c.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},s.aD=function c(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let y=0;y<l.length;y++)if(!c(l[y],d[y]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const y in l)if(!c(l[y],d[y]))return!1;return!0}return l===d},s.aE=De,s.aF=Ne,s.aG=class extends _a{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},s.aH=vo,s.aI=class extends _a{constructor(c,l){super(c,l),this.current=Ts}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},s.aJ=Fl,s.aK=class extends _a{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},s.aL=class extends _a{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},s.aM=DA,s.aN=function(c,l,d,y,w,T,K){var D=1/(l-d),z=1/(y-w),V=1/(T-K);return c[0]=-2*D,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*z,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*V,c[11]=0,c[12]=(l+d)*D,c[13]=(w+y)*z,c[14]=(K+T)*V,c[15]=1,c},s.aO=_i,s.aP=Dp,s.aQ=class extends la{},s.aR=qe,s.aS=class extends gc{},s.aT=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},s.aU=td,s.aV=Ee,s.aW=class extends bl{},s.aX=cn,s.aY=function(c,l){var d=c[0],y=c[1],w=c[2],T=c[3],K=c[4],D=c[5],z=c[6],V=c[7],ee=c[8],ce=c[9],me=c[10],xe=c[11],Oe=c[12],Re=c[13],Qe=c[14],it=c[15],Mt=l[0],lt=l[1],vt=l[2],tn=l[3],An=l[4],Dn=l[5],vr=l[6],$n=l[7],Cn=l[8],fn=l[9],sr=l[10],Ln=l[11],wn=l[12],Ir=l[13],br=l[14],Oi=l[15];return Math.abs(d-Mt)<=al*Math.max(1,Math.abs(d),Math.abs(Mt))&&Math.abs(y-lt)<=al*Math.max(1,Math.abs(y),Math.abs(lt))&&Math.abs(w-vt)<=al*Math.max(1,Math.abs(w),Math.abs(vt))&&Math.abs(T-tn)<=al*Math.max(1,Math.abs(T),Math.abs(tn))&&Math.abs(K-An)<=al*Math.max(1,Math.abs(K),Math.abs(An))&&Math.abs(D-Dn)<=al*Math.max(1,Math.abs(D),Math.abs(Dn))&&Math.abs(z-vr)<=al*Math.max(1,Math.abs(z),Math.abs(vr))&&Math.abs(V-$n)<=al*Math.max(1,Math.abs(V),Math.abs($n))&&Math.abs(ee-Cn)<=al*Math.max(1,Math.abs(ee),Math.abs(Cn))&&Math.abs(ce-fn)<=al*Math.max(1,Math.abs(ce),Math.abs(fn))&&Math.abs(me-sr)<=al*Math.max(1,Math.abs(me),Math.abs(sr))&&Math.abs(xe-Ln)<=al*Math.max(1,Math.abs(xe),Math.abs(Ln))&&Math.abs(Oe-wn)<=al*Math.max(1,Math.abs(Oe),Math.abs(wn))&&Math.abs(Re-Ir)<=al*Math.max(1,Math.abs(Re),Math.abs(Ir))&&Math.abs(Qe-br)<=al*Math.max(1,Math.abs(Qe),Math.abs(br))&&Math.abs(it-Oi)<=al*Math.max(1,Math.abs(it),Math.abs(Oi))},s.aZ=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},s.a_=function(c,l,d){return c[0]=l[0]*d[0],c[1]=l[1]*d[1],c[2]=l[2]*d[2],c[3]=l[3]*d[3],c},s.aa=function(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,y,w,T)=>{const K=w||T;return l[y]=!K||K.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},s.ab=function(c,l){const d=[];for(const y in c)y in l||d.push(y);return d},s.ac=Ae,s.ad=function(c,l,d){var y=Math.sin(d),w=Math.cos(d),T=l[0],K=l[1],D=l[2],z=l[3],V=l[4],ee=l[5],ce=l[6],me=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=T*w+V*y,c[1]=K*w+ee*y,c[2]=D*w+ce*y,c[3]=z*w+me*y,c[4]=V*w-T*y,c[5]=ee*w-K*y,c[6]=ce*w-D*y,c[7]=me*w-z*y,c},s.ae=function(c){var l=new zd(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},s.af=Lp,s.ag=function(c,l){let d=0,y=0;if(c.kind==="constant")y=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:w,minZoom:T,maxZoom:K}=c,D=w?Ae(wr.interpolationFactor(w,l,T,K),0,1):0;c.kind==="camera"?y=Yt.number(c.minSize,c.maxSize,D):d=D}return{uSizeT:d,uSize:y}},s.ai=function(c,{uSize:l,uSizeT:d},{lowerSize:y,upperSize:w}){return c.kind==="source"?y/ld:c.kind==="composite"?Yt.number(y/ld,w/ld,d):l},s.aj=dv,s.ak=function(c,l,d,y){const w=l.y-c.y,T=l.x-c.x,K=y.y-d.y,D=y.x-d.x,z=K*T-D*w;if(z===0)return null;const V=(D*(c.y-d.y)-K*(c.x-d.x))/z;return new B(c.x+V*T,c.y+V*w)},s.al=qb,s.am=_c,s.an=Jm,s.ao=Lt,s.aq=cv,s.ar=function(c,l){var d=l[0],y=l[1],w=l[2],T=l[3],K=l[4],D=l[5],z=l[6],V=l[7],ee=l[8],ce=l[9],me=l[10],xe=l[11],Oe=l[12],Re=l[13],Qe=l[14],it=l[15],Mt=d*D-y*K,lt=d*z-w*K,vt=d*V-T*K,tn=y*z-w*D,An=y*V-T*D,Dn=w*V-T*z,vr=ee*Re-ce*Oe,$n=ee*Qe-me*Oe,Cn=ee*it-xe*Oe,fn=ce*Qe-me*Re,sr=ce*it-xe*Re,Ln=me*it-xe*Qe,wn=Mt*Ln-lt*sr+vt*fn+tn*Cn-An*$n+Dn*vr;return wn?(c[0]=(D*Ln-z*sr+V*fn)*(wn=1/wn),c[1]=(w*sr-y*Ln-T*fn)*wn,c[2]=(Re*Dn-Qe*An+it*tn)*wn,c[3]=(me*An-ce*Dn-xe*tn)*wn,c[4]=(z*Cn-K*Ln-V*$n)*wn,c[5]=(d*Ln-w*Cn+T*$n)*wn,c[6]=(Qe*vt-Oe*Dn-it*lt)*wn,c[7]=(ee*Dn-me*vt+xe*lt)*wn,c[8]=(K*sr-D*Cn+V*vr)*wn,c[9]=(y*Cn-d*sr-T*vr)*wn,c[10]=(Oe*An-Re*vt+it*Mt)*wn,c[11]=(ce*vt-ee*An-xe*Mt)*wn,c[12]=(D*$n-K*fn-z*vr)*wn,c[13]=(d*fn-y*$n+w*vr)*wn,c[14]=(Re*lt-Oe*tn-Qe*Mt)*wn,c[15]=(ee*tn-ce*lt+me*Mt)*wn,c):null},s.as=ng,s.at=Av,s.au=wv,s.av=function(){const c={},l=pt.$version;for(const d in pt.$root){const y=pt.$root[d];if(y.required){let w=null;w=d==="version"?l:y.type==="array"?[]:{},w!=null&&(c[d]=w)}}return c},s.aw=mu,s.ax=he,s.ay=function(c){c=c.slice();const l=Object.create(null);for(let d=0;d<c.length;d++)l[c[d].id]=c[d];for(let d=0;d<c.length;d++)"ref"in c[d]&&(c[d]=pn(c[d],l[c[d].ref]));return c},s.az=function(c){if(c.type==="custom")return new fw(c);switch(c.type){case"background":return new dw(c);case"circle":return new e0(c);case"fill":return new Np(c);case"fill-extrusion":return new sd(c);case"heatmap":return new jd(c);case"hillshade":return new _u(c);case"line":return new L(c);case"raster":return new hw(c);case"symbol":return new Y1(c)}},s.b=nn,s.b0=ae,s.b1=jb,s.b2=Rb,s.b3=function(c,l,d,y,w){var T,K=1/Math.tan(l/2);return c[0]=K/d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=K,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,w!=null&&w!==1/0?(c[10]=(w+y)*(T=1/(y-w)),c[14]=2*w*y*T):(c[10]=-1,c[14]=-2*y),c},s.b4=function(c,l,d){var y=Math.sin(d),w=Math.cos(d),T=l[4],K=l[5],D=l[6],z=l[7],V=l[8],ee=l[9],ce=l[10],me=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=T*w+V*y,c[5]=K*w+ee*y,c[6]=D*w+ce*y,c[7]=z*w+me*y,c[8]=V*w-T*y,c[9]=ee*w-K*y,c[10]=ce*w-D*y,c[11]=me*w-z*y,c},s.b5=oe,s.b6=re,s.b7=function(c){return c*Math.PI/180},s.b8=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},s.b9=class extends Ru{},s.ba=mv,s.bb=ww,s.bd=Me,s.be=function(c,l){dt.REGISTERED_PROTOCOLS[c]=l},s.bf=function(c){delete dt.REGISTERED_PROTOCOLS[c]},s.bg=function(c,l){const d={};for(let w=0;w<c.length;w++){const T=l&&l[c[w].id]||Kl(c[w]);l&&(l[c[w].id]=T);let K=d[T];K||(K=d[T]=[]),K.push(c[w])}const y=[];for(const w in d)y.push(d[w]);return y},s.bh=zn,s.bi=Nb,s.bj=Qb,s.bk=Hd,s.bl=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=ua/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0],d=l.layout,y=l._unevaluatedLayout._values,w={layoutIconSize:y["icon-size"].possiblyEvaluate(new yo(c.bucket.zoom+1),c.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new yo(c.bucket.zoom+1),c.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new yo(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:V,maxZoom:ee}=c.bucket.textSizeData;w.compositeTextSizes=[y["text-size"].possiblyEvaluate(new yo(V),c.canonical),y["text-size"].possiblyEvaluate(new yo(ee),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:V,maxZoom:ee}=c.bucket.iconSizeData;w.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new yo(V),c.canonical),y["icon-size"].possiblyEvaluate(new yo(ee),c.canonical)]}const T=d.get("text-line-height")*Lt,K=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",D=d.get("text-keep-upright"),z=d.get("text-size");for(const V of c.bucket.features){const ee=d.get("text-font").evaluate(V,{},c.canonical).join(","),ce=z.evaluate(V,{},c.canonical),me=w.layoutTextSize.evaluate(V,{},c.canonical),xe=w.layoutIconSize.evaluate(V,{},c.canonical),Oe={horizontal:{},vertical:void 0},Re=V.text;let Qe,it=[0,0];if(Re){const vt=Re.toString(),tn=d.get("text-letter-spacing").evaluate(V,{},c.canonical)*Lt,An=KA(vt)?tn:0,Dn=d.get("text-anchor").evaluate(V,{},c.canonical),vr=tg(l,V,c.canonical);if(!vr){const Ln=d.get("text-radial-offset").evaluate(V,{},c.canonical);it=Ln?Cv(Dn,[Ln*Lt,eg]):d.get("text-offset").evaluate(V,{},c.canonical).map(wn=>wn*Lt)}let $n=K?"center":d.get("text-justify").evaluate(V,{},c.canonical);const Cn=d.get("symbol-placement"),fn=Cn==="point"?d.get("text-max-width").evaluate(V,{},c.canonical)*Lt:0,sr=()=>{c.bucket.allowVerticalPlacement&&hc(vt)&&(Oe.vertical=N1(Re,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,Dn,"left",An,it,s.ah.vertical,!0,Cn,me,ce))};if(!K&&vr){const Ln=new Set;if($n==="auto")for(let Ir=0;Ir<vr.values.length;Ir+=2)Ln.add(ng(vr.values[Ir]));else Ln.add($n);let wn=!1;for(const Ir of Ln)if(!Oe.horizontal[Ir])if(wn)Oe.horizontal[Ir]=Oe.horizontal[0];else{const br=N1(Re,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,"center",Ir,An,it,s.ah.horizontal,!1,Cn,me,ce);br&&(Oe.horizontal[Ir]=br,wn=br.positionedLines.length===1)}sr()}else{$n==="auto"&&($n=ng(Dn));const Ln=N1(Re,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,Dn,$n,An,it,s.ah.horizontal,!1,Cn,me,ce);Ln&&(Oe.horizontal[$n]=Ln),sr(),hc(vt)&&K&&D&&(Oe.vertical=N1(Re,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,Dn,$n,An,it,s.ah.vertical,!1,Cn,me,ce))}}let Mt=!1;if(V.icon&&V.icon.name){const vt=c.imageMap[V.icon.name];vt&&(Qe=sw(c.imagePositions[V.icon.name],d.get("icon-offset").evaluate(V,{},c.canonical),d.get("icon-anchor").evaluate(V,{},c.canonical)),Mt=!!vt.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=Mt:c.bucket.sdfIcons!==Mt&&Ke("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vt.pixelRatio!==c.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const lt=xv(Oe.horizontal)||Oe.vertical;c.bucket.iconsInText=!!lt&&lt.iconsInText,(lt||Qe)&&ex(c.bucket,V,Oe,Qe,c.imageMap,w,me,xe,it,Mt,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},s.bm=Qh,s.bn=zh,s.bo=qd,s.bp=Qu,s.bq=zA,s.br=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},s.bs=function(c,l,d,y,w){return a(this,void 0,void 0,function*(){if(q())try{return yield He(c,l,d,y,w)}catch{}return function(T,K,D,z,V){const ee=T.width,ce=T.height;Je&&tt||(Je=new OffscreenCanvas(ee,ce),tt=Je.getContext("2d",{willReadFrequently:!0})),Je.width=ee,Je.height=ce,tt.drawImage(T,0,0,ee,ce);const me=tt.getImageData(K,D,z,V);return tt.clearRect(0,0,ee,ce),me.data}(c,l,d,y,w)})},s.bt=Wb,s.bu=h,s.bv=g,s.bw=dn,s.bx=uc,s.by=function(c){return c.message===on},s.bz=Lu,s.c=mt,s.d=c=>a(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(l)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.e=se,s.f=c=>new Promise((l,d)=>{const y=new Image;y.onload=()=>{l(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=Qt})},y.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const w=new Blob([new Uint8Array(c)],{type:"image/png"});y.src=c.byteLength?URL.createObjectURL(w):Qt}),s.g=kt,s.h=(c,l)=>be(se(c,{type:"json"}),l),s.i=Ut,s.j=Ft,s.k=xt,s.l=(c,l)=>be(se(c,{type:"arrayBuffer"}),l),s.m=be,s.n=function(c){return new zA(c).readFields(jA,[])},s.o=Sa,s.p=wc,s.q=Qo,s.r=xh,s.s=Pe,s.t=TA,s.u=Nn,s.v=pt,s.w=Ke,s.x=Vi,s.y=function([c,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(d),y:c*Math.sin(l)*Math.sin(d),z:c*Math.cos(d)}},s.z=Yt}),i("worker",["./shared"],function(s){class a{constructor(de){this.keyCache={},de&&this.replace(de)}replace(de){this._layerConfigs={},this._layers={},this.update(de,[])}update(de,ve){for(const Ue of de){this._layerConfigs[Ue.id]=Ue;const Xe=this._layers[Ue.id]=s.az(Ue);Xe._featureFilter=s.a6(Xe.filter),this.keyCache[Ue.id]&&delete this.keyCache[Ue.id]}for(const Ue of ve)delete this.keyCache[Ue],delete this._layerConfigs[Ue],delete this._layers[Ue];this.familiesBySource={};const Se=s.bg(Object.values(this._layerConfigs),this.keyCache);for(const Ue of Se){const Xe=Ue.map(Ht=>this._layers[Ht.id]),at=Xe[0];if(at.visibility==="none")continue;const ht=at.source||"";let Ve=this.familiesBySource[ht];Ve||(Ve=this.familiesBySource[ht]={});const Ct=at.sourceLayer||"_geojsonTileLayer";let Zt=Ve[Ct];Zt||(Zt=Ve[Ct]=[]),Zt.push(Xe)}}}class h{constructor(de){const ve={},Se=[];for(const ht in de){const Ve=de[ht],Ct=ve[ht]={};for(const Zt in Ve){const Ht=Ve[+Zt];if(!Ht||Ht.bitmap.width===0||Ht.bitmap.height===0)continue;const qt={x:0,y:0,w:Ht.bitmap.width+2,h:Ht.bitmap.height+2};Se.push(qt),Ct[Zt]={rect:qt,metrics:Ht.metrics}}}const{w:Ue,h:Xe}=s.p(Se),at=new s.o({width:Ue||1,height:Xe||1});for(const ht in de){const Ve=de[ht];for(const Ct in Ve){const Zt=Ve[+Ct];if(!Zt||Zt.bitmap.width===0||Zt.bitmap.height===0)continue;const Ht=ve[ht][Ct].rect;s.o.copy(Zt.bitmap,at,{x:0,y:0},{x:Ht.x+1,y:Ht.y+1},Zt.bitmap)}}this.image=at,this.positions=ve}}s.bh("GlyphAtlas",h);class g{constructor(de){this.tileID=new s.Q(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.uid=de.uid,this.zoom=de.zoom,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=de.showCollisionBoxes,this.collectResourceTiming=!!de.collectResourceTiming,this.returnDependencies=!!de.returnDependencies,this.promoteId=de.promoteId,this.inFlightDependencies=[]}parse(de,ve,Se,Ue){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=de,this.collisionBoxArray=new s.a4;const Xe=new s.bi(Object.keys(de.layers).sort()),at=new s.bj(this.tileID,this.promoteId);at.bucketLayerIDs=[];const ht={},Ve={featureIndex:at,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Se},Ct=ve.familiesBySource[this.source];for(const rr in Ct){const li=de.layers[rr];if(!li)continue;li.version===1&&s.w(`Vector tile source "${this.source}" layer "${rr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ki=Xe.encode(rr),Xi=[];for(let xo=0;xo<li.length;xo++){const pi=li.feature(xo),Oo=at.getId(pi,rr);Xi.push({feature:pi,id:Oo,index:xo,sourceLayerIndex:ki})}for(const xo of Ct[rr]){const pi=xo[0];pi.source!==this.source&&s.w(`layer.source = ${pi.source} does not equal this.source = ${this.source}`),pi.minzoom&&this.zoom<Math.floor(pi.minzoom)||pi.maxzoom&&this.zoom>=pi.maxzoom||pi.visibility!=="none"&&(C(xo,this.zoom,Se),(ht[pi.id]=pi.createBucket({index:at.bucketLayerIDs.length,layers:xo,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ki,sourceID:this.source})).populate(Xi,Ve,this.tileID.canonical),at.bucketLayerIDs.push(xo.map(Oo=>Oo.id)))}}const Zt=s.aE(Ve.glyphDependencies,rr=>Object.keys(rr).map(Number));this.inFlightDependencies.forEach(rr=>rr==null?void 0:rr.abort()),this.inFlightDependencies=[];let Ht=Promise.resolve({});if(Object.keys(Zt).length){const rr=new AbortController;this.inFlightDependencies.push(rr),Ht=Ue.sendAsync({type:"getGlyphs",data:{stacks:Zt,source:this.source,tileID:this.tileID,type:"glyphs"}},rr)}const qt=Object.keys(Ve.iconDependencies);let Vn=Promise.resolve({});if(qt.length){const rr=new AbortController;this.inFlightDependencies.push(rr),Vn=Ue.sendAsync({type:"getImages",data:{icons:qt,source:this.source,tileID:this.tileID,type:"icons"}},rr)}const On=Object.keys(Ve.patternDependencies);let ir=Promise.resolve({});if(On.length){const rr=new AbortController;this.inFlightDependencies.push(rr),ir=Ue.sendAsync({type:"getImages",data:{icons:On,source:this.source,tileID:this.tileID,type:"patterns"}},rr)}const[or,Tr,Ur]=yield Promise.all([Ht,Vn,ir]),Dr=new h(or),Jr=new s.bk(Tr,Ur);for(const rr in ht){const li=ht[rr];li instanceof s.a5?(C(li.layers,this.zoom,Se),s.bl({bucket:li,glyphMap:or,glyphPositions:Dr.positions,imageMap:Tr,imagePositions:Jr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):li.hasPattern&&(li instanceof s.bm||li instanceof s.bn||li instanceof s.bo)&&(C(li.layers,this.zoom,Se),li.addFeatures(Ve,this.tileID.canonical,Jr.patternPositions))}return this.status="done",{buckets:Object.values(ht).filter(rr=>!rr.isEmpty()),featureIndex:at,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Dr.image,imageAtlas:Jr,glyphMap:this.returnDependencies?or:null,iconMap:this.returnDependencies?Tr:null,glyphPositions:this.returnDependencies?Dr.positions:null}})}}function C(Te,de,ve){const Se=new s.a8(de);for(const Ue of Te)Ue.recalculate(Se,ve)}class B{constructor(de,ve,Se){this.actor=de,this.layerIndex=ve,this.availableImages=Se,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(de,ve){return s._(this,void 0,void 0,function*(){const Se=yield s.l(de.request,ve);try{return{vectorTile:new s.bp.VectorTile(new s.bq(Se.data)),rawData:Se.data,cacheControl:Se.cacheControl,expires:Se.expires}}catch(Ue){const Xe=new Uint8Array(Se.data);let at=`Unable to parse the tile at ${de.request.url}, `;throw at+=Xe[0]===31&&Xe[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ue.messge}`,new Error(at)}})}loadTile(de){return s._(this,void 0,void 0,function*(){const ve=de.uid,Se=!!(de&&de.request&&de.request.collectResourceTiming)&&new s.br(de.request),Ue=new g(de);this.loading[ve]=Ue;const Xe=new AbortController;Ue.abort=Xe;try{const at=yield this.loadVectorTile(de,Xe);if(delete this.loading[ve],!at)return null;const ht=at.rawData,Ve={};at.expires&&(Ve.expires=at.expires),at.cacheControl&&(Ve.cacheControl=at.cacheControl);const Ct={};if(Se){const Ht=Se.finish();Ht&&(Ct.resourceTiming=JSON.parse(JSON.stringify(Ht)))}Ue.vectorTile=at.vectorTile;const Zt=Ue.parse(at.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[ve]=Ue,this.fetching[ve]={rawTileData:ht,cacheControl:Ve,resourceTiming:Ct};try{const Ht=yield Zt;return s.e({rawTileData:ht.slice(0)},Ht,Ve,Ct)}finally{delete this.fetching[ve]}}catch(at){throw delete this.loading[ve],Ue.status="done",this.loaded[ve]=Ue,at}})}reloadTile(de){return s._(this,void 0,void 0,function*(){const ve=de.uid;if(!this.loaded||!this.loaded[ve])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Se=this.loaded[ve];if(Se.showCollisionBoxes=de.showCollisionBoxes,Se.status==="parsing"){const Ue=yield Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor);let Xe;if(this.fetching[ve]){const{rawTileData:at,cacheControl:ht,resourceTiming:Ve}=this.fetching[ve];delete this.fetching[ve],Xe=s.e({rawTileData:at.slice(0)},Ue,ht,Ve)}else Xe=Ue;return Xe}if(Se.status==="done"&&Se.vectorTile)return Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(de){return s._(this,void 0,void 0,function*(){const ve=this.loading,Se=de.uid;ve&&ve[Se]&&ve[Se].abort&&(ve[Se].abort.abort(),delete ve[Se])})}removeTile(de){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[de.uid]&&delete this.loaded[de.uid]})}}class k{constructor(){this.loaded={}}loadTile(de){return s._(this,void 0,void 0,function*(){const{uid:ve,encoding:Se,rawImageData:Ue,redFactor:Xe,greenFactor:at,blueFactor:ht,baseShift:Ve}=de,Ct=Ue.width+2,Zt=Ue.height+2,Ht=s.b(Ue)?new s.R({width:Ct,height:Zt},yield s.bs(Ue,-1,-1,Ct,Zt)):Ue,qt=new s.bt(ve,Ht,Se,Xe,at,ht,Ve);return this.loaded=this.loaded||{},this.loaded[ve]=qt,qt})}removeTile(de){const ve=this.loaded,Se=de.uid;ve&&ve[Se]&&delete ve[Se]}}function P(Te,de){if(Te.length!==0){U(Te[0],de);for(var ve=1;ve<Te.length;ve++)U(Te[ve],!de)}}function U(Te,de){for(var ve=0,Se=0,Ue=0,Xe=Te.length,at=Xe-1;Ue<Xe;at=Ue++){var ht=(Te[Ue][0]-Te[at][0])*(Te[at][1]+Te[Ue][1]),Ve=ve+ht;Se+=Math.abs(ve)>=Math.abs(ht)?ve-Ve+ht:ht-Ve+ve,ve=Ve}ve+Se>=0!=!!de&&Te.reverse()}var Z=s.bu(function Te(de,ve){var Se,Ue=de&&de.type;if(Ue==="FeatureCollection")for(Se=0;Se<de.features.length;Se++)Te(de.features[Se],ve);else if(Ue==="GeometryCollection")for(Se=0;Se<de.geometries.length;Se++)Te(de.geometries[Se],ve);else if(Ue==="Feature")Te(de.geometry,ve);else if(Ue==="Polygon")P(de.coordinates,ve);else if(Ue==="MultiPolygon")for(Se=0;Se<de.coordinates.length;Se++)P(de.coordinates[Se],ve);return de});const W=s.bp.VectorTileFeature.prototype.toGeoJSON;var Q={exports:{}},q=s.bv,oe=s.bp.VectorTileFeature,re=Ae;function Ae(Te,de){this.options=de||{},this.features=Te,this.length=Te.length}function ae(Te,de){this.id=typeof Te.id=="number"?Te.id:void 0,this.type=Te.type,this.rawGeometry=Te.type===1?[Te.geometry]:Te.geometry,this.properties=Te.tags,this.extent=de||4096}Ae.prototype.feature=function(Te){return new ae(this.features[Te],this.options.extent)},ae.prototype.loadGeometry=function(){var Te=this.rawGeometry;this.geometry=[];for(var de=0;de<Te.length;de++){for(var ve=Te[de],Se=[],Ue=0;Ue<ve.length;Ue++)Se.push(new q(ve[Ue][0],ve[Ue][1]));this.geometry.push(Se)}return this.geometry},ae.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Te=this.geometry,de=1/0,ve=-1/0,Se=1/0,Ue=-1/0,Xe=0;Xe<Te.length;Xe++)for(var at=Te[Xe],ht=0;ht<at.length;ht++){var Ve=at[ht];de=Math.min(de,Ve.x),ve=Math.max(ve,Ve.x),Se=Math.min(Se,Ve.y),Ue=Math.max(Ue,Ve.y)}return[de,Se,ve,Ue]},ae.prototype.toGeoJSON=oe.prototype.toGeoJSON;var se=s.bw,ye=re;function De(Te){var de=new se;return function(ve,Se){for(var Ue in ve.layers)Se.writeMessage(3,Ne,ve.layers[Ue])}(Te,de),de.finish()}function Ne(Te,de){var ve;de.writeVarintField(15,Te.version||1),de.writeStringField(1,Te.name||""),de.writeVarintField(5,Te.extent||4096);var Se={keys:[],values:[],keycache:{},valuecache:{}};for(ve=0;ve<Te.length;ve++)Se.feature=Te.feature(ve),de.writeMessage(2,et,Se);var Ue=Se.keys;for(ve=0;ve<Ue.length;ve++)de.writeStringField(3,Ue[ve]);var Xe=Se.values;for(ve=0;ve<Xe.length;ve++)de.writeMessage(4,Ut,Xe[ve])}function et(Te,de){var ve=Te.feature;ve.id!==void 0&&de.writeVarintField(1,ve.id),de.writeMessage(2,ft,Te),de.writeVarintField(3,ve.type),de.writeMessage(4,_e,ve)}function ft(Te,de){var ve=Te.feature,Se=Te.keys,Ue=Te.values,Xe=Te.keycache,at=Te.valuecache;for(var ht in ve.properties){var Ve=ve.properties[ht],Ct=Xe[ht];if(Ve!==null){Ct===void 0&&(Se.push(ht),Xe[ht]=Ct=Se.length-1),de.writeVarint(Ct);var Zt=typeof Ve;Zt!=="string"&&Zt!=="boolean"&&Zt!=="number"&&(Ve=JSON.stringify(Ve));var Ht=Zt+":"+Ve,qt=at[Ht];qt===void 0&&(Ue.push(Ve),at[Ht]=qt=Ue.length-1),de.writeVarint(qt)}}}function Ke(Te,de){return(de<<3)+(7&Te)}function rt(Te){return Te<<1^Te>>31}function _e(Te,de){for(var ve=Te.loadGeometry(),Se=Te.type,Ue=0,Xe=0,at=ve.length,ht=0;ht<at;ht++){var Ve=ve[ht],Ct=1;Se===1&&(Ct=Ve.length),de.writeVarint(Ke(1,Ct));for(var Zt=Se===3?Ve.length-1:Ve.length,Ht=0;Ht<Zt;Ht++){Ht===1&&Se!==1&&de.writeVarint(Ke(2,Zt-1));var qt=Ve[Ht].x-Ue,Vn=Ve[Ht].y-Xe;de.writeVarint(rt(qt)),de.writeVarint(rt(Vn)),Ue+=qt,Xe+=Vn}Se===3&&de.writeVarint(Ke(7,1))}}function Ut(Te,de){var ve=typeof Te;ve==="string"?de.writeStringField(1,Te):ve==="boolean"?de.writeBooleanField(7,Te):ve==="number"&&(Te%1!=0?de.writeDoubleField(3,Te):Te<0?de.writeSVarintField(6,Te):de.writeVarintField(5,Te))}Q.exports=De,Q.exports.fromVectorTileJs=De,Q.exports.fromGeojsonVt=function(Te,de){de=de||{};var ve={};for(var Se in Te)ve[Se]=new ye(Te[Se].features,de),ve[Se].name=Se,ve[Se].version=de.version,ve[Se].extent=de.extent;return De({layers:ve})},Q.exports.GeoJSONWrapper=ye;var jt=s.bu(Q.exports);const nn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Te=>Te},Qt=Math.fround||(He=new Float32Array(1),Te=>(He[0]=+Te,He[0]));var He;const Je=3,tt=5,on=6;class mt{constructor(de){this.options=Object.assign(Object.create(nn),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:ve,minZoom:Se,maxZoom:Ue}=this.options;ve&&console.time("total time");const Xe=`prepare ${de.length} points`;ve&&console.time(Xe),this.points=de;const at=[];for(let Ve=0;Ve<de.length;Ve++){const Ct=de[Ve];if(!Ct.geometry)continue;const[Zt,Ht]=Ct.geometry.coordinates,qt=Qt(Pt(Zt)),Vn=Qt(Me(Ht));at.push(qt,Vn,1/0,Ve,-1,1),this.options.reduce&&at.push(0)}let ht=this.trees[Ue+1]=this._createTree(at);ve&&console.timeEnd(Xe);for(let Ve=Ue;Ve>=Se;Ve--){const Ct=+Date.now();ht=this.trees[Ve]=this._createTree(this._cluster(ht,Ve)),ve&&console.log("z%d: %d clusters in %dms",Ve,ht.numItems,+Date.now()-Ct)}return ve&&console.timeEnd("total time"),this}getClusters(de,ve){let Se=((de[0]+180)%360+360)%360-180;const Ue=Math.max(-90,Math.min(90,de[1]));let Xe=de[2]===180?180:((de[2]+180)%360+360)%360-180;const at=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)Se=-180,Xe=180;else if(Se>Xe){const Ht=this.getClusters([Se,Ue,180,at],ve),qt=this.getClusters([-180,Ue,Xe,at],ve);return Ht.concat(qt)}const ht=this.trees[this._limitZoom(ve)],Ve=ht.range(Pt(Se),Me(at),Pt(Xe),Me(Ue)),Ct=ht.data,Zt=[];for(const Ht of Ve){const qt=this.stride*Ht;Zt.push(Ct[qt+tt]>1?dt(Ct,qt,this.clusterProps):this.points[Ct[qt+Je]])}return Zt}getChildren(de){const ve=this._getOriginId(de),Se=this._getOriginZoom(de),Ue="No cluster with the specified id.",Xe=this.trees[Se];if(!Xe)throw new Error(Ue);const at=Xe.data;if(ve*this.stride>=at.length)throw new Error(Ue);const ht=this.options.radius/(this.options.extent*Math.pow(2,Se-1)),Ve=Xe.within(at[ve*this.stride],at[ve*this.stride+1],ht),Ct=[];for(const Zt of Ve){const Ht=Zt*this.stride;at[Ht+4]===de&&Ct.push(at[Ht+tt]>1?dt(at,Ht,this.clusterProps):this.points[at[Ht+Je]])}if(Ct.length===0)throw new Error(Ue);return Ct}getLeaves(de,ve,Se){const Ue=[];return this._appendLeaves(Ue,de,ve=ve||10,Se=Se||0,0),Ue}getTile(de,ve,Se){const Ue=this.trees[this._limitZoom(de)],Xe=Math.pow(2,de),{extent:at,radius:ht}=this.options,Ve=ht/at,Ct=(Se-Ve)/Xe,Zt=(Se+1+Ve)/Xe,Ht={features:[]};return this._addTileFeatures(Ue.range((ve-Ve)/Xe,Ct,(ve+1+Ve)/Xe,Zt),Ue.data,ve,Se,Xe,Ht),ve===0&&this._addTileFeatures(Ue.range(1-Ve/Xe,Ct,1,Zt),Ue.data,Xe,Se,Xe,Ht),ve===Xe-1&&this._addTileFeatures(Ue.range(0,Ct,Ve/Xe,Zt),Ue.data,-1,Se,Xe,Ht),Ht.features.length?Ht:null}getClusterExpansionZoom(de){let ve=this._getOriginZoom(de)-1;for(;ve<=this.options.maxZoom;){const Se=this.getChildren(de);if(ve++,Se.length!==1)break;de=Se[0].properties.cluster_id}return ve}_appendLeaves(de,ve,Se,Ue,Xe){const at=this.getChildren(ve);for(const ht of at){const Ve=ht.properties;if(Ve&&Ve.cluster?Xe+Ve.point_count<=Ue?Xe+=Ve.point_count:Xe=this._appendLeaves(de,Ve.cluster_id,Se,Ue,Xe):Xe<Ue?Xe++:de.push(ht),de.length===Se)break}return Xe}_createTree(de){const ve=new s.au(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Se=0;Se<de.length;Se+=this.stride)ve.add(de[Se],de[Se+1]);return ve.finish(),ve.data=de,ve}_addTileFeatures(de,ve,Se,Ue,Xe,at){for(const ht of de){const Ve=ht*this.stride,Ct=ve[Ve+tt]>1;let Zt,Ht,qt;if(Ct)Zt=kt(ve,Ve,this.clusterProps),Ht=ve[Ve],qt=ve[Ve+1];else{const ir=this.points[ve[Ve+Je]];Zt=ir.properties;const[or,Tr]=ir.geometry.coordinates;Ht=Pt(or),qt=Me(Tr)}const Vn={type:1,geometry:[[Math.round(this.options.extent*(Ht*Xe-Se)),Math.round(this.options.extent*(qt*Xe-Ue))]],tags:Zt};let On;On=Ct||this.options.generateId?ve[Ve+Je]:this.points[ve[Ve+Je]].id,On!==void 0&&(Vn.id=On),at.features.push(Vn)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,ve){const{radius:Se,extent:Ue,reduce:Xe,minPoints:at}=this.options,ht=Se/(Ue*Math.pow(2,ve)),Ve=de.data,Ct=[],Zt=this.stride;for(let Ht=0;Ht<Ve.length;Ht+=Zt){if(Ve[Ht+2]<=ve)continue;Ve[Ht+2]=ve;const qt=Ve[Ht],Vn=Ve[Ht+1],On=de.within(Ve[Ht],Ve[Ht+1],ht),ir=Ve[Ht+tt];let or=ir;for(const Tr of On){const Ur=Tr*Zt;Ve[Ur+2]>ve&&(or+=Ve[Ur+tt])}if(or>ir&&or>=at){let Tr,Ur=qt*ir,Dr=Vn*ir,Jr=-1;const rr=((Ht/Zt|0)<<5)+(ve+1)+this.points.length;for(const li of On){const ki=li*Zt;if(Ve[ki+2]<=ve)continue;Ve[ki+2]=ve;const Xi=Ve[ki+tt];Ur+=Ve[ki]*Xi,Dr+=Ve[ki+1]*Xi,Ve[ki+4]=rr,Xe&&(Tr||(Tr=this._map(Ve,Ht,!0),Jr=this.clusterProps.length,this.clusterProps.push(Tr)),Xe(Tr,this._map(Ve,ki)))}Ve[Ht+4]=rr,Ct.push(Ur/or,Dr/or,1/0,rr,-1,or),Xe&&Ct.push(Jr)}else{for(let Tr=0;Tr<Zt;Tr++)Ct.push(Ve[Ht+Tr]);if(or>1)for(const Tr of On){const Ur=Tr*Zt;if(!(Ve[Ur+2]<=ve)){Ve[Ur+2]=ve;for(let Dr=0;Dr<Zt;Dr++)Ct.push(Ve[Ur+Dr])}}}}return Ct}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,ve,Se){if(de[ve+tt]>1){const at=this.clusterProps[de[ve+on]];return Se?Object.assign({},at):at}const Ue=this.points[de[ve+Je]].properties,Xe=this.options.map(Ue);return Se&&Xe===Ue?Object.assign({},Xe):Xe}}function dt(Te,de,ve){return{type:"Feature",id:Te[de+Je],properties:kt(Te,de,ve),geometry:{type:"Point",coordinates:[(Se=Te[de],360*(Se-.5)),he(Te[de+1])]}};var Se}function kt(Te,de,ve){const Se=Te[de+tt],Ue=Se>=1e4?`${Math.round(Se/1e3)}k`:Se>=1e3?Math.round(Se/100)/10+"k":Se,Xe=Te[de+on],at=Xe===-1?{}:Object.assign({},ve[Xe]);return Object.assign(at,{cluster:!0,cluster_id:Te[de+Je],point_count:Se,point_count_abbreviated:Ue})}function Pt(Te){return Te/360+.5}function Me(Te){const de=Math.sin(Te*Math.PI/180),ve=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return ve<0?0:ve>1?1:ve}function he(Te){const de=(180-360*Te)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function be(Te,de,ve,Se){for(var Ue,Xe=Se,at=ve-de>>1,ht=ve-de,Ve=Te[de],Ct=Te[de+1],Zt=Te[ve],Ht=Te[ve+1],qt=de+3;qt<ve;qt+=3){var Vn=Pe(Te[qt],Te[qt+1],Ve,Ct,Zt,Ht);if(Vn>Xe)Ue=qt,Xe=Vn;else if(Vn===Xe){var On=Math.abs(qt-at);On<ht&&(Ue=qt,ht=On)}}Xe>Se&&(Ue-de>3&&be(Te,de,Ue,Se),Te[Ue+2]=Xe,ve-Ue>3&&be(Te,Ue,ve,Se))}function Pe(Te,de,ve,Se,Ue,Xe){var at=Ue-ve,ht=Xe-Se;if(at!==0||ht!==0){var Ve=((Te-ve)*at+(de-Se)*ht)/(at*at+ht*ht);Ve>1?(ve=Ue,Se=Xe):Ve>0&&(ve+=at*Ve,Se+=ht*Ve)}return(at=Te-ve)*at+(ht=de-Se)*ht}function Ze(Te,de,ve,Se){var Ue={id:Te===void 0?null:Te,type:de,geometry:ve,tags:Se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Xe){var at=Xe.geometry,ht=Xe.type;if(ht==="Point"||ht==="MultiPoint"||ht==="LineString")nt(Xe,at);else if(ht==="Polygon"||ht==="MultiLineString")for(var Ve=0;Ve<at.length;Ve++)nt(Xe,at[Ve]);else if(ht==="MultiPolygon")for(Ve=0;Ve<at.length;Ve++)for(var Ct=0;Ct<at[Ve].length;Ct++)nt(Xe,at[Ve][Ct])}(Ue),Ue}function nt(Te,de){for(var ve=0;ve<de.length;ve+=3)Te.minX=Math.min(Te.minX,de[ve]),Te.minY=Math.min(Te.minY,de[ve+1]),Te.maxX=Math.max(Te.maxX,de[ve]),Te.maxY=Math.max(Te.maxY,de[ve+1])}function xt(Te,de,ve,Se){if(de.geometry){var Ue=de.geometry.coordinates,Xe=de.geometry.type,at=Math.pow(ve.tolerance/((1<<ve.maxZoom)*ve.extent),2),ht=[],Ve=de.id;if(ve.promoteId?Ve=de.properties[ve.promoteId]:ve.generateId&&(Ve=Se||0),Xe==="Point")Ft(Ue,ht);else if(Xe==="MultiPoint")for(var Ct=0;Ct<Ue.length;Ct++)Ft(Ue[Ct],ht);else if(Xe==="LineString")Dt(Ue,ht,at,!1);else if(Xe==="MultiLineString"){if(ve.lineMetrics){for(Ct=0;Ct<Ue.length;Ct++)Dt(Ue[Ct],ht=[],at,!1),Te.push(Ze(Ve,"LineString",ht,de.properties));return}pt(Ue,ht,at,!1)}else if(Xe==="Polygon")pt(Ue,ht,at,!0);else{if(Xe!=="MultiPolygon"){if(Xe==="GeometryCollection"){for(Ct=0;Ct<de.geometry.geometries.length;Ct++)xt(Te,{id:Ve,geometry:de.geometry.geometries[Ct],properties:de.properties},ve,Se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ct=0;Ct<Ue.length;Ct++){var Zt=[];pt(Ue[Ct],Zt,at,!0),ht.push(Zt)}}Te.push(Ze(Ve,Xe,ht,de.properties))}}function Ft(Te,de){de.push(nr(Te[0])),de.push(pn(Te[1])),de.push(0)}function Dt(Te,de,ve,Se){for(var Ue,Xe,at=0,ht=0;ht<Te.length;ht++){var Ve=nr(Te[ht][0]),Ct=pn(Te[ht][1]);de.push(Ve),de.push(Ct),de.push(0),ht>0&&(at+=Se?(Ue*Ct-Ve*Xe)/2:Math.sqrt(Math.pow(Ve-Ue,2)+Math.pow(Ct-Xe,2))),Ue=Ve,Xe=Ct}var Zt=de.length-3;de[2]=1,be(de,0,Zt,ve),de[Zt+2]=1,de.size=Math.abs(at),de.start=0,de.end=de.size}function pt(Te,de,ve,Se){for(var Ue=0;Ue<Te.length;Ue++){var Xe=[];Dt(Te[Ue],Xe,ve,Se),de.push(Xe)}}function nr(Te){return Te/360+.5}function pn(Te){var de=Math.sin(Te*Math.PI/180),ve=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return ve<0?0:ve>1?1:ve}function bn(Te,de,ve,Se,Ue,Xe,at,ht){if(Se/=de,Xe>=(ve/=de)&&at<Se)return Te;if(at<ve||Xe>=Se)return null;for(var Ve=[],Ct=0;Ct<Te.length;Ct++){var Zt=Te[Ct],Ht=Zt.geometry,qt=Zt.type,Vn=Ue===0?Zt.minX:Zt.minY,On=Ue===0?Zt.maxX:Zt.maxY;if(Vn>=ve&&On<Se)Ve.push(Zt);else if(!(On<ve||Vn>=Se)){var ir=[];if(qt==="Point"||qt==="MultiPoint")Jn(Ht,ir,ve,Se,Ue);else if(qt==="LineString")mr(Ht,ir,ve,Se,Ue,!1,ht.lineMetrics);else if(qt==="MultiLineString")Nr(Ht,ir,ve,Se,Ue,!1);else if(qt==="Polygon")Nr(Ht,ir,ve,Se,Ue,!0);else if(qt==="MultiPolygon")for(var or=0;or<Ht.length;or++){var Tr=[];Nr(Ht[or],Tr,ve,Se,Ue,!0),Tr.length&&ir.push(Tr)}if(ir.length){if(ht.lineMetrics&&qt==="LineString"){for(or=0;or<ir.length;or++)Ve.push(Ze(Zt.id,qt,ir[or],Zt.tags));continue}qt!=="LineString"&&qt!=="MultiLineString"||(ir.length===1?(qt="LineString",ir=ir[0]):qt="MultiLineString"),qt!=="Point"&&qt!=="MultiPoint"||(qt=ir.length===3?"Point":"MultiPoint"),Ve.push(Ze(Zt.id,qt,ir,Zt.tags))}}}return Ve.length?Ve:null}function Jn(Te,de,ve,Se,Ue){for(var Xe=0;Xe<Te.length;Xe+=3){var at=Te[Xe+Ue];at>=ve&&at<=Se&&(de.push(Te[Xe]),de.push(Te[Xe+1]),de.push(Te[Xe+2]))}}function mr(Te,de,ve,Se,Ue,Xe,at){for(var ht,Ve,Ct=xr(Te),Zt=Ue===0?fi:we,Ht=Te.start,qt=0;qt<Te.length-3;qt+=3){var Vn=Te[qt],On=Te[qt+1],ir=Te[qt+2],or=Te[qt+3],Tr=Te[qt+4],Ur=Ue===0?Vn:On,Dr=Ue===0?or:Tr,Jr=!1;at&&(ht=Math.sqrt(Math.pow(Vn-or,2)+Math.pow(On-Tr,2))),Ur<ve?Dr>ve&&(Ve=Zt(Ct,Vn,On,or,Tr,ve),at&&(Ct.start=Ht+ht*Ve)):Ur>Se?Dr<Se&&(Ve=Zt(Ct,Vn,On,or,Tr,Se),at&&(Ct.start=Ht+ht*Ve)):_r(Ct,Vn,On,ir),Dr<ve&&Ur>=ve&&(Ve=Zt(Ct,Vn,On,or,Tr,ve),Jr=!0),Dr>Se&&Ur<=Se&&(Ve=Zt(Ct,Vn,On,or,Tr,Se),Jr=!0),!Xe&&Jr&&(at&&(Ct.end=Ht+ht*Ve),de.push(Ct),Ct=xr(Te)),at&&(Ht+=ht)}var rr=Te.length-3;Vn=Te[rr],On=Te[rr+1],ir=Te[rr+2],(Ur=Ue===0?Vn:On)>=ve&&Ur<=Se&&_r(Ct,Vn,On,ir),rr=Ct.length-3,Xe&&rr>=3&&(Ct[rr]!==Ct[0]||Ct[rr+1]!==Ct[1])&&_r(Ct,Ct[0],Ct[1],Ct[2]),Ct.length&&de.push(Ct)}function xr(Te){var de=[];return de.size=Te.size,de.start=Te.start,de.end=Te.end,de}function Nr(Te,de,ve,Se,Ue,Xe){for(var at=0;at<Te.length;at++)mr(Te[at],de,ve,Se,Ue,Xe,!1)}function _r(Te,de,ve,Se){Te.push(de),Te.push(ve),Te.push(Se)}function fi(Te,de,ve,Se,Ue,Xe){var at=(Xe-de)/(Se-de);return Te.push(Xe),Te.push(ve+(Ue-ve)*at),Te.push(1),at}function we(Te,de,ve,Se,Ue,Xe){var at=(Xe-ve)/(Ue-ve);return Te.push(de+(Se-de)*at),Te.push(Xe),Te.push(1),at}function H(Te,de){for(var ve=[],Se=0;Se<Te.length;Se++){var Ue,Xe=Te[Se],at=Xe.type;if(at==="Point"||at==="MultiPoint"||at==="LineString")Ue=Y(Xe.geometry,de);else if(at==="MultiLineString"||at==="Polygon"){Ue=[];for(var ht=0;ht<Xe.geometry.length;ht++)Ue.push(Y(Xe.geometry[ht],de))}else if(at==="MultiPolygon")for(Ue=[],ht=0;ht<Xe.geometry.length;ht++){for(var Ve=[],Ct=0;Ct<Xe.geometry[ht].length;Ct++)Ve.push(Y(Xe.geometry[ht][Ct],de));Ue.push(Ve)}ve.push(Ze(Xe.id,at,Ue,Xe.tags))}return ve}function Y(Te,de){var ve=[];ve.size=Te.size,Te.start!==void 0&&(ve.start=Te.start,ve.end=Te.end);for(var Se=0;Se<Te.length;Se+=3)ve.push(Te[Se]+de,Te[Se+1],Te[Se+2]);return ve}function Be(Te,de){if(Te.transformed)return Te;var ve,Se,Ue,Xe=1<<Te.z,at=Te.x,ht=Te.y;for(ve=0;ve<Te.features.length;ve++){var Ve=Te.features[ve],Ct=Ve.geometry,Zt=Ve.type;if(Ve.geometry=[],Zt===1)for(Se=0;Se<Ct.length;Se+=2)Ve.geometry.push(st(Ct[Se],Ct[Se+1],de,Xe,at,ht));else for(Se=0;Se<Ct.length;Se++){var Ht=[];for(Ue=0;Ue<Ct[Se].length;Ue+=2)Ht.push(st(Ct[Se][Ue],Ct[Se][Ue+1],de,Xe,at,ht));Ve.geometry.push(Ht)}}return Te.transformed=!0,Te}function st(Te,de,ve,Se,Ue,Xe){return[Math.round(ve*(Te*Se-Ue)),Math.round(ve*(de*Se-Xe))]}function St(Te,de,ve,Se,Ue){for(var Xe=de===Ue.maxZoom?0:Ue.tolerance/((1<<de)*Ue.extent),at={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ve,y:Se,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ht=0;ht<Te.length;ht++){at.numFeatures++,Et(at,Te[ht],Xe,Ue);var Ve=Te[ht].minX,Ct=Te[ht].minY,Zt=Te[ht].maxX,Ht=Te[ht].maxY;Ve<at.minX&&(at.minX=Ve),Ct<at.minY&&(at.minY=Ct),Zt>at.maxX&&(at.maxX=Zt),Ht>at.maxY&&(at.maxY=Ht)}return at}function Et(Te,de,ve,Se){var Ue=de.geometry,Xe=de.type,at=[];if(Xe==="Point"||Xe==="MultiPoint")for(var ht=0;ht<Ue.length;ht+=3)at.push(Ue[ht]),at.push(Ue[ht+1]),Te.numPoints++,Te.numSimplified++;else if(Xe==="LineString")Nt(at,Ue,Te,ve,!1,!1);else if(Xe==="MultiLineString"||Xe==="Polygon")for(ht=0;ht<Ue.length;ht++)Nt(at,Ue[ht],Te,ve,Xe==="Polygon",ht===0);else if(Xe==="MultiPolygon")for(var Ve=0;Ve<Ue.length;Ve++){var Ct=Ue[Ve];for(ht=0;ht<Ct.length;ht++)Nt(at,Ct[ht],Te,ve,!0,ht===0)}if(at.length){var Zt=de.tags||null;if(Xe==="LineString"&&Se.lineMetrics){for(var Ht in Zt={},de.tags)Zt[Ht]=de.tags[Ht];Zt.mapbox_clip_start=Ue.start/Ue.size,Zt.mapbox_clip_end=Ue.end/Ue.size}var qt={geometry:at,type:Xe==="Polygon"||Xe==="MultiPolygon"?3:Xe==="LineString"||Xe==="MultiLineString"?2:1,tags:Zt};de.id!==null&&(qt.id=de.id),Te.features.push(qt)}}function Nt(Te,de,ve,Se,Ue,Xe){var at=Se*Se;if(Se>0&&de.size<(Ue?at:Se))ve.numPoints+=de.length/3;else{for(var ht=[],Ve=0;Ve<de.length;Ve+=3)(Se===0||de[Ve+2]>at)&&(ve.numSimplified++,ht.push(de[Ve]),ht.push(de[Ve+1])),ve.numPoints++;Ue&&function(Ct,Zt){for(var Ht=0,qt=0,Vn=Ct.length,On=Vn-2;qt<Vn;On=qt,qt+=2)Ht+=(Ct[qt]-Ct[On])*(Ct[qt+1]+Ct[On+1]);if(Ht>0===Zt)for(qt=0,Vn=Ct.length;qt<Vn/2;qt+=2){var ir=Ct[qt],or=Ct[qt+1];Ct[qt]=Ct[Vn-2-qt],Ct[qt+1]=Ct[Vn-1-qt],Ct[Vn-2-qt]=ir,Ct[Vn-1-qt]=or}}(ht,Xe),Te.push(ht)}}function mn(Te,de){var ve=(de=this.options=function(Ue,Xe){for(var at in Xe)Ue[at]=Xe[at];return Ue}(Object.create(this.options),de)).debug;if(ve&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");var Se=function(Ue,Xe){var at=[];if(Ue.type==="FeatureCollection")for(var ht=0;ht<Ue.features.length;ht++)xt(at,Ue.features[ht],Xe,ht);else xt(at,Ue.type==="Feature"?Ue:{geometry:Ue},Xe);return at}(Te,de);this.tiles={},this.tileCoords=[],ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Se=function(Ue,Xe){var at=Xe.buffer/Xe.extent,ht=Ue,Ve=bn(Ue,1,-1-at,at,0,-1,2,Xe),Ct=bn(Ue,1,1-at,2+at,0,-1,2,Xe);return(Ve||Ct)&&(ht=bn(Ue,1,-at,1+at,0,-1,2,Xe)||[],Ve&&(ht=H(Ve,1).concat(ht)),Ct&&(ht=ht.concat(H(Ct,-1)))),ht}(Se,de),Se.length&&this.splitTile(Se,0,0,0),ve&&(Se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Kn(Te,de,ve){return 32*((1<<Te)*ve+de)+Te}function En(Te,de){return de?Te.properties[de]:Te.id}function m(Te,de){if(Te==null)return!0;if(Te.type==="Feature")return En(Te,de)!=null;if(Te.type==="FeatureCollection"){const ve=new Set;for(const Se of Te.features){const Ue=En(Se,de);if(Ue==null||ve.has(Ue))return!1;ve.add(Ue)}return!0}return!1}function Tt(Te,de){const ve=new Map;if(Te!=null)if(Te.type==="Feature")ve.set(En(Te,de),Te);else for(const Se of Te.features)ve.set(En(Se,de),Se);return ve}mn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},mn.prototype.splitTile=function(Te,de,ve,Se,Ue,Xe,at){for(var ht=[Te,de,ve,Se],Ve=this.options,Ct=Ve.debug;ht.length;){Se=ht.pop(),ve=ht.pop(),de=ht.pop(),Te=ht.pop();var Zt=1<<de,Ht=Kn(de,ve,Se),qt=this.tiles[Ht];if(!qt&&(Ct>1&&console.time("creation"),qt=this.tiles[Ht]=St(Te,de,ve,Se,Ve),this.tileCoords.push({z:de,x:ve,y:Se}),Ct)){Ct>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,ve,Se,qt.numFeatures,qt.numPoints,qt.numSimplified),console.timeEnd("creation"));var Vn="z"+de;this.stats[Vn]=(this.stats[Vn]||0)+1,this.total++}if(qt.source=Te,Ue){if(de===Ve.maxZoom||de===Ue)continue;var On=1<<Ue-de;if(ve!==Math.floor(Xe/On)||Se!==Math.floor(at/On))continue}else if(de===Ve.indexMaxZoom||qt.numPoints<=Ve.indexMaxPoints)continue;if(qt.source=null,Te.length!==0){Ct>1&&console.time("clipping");var ir,or,Tr,Ur,Dr,Jr,rr=.5*Ve.buffer/Ve.extent,li=.5-rr,ki=.5+rr,Xi=1+rr;ir=or=Tr=Ur=null,Dr=bn(Te,Zt,ve-rr,ve+ki,0,qt.minX,qt.maxX,Ve),Jr=bn(Te,Zt,ve+li,ve+Xi,0,qt.minX,qt.maxX,Ve),Te=null,Dr&&(ir=bn(Dr,Zt,Se-rr,Se+ki,1,qt.minY,qt.maxY,Ve),or=bn(Dr,Zt,Se+li,Se+Xi,1,qt.minY,qt.maxY,Ve),Dr=null),Jr&&(Tr=bn(Jr,Zt,Se-rr,Se+ki,1,qt.minY,qt.maxY,Ve),Ur=bn(Jr,Zt,Se+li,Se+Xi,1,qt.minY,qt.maxY,Ve),Jr=null),Ct>1&&console.timeEnd("clipping"),ht.push(ir||[],de+1,2*ve,2*Se),ht.push(or||[],de+1,2*ve,2*Se+1),ht.push(Tr||[],de+1,2*ve+1,2*Se),ht.push(Ur||[],de+1,2*ve+1,2*Se+1)}}},mn.prototype.getTile=function(Te,de,ve){var Se=this.options,Ue=Se.extent,Xe=Se.debug;if(Te<0||Te>24)return null;var at=1<<Te,ht=Kn(Te,de=(de%at+at)%at,ve);if(this.tiles[ht])return Be(this.tiles[ht],Ue);Xe>1&&console.log("drilling down to z%d-%d-%d",Te,de,ve);for(var Ve,Ct=Te,Zt=de,Ht=ve;!Ve&&Ct>0;)Ct--,Zt=Math.floor(Zt/2),Ht=Math.floor(Ht/2),Ve=this.tiles[Kn(Ct,Zt,Ht)];return Ve&&Ve.source?(Xe>1&&console.log("found parent tile z%d-%d-%d",Ct,Zt,Ht),Xe>1&&console.time("drilling down"),this.splitTile(Ve.source,Ct,Zt,Ht,Te,de,ve),Xe>1&&console.timeEnd("drilling down"),this.tiles[ht]?Be(this.tiles[ht],Ue):null):null};class Lr extends B{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(de,ve){return s._(this,void 0,void 0,function*(){const Se=de.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Ue=this._geoJSONIndex.getTile(Se.z,Se.x,Se.y);if(!Ue)return null;const Xe=new class{constructor(ht){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.W,this.length=ht.length,this._features=ht}feature(ht){return new class{constructor(Ve){this._feature=Ve,this.extent=s.W,this.type=Ve.type,this.properties=Ve.tags,"id"in Ve&&!isNaN(Ve.id)&&(this.id=parseInt(Ve.id,10))}loadGeometry(){if(this._feature.type===1){const Ve=[];for(const Ct of this._feature.geometry)Ve.push([new s.P(Ct[0],Ct[1])]);return Ve}{const Ve=[];for(const Ct of this._feature.geometry){const Zt=[];for(const Ht of Ct)Zt.push(new s.P(Ht[0],Ht[1]));Ve.push(Zt)}return Ve}}toGeoJSON(Ve,Ct,Zt){return W.call(this,Ve,Ct,Zt)}}(this._features[ht])}}(Ue.features);let at=jt(Xe);return at.byteOffset===0&&at.byteLength===at.buffer.byteLength||(at=new Uint8Array(at)),{vectorTile:Xe,rawData:at.buffer}})}loadData(de){var ve;return s._(this,void 0,void 0,function*(){(ve=this._pendingRequest)===null||ve===void 0||ve.abort();const Se=!!(de&&de.request&&de.request.collectResourceTiming)&&new s.br(de.request);this._pendingRequest=new AbortController;try{let Ue=yield this.loadGeoJSON(de,this._pendingRequest);if(delete this._pendingRequest,typeof Ue!="object")throw new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`);if(Z(Ue,!0),de.filter){const at=s.bx(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(at.result==="error")throw new Error(at.value.map(Ve=>`${Ve.key}: ${Ve.message}`).join(", "));Ue={type:"FeatureCollection",features:Ue.features.filter(Ve=>at.value.evaluate({zoom:0},Ve))}}this._geoJSONIndex=de.cluster?new mt(function({superclusterOptions:at,clusterProperties:ht}){if(!ht||!at)return at;const Ve={},Ct={},Zt={accumulated:null,zoom:0},Ht={properties:null},qt=Object.keys(ht);for(const Vn of qt){const[On,ir]=ht[Vn],or=s.bx(ir),Tr=s.bx(typeof On=="string"?[On,["accumulated"],["get",Vn]]:On);Ve[Vn]=or.value,Ct[Vn]=Tr.value}return at.map=Vn=>{Ht.properties=Vn;const On={};for(const ir of qt)On[ir]=Ve[ir].evaluate(Zt,Ht);return On},at.reduce=(Vn,On)=>{Ht.properties=On;for(const ir of qt)Zt.accumulated=Vn[ir],Vn[ir]=Ct[ir].evaluate(Zt,Ht)},at}(de)).load(Ue.features):function(at,ht){return new mn(at,ht)}(Ue,de.geojsonVtOptions),this.loaded={};const Xe={};if(Se){const at=Se.finish();at&&(Xe.resourceTiming={},Xe.resourceTiming[de.source]=JSON.parse(JSON.stringify(at)))}return Xe}catch(Ue){if(delete this._pendingRequest,s.by(Ue))return{abandoned:!0};throw Ue}})}reloadTile(de){const ve=this.loaded;return ve&&ve[de.uid]?super.reloadTile(de):this.loadTile(de)}loadGeoJSON(de,ve){return s._(this,void 0,void 0,function*(){const{promoteId:Se}=de;if(de.request){const Ue=yield s.h(de.request,ve);return this._dataUpdateable=m(Ue.data,Se)?Tt(Ue.data,Se):void 0,Ue.data}if(typeof de.data=="string")try{const Ue=JSON.parse(de.data);return this._dataUpdateable=m(Ue,Se)?Tt(Ue,Se):void 0,Ue}catch{throw new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`)}if(!de.dataDiff)throw new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${de.source}`);return function(Ue,Xe,at){var ht,Ve,Ct,Zt;if(Xe.removeAll&&Ue.clear(),Xe.remove)for(const Ht of Xe.remove)Ue.delete(Ht);if(Xe.add)for(const Ht of Xe.add){const qt=En(Ht,at);qt!=null&&Ue.set(qt,Ht)}if(Xe.update)for(const Ht of Xe.update){let qt=Ue.get(Ht.id);if(qt==null)continue;const Vn=!Ht.removeAllProperties&&(((ht=Ht.removeProperties)===null||ht===void 0?void 0:ht.length)>0||((Ve=Ht.addOrUpdateProperties)===null||Ve===void 0?void 0:Ve.length)>0);if((Ht.newGeometry||Ht.removeAllProperties||Vn)&&(qt=Object.assign({},qt),Ue.set(Ht.id,qt),Vn&&(qt.properties=Object.assign({},qt.properties))),Ht.newGeometry&&(qt.geometry=Ht.newGeometry),Ht.removeAllProperties)qt.properties={};else if(((Ct=Ht.removeProperties)===null||Ct===void 0?void 0:Ct.length)>0)for(const On of Ht.removeProperties)Object.prototype.hasOwnProperty.call(qt.properties,On)&&delete qt.properties[On];if(((Zt=Ht.addOrUpdateProperties)===null||Zt===void 0?void 0:Zt.length)>0)for(const{key:On,value:ir}of Ht.addOrUpdateProperties)qt.properties[On]=ir}}(this._dataUpdateable,de.dataDiff,Se),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(de){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(de){return this._geoJSONIndex.getClusterExpansionZoom(de.clusterId)}getClusterChildren(de){return this._geoJSONIndex.getChildren(de.clusterId)}getClusterLeaves(de){return this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset)}}class Wn{constructor(de){this.self=de,this.actor=new s.C(de),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ve,Se)=>{if(this.externalWorkerSourceTypes[ve])throw new Error(`Worker source with name "${ve}" already registered.`);this.externalWorkerSourceTypes[ve]=Se},this.self.addProtocol=s.be,this.self.removeProtocol=s.bf,this.self.registerRTLTextPlugin=ve=>{if(s.bz.isParsed())throw new Error("RTL text plugin already registered.");s.bz.setMethods(ve)},this.actor.registerMessageHandler("loadDEMTile",(ve,Se)=>this._getDEMWorkerSource(ve,Se.source).loadTile(Se)),this.actor.registerMessageHandler("removeDEMTile",(ve,Se)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ve,Se.source).removeTile(Se)})),this.actor.registerMessageHandler("getClusterExpansionZoom",(ve,Se)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,Se.type,Se.source).getClusterExpansionZoom(Se)})),this.actor.registerMessageHandler("getClusterChildren",(ve,Se)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,Se.type,Se.source).getClusterChildren(Se)})),this.actor.registerMessageHandler("getClusterLeaves",(ve,Se)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,Se.type,Se.source).getClusterLeaves(Se)})),this.actor.registerMessageHandler("loadData",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).loadData(Se)),this.actor.registerMessageHandler("loadTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).loadTile(Se)),this.actor.registerMessageHandler("reloadTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).reloadTile(Se)),this.actor.registerMessageHandler("abortTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).abortTile(Se)),this.actor.registerMessageHandler("removeTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).removeTile(Se)),this.actor.registerMessageHandler("removeSource",(ve,Se)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[ve]||!this.workerSources[ve][Se.type]||!this.workerSources[ve][Se.type][Se.source])return;const Ue=this.workerSources[ve][Se.type][Se.source];delete this.workerSources[ve][Se.type][Se.source],Ue.removeSource!==void 0&&Ue.removeSource(Se)})),this.actor.registerMessageHandler("setReferrer",(ve,Se)=>s._(this,void 0,void 0,function*(){this.referrer=Se})),this.actor.registerMessageHandler("syncRTLPluginState",(ve,Se)=>this._syncRTLPluginState(ve,Se)),this.actor.registerMessageHandler("importScript",(ve,Se)=>s._(this,void 0,void 0,function*(){this.self.importScripts(Se)})),this.actor.registerMessageHandler("setImages",(ve,Se)=>this._setImages(ve,Se)),this.actor.registerMessageHandler("updateLayers",(ve,Se)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(ve).update(Se.layers,Se.removedIds)})),this.actor.registerMessageHandler("setLayers",(ve,Se)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(ve).replace(Se)}))}_setImages(de,ve){return s._(this,void 0,void 0,function*(){this.availableImages[de]=ve;for(const Se in this.workerSources[de]){const Ue=this.workerSources[de][Se];for(const Xe in Ue)Ue[Xe].availableImages=ve}})}_syncRTLPluginState(de,ve){return s._(this,void 0,void 0,function*(){s.bz.setState(ve);const Se=s.bz.getPluginURL();if(ve.pluginStatus==="loaded"&&!s.bz.isParsed()&&Se!=null){this.self.importScripts(Se);const Ue=s.bz.isParsed();if(Ue)return Ue;throw new Error(`RTL Text Plugin failed to import scripts from ${Se}`)}return!1})}_getAvailableImages(de){let ve=this.availableImages[de];return ve||(ve=[]),ve}_getLayerIndex(de){let ve=this.layerIndexes[de];return ve||(ve=this.layerIndexes[de]=new a),ve}_getWorkerSource(de,ve,Se){if(this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][ve]||(this.workerSources[de][ve]={}),!this.workerSources[de][ve][Se]){const Ue={sendAsync:(Xe,at)=>(Xe.targetMapId=de,this.actor.sendAsync(Xe,at))};switch(ve){case"vector":this.workerSources[de][ve][Se]=new B(Ue,this._getLayerIndex(de),this._getAvailableImages(de));break;case"geojson":this.workerSources[de][ve][Se]=new Lr(Ue,this._getLayerIndex(de),this._getAvailableImages(de));break;default:this.workerSources[de][ve][Se]=new this.externalWorkerSourceTypes[ve](Ue,this._getLayerIndex(de),this._getAvailableImages(de))}}return this.workerSources[de][ve][Se]}_getDEMWorkerSource(de,ve){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][ve]||(this.demWorkerSources[de][ve]=new k),this.demWorkerSources[de][ve]}}return s.i(self)&&(self.worker=new Wn(self)),Wn}),i("index",["exports","./shared"],function(s,a){var h="4.0.0";let g,C;const B={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:O=>new Promise((u,p)=>{const _=requestAnimationFrame(u);O.signal.addEventListener("abort",()=>{cancelAnimationFrame(_),p(a.c())})}),getImageData(O,u=0){return this.getImageCanvasContext(O).getImageData(-u,-u,O.width+2*u,O.height+2*u)},getImageCanvasContext(O){const u=window.document.createElement("canvas"),p=u.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return u.width=O.width,u.height=O.height,p.drawImage(O,0,0,O.width,O.height),p},resolveURL:O=>(g||(g=document.createElement("a")),g.href=O,g.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(C==null&&(C=matchMedia("(prefers-reduced-motion: reduce)")),C.matches)}};class k{static testProp(u){if(!k.docStyle)return u[0];for(let p=0;p<u.length;p++)if(u[p]in k.docStyle)return u[p];return u[0]}static create(u,p,_){const M=window.document.createElement(u);return p!==void 0&&(M.className=p),_&&_.appendChild(M),M}static createNS(u,p){return window.document.createElementNS(u,p)}static disableDrag(){k.docStyle&&k.selectProp&&(k.userSelect=k.docStyle[k.selectProp],k.docStyle[k.selectProp]="none")}static enableDrag(){k.docStyle&&k.selectProp&&(k.docStyle[k.selectProp]=k.userSelect)}static setTransform(u,p){u.style[k.transformProp]=p}static addEventListener(u,p,_,M={}){u.addEventListener(p,_,"passive"in M?M:M.capture)}static removeEventListener(u,p,_,M={}){u.removeEventListener(p,_,"passive"in M?M:M.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",k.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",k.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",k.suppressClickInternal,!0)},0)}static getScale(u){const p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}static getPoint(u,p,_){const M=p.boundingClientRect;return new a.P((_.clientX-M.left)/p.x-u.clientLeft,(_.clientY-M.top)/p.y-u.clientTop)}static mousePos(u,p){const _=k.getScale(u);return k.getPoint(u,_,p)}static touchPos(u,p){const _=[],M=k.getScale(u);for(let I=0;I<p.length;I++)_.push(k.getPoint(u,M,p[I]));return _}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}}k.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,k.selectProp=k.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),k.transformProp=k.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(O){!W&&Z&&(Q?q(O):U=O)}};let U,Z,W=!1,Q=!1;function q(O){const u=O.createTexture();O.bindTexture(O.TEXTURE_2D,u);try{if(O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,Z),O.isContextLost())return;P.supported=!0}catch{}O.deleteTexture(u),W=!0}var oe,re;typeof document<"u"&&(Z=document.createElement("img"),Z.onload=function(){U&&q(U),U=null,Q=!0},Z.onerror=function(){W=!0,U=null},Z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(O){let u,p,_,M;O.resetRequestQueue=()=>{u=[],p=0,_=0,M={}},O.addThrottleControl=G=>{const te=_++;return M[te]=G,te},O.removeThrottleControl=G=>{delete M[G],R()},O.getImage=(G,te,ue=!0)=>new Promise((fe,Ee)=>{P.supported&&(G.headers||(G.headers={}),G.headers.accept="image/webp,*/*"),a.e(G,{type:"image"}),u.push({abortController:te,requestParameters:G,supportImageRefresh:ue,state:"queued",onError:ze=>{Ee(ze)},onSuccess:ze=>{fe(ze)}}),R()});const I=G=>a._(this,void 0,void 0,function*(){G.state="running";const{requestParameters:te,supportImageRefresh:ue,onError:fe,onSuccess:Ee,abortController:ze}=G,Fe=ue===!1&&!a.i(self)&&!a.g(te.url)&&(!te.headers||Object.keys(te.headers).reduce((ct,Ot)=>ct&&Ot==="accept",!0));p++;const Ge=Fe?j(te,ze):a.m(te,ze);try{const ct=yield Ge;delete G.abortController,G.state="completed",ct.data instanceof HTMLImageElement||a.b(ct.data)?Ee(ct):ct.data&&Ee({data:yield(je=ct.data,typeof createImageBitmap=="function"?a.d(je):a.f(je)),cacheControl:ct.cacheControl,expires:ct.expires})}catch(ct){delete G.abortController,fe(ct)}finally{p--,R()}var je}),R=()=>{const G=(()=>{for(const te of Object.keys(M))if(M[te]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let te=p;te<G&&u.length>0;te++){const ue=u.shift();ue.abortController.signal.aborted?te--:I(ue)}},j=(G,te)=>new Promise((ue,fe)=>{const Ee=new Image,ze=G.url,Fe=G.credentials;Fe&&Fe==="include"?Ee.crossOrigin="use-credentials":(Fe&&Fe==="same-origin"||!a.s(ze))&&(Ee.crossOrigin="anonymous"),te.signal.addEventListener("abort",()=>{Ee.src="",fe(a.c())}),Ee.fetchPriority="high",Ee.onload=()=>{Ee.onerror=Ee.onload=null,ue({data:Ee})},Ee.onerror=()=>{Ee.onerror=Ee.onload=null,te.signal.aborted||fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Ee.src=ze})}(oe||(oe={})),oe.resetRequestQueue(),function(O){O.Glyphs="Glyphs",O.Image="Image",O.Source="Source",O.SpriteImage="SpriteImage",O.SpriteJSON="SpriteJSON",O.Style="Style",O.Tile="Tile",O.Unknown="Unknown"}(re||(re={}));class Ae{constructor(u){this._transformRequestFn=u}transformRequest(u,p){return this._transformRequestFn&&this._transformRequestFn(u,p)||{url:u}}normalizeSpriteURL(u,p,_){const M=function(I){const R=I.match(ae);if(!R)throw new Error(`Unable to parse URL "${I}"`);return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}(u);return M.path+=`${p}${_}`,function(I){const R=I.params.length?`?${I.params.join("&")}`:"";return`${I.protocol}://${I.authority}${I.path}${R}`}(M)}setTransformRequest(u){this._transformRequestFn=u}}const ae=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function se(O){var u=new a.A(3);return u[0]=O[0],u[1]=O[1],u[2]=O[2],u}var ye,De=function(O,u,p){return O[0]=u[0]-p[0],O[1]=u[1]-p[1],O[2]=u[2]-p[2],O};ye=new a.A(3),a.A!=Float32Array&&(ye[0]=0,ye[1]=0,ye[2]=0);var Ne=function(O){var u=O[0],p=O[1];return u*u+p*p};function et(O){const u=[];if(typeof O=="string")u.push({id:"default",url:O});else if(O&&O.length>0){const p=[];for(const{id:_,url:M}of O){const I=`${_}${M}`;p.indexOf(I)===-1&&(p.push(I),u.push({id:_,url:M}))}}return u}(function(){var O=new a.A(2);a.A!=Float32Array&&(O[0]=0,O[1]=0)})();class ft{constructor(u,p,_,M){this.context=u,this.format=_,this.texture=u.gl.createTexture(),this.update(p,M)}update(u,p,_){const{width:M,height:I}=u,R=!(this.size&&this.size[0]===M&&this.size[1]===I||_),{context:j}=this,{gl:G}=j;if(this.useMipmap=!!(p&&p.useMipmap),G.bindTexture(G.TEXTURE_2D,this.texture),j.pixelStoreUnpackFlipY.set(!1),j.pixelStoreUnpack.set(1),j.pixelStoreUnpackPremultiplyAlpha.set(this.format===G.RGBA&&(!p||p.premultiply!==!1)),R)this.size=[M,I],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.b(u)?G.texImage2D(G.TEXTURE_2D,0,this.format,this.format,G.UNSIGNED_BYTE,u):G.texImage2D(G.TEXTURE_2D,0,this.format,M,I,0,this.format,G.UNSIGNED_BYTE,u.data);else{const{x:te,y:ue}=_||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.b(u)?G.texSubImage2D(G.TEXTURE_2D,0,te,ue,G.RGBA,G.UNSIGNED_BYTE,u):G.texSubImage2D(G.TEXTURE_2D,0,te,ue,M,I,G.RGBA,G.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&G.generateMipmap(G.TEXTURE_2D)}bind(u,p,_){const{context:M}=this,{gl:I}=M;I.bindTexture(I.TEXTURE_2D,this.texture),_!==I.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(_=I.LINEAR),u!==this.filter&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,u),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,_||u),this.filter=u),p!==this.wrap&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,p),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}function Ke(O){const{userImage:u}=O;return!!(u&&u.render&&u.render())&&(O.data.replace(new Uint8Array(u.data.buffer)),!0)}class rt extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:p,promiseResolve:_}of this.requestors)_(this._getImagesForIds(p));this.requestors=[]}}getImage(u){const p=this.images[u];if(p&&!p.data&&p.spriteData){const _=p.spriteData;p.data=new a.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),p.spriteData=null}return p}addImage(u,p){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,p)&&(this.images[u]=p)}_validate(u,p){let _=!0;const M=p.data||p.spriteData;return this._validateStretch(p.stretchX,M&&M.width)||(this.fire(new a.j(new Error(`Image "${u}" has invalid "stretchX" value`))),_=!1),this._validateStretch(p.stretchY,M&&M.height)||(this.fire(new a.j(new Error(`Image "${u}" has invalid "stretchY" value`))),_=!1),this._validateContent(p.content,p)||(this.fire(new a.j(new Error(`Image "${u}" has invalid "content" value`))),_=!1),_}_validateStretch(u,p){if(!u)return!0;let _=0;for(const M of u){if(M[0]<_||M[1]<M[0]||p<M[1])return!1;_=M[1]}return!0}_validateContent(u,p){if(!u)return!0;if(u.length!==4)return!1;const _=p.spriteData,M=_&&_.width||p.data.width,I=_&&_.height||p.data.height;return!(u[0]<0||M<u[0]||u[1]<0||I<u[1]||u[2]<0||M<u[2]||u[3]<0||I<u[3]||u[2]<u[0]||u[3]<u[1])}updateImage(u,p,_=!0){const M=this.getImage(u);if(_&&(M.data.width!==p.data.width||M.data.height!==p.data.height))throw new Error(`size mismatch between old image (${M.data.width}x${M.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=M.version+1,this.images[u]=p,this.updatedImages[u]=!0}removeImage(u){const p=this.images[u];delete this.images[u],delete this.patterns[u],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u){return new Promise((p,_)=>{let M=!0;if(!this.isLoaded())for(const I of u)this.images[I]||(M=!1);this.isLoaded()||M?p(this._getImagesForIds(u)):this.requestors.push({ids:u,promiseResolve:p})})}_getImagesForIds(u){const p={};for(const _ of u){let M=this.getImage(_);M||(this.fire(new a.k("styleimagemissing",{id:_})),M=this.getImage(_)),M?p[_]={data:M.data.clone(),pixelRatio:M.pixelRatio,sdf:M.sdf,version:M.version,stretchX:M.stretchX,stretchY:M.stretchY,content:M.content,hasRenderCallback:!!(M.userImage&&M.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return p}getPixelSize(){const{width:u,height:p}=this.atlasImage;return{width:u,height:p}}getPattern(u){const p=this.patterns[u],_=this.getImage(u);if(!_)return null;if(p&&p.position.version===_.version)return p.position;if(p)p.position.version=_.version;else{const M={w:_.data.width+2,h:_.data.height+2,x:0,y:0},I=new a.I(M,_);this.patterns[u]={bin:M,position:I}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const p=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ft(u,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const I in this.patterns)u.push(this.patterns[I].bin);const{w:p,h:_}=a.p(u),M=this.atlasImage;M.resize({width:p||1,height:_||1});for(const I in this.patterns){const{bin:R}=this.patterns[I],j=R.x+1,G=R.y+1,te=this.getImage(I).data,ue=te.width,fe=te.height;a.R.copy(te,M,{x:0,y:0},{x:j,y:G},{width:ue,height:fe}),a.R.copy(te,M,{x:0,y:fe-1},{x:j,y:G-1},{width:ue,height:1}),a.R.copy(te,M,{x:0,y:0},{x:j,y:G+fe},{width:ue,height:1}),a.R.copy(te,M,{x:ue-1,y:0},{x:j-1,y:G},{width:1,height:fe}),a.R.copy(te,M,{x:0,y:0},{x:j+ue,y:G},{width:1,height:fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const p of u){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const _=this.getImage(p);_||a.w(`Image with ID: "${p}" was not found`),Ke(_)&&this.updateImage(p,_)}}}const _e=1e20;function Ut(O,u,p,_,M,I,R,j,G){for(let te=u;te<u+_;te++)jt(O,p*I+te,I,M,R,j,G);for(let te=p;te<p+M;te++)jt(O,te*I+u,1,_,R,j,G)}function jt(O,u,p,_,M,I,R){I[0]=0,R[0]=-_e,R[1]=_e,M[0]=O[u];for(let j=1,G=0,te=0;j<_;j++){M[j]=O[u+j*p];const ue=j*j;do{const fe=I[G];te=(M[j]-M[fe]+ue-fe*fe)/(j-fe)/2}while(te<=R[G]&&--G>-1);G++,I[G]=j,R[G]=te,R[G+1]=_e}for(let j=0,G=0;j<_;j++){for(;R[G+1]<j;)G++;const te=I[G],ue=j-te;O[u+j*p]=M[te]+ue*ue}}class nn{constructor(u,p){this.requestManager=u,this.localIdeographFontFamily=p,this.entries={}}setURL(u){this.url=u}getGlyphs(u){return a._(this,void 0,void 0,function*(){const p=[];for(const I in u)for(const R of u[I])p.push(this._getAndCacheGlyphsPromise(I,R));const _=yield Promise.all(p),M={};for(const{stack:I,id:R,glyph:j}of _)M[I]||(M[I]={}),M[I][R]=j&&{id:j.id,bitmap:j.bitmap.clone(),metrics:j.metrics};return M})}_getAndCacheGlyphsPromise(u,p){return a._(this,void 0,void 0,function*(){let _=this.entries[u];_||(_=this.entries[u]={glyphs:{},requests:{},ranges:{}});let M=_.glyphs[p];if(M!==void 0)return{stack:u,id:p,glyph:M};if(M=this._tinySDF(_,u,p),M)return _.glyphs[p]=M,{stack:u,id:p,glyph:M};const I=Math.floor(p/256);if(256*I>65535)throw new Error("glyphs > 65535 not supported");if(_.ranges[I])return{stack:u,id:p,glyph:M};if(!this.url)throw new Error("glyphsUrl is not set");if(!_.requests[I]){const j=nn.loadGlyphRange(u,I,this.url,this.requestManager);_.requests[I]=j}const R=yield _.requests[I];for(const j in R)this._doesCharSupportLocalGlyph(+j)||(_.glyphs[+j]=R[+j]);return _.ranges[I]=!0,{stack:u,id:p,glyph:R[p]||null}})}_doesCharSupportLocalGlyph(u){return!!this.localIdeographFontFamily&&(a.u["CJK Unified Ideographs"](u)||a.u["Hangul Syllables"](u)||a.u.Hiragana(u)||a.u.Katakana(u))}_tinySDF(u,p,_){const M=this.localIdeographFontFamily;if(!M||!this._doesCharSupportLocalGlyph(_))return;let I=u.tinySDF;if(!I){let j="400";/bold/i.test(p)?j="900":/medium/i.test(p)?j="500":/light/i.test(p)&&(j="200"),I=u.tinySDF=new nn.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:M,fontWeight:j})}const R=I.draw(String.fromCharCode(_));return{id:_,bitmap:new a.o({width:R.width||60,height:R.height||60},R.data),metrics:{width:R.glyphWidth/2||24,height:R.glyphHeight/2||24,left:R.glyphLeft/2+.5||0,top:R.glyphTop/2-27.5||-8,advance:R.glyphAdvance/2||24,isDoubleResolution:!0}}}}nn.loadGlyphRange=function(O,u,p,_){return a._(this,void 0,void 0,function*(){const M=256*u,I=M+255,R=_.transformRequest(p.replace("{fontstack}",O).replace("{range}",`${M}-${I}`),re.Glyphs),j=yield a.l(R,new AbortController);if(!j||!j.data)throw new Error(`Could not load glyph range. range: ${u}, ${M}-${I}`);const G={};for(const te of a.n(j.data))G[te.id]=te;return G})},nn.TinySDF=class{constructor({fontSize:O=24,buffer:u=3,radius:p=8,cutoff:_=.25,fontFamily:M="sans-serif",fontWeight:I="normal",fontStyle:R="normal"}={}){this.buffer=u,this.cutoff=_,this.radius=p;const j=this.size=O+4*u,G=this._createCanvas(j),te=this.ctx=G.getContext("2d",{willReadFrequently:!0});te.font=`${R} ${I} ${O}px ${M}`,te.textBaseline="alphabetic",te.textAlign="left",te.fillStyle="black",this.gridOuter=new Float64Array(j*j),this.gridInner=new Float64Array(j*j),this.f=new Float64Array(j),this.z=new Float64Array(j+1),this.v=new Uint16Array(j)}_createCanvas(O){const u=document.createElement("canvas");return u.width=u.height=O,u}draw(O){const{width:u,actualBoundingBoxAscent:p,actualBoundingBoxDescent:_,actualBoundingBoxLeft:M,actualBoundingBoxRight:I}=this.ctx.measureText(O),R=Math.ceil(p),j=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(I-M))),G=Math.min(this.size-this.buffer,R+Math.ceil(_)),te=j+2*this.buffer,ue=G+2*this.buffer,fe=Math.max(te*ue,0),Ee=new Uint8ClampedArray(fe),ze={data:Ee,width:te,height:ue,glyphWidth:j,glyphHeight:G,glyphTop:R,glyphLeft:0,glyphAdvance:u};if(j===0||G===0)return ze;const{ctx:Fe,buffer:Ge,gridInner:je,gridOuter:ct}=this;Fe.clearRect(Ge,Ge,j,G),Fe.fillText(O,Ge,Ge+R);const Ot=Fe.getImageData(Ge,Ge,j,G);ct.fill(_e,0,fe),je.fill(0,0,fe);for(let Ye=0;Ye<G;Ye++)for(let _t=0;_t<j;_t++){const Gt=Ot.data[4*(Ye*j+_t)+3]/255;if(Gt===0)continue;const It=(Ye+Ge)*te+_t+Ge;if(Gt===1)ct[It]=0,je[It]=_e;else{const en=.5-Gt;ct[It]=en>0?en*en:0,je[It]=en<0?en*en:0}}Ut(ct,0,0,te,ue,te,this.f,this.v,this.z),Ut(je,Ge,Ge,j,G,te,this.f,this.v,this.z);for(let Ye=0;Ye<fe;Ye++){const _t=Math.sqrt(ct[Ye])-Math.sqrt(je[Ye]);Ee[Ye]=Math.round(255-255*(_t/this.radius+this.cutoff))}return ze}};class Qt{constructor(){this.specification=a.v.light.position}possiblyEvaluate(u,p){return a.y(u.expression.evaluate(p))}interpolate(u,p,_){return{x:a.z.number(u.x,p.x,_),y:a.z.number(u.y,p.y,_),z:a.z.number(u.z,p.z,_)}}}let He;class Je extends a.E{constructor(u){super(),He=He||new a.q({anchor:new a.D(a.v.light.anchor),position:new Qt,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(He),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,p={}){if(!this._validate(a.r,u,p))for(const _ in u){const M=u[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),M):this._transitionable.setValue(_,M)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,p,_){return(!_||_.validate!==!1)&&a.t(this,u.call(a.x,{value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}class tt{constructor(u,p){this.width=u,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,p){const _=u.join(",")+String(p);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(u,p)),this.dashEntry[_]}getDashRanges(u,p,_){const M=[];let I=u.length%2==1?-u[u.length-1]*_:0,R=u[0]*_,j=!0;M.push({left:I,right:R,isDash:j,zeroLength:u[0]===0});let G=u[0];for(let te=1;te<u.length;te++){j=!j;const ue=u[te];I=G*_,G+=ue,R=G*_,M.push({left:I,right:R,isDash:j,zeroLength:ue===0})}return M}addRoundDash(u,p,_){const M=p/2;for(let I=-_;I<=_;I++){const R=this.width*(this.nextRow+_+I);let j=0,G=u[j];for(let te=0;te<this.width;te++){te/G.right>1&&(G=u[++j]);const ue=Math.abs(te-G.left),fe=Math.abs(te-G.right),Ee=Math.min(ue,fe);let ze;const Fe=I/_*(M+1);if(G.isDash){const Ge=M-Math.abs(Fe);ze=Math.sqrt(Ee*Ee+Ge*Ge)}else ze=M-Math.sqrt(Ee*Ee+Fe*Fe);this.data[R+te]=Math.max(0,Math.min(255,ze+128))}}}addRegularDash(u){for(let j=u.length-1;j>=0;--j){const G=u[j],te=u[j+1];G.zeroLength?u.splice(j,1):te&&te.isDash===G.isDash&&(te.left=G.left,u.splice(j,1))}const p=u[0],_=u[u.length-1];p.isDash===_.isDash&&(p.left=_.left-this.width,_.right=p.right+this.width);const M=this.width*this.nextRow;let I=0,R=u[I];for(let j=0;j<this.width;j++){j/R.right>1&&(R=u[++I]);const G=Math.abs(j-R.left),te=Math.abs(j-R.right),ue=Math.min(G,te);this.data[M+j]=Math.max(0,Math.min(255,(R.isDash?ue:-ue)+128))}}addDash(u,p){const _=p?7:0,M=2*_+1;if(this.nextRow+M>this.height)return a.w("LineAtlas out of space"),null;let I=0;for(let j=0;j<u.length;j++)I+=u[j];if(I!==0){const j=this.width/I,G=this.getDashRanges(u,this.width,j);p?this.addRoundDash(G,j,_):this.addRegularDash(G)}const R={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:I};return this.nextRow+=M,this.dirty=!0,R}bind(u){const p=u.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}const on="maplibre_preloaded_worker_pool";class mt{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<mt.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[on]}numActive(){return Object.keys(this.active).length}}const dt=Math.floor(B.hardwareConcurrency/2);let kt,Pt;function Me(){return kt||(kt=new mt),kt}mt.workerCount=a.B(globalThis)?Math.max(Math.min(dt,3),1):1;class he{constructor(u,p){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=p;const _=this.workerPool.acquire(p);for(let M=0;M<_.length;M++){const I=new a.C(_[M],p);I.name=`Worker ${M}`,this.actors.push(I)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,p){const _=[];for(const M of this.actors)_.push(M.sendAsync({type:u,data:p}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(u=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],u&&this.workerPool.release(this.id)}registerMessageHandler(u,p){for(const _ of this.actors)_.registerMessageHandler(u,p)}}function be(){return Pt||(Pt=new he(Me(),a.G),Pt.registerMessageHandler("getResource",(O,u,p)=>a.m(u,p))),Pt}function Pe(O,u){const p=a.F();return a.H(p,p,[1,1,0]),a.J(p,p,[.5*O.width,.5*O.height,1]),a.K(p,p,O.calculatePosMatrix(u.toUnwrapped()))}function Ze(O,u,p,_,M,I){const R=function(fe,Ee,ze){if(fe)for(const Fe of fe){const Ge=Ee[Fe];if(Ge&&Ge.source===ze&&Ge.type==="fill-extrusion")return!0}else for(const Fe in Ee){const Ge=Ee[Fe];if(Ge.source===ze&&Ge.type==="fill-extrusion")return!0}return!1}(M&&M.layers,u,O.id),j=I.maxPitchScaleFactor(),G=O.tilesIn(_,j,R);G.sort(nt);const te=[];for(const fe of G)te.push({wrappedTileID:fe.tileID.wrapped().key,queryResults:fe.tile.queryRenderedFeatures(u,p,O._state,fe.queryGeometry,fe.cameraQueryGeometry,fe.scale,M,I,j,Pe(O.transform,fe.tileID))});const ue=function(fe){const Ee={},ze={};for(const Fe of fe){const Ge=Fe.queryResults,je=Fe.wrappedTileID,ct=ze[je]=ze[je]||{};for(const Ot in Ge){const Ye=Ge[Ot],_t=ct[Ot]=ct[Ot]||{},Gt=Ee[Ot]=Ee[Ot]||[];for(const It of Ye)_t[It.featureIndex]||(_t[It.featureIndex]=!0,Gt.push(It))}}return Ee}(te);for(const fe in ue)ue[fe].forEach(Ee=>{const ze=Ee.feature,Fe=O.getFeatureState(ze.layer["source-layer"],ze.id);ze.source=ze.layer.source,ze.layer["source-layer"]&&(ze.sourceLayer=ze.layer["source-layer"]),ze.state=Fe});return ue}function nt(O,u){const p=O.tileID,_=u.tileID;return p.overscaledZ-_.overscaledZ||p.canonical.y-_.canonical.y||p.wrap-_.wrap||p.canonical.x-_.canonical.x}function xt(O,u,p){return a._(this,void 0,void 0,function*(){let _=O;if(O.url?_=(yield a.h(u.transformRequest(O.url,re.Source),p)).data:yield B.frameAsync(p),!_)return null;const M=a.L(a.e(_,O),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(M.vectorLayerIds=_.vector_layers.map(I=>I.id)),M})}class Ft{constructor(u,p){u&&(p?this.setSouthWest(u).setNorthEast(p):Array.isArray(u)&&(u.length===4?this.setSouthWest([u[0],u[1]]).setNorthEast([u[2],u[3]]):this.setSouthWest(u[0]).setNorthEast(u[1])))}setNorthEast(u){return this._ne=u instanceof a.M?new a.M(u.lng,u.lat):a.M.convert(u),this}setSouthWest(u){return this._sw=u instanceof a.M?new a.M(u.lng,u.lat):a.M.convert(u),this}extend(u){const p=this._sw,_=this._ne;let M,I;if(u instanceof a.M)M=u,I=u;else{if(!(u instanceof Ft))return Array.isArray(u)?u.length===4||u.every(Array.isArray)?this.extend(Ft.convert(u)):this.extend(a.M.convert(u)):u&&("lng"in u||"lon"in u)&&"lat"in u?this.extend(a.M.convert(u)):this;if(M=u._sw,I=u._ne,!M||!I)return this}return p||_?(p.lng=Math.min(M.lng,p.lng),p.lat=Math.min(M.lat,p.lat),_.lng=Math.max(I.lng,_.lng),_.lat=Math.max(I.lat,_.lat)):(this._sw=new a.M(M.lng,M.lat),this._ne=new a.M(I.lng,I.lat)),this}getCenter(){return new a.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.M(this.getWest(),this.getNorth())}getSouthEast(){return new a.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(u){const{lng:p,lat:_}=a.M.convert(u);let M=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(M=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&M}static convert(u){return u instanceof Ft?u:u&&new Ft(u)}static fromLngLat(u,p=0){const _=360*p/40075017,M=_/Math.cos(Math.PI/180*u.lat);return new Ft(new a.M(u.lng-M,u.lat-_),new a.M(u.lng+M,u.lat+_))}}class Dt{constructor(u,p,_){this.bounds=Ft.convert(this.validateBounds(u)),this.minzoom=p||0,this.maxzoom=_||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const p=Math.pow(2,u.z),_=Math.floor(a.N(this.bounds.getWest())*p),M=Math.floor(a.O(this.bounds.getNorth())*p),I=Math.ceil(a.N(this.bounds.getEast())*p),R=Math.ceil(a.O(this.bounds.getSouth())*p);return u.x>=_&&u.x<I&&u.y>=M&&u.y<R}}class pt extends a.E{constructor(u,p,_,M){if(super(),this.id=u,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.L(p,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(M)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield xt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),u&&(a.e(this,u),u.bounds&&(this.tileBounds=new Dt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new a.j(u))}})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.abort(),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(u){return a._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(p,re.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};_.request.collectResourceTiming=this._collectResourceTiming;let M="reloadTile";if(u.actor&&u.state!=="expired"){if(u.state==="loading")return new Promise((I,R)=>{u.reloadPromise={resolve:I,reject:R}})}else u.actor=this.dispatcher.getActor(),M="loadTile";u.abortController=new AbortController;try{const I=yield u.actor.sendAsync({type:M,data:_},u.abortController);if(delete u.abortController,u.aborted)return;this._afterTileLoadWorkerResponse(u,I)}catch(I){if(delete u.abortController,u.aborted)return;if(I&&I.status!==404)throw I;this._afterTileLoadWorkerResponse(u,null)}})}_afterTileLoadWorkerResponse(u,p){if(p&&p.resourceTiming&&(u.resourceTiming=p.resourceTiming),p&&this.map._refreshExpiredTiles&&u.setExpiryData(p),u.loadVectorData(p,this.map.painter),u.reloadPromise){const _=u.reloadPromise;u.reloadPromise=null,this.loadTile(u).then(_.resolve).catch(_.reject)}}abortTile(u){return a._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.actor&&(yield u.actor.sendAsync({type:"abortTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}unloadTile(u){return a._(this,void 0,void 0,function*(){u.unloadVectorData(),u.actor&&(yield u.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class nr extends a.E{constructor(u,p,_,M){super(),this.id=u,this.dispatcher=_,this.setEventedParent(M),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},p),a.e(this,a.L(p,["url","scheme","tileSize"]))}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield xt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,u&&(a.e(this,u),u.bounds&&(this.tileBounds=new Dt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new a.j(u))}})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(u){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}serialize(){return a.e({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u){return a._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.abortController=new AbortController;try{const _=yield oe.getImage(this.map._requestManager.transformRequest(p,re.Tile),u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&_.cacheControl&&_.expires&&u.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const M=this.map.painter.context,I=M.gl,R=_.data;u.texture=this.map.painter.getTileTexture(R.width),u.texture?u.texture.update(R,{useMipmap:!0}):(u.texture=new ft(M,R,I.RGBA,{useMipmap:!0}),u.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST),M.extTextureFilterAnisotropic&&I.texParameterf(I.TEXTURE_2D,M.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,M.extTextureFilterAnisotropicMax)),u.state="loaded"}}catch(_){if(delete u.abortController,u.aborted)u.state="unloaded";else if(_)throw u.state="errored",_}})}abortTile(u){return a._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController)})}unloadTile(u){return a._(this,void 0,void 0,function*(){u.texture&&this.map.painter.saveTileTexture(u.texture)})}hasTransition(){return!1}}class pn extends nr{constructor(u,p,_,M){super(u,p,_,M),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(u){return a._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(p,re.Tile);u.neighboringTiles=this._getNeighboringTiles(u.tileID),u.abortController=new AbortController;try{const M=yield oe.getImage(_,u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(M&&M.data){const I=M.data;this.map._refreshExpiredTiles&&M.cacheControl&&M.expires&&u.setExpiryData({cacheControl:M.cacheControl,expires:M.expires});const R=a.b(I)&&a.S()?I:yield this.readImageNow(I),j={type:this.type,uid:u.uid,source:this.id,rawImageData:R,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!u.actor||u.state==="expired"){u.actor=this.dispatcher.getActor();const G=yield u.actor.sendAsync({type:"loadDEMTile",data:j});u.dem=G,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded"}}}catch(M){if(delete u.abortController,u.aborted)u.state="unloaded";else if(M)throw u.state="errored",M}})}readImageNow(u){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.U()){const p=u.width+2,_=u.height+2;try{return new a.R({width:p,height:_},yield a.V(u,-1,-1,p,_))}catch{}}return B.getImageData(u,1)})}_getNeighboringTiles(u){const p=u.canonical,_=Math.pow(2,p.z),M=(p.x-1+_)%_,I=p.x===0?u.wrap-1:u.wrap,R=(p.x+1+_)%_,j=p.x+1===_?u.wrap+1:u.wrap,G={};return G[new a.Q(u.overscaledZ,I,p.z,M,p.y).key]={backfilled:!1},G[new a.Q(u.overscaledZ,j,p.z,R,p.y).key]={backfilled:!1},p.y>0&&(G[new a.Q(u.overscaledZ,I,p.z,M,p.y-1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,j,p.z,R,p.y-1).key]={backfilled:!1}),p.y+1<_&&(G[new a.Q(u.overscaledZ,I,p.z,M,p.y+1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,j,p.z,R,p.y+1).key]={backfilled:!1}),G}unloadTile(u){return a._(this,void 0,void 0,function*(){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&(yield u.actor.sendAsync({type:"removeDEMTile",data:{type:this.type,uid:u.uid,source:this.id}}))})}}class bn extends a.E{constructor(u,p,_,M){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=_.getActor(),this.setEventedParent(M),this._data=p.data,this._options=a.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const I=a.W/this.tileSize;this.workerOptions=a.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*I,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*I,extent:a.W,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.W,radius:(p.clusterRadius||50)*I,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(u){this.map=u,this.load()}setData(u){return this._data=u,this._updateWorkerData(),this}updateData(u){return this._updateWorkerData(u),this}setClusterOptions(u){return this.workerOptions.cluster=u.cluster,u&&(u.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=u.clusterRadius),u.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=u.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(u){return this.actor.sendAsync({type:"getClusterExpansionZoom",data:{type:this.type,clusterId:u,source:this.id}})}getClusterChildren(u){return this.actor.sendAsync({type:"getClusterChildren",data:{type:this.type,clusterId:u,source:this.id}})}getClusterLeaves(u,p,_){return this.actor.sendAsync({type:"getClusterLeaves",data:{type:this.type,source:this.id,clusterId:u,limit:p,offset:_}})}_updateWorkerData(u){return a._(this,void 0,void 0,function*(){const p=a.e({type:this.type},this.workerOptions);u?p.dataDiff=u:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(B.resolveURL(this._data),re.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"}));try{const _=yield this.actor.sendAsync({type:"loadData",data:p});if(this._pendingLoads--,this._removed||_.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let M=null;_.resourceTiming&&_.resourceTiming[this.id]&&(M=_.resourceTiming[this.id].slice(0));const I={dataType:"source"};this._collectResourceTiming&&M&&M.length>0&&a.e(I,{resourceTiming:M}),this.fire(new a.k("data",Object.assign(Object.assign({},I),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},I),{sourceDataType:"content"})))}catch(_){if(this._pendingLoads--,this._removed)return void this.fire(new a.k("dataabort",{dataType:"source"}));this.fire(new a.j(_))}})}loaded(){return this._pendingLoads===0}loadTile(u){return a._(this,void 0,void 0,function*(){const p=u.actor?"reloadTile":"loadTile";u.actor=this.actor;const _={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.abortController=new AbortController;const M=yield this.actor.sendAsync({type:p,data:_},u.abortController);delete u.abortController,u.unloadVectorData(),u.aborted||u.loadVectorData(M,this.map.painter,p==="reloadTile")})}abortTile(u){return a._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.aborted=!0})}unloadTile(u){return a._(this,void 0,void 0,function*(){u.unloadVectorData(),yield this.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"removeSource",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Jn=a.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class mr extends a.E{constructor(u,p,_,M){super(),this.id=u,this.dispatcher=_,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(M),this.options=p}load(u){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const p=yield oe.getImage(this.map._requestManager.transformRequest(this.url,re.Image),this._request);this._request=null,this._loaded=!0,p&&p.data&&(this.image=p.data,u&&(this.coordinates=u),this._finishLoading())}catch(p){this._request=null,this.fire(new a.j(p))}})}loaded(){return this._loaded}updateImage(u){return u.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=u.url,this.load(u.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(u){this.coordinates=u;const p=u.map(a.Y.fromLngLat);this.tileID=function(M){let I=1/0,R=1/0,j=-1/0,G=-1/0;for(const Ee of M)I=Math.min(I,Ee.x),R=Math.min(R,Ee.y),j=Math.max(j,Ee.x),G=Math.max(G,Ee.y);const te=Math.max(j-I,G-R),ue=Math.max(0,Math.floor(-Math.log(te)/Math.LN2)),fe=Math.pow(2,ue);return new a.a0(ue,Math.floor((I+j)/2*fe),Math.floor((R+G)/2*fe))}(p),this.minzoom=this.maxzoom=this.tileID.z;const _=p.map(M=>this.tileID.getTilePoint(M)._round());return this._boundsArray=new a.Z,this._boundsArray.emplaceBack(_[0].x,_[0].y,0,0),this._boundsArray.emplaceBack(_[1].x,_[1].y,a.W,0),this._boundsArray.emplaceBack(_[3].x,_[3].y,0,a.W),this._boundsArray.emplaceBack(_[2].x,_[2].y,a.W,a.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=a.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ft(u,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let _=!1;for(const M in this.tiles){const I=this.tiles[M];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,_=!0)}_&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(u){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={}):u.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class xr extends mr{constructor(u,p,_,M){super(u,p,_,M),this.roundZoom=!0,this.type="video",this.options=p}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;const u=this.options;this.urls=[];for(const p of u.urls)this.urls.push(this.map._requestManager.transformRequest(p,re.Source).url);try{const p=yield a.a2(this.urls);if(this._loaded=!0,!p)return;this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(p){this.fire(new a.j(p))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const p=this.video.seekable;u<p.start(0)||u>p.end(0)?this.fire(new a.j(new a.a1(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=a.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new ft(u,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let _=!1;for(const M in this.tiles){const I=this.tiles[M];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,_=!0)}_&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Nr extends mr{constructor(u,p,_,M){super(u,p,_,M),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(I=>!Array.isArray(I)||I.length!==2||I.some(R=>typeof R!="number"))||this.fire(new a.j(new a.a1(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.a1(`sources.${u}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.j(new a.a1(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.a1(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.a1(`sources.${u}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const p=this.map.painter.context,_=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=a.$.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ft(p,this.canvas,_.RGBA,{premultiply:!0});let M=!1;for(const I in this.tiles){const R=this.tiles[I];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,M=!0)}M&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const _r={},fi=O=>{switch(O){case"geojson":return bn;case"image":return mr;case"raster":return nr;case"raster-dem":return pn;case"vector":return pt;case"video":return xr;case"canvas":return Nr}return _r[O]};class we extends a.E{constructor(){super(...arguments),this.pluginStatus="unavailable",this.pluginURL=null,this.dispatcher=be(),this.queue=[]}_sendPluginStateToWorker(){return a._(this,void 0,void 0,function*(){yield this.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}),this.fire(new a.k("pluginStateChange",{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}))})}getRTLTextPluginStatus(){return this.pluginStatus}clearRTLTextPlugin(){this.pluginStatus="unavailable",this.pluginURL=null}setRTLTextPlugin(u,p=!1){return a._(this,void 0,void 0,function*(){if(this.pluginStatus==="deferred"||this.pluginStatus==="loading"||this.pluginStatus==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");this.pluginURL=B.resolveURL(u),this.pluginStatus="deferred",yield this._sendPluginStateToWorker(),p||(yield this._downloadRTLTextPlugin())})}_downloadRTLTextPlugin(){return a._(this,void 0,void 0,function*(){if(this.pluginStatus!=="deferred"||!this.pluginURL)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");try{this.pluginStatus="loading",yield this._sendPluginStateToWorker(),yield a.l({url:this.pluginURL},new AbortController),this.pluginStatus="loaded"}catch{this.pluginStatus="error"}yield this._sendPluginStateToWorker()})}lazyLoadRTLTextPlugin(){return a._(this,void 0,void 0,function*(){this.pluginStatus==="deferred"&&(yield this._downloadRTLTextPlugin())})}}let H=null;function Y(){return H||(H=new we),H}class Be{constructor(u,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=u,this.uid=a.a3(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(u){const p=u+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(u,p,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=function(M,I){const R={};if(!I)return R;for(const j of M){const G=j.layerIds.map(te=>I.getLayer(te)).filter(Boolean);if(G.length!==0){j.layers=G,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(te=>G.filter(ue=>ue.id===te)[0]));for(const te of G)R[te.id]=j}}return R}(u.buckets,p.style),this.hasSymbolBuckets=!1;for(const M in this.buckets){const I=this.buckets[M];if(I instanceof a.a5){if(this.hasSymbolBuckets=!0,!_)break;I.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const M in this.buckets){const I=this.buckets[M];if(I instanceof a.a5&&I.hasRTLText){this.hasRTLText=!0,Y().lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const M in this.buckets){const I=this.buckets[M];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(M).queryRadius(I))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage)}else this.collisionBoxArray=new a.a4}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const _ in this.buckets){const M=this.buckets[_];M.uploadPending()&&M.upload(u)}const p=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ft(u,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ft(u,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,p,_,M,I,R,j,G,te,ue){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:M,cameraQueryGeometry:I,scale:R,tileSize:this.tileSize,pixelPosMatrix:ue,transform:G,params:j,queryPadding:this.queryPadding*te},u,p,_):{}}querySourceFeatures(u,p){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const M=_.loadVTLayers(),I=p&&p.sourceLayer?p.sourceLayer:"",R=M._geojsonTileLayer||M[I];if(!R)return;const j=a.a6(p&&p.filter),{z:G,x:te,y:ue}=this.tileID.canonical,fe={z:G,x:te,y:ue};for(let Ee=0;Ee<R.length;Ee++){const ze=R.feature(Ee);if(j.needGeometry){const je=a.a7(ze,!0);if(!j.filter(new a.a8(this.tileID.overscaledZ),je,this.tileID.canonical))continue}else if(!j.filter(new a.a8(this.tileID.overscaledZ),ze))continue;const Fe=_.getId(ze,I),Ge=new a.a9(ze,G,te,ue,Fe);Ge.tile=fe,u.push(Ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const p=this.expirationTime;if(u.cacheControl){const _=a.aa(u.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const _=Date.now();let M=!1;if(this.expirationTime>_)M=!1;else if(p)if(this.expirationTime<p)M=!0;else{const I=this.expirationTime-p;I?this.expirationTime=_+Math.max(I,3e4):M=!0}else M=!0;M?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const M in this.buckets){if(!p.style.hasLayer(M))continue;const I=this.buckets[M],R=I.layers[0].sourceLayer||"_geojsonTileLayer",j=_[R],G=u[R];if(!j||!G||Object.keys(G).length===0)continue;I.update(G,j,this.imageAtlas&&this.imageAtlas.patternPositions||{});const te=p&&p.style&&p.style.getLayer(M);te&&(this.queryPadding=Math.max(this.queryPadding,te.queryRadius(I)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<B.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(u){this.symbolFadeHoldUntil=B.now()+u}setDependencies(u,p){const _={};for(const M of p)_[M]=!0;this.dependencies[u]=_}hasDependency(u,p){for(const _ of u){const M=this.dependencies[_];if(M){for(const I of p)if(M[I])return!0}}return!1}}class st{constructor(u,p){this.max=u,this.onRemove=p,this.reset()}reset(){for(const u in this.data)for(const p of this.data[u])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(u,p,_){const M=u.wrapped().key;this.data[M]===void 0&&(this.data[M]=[]);const I={value:p,timeout:void 0};if(_!==void 0&&(I.timeout=setTimeout(()=>{this.remove(u,I)},_)),this.data[M].push(I),this.order.push(M),this.order.length>this.max){const R=this._getAndRemoveByKey(this.order[0]);R&&this.onRemove(R)}return this}has(u){return u.wrapped().key in this.data}getAndRemove(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null}_getAndRemoveByKey(u){const p=this.data[u].shift();return p.timeout&&clearTimeout(p.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),p.value}getByKey(u){const p=this.data[u];return p?p[0].value:null}get(u){return this.has(u)?this.data[u.wrapped().key][0].value:null}remove(u,p){if(!this.has(u))return this;const _=u.wrapped().key,M=p===void 0?0:this.data[_].indexOf(p),I=this.data[_][M];return this.data[_].splice(M,1),I.timeout&&clearTimeout(I.timeout),this.data[_].length===0&&delete this.data[_],this.onRemove(I.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(u){for(this.max=u;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(u){const p=[];for(const _ in this.data)for(const M of this.data[_])u(M.value)||p.push(M);for(const _ of p)this.remove(_.value.tileID,_)}}class St{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,p,_){const M=String(p);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][M]=this.stateChanges[u][M]||{},a.e(this.stateChanges[u][M],_),this.deletedStates[u]===null){this.deletedStates[u]={};for(const I in this.state[u])I!==M&&(this.deletedStates[u][I]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][M]===null){this.deletedStates[u][M]={};for(const I in this.state[u][M])_[I]||(this.deletedStates[u][M][I]=null)}else for(const I in _)this.deletedStates[u]&&this.deletedStates[u][M]&&this.deletedStates[u][M][I]===null&&delete this.deletedStates[u][M][I]}removeFeatureState(u,p,_){if(this.deletedStates[u]===null)return;const M=String(p);if(this.deletedStates[u]=this.deletedStates[u]||{},_&&p!==void 0)this.deletedStates[u][M]!==null&&(this.deletedStates[u][M]=this.deletedStates[u][M]||{},this.deletedStates[u][M][_]=null);else if(p!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][M])for(_ in this.deletedStates[u][M]={},this.stateChanges[u][M])this.deletedStates[u][M][_]=null;else this.deletedStates[u][M]=null;else this.deletedStates[u]=null}getState(u,p){const _=String(p),M=a.e({},(this.state[u]||{})[_],(this.stateChanges[u]||{})[_]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const I=this.deletedStates[u][p];if(I===null)return{};for(const R in I)delete M[R]}return M}initializeTileState(u,p){u.setFeatureState(this.state,p)}coalesceChanges(u,p){const _={};for(const M in this.stateChanges){this.state[M]=this.state[M]||{};const I={};for(const R in this.stateChanges[M])this.state[M][R]||(this.state[M][R]={}),a.e(this.state[M][R],this.stateChanges[M][R]),I[R]=this.state[M][R];_[M]=I}for(const M in this.deletedStates){this.state[M]=this.state[M]||{};const I={};if(this.deletedStates[M]===null)for(const R in this.state[M])I[R]={},this.state[M][R]={};else for(const R in this.deletedStates[M]){if(this.deletedStates[M][R]===null)this.state[M][R]={};else for(const j of Object.keys(this.deletedStates[M][R]))delete this.state[M][R][j];I[R]=this.state[M][R]}_[M]=_[M]||{},a.e(_[M],I)}if(this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0)for(const M in u)u[M].setFeatureState(_,p)}}class Et extends a.E{constructor(u,p,_){super(),this.id=u,this.dispatcher=_,this.on("data",M=>{M.dataType==="source"&&M.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&M.dataType==="source"&&M.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((M,I,R,j)=>{const G=new(fi(I.type))(M,I,R,j);if(G.id!==M)throw new Error(`Expected Source id to be ${M} instead of ${G.id}`);return G})(u,p,_,this),this._tiles={},this._cache=new st(0,M=>this._unloadTile(M)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new St,this._didEmitContent=!1,this._updated=!1}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._maxTileCacheZoomLevels=u?u._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const u in this._tiles){const p=this._tiles[u];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,p,_){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(u),this._tileLoaded(u,p,_)}catch(M){u.state="errored",M.status!==404?this._source.fire(new a.j(M,{tile:u})):this.update(this.transform,this.terrain)}})}_unloadTile(u){this._source.unloadTile&&this._source.unloadTile(u)}_abortTile(u){this._source.abortTile&&this._source.abortTile(u),this._source.fire(new a.k("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const _=this._tiles[p];_.upload(u),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(u=>u.tileID).sort(Nt).map(u=>u.key)}getRenderableIds(u){const p=[];for(const _ in this._tiles)this._isIdRenderable(_,u)&&p.push(this._tiles[_]);return u?p.sort((_,M)=>{const I=_.tileID,R=M.tileID,j=new a.P(I.canonical.x,I.canonical.y)._rotate(this.transform.angle),G=new a.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return I.overscaledZ-R.overscaledZ||G.y-j.y||G.x-j.x}).map(_=>_.tileID.key):p.map(_=>_.tileID).sort(Nt).map(_=>_.key)}hasRenderableParent(u){const p=this.findLoadedParent(u,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(u,p){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(p||!this._tiles[u].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(u,p){return a._(this,void 0,void 0,function*(){const _=this._tiles[u];_&&(_.state!=="loading"&&(_.state=p),yield this._loadTile(_,u,p))})}_tileLoaded(u,p,_){u.timeAdded=B.now(),_==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(p,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const p=this.getRenderableIds();for(let M=0;M<p.length;M++){const I=p[M];if(u.neighboringTiles&&u.neighboringTiles[I]){const R=this.getTileByID(I);_(u,R),_(R,u)}}function _(M,I){M.needsHillshadePrepare=!0,M.needsTerrainPrepare=!0;let R=I.tileID.canonical.x-M.tileID.canonical.x;const j=I.tileID.canonical.y-M.tileID.canonical.y,G=Math.pow(2,M.tileID.canonical.z),te=I.tileID.key;R===0&&j===0||Math.abs(j)>1||(Math.abs(R)>1&&(Math.abs(R+G)===1?R+=G:Math.abs(R-G)===1&&(R-=G)),I.dem&&M.dem&&(M.dem.backfillBorder(I.dem,R,j),M.neighboringTiles&&M.neighboringTiles[te]&&(M.neighboringTiles[te].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,p,_,M){for(const I in this._tiles){let R=this._tiles[I];if(M[I]||!R.hasData()||R.tileID.overscaledZ<=p||R.tileID.overscaledZ>_)continue;let j=R.tileID;for(;R&&R.tileID.overscaledZ>p+1;){const te=R.tileID.scaledTo(R.tileID.overscaledZ-1);R=this._tiles[te.key],R&&R.hasData()&&(j=te)}let G=j;for(;G.overscaledZ>p;)if(G=G.scaledTo(G.overscaledZ-1),u[G.key]){M[j.key]=j;break}}}findLoadedParent(u,p){if(u.key in this._loadedParentTiles){const _=this._loadedParentTiles[u.key];return _&&_.tileID.overscaledZ>=p?_:null}for(let _=u.overscaledZ-1;_>=p;_--){const M=u.scaledTo(_),I=this._getLoadedTile(M);if(I)return I}}_getLoadedTile(u){const p=this._tiles[u.key];return p&&p.hasData()?p:this._cache.getByKey(u.wrapped().key)}updateCacheSize(u){const p=Math.ceil(u.width/this._source.tileSize)+1,_=Math.ceil(u.height/this._source.tileSize)+1,M=Math.floor(p*_*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),I=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,M):M;this._cache.setMaxSize(I)}handleWrapJump(u){const p=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,p){const _={};for(const M in this._tiles){const I=this._tiles[M];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+p),_[I.tileID.key]=I}this._tiles=_;for(const M in this._timers)clearTimeout(this._timers[M]),delete this._timers[M];for(const M in this._tiles)this._setTileReloadTimer(M,this._tiles[M])}}update(u,p){if(this.transform=u,this.terrain=p,!this._sourceLoaded||this._paused)return;let _;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(ue=>new a.Q(ue.canonical.z,ue.wrap,ue.canonical.z,ue.canonical.x,ue.canonical.y)):(_=u.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(_=_.filter(ue=>this._source.hasTile(ue)))):_=[];const M=u.coveringZoomLevel(this._source),I=Math.max(M-Et.maxOverzooming,this._source.minzoom),R=Math.max(M+Et.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const ue={};for(const fe of _)if(fe.canonical.z>this._source.minzoom){const Ee=fe.scaledTo(fe.canonical.z-1);ue[Ee.key]=Ee;const ze=fe.scaledTo(Math.max(this._source.minzoom,Math.min(fe.canonical.z,5)));ue[ze.key]=ze}_=_.concat(Object.values(ue))}const j=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,j&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const G=this._updateRetainedTiles(_,M);if(mn(this._source.type)){const ue={},fe={},Ee=Object.keys(G),ze=B.now();for(const Fe of Ee){const Ge=G[Fe],je=this._tiles[Fe];if(!je||je.fadeEndTime!==0&&je.fadeEndTime<=ze)continue;const ct=this.findLoadedParent(Ge,I);ct&&(this._addTile(ct.tileID),ue[ct.tileID.key]=ct.tileID),fe[Fe]=Ge}this._retainLoadedChildren(fe,M,R,G);for(const Fe in ue)G[Fe]||(this._coveredTiles[Fe]=!0,G[Fe]=ue[Fe]);if(p){const Fe={},Ge={};for(const je of _)this._tiles[je.key].hasData()?Fe[je.key]=je:Ge[je.key]=je;for(const je in Ge){const ct=Ge[je].children(this._source.maxzoom);this._tiles[ct[0].key]&&this._tiles[ct[1].key]&&this._tiles[ct[2].key]&&this._tiles[ct[3].key]&&(Fe[ct[0].key]=G[ct[0].key]=ct[0],Fe[ct[1].key]=G[ct[1].key]=ct[1],Fe[ct[2].key]=G[ct[2].key]=ct[2],Fe[ct[3].key]=G[ct[3].key]=ct[3],delete Ge[je])}for(const je in Ge){const ct=this.findLoadedParent(Ge[je],this._source.minzoom);if(ct){Fe[ct.tileID.key]=G[ct.tileID.key]=ct.tileID;for(const Ot in Fe)Fe[Ot].isChildOf(ct.tileID)&&delete Fe[Ot]}}for(const je in this._tiles)Fe[je]||(this._coveredTiles[je]=!0)}}for(const ue in G)this._tiles[ue].clearFadeHold();const te=a.ab(this._tiles,G);for(const ue of te){const fe=this._tiles[ue];fe.hasSymbolBuckets&&!fe.holdingForFade()?fe.setHoldDuration(this.map._fadeDuration):fe.hasSymbolBuckets&&!fe.symbolFadeFinished()||this._removeTile(ue)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)}_updateRetainedTiles(u,p){const _={},M={},I=Math.max(p-Et.maxOverzooming,this._source.minzoom),R=Math.max(p+Et.maxUnderzooming,this._source.minzoom),j={};for(const G of u){const te=this._addTile(G);_[G.key]=G,te.hasData()||p<this._source.maxzoom&&(j[G.key]=G)}this._retainLoadedChildren(j,p,R,_);for(const G of u){let te=this._tiles[G.key];if(te.hasData())continue;if(p+1>this._source.maxzoom){const fe=G.children(this._source.maxzoom)[0],Ee=this.getTile(fe);if(Ee&&Ee.hasData()){_[fe.key]=fe;continue}}else{const fe=G.children(this._source.maxzoom);if(_[fe[0].key]&&_[fe[1].key]&&_[fe[2].key]&&_[fe[3].key])continue}let ue=te.wasRequested();for(let fe=G.overscaledZ-1;fe>=I;--fe){const Ee=G.scaledTo(fe);if(M[Ee.key])break;if(M[Ee.key]=!0,te=this.getTile(Ee),!te&&ue&&(te=this._addTile(Ee)),te){const ze=te.hasData();if((ue||ze)&&(_[Ee.key]=Ee),ue=te.wasRequested(),ze)break}}}return _}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const u in this._tiles){const p=[];let _,M=this._tiles[u].tileID;for(;M.overscaledZ>0;){if(M.key in this._loadedParentTiles){_=this._loadedParentTiles[M.key];break}p.push(M.key);const I=M.scaledTo(M.overscaledZ-1);if(_=this._getLoadedTile(I),_)break;M=I}for(const I of p)this._loadedParentTiles[I]=_}}_addTile(u){let p=this._tiles[u.key];if(p)return p;p=this._cache.getAndRemove(u),p&&(this._setTileReloadTimer(u.key,p),p.tileID=u,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,p)));const _=p;return p||(p=new Be(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(p,u.key,p.state)),p.uses++,this._tiles[u.key]=p,_||this._source.fire(new a.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(u,p){u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);const _=p.getExpiryTimeout();_&&(this._timers[u]=setTimeout(()=>{this._reloadTile(u,"expired"),delete this._timers[u]},_))}_removeTile(u){const p=this._tiles[u];p&&(p.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,p,_){const M=[],I=this.transform;if(!I)return M;const R=_?I.getCameraQueryGeometry(u):u,j=u.map(Fe=>I.pointCoordinate(Fe,this.terrain)),G=R.map(Fe=>I.pointCoordinate(Fe,this.terrain)),te=this.getIds();let ue=1/0,fe=1/0,Ee=-1/0,ze=-1/0;for(const Fe of G)ue=Math.min(ue,Fe.x),fe=Math.min(fe,Fe.y),Ee=Math.max(Ee,Fe.x),ze=Math.max(ze,Fe.y);for(let Fe=0;Fe<te.length;Fe++){const Ge=this._tiles[te[Fe]];if(Ge.holdingForFade())continue;const je=Ge.tileID,ct=Math.pow(2,I.zoom-Ge.tileID.overscaledZ),Ot=p*Ge.queryPadding*a.W/Ge.tileSize/ct,Ye=[je.getTilePoint(new a.Y(ue,fe)),je.getTilePoint(new a.Y(Ee,ze))];if(Ye[0].x-Ot<a.W&&Ye[0].y-Ot<a.W&&Ye[1].x+Ot>=0&&Ye[1].y+Ot>=0){const _t=j.map(It=>je.getTilePoint(It)),Gt=G.map(It=>je.getTilePoint(It));M.push({tile:Ge,tileID:je,queryGeometry:_t,cameraQueryGeometry:Gt,scale:ct})}}return M}getVisibleCoordinates(u){const p=this.getRenderableIds(u).map(_=>this._tiles[_].tileID);for(const _ of p)_.posMatrix=this.transform.calculatePosMatrix(_.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(mn(this._source.type)){const u=B.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=u)return!0}return!1}setFeatureState(u,p,_){this._state.updateState(u=u||"_geojsonTileLayer",p,_)}removeFeatureState(u,p,_){this._state.removeFeatureState(u=u||"_geojsonTileLayer",p,_)}getFeatureState(u,p){return this._state.getState(u=u||"_geojsonTileLayer",p)}setDependencies(u,p,_){const M=this._tiles[u];M&&M.setDependencies(p,_)}reloadTilesForDependencies(u,p){for(const _ in this._tiles)this._tiles[_].hasDependency(u,p)&&this._reloadTile(_,"reloading");this._cache.filter(_=>!_.hasDependency(u,p))}}function Nt(O,u){const p=Math.abs(2*O.wrap)-+(O.wrap<0),_=Math.abs(2*u.wrap)-+(u.wrap<0);return O.overscaledZ-u.overscaledZ||_-p||u.canonical.y-O.canonical.y||u.canonical.x-O.canonical.x}function mn(O){return O==="raster"||O==="image"||O==="video"}Et.maxOverzooming=10,Et.maxUnderzooming=3;class Kn{constructor(u,p){this.reset(u,p)}reset(u,p){this.points=u||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=a.ac(u,0,1);let p=1,_=this._distances[p];const M=u*this.paddedLength+this.padding;for(;_<M&&p<this._distances.length;)_=this._distances[++p];const I=p-1,R=this._distances[I],j=_-R,G=j>0?(M-R)/j:0;return this.points[I].mult(1-G).add(this.points[p].mult(G))}}function En(O,u){let p=!0;return O==="always"||O!=="never"&&u!=="never"||(p=!1),p}class m{constructor(u,p,_){const M=this.boxCells=[],I=this.circleCells=[];this.xCellCount=Math.ceil(u/_),this.yCellCount=Math.ceil(p/_);for(let R=0;R<this.xCellCount*this.yCellCount;R++)M.push([]),I.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=p,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,p,_,M,I){this._forEachCell(p,_,M,I,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(p),this.bboxes.push(_),this.bboxes.push(M),this.bboxes.push(I)}insertCircle(u,p,_,M){this._forEachCell(p-M,_-M,p+M,_+M,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(p),this.circles.push(_),this.circles.push(M)}_insertBoxCell(u,p,_,M,I,R){this.boxCells[I].push(R)}_insertCircleCell(u,p,_,M,I,R){this.circleCells[I].push(R)}_query(u,p,_,M,I,R,j){if(_<0||u>this.width||M<0||p>this.height)return[];const G=[];if(u<=0&&p<=0&&this.width<=_&&this.height<=M){if(I)return[{key:null,x1:u,y1:p,x2:_,y2:M}];for(let te=0;te<this.boxKeys.length;te++)G.push({key:this.boxKeys[te],x1:this.bboxes[4*te],y1:this.bboxes[4*te+1],x2:this.bboxes[4*te+2],y2:this.bboxes[4*te+3]});for(let te=0;te<this.circleKeys.length;te++){const ue=this.circles[3*te],fe=this.circles[3*te+1],Ee=this.circles[3*te+2];G.push({key:this.circleKeys[te],x1:ue-Ee,y1:fe-Ee,x2:ue+Ee,y2:fe+Ee})}}else this._forEachCell(u,p,_,M,this._queryCell,G,{hitTest:I,overlapMode:R,seenUids:{box:{},circle:{}}},j);return G}query(u,p,_,M){return this._query(u,p,_,M,!1,null)}hitTest(u,p,_,M,I,R){return this._query(u,p,_,M,!0,I,R).length>0}hitTestCircle(u,p,_,M,I){const R=u-_,j=u+_,G=p-_,te=p+_;if(j<0||R>this.width||te<0||G>this.height)return!1;const ue=[];return this._forEachCell(R,G,j,te,this._queryCellCircle,ue,{hitTest:!0,overlapMode:M,circle:{x:u,y:p,radius:_},seenUids:{box:{},circle:{}}},I),ue.length>0}_queryCell(u,p,_,M,I,R,j,G){const{seenUids:te,hitTest:ue,overlapMode:fe}=j,Ee=this.boxCells[I];if(Ee!==null){const Fe=this.bboxes;for(const Ge of Ee)if(!te.box[Ge]){te.box[Ge]=!0;const je=4*Ge,ct=this.boxKeys[Ge];if(u<=Fe[je+2]&&p<=Fe[je+3]&&_>=Fe[je+0]&&M>=Fe[je+1]&&(!G||G(ct))&&(!ue||!En(fe,ct.overlapMode))&&(R.push({key:ct,x1:Fe[je],y1:Fe[je+1],x2:Fe[je+2],y2:Fe[je+3]}),ue))return!0}}const ze=this.circleCells[I];if(ze!==null){const Fe=this.circles;for(const Ge of ze)if(!te.circle[Ge]){te.circle[Ge]=!0;const je=3*Ge,ct=this.circleKeys[Ge];if(this._circleAndRectCollide(Fe[je],Fe[je+1],Fe[je+2],u,p,_,M)&&(!G||G(ct))&&(!ue||!En(fe,ct.overlapMode))){const Ot=Fe[je],Ye=Fe[je+1],_t=Fe[je+2];if(R.push({key:ct,x1:Ot-_t,y1:Ye-_t,x2:Ot+_t,y2:Ye+_t}),ue)return!0}}}return!1}_queryCellCircle(u,p,_,M,I,R,j,G){const{circle:te,seenUids:ue,overlapMode:fe}=j,Ee=this.boxCells[I];if(Ee!==null){const Fe=this.bboxes;for(const Ge of Ee)if(!ue.box[Ge]){ue.box[Ge]=!0;const je=4*Ge,ct=this.boxKeys[Ge];if(this._circleAndRectCollide(te.x,te.y,te.radius,Fe[je+0],Fe[je+1],Fe[je+2],Fe[je+3])&&(!G||G(ct))&&!En(fe,ct.overlapMode))return R.push(!0),!0}}const ze=this.circleCells[I];if(ze!==null){const Fe=this.circles;for(const Ge of ze)if(!ue.circle[Ge]){ue.circle[Ge]=!0;const je=3*Ge,ct=this.circleKeys[Ge];if(this._circlesCollide(Fe[je],Fe[je+1],Fe[je+2],te.x,te.y,te.radius)&&(!G||G(ct))&&!En(fe,ct.overlapMode))return R.push(!0),!0}}}_forEachCell(u,p,_,M,I,R,j,G){const te=this._convertToXCellCoord(u),ue=this._convertToYCellCoord(p),fe=this._convertToXCellCoord(_),Ee=this._convertToYCellCoord(M);for(let ze=te;ze<=fe;ze++)for(let Fe=ue;Fe<=Ee;Fe++)if(I.call(this,u,p,_,M,this.xCellCount*Fe+ze,R,j,G))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,p,_,M,I,R){const j=M-u,G=I-p,te=_+R;return te*te>j*j+G*G}_circleAndRectCollide(u,p,_,M,I,R,j){const G=(R-M)/2,te=Math.abs(u-(M+G));if(te>G+_)return!1;const ue=(j-I)/2,fe=Math.abs(p-(I+ue));if(fe>ue+_)return!1;if(te<=G||fe<=ue)return!0;const Ee=te-G,ze=fe-ue;return Ee*Ee+ze*ze<=_*_}}function Tt(O,u,p,_,M){const I=a.F();return u?(a.J(I,I,[1/M,1/M,1]),p||a.ad(I,I,_.angle)):a.K(I,_.labelPlaneMatrix,O),I}function Lr(O,u,p,_,M){if(u){const I=a.ae(O);return a.J(I,I,[M,M,1]),p||a.ad(I,I,-_.angle),I}return _.glCoordMatrix}function Wn(O,u,p){let _;p?(_=[O.x,O.y,p(O.x,O.y),1],a.af(_,_,u)):(_=[O.x,O.y,0,1],Vn(_,_,u));const M=_[3];return{point:new a.P(_[0]/M,_[1]/M),signedDistanceFromCamera:M}}function Te(O,u){return .5+O/u*.5}function de(O,u){const p=O[0]/O[3],_=O[1]/O[3];return p>=-u[0]&&p<=u[0]&&_>=-u[1]&&_<=u[1]}function ve(O,u,p,_,M,I,R,j,G,te){const ue=_?O.textSizeData:O.iconSizeData,fe=a.ag(ue,p.transform.zoom),Ee=[256/p.width*2+1,256/p.height*2+1],ze=_?O.text.dynamicLayoutVertexArray:O.icon.dynamicLayoutVertexArray;ze.clear();const Fe=O.lineVertexArray,Ge=_?O.text.placedSymbolArray:O.icon.placedSymbolArray,je=p.transform.width/p.transform.height;let ct=!1;for(let Ot=0;Ot<Ge.length;Ot++){const Ye=Ge.get(Ot);if(Ye.hidden||Ye.writingMode===a.ah.vertical&&!ct){qt(Ye.numGlyphs,ze);continue}let _t;if(ct=!1,te?(_t=[Ye.anchorX,Ye.anchorY,te(Ye.anchorX,Ye.anchorY),1],a.af(_t,_t,u)):(_t=[Ye.anchorX,Ye.anchorY,0,1],Vn(_t,_t,u)),!de(_t,Ee)){qt(Ye.numGlyphs,ze);continue}const Gt=Te(p.transform.cameraToCenterDistance,_t[3]),It=a.ai(ue,fe,Ye),en=R?It/Gt:It*Gt,cn=new a.P(Ye.anchorX,Ye.anchorY),un=Wn(cn,M,te).point,vn={projections:{},offsets:{}},er=Xe(Ye,en,!1,j,u,M,I,O.glyphOffsetArray,Fe,ze,un,cn,vn,je,G,te);ct=er.useVertical,(er.notEnoughRoom||ct||er.needsFlipping&&Xe(Ye,en,!0,j,u,M,I,O.glyphOffsetArray,Fe,ze,un,cn,vn,je,G,te).notEnoughRoom)&&qt(Ye.numGlyphs,ze)}_?O.text.dynamicLayoutVertexBuffer.updateData(ze):O.icon.dynamicLayoutVertexBuffer.updateData(ze)}function Se(O,u,p,_,M,I,R,j,G,te,ue,fe,Ee){const ze=j.glyphStartIndex+j.numGlyphs,Fe=j.lineStartIndex,Ge=j.lineStartIndex+j.lineLength,je=u.getoffsetX(j.glyphStartIndex),ct=u.getoffsetX(ze-1),Ot=Zt(O*je,p,_,M,I,R,j.segment,Fe,Ge,G,te,ue,fe,Ee);if(!Ot)return null;const Ye=Zt(O*ct,p,_,M,I,R,j.segment,Fe,Ge,G,te,ue,fe,Ee);return Ye?{first:Ot,last:Ye}:null}function Ue(O,u,p,_){return O===a.ah.horizontal&&Math.abs(p.y-u.y)>Math.abs(p.x-u.x)*_?{useVertical:!0}:(O===a.ah.vertical?u.y<p.y:u.x>p.x)?{needsFlipping:!0}:null}function Xe(O,u,p,_,M,I,R,j,G,te,ue,fe,Ee,ze,Fe,Ge){const je=u/24,ct=O.lineOffsetX*je,Ot=O.lineOffsetY*je;let Ye;if(O.numGlyphs>1){const _t=O.glyphStartIndex+O.numGlyphs,Gt=O.lineStartIndex,It=O.lineStartIndex+O.lineLength,en=Se(je,j,ct,Ot,p,ue,fe,O,G,I,Ee,Fe,Ge);if(!en)return{notEnoughRoom:!0};const cn=Wn(en.first.point,R,Ge).point,un=Wn(en.last.point,R,Ge).point;if(_&&!p){const vn=Ue(O.writingMode,cn,un,ze);if(vn)return vn}Ye=[en.first];for(let vn=O.glyphStartIndex+1;vn<_t-1;vn++)Ye.push(Zt(je*j.getoffsetX(vn),ct,Ot,p,ue,fe,O.segment,Gt,It,G,I,Ee,Fe,Ge));Ye.push(en.last)}else{if(_&&!p){const Gt=Wn(fe,M,Ge).point,It=O.lineStartIndex+O.segment+1,en=new a.P(G.getx(It),G.gety(It)),cn=Wn(en,M,Ge),un=cn.signedDistanceFromCamera>0?cn.point:at(fe,en,Gt,1,M,Ge),vn=Ue(O.writingMode,Gt,un,ze);if(vn)return vn}const _t=Zt(je*j.getoffsetX(O.glyphStartIndex),ct,Ot,p,ue,fe,O.segment,O.lineStartIndex,O.lineStartIndex+O.lineLength,G,I,Ee,Fe,Ge);if(!_t)return{notEnoughRoom:!0};Ye=[_t]}for(const _t of Ye)a.aj(te,_t.point,_t.angle);return{}}function at(O,u,p,_,M,I){const R=Wn(O.add(O.sub(u)._unit()),M,I).point,j=p.sub(R);return p.add(j._mult(_/j.mag()))}function ht(O,u){const{projectionCache:p,lineVertexArray:_,labelPlaneMatrix:M,tileAnchorPoint:I,distanceFromAnchor:R,getElevation:j,previousVertex:G,direction:te,absOffsetX:ue}=u;if(p.projections[O])return p.projections[O];const fe=new a.P(_.getx(O),_.gety(O)),Ee=Wn(fe,M,j);if(Ee.signedDistanceFromCamera>0)return p.projections[O]=Ee.point,Ee.point;const ze=O-te;return at(R===0?I:new a.P(_.getx(ze),_.gety(ze)),fe,G,ue-R+1,M,j)}function Ve(O,u,p){return O._unit()._perp()._mult(u*p)}function Ct(O,u,p,_,M,I,R,j){const{projectionCache:G,direction:te}=j;if(G.offsets[O])return G.offsets[O];const ue=p.add(u);if(O+te<_||O+te>=M)return G.offsets[O]=ue,ue;const fe=ht(O+te,j),Ee=Ve(fe.sub(p),R,te),ze=p.add(Ee),Fe=fe.add(Ee);return G.offsets[O]=a.ak(I,ue,ze,Fe)||ue,G.offsets[O]}function Zt(O,u,p,_,M,I,R,j,G,te,ue,fe,Ee,ze){const Fe=_?O-u:O+u;let Ge=Fe>0?1:-1,je=0;_&&(Ge*=-1,je=Math.PI),Ge<0&&(je+=Math.PI);let ct,Ot,Ye=Ge>0?j+R:j+R+1,_t=M,Gt=M,It=0,en=0;const cn=Math.abs(Fe),un=[];let vn;for(;It+en<=cn;){if(Ye+=Ge,Ye<j||Ye>=G)return null;It+=en,Gt=_t,Ot=ct;const In={projectionCache:fe,lineVertexArray:te,labelPlaneMatrix:ue,tileAnchorPoint:I,distanceFromAnchor:It,getElevation:ze,previousVertex:Gt,direction:Ge,absOffsetX:cn};if(_t=ht(Ye,In),p===0)un.push(Gt),vn=_t.sub(Gt);else{let Cr;const Zn=_t.sub(Gt);Cr=Zn.mag()===0?Ve(ht(Ye+Ge,In).sub(_t),p,Ge):Ve(Zn,p,Ge),Ot||(Ot=Gt.add(Cr)),ct=Ct(Ye,Cr,_t,j,G,Ot,p,In),un.push(Ot),vn=ct.sub(Ot)}en=vn.mag()}const er=vn._mult((cn-It)/en)._add(Ot||Gt),kr=je+Math.atan2(_t.y-Gt.y,_t.x-Gt.x);return un.push(er),{point:er,angle:Ee?kr:0,path:un}}const Ht=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function qt(O,u){for(let p=0;p<O;p++){const _=u.length;u.resize(_+4),u.float32.set(Ht,3*_)}}function Vn(O,u,p){const _=u[0],M=u[1];return O[0]=p[0]*_+p[4]*M+p[12],O[1]=p[1]*_+p[5]*M+p[13],O[3]=p[3]*_+p[7]*M+p[15],O}const On=100;class ir{constructor(u,p=new m(u.width+200,u.height+200,25),_=new m(u.width+200,u.height+200,25)){this.transform=u,this.grid=p,this.ignoredGrid=_,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+On,this.screenBottomBoundary=u.height+On,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,p,_,M,I,R){const j=this.projectAndGetPerspectiveRatio(M,u.anchorPointX,u.anchorPointY,R),G=_*j.perspectiveRatio,te=u.x1*G+j.point.x,ue=u.y1*G+j.point.y,fe=u.x2*G+j.point.x,Ee=u.y2*G+j.point.y;return!this.isInsideGrid(te,ue,fe,Ee)||p!=="always"&&this.grid.hitTest(te,ue,fe,Ee,p,I)||j.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[te,ue,fe,Ee],offscreen:this.isOffscreen(te,ue,fe,Ee)}}placeCollisionCircles(u,p,_,M,I,R,j,G,te,ue,fe,Ee,ze,Fe){const Ge=[],je=new a.P(p.anchorX,p.anchorY),ct=Wn(je,R,Fe),Ot=Te(this.transform.cameraToCenterDistance,ct.signedDistanceFromCamera),Ye=(ue?I/Ot:I*Ot)/a.ao,_t=Wn(je,j,Fe).point,Gt=Se(Ye,M,p.lineOffsetX*Ye,p.lineOffsetY*Ye,!1,_t,je,p,_,j,{projections:{},offsets:{}},!1,Fe);let It=!1,en=!1,cn=!0;if(Gt){const un=.5*Ee*Ot+ze,vn=new a.P(-100,-100),er=new a.P(this.screenRightBoundary,this.screenBottomBoundary),kr=new Kn,In=Gt.first,Cr=Gt.last;let Zn=[];for(let Hr=In.path.length-1;Hr>=1;Hr--)Zn.push(In.path[Hr]);for(let Hr=1;Hr<Cr.path.length;Hr++)Zn.push(Cr.path[Hr]);const zi=2.5*un;if(G){const Hr=Zn.map(gi=>Wn(gi,G,Fe));Zn=Hr.some(gi=>gi.signedDistanceFromCamera<=0)?[]:Hr.map(gi=>gi.point)}let bi=[];if(Zn.length>0){const Hr=Zn[0].clone(),gi=Zn[0].clone();for(let $o=1;$o<Zn.length;$o++)Hr.x=Math.min(Hr.x,Zn[$o].x),Hr.y=Math.min(Hr.y,Zn[$o].y),gi.x=Math.max(gi.x,Zn[$o].x),gi.y=Math.max(gi.y,Zn[$o].y);bi=Hr.x>=vn.x&&gi.x<=er.x&&Hr.y>=vn.y&&gi.y<=er.y?[Zn]:gi.x<vn.x||Hr.x>er.x||gi.y<vn.y||Hr.y>er.y?[]:a.al([Zn],vn.x,vn.y,er.x,er.y)}for(const Hr of bi){kr.reset(Hr,.25*un);let gi=0;gi=kr.length<=.5*un?1:Math.ceil(kr.paddedLength/zi)+1;for(let $o=0;$o<gi;$o++){const Fi=$o/Math.max(gi-1,1),ks=kr.lerp(Fi),ps=ks.x+On,jo=ks.y+On;Ge.push(ps,jo,un,0);const Is=ps-un,_a=jo-un,vo=ps+un,Fl=jo+un;if(cn=cn&&this.isOffscreen(Is,_a,vo,Fl),en=en||this.isInsideGrid(Is,_a,vo,Fl),u!=="always"&&this.grid.hitTestCircle(ps,jo,un,u,fe)&&(It=!0,!te))return{circles:[],offscreen:!1,collisionDetected:It}}}}return{circles:!te&&It||!en||Ot<this.perspectiveRatioCutoff?[]:Ge,offscreen:cn,collisionDetected:It}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let _=1/0,M=1/0,I=-1/0,R=-1/0;for(const ue of u){const fe=new a.P(ue.x+On,ue.y+On);_=Math.min(_,fe.x),M=Math.min(M,fe.y),I=Math.max(I,fe.x),R=Math.max(R,fe.y),p.push(fe)}const j=this.grid.query(_,M,I,R).concat(this.ignoredGrid.query(_,M,I,R)),G={},te={};for(const ue of j){const fe=ue.key;if(G[fe.bucketInstanceId]===void 0&&(G[fe.bucketInstanceId]={}),G[fe.bucketInstanceId][fe.featureIndex])continue;const Ee=[new a.P(ue.x1,ue.y1),new a.P(ue.x2,ue.y1),new a.P(ue.x2,ue.y2),new a.P(ue.x1,ue.y2)];a.am(p,Ee)&&(G[fe.bucketInstanceId][fe.featureIndex]=!0,te[fe.bucketInstanceId]===void 0&&(te[fe.bucketInstanceId]=[]),te[fe.bucketInstanceId].push(fe.featureIndex))}return te}insertCollisionBox(u,p,_,M,I,R){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:M,featureIndex:I,collisionGroupID:R,overlapMode:p},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,p,_,M,I,R){const j=_?this.ignoredGrid:this.grid,G={bucketInstanceId:M,featureIndex:I,collisionGroupID:R,overlapMode:p};for(let te=0;te<u.length;te+=4)j.insertCircle(G,u[te],u[te+1],u[te+2])}projectAndGetPerspectiveRatio(u,p,_,M){let I;return M?(I=[p,_,M(p,_),1],a.af(I,I,u)):(I=[p,_,0,1],Vn(I,I,u)),{point:new a.P((I[0]/I[3]+1)/2*this.transform.width+On,(-I[1]/I[3]+1)/2*this.transform.height+On),perspectiveRatio:.5+this.transform.cameraToCenterDistance/I[3]*.5}}isOffscreen(u,p,_,M){return _<On||u>=this.screenRightBoundary||M<On||p>this.screenBottomBoundary}isInsideGrid(u,p,_,M){return _>=0&&u<this.gridRightBoundary&&M>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const u=a.an([]);return a.H(u,u,[-100,-100,0]),u}}function or(O,u,p){return u*(a.W/(O.tileSize*Math.pow(2,p-O.tileID.overscaledZ)))}class Tr{constructor(u,p,_,M){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?p:-p))):M&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class Ur{constructor(u,p,_,M,I){this.text=new Tr(u?u.text:null,p,_,I),this.icon=new Tr(u?u.icon:null,p,M,I)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Dr{constructor(u,p,_){this.text=u,this.icon=p,this.skipFade=_}}class Jr{constructor(){this.invProjMatrix=a.F(),this.viewportMatrix=a.F(),this.circles=[]}}class rr{constructor(u,p,_,M,I){this.bucketInstanceId=u,this.featureIndex=p,this.sourceLayerIndex=_,this.bucketIndex=M,this.tileID=I}}class li{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const p=++this.maxGroupID;this.collisionGroups[u]={ID:p,predicate:_=>_.collisionGroupID===p}}return this.collisionGroups[u]}}function ki(O,u,p,_,M){const{horizontalAlign:I,verticalAlign:R}=a.at(O);return new a.P(-(I-.5)*u+_[0]*M,-(R-.5)*p+_[1]*M)}function Xi(O,u,p,_,M,I){const{x1:R,x2:j,y1:G,y2:te,anchorPointX:ue,anchorPointY:fe}=O,Ee=new a.P(u,p);return _&&Ee._rotate(M?I:-I),{x1:R+Ee.x,y1:G+Ee.y,x2:j+Ee.x,y2:te+Ee.y,anchorPointX:ue,anchorPointY:fe}}class xo{constructor(u,p,_,M,I){this.transform=u.clone(),this.terrain=p,this.collisionIndex=new ir(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new li(M),this.collisionCircleArrays={},this.prevPlacement=I,I&&(I.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,p,_,M){const I=_.getBucket(p),R=_.latestFeatureIndex;if(!I||!R||p.id!==I.layerIds[0])return;const j=_.collisionBoxArray,G=I.layers[0].layout,te=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),ue=_.tileSize/a.W,fe=this.transform.calculatePosMatrix(_.tileID.toUnwrapped()),Ee=G.get("text-pitch-alignment")==="map",ze=G.get("text-rotation-alignment")==="map",Fe=or(_,1,this.transform.zoom),Ge=Tt(fe,Ee,ze,this.transform,Fe);let je=null;if(Ee){const Ot=Lr(fe,Ee,ze,this.transform,Fe);je=a.K([],this.transform.labelPlaneMatrix,Ot)}this.retainedQueryData[I.bucketInstanceId]=new rr(I.bucketInstanceId,R,I.sourceLayerIndex,I.index,_.tileID);const ct={bucket:I,layout:G,posMatrix:fe,textLabelPlaneMatrix:Ge,labelToScreenMatrix:je,scale:te,textPixelRatio:ue,holdingForFade:_.holdingForFade(),collisionBoxArray:j,partiallyEvaluatedTextSize:a.ag(I.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(I.sourceID)};if(M)for(const Ot of I.sortKeyRanges){const{sortKey:Ye,symbolInstanceStart:_t,symbolInstanceEnd:Gt}=Ot;u.push({sortKey:Ye,symbolInstanceStart:_t,symbolInstanceEnd:Gt,parameters:ct})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:I.symbolInstances.length,parameters:ct})}attemptAnchorPlacement(u,p,_,M,I,R,j,G,te,ue,fe,Ee,ze,Fe,Ge,je){const ct=a.ap[u.textAnchor],Ot=[u.textOffset0,u.textOffset1],Ye=ki(ct,_,M,Ot,I),_t=this.collisionIndex.placeCollisionBox(Xi(p,Ye.x,Ye.y,R,j,this.transform.angle),fe,G,te,ue.predicate,je);if((!Ge||this.collisionIndex.placeCollisionBox(Xi(Ge,Ye.x,Ye.y,R,j,this.transform.angle),fe,G,te,ue.predicate,je).box.length!==0)&&_t.box.length>0){let Gt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ee.crossTileID]&&this.prevPlacement.placements[Ee.crossTileID]&&this.prevPlacement.placements[Ee.crossTileID].text&&(Gt=this.prevPlacement.variableOffsets[Ee.crossTileID].anchor),Ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Ee.crossTileID]={textOffset:Ot,width:_,height:M,anchor:ct,textBoxScale:I,prevAnchor:Gt},this.markUsedJustification(ze,ct,Ee,Fe),ze.allowVerticalPlacement&&(this.markUsedOrientation(ze,Fe,Ee),this.placedOrientations[Ee.crossTileID]=Fe),{shift:Ye,placedGlyphBoxes:_t}}}placeLayerBucketPart(u,p,_){const{bucket:M,layout:I,posMatrix:R,textLabelPlaneMatrix:j,labelToScreenMatrix:G,textPixelRatio:te,holdingForFade:ue,collisionBoxArray:fe,partiallyEvaluatedTextSize:Ee,collisionGroup:ze}=u.parameters,Fe=I.get("text-optional"),Ge=I.get("icon-optional"),je=a.aq(I,"text-overlap","text-allow-overlap"),ct=je==="always",Ot=a.aq(I,"icon-overlap","icon-allow-overlap"),Ye=Ot==="always",_t=I.get("text-rotation-alignment")==="map",Gt=I.get("text-pitch-alignment")==="map",It=I.get("icon-text-fit")!=="none",en=I.get("symbol-z-order")==="viewport-y",cn=ct&&(Ye||!M.hasIconData()||Ge),un=Ye&&(ct||!M.hasTextData()||Fe);!M.collisionArrays&&fe&&M.deserializeCollisionBoxes(fe);const vn=this.retainedQueryData[M.bucketInstanceId].tileID,er=this.terrain?(In,Cr)=>this.terrain.getElevation(vn,In,Cr):null,kr=(In,Cr)=>{var Zn,zi;if(p[In.crossTileID])return;if(ue)return void(this.placements[In.crossTileID]=new Dr(!1,!1,!1));let bi=!1,Hr=!1,gi=!0,$o=null,Fi={box:null,offscreen:null},ks={box:null,offscreen:null},ps=null,jo=null,Is=null,_a=0,vo=0,Fl=0;Cr.textFeatureIndex?_a=Cr.textFeatureIndex:In.useRuntimeCollisionCircles&&(_a=In.featureIndex),Cr.verticalTextFeatureIndex&&(vo=Cr.verticalTextFeatureIndex);const DA=Cr.textBox;if(DA){const Ca=Mo=>{let Fa=a.ah.horizontal;if(M.allowVerticalPlacement&&!Mo&&this.prevPlacement){const Ja=this.prevPlacement.placedOrientations[In.crossTileID];Ja&&(this.placedOrientations[In.crossTileID]=Ja,Fa=Ja,this.markUsedOrientation(M,Fa,In))}return Fa},Bo=(Mo,Fa)=>{if(M.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&Cr.verticalTextBox){for(const Ja of M.writingModes)if(Ja===a.ah.vertical?(Fi=Fa(),ks=Fi):Fi=Mo(),Fi&&Fi.box&&Fi.box.length)break}else Fi=Mo()},Ei=In.textAnchorOffsetStartIndex,ho=In.textAnchorOffsetEndIndex;if(ho===Ei){const Mo=(Fa,Ja)=>{const ta=this.collisionIndex.placeCollisionBox(Fa,je,te,R,ze.predicate,er);return ta&&ta.box&&ta.box.length&&(this.markUsedOrientation(M,Ja,In),this.placedOrientations[In.crossTileID]=Ja),ta};Bo(()=>Mo(DA,a.ah.horizontal),()=>{const Fa=Cr.verticalTextBox;return M.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&Fa?Mo(Fa,a.ah.vertical):{box:null,offscreen:null}}),Ca(Fi&&Fi.box&&Fi.box.length)}else{let Mo=a.ap[(zi=(Zn=this.prevPlacement)===null||Zn===void 0?void 0:Zn.variableOffsets[In.crossTileID])===null||zi===void 0?void 0:zi.anchor];const Fa=(ta,vc,ua)=>{const LA=ta.x2-ta.x1,Oh=ta.y2-ta.y1,Vl=In.textBoxScale,UA=It&&Ot==="never"?vc:null;let qs={box:[],offscreen:!1},Ld=je==="never"?1:2,_c="never";Mo&&Ld++;for(let Bh=0;Bh<Ld;Bh++){for(let ju=Ei;ju<ho;ju++){const Rf=M.textAnchorOffsets.get(ju);if(Mo&&Rf.textAnchor!==Mo)continue;const Xc=this.attemptAnchorPlacement(Rf,ta,LA,Oh,Vl,_t,Gt,te,R,ze,_c,In,M,ua,UA,er);if(Xc&&(qs=Xc.placedGlyphBoxes,qs&&qs.box&&qs.box.length))return bi=!0,$o=Xc.shift,qs}Mo?Mo=null:_c=je}return qs};Bo(()=>Fa(DA,Cr.iconBox,a.ah.horizontal),()=>{const ta=Cr.verticalTextBox;return M.allowVerticalPlacement&&!(Fi&&Fi.box&&Fi.box.length)&&In.numVerticalGlyphVertices>0&&ta?Fa(ta,Cr.verticalIconBox,a.ah.vertical):{box:null,offscreen:null}}),Fi&&(bi=Fi.box,gi=Fi.offscreen);const Ja=Ca(Fi&&Fi.box);if(!bi&&this.prevPlacement){const ta=this.prevPlacement.variableOffsets[In.crossTileID];ta&&(this.variableOffsets[In.crossTileID]=ta,this.markUsedJustification(M,ta.anchor,In,Ja))}}}if(ps=Fi,bi=ps&&ps.box&&ps.box.length>0,gi=ps&&ps.offscreen,In.useRuntimeCollisionCircles){const Ca=M.text.placedSymbolArray.get(In.centerJustifiedTextSymbolIndex),Bo=a.ai(M.textSizeData,Ee,Ca),Ei=I.get("text-padding");jo=this.collisionIndex.placeCollisionCircles(je,Ca,M.lineVertexArray,M.glyphOffsetArray,Bo,R,j,G,_,Gt,ze.predicate,In.collisionCircleDiameter,Ei,er),jo.circles.length&&jo.collisionDetected&&!_&&a.w("Collisions detected, but collision boxes are not shown"),bi=ct||jo.circles.length>0&&!jo.collisionDetected,gi=gi&&jo.offscreen}if(Cr.iconFeatureIndex&&(Fl=Cr.iconFeatureIndex),Cr.iconBox){const Ca=Bo=>{const Ei=It&&$o?Xi(Bo,$o.x,$o.y,_t,Gt,this.transform.angle):Bo;return this.collisionIndex.placeCollisionBox(Ei,Ot,te,R,ze.predicate,er)};ks&&ks.box&&ks.box.length&&Cr.verticalIconBox?(Is=Ca(Cr.verticalIconBox),Hr=Is.box.length>0):(Is=Ca(Cr.iconBox),Hr=Is.box.length>0),gi=gi&&Is.offscreen}const Ts=Fe||In.numHorizontalGlyphVertices===0&&In.numVerticalGlyphVertices===0,vu=Ge||In.numIconVertices===0;if(Ts||vu?vu?Ts||(Hr=Hr&&bi):bi=Hr&&bi:Hr=bi=Hr&&bi,bi&&ps&&ps.box&&this.collisionIndex.insertCollisionBox(ps.box,je,I.get("text-ignore-placement"),M.bucketInstanceId,ks&&ks.box&&vo?vo:_a,ze.ID),Hr&&Is&&this.collisionIndex.insertCollisionBox(Is.box,Ot,I.get("icon-ignore-placement"),M.bucketInstanceId,Fl,ze.ID),jo&&(bi&&this.collisionIndex.insertCollisionCircles(jo.circles,je,I.get("text-ignore-placement"),M.bucketInstanceId,_a,ze.ID),_)){const Ca=M.bucketInstanceId;let Bo=this.collisionCircleArrays[Ca];Bo===void 0&&(Bo=this.collisionCircleArrays[Ca]=new Jr);for(let Ei=0;Ei<jo.circles.length;Ei+=4)Bo.circles.push(jo.circles[Ei+0]),Bo.circles.push(jo.circles[Ei+1]),Bo.circles.push(jo.circles[Ei+2]),Bo.circles.push(jo.collisionDetected?1:0)}if(In.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(M.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[In.crossTileID]=new Dr(bi||cn,Hr||un,gi||M.justReloaded),p[In.crossTileID]=!0};if(en){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const In=M.getSortedSymbolIndexes(this.transform.angle);for(let Cr=In.length-1;Cr>=0;--Cr){const Zn=In[Cr];kr(M.symbolInstances.get(Zn),M.collisionArrays[Zn])}}else for(let In=u.symbolInstanceStart;In<u.symbolInstanceEnd;In++)kr(M.symbolInstances.get(In),M.collisionArrays[In]);if(_&&M.bucketInstanceId in this.collisionCircleArrays){const In=this.collisionCircleArrays[M.bucketInstanceId];a.ar(In.invProjMatrix,R),In.viewportMatrix=this.collisionIndex.getViewportMatrix()}M.justReloaded=!1}markUsedJustification(u,p,_,M){let I;I=M===a.ah.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[a.as(p)];const R=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const j of R)j>=0&&(u.text.placedSymbolArray.get(j).crossTileID=I>=0&&j!==I?0:_.crossTileID)}markUsedOrientation(u,p,_){const M=p===a.ah.horizontal||p===a.ah.horizontalOnly?p:0,I=p===a.ah.vertical?p:0,R=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const j of R)u.text.placedSymbolArray.get(j).placedOrientation=M;_.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=I)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let _=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const M=p?p.symbolFadeChange(u):1,I=p?p.opacities:{},R=p?p.variableOffsets:{},j=p?p.placedOrientations:{};for(const G in this.placements){const te=this.placements[G],ue=I[G];ue?(this.opacities[G]=new Ur(ue,M,te.text,te.icon),_=_||te.text!==ue.text.placed||te.icon!==ue.icon.placed):(this.opacities[G]=new Ur(null,M,te.text,te.icon,te.skipFade),_=_||te.text||te.icon)}for(const G in I){const te=I[G];if(!this.opacities[G]){const ue=new Ur(te,M,!1,!1);ue.isHidden()||(this.opacities[G]=ue,_=_||te.text.placed||te.icon.placed)}}for(const G in R)this.variableOffsets[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.variableOffsets[G]=R[G]);for(const G in j)this.placedOrientations[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.placedOrientations[G]=j[G]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:u)}updateLayerOpacities(u,p){const _={};for(const M of p){const I=M.getBucket(u);I&&M.latestFeatureIndex&&u.id===I.layerIds[0]&&this.updateBucketOpacities(I,_,M.collisionBoxArray)}}updateBucketOpacities(u,p,_){u.hasTextData()&&(u.text.opacityVertexArray.clear(),u.text.hasVisibleVertices=!1),u.hasIconData()&&(u.icon.opacityVertexArray.clear(),u.icon.hasVisibleVertices=!1),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const M=u.layers[0],I=M.layout,R=new Ur(null,0,!1,!1,!0),j=I.get("text-allow-overlap"),G=I.get("icon-allow-overlap"),te=M._unevaluatedLayout.hasValue("text-variable-anchor")||M._unevaluatedLayout.hasValue("text-variable-anchor-offset"),ue=I.get("text-rotation-alignment")==="map",fe=I.get("text-pitch-alignment")==="map",Ee=I.get("icon-text-fit")!=="none",ze=new Ur(null,0,j&&(G||!u.hasIconData()||I.get("icon-optional")),G&&(j||!u.hasTextData()||I.get("text-optional")),!0);!u.collisionArrays&&_&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(_);const Fe=(Ge,je,ct)=>{for(let Ot=0;Ot<je/4;Ot++)Ge.opacityVertexArray.emplaceBack(ct);Ge.hasVisibleVertices=Ge.hasVisibleVertices||ct!==No};for(let Ge=0;Ge<u.symbolInstances.length;Ge++){const je=u.symbolInstances.get(Ge),{numHorizontalGlyphVertices:ct,numVerticalGlyphVertices:Ot,crossTileID:Ye}=je;let _t=this.opacities[Ye];p[Ye]?_t=R:_t||(_t=ze,this.opacities[Ye]=_t),p[Ye]=!0;const Gt=je.numIconVertices>0,It=this.placedOrientations[je.crossTileID],en=It===a.ah.vertical,cn=It===a.ah.horizontal||It===a.ah.horizontalOnly;if(ct>0||Ot>0){const un=so(_t.text);Fe(u.text,ct,en?No:un),Fe(u.text,Ot,cn?No:un);const vn=_t.text.isHidden();[je.rightJustifiedTextSymbolIndex,je.centerJustifiedTextSymbolIndex,je.leftJustifiedTextSymbolIndex].forEach(In=>{In>=0&&(u.text.placedSymbolArray.get(In).hidden=vn||en?1:0)}),je.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(je.verticalPlacedTextSymbolIndex).hidden=vn||cn?1:0);const er=this.variableOffsets[je.crossTileID];er&&this.markUsedJustification(u,er.anchor,je,It);const kr=this.placedOrientations[je.crossTileID];kr&&(this.markUsedJustification(u,"left",je,kr),this.markUsedOrientation(u,kr,je))}if(Gt){const un=so(_t.icon),vn=!(Ee&&je.verticalPlacedIconSymbolIndex&&en);je.placedIconSymbolIndex>=0&&(Fe(u.icon,je.numIconVertices,vn?un:No),u.icon.placedSymbolArray.get(je.placedIconSymbolIndex).hidden=_t.icon.isHidden()),je.verticalPlacedIconSymbolIndex>=0&&(Fe(u.icon,je.numVerticalIconVertices,vn?No:un),u.icon.placedSymbolArray.get(je.verticalPlacedIconSymbolIndex).hidden=_t.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const un=u.collisionArrays[Ge];if(un){let vn=new a.P(0,0);if(un.textBox||un.verticalTextBox){let kr=!0;if(te){const In=this.variableOffsets[Ye];In?(vn=ki(In.anchor,In.width,In.height,In.textOffset,In.textBoxScale),ue&&vn._rotate(fe?this.transform.angle:-this.transform.angle)):kr=!1}un.textBox&&pi(u.textCollisionBox.collisionVertexArray,_t.text.placed,!kr||en,vn.x,vn.y),un.verticalTextBox&&pi(u.textCollisionBox.collisionVertexArray,_t.text.placed,!kr||cn,vn.x,vn.y)}const er=!!(!cn&&un.verticalIconBox);un.iconBox&&pi(u.iconCollisionBox.collisionVertexArray,_t.icon.placed,er,Ee?vn.x:0,Ee?vn.y:0),un.verticalIconBox&&pi(u.iconCollisionBox.collisionVertexArray,_t.icon.placed,!er,Ee?vn.x:0,Ee?vn.y:0)}}}if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);if(u.bucketInstanceId in this.collisionCircleArrays){const Ge=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=Ge.invProjMatrix,u.placementViewportMatrix=Ge.viewportMatrix,u.collisionCircleArray=Ge.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,p){const _=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*_>u}setStale(){this.stale=!0}}function pi(O,u,p,_,M){O.emplaceBack(u?1:0,p?1:0,_||0,M||0),O.emplaceBack(u?1:0,p?1:0,_||0,M||0),O.emplaceBack(u?1:0,p?1:0,_||0,M||0),O.emplaceBack(u?1:0,p?1:0,_||0,M||0)}const Oo=Math.pow(2,25),As=Math.pow(2,24),Ia=Math.pow(2,17),_i=Math.pow(2,16),Ss=Math.pow(2,9),Si=Math.pow(2,8),Qn=Math.pow(2,1);function so(O){if(O.opacity===0&&!O.placed)return 0;if(O.opacity===1&&O.placed)return 4294967295;const u=O.placed?1:0,p=Math.floor(127*O.opacity);return p*Oo+u*As+p*Ia+u*_i+p*Ss+u*Si+p*Qn+u}const No=0;class Ji{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,p,_,M,I){const R=this._bucketParts;for(;this._currentTileIndex<u.length;)if(p.getBucketParts(R,M,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,I())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((j,G)=>j.sortKey-G.sortKey));this._currentPartIndex<R.length;)if(p.placeLayerBucketPart(R[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,I())return!0;return!1}}class ge{constructor(u,p,_,M,I,R,j,G){this.placement=new xo(u,p,R,j,G),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=M,this._showCollisionBoxes=I,this._done=!1}isDone(){return this._done}continuePlacement(u,p,_){const M=B.now(),I=()=>!this._forceFullPlacement&&B.now()-M>2;for(;this._currentPlacementIndex>=0;){const R=p[u[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(R.type==="symbol"&&(!R.minzoom||R.minzoom<=j)&&(!R.maxzoom||R.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new Ji(R)),this._inProgressLayer.continuePlacement(_[R.source],this.placement,this._showCollisionBoxes,R,I))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const $e=512/a.W/2;class Xt{constructor(u,p,_){this.tileID=u,this.bucketInstanceId=_,this._symbolsByKey={};const M=new Map;for(let I=0;I<p.length;I++){const R=p.get(I),j=R.key,G=M.get(j);G?G.push(R):M.set(j,[R])}for(const[I,R]of M){const j={positions:R.map(G=>({x:Math.floor(G.anchorX*$e),y:Math.floor(G.anchorY*$e)})),crossTileIDs:R.map(G=>G.crossTileID)};if(j.positions.length>128){const G=new a.au(j.positions.length,16,Uint16Array);for(const{x:te,y:ue}of j.positions)G.add(te,ue);G.finish(),delete j.positions,j.index=G}this._symbolsByKey[I]=j}}getScaledCoordinates(u,p){const{x:_,y:M,z:I}=this.tileID.canonical,{x:R,y:j,z:G}=p.canonical,te=$e/Math.pow(2,G-I),ue=(j*a.W+u.anchorY)*te,fe=M*a.W*$e;return{x:Math.floor((R*a.W+u.anchorX)*te-_*a.W*$e),y:Math.floor(ue-fe)}}findMatches(u,p,_){const M=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let I=0;I<u.length;I++){const R=u.get(I);if(R.crossTileID)continue;const j=this._symbolsByKey[R.key];if(!j)continue;const G=this.getScaledCoordinates(R,p);if(j.index){const te=j.index.range(G.x-M,G.y-M,G.x+M,G.y+M).sort();for(const ue of te){const fe=j.crossTileIDs[ue];if(!_[fe]){_[fe]=!0,R.crossTileID=fe;break}}}else if(j.positions)for(let te=0;te<j.positions.length;te++){const ue=j.positions[te],fe=j.crossTileIDs[te];if(Math.abs(ue.x-G.x)<=M&&Math.abs(ue.y-G.y)<=M&&!_[fe]){_[fe]=!0,R.crossTileID=fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:u})=>u)}}class ln{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Kt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const p=Math.round((u-this.lng)/360);if(p!==0)for(const _ in this.indexes){const M=this.indexes[_],I={};for(const R in M){const j=M[R];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+p),I[j.tileID.key]=j}this.indexes[_]=I}this.lng=u}addBucket(u,p,_){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let I=0;I<p.symbolInstances.length;I++)p.symbolInstances.get(I).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const M=this.usedCrossTileIDs[u.overscaledZ];for(const I in this.indexes){const R=this.indexes[I];if(Number(I)>u.overscaledZ)for(const j in R){const G=R[j];G.tileID.isChildOf(u)&&G.findMatches(p.symbolInstances,u,M)}else{const j=R[u.scaledTo(Number(I)).key];j&&j.findMatches(p.symbolInstances,u,M)}}for(let I=0;I<p.symbolInstances.length;I++){const R=p.symbolInstances.get(I);R.crossTileID||(R.crossTileID=_.generate(),M[R.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new Xt(u,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(u,p){for(const _ of p.getCrossTileIDsLists())for(const M of _)delete this.usedCrossTileIDs[u][M]}removeStaleBuckets(u){let p=!1;for(const _ in this.indexes){const M=this.indexes[_];for(const I in M)u[M[I].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,M[I]),delete M[I],p=!0)}return p}}class Mn{constructor(){this.layerIndexes={},this.crossTileIDs=new ln,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,p,_){let M=this.layerIndexes[u.id];M===void 0&&(M=this.layerIndexes[u.id]=new Kt);let I=!1;const R={};M.handleWrapJump(_);for(const j of p){const G=j.getBucket(u);G&&u.id===G.layerIds[0]&&(G.bucketInstanceId||(G.bucketInstanceId=++this.maxBucketInstanceId),M.addBucket(j.tileID,G,this.crossTileIDs)&&(I=!0),R[G.bucketInstanceId]=!0)}return M.removeStaleBuckets(R)&&(I=!0),I}pruneUnusedLayers(u){const p={};u.forEach(_=>{p[_]=!0});for(const _ in this.layerIndexes)p[_]||delete this.layerIndexes[_]}}const cr=(O,u)=>a.t(O,u&&u.filter(p=>p.identifier!=="source.canvas")),Ii=a.av();class ri extends a.E{constructor(u,p={}){super(),this._rtlTextPluginStateChange=()=>{for(const _ in this.sourceCaches){const M=this.sourceCaches[_].getSource().type;M!=="vector"&&M!=="geojson"||this.sourceCaches[_].reload()}},this.map=u,this.dispatcher=new he(Me(),u._getMapId()),this.dispatcher.registerMessageHandler("getGlyphs",(_,M)=>this.getGlyphs(_,M)),this.dispatcher.registerMessageHandler("getImages",(_,M)=>this.getImages(_,M)),this.imageManager=new rt,this.imageManager.setEventedParent(this),this.glyphManager=new nn(u._requestManager,p.localIdeographFontFamily),this.lineAtlas=new tt(256,512),this.crossTileSymbolIndex=new Mn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.aw,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.ax()),Y().on("pluginStateChange",this._rtlTextPluginStateChange),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const M=this.sourceCaches[_.sourceId];if(!M)return;const I=M.getSource();if(I&&I.vectorLayerIds)for(const R in this._layers){const j=this._layers[R];j.source===I.id&&this._validateLayer(j)}})}loadURL(u,p={},_){this.fire(new a.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const M=this.map._requestManager.transformRequest(u,re.Style);this._loadStyleRequest=new AbortController,a.h(M,this._loadStyleRequest).then(I=>{this._loadStyleRequest=null,this._load(I.data,p,_)}).catch(I=>{this._loadStyleRequest=null,I&&this.fire(new a.j(I))})}loadJSON(u,p={},_){this.fire(new a.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,B.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,p.validate=p.validate!==!1,this._load(u,p,_)}).catch(()=>{})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(Ii,{validate:!1})}_load(u,p,_){var M;const I=p.transformStyle?p.transformStyle(_,u):u;if(!p.validate||!cr(this,a.x(I))){this._loaded=!0,this.stylesheet=I;for(const R in I.sources)this.addSource(R,I.sources[R],{validate:!1});I.sprite?this._loadSprite(I.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(I.glyphs),this._createLayers(),this.light=new Je(this.stylesheet.light),this.map.setTerrain((M=this.stylesheet.terrain)!==null&&M!==void 0?M:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const u=a.ay(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",u),this._order=u.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of u){const _=a.az(p);_.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=_}}_loadSprite(u,p=!1,_=void 0){let M;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(I,R,j,G){return a._(this,void 0,void 0,function*(){const te=et(I),ue=j>1?"@2x":"",fe={},Ee={};for(const{id:ze,url:Fe}of te){const Ge=R.transformRequest(R.normalizeSpriteURL(Fe,ue,".json"),re.SpriteJSON);fe[ze]=a.h(Ge,G);const je=R.transformRequest(R.normalizeSpriteURL(Fe,ue,".png"),re.SpriteImage);Ee[ze]=oe.getImage(je,G)}return yield Promise.all([...Object.values(fe),...Object.values(Ee)]),function(ze,Fe){return a._(this,void 0,void 0,function*(){const Ge={};for(const je in ze){Ge[je]={};const ct=B.getImageCanvasContext((yield Fe[je]).data),Ot=(yield ze[je]).data;for(const Ye in Ot){const{width:_t,height:Gt,x:It,y:en,sdf:cn,pixelRatio:un,stretchX:vn,stretchY:er,content:kr}=Ot[Ye];Ge[je][Ye]={data:null,pixelRatio:un,sdf:cn,stretchX:vn,stretchY:er,content:kr,spriteData:{width:_t,height:Gt,x:It,y:en,context:ct}}}}return Ge})}(fe,Ee)})}(u,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(I=>{if(this._spriteRequest=null,I)for(const R in I){this._spritesImagesIds[R]=[];const j=this._spritesImagesIds[R]?this._spritesImagesIds[R].filter(G=>!(G in I)):[];for(const G of j)this.imageManager.removeImage(G),this._changedImages[G]=!0;for(const G in I[R]){const te=R==="default"?G:`${R}:${G}`;this._spritesImagesIds[R].push(te),te in this.imageManager.images?this.imageManager.updateImage(te,I[R][G],!1):this.imageManager.addImage(te,I[R][G]),p&&(this._changedImages[te]=!0)}}}).catch(I=>{this._spriteRequest=null,M=I,this.fire(new a.j(M))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),_&&_(M)})}_unloadSprite(){for(const u of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(u),this._changedImages[u]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(u){const p=this.sourceCaches[u.source];if(!p)return;const _=u.sourceLayer;if(!_)return;const M=p.getSource();(M.type==="geojson"||M.vectorLayerIds&&M.vectorLayerIds.indexOf(_)===-1)&&this.fire(new a.j(new Error(`Source layer "${_}" does not exist on source "${M.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(u){const p=this._serializedAllLayers();if(!u||u.length===0)return Object.values(p);const _=[];for(const M of u)p[M]&&_.push(p[M]);return _}_serializedAllLayers(){let u=this._serializedLayers;if(u)return u;u=this._serializedLayers={};const p=Object.keys(this._layers);for(const _ of p){const M=this._layers[_];M.type!=="custom"&&(u[_]=M.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const p=this._changed;if(this._changed){const M=Object.keys(this._updatedLayers),I=Object.keys(this._removedLayers);(M.length||I.length)&&this._updateWorkerLayers(M,I);for(const R in this._updatedSources){const j=this._updatedSources[R];if(j==="reload")this._reloadSource(R);else{if(j!=="clear")throw new Error(`Invalid action ${j}`);this._clearSource(R)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const R in this._updatedPaintProps)this._layers[R].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}const _={};for(const M in this.sourceCaches){const I=this.sourceCaches[M];_[M]=I.used,I.used=!1}for(const M of this._order){const I=this._layers[M];I.recalculate(u,this._availableImages),!I.isHidden(u.zoom)&&I.source&&(this.sourceCaches[I.source].used=!0)}for(const M in _){const I=this.sourceCaches[M];_[M]!==I.used&&I.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:M}))}this.light.recalculate(u),this.z=u.zoom,p&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(u,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(u),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(u,p={}){this._checkLoaded();const _=this.serialize();if(u=p.transformStyle?p.transformStyle(_,u):u,cr(this,a.x(u)))return!1;(u=a.aA(u)).layers=a.ay(u.layers);const M=a.aB(_,u),I=this._getOperationsToPerform(M);if(I.unimplemented.length>0)throw new Error(`Unimplemented: ${I.unimplemented.join(", ")}.`);if(I.operations.length===0)return!1;for(const R of I.operations)R();return this.stylesheet=u,this._serializedLayers=null,!0}_getOperationsToPerform(u){const p=[],_=[];for(const M of u)switch(M.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":p.push(()=>this.addLayer.apply(this,M.args));break;case"removeLayer":p.push(()=>this.removeLayer.apply(this,M.args));break;case"setPaintProperty":p.push(()=>this.setPaintProperty.apply(this,M.args));break;case"setLayoutProperty":p.push(()=>this.setLayoutProperty.apply(this,M.args));break;case"setFilter":p.push(()=>this.setFilter.apply(this,M.args));break;case"addSource":p.push(()=>this.addSource.apply(this,M.args));break;case"removeSource":p.push(()=>this.removeSource.apply(this,M.args));break;case"setLayerZoomRange":p.push(()=>this.setLayerZoomRange.apply(this,M.args));break;case"setLight":p.push(()=>this.setLight.apply(this,M.args));break;case"setGeoJSONSourceData":p.push(()=>this.setGeoJSONSourceData.apply(this,M.args));break;case"setGlyphs":p.push(()=>this.setGlyphs.apply(this,M.args));break;case"setSprite":p.push(()=>this.setSprite.apply(this,M.args));break;case"setTerrain":p.push(()=>this.map.setTerrain.apply(this,M.args));break;case"setTransition":p.push(()=>{});break;default:_.push(M.command)}return{operations:p,unimplemented:_}}addImage(u,p){if(this.getImage(u))return this.fire(new a.j(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,p),this._afterImageUpdated(u)}updateImage(u,p){this.imageManager.updateImage(u,p)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new a.j(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,p,_={}){if(this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.x.source,`sources.${u}`,p,null,_))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const M=this.sourceCaches[u]=new Et(u,p,this.dispatcher);M.style=this,M.setEventedParent(this,()=>({isSourceLoaded:M.loaded(),source:M.serialize(),sourceId:u})),M.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===u)return this.fire(new a.j(new Error(`Source "${u}" cannot be removed while layer "${_}" is using it.`)));const p=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],p.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,p){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const _=this.sourceCaches[u].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(p),this._changed=!0}getSource(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()}addLayer(u,p,_={}){this._checkLoaded();const M=u.id;if(this.getLayer(M))return void this.fire(new a.j(new Error(`Layer "${M}" already exists on this map.`)));let I;if(u.type==="custom"){if(cr(this,a.aC(u)))return;I=a.az(u)}else{if("source"in u&&typeof u.source=="object"&&(this.addSource(M,u.source),u=a.aA(u),u=a.e(u,{source:M})),this._validate(a.x.layer,`layers.${M}`,u,{arrayIndex:-1},_))return;I=a.az(u),this._validateLayer(I),I.setEventedParent(this,{layer:{id:M}})}const R=p?this._order.indexOf(p):this._order.length;if(p&&R===-1)this.fire(new a.j(new Error(`Cannot add layer "${M}" before non-existing layer "${p}".`)));else{if(this._order.splice(R,0,M),this._layerOrderChanged=!0,this._layers[M]=I,this._removedLayers[M]&&I.source&&I.type!=="custom"){const j=this._removedLayers[M];delete this._removedLayers[M],j.type!==I.type?this._updatedSources[I.source]="clear":(this._updatedSources[I.source]="reload",this.sourceCaches[I.source].pause())}this._updateLayer(I),I.onAdd&&I.onAdd(this.map)}}moveLayer(u,p){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new a.j(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===p)return;const _=this._order.indexOf(u);this._order.splice(_,1);const M=p?this._order.indexOf(p):this._order.length;p&&M===-1?this.fire(new a.j(new Error(`Cannot move layer "${u}" before non-existing layer "${p}".`))):(this._order.splice(M,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const p=this._layers[u];if(!p)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${u}".`)));p.setEventedParent(null);const _=this._order.indexOf(u);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=p,delete this._layers[u],this._serializedLayers&&delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],p.onRemove&&p.onRemove(this.map)}getLayer(u){return this._layers[u]}getLayersOrder(){return[...this._order]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,p,_){this._checkLoaded();const M=this.getLayer(u);M?M.minzoom===p&&M.maxzoom===_||(p!=null&&(M.minzoom=p),_!=null&&(M.maxzoom=_),this._updateLayer(M)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,p,_={}){this._checkLoaded();const M=this.getLayer(u);if(M){if(!a.aD(M.filter,p))return p==null?(M.filter=void 0,void this._updateLayer(M)):void(this._validate(a.x.filter,`layers.${M.id}.filter`,p,null,_)||(M.filter=a.aA(p),this._updateLayer(M)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return a.aA(this.getLayer(u).filter)}setLayoutProperty(u,p,_,M={}){this._checkLoaded();const I=this.getLayer(u);I?a.aD(I.getLayoutProperty(p),_)||(I.setLayoutProperty(p,_,M),this._updateLayer(I)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,p){const _=this.getLayer(u);if(_)return _.getLayoutProperty(p);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,p,_,M={}){this._checkLoaded();const I=this.getLayer(u);I?a.aD(I.getPaintProperty(p),_)||(I.setPaintProperty(p,_,M)&&this._updateLayer(I),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new a.j(new Error(`Cannot style non-existing layer "${u}".`)))}getPaintProperty(u,p){return this.getLayer(u).getPaintProperty(p)}setFeatureState(u,p){this._checkLoaded();const _=u.source,M=u.sourceLayer,I=this.sourceCaches[_];if(I===void 0)return void this.fire(new a.j(new Error(`The source '${_}' does not exist in the map's style.`)));const R=I.getSource().type;R==="geojson"&&M?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):R!=="vector"||M?(u.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),I.setFeatureState(M,u.id,p)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,p){this._checkLoaded();const _=u.source,M=this.sourceCaches[_];if(M===void 0)return void this.fire(new a.j(new Error(`The source '${_}' does not exist in the map's style.`)));const I=M.getSource().type,R=I==="vector"?u.sourceLayer:void 0;I!=="vector"||R?p&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):M.removeFeatureState(R,u.id,p):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const p=u.source,_=u.sourceLayer,M=this.sourceCaches[p];if(M!==void 0)return M.getSource().type!=="vector"||_?(u.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),M.getFeatureState(_,u.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const u=a.aE(this.sourceCaches,I=>I.serialize()),p=this._serializeByIds(this._order),_=this.map.getTerrain()||void 0,M=this.stylesheet;return a.aF({version:M.version,name:M.name,metadata:M.metadata,light:M.light,center:M.center,zoom:M.zoom,bearing:M.bearing,pitch:M.pitch,sprite:M.sprite,glyphs:M.glyphs,transition:M.transition,sources:u,layers:p,terrain:_},I=>I!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(u){const p=R=>this._layers[R].type==="fill-extrusion",_={},M=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j)){_[j]=R;for(const G of u){const te=G[j];if(te)for(const ue of te)M.push(ue)}}}M.sort((R,j)=>j.intersectionZ-R.intersectionZ);const I=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j))for(let G=M.length-1;G>=0;G--){const te=M[G].feature;if(_[te.layer.id]<R)break;I.push(te),M.pop()}else for(const G of u){const te=G[j];if(te)for(const ue of te)I.push(ue.feature)}}return I}queryRenderedFeatures(u,p,_){p&&p.filter&&this._validate(a.x.filter,"queryRenderedFeatures.filter",p.filter,null,p);const M={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const j of p.layers){const G=this._layers[j];if(!G)return this.fire(new a.j(new Error(`The layer '${j}' does not exist in the map's style and cannot be queried for features.`))),[];M[G.source]=!0}}const I=[];p.availableImages=this._availableImages;const R=this._serializedAllLayers();for(const j in this.sourceCaches)p.layers&&!M[j]||I.push(Ze(this.sourceCaches[j],this._layers,R,u,p,_));return this.placement&&I.push(function(j,G,te,ue,fe,Ee,ze){const Fe={},Ge=Ee.queryRenderedSymbols(ue),je=[];for(const ct of Object.keys(Ge).map(Number))je.push(ze[ct]);je.sort(nt);for(const ct of je){const Ot=ct.featureIndex.lookupSymbolFeatures(Ge[ct.bucketInstanceId],G,ct.bucketIndex,ct.sourceLayerIndex,fe.filter,fe.layers,fe.availableImages,j);for(const Ye in Ot){const _t=Fe[Ye]=Fe[Ye]||[],Gt=Ot[Ye];Gt.sort((It,en)=>{const cn=ct.featureSortOrder;if(cn){const un=cn.indexOf(It.featureIndex);return cn.indexOf(en.featureIndex)-un}return en.featureIndex-It.featureIndex});for(const It of Gt)_t.push(It)}}for(const ct in Fe)Fe[ct].forEach(Ot=>{const Ye=Ot.feature,_t=te[j[ct].source].getFeatureState(Ye.layer["source-layer"],Ye.id);Ye.source=Ye.layer.source,Ye.layer["source-layer"]&&(Ye.sourceLayer=Ye.layer["source-layer"]),Ye.state=_t});return Fe}(this._layers,R,this.sourceCaches,u,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(I)}querySourceFeatures(u,p){p&&p.filter&&this._validate(a.x.filter,"querySourceFeatures.filter",p.filter,null,p);const _=this.sourceCaches[u];return _?function(M,I){const R=M.getRenderableIds().map(te=>M.getTileByID(te)),j=[],G={};for(let te=0;te<R.length;te++){const ue=R[te],fe=ue.tileID.canonical.key;G[fe]||(G[fe]=!0,ue.querySourceFeatures(j,I))}return j}(_,p):[]}getLight(){return this.light.getLight()}setLight(u,p={}){this._checkLoaded();const _=this.light.getLight();let M=!1;for(const R in u)if(!a.aD(u[R],_[R])){M=!0;break}if(!M)return;const I={now:B.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,p),this.light.updateTransitions(I)}_validate(u,p,_,M,I={}){return(!I||I.validate!==!1)&&cr(this,u.call(a.x,a.e({key:p,style:this.serialize(),value:_,styleSpec:a.v},M)))}_remove(u=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Y().off("pluginStateChange",this._rtlTextPluginStateChange);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const _=this.sourceCaches[p];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(u)}_clearSource(u){this.sourceCaches[u].clearTiles()}_reloadSource(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()}_updateSources(u){for(const p in this.sourceCaches)this.sourceCaches[p].update(u,this.map.terrain)}_generateCollisionBoxes(){for(const u in this.sourceCaches)this._reloadSource(u)}_updatePlacement(u,p,_,M,I=!1){let R=!1,j=!1;const G={};for(const te of this._order){const ue=this._layers[te];if(ue.type!=="symbol")continue;if(!G[ue.source]){const Ee=this.sourceCaches[ue.source];G[ue.source]=Ee.getRenderableIds(!0).map(ze=>Ee.getTileByID(ze)).sort((ze,Fe)=>Fe.tileID.overscaledZ-ze.tileID.overscaledZ||(ze.tileID.isLessThan(Fe.tileID)?-1:1))}const fe=this.crossTileSymbolIndex.addLayer(ue,G[ue.source],u.center.lng);R=R||fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((I=I||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(B.now(),u.zoom))&&(this.pauseablePlacement=new ge(u,this.map.terrain,this._order,I,p,_,M,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,G),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(B.now()),j=!0),R&&this.pauseablePlacement.placement.setStale()),j||R)for(const te of this._order){const ue=this._layers[te];ue.type==="symbol"&&this.placement.updateLayerOpacities(ue,G[ue.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(B.now())}_releaseSymbolFadeTiles(){for(const u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,p){return a._(this,void 0,void 0,function*(){const _=yield this.imageManager.getImages(p.icons);this._updateTilesForChangedImages();const M=this.sourceCaches[p.source];return M&&M.setDependencies(p.tileID.key,p.type,p.icons),_})}getGlyphs(u,p){return a._(this,void 0,void 0,function*(){const _=yield this.glyphManager.getGlyphs(p.stacks),M=this.sourceCaches[p.source];return M&&M.setDependencies(p.tileID.key,p.type,[""]),_})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(u,p={}){this._checkLoaded(),u&&this._validate(a.x.glyphs,"glyphs",u,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=u,this.glyphManager.entries={},this.glyphManager.setURL(u))}addSprite(u,p,_={},M){this._checkLoaded();const I=[{id:u,url:p}],R=[...et(this.stylesheet.sprite),...I];this._validate(a.x.sprite,"sprite",R,null,_)||(this.stylesheet.sprite=R,this._loadSprite(I,!0,M))}removeSprite(u){this._checkLoaded();const p=et(this.stylesheet.sprite);if(p.find(_=>_.id===u)){if(this._spritesImagesIds[u])for(const _ of this._spritesImagesIds[u])this.imageManager.removeImage(_),this._changedImages[_]=!0;p.splice(p.findIndex(_=>_.id===u),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[u],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${u}" doesn't exists on this map.`)))}getSprite(){return et(this.stylesheet.sprite)}setSprite(u,p={},_){this._checkLoaded(),u&&this._validate(a.x.sprite,"sprite",u,null,p)||(this.stylesheet.sprite=u,u?this._loadSprite(u,!0,_):(this._unloadSprite(),_&&_(null)))}}var ya=a.X([{name:"a_pos",type:"Int16",components:2}]),qa="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Br={prelude:mi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:mi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:mi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:mi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:mi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:mi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:mi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:mi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:mi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:mi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:mi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:mi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:mi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:mi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:mi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:mi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:mi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:mi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:mi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:mi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:mi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:mi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:mi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:mi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:mi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:mi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:mi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",qa),terrainDepth:mi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",qa),terrainCoords:mi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",qa)};function mi(O,u){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=u.match(/attribute ([\w]+) ([\w]+)/g),M=O.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),I=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),R=I?I.concat(M):M,j={};return{fragmentSource:O=O.replace(p,(G,te,ue,fe,Ee)=>(j[Ee]=!0,te==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
varying ${ue} ${fe} ${Ee};
#else
uniform ${ue} ${fe} u_${Ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ee}
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`)),vertexSource:u=u.replace(p,(G,te,ue,fe,Ee)=>{const ze=fe==="float"?"vec2":"vec4",Fe=Ee.match(/color/)?"color":ze;return j[Ee]?te==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
attribute ${ue} ${ze} a_${Ee};
varying ${ue} ${fe} ${Ee};
#else
uniform ${ue} ${fe} u_${Ee};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = a_${Ee};
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = unpack_mix_${Fe}(a_${Ee}, u_${Ee}_t);
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`:te==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
attribute ${ue} ${ze} a_${Ee};
#else
uniform ${ue} ${fe} u_${Ee};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${ue} ${fe} ${Ee} = a_${Ee};
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${ue} ${fe} ${Ee} = unpack_mix_${Fe}(a_${Ee}, u_${Ee}_t);
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`}),staticAttributes:_,staticUniforms:R}}class il{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,p,_,M,I,R,j,G,te){this.context=u;let ue=this.boundPaintVertexBuffers.length!==M.length;for(let fe=0;!ue&&fe<M.length;fe++)this.boundPaintVertexBuffers[fe]!==M[fe]&&(ue=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==_||ue||this.boundIndexBuffer!==I||this.boundVertexOffset!==R||this.boundDynamicVertexBuffer!==j||this.boundDynamicVertexBuffer2!==G||this.boundDynamicVertexBuffer3!==te?this.freshBind(p,_,M,I,R,j,G,te):(u.bindVertexArray.set(this.vao),j&&j.bind(),I&&I.dynamicDraw&&I.bind(),G&&G.bind(),te&&te.bind())}freshBind(u,p,_,M,I,R,j,G){const te=u.numAttributes,ue=this.context,fe=ue.gl;this.vao&&this.destroy(),this.vao=ue.createVertexArray(),ue.bindVertexArray.set(this.vao),this.boundProgram=u,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=M,this.boundVertexOffset=I,this.boundDynamicVertexBuffer=R,this.boundDynamicVertexBuffer2=j,this.boundDynamicVertexBuffer3=G,p.enableAttributes(fe,u);for(const Ee of _)Ee.enableAttributes(fe,u);R&&R.enableAttributes(fe,u),j&&j.enableAttributes(fe,u),G&&G.enableAttributes(fe,u),p.bind(),p.setVertexAttribPointers(fe,u,I);for(const Ee of _)Ee.bind(),Ee.setVertexAttribPointers(fe,u,I);R&&(R.bind(),R.setVertexAttribPointers(fe,u,I)),M&&M.bind(),j&&(j.bind(),j.setVertexAttribPointers(fe,u,I)),G&&(G.bind(),G.setVertexAttribPointers(fe,u,I)),ue.currentNumAttributes=te}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Va(O){const u=[];for(let p=0;p<O.length;p++){if(O[p]===null)continue;const _=O[p].split(" ");u.push(_.pop())}return u}class xa{constructor(u,p,_,M,I,R){const j=u.gl;this.program=j.createProgram();const G=Va(p.staticAttributes),te=_?_.getBinderAttributes():[],ue=G.concat(te),fe=Br.prelude.staticUniforms?Va(Br.prelude.staticUniforms):[],Ee=p.staticUniforms?Va(p.staticUniforms):[],ze=_?_.getBinderUniforms():[],Fe=fe.concat(Ee).concat(ze),Ge=[];for(const It of Fe)Ge.indexOf(It)<0&&Ge.push(It);const je=_?_.defines():[];I&&je.push("#define OVERDRAW_INSPECTOR;"),R&&je.push("#define TERRAIN3D;");const ct=je.concat(Br.prelude.fragmentSource,p.fragmentSource).join(`
`),Ot=je.concat(Br.prelude.vertexSource,p.vertexSource).join(`
`),Ye=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(Ye,ct),j.compileShader(Ye),!j.getShaderParameter(Ye,j.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${j.getShaderInfoLog(Ye)}`);j.attachShader(this.program,Ye);const _t=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(_t,Ot),j.compileShader(_t),!j.getShaderParameter(_t,j.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${j.getShaderInfoLog(_t)}`);j.attachShader(this.program,_t),this.attributes={};const Gt={};this.numAttributes=ue.length;for(let It=0;It<this.numAttributes;It++)ue[It]&&(j.bindAttribLocation(this.program,It,ue[It]),this.attributes[ue[It]]=It);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error(`Program failed to link: ${j.getProgramInfoLog(this.program)}`);j.deleteShader(_t),j.deleteShader(Ye);for(let It=0;It<Ge.length;It++){const en=Ge[It];if(en&&!Gt[en]){const cn=j.getUniformLocation(this.program,en);cn&&(Gt[en]=cn)}}this.fixedUniforms=M(u,Gt),this.terrainUniforms=((It,en)=>({u_depth:new a.aG(It,en.u_depth),u_terrain:new a.aG(It,en.u_terrain),u_terrain_dim:new a.aH(It,en.u_terrain_dim),u_terrain_matrix:new a.aI(It,en.u_terrain_matrix),u_terrain_unpack:new a.aJ(It,en.u_terrain_unpack),u_terrain_exaggeration:new a.aH(It,en.u_terrain_exaggeration)}))(u,Gt),this.binderUniforms=_?_.getUniforms(u,Gt):[]}draw(u,p,_,M,I,R,j,G,te,ue,fe,Ee,ze,Fe,Ge,je,ct,Ot){const Ye=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(_),u.setStencilMode(M),u.setColorMode(I),u.setCullFace(R),G){u.activeTexture.set(Ye.TEXTURE2),Ye.bindTexture(Ye.TEXTURE_2D,G.depthTexture),u.activeTexture.set(Ye.TEXTURE3),Ye.bindTexture(Ye.TEXTURE_2D,G.texture);for(const Gt in this.terrainUniforms)this.terrainUniforms[Gt].set(G[Gt])}for(const Gt in this.fixedUniforms)this.fixedUniforms[Gt].set(j[Gt]);Ge&&Ge.setUniforms(u,this.binderUniforms,ze,{zoom:Fe});let _t=0;switch(p){case Ye.LINES:_t=2;break;case Ye.TRIANGLES:_t=3;break;case Ye.LINE_STRIP:_t=1}for(const Gt of Ee.get()){const It=Gt.vaos||(Gt.vaos={});(It[te]||(It[te]=new il)).bind(u,this,ue,Ge?Ge.getPaintVertexBuffers():[],fe,Gt.vertexOffset,je,ct,Ot),Ye.drawElements(p,Gt.primitiveLength*_t,Ye.UNSIGNED_SHORT,Gt.primitiveOffset*_t*2)}}}function Bu(O,u,p){const _=1/or(p,1,u.transform.tileZoom),M=Math.pow(2,p.tileID.overscaledZ),I=p.tileSize*Math.pow(2,u.transform.tileZoom)/M,R=I*(p.tileID.canonical.x+p.tileID.wrap*M),j=I*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[_,O.fromScale,O.toScale],u_fade:O.t,u_pixel_coord_upper:[R>>16,j>>16],u_pixel_coord_lower:[65535&R,65535&j]}}const Ns=(O,u,p,_)=>{const M=u.style.light,I=M.properties.get("position"),R=[I.x,I.y,I.z],j=function(){var te=new a.A(9);return a.A!=Float32Array&&(te[1]=0,te[2]=0,te[3]=0,te[5]=0,te[6]=0,te[7]=0),te[0]=1,te[4]=1,te[8]=1,te}();M.properties.get("anchor")==="viewport"&&function(te,ue){var fe=Math.sin(ue),Ee=Math.cos(ue);te[0]=Ee,te[1]=fe,te[2]=0,te[3]=-fe,te[4]=Ee,te[5]=0,te[6]=0,te[7]=0,te[8]=1}(j,-u.transform.angle),function(te,ue,fe){var Ee=ue[0],ze=ue[1],Fe=ue[2];te[0]=Ee*fe[0]+ze*fe[3]+Fe*fe[6],te[1]=Ee*fe[1]+ze*fe[4]+Fe*fe[7],te[2]=Ee*fe[2]+ze*fe[5]+Fe*fe[8]}(R,R,j);const G=M.properties.get("color");return{u_matrix:O,u_lightpos:R,u_lightintensity:M.properties.get("intensity"),u_lightcolor:[G.r,G.g,G.b],u_vertical_gradient:+p,u_opacity:_}},Ha=(O,u,p,_,M,I,R)=>a.e(Ns(O,u,p,_),Bu(I,u,R),{u_height_factor:-Math.pow(2,M.overscaledZ)/R.tileSize/8}),Za=O=>({u_matrix:O}),Gs=(O,u,p,_)=>a.e(Za(O),Bu(p,u,_)),xA=(O,u)=>({u_matrix:O,u_world:u}),pl=(O,u,p,_,M)=>a.e(Gs(O,u,p,_),{u_world:M}),ic=(O,u,p,_)=>{const M=O.transform;let I,R;if(_.paint.get("circle-pitch-alignment")==="map"){const j=or(p,1,M.zoom);I=!0,R=[j,j]}else I=!1,R=M.pixelsToGLUnits;return{u_camera_to_center_distance:M.cameraToCenterDistance,u_scale_with_map:+(_.paint.get("circle-pitch-scale")==="map"),u_matrix:O.translatePosMatrix(u.posMatrix,p,_.paint.get("circle-translate"),_.paint.get("circle-translate-anchor")),u_pitch_with_map:+I,u_device_pixel_ratio:O.pixelRatio,u_extrude_scale:R}},wA=(O,u,p)=>{const _=or(p,1,u.zoom),M=Math.pow(2,u.zoom-p.tileID.overscaledZ),I=p.tileID.overscaleFactor();return{u_matrix:O,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:_,u_extrude_scale:[u.pixelsToGLUnits[0]/(_*M),u.pixelsToGLUnits[1]/(_*M)],u_overscale_factor:I}},MA=(O,u,p=1)=>({u_matrix:O,u_color:u,u_overlay:0,u_overlay_scale:p}),tA=O=>({u_matrix:O}),oc=(O,u,p,_)=>({u_matrix:O,u_extrude_scale:or(u,1,p),u_intensity:_});function Xa(O,u){const p=Math.pow(2,u.canonical.z),_=u.canonical.y;return[new a.Y(0,_/p).toLngLat().lat,new a.Y(0,(_+1)/p).toLngLat().lat]}const Es=(O,u,p,_)=>{const M=O.transform;return{u_matrix:nA(O,u,p,_),u_ratio:1/or(u,1,M.zoom),u_device_pixel_ratio:O.pixelRatio,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]]}},SA=(O,u,p,_,M)=>a.e(Es(O,u,p,M),{u_image:0,u_image_height:_}),ml=(O,u,p,_,M)=>{const I=O.transform,R=Ho(u,I);return{u_matrix:nA(O,u,p,M),u_texsize:u.imageAtlasTexture.size,u_ratio:1/or(u,1,I.zoom),u_device_pixel_ratio:O.pixelRatio,u_image:0,u_scale:[R,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]]}},Il=(O,u,p,_,M,I)=>{const R=O.lineAtlas,j=Ho(u,O.transform),G=p.layout.get("line-cap")==="round",te=R.getDash(_.from,G),ue=R.getDash(_.to,G),fe=te.width*M.fromScale,Ee=ue.width*M.toScale;return a.e(Es(O,u,p,I),{u_patternscale_a:[j/fe,-te.height/2],u_patternscale_b:[j/Ee,-ue.height/2],u_sdfgamma:R.width/(256*Math.min(fe,Ee)*O.pixelRatio)/2,u_image:0,u_tex_y_a:te.y,u_tex_y_b:ue.y,u_mix:M.t})};function Ho(O,u){return 1/or(O,1,u.tileZoom)}function nA(O,u,p,_){return O.translatePosMatrix(_?_.posMatrix:u.tileID.posMatrix,u,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const uu=(O,u,p,_,M)=>{return{u_matrix:O,u_tl_parent:u,u_scale_parent:p,u_buffer_scale:1,u_fade_t:_.mix,u_opacity:_.opacity*M.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:M.paint.get("raster-brightness-min"),u_brightness_high:M.paint.get("raster-brightness-max"),u_saturation_factor:(R=M.paint.get("raster-saturation"),R>0?1-1/(1.001-R):-R),u_contrast_factor:(I=M.paint.get("raster-contrast"),I>0?1/(1-I):1+I),u_spin_weights:Au(M.paint.get("raster-hue-rotate"))};var I,R};function Au(O){O*=Math.PI/180;const u=Math.sin(O),p=Math.cos(O);return[(2*p+1)/3,(-Math.sqrt(3)*u-p+1)/3,(Math.sqrt(3)*u-p+1)/3]}const ku=(O,u,p,_,M,I,R,j,G,te)=>{const ue=M.transform;return{u_is_size_zoom_constant:+(O==="constant"||O==="source"),u_is_size_feature_constant:+(O==="constant"||O==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:ue.cameraToCenterDistance,u_pitch:ue.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:ue.width/ue.height,u_fade_change:M.options.fadeDuration?M.symbolFadeChange:1,u_matrix:I,u_label_plane_matrix:R,u_coord_matrix:j,u_is_text:+G,u_pitch_with_map:+_,u_texsize:te,u_texture:0}},cs=(O,u,p,_,M,I,R,j,G,te,ue)=>{const fe=M.transform;return a.e(ku(O,u,p,_,M,I,R,j,G,te),{u_gamma_scale:_?Math.cos(fe._pitch)*fe.cameraToCenterDistance:1,u_device_pixel_ratio:M.pixelRatio,u_is_halo:+ue})},cu=(O,u,p,_,M,I,R,j,G,te)=>a.e(cs(O,u,p,_,M,I,R,j,!0,G,!0),{u_texsize_icon:te,u_texture_icon:1}),ac=(O,u,p)=>({u_matrix:O,u_opacity:u,u_color:p}),mo=(O,u,p,_,M,I)=>a.e(function(R,j,G,te){const ue=G.imageManager.getPattern(R.from.toString()),fe=G.imageManager.getPattern(R.to.toString()),{width:Ee,height:ze}=G.imageManager.getPixelSize(),Fe=Math.pow(2,te.tileID.overscaledZ),Ge=te.tileSize*Math.pow(2,G.transform.tileZoom)/Fe,je=Ge*(te.tileID.canonical.x+te.tileID.wrap*Fe),ct=Ge*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ue.tl,u_pattern_br_a:ue.br,u_pattern_tl_b:fe.tl,u_pattern_br_b:fe.br,u_texsize:[Ee,ze],u_mix:j.t,u_pattern_size_a:ue.displaySize,u_pattern_size_b:fe.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/or(te,1,G.transform.tileZoom),u_pixel_coord_upper:[je>>16,ct>>16],u_pixel_coord_lower:[65535&je,65535&ct]}}(_,I,p,M),{u_matrix:O,u_opacity:u}),Ao={fillExtrusion:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_lightpos:new a.aK(O,u.u_lightpos),u_lightintensity:new a.aH(O,u.u_lightintensity),u_lightcolor:new a.aK(O,u.u_lightcolor),u_vertical_gradient:new a.aH(O,u.u_vertical_gradient),u_opacity:new a.aH(O,u.u_opacity)}),fillExtrusionPattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_lightpos:new a.aK(O,u.u_lightpos),u_lightintensity:new a.aH(O,u.u_lightintensity),u_lightcolor:new a.aK(O,u.u_lightcolor),u_vertical_gradient:new a.aH(O,u.u_vertical_gradient),u_height_factor:new a.aH(O,u.u_height_factor),u_image:new a.aG(O,u.u_image),u_texsize:new a.aL(O,u.u_texsize),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade),u_opacity:new a.aH(O,u.u_opacity)}),fill:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix)}),fillPattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_image:new a.aG(O,u.u_image),u_texsize:new a.aL(O,u.u_texsize),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade)}),fillOutline:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_world:new a.aL(O,u.u_world)}),fillOutlinePattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_world:new a.aL(O,u.u_world),u_image:new a.aG(O,u.u_image),u_texsize:new a.aL(O,u.u_texsize),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade)}),circle:(O,u)=>({u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_scale_with_map:new a.aG(O,u.u_scale_with_map),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_extrude_scale:new a.aL(O,u.u_extrude_scale),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_matrix:new a.aI(O,u.u_matrix)}),collisionBox:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pixels_to_tile_units:new a.aH(O,u.u_pixels_to_tile_units),u_extrude_scale:new a.aL(O,u.u_extrude_scale),u_overscale_factor:new a.aH(O,u.u_overscale_factor)}),collisionCircle:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_inv_matrix:new a.aI(O,u.u_inv_matrix),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_viewport_size:new a.aL(O,u.u_viewport_size)}),debug:(O,u)=>({u_color:new a.aM(O,u.u_color),u_matrix:new a.aI(O,u.u_matrix),u_overlay:new a.aG(O,u.u_overlay),u_overlay_scale:new a.aH(O,u.u_overlay_scale)}),clippingMask:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix)}),heatmap:(O,u)=>({u_extrude_scale:new a.aH(O,u.u_extrude_scale),u_intensity:new a.aH(O,u.u_intensity),u_matrix:new a.aI(O,u.u_matrix)}),heatmapTexture:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_world:new a.aL(O,u.u_world),u_image:new a.aG(O,u.u_image),u_color_ramp:new a.aG(O,u.u_color_ramp),u_opacity:new a.aH(O,u.u_opacity)}),hillshade:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_image:new a.aG(O,u.u_image),u_latrange:new a.aL(O,u.u_latrange),u_light:new a.aL(O,u.u_light),u_shadow:new a.aM(O,u.u_shadow),u_highlight:new a.aM(O,u.u_highlight),u_accent:new a.aM(O,u.u_accent)}),hillshadePrepare:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_image:new a.aG(O,u.u_image),u_dimension:new a.aL(O,u.u_dimension),u_zoom:new a.aH(O,u.u_zoom),u_unpack:new a.aJ(O,u.u_unpack)}),line:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels)}),lineGradient:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels),u_image:new a.aG(O,u.u_image),u_image_height:new a.aH(O,u.u_image_height)}),linePattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_texsize:new a.aL(O,u.u_texsize),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_image:new a.aG(O,u.u_image),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade)}),lineSDF:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels),u_patternscale_a:new a.aL(O,u.u_patternscale_a),u_patternscale_b:new a.aL(O,u.u_patternscale_b),u_sdfgamma:new a.aH(O,u.u_sdfgamma),u_image:new a.aG(O,u.u_image),u_tex_y_a:new a.aH(O,u.u_tex_y_a),u_tex_y_b:new a.aH(O,u.u_tex_y_b),u_mix:new a.aH(O,u.u_mix)}),raster:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_tl_parent:new a.aL(O,u.u_tl_parent),u_scale_parent:new a.aH(O,u.u_scale_parent),u_buffer_scale:new a.aH(O,u.u_buffer_scale),u_fade_t:new a.aH(O,u.u_fade_t),u_opacity:new a.aH(O,u.u_opacity),u_image0:new a.aG(O,u.u_image0),u_image1:new a.aG(O,u.u_image1),u_brightness_low:new a.aH(O,u.u_brightness_low),u_brightness_high:new a.aH(O,u.u_brightness_high),u_saturation_factor:new a.aH(O,u.u_saturation_factor),u_contrast_factor:new a.aH(O,u.u_contrast_factor),u_spin_weights:new a.aK(O,u.u_spin_weights)}),symbolIcon:(O,u)=>({u_is_size_zoom_constant:new a.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aG(O,u.u_is_size_feature_constant),u_size_t:new a.aH(O,u.u_size_t),u_size:new a.aH(O,u.u_size),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pitch:new a.aH(O,u.u_pitch),u_rotate_symbol:new a.aG(O,u.u_rotate_symbol),u_aspect_ratio:new a.aH(O,u.u_aspect_ratio),u_fade_change:new a.aH(O,u.u_fade_change),u_matrix:new a.aI(O,u.u_matrix),u_label_plane_matrix:new a.aI(O,u.u_label_plane_matrix),u_coord_matrix:new a.aI(O,u.u_coord_matrix),u_is_text:new a.aG(O,u.u_is_text),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_texsize:new a.aL(O,u.u_texsize),u_texture:new a.aG(O,u.u_texture)}),symbolSDF:(O,u)=>({u_is_size_zoom_constant:new a.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aG(O,u.u_is_size_feature_constant),u_size_t:new a.aH(O,u.u_size_t),u_size:new a.aH(O,u.u_size),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pitch:new a.aH(O,u.u_pitch),u_rotate_symbol:new a.aG(O,u.u_rotate_symbol),u_aspect_ratio:new a.aH(O,u.u_aspect_ratio),u_fade_change:new a.aH(O,u.u_fade_change),u_matrix:new a.aI(O,u.u_matrix),u_label_plane_matrix:new a.aI(O,u.u_label_plane_matrix),u_coord_matrix:new a.aI(O,u.u_coord_matrix),u_is_text:new a.aG(O,u.u_is_text),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_texsize:new a.aL(O,u.u_texsize),u_texture:new a.aG(O,u.u_texture),u_gamma_scale:new a.aH(O,u.u_gamma_scale),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_is_halo:new a.aG(O,u.u_is_halo)}),symbolTextAndIcon:(O,u)=>({u_is_size_zoom_constant:new a.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aG(O,u.u_is_size_feature_constant),u_size_t:new a.aH(O,u.u_size_t),u_size:new a.aH(O,u.u_size),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pitch:new a.aH(O,u.u_pitch),u_rotate_symbol:new a.aG(O,u.u_rotate_symbol),u_aspect_ratio:new a.aH(O,u.u_aspect_ratio),u_fade_change:new a.aH(O,u.u_fade_change),u_matrix:new a.aI(O,u.u_matrix),u_label_plane_matrix:new a.aI(O,u.u_label_plane_matrix),u_coord_matrix:new a.aI(O,u.u_coord_matrix),u_is_text:new a.aG(O,u.u_is_text),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_texsize:new a.aL(O,u.u_texsize),u_texsize_icon:new a.aL(O,u.u_texsize_icon),u_texture:new a.aG(O,u.u_texture),u_texture_icon:new a.aG(O,u.u_texture_icon),u_gamma_scale:new a.aH(O,u.u_gamma_scale),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_is_halo:new a.aG(O,u.u_is_halo)}),background:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_opacity:new a.aH(O,u.u_opacity),u_color:new a.aM(O,u.u_color)}),backgroundPattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_opacity:new a.aH(O,u.u_opacity),u_image:new a.aG(O,u.u_image),u_pattern_tl_a:new a.aL(O,u.u_pattern_tl_a),u_pattern_br_a:new a.aL(O,u.u_pattern_br_a),u_pattern_tl_b:new a.aL(O,u.u_pattern_tl_b),u_pattern_br_b:new a.aL(O,u.u_pattern_br_b),u_texsize:new a.aL(O,u.u_texsize),u_mix:new a.aH(O,u.u_mix),u_pattern_size_a:new a.aL(O,u.u_pattern_size_a),u_pattern_size_b:new a.aL(O,u.u_pattern_size_b),u_scale_a:new a.aH(O,u.u_scale_a),u_scale_b:new a.aH(O,u.u_scale_b),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aH(O,u.u_tile_units_to_pixels)}),terrain:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_texture:new a.aG(O,u.u_texture),u_ele_delta:new a.aH(O,u.u_ele_delta)}),terrainDepth:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ele_delta:new a.aH(O,u.u_ele_delta)}),terrainCoords:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_texture:new a.aG(O,u.u_texture),u_terrain_coords_id:new a.aH(O,u.u_terrain_coords_id),u_ele_delta:new a.aH(O,u.u_ele_delta)})};class ne{constructor(u,p,_){this.context=u;const M=u.gl;this.buffer=M.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),M.bufferData(M.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ie={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class At{constructor(u,p,_,M){this.length=p.length,this.attributes=_,this.itemSize=p.bytesPerElement,this.dynamicDraw=M,this.context=u;const I=u.gl;this.buffer=I.createBuffer(),u.bindVertexBuffer.set(this.buffer),I.bufferData(I.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,p){for(let _=0;_<this.attributes.length;_++){const M=p.attributes[this.attributes[_].name];M!==void 0&&u.enableVertexAttribArray(M)}}setVertexAttribPointers(u,p,_){for(let M=0;M<this.attributes.length;M++){const I=this.attributes[M],R=p.attributes[I.name];R!==void 0&&u.vertexAttribPointer(R,I.components,u[Ie[I.type]],!1,this.itemSize,I.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Yt=new WeakMap;function wr(O){var u;if(Yt.has(O))return Yt.get(O);{const p=(u=O.getParameter(O.VERSION))===null||u===void 0?void 0:u.startsWith("WebGL 2.0");return Yt.set(O,p),p}}class Tn{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ci extends Tn{getDefault(){return a.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class Ti extends Tn{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class Yr extends Tn{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class Gi extends Tn{getDefault(){return[!0,!0,!0,!0]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Po extends Tn{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class wa extends Tn{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class zo extends Tn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const p=this.current;(u.func!==p.func||u.ref!==p.ref||u.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class Ki extends Tn{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class aa extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=u,this.dirty=!1}}class Ta extends Tn{getDefault(){return[0,1]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class Ka extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=u,this.dirty=!1}}class Ql extends Tn{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class Iu extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.BLEND):p.disable(p.BLEND),this.current=u,this.dirty=!1}}class sc extends Tn{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class ds extends Tn{getDefault(){return a.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class Hm extends Tn{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class $l extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=u,this.dirty=!1}}class mh extends Tn{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class Wc extends Tn{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class Tu extends Tn{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class Nc extends Tn{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class EA extends Tn{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Go extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class Ku extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Od extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class OA extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class lc extends Tn{getDefault(){return null}set(u){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class du extends Tn{getDefault(){return null}set(u){var p;if(u===this.current&&!this.dirty)return;const _=this.gl;wr(_)?_.bindVertexArray(u):(p=_.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(u),this.current=u,this.dirty=!1}}class Gc extends Tn{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class Tp extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class gh extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class hi extends Tn{constructor(u,p){super(u),this.context=u,this.parent=p}getDefault(){return null}}class Fo extends hi{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class Zm extends hi{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class yh extends hi{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Pu{constructor(u,p,_,M,I){this.context=u,this.width=p,this.height=_;const R=u.gl,j=this.framebuffer=R.createFramebuffer();if(this.colorAttachment=new Fo(u,j),M)this.depthAttachment=I?new yh(u,j):new Zm(u,j);else if(I)throw new Error("Stencil cannot be set without depth");if(R.checkFramebufferStatus(R.FRAMEBUFFER)!==R.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const u=this.context.gl,p=this.colorAttachment.get();if(p&&u.deleteTexture(p),this.depthAttachment){const _=this.depthAttachment.get();_&&u.deleteRenderbuffer(_)}u.deleteFramebuffer(this.framebuffer)}}class sa{constructor(u,p,_){this.blendFunction=u,this.blendColor=p,this.mask=_}}sa.Replace=[1,0],sa.disabled=new sa(sa.Replace,a.aO.transparent,[!1,!1,!1,!1]),sa.unblended=new sa(sa.Replace,a.aO.transparent,[!0,!0,!0,!0]),sa.alphaBlended=new sa([1,771],a.aO.transparent,[!0,!0,!0,!0]);class vh{constructor(u){var p,_;if(this.gl=u,this.clearColor=new Ci(this),this.clearDepth=new Ti(this),this.clearStencil=new Yr(this),this.colorMask=new Gi(this),this.depthMask=new Po(this),this.stencilMask=new wa(this),this.stencilFunc=new zo(this),this.stencilOp=new Ki(this),this.stencilTest=new aa(this),this.depthRange=new Ta(this),this.depthTest=new Ka(this),this.depthFunc=new Ql(this),this.blend=new Iu(this),this.blendFunc=new sc(this),this.blendColor=new ds(this),this.blendEquation=new Hm(this),this.cullFace=new $l(this),this.cullFaceSide=new mh(this),this.frontFace=new Wc(this),this.program=new Tu(this),this.activeTexture=new Nc(this),this.viewport=new EA(this),this.bindFramebuffer=new Go(this),this.bindRenderbuffer=new Ku(this),this.bindTexture=new Od(this),this.bindVertexBuffer=new OA(this),this.bindElementBuffer=new lc(this),this.bindVertexArray=new du(this),this.pixelStoreUnpack=new Gc(this),this.pixelStoreUnpackPremultiplyAlpha=new Tp(this),this.pixelStoreUnpackFlipY=new gh(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),wr(u)){this.HALF_FLOAT=u.HALF_FLOAT;const M=u.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=u.RGBA16F)!==null&&p!==void 0?p:M==null?void 0:M.RGBA16F_EXT,this.RGB16F=(_=u.RGB16F)!==null&&_!==void 0?_:M==null?void 0:M.RGB16F_EXT,u.getExtension("EXT_color_buffer_float")}else{u.getExtension("EXT_color_buffer_half_float"),u.getExtension("OES_texture_half_float_linear");const M=u.getExtension("OES_texture_half_float");this.HALF_FLOAT=M==null?void 0:M.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,p){return new ne(this,u,p)}createVertexBuffer(u,p,_){return new At(this,u,p,_)}createRenderbuffer(u,p,_){const M=this.gl,I=M.createRenderbuffer();return this.bindRenderbuffer.set(I),M.renderbufferStorage(M.RENDERBUFFER,u,p,_),this.bindRenderbuffer.set(null),I}createFramebuffer(u,p,_,M){return new Pu(this,u,p,_,M)}clear({color:u,depth:p,stencil:_}){const M=this.gl;let I=0;u&&(I|=M.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(I|=M.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),_!==void 0&&(I|=M.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),M.clear(I)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){a.aD(u.blendFunction,sa.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}createVertexArray(){var u;return wr(this.gl)?this.gl.createVertexArray():(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.createVertexArrayOES()}deleteVertexArray(u){var p;return wr(this.gl)?this.gl.deleteVertexArray(u):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(u)}unbindVAO(){this.bindVertexArray.set(null)}}class Pi{constructor(u,p,_){this.func=u,this.mask=p,this.range=_}}Pi.ReadOnly=!1,Pi.ReadWrite=!0,Pi.disabled=new Pi(519,Pi.ReadOnly,[0,1]);const Bd=7680;class wo{constructor(u,p,_,M,I,R){this.test=u,this.ref=p,this.mask=_,this.fail=M,this.depthFail=I,this.pass=R}}wo.disabled=new wo({func:519,mask:0},0,0,Bd,Bd,Bd);class go{constructor(u,p,_){this.enable=u,this.mode=p,this.frontFace=_}}let uc;function Qc(O,u,p,_,M,I,R){const j=O.context,G=j.gl,te=O.useProgram("collisionBox"),ue=[];let fe=0,Ee=0;for(let Ye=0;Ye<_.length;Ye++){const _t=_[Ye],Gt=u.getTile(_t),It=Gt.getBucket(p);if(!It)continue;let en=_t.posMatrix;M[0]===0&&M[1]===0||(en=O.translatePosMatrix(_t.posMatrix,Gt,M,I));const cn=R?It.textCollisionBox:It.iconCollisionBox,un=It.collisionCircleArray;if(un.length>0){const vn=a.F(),er=en;a.aP(vn,It.placementInvProjMatrix,O.transform.glCoordMatrix),a.aP(vn,vn,It.placementViewportMatrix),ue.push({circleArray:un,circleOffset:Ee,transform:er,invTransform:vn,coord:_t}),fe+=un.length/4,Ee=fe}cn&&te.draw(j,G.LINES,Pi.disabled,wo.disabled,O.colorModeForRenderPass(),go.disabled,wA(en,O.transform,Gt),O.style.map.terrain&&O.style.map.terrain.getTerrainData(_t),p.id,cn.layoutVertexBuffer,cn.indexBuffer,cn.segments,null,O.transform.zoom,null,null,cn.collisionVertexBuffer)}if(!R||!ue.length)return;const ze=O.useProgram("collisionCircle"),Fe=new a.aQ;Fe.resize(4*fe),Fe._trim();let Ge=0;for(const Ye of ue)for(let _t=0;_t<Ye.circleArray.length/4;_t++){const Gt=4*_t,It=Ye.circleArray[Gt+0],en=Ye.circleArray[Gt+1],cn=Ye.circleArray[Gt+2],un=Ye.circleArray[Gt+3];Fe.emplace(Ge++,It,en,cn,un,0),Fe.emplace(Ge++,It,en,cn,un,1),Fe.emplace(Ge++,It,en,cn,un,2),Fe.emplace(Ge++,It,en,cn,un,3)}(!uc||uc.length<2*fe)&&(uc=function(Ye){const _t=2*Ye,Gt=new a.aS;Gt.resize(_t),Gt._trim();for(let It=0;It<_t;It++){const en=6*It;Gt.uint16[en+0]=4*It+0,Gt.uint16[en+1]=4*It+1,Gt.uint16[en+2]=4*It+2,Gt.uint16[en+3]=4*It+2,Gt.uint16[en+4]=4*It+3,Gt.uint16[en+5]=4*It+0}return Gt}(fe));const je=j.createIndexBuffer(uc,!0),ct=j.createVertexBuffer(Fe,a.aR.members,!0);for(const Ye of ue){const _t={u_matrix:Ye.transform,u_inv_matrix:Ye.invTransform,u_camera_to_center_distance:(Ot=O.transform).cameraToCenterDistance,u_viewport_size:[Ot.width,Ot.height]};ze.draw(j,G.TRIANGLES,Pi.disabled,wo.disabled,O.colorModeForRenderPass(),go.disabled,_t,O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ye.coord),p.id,ct,je,a.$.simpleSegment(0,2*Ye.circleOffset,Ye.circleArray.length,Ye.circleArray.length/2),null,O.transform.zoom,null,null,null)}var Ot;ct.destroy(),je.destroy()}go.disabled=new go(!1,1029,2305),go.backCCW=new go(!0,1029,2305);const Qs=a.an(new Float32Array(16));function _h(O,u,p,_,M,I){const{horizontalAlign:R,verticalAlign:j}=a.at(O);return new a.P((-(R-.5)*u/M+_[0])*I,(-(j-.5)*p/M+_[1])*I)}function Yl(O,u,p,_,M,I,R,j,G,te,ue){const fe=O.text.placedSymbolArray,Ee=O.text.dynamicLayoutVertexArray,ze=O.icon.dynamicLayoutVertexArray,Fe={};Ee.clear();for(let Ge=0;Ge<fe.length;Ge++){const je=fe.get(Ge),ct=je.hidden||!je.crossTileID||O.allowVerticalPlacement&&!je.placedOrientation?null:_[je.crossTileID];if(ct){const Ot=new a.P(je.anchorX,je.anchorY),Ye=Wn(Ot,p?R:I,ue),_t=Te(M.cameraToCenterDistance,Ye.signedDistanceFromCamera);let Gt=a.ai(O.textSizeData,G,je)*_t/a.ao;p&&(Gt*=O.tilePixelRatio/j);const{width:It,height:en,anchor:cn,textOffset:un,textBoxScale:vn}=ct,er=_h(cn,It,en,un,vn,Gt),kr=p?Wn(Ot.add(er),I,ue).point:Ye.point.add(u?er.rotate(-M.angle):er),In=O.allowVerticalPlacement&&je.placedOrientation===a.ah.vertical?Math.PI/2:0;for(let Cr=0;Cr<je.numGlyphs;Cr++)a.aj(Ee,kr,In);te&&je.associatedIconIndex>=0&&(Fe[je.associatedIconIndex]={shiftedAnchor:kr,angle:In})}else qt(je.numGlyphs,Ee)}if(te){ze.clear();const Ge=O.icon.placedSymbolArray;for(let je=0;je<Ge.length;je++){const ct=Ge.get(je);if(ct.hidden)qt(ct.numGlyphs,ze);else{const Ot=Fe[je];if(Ot)for(let Ye=0;Ye<ct.numGlyphs;Ye++)a.aj(ze,Ot.shiftedAnchor,Ot.angle);else qt(ct.numGlyphs,ze)}}O.icon.dynamicLayoutVertexBuffer.updateData(ze)}O.text.dynamicLayoutVertexBuffer.updateData(Ee)}function Tl(O,u,p){return p.iconsInText&&u?"symbolTextAndIcon":O?"symbolSDF":"symbolIcon"}function BA(O,u,p,_,M,I,R,j,G,te,ue,fe){const Ee=O.context,ze=Ee.gl,Fe=O.transform,Ge=j==="map",je=G==="map",ct=j!=="viewport"&&p.layout.get("symbol-placement")!=="point",Ot=Ge&&!je&&!ct,Ye=!p.layout.get("symbol-sort-key").isConstant();let _t=!1;const Gt=O.depthModeForSublayer(0,Pi.ReadOnly),It=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),en=[];for(const cn of _){const un=u.getTile(cn),vn=un.getBucket(p);if(!vn)continue;const er=M?vn.text:vn.icon;if(!er||!er.segments.get().length||!er.hasVisibleVertices)continue;const kr=er.programConfigurations.get(p.id),In=M||vn.sdfIcons,Cr=M?vn.textSizeData:vn.iconSizeData,Zn=je||Fe.pitch!==0,zi=O.useProgram(Tl(In,M,vn),kr),bi=a.ag(Cr,Fe.zoom),Hr=O.style.map.terrain&&O.style.map.terrain.getTerrainData(cn);let gi,$o,Fi,ks,ps=[0,0],jo=null;if(M)$o=un.glyphAtlasTexture,Fi=ze.LINEAR,gi=un.glyphAtlasTexture.size,vn.iconsInText&&(ps=un.imageAtlasTexture.size,jo=un.imageAtlasTexture,ks=Zn||O.options.rotating||O.options.zooming||Cr.kind==="composite"||Cr.kind==="camera"?ze.LINEAR:ze.NEAREST);else{const Mo=p.layout.get("icon-size").constantOr(0)!==1||vn.iconsNeedLinear;$o=un.imageAtlasTexture,Fi=In||O.options.rotating||O.options.zooming||Mo||Zn?ze.LINEAR:ze.NEAREST,gi=un.imageAtlasTexture.size}const Is=or(un,1,O.transform.zoom),_a=Tt(cn.posMatrix,je,Ge,O.transform,Is),vo=Lr(cn.posMatrix,je,Ge,O.transform,Is),Fl=It&&vn.hasTextData(),DA=p.layout.get("icon-text-fit")!=="none"&&Fl&&vn.hasIconData();if(ct){const Mo=O.style.map.terrain?(Ja,ta)=>O.style.map.terrain.getElevation(cn,Ja,ta):null,Fa=p.layout.get("text-rotation-alignment")==="map";ve(vn,cn.posMatrix,O,M,_a,vo,je,te,Fa,Mo)}const Ts=O.translatePosMatrix(cn.posMatrix,un,I,R),vu=ct||M&&It||DA?Qs:_a,Ca=O.translatePosMatrix(vo,un,I,R,!0),Bo=In&&p.paint.get(M?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ei;Ei=In?vn.iconsInText?cu(Cr.kind,bi,Ot,je,O,Ts,vu,Ca,gi,ps):cs(Cr.kind,bi,Ot,je,O,Ts,vu,Ca,M,gi,!0):ku(Cr.kind,bi,Ot,je,O,Ts,vu,Ca,M,gi);const ho={program:zi,buffers:er,uniformValues:Ei,atlasTexture:$o,atlasTextureIcon:jo,atlasInterpolation:Fi,atlasInterpolationIcon:ks,isSDF:In,hasHalo:Bo};if(Ye&&vn.canOverlap){_t=!0;const Mo=er.segments.get();for(const Fa of Mo)en.push({segments:new a.$([Fa]),sortKey:Fa.sortKey,state:ho,terrainData:Hr})}else en.push({segments:er.segments,sortKey:0,state:ho,terrainData:Hr})}_t&&en.sort((cn,un)=>cn.sortKey-un.sortKey);for(const cn of en){const un=cn.state;if(Ee.activeTexture.set(ze.TEXTURE0),un.atlasTexture.bind(un.atlasInterpolation,ze.CLAMP_TO_EDGE),un.atlasTextureIcon&&(Ee.activeTexture.set(ze.TEXTURE1),un.atlasTextureIcon&&un.atlasTextureIcon.bind(un.atlasInterpolationIcon,ze.CLAMP_TO_EDGE)),un.isSDF){const vn=un.uniformValues;un.hasHalo&&(vn.u_is_halo=1,Ch(un.buffers,cn.segments,p,O,un.program,Gt,ue,fe,vn,cn.terrainData)),vn.u_is_halo=0}Ch(un.buffers,cn.segments,p,O,un.program,Gt,ue,fe,un.uniformValues,cn.terrainData)}}function Ch(O,u,p,_,M,I,R,j,G,te){const ue=_.context;M.draw(ue,ue.gl.TRIANGLES,I,R,j,go.disabled,G,te,p.id,O.layoutVertexBuffer,O.indexBuffer,u,p.paint,_.transform.zoom,O.programConfigurations.get(p.id),O.dynamicLayoutVertexBuffer,O.opacityVertexBuffer)}function kd(O,u,p,_,M){if(!p||!_||!_.imageAtlas)return;const I=_.imageAtlas.patternPositions;let R=I[p.to.toString()],j=I[p.from.toString()];if(!R&&j&&(R=j),!j&&R&&(j=R),!R||!j){const G=M.getPaintProperty(u);R=I[G],j=I[G]}R&&j&&O.setConstantPatternPositions(R,j)}function hu(O,u,p,_,M,I,R){const j=O.context.gl,G="fill-pattern",te=p.paint.get(G),ue=te&&te.constantOr(1),fe=p.getCrossfadeParameters();let Ee,ze,Fe,Ge,je;R?(ze=ue&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ee=j.LINES):(ze=ue?"fillPattern":"fill",Ee=j.TRIANGLES);const ct=te.constantOr(null);for(const Ot of _){const Ye=u.getTile(Ot);if(ue&&!Ye.patternsLoaded())continue;const _t=Ye.getBucket(p);if(!_t)continue;const Gt=_t.programConfigurations.get(p.id),It=O.useProgram(ze,Gt),en=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ot);ue&&(O.context.activeTexture.set(j.TEXTURE0),Ye.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),Gt.updatePaintBuffers(fe)),kd(Gt,G,ct,Ye,p);const cn=en?Ot:null,un=O.translatePosMatrix(cn?cn.posMatrix:Ot.posMatrix,Ye,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(R){Ge=_t.indexBuffer2,je=_t.segments2;const vn=[j.drawingBufferWidth,j.drawingBufferHeight];Fe=ze==="fillOutlinePattern"&&ue?pl(un,O,fe,Ye,vn):xA(un,vn)}else Ge=_t.indexBuffer,je=_t.segments,Fe=ue?Gs(un,O,fe,Ye):Za(un);It.draw(O.context,Ee,M,O.stencilModeForClipping(Ot),I,go.disabled,Fe,en,p.id,_t.layoutVertexBuffer,Ge,je,p.paint,O.transform.zoom,Gt)}}function Fu(O,u,p,_,M,I,R){const j=O.context,G=j.gl,te="fill-extrusion-pattern",ue=p.paint.get(te),fe=ue.constantOr(1),Ee=p.getCrossfadeParameters(),ze=p.paint.get("fill-extrusion-opacity"),Fe=ue.constantOr(null);for(const Ge of _){const je=u.getTile(Ge),ct=je.getBucket(p);if(!ct)continue;const Ot=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ge),Ye=ct.programConfigurations.get(p.id),_t=O.useProgram(fe?"fillExtrusionPattern":"fillExtrusion",Ye);fe&&(O.context.activeTexture.set(G.TEXTURE0),je.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),Ye.updatePaintBuffers(Ee)),kd(Ye,te,Fe,je,p);const Gt=O.translatePosMatrix(Ge.posMatrix,je,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),It=p.paint.get("fill-extrusion-vertical-gradient"),en=fe?Ha(Gt,O,It,ze,Ge,Ee,je):Ns(Gt,O,It,ze);_t.draw(j,j.gl.TRIANGLES,M,I,R,go.backCCW,en,Ot,p.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,p.paint,O.transform.zoom,Ye,O.style.map.terrain&&ct.centroidVertexBuffer)}}function $c(O,u,p,_,M,I,R){const j=O.context,G=j.gl,te=p.fbo;if(!te)return;const ue=O.useProgram("hillshade"),fe=O.style.map.terrain&&O.style.map.terrain.getTerrainData(u);j.activeTexture.set(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,te.colorAttachment.get()),ue.draw(j,G.TRIANGLES,M,I,R,go.disabled,((Ee,ze,Fe,Ge)=>{const je=Fe.paint.get("hillshade-shadow-color"),ct=Fe.paint.get("hillshade-highlight-color"),Ot=Fe.paint.get("hillshade-accent-color");let Ye=Fe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Fe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ye-=Ee.transform.angle);const _t=!Ee.options.moving;return{u_matrix:Ge?Ge.posMatrix:Ee.transform.calculatePosMatrix(ze.tileID.toUnwrapped(),_t),u_image:0,u_latrange:Xa(0,ze.tileID),u_light:[Fe.paint.get("hillshade-exaggeration"),Ye],u_shadow:je,u_highlight:ct,u_accent:Ot}})(O,p,_,fe?u:null),fe,_.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments)}function kA(O,u,p,_,M,I){const R=O.context,j=R.gl,G=u.dem;if(G&&G.data){const te=G.dim,ue=G.stride,fe=G.getPixels();if(R.activeTexture.set(j.TEXTURE1),R.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||O.getTileTexture(ue),u.demTexture){const ze=u.demTexture;ze.update(fe,{premultiply:!1}),ze.bind(j.NEAREST,j.CLAMP_TO_EDGE)}else u.demTexture=new ft(R,fe,j.RGBA,{premultiply:!1}),u.demTexture.bind(j.NEAREST,j.CLAMP_TO_EDGE);R.activeTexture.set(j.TEXTURE0);let Ee=u.fbo;if(!Ee){const ze=new ft(R,{width:te,height:te,data:null},j.RGBA);ze.bind(j.LINEAR,j.CLAMP_TO_EDGE),Ee=u.fbo=R.createFramebuffer(te,te,!0,!1),Ee.colorAttachment.set(ze.texture)}R.bindFramebuffer.set(Ee.framebuffer),R.viewport.set([0,0,te,te]),O.useProgram("hillshadePrepare").draw(R,j.TRIANGLES,_,M,I,go.disabled,((ze,Fe)=>{const Ge=Fe.stride,je=a.F();return a.aN(je,0,a.W,-a.W,0,0,1),a.H(je,je,[0,-a.W,0]),{u_matrix:je,u_image:1,u_dimension:[Ge,Ge],u_zoom:ze.overscaledZ,u_unpack:Fe.getUnpackVector()}})(u.tileID,G),null,p.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function If(O,u,p,_,M,I){const R=_.paint.get("raster-fade-duration");if(!I&&R>0){const j=B.now(),G=(j-O.timeAdded)/R,te=u?(j-u.timeAdded)/R:-1,ue=p.getSource(),fe=M.coveringZoomLevel({tileSize:ue.tileSize,roundZoom:ue.roundZoom}),Ee=!u||Math.abs(u.tileID.overscaledZ-fe)>Math.abs(O.tileID.overscaledZ-fe),ze=Ee&&O.refreshedUponExpiration?1:a.ac(Ee?G:1-te,0,1);return O.refreshedUponExpiration&&G>=1&&(O.refreshedUponExpiration=!1),u?{opacity:1,mix:1-ze}:{opacity:ze,mix:0}}return{opacity:1,mix:0}}const Kp=new a.aO(1,0,0,1),Ac=new a.aO(0,1,0,1),Yc=new a.aO(0,0,1,1),Kl=new a.aO(1,0,1,1),gl=new a.aO(0,1,1,1);function Zo(O,u,p,_){ol(O,0,u+p/2,O.transform.width,p,_)}function rA(O,u,p,_){ol(O,u-p/2,0,p,O.transform.height,_)}function ol(O,u,p,_,M,I){const R=O.context,j=R.gl;j.enable(j.SCISSOR_TEST),j.scissor(u*O.pixelRatio,p*O.pixelRatio,_*O.pixelRatio,M*O.pixelRatio),R.clear({color:I}),j.disable(j.SCISSOR_TEST)}function IA(O,u,p){const _=O.context,M=_.gl,I=p.posMatrix,R=O.useProgram("debug"),j=Pi.disabled,G=wo.disabled,te=O.colorModeForRenderPass(),ue="$debug",fe=O.style.map.terrain&&O.style.map.terrain.getTerrainData(p);_.activeTexture.set(M.TEXTURE0);const Ee=u.getTileByID(p.key).latestRawTileData,ze=Math.floor((Ee&&Ee.byteLength||0)/1024),Fe=u.getTile(p).tileSize,Ge=512/Math.min(Fe,512)*(p.overscaledZ/O.transform.zoom)*.5;let je=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(je+=` => ${p.overscaledZ}`),function(ct,Ot){ct.initDebugOverlayCanvas();const Ye=ct.debugOverlayCanvas,_t=ct.context.gl,Gt=ct.debugOverlayCanvas.getContext("2d");Gt.clearRect(0,0,Ye.width,Ye.height),Gt.shadowColor="white",Gt.shadowBlur=2,Gt.lineWidth=1.5,Gt.strokeStyle="white",Gt.textBaseline="top",Gt.font="bold 36px Open Sans, sans-serif",Gt.fillText(Ot,5,5),Gt.strokeText(Ot,5,5),ct.debugOverlayTexture.update(Ye),ct.debugOverlayTexture.bind(_t.LINEAR,_t.CLAMP_TO_EDGE)}(O,`${je} ${ze}kB`),R.draw(_,M.TRIANGLES,j,G,sa.alphaBlended,go.disabled,MA(I,a.aO.transparent,Ge),null,ue,O.debugBuffer,O.quadTriangleIndexBuffer,O.debugSegments),R.draw(_,M.LINE_STRIP,j,G,te,go.disabled,MA(I,a.aO.red),fe,ue,O.debugBuffer,O.tileBorderIndexBuffer,O.debugSegments)}function yl(O,u,p){const _=O.context,M=_.gl,I=O.colorModeForRenderPass(),R=new Pi(M.LEQUAL,Pi.ReadWrite,O.depthRangeFor3D),j=O.useProgram("terrain"),G=u.getTerrainMesh();_.bindFramebuffer.set(null),_.viewport.set([0,0,O.width,O.height]);for(const te of p){const ue=O.renderToTexture.getTexture(te),fe=u.getTerrainData(te.tileID);_.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,ue.texture);const Ee={u_matrix:O.transform.calculatePosMatrix(te.tileID.toUnwrapped()),u_texture:0,u_ele_delta:u.getMeshFrameDelta(O.transform.zoom)};j.draw(_,M.TRIANGLES,R,wo.disabled,I,go.backCCW,Ee,fe,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}}class bh{constructor(u,p){this.context=new vh(u),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.F(),renderTime:0},this.setup(),this.numSublayers=Et.maxUnderzooming+Et.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Mn}resize(u,p,_){if(this.width=Math.floor(u*_),this.height=Math.floor(p*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const M of this.style._order)this.style._layers[M].resize()}setup(){const u=this.context,p=new a.aV;p.emplaceBack(0,0),p.emplaceBack(a.W,0),p.emplaceBack(0,a.W),p.emplaceBack(a.W,a.W),this.tileExtentBuffer=u.createVertexBuffer(p,ya.members),this.tileExtentSegments=a.$.simpleSegment(0,0,4,2);const _=new a.aV;_.emplaceBack(0,0),_.emplaceBack(a.W,0),_.emplaceBack(0,a.W),_.emplaceBack(a.W,a.W),this.debugBuffer=u.createVertexBuffer(_,ya.members),this.debugSegments=a.$.simpleSegment(0,0,4,5);const M=new a.Z;M.emplaceBack(0,0,0,0),M.emplaceBack(a.W,0,a.W,0),M.emplaceBack(0,a.W,0,a.W),M.emplaceBack(a.W,a.W,a.W,a.W),this.rasterBoundsBuffer=u.createVertexBuffer(M,Jn.members),this.rasterBoundsSegments=a.$.simpleSegment(0,0,4,2);const I=new a.aV;I.emplaceBack(0,0),I.emplaceBack(1,0),I.emplaceBack(0,1),I.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(I,ya.members),this.viewportSegments=a.$.simpleSegment(0,0,4,2);const R=new a.aW;R.emplaceBack(0),R.emplaceBack(1),R.emplaceBack(3),R.emplaceBack(2),R.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(R);const j=new a.aX;j.emplaceBack(0,1,2),j.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(j);const G=this.context.gl;this.stencilClearMode=new wo({func:G.ALWAYS,mask:0},0,255,G.ZERO,G.ZERO,G.ZERO)}clearStencil(){const u=this.context,p=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=a.F();a.aN(_,0,this.width,this.height,0,0,1),a.J(_,_,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,p.TRIANGLES,Pi.disabled,this.stencilClearMode,sa.disabled,go.disabled,tA(_),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,p){if(this.currentStencilSource===u.source||!u.isTileClipped()||!p||!p.length)return;this.currentStencilSource=u.source;const _=this.context,M=_.gl;this.nextStencilID+p.length>256&&this.clearStencil(),_.setColorMode(sa.disabled),_.setDepthMode(Pi.disabled);const I=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of p){const j=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,G=this.style.map.terrain&&this.style.map.terrain.getTerrainData(R);I.draw(_,M.TRIANGLES,Pi.disabled,new wo({func:M.ALWAYS,mask:0},j,255,M.KEEP,M.KEEP,M.REPLACE),sa.disabled,go.disabled,tA(R.posMatrix),G,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,p=this.context.gl;return new wo({func:p.NOTEQUAL,mask:255},u,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(u){const p=this.context.gl;return new wo({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(u){const p=this.context.gl,_=u.sort((R,j)=>j.overscaledZ-R.overscaledZ),M=_[_.length-1].overscaledZ,I=_[0].overscaledZ-M+1;if(I>1){this.currentStencilSource=void 0,this.nextStencilID+I>256&&this.clearStencil();const R={};for(let j=0;j<I;j++)R[j+M]=new wo({func:p.GEQUAL,mask:255},j+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=I,[R,_]}return[{[M]:wo.disabled},_]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new sa([u.CONSTANT_COLOR,u.ONE],new a.aO(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?sa.unblended:sa.alphaBlended}depthModeForSublayer(u,p,_){if(!this.opaquePassEnabledForLayer())return Pi.disabled;const M=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Pi(_||this.context.gl.LEQUAL,p,[M,M])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,p){this.style=u,this.options=p,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(B.now()),this.imageManager.beginFrame();const _=this.style._order,M=this.style.sourceCaches,I={},R={},j={};for(const G in M){const te=M[G];te.used&&te.prepare(this.context),I[G]=te.getVisibleCoordinates(),R[G]=I[G].slice().reverse(),j[G]=te.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let G=0;G<_.length;G++)if(this.style._layers[_[G]].is3D()){this.opaquePassCutoff=G;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const G=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.aY(this.terrainFacilitator.matrix,this.transform.projMatrix)||G.length)&&(a.aZ(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(te,ue){const fe=te.context,Ee=fe.gl,ze=sa.unblended,Fe=new Pi(Ee.LEQUAL,Pi.ReadWrite,[0,1]),Ge=ue.getTerrainMesh(),je=ue.sourceCache.getRenderableTiles(),ct=te.useProgram("terrainDepth");fe.bindFramebuffer.set(ue.getFramebuffer("depth").framebuffer),fe.viewport.set([0,0,te.width/devicePixelRatio,te.height/devicePixelRatio]),fe.clear({color:a.aO.transparent,depth:1});for(const Ot of je){const Ye=ue.getTerrainData(Ot.tileID),_t={u_matrix:te.transform.calculatePosMatrix(Ot.tileID.toUnwrapped()),u_ele_delta:ue.getMeshFrameDelta(te.transform.zoom)};ct.draw(fe,Ee.TRIANGLES,Fe,wo.disabled,ze,go.backCCW,_t,Ye,"terrain",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)}fe.bindFramebuffer.set(null),fe.viewport.set([0,0,te.width,te.height])}(this,this.style.map.terrain),function(te,ue){const fe=te.context,Ee=fe.gl,ze=sa.unblended,Fe=new Pi(Ee.LEQUAL,Pi.ReadWrite,[0,1]),Ge=ue.getTerrainMesh(),je=ue.getCoordsTexture(),ct=ue.sourceCache.getRenderableTiles(),Ot=te.useProgram("terrainCoords");fe.bindFramebuffer.set(ue.getFramebuffer("coords").framebuffer),fe.viewport.set([0,0,te.width/devicePixelRatio,te.height/devicePixelRatio]),fe.clear({color:a.aO.transparent,depth:1}),ue.coordsIndex=[];for(const Ye of ct){const _t=ue.getTerrainData(Ye.tileID);fe.activeTexture.set(Ee.TEXTURE0),Ee.bindTexture(Ee.TEXTURE_2D,je.texture);const Gt={u_matrix:te.transform.calculatePosMatrix(Ye.tileID.toUnwrapped()),u_terrain_coords_id:(255-ue.coordsIndex.length)/255,u_texture:0,u_ele_delta:ue.getMeshFrameDelta(te.transform.zoom)};Ot.draw(fe,Ee.TRIANGLES,Fe,wo.disabled,ze,go.backCCW,Gt,_t,"terrain",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments),ue.coordsIndex.push(Ye.tileID.key)}fe.bindFramebuffer.set(null),fe.viewport.set([0,0,te.width,te.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const G of _){const te=this.style._layers[G];if(!te.hasOffscreenPass()||te.isHidden(this.transform.zoom))continue;const ue=R[te.source];(te.type==="custom"||ue.length)&&this.renderLayer(this,M[te.source],te,ue)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.aO.black:a.aO.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const G=this.style._layers[_[this.currentLayer]],te=M[G.source],ue=I[G.source];this._renderTileClippingMasks(G,ue),this.renderLayer(this,te,G,ue)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const G=this.style._layers[_[this.currentLayer]],te=M[G.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(G))continue;const ue=(G.type==="symbol"?j:R)[G.source];this._renderTileClippingMasks(G,I[G.source]),this.renderLayer(this,te,G,ue)}if(this.options.showTileBoundaries){const G=function(te,ue){let fe=null;const Ee=Object.values(te._layers).flatMap(je=>je.source&&!je.isHidden(ue)?[te.sourceCaches[je.source]]:[]),ze=Ee.filter(je=>je.getSource().type==="vector"),Fe=Ee.filter(je=>je.getSource().type!=="vector"),Ge=je=>{(!fe||fe.getSource().maxzoom<je.getSource().maxzoom)&&(fe=je)};return ze.forEach(je=>Ge(je)),fe||Fe.forEach(je=>Ge(je)),fe}(this.style,this.transform.zoom);G&&function(te,ue,fe){for(let Ee=0;Ee<fe.length;Ee++)IA(te,ue,fe[Ee])}(this,G,G.getVisibleCoordinates())}this.options.showPadding&&function(G){const te=G.transform.padding;Zo(G,G.transform.height-(te.top||0),3,Kp),Zo(G,te.bottom||0,3,Ac),rA(G,te.left||0,3,Yc),rA(G,G.transform.width-(te.right||0),3,Kl);const ue=G.transform.centerPoint;(function(fe,Ee,ze,Fe){ol(fe,Ee-1,ze-10,2,20,Fe),ol(fe,Ee-10,ze-1,20,2,Fe)})(G,ue.x,G.transform.height-ue.y,gl)}(this),this.context.setDefault()}renderLayer(u,p,_,M){if(!_.isHidden(this.transform.zoom)&&(_.type==="background"||_.type==="custom"||(M||[]).length))switch(this.id=_.id,_.type){case"symbol":(function(I,R,j,G,te){if(I.renderPass!=="translucent")return;const ue=wo.disabled,fe=I.colorModeForRenderPass();(j._unevaluatedLayout.hasValue("text-variable-anchor")||j._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Ee,ze,Fe,Ge,je,ct,Ot){const Ye=ze.transform,_t=je==="map",Gt=ct==="map";for(const It of Ee){const en=Ge.getTile(It),cn=en.getBucket(Fe);if(!cn||!cn.text||!cn.text.segments.get().length)continue;const un=a.ag(cn.textSizeData,Ye.zoom),vn=or(en,1,ze.transform.zoom),er=Tt(It.posMatrix,Gt,_t,ze.transform,vn),kr=Fe.layout.get("icon-text-fit")!=="none"&&cn.hasIconData();if(un){const In=Math.pow(2,Ye.zoom-en.tileID.overscaledZ);Yl(cn,_t,Gt,Ot,Ye,er,It.posMatrix,In,un,kr,ze.style.map.terrain?(Cr,Zn)=>ze.style.map.terrain.getElevation(It,Cr,Zn):null)}}}(G,I,j,R,j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),te),j.paint.get("icon-opacity").constantOr(1)!==0&&BA(I,R,j,G,!1,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),j.layout.get("icon-rotation-alignment"),j.layout.get("icon-pitch-alignment"),j.layout.get("icon-keep-upright"),ue,fe),j.paint.get("text-opacity").constantOr(1)!==0&&BA(I,R,j,G,!0,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),j.layout.get("text-keep-upright"),ue,fe),R.map.showCollisionBoxes&&(Qc(I,R,j,G,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),!0),Qc(I,R,j,G,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),!1))})(u,p,_,M,this.style.placement.variableOffsets);break;case"circle":(function(I,R,j,G){if(I.renderPass!=="translucent")return;const te=j.paint.get("circle-opacity"),ue=j.paint.get("circle-stroke-width"),fe=j.paint.get("circle-stroke-opacity"),Ee=!j.layout.get("circle-sort-key").isConstant();if(te.constantOr(1)===0&&(ue.constantOr(1)===0||fe.constantOr(1)===0))return;const ze=I.context,Fe=ze.gl,Ge=I.depthModeForSublayer(0,Pi.ReadOnly),je=wo.disabled,ct=I.colorModeForRenderPass(),Ot=[];for(let Ye=0;Ye<G.length;Ye++){const _t=G[Ye],Gt=R.getTile(_t),It=Gt.getBucket(j);if(!It)continue;const en=It.programConfigurations.get(j.id),cn=I.useProgram("circle",en),un=It.layoutVertexBuffer,vn=It.indexBuffer,er=I.style.map.terrain&&I.style.map.terrain.getTerrainData(_t),kr={programConfiguration:en,program:cn,layoutVertexBuffer:un,indexBuffer:vn,uniformValues:ic(I,_t,Gt,j),terrainData:er};if(Ee){const In=It.segments.get();for(const Cr of In)Ot.push({segments:new a.$([Cr]),sortKey:Cr.sortKey,state:kr})}else Ot.push({segments:It.segments,sortKey:0,state:kr})}Ee&&Ot.sort((Ye,_t)=>Ye.sortKey-_t.sortKey);for(const Ye of Ot){const{programConfiguration:_t,program:Gt,layoutVertexBuffer:It,indexBuffer:en,uniformValues:cn,terrainData:un}=Ye.state;Gt.draw(ze,Fe.TRIANGLES,Ge,je,ct,go.disabled,cn,un,j.id,It,en,Ye.segments,j.paint,I.transform.zoom,_t)}})(u,p,_,M);break;case"heatmap":(function(I,R,j,G){if(j.paint.get("heatmap-opacity")!==0)if(I.renderPass==="offscreen"){const te=I.context,ue=te.gl,fe=wo.disabled,Ee=new sa([ue.ONE,ue.ONE],a.aO.transparent,[!0,!0,!0,!0]);(function(ze,Fe,Ge){const je=ze.gl;ze.activeTexture.set(je.TEXTURE1),ze.viewport.set([0,0,Fe.width/4,Fe.height/4]);let ct=Ge.heatmapFbo;if(ct)je.bindTexture(je.TEXTURE_2D,ct.colorAttachment.get()),ze.bindFramebuffer.set(ct.framebuffer);else{const Ot=je.createTexture();je.bindTexture(je.TEXTURE_2D,Ot),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_WRAP_S,je.CLAMP_TO_EDGE),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_WRAP_T,je.CLAMP_TO_EDGE),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_MIN_FILTER,je.LINEAR),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_MAG_FILTER,je.LINEAR),ct=Ge.heatmapFbo=ze.createFramebuffer(Fe.width/4,Fe.height/4,!1,!1),function(Ye,_t,Gt,It){var en,cn;const un=Ye.gl,vn=(en=Ye.HALF_FLOAT)!==null&&en!==void 0?en:un.UNSIGNED_BYTE,er=(cn=Ye.RGBA16F)!==null&&cn!==void 0?cn:un.RGBA;un.texImage2D(un.TEXTURE_2D,0,er,_t.width/4,_t.height/4,0,un.RGBA,vn,null),It.colorAttachment.set(Gt)}(ze,Fe,Ot,ct)}})(te,I,j),te.clear({color:a.aO.transparent});for(let ze=0;ze<G.length;ze++){const Fe=G[ze];if(R.hasRenderableParent(Fe))continue;const Ge=R.getTile(Fe),je=Ge.getBucket(j);if(!je)continue;const ct=je.programConfigurations.get(j.id),Ot=I.useProgram("heatmap",ct),{zoom:Ye}=I.transform;Ot.draw(te,ue.TRIANGLES,Pi.disabled,fe,Ee,go.disabled,oc(Fe.posMatrix,Ge,Ye,j.paint.get("heatmap-intensity")),null,j.id,je.layoutVertexBuffer,je.indexBuffer,je.segments,j.paint,I.transform.zoom,ct)}te.viewport.set([0,0,I.width,I.height])}else I.renderPass==="translucent"&&(I.context.setColorMode(I.colorModeForRenderPass()),function(te,ue){const fe=te.context,Ee=fe.gl,ze=ue.heatmapFbo;if(!ze)return;fe.activeTexture.set(Ee.TEXTURE0),Ee.bindTexture(Ee.TEXTURE_2D,ze.colorAttachment.get()),fe.activeTexture.set(Ee.TEXTURE1);let Fe=ue.colorRampTexture;Fe||(Fe=ue.colorRampTexture=new ft(fe,ue.colorRamp,Ee.RGBA)),Fe.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE),te.useProgram("heatmapTexture").draw(fe,Ee.TRIANGLES,Pi.disabled,wo.disabled,te.colorModeForRenderPass(),go.disabled,((Ge,je,ct,Ot)=>{const Ye=a.F();a.aN(Ye,0,Ge.width,Ge.height,0,0,1);const _t=Ge.context.gl;return{u_matrix:Ye,u_world:[_t.drawingBufferWidth,_t.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:je.paint.get("heatmap-opacity")}})(te,ue),null,ue.id,te.viewportBuffer,te.quadTriangleIndexBuffer,te.viewportSegments,ue.paint,te.transform.zoom)}(I,j))})(u,p,_,M);break;case"line":(function(I,R,j,G){if(I.renderPass!=="translucent")return;const te=j.paint.get("line-opacity"),ue=j.paint.get("line-width");if(te.constantOr(1)===0||ue.constantOr(1)===0)return;const fe=I.depthModeForSublayer(0,Pi.ReadOnly),Ee=I.colorModeForRenderPass(),ze=j.paint.get("line-dasharray"),Fe=j.paint.get("line-pattern"),Ge=Fe.constantOr(1),je=j.paint.get("line-gradient"),ct=j.getCrossfadeParameters(),Ot=Ge?"linePattern":ze?"lineSDF":je?"lineGradient":"line",Ye=I.context,_t=Ye.gl;let Gt=!0;for(const It of G){const en=R.getTile(It);if(Ge&&!en.patternsLoaded())continue;const cn=en.getBucket(j);if(!cn)continue;const un=cn.programConfigurations.get(j.id),vn=I.context.program.get(),er=I.useProgram(Ot,un),kr=Gt||er.program!==vn,In=I.style.map.terrain&&I.style.map.terrain.getTerrainData(It),Cr=Fe.constantOr(null);if(Cr&&en.imageAtlas){const bi=en.imageAtlas,Hr=bi.patternPositions[Cr.to.toString()],gi=bi.patternPositions[Cr.from.toString()];Hr&&gi&&un.setConstantPatternPositions(Hr,gi)}const Zn=In?It:null,zi=Ge?ml(I,en,j,ct,Zn):ze?Il(I,en,j,ze,ct,Zn):je?SA(I,en,j,cn.lineClipsArray.length,Zn):Es(I,en,j,Zn);if(Ge)Ye.activeTexture.set(_t.TEXTURE0),en.imageAtlasTexture.bind(_t.LINEAR,_t.CLAMP_TO_EDGE),un.updatePaintBuffers(ct);else if(ze&&(kr||I.lineAtlas.dirty))Ye.activeTexture.set(_t.TEXTURE0),I.lineAtlas.bind(Ye);else if(je){const bi=cn.gradients[j.id];let Hr=bi.texture;if(j.gradientVersion!==bi.version){let gi=256;if(j.stepInterpolant){const $o=R.getSource().maxzoom,Fi=It.canonical.z===$o?Math.ceil(1<<I.transform.maxZoom-It.canonical.z):1;gi=a.ac(a.aT(cn.maxLineLength/a.W*1024*Fi),256,Ye.maxTextureSize)}bi.gradient=a.aU({expression:j.gradientExpression(),evaluationKey:"lineProgress",resolution:gi,image:bi.gradient||void 0,clips:cn.lineClipsArray}),bi.texture?bi.texture.update(bi.gradient):bi.texture=new ft(Ye,bi.gradient,_t.RGBA),bi.version=j.gradientVersion,Hr=bi.texture}Ye.activeTexture.set(_t.TEXTURE0),Hr.bind(j.stepInterpolant?_t.NEAREST:_t.LINEAR,_t.CLAMP_TO_EDGE)}er.draw(Ye,_t.TRIANGLES,fe,I.stencilModeForClipping(It),Ee,go.disabled,zi,In,j.id,cn.layoutVertexBuffer,cn.indexBuffer,cn.segments,j.paint,I.transform.zoom,un,cn.layoutVertexBuffer2),Gt=!1}})(u,p,_,M);break;case"fill":(function(I,R,j,G){const te=j.paint.get("fill-color"),ue=j.paint.get("fill-opacity");if(ue.constantOr(1)===0)return;const fe=I.colorModeForRenderPass(),Ee=j.paint.get("fill-pattern"),ze=I.opaquePassEnabledForLayer()&&!Ee.constantOr(1)&&te.constantOr(a.aO.transparent).a===1&&ue.constantOr(0)===1?"opaque":"translucent";if(I.renderPass===ze){const Fe=I.depthModeForSublayer(1,I.renderPass==="opaque"?Pi.ReadWrite:Pi.ReadOnly);hu(I,R,j,G,Fe,fe,!1)}if(I.renderPass==="translucent"&&j.paint.get("fill-antialias")){const Fe=I.depthModeForSublayer(j.getPaintProperty("fill-outline-color")?2:0,Pi.ReadOnly);hu(I,R,j,G,Fe,fe,!0)}})(u,p,_,M);break;case"fill-extrusion":(function(I,R,j,G){const te=j.paint.get("fill-extrusion-opacity");if(te!==0&&I.renderPass==="translucent"){const ue=new Pi(I.context.gl.LEQUAL,Pi.ReadWrite,I.depthRangeFor3D);if(te!==1||j.paint.get("fill-extrusion-pattern").constantOr(1))Fu(I,R,j,G,ue,wo.disabled,sa.disabled),Fu(I,R,j,G,ue,I.stencilModeFor3D(),I.colorModeForRenderPass());else{const fe=I.colorModeForRenderPass();Fu(I,R,j,G,ue,wo.disabled,fe)}}})(u,p,_,M);break;case"hillshade":(function(I,R,j,G){if(I.renderPass!=="offscreen"&&I.renderPass!=="translucent")return;const te=I.context,ue=I.depthModeForSublayer(0,Pi.ReadOnly),fe=I.colorModeForRenderPass(),[Ee,ze]=I.renderPass==="translucent"?I.stencilConfigForOverlap(G):[{},G];for(const Fe of ze){const Ge=R.getTile(Fe);Ge.needsHillshadePrepare!==void 0&&Ge.needsHillshadePrepare&&I.renderPass==="offscreen"?kA(I,Ge,j,ue,wo.disabled,fe):I.renderPass==="translucent"&&$c(I,Fe,Ge,j,ue,Ee[Fe.overscaledZ],fe)}te.viewport.set([0,0,I.width,I.height])})(u,p,_,M);break;case"raster":(function(I,R,j,G){if(I.renderPass!=="translucent"||j.paint.get("raster-opacity")===0||!G.length)return;const te=I.context,ue=te.gl,fe=R.getSource(),Ee=I.useProgram("raster"),ze=I.colorModeForRenderPass(),[Fe,Ge]=fe instanceof mr?[{},G]:I.stencilConfigForOverlap(G),je=Ge[Ge.length-1].overscaledZ,ct=!I.options.moving;for(const Ot of Ge){const Ye=I.depthModeForSublayer(Ot.overscaledZ-je,j.paint.get("raster-opacity")===1?Pi.ReadWrite:Pi.ReadOnly,ue.LESS),_t=R.getTile(Ot);_t.registerFadeDuration(j.paint.get("raster-fade-duration"));const Gt=R.findLoadedParent(Ot,0),It=If(_t,Gt,R,j,I.transform,I.style.map.terrain);let en,cn;const un=j.paint.get("raster-resampling")==="nearest"?ue.NEAREST:ue.LINEAR;te.activeTexture.set(ue.TEXTURE0),_t.texture.bind(un,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),te.activeTexture.set(ue.TEXTURE1),Gt?(Gt.texture.bind(un,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),en=Math.pow(2,Gt.tileID.overscaledZ-_t.tileID.overscaledZ),cn=[_t.tileID.canonical.x*en%1,_t.tileID.canonical.y*en%1]):_t.texture.bind(un,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST);const vn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ot),er=vn?Ot:null,kr=er?er.posMatrix:I.transform.calculatePosMatrix(Ot.toUnwrapped(),ct),In=uu(kr,cn||[0,0],en||1,It,j);fe instanceof mr?Ee.draw(te,ue.TRIANGLES,Ye,wo.disabled,ze,go.disabled,In,vn,j.id,fe.boundsBuffer,I.quadTriangleIndexBuffer,fe.boundsSegments):Ee.draw(te,ue.TRIANGLES,Ye,Fe[Ot.overscaledZ],ze,go.disabled,In,vn,j.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}})(u,p,_,M);break;case"background":(function(I,R,j,G){const te=j.paint.get("background-color"),ue=j.paint.get("background-opacity");if(ue===0)return;const fe=I.context,Ee=fe.gl,ze=I.transform,Fe=ze.tileSize,Ge=j.paint.get("background-pattern");if(I.isPatternMissing(Ge))return;const je=!Ge&&te.a===1&&ue===1&&I.opaquePassEnabledForLayer()?"opaque":"translucent";if(I.renderPass!==je)return;const ct=wo.disabled,Ot=I.depthModeForSublayer(0,je==="opaque"?Pi.ReadWrite:Pi.ReadOnly),Ye=I.colorModeForRenderPass(),_t=I.useProgram(Ge?"backgroundPattern":"background"),Gt=G||ze.coveringTiles({tileSize:Fe,terrain:I.style.map.terrain});Ge&&(fe.activeTexture.set(Ee.TEXTURE0),I.imageManager.bind(I.context));const It=j.getCrossfadeParameters();for(const en of Gt){const cn=G?en.posMatrix:I.transform.calculatePosMatrix(en.toUnwrapped()),un=Ge?mo(cn,ue,I,Ge,{tileID:en,tileSize:Fe},It):ac(cn,ue,te),vn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(en);_t.draw(fe,Ee.TRIANGLES,Ot,ct,Ye,go.disabled,un,vn,j.id,I.tileExtentBuffer,I.quadTriangleIndexBuffer,I.tileExtentSegments)}})(u,0,_,M);break;case"custom":(function(I,R,j){const G=I.context,te=j.implementation;if(I.renderPass==="offscreen"){const ue=te.prerender;ue&&(I.setCustomLayerDefaults(),G.setColorMode(I.colorModeForRenderPass()),ue.call(te,G.gl,I.transform.customLayerMatrix()),G.setDirty(),I.setBaseState())}else if(I.renderPass==="translucent"){I.setCustomLayerDefaults(),G.setColorMode(I.colorModeForRenderPass()),G.setStencilMode(wo.disabled);const ue=te.renderingMode==="3d"?new Pi(I.context.gl.LEQUAL,Pi.ReadWrite,I.depthRangeFor3D):I.depthModeForSublayer(0,Pi.ReadOnly);G.setDepthMode(ue),te.render(G.gl,I.transform.customLayerMatrix()),G.setDirty(),I.setBaseState(),G.bindFramebuffer.set(null)}})(u,0,_)}}translatePosMatrix(u,p,_,M,I){if(!_[0]&&!_[1])return u;const R=I?M==="map"?this.transform.angle:0:M==="viewport"?-this.transform.angle:0;if(R){const te=Math.sin(R),ue=Math.cos(R);_=[_[0]*ue-_[1]*te,_[0]*te+_[1]*ue]}const j=[I?_[0]:or(p,_[0],this.transform.zoom),I?_[1]:or(p,_[1],this.transform.zoom),0],G=new Float32Array(16);return a.H(G,u,j),G}saveTileTexture(u){const p=this._tileTextures[u.size[0]];p?p.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const p=this._tileTextures[u];return p&&p.length>0?p.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const p=this.imageManager.getPattern(u.from.toString()),_=this.imageManager.getPattern(u.to.toString());return!p||!_}useProgram(u,p){this.cache=this.cache||{};const _=u+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[_]||(this.cache[_]=new xa(this.context,Br[u],p,Ao[u],this._showOverdrawInspector,this.style.map.terrain)),this.cache[_]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ft(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:u,drawingBufferHeight:p}=this.context.gl;return this.width!==u||this.height!==p}}class iA{constructor(u,p){this.points=u,this.planes=p}static fromInvProjectionMatrix(u,p,_){const M=Math.pow(2,_),I=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>{const G=1/(j=a.af([],j,u))[3]/p*M;return a.a_(j,j,[G,G,1/j[3],G])}),R=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(j=>{const G=function(Ee,ze){var Fe=ze[0],Ge=ze[1],je=ze[2],ct=Fe*Fe+Ge*Ge+je*je;return ct>0&&(ct=1/Math.sqrt(ct)),Ee[0]=ze[0]*ct,Ee[1]=ze[1]*ct,Ee[2]=ze[2]*ct,Ee}([],function(Ee,ze,Fe){var Ge=ze[0],je=ze[1],ct=ze[2],Ot=Fe[0],Ye=Fe[1],_t=Fe[2];return Ee[0]=je*_t-ct*Ye,Ee[1]=ct*Ot-Ge*_t,Ee[2]=Ge*Ye-je*Ot,Ee}([],De([],I[j[0]],I[j[1]]),De([],I[j[2]],I[j[1]]))),te=-((ue=G)[0]*(fe=I[j[1]])[0]+ue[1]*fe[1]+ue[2]*fe[2]);var ue,fe;return G.concat(te)});return new iA(I,R)}}class ql{constructor(u,p){this.min=u,this.max=p,this.center=function(_,M,I){return _[0]=.5*M[0],_[1]=.5*M[1],_[2]=.5*M[2],_}([],function(_,M,I){return _[0]=M[0]+I[0],_[1]=M[1]+I[1],_[2]=M[2]+I[2],_}([],this.min,this.max))}quadrant(u){const p=[u%2==0,u<2],_=se(this.min),M=se(this.max);for(let I=0;I<p.length;I++)_[I]=p[I]?this.min[I]:this.center[I],M[I]=p[I]?this.center[I]:this.max[I];return M[2]=this.max[2],new ql(_,M)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersects(u){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let _=!0;for(let M=0;M<u.planes.length;M++){const I=u.planes[M];let R=0;for(let j=0;j<p.length;j++)a.a$(I,p[j])>=0&&R++;if(R===0)return 0;R!==p.length&&(_=!1)}if(_)return 2;for(let M=0;M<3;M++){let I=Number.MAX_VALUE,R=-Number.MAX_VALUE;for(let j=0;j<u.points.length;j++){const G=u.points[j][M]-this.min[M];I=Math.min(I,G),R=Math.max(R,G)}if(R<0||I>this.max[M]-this.min[M])return 0}return 1}}class cc{constructor(u=0,p=0,_=0,M=0){if(isNaN(u)||u<0||isNaN(p)||p<0||isNaN(_)||_<0||isNaN(M)||M<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=p,this.left=_,this.right=M}interpolate(u,p,_){return p.top!=null&&u.top!=null&&(this.top=a.z.number(u.top,p.top,_)),p.bottom!=null&&u.bottom!=null&&(this.bottom=a.z.number(u.bottom,p.bottom,_)),p.left!=null&&u.left!=null&&(this.left=a.z.number(u.left,p.left,_)),p.right!=null&&u.right!=null&&(this.right=a.z.number(u.right,p.right,_)),this}getCenter(u,p){const _=a.ac((this.left+u-this.right)/2,0,u),M=a.ac((this.top+p-this.bottom)/2,0,p);return new a.P(_,M)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new cc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Id{constructor(u,p,_,M,I){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=I===void 0||!!I,this._minZoom=u||0,this._maxZoom=p||22,this._minPitch=_??0,this._maxPitch=M??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new cc,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const u=new Id(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.apply(this),u}apply(u){this.tileSize=u.tileSize,this.latRange=u.latRange,this.width=u.width,this.height=u.height,this._center=u._center,this._elevation=u._elevation,this.minElevationForCurrentTile=u.minElevationForCurrentTile,this.zoom=u.zoom,this.angle=u.angle,this._fov=u._fov,this._pitch=u._pitch,this._unmodified=u._unmodified,this._edgeInsets=u._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(u){const p=-a.b0(u,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var _=new a.A(4);return a.A!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}(),function(_,M,I){var R=M[0],j=M[1],G=M[2],te=M[3],ue=Math.sin(I),fe=Math.cos(I);_[0]=R*fe+G*ue,_[1]=j*fe+te*ue,_[2]=R*-ue+G*fe,_[3]=j*-ue+te*fe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const p=a.ac(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(u){const p=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(u){u!==this._elevation&&(this._elevation=u,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,p,_){this._unmodified=!1,this._edgeInsets.interpolate(u,p,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const p=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(u){const p=[new a.b1(0,u)];if(this._renderWorldCopies){const _=this.pointCoordinate(new a.P(0,0)),M=this.pointCoordinate(new a.P(this.width,0)),I=this.pointCoordinate(new a.P(this.width,this.height)),R=this.pointCoordinate(new a.P(0,this.height)),j=Math.floor(Math.min(_.x,M.x,I.x,R.x)),G=Math.floor(Math.max(_.x,M.x,I.x,R.x)),te=1;for(let ue=j-te;ue<=G+te;ue++)ue!==0&&p.push(new a.b1(ue,u))}return p}coveringTiles(u){var p,_;let M=this.coveringZoomLevel(u);const I=M;if(u.minzoom!==void 0&&M<u.minzoom)return[];u.maxzoom!==void 0&&M>u.maxzoom&&(M=u.maxzoom);const R=this.pointCoordinate(this.getCameraPoint()),j=a.Y.fromLngLat(this.center),G=Math.pow(2,M),te=[G*R.x,G*R.y,0],ue=[G*j.x,G*j.y,0],fe=iA.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,M);let Ee=u.minzoom||0;!u.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Ee=M);const ze=u.terrain?2/Math.min(this.tileSize,u.tileSize)*this.tileSize:3,Fe=Ye=>({aabb:new ql([Ye*G,0,0],[(Ye+1)*G,G,0]),zoom:0,x:0,y:0,wrap:Ye,fullyVisible:!1}),Ge=[],je=[],ct=M,Ot=u.reparseOverscaled?I:M;if(this._renderWorldCopies)for(let Ye=1;Ye<=3;Ye++)Ge.push(Fe(-Ye)),Ge.push(Fe(Ye));for(Ge.push(Fe(0));Ge.length>0;){const Ye=Ge.pop(),_t=Ye.x,Gt=Ye.y;let It=Ye.fullyVisible;if(!It){const er=Ye.aabb.intersects(fe);if(er===0)continue;It=er===2}const en=u.terrain?te:ue,cn=Ye.aabb.distanceX(en),un=Ye.aabb.distanceY(en),vn=Math.max(Math.abs(cn),Math.abs(un));if(Ye.zoom===ct||vn>ze+(1<<ct-Ye.zoom)-2&&Ye.zoom>=Ee){const er=ct-Ye.zoom,kr=te[0]-.5-(_t<<er),In=te[1]-.5-(Gt<<er);je.push({tileID:new a.Q(Ye.zoom===ct?Ot:Ye.zoom,Ye.wrap,Ye.zoom,_t,Gt),distanceSq:Ne([ue[0]-.5-_t,ue[1]-.5-Gt]),tileDistanceToCamera:Math.sqrt(kr*kr+In*In)})}else for(let er=0;er<4;er++){const kr=(_t<<1)+er%2,In=(Gt<<1)+(er>>1),Cr=Ye.zoom+1;let Zn=Ye.aabb.quadrant(er);if(u.terrain){const zi=new a.Q(Cr,Ye.wrap,Cr,kr,In),bi=u.terrain.getMinMaxElevation(zi),Hr=(p=bi.minElevation)!==null&&p!==void 0?p:this.elevation,gi=(_=bi.maxElevation)!==null&&_!==void 0?_:this.elevation;Zn=new ql([Zn.min[0],Zn.min[1],Hr],[Zn.max[0],Zn.max[1],gi])}Ge.push({aabb:Zn,zoom:Cr,x:kr,y:In,wrap:Ye.wrap,fullyVisible:It})}}return je.sort((Ye,_t)=>Ye.distanceSq-_t.distanceSq).map(Ye=>Ye.tileID)}resize(u,p){this.width=u,this.height=p,this.pixelsToGLUnits=[2/u,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const p=a.ac(u.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.P(a.N(u.lng)*this.worldSize,a.O(p)*this.worldSize)}unproject(u){return new a.Y(u.x/this.worldSize,u.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(u){const p=this.pointLocation(this.centerPoint,u),_=u.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-_))return;const M=this.getCameraPosition(),I=a.Y.fromLngLat(M.lngLat,M.altitude),R=a.Y.fromLngLat(p,_),j=I.x-R.x,G=I.y-R.y,te=I.z-R.z,ue=Math.sqrt(j*j+G*G+te*te),fe=this.scaleZoom(this.cameraToCenterDistance/ue/this.tileSize);this._elevation=_,this._center=p,this.zoom=fe}setLocationAtPoint(u,p){const _=this.pointCoordinate(p),M=this.pointCoordinate(this.centerPoint),I=this.locationCoordinate(u),R=new a.Y(I.x-(_.x-M.x),I.y-(_.y-M.y));this.center=this.coordinateLocation(R),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(u,p){return p?this.coordinatePoint(this.locationCoordinate(u),p.getElevationForLngLatZoom(u,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(u))}pointLocation(u,p){return this.coordinateLocation(this.pointCoordinate(u,p))}locationCoordinate(u){return a.Y.fromLngLat(u)}coordinateLocation(u){return u&&u.toLngLat()}pointCoordinate(u,p){if(p){const Ee=p.pointCoordinate(u);if(Ee!=null)return Ee}const _=[u.x,u.y,0,1],M=[u.x,u.y,1,1];a.af(_,_,this.pixelMatrixInverse),a.af(M,M,this.pixelMatrixInverse);const I=_[3],R=M[3],j=_[1]/I,G=M[1]/R,te=_[2]/I,ue=M[2]/R,fe=te===ue?0:(0-te)/(ue-te);return new a.Y(a.z.number(_[0]/I,M[0]/R,fe)/this.worldSize,a.z.number(j,G,fe)/this.worldSize)}coordinatePoint(u,p=0,_=this.pixelMatrix){const M=[u.x*this.worldSize,u.y*this.worldSize,p,1];return a.af(M,M,_),new a.P(M[0]/M[3],M[1]/M[3])}getBounds(){const u=Math.max(0,this.height/2-this.getHorizon());return new Ft().extend(this.pointLocation(new a.P(0,u))).extend(this.pointLocation(new a.P(this.width,u))).extend(this.pointLocation(new a.P(this.width,this.height))).extend(this.pointLocation(new a.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Ft([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(u,p=!1){const _=u.key,M=p?this._alignedPosMatrixCache:this._posMatrixCache;if(M[_])return M[_];const I=u.canonical,R=this.worldSize/this.zoomScale(I.z),j=I.x+Math.pow(2,I.z)*u.wrap,G=a.an(new Float64Array(16));return a.H(G,G,[j*R,I.y*R,0]),a.J(G,G,[R/a.W,R/a.W,1]),a.K(G,p?this.alignedProjMatrix:this.projMatrix,G),M[_]=new Float32Array(G),M[_]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let u,p,_,M,I=-90,R=90,j=-180,G=180;const te=this.size,ue=this._unmodified;if(this.latRange){const ze=this.latRange;I=a.O(ze[1])*this.worldSize,R=a.O(ze[0])*this.worldSize,u=R-I<te.y?te.y/(R-I):0}if(this.lngRange){const ze=this.lngRange;j=a.b0(a.N(ze[0])*this.worldSize,0,this.worldSize),G=a.b0(a.N(ze[1])*this.worldSize,0,this.worldSize),G<j&&(G+=this.worldSize),p=G-j<te.x?te.x/(G-j):0}const fe=this.point,Ee=Math.max(p||0,u||0);if(Ee)return this.center=this.unproject(new a.P(p?(G+j)/2:fe.x,u?(R+I)/2:fe.y)),this.zoom+=this.scaleZoom(Ee),this._unmodified=ue,void(this._constraining=!1);if(this.latRange){const ze=fe.y,Fe=te.y/2;ze-Fe<I&&(M=I+Fe),ze+Fe>R&&(M=R-Fe)}if(this.lngRange){const ze=(j+G)/2,Fe=a.b0(fe.x,ze-this.worldSize/2,ze+this.worldSize/2),Ge=te.x/2;Fe-Ge<j&&(_=j+Ge),Fe+Ge>G&&(_=G-Ge)}_===void 0&&M===void 0||(this.center=this.unproject(new a.P(_!==void 0?_:fe.x,M!==void 0?M:fe.y)).wrap()),this._unmodified=ue,this._constraining=!1}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,p=this.point.x,_=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.b2(1,this.center.lat)*this.worldSize;let M=a.an(new Float64Array(16));a.J(M,M,[this.width/2,-this.height/2,1]),a.H(M,M,[1,-1,0]),this.labelPlaneMatrix=M,M=a.an(new Float64Array(16)),a.J(M,M,[1,-1,1]),a.H(M,M,[-1,-1,0]),a.J(M,M,[2/this.width,2/this.height,1]),this.glCoordMatrix=M;const I=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),R=Math.min(this.elevation,this.minElevationForCurrentTile),j=I-R*this._pixelPerMeter/Math.cos(this._pitch),G=R<0?j:I,te=Math.PI/2+this._pitch,ue=this._fov*(.5+u.y/this.height),fe=Math.sin(ue)*G/Math.sin(a.ac(Math.PI-te-ue,.01,Math.PI-.01)),Ee=this.getHorizon(),ze=2*Math.atan(Ee/this.cameraToCenterDistance)*(.5+u.y/(2*Ee)),Fe=Math.sin(ze)*G/Math.sin(a.ac(Math.PI-te-ze,.01,Math.PI-.01)),Ge=Math.min(fe,Fe),je=1.01*(Math.cos(Math.PI/2-this._pitch)*Ge+G),ct=this.height/50;M=new Float64Array(16),a.b3(M,this._fov,this.width/this.height,ct,je),M[8]=2*-u.x/this.width,M[9]=2*u.y/this.height,a.J(M,M,[1,-1,1]),a.H(M,M,[0,0,-this.cameraToCenterDistance]),a.b4(M,M,this._pitch),a.ad(M,M,this.angle),a.H(M,M,[-p,-_,0]),this.mercatorMatrix=a.J([],M,[this.worldSize,this.worldSize,this.worldSize]),a.J(M,M,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.K(new Float64Array(16),this.labelPlaneMatrix,M),a.H(M,M,[0,0,-this.elevation]),this.projMatrix=M,this.invProjMatrix=a.ar([],M),this.pixelMatrix3D=a.K(new Float64Array(16),this.labelPlaneMatrix,M);const Ot=this.width%2/2,Ye=this.height%2/2,_t=Math.cos(this.angle),Gt=Math.sin(this.angle),It=p-Math.round(p)+_t*Ot+Gt*Ye,en=_-Math.round(_)+_t*Ye+Gt*Ot,cn=new Float64Array(M);if(a.H(cn,cn,[It>.5?It-1:It,en>.5?en-1:en,0]),this.alignedProjMatrix=cn,M=a.ar(new Float64Array(16),this.pixelMatrix),!M)throw new Error("failed to invert matrix");this.pixelMatrixInverse=M,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const u=this.pointCoordinate(new a.P(0,0)),p=[u.x*this.worldSize,u.y*this.worldSize,0,1];return a.af(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,u))}getCameraQueryGeometry(u){const p=this.getCameraPoint();if(u.length===1)return[u[0],p];{let _=p.x,M=p.y,I=p.x,R=p.y;for(const j of u)_=Math.min(_,j.x),M=Math.min(M,j.y),I=Math.max(I,j.x),R=Math.max(R,j.y);return[new a.P(_,M),new a.P(I,M),new a.P(I,R),new a.P(_,R),new a.P(_,M)]}}lngLatToCameraDepth(u,p){const _=this.locationCoordinate(u),M=[_.x*this.worldSize,_.y*this.worldSize,p,1];return a.af(M,M,this.projMatrix),M[2]/M[3]}}function Td(O,u){let p,_=!1,M=null,I=null;const R=()=>{M=null,_&&(O.apply(I,p),M=setTimeout(R,u),_=!1)};return(...j)=>(_=!0,I=this,p=j,M||R(),M)}class fu{constructor(u){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let _;return p.split("&").map(M=>M.split("=")).forEach(M=>{M[0]===this._hashName&&(_=M)}),(_&&_[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(_=>isNaN(_))){const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:_,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Td(this._updateHashUnthrottled,300),this._hashName=u&&encodeURIComponent(u)}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(u){const p=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,M=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),I=Math.pow(10,M),R=Math.round(p.lng*I)/I,j=Math.round(p.lat*I)/I,G=this._map.getBearing(),te=this._map.getPitch();let ue="";if(ue+=u?`/${R}/${j}/${_}`:`${_}/${j}/${R}`,(G||te)&&(ue+="/"+Math.round(10*G)/10),te&&(ue+=`/${Math.round(te)}`),this._hashName){const fe=this._hashName;let Ee=!1;const ze=window.location.hash.slice(1).split("&").map(Fe=>{const Ge=Fe.split("=")[0];return Ge===fe?(Ee=!0,`${Ge}=${ue}`):Fe}).filter(Fe=>Fe);return Ee||ze.push(`${fe}=${ue}`),`#${ze.join("&")}`}return`#${ue}`}}const bt={linearity:.3,easing:a.b5(0,0,.3,1)},an=a.e({deceleration:2500,maxSpeed:1400},bt),Rt=a.e({deceleration:20,maxSpeed:1400},bt),dr=a.e({deceleration:1e3,maxSpeed:360},bt),ei=a.e({deceleration:1e3,maxSpeed:90},bt);class eo{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:B.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,p=B.now();for(;u.length>0&&p-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:I}of this._inertiaBuffer)p.zoom+=I.zoomDelta||0,p.bearing+=I.bearingDelta||0,p.pitch+=I.pitchDelta||0,I.panDelta&&p.pan._add(I.panDelta),I.around&&(p.around=I.around),I.pinchAround&&(p.pinchAround=I.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,M={};if(p.pan.mag()){const I=co(p.pan.mag(),_,a.e({},an,u||{}));M.offset=p.pan.mult(I.amount/p.pan.mag()),M.center=this._map.transform.center,Xo(M,I)}if(p.zoom){const I=co(p.zoom,_,Rt);M.zoom=this._map.transform.zoom+I.amount,Xo(M,I)}if(p.bearing){const I=co(p.bearing,_,dr);M.bearing=this._map.transform.bearing+a.ac(I.amount,-179,179),Xo(M,I)}if(p.pitch){const I=co(p.pitch,_,ei);M.pitch=this._map.transform.pitch+I.amount,Xo(M,I)}if(M.zoom||M.bearing){const I=p.pinchAround===void 0?p.around:p.pinchAround;M.around=I?this._map.unproject(I):this._map.getCenter()}return this.clear(),a.e(M,{noMoveStart:!0})}}function Xo(O,u){(!O.duration||O.duration<u.duration)&&(O.duration=u.duration,O.easing=u.easing)}function co(O,u,p){const{maxSpeed:_,linearity:M,deceleration:I}=p,R=a.ac(O*M/(u/1e3),-_,_),j=Math.abs(R)/(I*M);return{easing:p.easing,duration:1e3*j,amount:R*(j/2)}}class hs extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,_,M={}){const I=k.mousePos(p.getCanvas(),_),R=p.unproject(I);super(u,a.e({point:I,lngLat:R,originalEvent:_},M)),this._defaultPrevented=!1,this.target=p}}class qc extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,_){const M=u==="touchend"?_.changedTouches:_.touches,I=k.touchPos(p.getCanvasContainer(),M),R=I.map(G=>p.unproject(G)),j=I.reduce((G,te,ue,fe)=>G.add(te.div(fe.length)),new a.P(0,0));super(u,{points:I,point:j,lngLats:R,lngLat:p.unproject(j),originalEvent:_}),this._defaultPrevented=!1}}class fs extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,_){super(u,{originalEvent:_}),this._defaultPrevented=!1}}class Kd{constructor(u,p){this._map=u,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new fs(u.type,this._map,u))}mousedown(u,p){return this._mousedownPos=p,this._firePreventable(new hs(u.type,this._map,u))}mouseup(u){this._map.fire(new hs(u.type,this._map,u))}click(u,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new hs(u.type,this._map,u))}dblclick(u){return this._firePreventable(new hs(u.type,this._map,u))}mouseover(u){this._map.fire(new hs(u.type,this._map,u))}mouseout(u){this._map.fire(new hs(u.type,this._map,u))}touchstart(u){return this._firePreventable(new qc(u.type,this._map,u))}touchmove(u){this._map.fire(new qc(u.type,this._map,u))}touchend(u){this._map.fire(new qc(u.type,this._map,u))}touchcancel(u){this._map.fire(new qc(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Os{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new hs(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new hs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new hs(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jo{constructor(u){this._map=u}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(u){return this.transform.pointLocation(a.P.convert(u),this._map.terrain)}}class pu{constructor(u,p){this._map=u,this._tr=new Jo(u),this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,p){this.isEnabled()&&u.shiftKey&&u.button===0&&(k.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(u,p){if(!this._active)return;const _=p;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const M=this._startPos;this._lastPos=_,this._box||(this._box=k.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",u));const I=Math.min(M.x,_.x),R=Math.max(M.x,_.x),j=Math.min(M.y,_.y),G=Math.max(M.y,_.y);k.setTransform(this._box,`translate(${I}px,${j}px)`),this._box.style.width=R-I+"px",this._box.style.height=G-j+"px"}mouseupWindow(u,p){if(!this._active||u.button!==0)return;const _=this._startPos,M=p;if(this.reset(),k.suppressClick(),_.x!==M.x||_.y!==M.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:u})),{cameraAnimation:I=>I.fitScreenCoordinates(_,M,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(k.remove(this._box),this._box=null),k.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,p){return this._map.fire(new a.k(u,{originalEvent:p}))}}function Bs(O,u){if(O.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${O.length}, points ${u.length}`);const p={};for(let _=0;_<O.length;_++)p[O[_].identifier]=u[_];return p}class Vi{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,p,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),_.length===this.numTouches&&(this.centroid=function(M){const I=new a.P(0,0);for(const R of M)I._add(R);return I.div(M.length)}(p),this.touches=Bs(_,p)))}touchmove(u,p,_){if(this.aborted||!this.centroid)return;const M=Bs(_,p);for(const I in this.touches){const R=M[I];(!R||R.dist(this.touches[I])>30)&&(this.aborted=!0)}}touchend(u,p,_){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const M=!this.aborted&&this.centroid;if(this.reset(),M)return M}}}class xh{constructor(u){this.singleTap=new Vi(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,p,_){this.singleTap.touchstart(u,p,_)}touchmove(u,p,_){this.singleTap.touchmove(u,p,_)}touchend(u,p,_){const M=this.singleTap.touchend(u,p,_);if(M){const I=u.timeStamp-this.lastTime<500,R=!this.lastTap||this.lastTap.dist(M)<30;if(I&&R||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=M,this.count===this.numTaps)return this.reset(),M}}}class wh{constructor(u){this._tr=new Jo(u),this._zoomIn=new xh({numTouches:1,numTaps:2}),this._zoomOut=new xh({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,p,_){this._zoomIn.touchstart(u,p,_),this._zoomOut.touchstart(u,p,_)}touchmove(u,p,_){this._zoomIn.touchmove(u,p,_),this._zoomOut.touchmove(u,p,_)}touchend(u,p,_){const M=this._zoomIn.touchend(u,p,_),I=this._zoomOut.touchend(u,p,_),R=this._tr;return M?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom+1,around:R.unproject(M)},{originalEvent:u})}):I?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom-1,around:R.unproject(I)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vl{constructor(u){this._enabled=!!u.enable,this._moveStateManager=u.moveStateManager,this._clickTolerance=u.clickTolerance||1,this._moveFunction=u.move,this._activateOnStart=!!u.activateOnStart,u.assignEvents(this),this.reset()}reset(u){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(u)}_move(...u){const p=this._moveFunction(...u);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(u,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(u)&&(this._moveStateManager.startMove(u),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(u,p){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(u.preventDefault(),!this._moveStateManager.isValidMoveEvent(u))return void this.reset(u);const M=p.length?p[0]:p;return!this._moved&&M.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=M,this._move(_,M))}dragEnd(u){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(u)&&(this._moved&&k.suppressClick(),this.reset(u))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const TA={0:1,2:2};class Ma{constructor(u){this._correctEvent=u.checkCorrectEvent}startMove(u){const p=k.mouseButton(u);this._eventButton=p}endMove(u){delete this._eventButton}isValidStartEvent(u){return this._correctEvent(u)}isValidMoveEvent(u){return!function(p,_){const M=TA[_];return p.buttons===void 0||(p.buttons&M)!==M}(u,this._eventButton)}isValidEndEvent(u){return k.mouseButton(u)===this._eventButton}}class $s{constructor(){this._firstTouch=void 0}_isOneFingerTouch(u){return u.targetTouches.length===1}_isSameTouchEvent(u){return u.targetTouches[0].identifier===this._firstTouch}startMove(u){this._firstTouch=u.targetTouches[0].identifier}endMove(u){delete this._firstTouch}isValidStartEvent(u){return this._isOneFingerTouch(u)}isValidMoveEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}isValidEndEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}}const zn=O=>{O.mousedown=O.dragStart,O.mousemoveWindow=O.dragMove,O.mouseup=O.dragEnd,O.contextmenu=function(u){u.preventDefault()}},Pl=({enable:O,clickTolerance:u,bearingDegreesPerPixelMoved:p=.8})=>{const _=new Ma({checkCorrectEvent:M=>k.mouseButton(M)===0&&M.ctrlKey||k.mouseButton(M)===2});return new vl({clickTolerance:u,move:(M,I)=>({bearingDelta:(I.x-M.x)*p}),moveStateManager:_,enable:O,assignEvents:zn})},oA=({enable:O,clickTolerance:u,pitchDegreesPerPixelMoved:p=-.5})=>{const _=new Ma({checkCorrectEvent:M=>k.mouseButton(M)===0&&M.ctrlKey||k.mouseButton(M)===2});return new vl({clickTolerance:u,move:(M,I)=>({pitchDelta:(I.y-M.y)*p}),moveStateManager:_,enable:O,assignEvents:zn})};class dc{constructor(u,p){this._clickTolerance=u.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(u,p,_){return this._calculateTransform(u,p,_)}touchmove(u,p,_){if(this._active&&!(_.length<this.minTouchs()))return u.preventDefault(),this._calculateTransform(u,p,_)}touchend(u,p,_){this._calculateTransform(u,p,_),this._active&&_.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,p,_){_.length>0&&(this._active=!0);const M=Bs(_,p),I=new a.P(0,0),R=new a.P(0,0);let j=0;for(const te in M){const ue=M[te],fe=this._touches[te];fe&&(I._add(ue),R._add(ue.sub(fe)),j++,M[te]=ue)}if(this._touches=M,j<this.minTouchs()||!R.mag())return;const G=R.div(j);return this._sum._add(G),this._sum.mag()<this._clickTolerance?void 0:{around:I.div(j),panDelta:G}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(u,p,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([p[0],p[1]]))}touchmove(u,p,_){if(!this._firstTwoTouches)return;u.preventDefault();const[M,I]=this._firstTwoTouches,R=Nn(_,p,M),j=Nn(_,p,I);if(!R||!j)return;const G=this._aroundCenter?null:R.add(j).div(2);return this._move([R,j],G,u)}touchend(u,p,_){if(!this._firstTwoTouches)return;const[M,I]=this._firstTwoTouches,R=Nn(_,p,M),j=Nn(_,p,I);R&&j||(this._active&&k.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Nn(O,u,p){for(let _=0;_<O.length;_++)if(O[_].identifier===p)return u[_]}function hc(O,u){return Math.log(O/u)/Math.LN2}class KA extends mu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,p){const _=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(hc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:hc(this._distance,_),pinchAround:p}}}function Tf(O,u){return 180*O.angleWith(u)/Math.PI}class Du extends mu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,p,_){const M=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Tf(this._vector,M),pinchAround:p}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const p=25/(Math.PI*this._minDiameter)*360,_=Tf(u,this._startVector);return Math.abs(_)<p}}function gu(O){return Math.abs(O.y)>Math.abs(O.x)}class PA extends mu{constructor(u){super(),this._currentTouchCount=0,this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,p,_){super.touchstart(u,p,_),this._currentTouchCount=_.length}_start(u){this._lastPoints=u,gu(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,p,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const M=u[0].sub(this._lastPoints[0]),I=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(M,I,_.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(M.y+I.y)/2*-.5}):void 0}gestureBeginsVertically(u,p,_){if(this._valid!==void 0)return this._valid;const M=u.mag()>=2,I=p.mag()>=2;if(!M&&!I)return;if(!M||!I)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const R=u.y>0==p.y>0;return gu(u)&&gu(p)&&R}}const Kf={panStep:100,bearingStep:15,pitchStep:10};class fc{constructor(u){this._tr=new Jo(u);const p=Kf;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let p=0,_=0,M=0,I=0,R=0;switch(u.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:u.shiftKey?_=-1:(u.preventDefault(),I=-1);break;case 39:u.shiftKey?_=1:(u.preventDefault(),I=1);break;case 38:u.shiftKey?M=1:(u.preventDefault(),R=-1);break;case 40:u.shiftKey?M=-1:(u.preventDefault(),R=1);break;default:return}return this._rotationDisabled&&(_=0,M=0),{cameraAnimation:j=>{const G=this._tr;j.easeTo({duration:300,easeId:"keyboardHandler",easing:Lu,zoom:p?Math.round(G.zoom)+p*(u.shiftKey?2:1):G.zoom,bearing:G.bearing+_*this._bearingStep,pitch:G.pitch+M*this._pitchStep,offset:[-I*this._panStep,-R*this._panStep],center:G.center},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Lu(O){return O*(2-O)}const yo=4.000244140625;class yu{constructor(u,p){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=u,this._tr=new Jo(u),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(u){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!u[this._map.cooperativeGestures._bypassKey])return;let p=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const _=B.now(),M=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,p!==0&&p%yo==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":M>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(M*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),u.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=u,this._delta-=p,this._active||this._start(u)),u.preventDefault()}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=k.mousePos(this._map.getCanvas(),u),_=this._tr;this._around=p.y>_.transform.height/2-_.transform.getHorizon()?a.M.convert(this._aroundCenter?_.center:_.unproject(p)):a.M.convert(_.center),this._aroundPoint=_.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._tr.transform;if(this._delta!==0){const j=this._type==="wheel"&&Math.abs(this._delta)>yo?this._wheelZoomRate:this._defaultZoomRate;let G=2/(1+Math.exp(-Math.abs(this._delta*j)));this._delta<0&&G!==0&&(G=1/G);const te=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(te*G))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,_=this._startZoom,M=this._easing;let I,R=!1;if(this._type==="wheel"&&_&&M){const j=Math.min((B.now()-this._lastWheelEventTime)/200,1),G=M(j);I=a.z.number(_,p,G),j<1?this._frameId||(this._frameId=!0):R=!0}else I=p,R=!0;return this._active=!0,R&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!R,zoomDelta:I-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let p=a.b6;if(this._prevEase){const _=this._prevEase,M=(B.now()-_.start)/_.duration,I=_.easing(M+.01)-_.easing(M),R=.27/Math.sqrt(I*I+1e-4)*.01,j=Math.sqrt(.0729-R*R);p=a.b5(R,j,.25,1)}return this._prevEase={start:B.now(),duration:u,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Vc{constructor(u,p){this._clickZoom=u,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Pp{constructor(u){this._tr=new Jo(u),this.reset()}reset(){this._active=!1}dblclick(u,p){return u.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(u.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pf{constructor(){this._tap=new xh({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(u,p,_){if(!this._swipePoint)if(this._tapTime){const M=p[0],I=u.timeStamp-this._tapTime<500,R=this._tapPoint.dist(M)<30;I&&R?_.length>0&&(this._swipePoint=M,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(u,p,_)}touchmove(u,p,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const M=p[0],I=M.y-this._swipePoint.y;return this._swipePoint=M,u.preventDefault(),this._active=!0,{zoomDelta:I/128}}}else this._tap.touchmove(u,p,_)}touchend(u,p,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const M=this._tap.touchend(u,p,_);M&&(this._tapTime=u.timeStamp,this._tapPoint=M)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pd{constructor(u,p,_){this._el=u,this._mousePan=p,this._touchPan=_}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Mh{constructor(u,p,_){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=p,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class to{constructor(u,p,_,M){this._el=u,this._touchZoom=p,this._touchRotate=_,this._tapDragZoom=M,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class ea{constructor(u,p){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=u,this._options=p,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const u=this._map.getCanvasContainer();u.classList.add("maplibregl-cooperative-gestures"),this._container=k.create("div","maplibregl-cooperative-gesture-screen",u);let p=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(p=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),M=document.createElement("div");M.className="maplibregl-desktop-message",M.textContent=p,this._container.appendChild(M);const I=document.createElement("div");I.className="maplibregl-mobile-message",I.textContent=_,this._container.appendChild(I),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(k.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(u){this._onCooperativeGesture(u.touches.length===1)}wheel(u){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!u[this._bypassKey])}_onCooperativeGesture(u){this._enabled&&u&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const gr=O=>O.zoom||O.drag||O.pitch||O.rotate;class Er extends a.k{}function FA(O){return O.panDelta&&O.panDelta.mag()||O.zoomDelta||O.bearingDelta||O.pitchDelta}class pc{constructor(u,p){this.handleWindowEvent=M=>{this.handleEvent(M,`${M.type}Window`)},this.handleEvent=(M,I)=>{if(M.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const R=M.type==="renderFrame"?void 0:M,j={needsRenderFrame:!1},G={},te={},ue=M.touches,fe=ue?this._getMapTouches(ue):void 0,Ee=fe?k.touchPos(this._map.getCanvas(),fe):k.mousePos(this._map.getCanvas(),M);for(const{handlerName:Ge,handler:je,allowed:ct}of this._handlers){if(!je.isEnabled())continue;let Ot;this._blockedByActive(te,ct,Ge)?je.reset():je[I||M.type]&&(Ot=je[I||M.type](M,Ee,fe),this.mergeHandlerResult(j,G,Ot,Ge,R),Ot&&Ot.needsRenderFrame&&this._triggerRenderFrame()),(Ot||je.isActive())&&(te[Ge]=je)}const ze={};for(const Ge in this._previousActiveHandlers)te[Ge]||(ze[Ge]=R);this._previousActiveHandlers=te,(Object.keys(ze).length||FA(j))&&(this._changes.push([j,G,ze]),this._triggerRenderFrame()),(Object.keys(te).length||FA(j))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=j;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))},this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new eo(u),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[M,I,R]of this._listeners)k.addEventListener(M,I,M===document?this.handleWindowEvent:this.handleEvent,R)}destroy(){for(const[u,p,_]of this._listeners)k.removeEventListener(u,p,u===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(u){const p=this._map,_=p.getCanvasContainer();this._add("mapEvent",new Kd(p,u));const M=p.boxZoom=new pu(p,u);this._add("boxZoom",M),u.interactive&&u.boxZoom&&M.enable();const I=p.cooperativeGestures=new ea(p,u.cooperativeGestures);this._add("cooperativeGestures",I),u.cooperativeGestures&&I.enable();const R=new wh(p),j=new Pp(p);p.doubleClickZoom=new Vc(j,R),this._add("tapZoom",R),this._add("clickZoom",j),u.interactive&&u.doubleClickZoom&&p.doubleClickZoom.enable();const G=new Pf;this._add("tapDragZoom",G);const te=p.touchPitch=new PA(p);this._add("touchPitch",te),u.interactive&&u.touchPitch&&p.touchPitch.enable(u.touchPitch);const ue=Pl(u),fe=oA(u);p.dragRotate=new Mh(u,ue,fe),this._add("mouseRotate",ue,["mousePitch"]),this._add("mousePitch",fe,["mouseRotate"]),u.interactive&&u.dragRotate&&p.dragRotate.enable();const Ee=(({enable:Ot,clickTolerance:Ye})=>{const _t=new Ma({checkCorrectEvent:Gt=>k.mouseButton(Gt)===0&&!Gt.ctrlKey});return new vl({clickTolerance:Ye,move:(Gt,It)=>({around:It,panDelta:It.sub(Gt)}),activateOnStart:!0,moveStateManager:_t,enable:Ot,assignEvents:zn})})(u),ze=new dc(u,p);p.dragPan=new Pd(_,Ee,ze),this._add("mousePan",Ee),this._add("touchPan",ze,["touchZoom","touchRotate"]),u.interactive&&u.dragPan&&p.dragPan.enable(u.dragPan);const Fe=new Du,Ge=new KA;p.touchZoomRotate=new to(_,Ge,Fe,G),this._add("touchRotate",Fe,["touchPan","touchZoom"]),this._add("touchZoom",Ge,["touchPan","touchRotate"]),u.interactive&&u.touchZoomRotate&&p.touchZoomRotate.enable(u.touchZoomRotate);const je=p.scrollZoom=new yu(p,()=>this._triggerRenderFrame());this._add("scrollZoom",je,["mousePan"]),u.interactive&&u.scrollZoom&&p.scrollZoom.enable(u.scrollZoom);const ct=p.keyboard=new fc(p);this._add("keyboard",ct),u.interactive&&u.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new Os(p))}_add(u,p,_){this._handlers.push({handlerName:u,handler:p,allowed:_}),this._handlersById[u]=p}stop(u){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!gr(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,p,_){for(const M in u)if(M!==_&&(!p||p.indexOf(M)<0))return!0;return!1}_getMapTouches(u){const p=[];for(const _ of u)this._el.contains(_.target)&&p.push(_);return p}mergeHandlerResult(u,p,_,M,I){if(!_)return;a.e(u,_);const R={handlerName:M,originalEvent:_.originalEvent||I};_.zoomDelta!==void 0&&(p.zoom=R),_.panDelta!==void 0&&(p.drag=R),_.pitchDelta!==void 0&&(p.pitch=R),_.bearingDelta!==void 0&&(p.rotate=R)}_applyChanges(){const u={},p={},_={};for(const[M,I,R]of this._changes)M.panDelta&&(u.panDelta=(u.panDelta||new a.P(0,0))._add(M.panDelta)),M.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+M.zoomDelta),M.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+M.bearingDelta),M.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+M.pitchDelta),M.around!==void 0&&(u.around=M.around),M.pinchAround!==void 0&&(u.pinchAround=M.pinchAround),M.noInertia&&(u.noInertia=M.noInertia),a.e(p,I),a.e(_,R);this._updateMapTransform(u,p,_),this._changes=[]}_updateMapTransform(u,p,_){const M=this._map,I=M._getTransformForUpdate(),R=M.terrain;if(!(FA(u)||R&&this._terrainMovement))return this._fireEvents(p,_,!0);let{panDelta:j,zoomDelta:G,bearingDelta:te,pitchDelta:ue,around:fe,pinchAround:Ee}=u;Ee!==void 0&&(fe=Ee),M._stop(!0),fe=fe||M.transform.centerPoint;const ze=I.pointLocation(j?fe.sub(j):fe);te&&(I.bearing+=te),ue&&(I.pitch+=ue),G&&(I.zoom+=G),R?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?I.center=I.pointLocation(I.centerPoint.sub(j)):I.setLocationAtPoint(ze,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,I.setLocationAtPoint(ze,fe),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,I.recalculateZoom(M.terrain)})):I.setLocationAtPoint(ze,fe),M._applyUpdatedTransform(I),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(p,_,!0)}_fireEvents(u,p,_){const M=gr(this._eventsInProgress),I=gr(u),R={};for(const ue in u){const{originalEvent:fe}=u[ue];this._eventsInProgress[ue]||(R[`${ue}start`]=fe),this._eventsInProgress[ue]=u[ue]}!M&&I&&this._fireEvent("movestart",I.originalEvent);for(const ue in R)this._fireEvent(ue,R[ue]);I&&this._fireEvent("move",I.originalEvent);for(const ue in u){const{originalEvent:fe}=u[ue];this._fireEvent(ue,fe)}const j={};let G;for(const ue in this._eventsInProgress){const{handlerName:fe,originalEvent:Ee}=this._eventsInProgress[ue];this._handlersById[fe].isActive()||(delete this._eventsInProgress[ue],G=p[fe]||Ee,j[`${ue}end`]=G)}for(const ue in j)this._fireEvent(ue,j[ue]);const te=gr(this._eventsInProgress);if(_&&(M||I)&&!te){this._updatingCamera=!0;const ue=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),fe=Ee=>Ee!==0&&-this._bearingSnap<Ee&&Ee<this._bearingSnap;!ue||!ue.essential&&B.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:G})),fe(this._map.getBearing())&&this._map.resetNorth()):(fe(ue.bearing||this._map.getBearing())&&(ue.bearing=0),ue.freezeElevation=!0,this._map.easeTo(ue,{originalEvent:G})),this._updatingCamera=!1}}_fireEvent(u,p){this._map.fire(new a.k(u,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{delete this._frameId,this.handleEvent(new Er("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Hc extends a.E{constructor(u,p){super(),this._renderFrameCallback=()=>{const _=Math.min((B.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(_)),_<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.M(this.transform.center.lng,this.transform.center.lat)}setCenter(u,p){return this.jumpTo({center:u},p)}panBy(u,p,_){return u=a.P.convert(u).mult(-1),this.panTo(this.transform.center,a.e({offset:u},p),_)}panTo(u,p,_){return this.easeTo(a.e({center:u},p),_)}getZoom(){return this.transform.zoom}setZoom(u,p){return this.jumpTo({zoom:u},p),this}zoomTo(u,p,_){return this.easeTo(a.e({zoom:u},p),_)}zoomIn(u,p){return this.zoomTo(this.getZoom()+1,u,p),this}zoomOut(u,p){return this.zoomTo(this.getZoom()-1,u,p),this}getBearing(){return this.transform.bearing}setBearing(u,p){return this.jumpTo({bearing:u},p),this}getPadding(){return this.transform.padding}setPadding(u,p){return this.jumpTo({padding:u},p),this}rotateTo(u,p,_){return this.easeTo(a.e({bearing:u},p),_)}resetNorth(u,p){return this.rotateTo(0,a.e({duration:1e3},u),p),this}resetNorthPitch(u,p){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},u),p),this}snapToNorth(u,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,p):this}getPitch(){return this.transform.pitch}setPitch(u,p){return this.jumpTo({pitch:u},p),this}cameraForBounds(u,p){u=Ft.convert(u);const _=p&&p.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),_,p)}_cameraForBoxAndBearing(u,p,_,M){const I={top:0,bottom:0,right:0,left:0};if(typeof(M=a.e({padding:I,offset:[0,0],maxZoom:this.transform.maxZoom},M)).padding=="number"){const er=M.padding;M.padding={top:er,bottom:er,right:er,left:er}}M.padding=a.e(I,M.padding);const R=this.transform,j=R.padding,G=new Ft(u,p),te=R.project(G.getNorthWest()),ue=R.project(G.getNorthEast()),fe=R.project(G.getSouthEast()),Ee=R.project(G.getSouthWest()),ze=a.b7(-_),Fe=te.rotate(ze),Ge=ue.rotate(ze),je=fe.rotate(ze),ct=Ee.rotate(ze),Ot=new a.P(Math.max(Fe.x,Ge.x,ct.x,je.x),Math.max(Fe.y,Ge.y,ct.y,je.y)),Ye=new a.P(Math.min(Fe.x,Ge.x,ct.x,je.x),Math.min(Fe.y,Ge.y,ct.y,je.y)),_t=Ot.sub(Ye),Gt=(R.width-(j.left+j.right+M.padding.left+M.padding.right))/_t.x,It=(R.height-(j.top+j.bottom+M.padding.top+M.padding.bottom))/_t.y;if(It<0||Gt<0)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const en=Math.min(R.scaleZoom(R.scale*Math.min(Gt,It)),M.maxZoom),cn=a.P.convert(M.offset),un=new a.P((M.padding.left-M.padding.right)/2,(M.padding.top-M.padding.bottom)/2).rotate(a.b7(_)),vn=cn.add(un).mult(R.scale/R.zoomScale(en));return{center:R.unproject(te.add(fe).div(2).sub(vn)),zoom:en,bearing:_}}fitBounds(u,p,_){return this._fitInternal(this.cameraForBounds(u,p),p,_)}fitScreenCoordinates(u,p,_,M,I){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.P.convert(u)),this.transform.pointLocation(a.P.convert(p)),_,M),M,I)}_fitInternal(u,p,_){return u?(delete(p=a.e(u,p)).padding,p.linear?this.easeTo(p,_):this.flyTo(p,_)):this}jumpTo(u,p){this.stop();const _=this._getTransformForUpdate();let M=!1,I=!1,R=!1;return"zoom"in u&&_.zoom!==+u.zoom&&(M=!0,_.zoom=+u.zoom),u.center!==void 0&&(_.center=a.M.convert(u.center)),"bearing"in u&&_.bearing!==+u.bearing&&(I=!0,_.bearing=+u.bearing),"pitch"in u&&_.pitch!==+u.pitch&&(R=!0,_.pitch=+u.pitch),u.padding==null||_.isPaddingEqual(u.padding)||(_.padding=u.padding),this._applyUpdatedTransform(_),this.fire(new a.k("movestart",p)).fire(new a.k("move",p)),M&&this.fire(new a.k("zoomstart",p)).fire(new a.k("zoom",p)).fire(new a.k("zoomend",p)),I&&this.fire(new a.k("rotatestart",p)).fire(new a.k("rotate",p)).fire(new a.k("rotateend",p)),R&&this.fire(new a.k("pitchstart",p)).fire(new a.k("pitch",p)).fire(new a.k("pitchend",p)),this.fire(new a.k("moveend",p))}calculateCameraOptionsFromTo(u,p,_,M=0){const I=a.Y.fromLngLat(u,p),R=a.Y.fromLngLat(_,M),j=R.x-I.x,G=R.y-I.y,te=R.z-I.z,ue=Math.hypot(j,G,te);if(ue===0)throw new Error("Can't calculate camera options with same From and To");const fe=Math.hypot(j,G),Ee=this.transform.scaleZoom(this.transform.cameraToCenterDistance/ue/this.transform.tileSize),ze=180*Math.atan2(j,-G)/Math.PI;let Fe=180*Math.acos(fe/ue)/Math.PI;return Fe=te<0?90-Fe:90+Fe,{center:R.toLngLat(),zoom:Ee,pitch:Fe,bearing:ze}}easeTo(u,p){this._stop(!1,u.easeId),((u=a.e({offset:[0,0],duration:500,easing:a.b6},u)).animate===!1||!u.essential&&B.prefersReducedMotion)&&(u.duration=0);const _=this._getTransformForUpdate(),M=this.getZoom(),I=this.getBearing(),R=this.getPitch(),j=this.getPadding(),G="zoom"in u?+u.zoom:M,te="bearing"in u?this._normalizeBearing(u.bearing,I):I,ue="pitch"in u?+u.pitch:R,fe="padding"in u?u.padding:_.padding,Ee=a.P.convert(u.offset);let ze=_.centerPoint.add(Ee);const Fe=_.pointLocation(ze),Ge=a.M.convert(u.center||Fe);this._normalizeCenter(Ge);const je=_.project(Fe),ct=_.project(Ge).sub(je),Ot=_.zoomScale(G-M);let Ye,_t;u.around&&(Ye=a.M.convert(u.around),_t=_.locationPoint(Ye));const Gt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||G!==M,this._rotating=this._rotating||I!==te,this._pitching=this._pitching||ue!==R,this._padding=!_.isPaddingEqual(fe),this._easeId=u.easeId,this._prepareEase(p,u.noMoveStart,Gt),this.terrain&&this._prepareElevation(Ge),this._ease(It=>{if(this._zooming&&(_.zoom=a.z.number(M,G,It)),this._rotating&&(_.bearing=a.z.number(I,te,It)),this._pitching&&(_.pitch=a.z.number(R,ue,It)),this._padding&&(_.interpolatePadding(j,fe,It),ze=_.centerPoint.add(Ee)),this.terrain&&!u.freezeElevation&&this._updateElevation(It),Ye)_.setLocationAtPoint(Ye,_t);else{const en=_.zoomScale(_.zoom-M),cn=G>M?Math.min(2,Ot):Math.max(.5,Ot),un=Math.pow(cn,1-It),vn=_.unproject(je.add(ct.mult(It*un)).mult(en));_.setLocationAtPoint(_.renderWorldCopies?vn.wrap():vn,ze)}this._applyUpdatedTransform(_),this._fireMoveEvents(p)},It=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,It)},u),this}_prepareEase(u,p,_={}){this._moving=!0,p||_.moving||this.fire(new a.k("movestart",u)),this._zooming&&!_.zooming&&this.fire(new a.k("zoomstart",u)),this._rotating&&!_.rotating&&this.fire(new a.k("rotatestart",u)),this._pitching&&!_.pitching&&this.fire(new a.k("pitchstart",u))}_prepareElevation(u){this._elevationCenter=u,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(u){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(u<1&&p!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=u*(_-(p-(_*u+this._elevationStart))/(1-u)),this._elevationTarget=p}this.transform.elevation=a.z.number(this._elevationStart,this._elevationTarget,u)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(u){if(!this.transformCameraUpdate)return;const p=u.clone(),{center:_,zoom:M,pitch:I,bearing:R,elevation:j}=this.transformCameraUpdate(p);_&&(p.center=_),M!==void 0&&(p.zoom=M),I!==void 0&&(p.pitch=I),R!==void 0&&(p.bearing=R),j!==void 0&&(p.elevation=j),this.transform.apply(p)}_fireMoveEvents(u){this.fire(new a.k("move",u)),this._zooming&&this.fire(new a.k("zoom",u)),this._rotating&&this.fire(new a.k("rotate",u)),this._pitching&&this.fire(new a.k("pitch",u))}_afterEase(u,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const _=this._zooming,M=this._rotating,I=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new a.k("zoomend",u)),M&&this.fire(new a.k("rotateend",u)),I&&this.fire(new a.k("pitchend",u)),this.fire(new a.k("moveend",u))}flyTo(u,p){if(!u.essential&&B.prefersReducedMotion){const Zn=a.L(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Zn,p)}this.stop(),u=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.b6},u);const _=this._getTransformForUpdate(),M=this.getZoom(),I=this.getBearing(),R=this.getPitch(),j=this.getPadding(),G="zoom"in u?a.ac(+u.zoom,_.minZoom,_.maxZoom):M,te="bearing"in u?this._normalizeBearing(u.bearing,I):I,ue="pitch"in u?+u.pitch:R,fe="padding"in u?u.padding:_.padding,Ee=_.zoomScale(G-M),ze=a.P.convert(u.offset);let Fe=_.centerPoint.add(ze);const Ge=_.pointLocation(Fe),je=a.M.convert(u.center||Ge);this._normalizeCenter(je);const ct=_.project(Ge),Ot=_.project(je).sub(ct);let Ye=u.curve;const _t=Math.max(_.width,_.height),Gt=_t/Ee,It=Ot.mag();if("minZoom"in u){const Zn=a.ac(Math.min(u.minZoom,M,G),_.minZoom,_.maxZoom),zi=_t/_.zoomScale(Zn-M);Ye=Math.sqrt(zi/It*2)}const en=Ye*Ye;function cn(Zn){const zi=(Gt*Gt-_t*_t+(Zn?-1:1)*en*en*It*It)/(2*(Zn?Gt:_t)*en*It);return Math.log(Math.sqrt(zi*zi+1)-zi)}function un(Zn){return(Math.exp(Zn)-Math.exp(-Zn))/2}function vn(Zn){return(Math.exp(Zn)+Math.exp(-Zn))/2}const er=cn(!1);let kr=function(Zn){return vn(er)/vn(er+Ye*Zn)},In=function(Zn){return _t*((vn(er)*(un(zi=er+Ye*Zn)/vn(zi))-un(er))/en)/It;var zi},Cr=(cn(!0)-er)/Ye;if(Math.abs(It)<1e-6||!isFinite(Cr)){if(Math.abs(_t-Gt)<1e-6)return this.easeTo(u,p);const Zn=Gt<_t?-1:1;Cr=Math.abs(Math.log(Gt/_t))/Ye,In=function(){return 0},kr=function(zi){return Math.exp(Zn*Ye*zi)}}return u.duration="duration"in u?+u.duration:1e3*Cr/("screenSpeed"in u?+u.screenSpeed/Ye:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=I!==te,this._pitching=ue!==R,this._padding=!_.isPaddingEqual(fe),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(je),this._ease(Zn=>{const zi=Zn*Cr,bi=1/kr(zi);_.zoom=Zn===1?G:M+_.scaleZoom(bi),this._rotating&&(_.bearing=a.z.number(I,te,Zn)),this._pitching&&(_.pitch=a.z.number(R,ue,Zn)),this._padding&&(_.interpolatePadding(j,fe,Zn),Fe=_.centerPoint.add(ze)),this.terrain&&!u.freezeElevation&&this._updateElevation(Zn);const Hr=Zn===1?je:_.unproject(ct.add(Ot.mult(In(zi))).mult(bi));_.setLocationAtPoint(_.renderWorldCopies?Hr.wrap():Hr,Fe),this._applyUpdatedTransform(_),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const _=this._onEaseEnd;delete this._onEaseEnd,_.call(this,p)}if(!u){const _=this.handlers;_&&_.stop(!1)}return this}_ease(u,p,_){_.animate===!1||_.duration===0?(u(1),p()):(this._easeStart=B.now(),this._easeOptions=_,this._onEaseFrame=u,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(u,p){u=a.b0(u,-180,180);const _=Math.abs(u-p);return Math.abs(u-360-p)<_&&(u-=360),Math.abs(u+360-p)<_&&(u+=360),u}_normalizeCenter(u){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const _=u.lng-p.center.lng;u.lng+=_>180?-360:_<-180?360:0}queryTerrainElevation(u){return this.terrain?this.terrain.getElevationForLngLatZoom(a.M.convert(u),this.transform.tileZoom)-this.transform.elevation:null}}const Qo={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class aA{constructor(u=Qo){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=u}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options.compact,this._container=k.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=k.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=k.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){k.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,p){const _=this._map._getUIString(`AttributionControl.${p}`);u.title=_,u.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(M=>typeof M!="string"?"":M)):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const M=this._map.style.stylesheet;this.styleOwner=M.owner,this.styleId=M.id}const p=this._map.style.sourceCaches;for(const M in p){const I=p[M];if(I.used||I.usedForTerrain){const R=I.getSource();R.attribution&&u.indexOf(R.attribution)<0&&u.push(R.attribution)}}u=u.filter(M=>String(M).trim()),u.sort((M,I)=>M.length-I.length),u=u.filter((M,I)=>{for(let R=I+1;R<u.length;R++)if(u[R].indexOf(M)>=0)return!1;return!0});const _=u.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,u.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class va{constructor(u={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const _=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=u}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=k.create("div","maplibregl-ctrl");const p=k.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){k.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class sA{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const p=++this._id;return this._queue.push({callback:u,id:p,cancelled:!1}),p}remove(u){const p=this._currentlyRunning,_=p?this._queue.concat(p):this._queue;for(const M of _)if(M.id===u)return void(M.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const _ of p)if(!_.cancelled&&(_.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var _l=a.X([{name:"a_pos3d",type:"Int16",components:3}]);class Do extends a.E{constructor(u){super(),this.sourceCache=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,u.usedForTerrain=!0,u.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(u,p){this.sourceCache.update(u,p),this._renderableTilesKeys=[];const _={};for(const M of u.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))_[M.key]=!0,this._renderableTilesKeys.push(M.key),this._tiles[M.key]||(M.posMatrix=new Float64Array(16),a.aN(M.posMatrix,0,a.W,0,a.W,0,1),this._tiles[M.key]=new Be(M,this.tileSize));for(const M in this._tiles)_[M]||delete this._tiles[M]}freeRtt(u){for(const p in this._tiles){const _=this._tiles[p];(!u||_.tileID.equals(u)||_.tileID.isChildOf(u)||u.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(u=>this.getTileByID(u))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u){const p={};for(const _ of this._renderableTilesKeys){const M=this._tiles[_].tileID;if(M.canonical.equals(u.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16),a.aN(I.posMatrix,0,a.W,0,a.W,0,1),p[_]=I}else if(M.canonical.isChildOf(u.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16);const R=M.canonical.z-u.canonical.z,j=M.canonical.x-(M.canonical.x>>R<<R),G=M.canonical.y-(M.canonical.y>>R<<R),te=a.W>>R;a.aN(I.posMatrix,0,te,0,te,0,1),a.H(I.posMatrix,I.posMatrix,[-j*te,-G*te,0]),p[_]=I}else if(u.canonical.isChildOf(M.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16);const R=u.canonical.z-M.canonical.z,j=u.canonical.x-(u.canonical.x>>R<<R),G=u.canonical.y-(u.canonical.y>>R<<R),te=a.W>>R;a.aN(I.posMatrix,0,a.W,0,a.W,0,1),a.H(I.posMatrix,I.posMatrix,[j*te,G*te,0]),a.J(I.posMatrix,I.posMatrix,[1/2**R,1/2**R,0]),p[_]=I}}return p}getSourceTile(u,p){const _=this.sourceCache._source;let M=u.overscaledZ-this.deltaZoom;if(M>_.maxzoom&&(M=_.maxzoom),M<_.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(M).key);let I=this.sourceCache.getTileByID(this._sourceTileCache[u.key]);if((!I||!I.dem)&&p)for(;M>=_.minzoom&&(!I||!I.dem);)I=this.sourceCache.getTileByID(u.scaledTo(M--).key);return I}tilesAfterTime(u=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=u)}}class Lo{constructor(u,p,_){this.painter=u,this.sourceCache=new Do(p),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(u,p,_,M=a.W){var I;if(!(p>=0&&p<M&&_>=0&&_<M))return 0;const R=this.getTerrainData(u),j=(I=R.tile)===null||I===void 0?void 0:I.dem;if(!j)return 0;const G=function(Fe,Ge,je){var ct=Ge[0],Ot=Ge[1];return Fe[0]=je[0]*ct+je[4]*Ot+je[12],Fe[1]=je[1]*ct+je[5]*Ot+je[13],Fe}([],[p/M*a.W,_/M*a.W],R.u_terrain_matrix),te=[G[0]*j.dim,G[1]*j.dim],ue=Math.floor(te[0]),fe=Math.floor(te[1]),Ee=te[0]-ue,ze=te[1]-fe;return j.get(ue,fe)*(1-Ee)*(1-ze)+j.get(ue+1,fe)*Ee*(1-ze)+j.get(ue,fe+1)*(1-Ee)*ze+j.get(ue+1,fe+1)*Ee*ze}getElevationForLngLatZoom(u,p){const{tileID:_,mercatorX:M,mercatorY:I}=this._getOverscaledTileIDFromLngLatZoom(u,p);return this.getElevation(_,M%a.W,I%a.W,a.W)}getElevation(u,p,_,M=a.W){return this.getDEMElevation(u,p,_,M)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const M=this.painter.context,I=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ft(M,I,M.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ft(M,new a.R({width:1,height:1}),M.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(M.gl.NEAREST,M.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.an([])}const p=this.sourceCache.getSourceTile(u,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const M=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new ft(M,p.dem.getPixels(),M.gl.RGBA,{premultiply:!1}),p.demTexture.bind(M.gl.NEAREST,M.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const _=p&&p+p.tileID.key+u.key;if(_&&!this._demMatrixCache[_]){const M=this.sourceCache.sourceCache._source.maxzoom;let I=u.canonical.z-p.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=M?I=u.canonical.z-M:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const R=u.canonical.x-(u.canonical.x>>I<<I),j=u.canonical.y-(u.canonical.y>>I<<I),G=a.b8(new Float64Array(16),[1/(a.W<<I),1/(a.W<<I),0]);a.H(G,G,[R*a.W,j*a.W,0]),this._demMatrixCache[u.key]={matrix:G,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(u){const p=this.painter,_=p.width/devicePixelRatio,M=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===M||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ft(p.context,{width:_,height:M,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ft(p.context,{width:_,height:M,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(_,M,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,_,M))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let I=0,R=0;I<this._coordsTextureSize;I++)for(let j=0;j<this._coordsTextureSize;j++,R+=4)p[R+0]=255&j,p[R+1]=255&I,p[R+2]=j>>8<<4|I>>8,p[R+3]=0;const _=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),M=new ft(u,_,u.gl.RGBA,{premultiply:!1});return M.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=M,M}pointCoordinate(u){const p=new Uint8Array(4),_=this.painter.context,M=_.gl;_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),M.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,M.RGBA,M.UNSIGNED_BYTE,p),_.bindFramebuffer.set(null);const I=p[0]+(p[2]>>4<<8),R=p[1]+((15&p[2])<<8),j=this.coordsIndex[255-p[3]],G=j&&this.sourceCache.getTileByID(j);if(!G)return null;const te=this._coordsTextureSize,ue=(1<<G.tileID.canonical.z)*te;return new a.Y((G.tileID.canonical.x*te+I)/ue+G.tileID.wrap,(G.tileID.canonical.y*te+R)/ue,this.getElevation(G.tileID,I,R,te))}depthAtPoint(u){const p=new Uint8Array(4),_=this.painter.context,M=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),M.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,M.RGBA,M.UNSIGNED_BYTE,p),_.bindFramebuffer.set(null),(p[0]/16777216+p[1]/65536+p[2]/256+p[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const u=this.painter.context,p=new a.b9,_=new a.aX,M=this.meshSize,I=a.W/M,R=M*M;for(let fe=0;fe<=M;fe++)for(let Ee=0;Ee<=M;Ee++)p.emplaceBack(Ee*I,fe*I,0);for(let fe=0;fe<R;fe+=M+1)for(let Ee=0;Ee<M;Ee++)_.emplaceBack(Ee+fe,M+Ee+fe+1,M+Ee+fe+2),_.emplaceBack(Ee+fe,M+Ee+fe+2,Ee+fe+1);const j=p.length,G=j+2*(M+1);for(const fe of[0,1])for(let Ee=0;Ee<=M;Ee++)for(const ze of[0,1])p.emplaceBack(Ee*I,fe*a.W,ze);for(let fe=0;fe<2*M;fe+=2)_.emplaceBack(G+fe,G+fe+1,G+fe+3),_.emplaceBack(G+fe,G+fe+3,G+fe+2),_.emplaceBack(j+fe,j+fe+3,j+fe+1),_.emplaceBack(j+fe,j+fe+2,j+fe+3);const te=p.length,ue=te+2*(M+1);for(const fe of[0,1])for(let Ee=0;Ee<=M;Ee++)for(const ze of[0,1])p.emplaceBack(fe*a.W,Ee*I,ze);for(let fe=0;fe<2*M;fe+=2)_.emplaceBack(te+fe,te+fe+1,te+fe+3),_.emplaceBack(te+fe,te+fe+3,te+fe+2),_.emplaceBack(ue+fe,ue+fe+3,ue+fe+1),_.emplaceBack(ue+fe,ue+fe+2,ue+fe+3);return this._mesh={indexBuffer:u.createIndexBuffer(_),vertexBuffer:u.createVertexBuffer(p,_l.members),segments:a.$.simpleSegment(0,0,p.length,_.length)},this._mesh}getMeshFrameDelta(u){return 2*Math.PI*a.ba/Math.pow(2,u)/5}getMinTileElevationForLngLatZoom(u,p){var _;const{tileID:M}=this._getOverscaledTileIDFromLngLatZoom(u,p);return(_=this.getMinMaxElevation(M).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(u){const p=this.getTerrainData(u).tile,_={minElevation:null,maxElevation:null};return p&&p.dem&&(_.minElevation=p.dem.min*this.exaggeration,_.maxElevation=p.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(u,p){const _=a.Y.fromLngLat(u.wrap()),M=(1<<p)*a.W,I=_.x*M,R=_.y*M,j=Math.floor(I/a.W),G=Math.floor(R/a.W);return{tileID:new a.Q(p,0,p,j,G),mercatorX:I,mercatorY:R}}}class Ff{constructor(u,p,_){this._context=u,this._size=p,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const u of this._objects)u.texture.destroy(),u.fbo.destroy()}_createObject(u){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new ft(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(_.texture),{id:u,fbo:p,texture:_,stamp:-1,inUse:!1}}getObjectForId(u){return this._objects[u]}useObject(u){u.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>u.id!==p),this._recentlyUsed.push(u.id)}stampObject(u){u.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const u=this._createObject(this._objects.length);return this._objects.push(u),u}freeObject(u){u.inUse=!1}freeAllObjects(){for(const u of this._objects)this.freeObject(u)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(u=>!u.inUse)===!1}}const Uu={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Ru{constructor(u,p){this.painter=u,this.terrain=p,this.pool=new Ff(u.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(u){return this.pool.getObjectForId(u.rtt[this._stacks.length-1].id).texture}prepareForRender(u,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=u._order.filter(_=>!u._layers[_].isHidden(p)),this._coordsDescendingInv={};for(const _ in u.sourceCaches){this._coordsDescendingInv[_]={};const M=u.sourceCaches[_].getVisibleCoordinates();for(const I of M){const R=this.terrain.sourceCache.getTerrainCoords(I);for(const j in R)this._coordsDescendingInv[_][j]||(this._coordsDescendingInv[_][j]=[]),this._coordsDescendingInv[_][j].push(R[j])}}this._coordsDescendingInvStr={};for(const _ of u._order){const M=u._layers[_],I=M.source;if(Uu[M.type]&&!this._coordsDescendingInvStr[I]){this._coordsDescendingInvStr[I]={};for(const R in this._coordsDescendingInv[I])this._coordsDescendingInvStr[I][R]=this._coordsDescendingInv[I][R].map(j=>j.key).sort().join()}}for(const _ of this._renderableTiles)for(const M in this._coordsDescendingInvStr){const I=this._coordsDescendingInvStr[M][_.tileID.key];I&&I!==_.rttCoords[M]&&(_.rtt=[])}}renderLayer(u){if(u.isHidden(this.painter.transform.zoom))return!1;const p=u.type,_=this.painter,M=this._renderableLayerIds[this._renderableLayerIds.length-1]===u.id;if(Uu[p]&&(this._prevType&&Uu[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(u.id),!M))return!0;if(Uu[this._prevType]||Uu[p]&&M){this._prevType=p;const I=this._stacks.length-1,R=this._stacks[I]||[];for(const j of this._renderableTiles){if(this.pool.isFull()&&(yl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(j),j.rtt[I]){const te=this.pool.getObjectForId(j.rtt[I].id);if(te.stamp===j.rtt[I].stamp){this.pool.useObject(te);continue}}const G=this.pool.getOrCreateFreeObject();this.pool.useObject(G),this.pool.stampObject(G),j.rtt[I]={id:G.id,stamp:G.stamp},_.context.bindFramebuffer.set(G.fbo.framebuffer),_.context.clear({color:a.aO.transparent,stencil:0}),_.currentStencilSource=void 0;for(let te=0;te<R.length;te++){const ue=_.style._layers[R[te]],fe=ue.source?this._coordsDescendingInv[ue.source][j.tileID.key]:[j.tileID];_.context.viewport.set([0,0,G.fbo.width,G.fbo.height]),_._renderTileClippingMasks(ue,fe),_.renderLayer(_,_.style.sourceCaches[ue.source],ue,fe),ue.source&&(j.rttCoords[ue.source]=this._coordsDescendingInvStr[ue.source][j.tileID.key])}}return yl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Uu[p]}return!1}}const lA={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Df=h,Zc={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:Qo,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},zu=O=>{O.touchstart=O.dragStart,O.touchmoveWindow=O.dragMove,O.touchend=O.dragEnd},Sh={showCompass:!0,showZoom:!0,visualizePitch:!1};class ke{constructor(u,p,_=!1){this.mousedown=R=>{this.startMouse(a.e({},R,{ctrlKey:!0,preventDefault:()=>R.preventDefault()}),k.mousePos(this.element,R)),k.addEventListener(window,"mousemove",this.mousemove),k.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=R=>{this.moveMouse(R,k.mousePos(this.element,R))},this.mouseup=R=>{this.mouseRotate.dragEnd(R),this.mousePitch&&this.mousePitch.dragEnd(R),this.offTemp()},this.touchstart=R=>{R.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=k.touchPos(this.element,R.targetTouches)[0],this.startTouch(R,this._startPos),k.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.addEventListener(window,"touchend",this.touchend))},this.touchmove=R=>{R.targetTouches.length!==1?this.reset():(this._lastPos=k.touchPos(this.element,R.targetTouches)[0],this.moveTouch(R,this._lastPos))},this.touchend=R=>{R.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const M=u.dragRotate._mouseRotate.getClickTolerance(),I=u.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=Pl({clickTolerance:M,enable:!0}),this.touchRotate=(({enable:R,clickTolerance:j,bearingDegreesPerPixelMoved:G=.8})=>{const te=new $s;return new vl({clickTolerance:j,move:(ue,fe)=>({bearingDelta:(fe.x-ue.x)*G}),moveStateManager:te,enable:R,assignEvents:zu})})({clickTolerance:M,enable:!0}),this.map=u,_&&(this.mousePitch=oA({clickTolerance:I,enable:!0}),this.touchPitch=(({enable:R,clickTolerance:j,pitchDegreesPerPixelMoved:G=-.5})=>{const te=new $s;return new vl({clickTolerance:j,move:(ue,fe)=>({pitchDelta:(fe.y-ue.y)*G}),moveStateManager:te,enable:R,assignEvents:zu})})({clickTolerance:I,enable:!0})),k.addEventListener(p,"mousedown",this.mousedown),k.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),k.addEventListener(p,"touchcancel",this.reset)}startMouse(u,p){this.mouseRotate.dragStart(u,p),this.mousePitch&&this.mousePitch.dragStart(u,p),k.disableDrag()}startTouch(u,p){this.touchRotate.dragStart(u,p),this.touchPitch&&this.touchPitch.dragStart(u,p),k.disableDrag()}moveMouse(u,p){const _=this.map,{bearingDelta:M}=this.mouseRotate.dragMove(u,p)||{};if(M&&_.setBearing(_.getBearing()+M),this.mousePitch){const{pitchDelta:I}=this.mousePitch.dragMove(u,p)||{};I&&_.setPitch(_.getPitch()+I)}}moveTouch(u,p){const _=this.map,{bearingDelta:M}=this.touchRotate.dragMove(u,p)||{};if(M&&_.setBearing(_.getBearing()+M),this.touchPitch){const{pitchDelta:I}=this.touchPitch.dragMove(u,p)||{};I&&_.setPitch(_.getPitch()+I)}}off(){const u=this.element;k.removeEventListener(u,"mousedown",this.mousedown),k.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),k.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.removeEventListener(window,"touchend",this.touchend),k.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){k.enableDrag(),k.removeEventListener(window,"mousemove",this.mousemove),k.removeEventListener(window,"mouseup",this.mouseup),k.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.removeEventListener(window,"touchend",this.touchend)}}let Cl;function Pa(O,u,p){if(O=new a.M(O.lng,O.lat),u){const _=new a.M(O.lng-360,O.lat),M=new a.M(O.lng+360,O.lat),I=p.locationPoint(O).distSqr(u);p.locationPoint(_).distSqr(u)<I?O=_:p.locationPoint(M).distSqr(u)<I&&(O=M)}for(;Math.abs(O.lng-p.center.lng)>180;){const _=p.locationPoint(O);if(_.x>=0&&_.y>=0&&_.x<=p.width&&_.y<=p.height)break;O.lng>p.center.lng?O.lng-=360:O.lng+=360}return O}const no={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function jr(O,u,p){const _=O.classList;for(const M in no)_.remove(`maplibregl-${p}-anchor-${M}`);_.add(`maplibregl-${p}-anchor-${u}`)}class la extends a.E{constructor(u){if(super(),this._onKeyPress=p=>{const _=p.code,M=p.charCode||p.keyCode;_!=="Space"&&_!=="Enter"&&M!==32&&M!==13||this.togglePopup()},this._onMapClick=p=>{const _=p.originalEvent.target,M=this._element;this._popup&&(_===M||M.contains(_))&&this.togglePopup()},this._update=p=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!_)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Pa(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let M="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?M=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(M=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let I="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?I="rotateX(0deg)":this._pitchAlignment==="map"&&(I=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),k.setTransform(this._element,`${no[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${I} ${M}`),this._updateOpacity(p&&p.type==="moveend")},this._onMove=p=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(u==null?void 0:u.opacity,u==null?void 0:u.opacityWhenCovered),u&&u.element)this._element=u.element,this._offset=a.P.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=k.create("div"),this._element.setAttribute("aria-label","Map marker");const p=k.createNS("http://www.w3.org/2000/svg","svg"),_=41,M=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${_}px`),p.setAttributeNS(null,"width",`${M}px`),p.setAttributeNS(null,"viewBox",`0 0 ${M} ${_}`);const I=k.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"stroke","none"),I.setAttributeNS(null,"stroke-width","1"),I.setAttributeNS(null,"fill","none"),I.setAttributeNS(null,"fill-rule","evenodd");const R=k.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill-rule","nonzero");const j=k.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(3.0, 29.0)"),j.setAttributeNS(null,"fill","#000000");const G=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ct of G){const Ot=k.createNS("http://www.w3.org/2000/svg","ellipse");Ot.setAttributeNS(null,"opacity","0.04"),Ot.setAttributeNS(null,"cx","10.5"),Ot.setAttributeNS(null,"cy","5.80029008"),Ot.setAttributeNS(null,"rx",ct.rx),Ot.setAttributeNS(null,"ry",ct.ry),j.appendChild(Ot)}const te=k.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"fill",this._color);const ue=k.createNS("http://www.w3.org/2000/svg","path");ue.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),te.appendChild(ue);const fe=k.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"fill","#000000");const Ee=k.createNS("http://www.w3.org/2000/svg","path");Ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),fe.appendChild(Ee);const ze=k.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ze.setAttributeNS(null,"fill","#FFFFFF");const Fe=k.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ge=k.createNS("http://www.w3.org/2000/svg","circle");Ge.setAttributeNS(null,"fill","#000000"),Ge.setAttributeNS(null,"opacity","0.25"),Ge.setAttributeNS(null,"cx","5.5"),Ge.setAttributeNS(null,"cy","5.5"),Ge.setAttributeNS(null,"r","5.4999962");const je=k.createNS("http://www.w3.org/2000/svg","circle");je.setAttributeNS(null,"fill","#FFFFFF"),je.setAttributeNS(null,"cx","5.5"),je.setAttributeNS(null,"cy","5.5"),je.setAttributeNS(null,"r","5.4999962"),Fe.appendChild(Ge),Fe.appendChild(je),R.appendChild(j),R.appendChild(te),R.appendChild(fe),R.appendChild(ze),R.appendChild(Fe),p.appendChild(R),p.setAttributeNS(null,"height",_*this._scale+"px"),p.setAttributeNS(null,"width",M*this._scale+"px"),this._element.appendChild(p),this._offset=a.P.convert(u&&u.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),jr(this._element,this._anchor,"marker"),u&&u.className)for(const p of u.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),u.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),k.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=a.M.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const M=Math.abs(13.5)/Math.SQRT2;u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[M,-1*(38.1-13.5+M)],"bottom-right":[-M,-1*(38.1-13.5+M)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const u=this._popup;return u?(u.isOpen()?u.remove():u.addTo(this._map),this):this}_updateOpacity(u=!1){if(!this._map.terrain)return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(u)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const p=this._map,_=p.terrain.depthAtPoint(this._pos),M=p.terrain.getElevationForLngLatZoom(this._lngLat,p.transform.tileZoom);if(p.transform.lngLatToCameraDepth(this._lngLat,M)-_<.006)return void(this._element.style.opacity=this._opacity);const I=-this._offset.y/p.transform._pixelPerMeter,R=Math.sin(p.getPitch()*Math.PI/180)*I,j=p.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),G=p.transform.lngLatToCameraDepth(this._lngLat,M+R);this._element.style.opacity=G-j>.006?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(u){return this._offset=a.P.convert(u),this._update(),this}addClassName(u){this._element.classList.add(u)}removeClassName(u){this._element.classList.remove(u)}toggleClassName(u){return this._element.classList.toggle(u)}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(u,p){return u===void 0&&p===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),u!==void 0&&(this._opacity=u),p!==void 0&&(this._opacityWhenCovered=p),this._map&&this._updateOpacity(!0),this}}const mc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let gc=0,Ys=!1;const Lf={maxWidth:100,unit:"metric"};function Fd(O,u,p){const _=p&&p.maxWidth||100,M=O._container.clientHeight/2,I=O.unproject([0,M]),R=O.unproject([_,M]),j=I.distanceTo(R);if(p&&p.unit==="imperial"){const G=3.2808*j;G>5280?yc(u,_,G/5280,O._getUIString("ScaleControl.Miles")):yc(u,_,G,O._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?yc(u,_,j/1852,O._getUIString("ScaleControl.NauticalMiles")):j>=1e3?yc(u,_,j/1e3,O._getUIString("ScaleControl.Kilometers")):yc(u,_,j,O._getUIString("ScaleControl.Meters"))}function yc(O,u,p,_){const M=function(I){const R=Math.pow(10,`${Math.floor(I)}`.length-1);let j=I/R;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function(G){const te=Math.pow(10,Math.ceil(-Math.log(G)/Math.LN10));return Math.round(G*te)/te}(j),R*j}(p);O.style.width=u*(M/p)+"px",O.innerHTML=`${M}&nbsp;${_}`}const Dd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Eh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function bl(O){if(O){if(typeof O=="number"){const u=Math.round(Math.abs(O)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,O),"top-left":new a.P(u,u),"top-right":new a.P(-u,u),bottom:new a.P(0,-O),"bottom-left":new a.P(u,-u),"bottom-right":new a.P(-u,-u),left:new a.P(O,0),right:new a.P(-O,0)}}if(O instanceof a.P||Array.isArray(O)){const u=a.P.convert(O);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:a.P.convert(O.center||[0,0]),top:a.P.convert(O.top||[0,0]),"top-left":a.P.convert(O["top-left"]||[0,0]),"top-right":a.P.convert(O["top-right"]||[0,0]),bottom:a.P.convert(O.bottom||[0,0]),"bottom-left":a.P.convert(O["bottom-left"]||[0,0]),"bottom-right":a.P.convert(O["bottom-right"]||[0,0]),left:a.P.convert(O.left||[0,0]),right:a.P.convert(O.right||[0,0])}}return bl(new a.P(0,0))}const Uf=h;s.AJAXError=a.bd,s.Evented=a.E,s.LngLat=a.M,s.MercatorCoordinate=a.Y,s.Point=a.P,s.addProtocol=a.be,s.config=a.a,s.removeProtocol=a.bf,s.AttributionControl=aA,s.BoxZoomHandler=pu,s.CanvasSource=Nr,s.CooperativeGesturesHandler=ea,s.DoubleClickZoomHandler=Vc,s.DragPanHandler=Pd,s.DragRotateHandler=Mh,s.EdgeInsets=cc,s.FullscreenControl=class extends a.E{constructor(O={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,O&&O.container&&(O.container instanceof HTMLElement?this._container=O.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(O){return this._map=O,this._container||(this._container=this._map.getContainer()),this._controlContainer=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){k.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const O=this._fullscreenButton=k.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);k.create("span","maplibregl-ctrl-icon",O).setAttribute("aria-hidden","true"),O.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const O=this._getTitle();this._fullscreenButton.setAttribute("aria-label",O),this._fullscreenButton.title=O}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=bn,s.GeolocateControl=class extends a.E{constructor(O){super(),this._onSuccess=u=>{if(this._map){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",u)),this._finish()}},this._updateCamera=u=>{const p=new a.M(u.coords.longitude,u.coords.latitude),_=u.coords.accuracy,M=this._map.getBearing(),I=a.e({bearing:M},this.options.fitBoundsOptions),R=Ft.fromLngLat(p,_);this._map.fitBounds(R,I,{geolocateSource:!0})},this._updateMarker=u=>{if(u){const p=new a.M(u.coords.longitude,u.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=u.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=u=>{if(this._map){if(this.options.trackUserLocation)if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(u.code===3&&Ys)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",u)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=u=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=k.create("button","maplibregl-ctrl-geolocate",this._container),k.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",u===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=k.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new la({element:this._dotElement}),this._circleElement=k.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new la({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")))})}},this.options=a.e({},mc,O)}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(u=!1){return a._(this,void 0,void 0,function*(){if(Cl!==void 0&&!u)return Cl;if(window.navigator.permissions===void 0)return Cl=!!window.navigator.geolocation,Cl;try{Cl=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Cl=!!window.navigator.geolocation}return Cl})}().then(u=>this._setupUI(u)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),k.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,gc=0,Ys=!1}_isOutOfMapMaxBounds(O){const u=this._map.getMaxBounds(),p=O.coords;return u&&(p.longitude<u.getWest()||p.longitude>u.getEast()||p.latitude<u.getSouth()||p.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const O=this._map.getBounds(),u=O.getSouthEast(),p=O.getNorthEast(),_=u.distanceTo(p),M=Math.ceil(this._accuracy/(_/this._map._container.clientHeight)*2);this._circleElement.style.width=`${M}px`,this._circleElement.style.height=`${M}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":gc--,Ys=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let O;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),gc++,gc>1?(O={maximumAge:6e5,timeout:0},Ys=!0):(O=this.options.positionOptions,Ys=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,O)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.Hash=fu,s.ImageSource=mr,s.KeyboardHandler=fc,s.LngLatBounds=Ft,s.LogoControl=va,s.Map=class extends Hc{constructor(O){if(a.bb.mark(a.bc.create),(O=a.e({},Zc,O)).minZoom!=null&&O.maxZoom!=null&&O.minZoom>O.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(O.minPitch!=null&&O.maxPitch!=null&&O.minPitch>O.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(O.minPitch!=null&&O.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(O.maxPitch!=null&&O.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Id(O.minZoom,O.maxZoom,O.minPitch,O.maxPitch,O.renderWorldCopies),{bearingSnap:O.bearingSnap}),this._contextLost=u=>{u.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.k("webglcontextlost",{originalEvent:u}))},this._contextRestored=u=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:u}))},this._onMapScroll=u=>{if(u.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=O.interactive,this._maxTileCacheSize=O.maxTileCacheSize,this._maxTileCacheZoomLevels=O.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=O.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=O.preserveDrawingBuffer,this._antialias=O.antialias,this._trackResize=O.trackResize,this._bearingSnap=O.bearingSnap,this._refreshExpiredTiles=O.refreshExpiredTiles,this._fadeDuration=O.fadeDuration,this._crossSourceCollisions=O.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=O.collectResourceTiming,this._renderTaskQueue=new sA,this._controls=[],this._mapId=a.a3(),this._locale=a.e({},lA,O.locale),this._clickTolerance=O.clickTolerance,this._overridePixelRatio=O.pixelRatio,this._maxCanvasSize=O.maxCanvasSize,this.transformCameraUpdate=O.transformCameraUpdate,this._imageQueueHandle=oe.addThrottleControl(()=>this.isMoving()),this._requestManager=new Ae(O.transformRequest),typeof O.container=="string"){if(this._container=document.getElementById(O.container),!this._container)throw new Error(`Container '${O.container}' not found.`)}else{if(!(O.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=O.container}if(O.maxBounds&&this.setMaxBounds(O.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let u=!1;const p=Td(_=>{this._trackResize&&!this._removed&&this.resize(_)._update()},50);this._resizeObserver=new ResizeObserver(_=>{u?p(_):u=!0}),this._resizeObserver.observe(this._container)}this.handlers=new pc(this,O),this._hash=O.hash&&new fu(typeof O.hash=="string"&&O.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:O.center,zoom:O.zoom,bearing:O.bearing,pitch:O.pitch}),O.bounds&&(this.resize(),this.fitBounds(O.bounds,a.e({},O.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=O.localIdeographFontFamily,this._validateStyle=O.validateStyle,O.style&&this.setStyle(O.style,{localIdeographFontFamily:O.localIdeographFontFamily}),O.attributionControl&&this.addControl(new aA(typeof O.attributionControl=="boolean"?void 0:O.attributionControl)),O.maplibreLogo&&this.addControl(new va,O.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new a.k(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new a.k(`${u.dataType}dataloading`,u))}),this.on("dataabort",u=>{this.fire(new a.k("sourcedataabort",u))})}_getMapId(){return this._mapId}addControl(O,u){if(u===void 0&&(u=O.getDefaultPosition?O.getDefaultPosition():"top-right"),!O||!O.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=O.onAdd(this);this._controls.push(O);const _=this._controlPositions[u];return u.indexOf("bottom")!==-1?_.insertBefore(p,_.firstChild):_.appendChild(p),this}removeControl(O){if(!O||!O.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(O);return u>-1&&this._controls.splice(u,1),O.onRemove(this),this}hasControl(O){return this._controls.indexOf(O)>-1}calculateCameraOptionsFromTo(O,u,p,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(O,u,p,_)}resize(O){var u;const p=this._containerDimensions(),_=p[0],M=p[1],I=this._getClampedPixelRatio(_,M);if(this._resizeCanvas(_,M,I),this.painter.resize(_,M,I),this.painter.overLimit()){const j=this.painter.context.gl;this._maxCanvasSize=[j.drawingBufferWidth,j.drawingBufferHeight];const G=this._getClampedPixelRatio(_,M);this._resizeCanvas(_,M,G),this.painter.resize(_,M,G)}this.transform.resize(_,M),(u=this._requestedCameraState)===null||u===void 0||u.resize(_,M);const R=!this._moving;return R&&(this.stop(),this.fire(new a.k("movestart",O)).fire(new a.k("move",O))),this.fire(new a.k("resize",O)),R&&this.fire(new a.k("moveend",O)),this}_getClampedPixelRatio(O,u){const{0:p,1:_}=this._maxCanvasSize,M=this.getPixelRatio(),I=O*M,R=u*M;return Math.min(I>p?p/I:1,R>_?_/R:1)*M}getPixelRatio(){var O;return(O=this._overridePixelRatio)!==null&&O!==void 0?O:devicePixelRatio}setPixelRatio(O){this._overridePixelRatio=O,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(O){return this.transform.setMaxBounds(Ft.convert(O)),this._update()}setMinZoom(O){if((O=O??-2)>=-2&&O<=this.transform.maxZoom)return this.transform.minZoom=O,this._update(),this.getZoom()<O&&this.setZoom(O),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(O){if((O=O??22)>=this.transform.minZoom)return this.transform.maxZoom=O,this._update(),this.getZoom()>O&&this.setZoom(O),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(O){if((O=O??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(O>=0&&O<=this.transform.maxPitch)return this.transform.minPitch=O,this._update(),this.getPitch()<O&&this.setPitch(O),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(O){if((O=O??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(O>=this.transform.minPitch)return this.transform.maxPitch=O,this._update(),this.getPitch()>O&&this.setPitch(O),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(O){return this.transform.renderWorldCopies=O,this._update()}project(O){return this.transform.locationPoint(a.M.convert(O),this.style&&this.terrain)}unproject(O){return this.transform.pointLocation(a.P.convert(O),this.terrain)}isMoving(){var O;return this._moving||((O=this.handlers)===null||O===void 0?void 0:O.isMoving())}isZooming(){var O;return this._zooming||((O=this.handlers)===null||O===void 0?void 0:O.isZooming())}isRotating(){var O;return this._rotating||((O=this.handlers)===null||O===void 0?void 0:O.isRotating())}_createDelegatedListener(O,u,p){if(O==="mouseenter"||O==="mouseover"){let _=!1;return{layer:u,listener:p,delegates:{mousemove:I=>{const R=this.getLayer(u)?this.queryRenderedFeatures(I.point,{layers:[u]}):[];R.length?_||(_=!0,p.call(this,new hs(O,this,I.originalEvent,{features:R}))):_=!1},mouseout:()=>{_=!1}}}}if(O==="mouseleave"||O==="mouseout"){let _=!1;return{layer:u,listener:p,delegates:{mousemove:R=>{(this.getLayer(u)?this.queryRenderedFeatures(R.point,{layers:[u]}):[]).length?_=!0:_&&(_=!1,p.call(this,new hs(O,this,R.originalEvent)))},mouseout:R=>{_&&(_=!1,p.call(this,new hs(O,this,R.originalEvent)))}}}}{const _=M=>{const I=this.getLayer(u)?this.queryRenderedFeatures(M.point,{layers:[u]}):[];I.length&&(M.features=I,p.call(this,M),delete M.features)};return{layer:u,listener:p,delegates:{[O]:_}}}}on(O,u,p){if(p===void 0)return super.on(O,u);const _=this._createDelegatedListener(O,u,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[O]=this._delegatedListeners[O]||[],this._delegatedListeners[O].push(_);for(const M in _.delegates)this.on(M,_.delegates[M]);return this}once(O,u,p){if(p===void 0)return super.once(O,u);const _=this._createDelegatedListener(O,u,p);for(const M in _.delegates)this.once(M,_.delegates[M]);return this}off(O,u,p){return p===void 0?super.off(O,u):(this._delegatedListeners&&this._delegatedListeners[O]&&(_=>{const M=this._delegatedListeners[O];for(let I=0;I<M.length;I++){const R=M[I];if(R.layer===u&&R.listener===p){for(const j in R.delegates)this.off(j,R.delegates[j]);return M.splice(I,1),this}}})(),this)}queryRenderedFeatures(O,u){if(!this.style)return[];let p;const _=O instanceof a.P||Array.isArray(O),M=_?O:[[0,0],[this.transform.width,this.transform.height]];if(u=u||(_?{}:O)||{},M instanceof a.P||typeof M[0]=="number")p=[a.P.convert(M)];else{const I=a.P.convert(M[0]),R=a.P.convert(M[1]);p=[I,new a.P(R.x,I.y),R,new a.P(I.x,R.y),I]}return this.style.queryRenderedFeatures(p,u,this.transform)}querySourceFeatures(O,u){return this.style.querySourceFeatures(O,u)}setStyle(O,u){return(u=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&O?(this._diffStyle(O,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(O,u))}setTransformRequest(O){return this._requestManager.setTransformRequest(O),this}_getUIString(O){const u=this._locale[O];if(u==null)throw new Error(`Missing UI string '${O}'`);return u}_updateStyle(O,u){if(u.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(O,u));const p=this.style&&u.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!O)),O?(this.style=new ri(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof O=="string"?this.style.loadURL(O,u,p):this.style.loadJSON(O,u,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ri(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(O,u){if(typeof O=="string"){const p=this._requestManager.transformRequest(O,re.Style);a.h(p,new AbortController).then(_=>{this._updateDiff(_.data,u)}).catch(_=>{_&&this.fire(new a.j(_))})}else typeof O=="object"&&this._updateDiff(O,u)}_updateDiff(O,u){try{this.style.setState(O,u)&&this._update(!0)}catch(p){a.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(O,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(O,u){return this._lazyInitEmptyStyle(),this.style.addSource(O,u),this._update(!0)}isSourceLoaded(O){const u=this.style&&this.style.sourceCaches[O];if(u!==void 0)return u.loaded();this.fire(new a.j(new Error(`There is no source with ID '${O}'`)))}setTerrain(O){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),O){const u=this.style.sourceCaches[O.source];if(!u)throw new Error(`cannot load terrain, because there exists no source with ID: ${O.source}`);this.terrain===null&&u.reload();for(const p in this.style._layers){const _=this.style._layers[p];_.type==="hillshade"&&_.source===O.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Lo(this.painter,u,O),this.painter.renderToTexture=new Ru(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==O.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.k("terrain",{terrain:O})),this}getTerrain(){var O,u;return(u=(O=this.terrain)===null||O===void 0?void 0:O.options)!==null&&u!==void 0?u:null}areTilesLoaded(){const O=this.style&&this.style.sourceCaches;for(const u in O){const p=O[u]._tiles;for(const _ in p){const M=p[_];if(M.state!=="loaded"&&M.state!=="errored")return!1}}return!0}removeSource(O){return this.style.removeSource(O),this._update(!0)}getSource(O){return this.style.getSource(O)}addImage(O,u,p={}){const{pixelRatio:_=1,sdf:M=!1,stretchX:I,stretchY:R,content:j}=p;if(this._lazyInitEmptyStyle(),!(u instanceof HTMLImageElement||a.b(u))){if(u.width===void 0||u.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:te,data:ue}=u,fe=u;return this.style.addImage(O,{data:new a.R({width:G,height:te},new Uint8Array(ue)),pixelRatio:_,stretchX:I,stretchY:R,content:j,sdf:M,version:0,userImage:fe}),fe.onAdd&&fe.onAdd(this,O),this}}{const{width:G,height:te,data:ue}=B.getImageData(u);this.style.addImage(O,{data:new a.R({width:G,height:te},ue),pixelRatio:_,stretchX:I,stretchY:R,content:j,sdf:M,version:0})}}updateImage(O,u){const p=this.style.getImage(O);if(!p)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=u instanceof HTMLImageElement||a.b(u)?B.getImageData(u):u,{width:M,height:I,data:R}=_;if(M===void 0||I===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(M!==p.data.width||I!==p.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const j=!(u instanceof HTMLImageElement||a.b(u));return p.data.replace(R,j),this.style.updateImage(O,p),this}getImage(O){return this.style.getImage(O)}hasImage(O){return O?!!this.style.getImage(O):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(O){this.style.removeImage(O)}loadImage(O){return oe.getImage(this._requestManager.transformRequest(O,re.Image),new AbortController)}listImages(){return this.style.listImages()}addLayer(O,u){return this._lazyInitEmptyStyle(),this.style.addLayer(O,u),this._update(!0)}moveLayer(O,u){return this.style.moveLayer(O,u),this._update(!0)}removeLayer(O){return this.style.removeLayer(O),this._update(!0)}getLayer(O){return this.style.getLayer(O)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(O,u,p){return this.style.setLayerZoomRange(O,u,p),this._update(!0)}setFilter(O,u,p={}){return this.style.setFilter(O,u,p),this._update(!0)}getFilter(O){return this.style.getFilter(O)}setPaintProperty(O,u,p,_={}){return this.style.setPaintProperty(O,u,p,_),this._update(!0)}getPaintProperty(O,u){return this.style.getPaintProperty(O,u)}setLayoutProperty(O,u,p,_={}){return this.style.setLayoutProperty(O,u,p,_),this._update(!0)}getLayoutProperty(O,u){return this.style.getLayoutProperty(O,u)}setGlyphs(O,u={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(O,u),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(O,u,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(O,u,p,_=>{_||this._update(!0)}),this}removeSprite(O){return this._lazyInitEmptyStyle(),this.style.removeSprite(O),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(O,u={}){return this._lazyInitEmptyStyle(),this.style.setSprite(O,u,p=>{p||this._update(!0)}),this}setLight(O,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(O,u),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(O,u){return this.style.setFeatureState(O,u),this._update()}removeFeatureState(O,u){return this.style.removeFeatureState(O,u),this._update()}getFeatureState(O){return this.style.getFeatureState(O)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let O=0,u=0;return this._container&&(O=this._container.clientWidth||400,u=this._container.clientHeight||300),[O,u]}_setupContainer(){const O=this._container;O.classList.add("maplibregl-map");const u=this._canvasContainer=k.create("div","maplibregl-canvas-container",O);this._interactive&&u.classList.add("maplibregl-interactive"),this._canvas=k.create("canvas","maplibregl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),_=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],_);const M=this._controlContainer=k.create("div","maplibregl-control-container",O),I=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(R=>{I[R]=k.create("div",`maplibregl-ctrl-${R} `,M)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(O,u,p){this._canvas.width=Math.floor(p*O),this._canvas.height=Math.floor(p*u),this._canvas.style.width=`${O}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const O={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let u=null;this._canvas.addEventListener("webglcontextcreationerror",_=>{u={requestedAttributes:O},_&&(u.statusMessage=_.statusMessage,u.type=_.type)},{once:!0});const p=this._canvas.getContext("webgl2",O)||this._canvas.getContext("webgl",O);if(!p){const _="Failed to initialize WebGL";throw u?(u.message=_,new Error(JSON.stringify(u))):new Error(_)}this.painter=new bh(p,this.transform),P.testSupport(p)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(O){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||O,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(O){return this._update(),this._renderTaskQueue.add(O)}_cancelRenderFrame(O){this._renderTaskQueue.remove(O)}_render(O){const u=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(O),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const M=this.transform.zoom,I=B.now();this.style.zoomHistory.update(M,I);const R=new a.a8(M,{now:I,fadeDuration:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),j=R.crossFadingFactor();j===1&&j===this._crossFadingFactor||(p=!0,this._crossFadingFactor=j),this.style.update(R)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,u,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:u,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.bb.mark(a.bc.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const _=this._sourcesDirty||this._styleDirty||this._placementDirty;return _||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,a.bb.mark(a.bc.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var O;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),oe.removeThrottleControl(this._imageQueueHandle),(O=this._resizeObserver)===null||O===void 0||O.disconnect();const u=this.painter.context.gl.getExtension("WEBGL_lose_context");u&&u.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),k.remove(this._canvasContainer),k.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),a.bb.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,B.frameAsync(this._frameRequest).then(O=>{a.bb.frame(O),this._frameRequest=null,this._render(O)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(O){this._showTileBoundaries!==O&&(this._showTileBoundaries=O,this._update())}get showPadding(){return!!this._showPadding}set showPadding(O){this._showPadding!==O&&(this._showPadding=O,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(O){this._showCollisionBoxes!==O&&(this._showCollisionBoxes=O,O?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(O){this._showOverdrawInspector!==O&&(this._showOverdrawInspector=O,this._update())}get repaint(){return!!this._repaint}set repaint(O){this._repaint!==O&&(this._repaint=O,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(O){this._vertices=O,this._update()}get version(){return Df}getCameraTargetElevation(){return this.transform.elevation}},s.MapMouseEvent=hs,s.MapTouchEvent=qc,s.MapWheelEvent=fs,s.Marker=la,s.NavigationControl=class{constructor(O){this._updateZoomButtons=()=>{const u=this._map.getZoom(),p=u===this._map.getMaxZoom(),_=u===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{const u=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=u},this._setButtonTitle=(u,p)=>{const _=this._map._getUIString(`NavigationControl.${p}`);u.title=_,u.setAttribute("aria-label",_)},this.options=a.e({},Sh,O),this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",u=>this._map.zoomIn({},{originalEvent:u})),k.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",u=>this._map.zoomOut({},{originalEvent:u})),k.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})}),this._compassIcon=k.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(O){return this._map=O,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ke(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){k.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(O,u){const p=k.create("button",O,this._container);return p.type="button",p.addEventListener("click",u),p}},s.Popup=class extends a.E{constructor(O){super(),this.remove=()=>(this._content&&k.remove(this._content),this._container&&(k.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map),this.fire(new a.k("close")),this),this._onMouseUp=u=>{this._update(u.point)},this._onMouseMove=u=>{this._update(u.point)},this._onDrag=u=>{this._update(u.point)},this._update=u=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=k.create("div","maplibregl-popup",this._map.getContainer()),this._tip=k.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const R of this.options.className.split(" "))this._container.classList.add(R);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Pa(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!u)return;const p=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat);let _=this.options.anchor;const M=bl(this.options.offset);if(!_){const R=this._container.offsetWidth,j=this._container.offsetHeight;let G;G=p.y+M.bottom.y<j?["top"]:p.y>this._map.transform.height-j?["bottom"]:[],p.x<R/2?G.push("left"):p.x>this._map.transform.width-R/2&&G.push("right"),_=G.length===0?"bottom":G.join("-")}const I=p.add(M[_]).round();k.setTransform(this._container,`${no[_]} translate(${I.x}px,${I.y}px)`),jr(this._container,_,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Dd),O)}addTo(O){return this._map&&this.remove(),this._map=O,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(O){return this._lngLat=a.M.convert(O),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(O){return this.setDOMContent(document.createTextNode(O))}setHTML(O){const u=document.createDocumentFragment(),p=document.createElement("body");let _;for(p.innerHTML=O;_=p.firstChild,_;)u.appendChild(_);return this.setDOMContent(u)}getMaxWidth(){var O;return(O=this._container)===null||O===void 0?void 0:O.style.maxWidth}setMaxWidth(O){return this.options.maxWidth=O,this._update(),this}setDOMContent(O){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=k.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(O),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(O){this._container&&this._container.classList.add(O)}removeClassName(O){this._container&&this._container.classList.remove(O)}setOffset(O){return this.options.offset=O,this._update(),this}toggleClassName(O){if(this._container)return this._container.classList.toggle(O)}_createCloseButton(){this.options.closeButton&&(this._closeButton=k.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const O=this._container.querySelector(Eh);O&&O.focus()}},s.RasterDEMTileSource=pn,s.RasterTileSource=nr,s.ScaleControl=class{constructor(O){this._onMove=()=>{Fd(this._map,this._container,this.options)},this.setUnit=u=>{this.options.unit=u,Fd(this._map,this._container,this.options)},this.options=a.e({},Lf,O)}getDefaultPosition(){return"bottom-left"}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-scale",O.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){k.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=yu,s.Style=ri,s.TerrainControl=class{constructor(O){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=O}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=k.create("button","maplibregl-ctrl-terrain",this._container),k.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){k.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=PA,s.TwoFingersTouchRotateHandler=Du,s.TwoFingersTouchZoomHandler=KA,s.TwoFingersTouchZoomRotateHandler=to,s.VectorTileSource=pt,s.VideoSource=xr,s.addSourceType=(O,u)=>a._(void 0,void 0,void 0,function*(){if(fi(O))throw new Error(`A source type called "${O}" already exists.`);((p,_)=>{_r[p]=_})(O,u)}),s.clearPrewarmedResources=function(){const O=kt;O&&(O.isPreloaded()&&O.numActive()===1?(O.release(on),kt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return Y().getRTLTextPluginStatus()},s.getVersion=function(){return Uf},s.getWorkerCount=function(){return mt.workerCount},s.getWorkerUrl=function(){return a.a.WORKER_URL},s.importScriptInWorkers=function(O){return be().broadcast("importScript",O)},s.prewarm=function(){Me().acquire(on)},s.setMaxParallelImageRequests=function(O){a.a.MAX_PARALLEL_IMAGE_REQUESTS=O},s.setRTLTextPlugin=function(O,u){return Y().setRTLTextPlugin(O,u)},s.setWorkerCount=function(O){mt.workerCount=O},s.setWorkerUrl=function(O){a.a.WORKER_URL=O}});var o=t;return o})})(iR);var oJ=iR.exports;const a_=oa(oJ);var wp={};function F6(e,n,t){var r={id:[n,t,"circle"].join("_"),source:n,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return t&&(r["source-layer"]=t),r}function D6(e,n,t,r){var i={id:[t,r,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function L6(e,n,t){var r={id:[n,t,"line"].join("_"),source:n,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return t&&(r["source-layer"]=t),r}function aJ(e,n){var t=[],r=[],i=[];function o(s){var a=n.bind(null,s),h={circle:a(.8),line:a(.6),polygon:a(.3),polygonOutline:a(.6),default:a(1)};return h}return Object.keys(e).forEach(function(s){var a=e[s];if(!a||a.length===0){var h=o(s);r.push(F6(h.circle,s)),i.push(L6(h.line,s)),t.push(D6(h.polygon,h.polygonOutline,s))}else a.forEach(function(g){var C=o(g);r.push(F6(C.circle,s,g)),i.push(L6(C.line,s,g)),t.push(D6(C.polygon,C.polygonOutline,s,g))})}),t.concat(i).concat(r)}function sJ(e,n,t){t=Object.assign({backgroundColor:"#fff"},t);var r={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},i={};return Object.keys(e.sources).forEach(function(o){var s=e.sources[o];(s.type==="vector"||s.type==="geojson")&&(i[o]=s)}),Object.assign(e,{layers:[r].concat(n),soources:i})}wp.polygonLayer=D6;wp.lineLayer=L6;wp.circleLayer=F6;wp.generateInspectStyle=sJ;wp.generateColoredLayers=aJ;function lJ(e,n){var t=document.createElement("div");return t.className="mapboxgl-ctrl mapboxgl-ctrl-group",t.appendChild(e),n||(t.style.display="none"),t}function uJ(){var e=document.createElement("button");return e.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect",e.type="button",e["aria-label"]="Inspect",e}function WB(e){e=Object.assign({show:!0,onToggle:function(){}},e),this._btn=uJ(),this._btn.onclick=e.onToggle,this.elem=lJ(this._btn,e.show)}WB.prototype.setInspectIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect"};WB.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"};var AJ=WB,h3={exports:{}};h3.exports;(function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",h="[object Array]",g="[object AsyncFunction]",C="[object Boolean]",B="[object Date]",k="[object Error]",P="[object Function]",U="[object GeneratorFunction]",Z="[object Map]",W="[object Number]",Q="[object Null]",q="[object Object]",oe="[object Promise]",re="[object Proxy]",Ae="[object RegExp]",ae="[object Set]",se="[object String]",ye="[object Symbol]",De="[object Undefined]",Ne="[object WeakMap]",et="[object ArrayBuffer]",ft="[object DataView]",Ke="[object Float32Array]",rt="[object Float64Array]",_e="[object Int8Array]",Ut="[object Int16Array]",jt="[object Int32Array]",nn="[object Uint8Array]",Qt="[object Uint8ClampedArray]",He="[object Uint16Array]",Je="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,on=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,dt={};dt[Ke]=dt[rt]=dt[_e]=dt[Ut]=dt[jt]=dt[nn]=dt[Qt]=dt[He]=dt[Je]=!0,dt[a]=dt[h]=dt[et]=dt[C]=dt[ft]=dt[B]=dt[k]=dt[P]=dt[Z]=dt[W]=dt[q]=dt[Ae]=dt[ae]=dt[se]=dt[Ne]=!1;var kt=typeof window=="object"&&window&&window.Object===Object&&window,Pt=typeof self=="object"&&self&&self.Object===Object&&self,Me=kt||Pt||Function("return this")(),he=n&&!n.nodeType&&n,be=he&&!0&&e&&!e.nodeType&&e,Pe=be&&be.exports===he,Ze=Pe&&kt.process,nt=function(){try{return Ze&&Ze.binding&&Ze.binding("util")}catch{}}(),xt=nt&&nt.isTypedArray;function Ft(ne,Ie){for(var At=-1,Yt=ne==null?0:ne.length,wr=0,Tn=[];++At<Yt;){var Ci=ne[At];Ie(Ci,At,ne)&&(Tn[wr++]=Ci)}return Tn}function Dt(ne,Ie){for(var At=-1,Yt=Ie.length,wr=ne.length;++At<Yt;)ne[wr+At]=Ie[At];return ne}function pt(ne,Ie){for(var At=-1,Yt=ne==null?0:ne.length;++At<Yt;)if(Ie(ne[At],At,ne))return!0;return!1}function nr(ne,Ie){for(var At=-1,Yt=Array(ne);++At<ne;)Yt[At]=Ie(At);return Yt}function pn(ne){return function(Ie){return ne(Ie)}}function bn(ne,Ie){return ne.has(Ie)}function Jn(ne,Ie){return ne==null?void 0:ne[Ie]}function mr(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt,wr){At[++Ie]=[wr,Yt]}),At}function xr(ne,Ie){return function(At){return ne(Ie(At))}}function Nr(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt){At[++Ie]=Yt}),At}var _r=Array.prototype,fi=Function.prototype,we=Object.prototype,H=Me["__core-js_shared__"],Y=fi.toString,Be=we.hasOwnProperty,st=function(){var ne=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),St=we.toString,Et=RegExp("^"+Y.call(Be).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Pe?Me.Buffer:void 0,mn=Me.Symbol,Kn=Me.Uint8Array,En=we.propertyIsEnumerable,m=_r.splice,Tt=mn?mn.toStringTag:void 0,Lr=Object.getOwnPropertySymbols,Wn=Nt?Nt.isBuffer:void 0,Te=xr(Object.keys,Object),de=Za(Me,"DataView"),ve=Za(Me,"Map"),Se=Za(Me,"Promise"),Ue=Za(Me,"Set"),Xe=Za(Me,"WeakMap"),at=Za(Object,"create"),ht=Xa(de),Ve=Xa(ve),Ct=Xa(Se),Zt=Xa(Ue),Ht=Xa(Xe),qt=mn?mn.prototype:void 0,Vn=qt?qt.valueOf:void 0;function On(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function ir(){this.__data__=at?at(null):{},this.size=0}function or(ne){var Ie=this.has(ne)&&delete this.__data__[ne];return this.size-=Ie?1:0,Ie}function Tr(ne){var Ie=this.__data__;if(at){var At=Ie[ne];return At===r?void 0:At}return Be.call(Ie,ne)?Ie[ne]:void 0}function Ur(ne){var Ie=this.__data__;return at?Ie[ne]!==void 0:Be.call(Ie,ne)}function Dr(ne,Ie){var At=this.__data__;return this.size+=this.has(ne)?0:1,At[ne]=at&&Ie===void 0?r:Ie,this}On.prototype.clear=ir,On.prototype.delete=or,On.prototype.get=Tr,On.prototype.has=Ur,On.prototype.set=Dr;function Jr(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function rr(){this.__data__=[],this.size=0}function li(ne){var Ie=this.__data__,At=Mn(Ie,ne);if(At<0)return!1;var Yt=Ie.length-1;return At==Yt?Ie.pop():m.call(Ie,At,1),--this.size,!0}function ki(ne){var Ie=this.__data__,At=Mn(Ie,ne);return At<0?void 0:Ie[At][1]}function Xi(ne){return Mn(this.__data__,ne)>-1}function xo(ne,Ie){var At=this.__data__,Yt=Mn(At,ne);return Yt<0?(++this.size,At.push([ne,Ie])):At[Yt][1]=Ie,this}Jr.prototype.clear=rr,Jr.prototype.delete=li,Jr.prototype.get=ki,Jr.prototype.has=Xi,Jr.prototype.set=xo;function pi(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function Oo(){this.size=0,this.__data__={hash:new On,map:new(ve||Jr),string:new On}}function As(ne){var Ie=Ha(this,ne).delete(ne);return this.size-=Ie?1:0,Ie}function Ia(ne){return Ha(this,ne).get(ne)}function _i(ne){return Ha(this,ne).has(ne)}function Ss(ne,Ie){var At=Ha(this,ne),Yt=At.size;return At.set(ne,Ie),this.size+=At.size==Yt?0:1,this}pi.prototype.clear=Oo,pi.prototype.delete=As,pi.prototype.get=Ia,pi.prototype.has=_i,pi.prototype.set=Ss;function Si(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.__data__=new pi;++Ie<At;)this.add(ne[Ie])}function Qn(ne){return this.__data__.set(ne,r),this}function so(ne){return this.__data__.has(ne)}Si.prototype.add=Si.prototype.push=Qn,Si.prototype.has=so;function No(ne){var Ie=this.__data__=new Jr(ne);this.size=Ie.size}function Ji(){this.__data__=new Jr,this.size=0}function ge(ne){var Ie=this.__data__,At=Ie.delete(ne);return this.size=Ie.size,At}function $e(ne){return this.__data__.get(ne)}function Xt(ne){return this.__data__.has(ne)}function ln(ne,Ie){var At=this.__data__;if(At instanceof Jr){var Yt=At.__data__;if(!ve||Yt.length<t-1)return Yt.push([ne,Ie]),this.size=++At.size,this;At=this.__data__=new pi(Yt)}return At.set(ne,Ie),this.size=At.size,this}No.prototype.clear=Ji,No.prototype.delete=ge,No.prototype.get=$e,No.prototype.has=Xt,No.prototype.set=ln;function Kt(ne,Ie){var At=ml(ne),Yt=!At&&SA(ne),wr=!At&&!Yt&&Ho(ne),Tn=!At&&!Yt&&!wr&&cu(ne),Ci=At||Yt||wr||Tn,Ti=Ci?nr(ne.length,String):[],Yr=Ti.length;for(var Gi in ne)(Ie||Be.call(ne,Gi))&&!(Ci&&(Gi=="length"||wr&&(Gi=="offset"||Gi=="parent")||Tn&&(Gi=="buffer"||Gi=="byteLength"||Gi=="byteOffset")||ic(Gi,Yr)))&&Ti.push(Gi);return Ti}function Mn(ne,Ie){for(var At=ne.length;At--;)if(Es(ne[At][0],Ie))return At;return-1}function cr(ne,Ie,At){var Yt=Ie(ne);return ml(ne)?Yt:Dt(Yt,At(ne))}function Ii(ne){return ne==null?ne===void 0?De:Q:Tt&&Tt in Object(ne)?Gs(ne):oc(ne)}function ri(ne){return cs(ne)&&Ii(ne)==a}function ya(ne,Ie,At,Yt,wr){return ne===Ie?!0:ne==null||Ie==null||!cs(ne)&&!cs(Ie)?ne!==ne&&Ie!==Ie:qa(ne,Ie,At,Yt,ya,wr)}function qa(ne,Ie,At,Yt,wr,Tn){var Ci=ml(ne),Ti=ml(Ie),Yr=Ci?h:pl(ne),Gi=Ti?h:pl(Ie);Yr=Yr==a?q:Yr,Gi=Gi==a?q:Gi;var Po=Yr==q,wa=Gi==q,zo=Yr==Gi;if(zo&&Ho(ne)){if(!Ho(Ie))return!1;Ci=!0,Po=!1}if(zo&&!Po)return Tn||(Tn=new No),Ci||cu(ne)?Va(ne,Ie,At,Yt,wr,Tn):xa(ne,Ie,Yr,At,Yt,wr,Tn);if(!(At&i)){var Ki=Po&&Be.call(ne,"__wrapped__"),aa=wa&&Be.call(Ie,"__wrapped__");if(Ki||aa){var Ta=Ki?ne.value():ne,Ka=aa?Ie.value():Ie;return Tn||(Tn=new No),wr(Ta,Ka,At,Yt,Tn)}}return zo?(Tn||(Tn=new No),Bu(ne,Ie,At,Yt,wr,Tn)):!1}function Br(ne){if(!ku(ne)||MA(ne))return!1;var Ie=uu(ne)?Et:on;return Ie.test(Xa(ne))}function mi(ne){return cs(ne)&&Au(ne.length)&&!!dt[Ii(ne)]}function il(ne){if(!tA(ne))return Te(ne);var Ie=[];for(var At in Object(ne))Be.call(ne,At)&&At!="constructor"&&Ie.push(At);return Ie}function Va(ne,Ie,At,Yt,wr,Tn){var Ci=At&i,Ti=ne.length,Yr=Ie.length;if(Ti!=Yr&&!(Ci&&Yr>Ti))return!1;var Gi=Tn.get(ne);if(Gi&&Tn.get(Ie))return Gi==Ie;var Po=-1,wa=!0,zo=At&o?new Si:void 0;for(Tn.set(ne,Ie),Tn.set(Ie,ne);++Po<Ti;){var Ki=ne[Po],aa=Ie[Po];if(Yt)var Ta=Ci?Yt(aa,Ki,Po,Ie,ne,Tn):Yt(Ki,aa,Po,ne,Ie,Tn);if(Ta!==void 0){if(Ta)continue;wa=!1;break}if(zo){if(!pt(Ie,function(Ka,Ql){if(!bn(zo,Ql)&&(Ki===Ka||wr(Ki,Ka,At,Yt,Tn)))return zo.push(Ql)})){wa=!1;break}}else if(!(Ki===aa||wr(Ki,aa,At,Yt,Tn))){wa=!1;break}}return Tn.delete(ne),Tn.delete(Ie),wa}function xa(ne,Ie,At,Yt,wr,Tn,Ci){switch(At){case ft:if(ne.byteLength!=Ie.byteLength||ne.byteOffset!=Ie.byteOffset)return!1;ne=ne.buffer,Ie=Ie.buffer;case et:return!(ne.byteLength!=Ie.byteLength||!Tn(new Kn(ne),new Kn(Ie)));case C:case B:case W:return Es(+ne,+Ie);case k:return ne.name==Ie.name&&ne.message==Ie.message;case Ae:case se:return ne==Ie+"";case Z:var Ti=mr;case ae:var Yr=Yt&i;if(Ti||(Ti=Nr),ne.size!=Ie.size&&!Yr)return!1;var Gi=Ci.get(ne);if(Gi)return Gi==Ie;Yt|=o,Ci.set(ne,Ie);var Po=Va(Ti(ne),Ti(Ie),Yt,wr,Tn,Ci);return Ci.delete(ne),Po;case ye:if(Vn)return Vn.call(ne)==Vn.call(Ie)}return!1}function Bu(ne,Ie,At,Yt,wr,Tn){var Ci=At&i,Ti=Ns(ne),Yr=Ti.length,Gi=Ns(Ie),Po=Gi.length;if(Yr!=Po&&!Ci)return!1;for(var wa=Yr;wa--;){var zo=Ti[wa];if(!(Ci?zo in Ie:Be.call(Ie,zo)))return!1}var Ki=Tn.get(ne);if(Ki&&Tn.get(Ie))return Ki==Ie;var aa=!0;Tn.set(ne,Ie),Tn.set(Ie,ne);for(var Ta=Ci;++wa<Yr;){zo=Ti[wa];var Ka=ne[zo],Ql=Ie[zo];if(Yt)var Iu=Ci?Yt(Ql,Ka,zo,Ie,ne,Tn):Yt(Ka,Ql,zo,ne,Ie,Tn);if(!(Iu===void 0?Ka===Ql||wr(Ka,Ql,At,Yt,Tn):Iu)){aa=!1;break}Ta||(Ta=zo=="constructor")}if(aa&&!Ta){var sc=ne.constructor,ds=Ie.constructor;sc!=ds&&"constructor"in ne&&"constructor"in Ie&&!(typeof sc=="function"&&sc instanceof sc&&typeof ds=="function"&&ds instanceof ds)&&(aa=!1)}return Tn.delete(ne),Tn.delete(Ie),aa}function Ns(ne){return cr(ne,ac,xA)}function Ha(ne,Ie){var At=ne.__data__;return wA(Ie)?At[typeof Ie=="string"?"string":"hash"]:At.map}function Za(ne,Ie){var At=Jn(ne,Ie);return Br(At)?At:void 0}function Gs(ne){var Ie=Be.call(ne,Tt),At=ne[Tt];try{ne[Tt]=void 0;var Yt=!0}catch{}var wr=St.call(ne);return Yt&&(Ie?ne[Tt]=At:delete ne[Tt]),wr}var xA=Lr?function(ne){return ne==null?[]:(ne=Object(ne),Ft(Lr(ne),function(Ie){return En.call(ne,Ie)}))}:mo,pl=Ii;(de&&pl(new de(new ArrayBuffer(1)))!=ft||ve&&pl(new ve)!=Z||Se&&pl(Se.resolve())!=oe||Ue&&pl(new Ue)!=ae||Xe&&pl(new Xe)!=Ne)&&(pl=function(ne){var Ie=Ii(ne),At=Ie==q?ne.constructor:void 0,Yt=At?Xa(At):"";if(Yt)switch(Yt){case ht:return ft;case Ve:return Z;case Ct:return oe;case Zt:return ae;case Ht:return Ne}return Ie});function ic(ne,Ie){return Ie=Ie??s,!!Ie&&(typeof ne=="number"||mt.test(ne))&&ne>-1&&ne%1==0&&ne<Ie}function wA(ne){var Ie=typeof ne;return Ie=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?ne!=="__proto__":ne===null}function MA(ne){return!!st&&st in ne}function tA(ne){var Ie=ne&&ne.constructor,At=typeof Ie=="function"&&Ie.prototype||we;return ne===At}function oc(ne){return St.call(ne)}function Xa(ne){if(ne!=null){try{return Y.call(ne)}catch{}try{return ne+""}catch{}}return""}function Es(ne,Ie){return ne===Ie||ne!==ne&&Ie!==Ie}var SA=ri(function(){return arguments}())?ri:function(ne){return cs(ne)&&Be.call(ne,"callee")&&!En.call(ne,"callee")},ml=Array.isArray;function Il(ne){return ne!=null&&Au(ne.length)&&!uu(ne)}var Ho=Wn||Ao;function nA(ne,Ie){return ya(ne,Ie)}function uu(ne){if(!ku(ne))return!1;var Ie=Ii(ne);return Ie==P||Ie==U||Ie==g||Ie==re}function Au(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=s}function ku(ne){var Ie=typeof ne;return ne!=null&&(Ie=="object"||Ie=="function")}function cs(ne){return ne!=null&&typeof ne=="object"}var cu=xt?pn(xt):mi;function ac(ne){return Il(ne)?Kt(ne):il(ne)}function mo(){return[]}function Ao(){return!1}e.exports=nA})(h3,h3.exports);var aR=h3.exports;const U6=oa(aR);function cJ(e){return typeof e>"u"||e===null?e:e instanceof Date?e.toLocaleString():typeof e=="object"||typeof e=="number"||typeof e=="string"?e.toString():e}function a9(e,n){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+e+'</div><div class="mapbox-gl-inspect_property-value">'+cJ(n)+"</div></div>"}function dJ(e){return'<div class="mapbox-gl-inspect_layer">'+e+"</div>"}function hJ(e){var n=dJ(e.layer["source-layer"]||e.layer.source),t=a9("$type",e.geometry.type),r=Object.keys(e.properties).map(function(i){return a9(i,e.properties[i])});return[n,t].concat(r).join("")}function fJ(e){return e.map(function(n){return'<div class="mapbox-gl-inspect_feature">'+hJ(n)+"</div>"}).join("")}function pJ(e){return'<div class="mapbox-gl-inspect_popup">'+fJ(e)+"</div>"}var mJ=pJ,o5={},R6={exports:{}};(function(e,n){(function(t,r){{var i=r();e&&e.exports&&(n=e.exports=i),n.randomColor=i}})(ch,function(){var t=null,r={};W();var i=function(re){if(re=re||{},re.seed&&re.seed===parseInt(re.seed,10))t=re.seed;else if(typeof re.seed=="string")t=oe(re.seed);else{if(re.seed!==void 0&&re.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var Ae,ae,se;if(re.count!==null&&re.count!==void 0){var ye=re.count,De=[];for(re.count=null;ye>De.length;)t&&re.seed&&(re.seed+=1),De.push(i(re));return re.count=ye,De}return Ae=o(re),ae=s(Ae,re),se=a(Ae,ae,re),h([Ae,ae,se],re)};function o(re){var Ae=C(re.hue),ae=P(Ae);return ae<0&&(ae=360+ae),ae}function s(re,Ae){if(Ae.luminosity==="random")return P([0,100]);if(Ae.hue==="monochrome")return 0;var ae=B(re),se=ae[0],ye=ae[1];switch(Ae.luminosity){case"bright":se=55;break;case"dark":se=ye-10;break;case"light":ye=55;break}return P([se,ye])}function a(re,Ae,ae){var se=g(re,Ae),ye=100;switch(ae.luminosity){case"dark":ye=se+20;break;case"light":se=(ye+se)/2;break;case"random":se=0,ye=100;break}return P([se,ye])}function h(re,Ae){switch(Ae.format){case"hsvArray":return re;case"hslArray":return q(re);case"hsl":var ae=q(re);return"hsl("+ae[0]+", "+ae[1]+"%, "+ae[2]+"%)";case"hsla":var se=q(re);return"hsla("+se[0]+", "+se[1]+"%, "+se[2]+"%, "+Math.random()+")";case"rgbArray":return Q(re);case"rgb":var ye=Q(re);return"rgb("+ye.join(", ")+")";case"rgba":var De=Q(re);return"rgba("+De.join(", ")+", "+Math.random()+")";default:return U(re)}}function g(re,Ae){for(var ae=k(re).lowerBounds,se=0;se<ae.length-1;se++){var ye=ae[se][0],De=ae[se][1],Ne=ae[se+1][0],et=ae[se+1][1];if(Ae>=ye&&Ae<=Ne){var ft=(et-De)/(Ne-ye),Ke=De-ft*ye;return ft*Ae+Ke}}return 0}function C(re){if(typeof parseInt(re)=="number"){var Ae=parseInt(re);if(Ae<360&&Ae>0)return[Ae,Ae]}if(typeof re=="string"&&r[re]){var ae=r[re];if(ae.hueRange)return ae.hueRange}return[0,360]}function B(re){return k(re).saturationRange}function k(re){re>=334&&re<=360&&(re-=360);for(var Ae in r){var ae=r[Ae];if(ae.hueRange&&re>=ae.hueRange[0]&&re<=ae.hueRange[1])return r[Ae]}return"Color not found"}function P(re){if(t===null)return Math.floor(re[0]+Math.random()*(re[1]+1-re[0]));var Ae=re[1]||1,ae=re[0]||0;t=(t*9301+49297)%233280;var se=t/233280;return Math.floor(ae+se*(Ae-ae))}function U(re){var Ae=Q(re);function ae(ye){var De=ye.toString(16);return De.length==1?"0"+De:De}var se="#"+ae(Ae[0])+ae(Ae[1])+ae(Ae[2]);return se}function Z(re,Ae,ae){var se=ae[0][0],ye=ae[ae.length-1][0],De=ae[ae.length-1][1],Ne=ae[0][1];r[re]={hueRange:Ae,lowerBounds:ae,saturationRange:[se,ye],brightnessRange:[De,Ne]}}function W(){Z("monochrome",null,[[0,0],[100,0]]),Z("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),Z("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),Z("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),Z("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),Z("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),Z("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),Z("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function Q(re){var Ae=re[0];Ae===0&&(Ae=1),Ae===360&&(Ae=359),Ae=Ae/360;var ae=re[1]/100,se=re[2]/100,ye=Math.floor(Ae*6),De=Ae*6-ye,Ne=se*(1-ae),et=se*(1-De*ae),ft=se*(1-(1-De)*ae),Ke=256,rt=256,_e=256;switch(ye){case 0:Ke=se,rt=ft,_e=Ne;break;case 1:Ke=et,rt=se,_e=Ne;break;case 2:Ke=Ne,rt=se,_e=ft;break;case 3:Ke=Ne,rt=et,_e=se;break;case 4:Ke=ft,rt=Ne,_e=se;break;case 5:Ke=se,rt=Ne,_e=et;break}var Ut=[Math.floor(Ke*255),Math.floor(rt*255),Math.floor(_e*255)];return Ut}function q(re){var Ae=re[0],ae=re[1]/100,se=re[2]/100,ye=(2-ae)*se;return[Ae,Math.round(ae*se/(ye<1?ye:2-ye)*1e4)/100,ye/2*100]}function oe(re){for(var Ae=0,ae=0;ae!==re.length&&!(Ae>=Number.MAX_SAFE_INTEGER);ae++)Ae+=re.charCodeAt(ae);return Ae}return i})})(R6,R6.exports);var gJ=R6.exports,yJ=gJ;function vJ(e,n){var t="bright",r=null;/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport/.test(e)&&(r="orange"),/contour|building/.test(e)&&(r="monochrome"),/building/.test(e)&&(t="dark"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover/.test(e)&&(r="green");var i=yJ({luminosity:t,hue:r,seed:e,format:"rgbArray"}),o=i.concat([n||1]);return"rgba("+o.join(", ")+")"}o5.brightColor=vJ;var sR=wp,_J=AJ,CJ=aR,bJ=mJ,xJ=o5;function wJ(e){return e.metadata&&e.metadata["mapbox-gl-inspect:inspect"]}function MJ(e){return Object.assign(e,{metadata:Object.assign({},e.metadata,{"mapbox-gl-inspect:inspect":!0})})}function SJ(e){return(e.type==="raster"||e.type==="raster-dem")&&e.tileSize&&e.tiles?{type:e.type,tileSize:e.tileSize,tiles:e.tiles}:(e.type==="raster"||e.type==="raster-dem")&&e.url?{type:e.type,url:e.url}:e}function s9(e){return Object.keys(e.sources).forEach(function(n){e.sources[n]=SJ(e.sources[n])}),e}function EJ(e){var n=e.version.split(".").map(parseFloat);n[0]<1&&n[1]<29&&console.error("MapboxInspect only supports Mapbox GL JS >= v0.29.0. Please upgrade your Mapbox GL JS version.")}function Of(e){if(!(this instanceof Of))throw new Error("MapboxInspect needs to be called with the new keyword");var n=null;window.mapboxgl?(EJ(window.mapboxgl),n=new window.mapboxgl.Popup({closeButton:!1,closeOnClick:!1})):e.popup||console.error("Mapbox GL JS can not be found. Make sure to include it or pass an initialized MapboxGL Popup to MapboxInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:xJ.brightColor,buildInspectStyle:sR.generateInspectStyle,renderPopup:bJ,popup:n,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{}},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this.toggleInspector=this.toggleInspector.bind(this),this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._onSourceChange=this._onSourceChange.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onStyleChange=this._onStyleChange.bind(this),this._originalStyle=null,this._toggle=new _J({show:this.options.showInspectButton,onToggle:this.toggleInspector.bind(this)})}Of.prototype.toggleInspector=function(){this._showInspectMap=!this._showInspectMap,this.render()};Of.prototype._inspectStyle=function(){var e=sR.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})};Of.prototype.render=function(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(s9(MJ(this._inspectStyle()))),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(s9(this._originalStyle)),this._toggle.setInspectIcon())};Of.prototype._onSourceChange=function(){var e=this.sources,n=this._map,t=n.getStyle(),r=Object.keys(t.sources),i=Object.assign({},e);Object.keys(n.style.sourceCaches).forEach(function(o){var s=n.style.sourceCaches[o]||{_source:{}},a=s._source.vectorLayerIds;a?e[o]=a:s._source.type==="geojson"&&(e[o]=[])}),Object.keys(e).forEach(function(o){r.indexOf(o)===-1&&delete e[o]}),!CJ(i,e)&&Object.keys(e).length>0&&setTimeout(()=>{this.render()},100)};Of.prototype._onStyleChange=function(){var e=this._map.getStyle();wJ(e)||(this._originalStyle=e)};Of.prototype._onMousemove=function(e){var n;this.options.selectThreshold===0?n=e.point:n=[[e.point.x-this.options.selectThreshold,e.point.y+this.options.selectThreshold],[e.point.x+this.options.selectThreshold,e.point.y-this.options.selectThreshold]];var t=this._map.queryRenderedFeatures(n,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=t.length?"pointer":"",this._showInspectMap){if(!this.options.showInspectMapPopup||e.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;e.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||e.type==="mousemove"&&!this.options.showMapPopupOnHover)return;e.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup)if(!t.length)this._popup.remove();else{this._popup.setLngLat(e.lngLat);var r=typeof this.options.renderPopup(t);r==="string"?this._popup.setHTML(this.options.renderPopup(t)):this._popup.setDOMContent(this.options.renderPopup(t)),this._popup.addTo(this._map)}};Of.prototype.onAdd=function(e){return this._map=e,Object.keys(this.sources).length===0&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),this._toggle.elem};Of.prototype.onRemove=function(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove);var e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0};var OJ=Of,BJ=OJ,kJ=BJ;const IJ=oa(kJ);var lR={exports:{}},TJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KJ=TJ,PJ=KJ;function uR(){}function AR(){}AR.resetWarningCache=uR;var FJ=function(){function e(r,i,o,s,a,h){if(h!==PJ){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:AR,resetWarningCache:uR};return t.PropTypes=t,t};lR.exports=FJ();var hh=lR.exports;const Kr=oa(hh);var l9=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function DJ(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Nm=function(n,t){var r=n.children,i=n.color,o=n.size,s=n.style,a=n.width,h=n.height,g=DJ(n,["children","color","size","style","width","height"]),C=t.reactIconBase,B=C===void 0?{}:C,k=o||B.size||"1em";return xn.createElement("svg",l9({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:h||k,width:a||k},B,g,{style:l9({verticalAlign:"middle",color:i||B.color},B.style||{},s)}))};Nm.propTypes={color:Kr.string,size:Kr.oneOfType([Kr.string,Kr.number]),width:Kr.oneOfType([Kr.string,Kr.number]),height:Kr.oneOfType([Kr.string,Kr.number]),style:Kr.object};Nm.contextTypes={reactIconBase:Kr.shape(Nm.propTypes)};function f3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",n="ace6118dd0ae83e2ceb20b70664ae2267741d924",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ace6118dd0ae83e2ceb20b70664ae2267741d924"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return f3=function(){return s},s}f3();class LJ extends xn.Component{render(){return f3().f[0]++,f3().s[0]++,N.jsx(Nm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function p3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",n="8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return p3=function(){return s},s}p3();class _x extends xn.Component{render(){return p3().f[0]++,p3().s[0]++,N.jsx(Nm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function m3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",n="6ac2e596376f8b8c2e117c4345e33d1afb8f583b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ac2e596376f8b8c2e117c4345e33d1afb8f583b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return m3=function(){return s},s}m3();class UJ extends xn.Component{render(){return m3().f[0]++,m3().s[0]++,N.jsx(Nm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:N.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function g3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",n="f8813cd7d4a9138ff3fc7253bc195b86370ed6cf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f8813cd7d4a9138ff3fc7253bc195b86370ed6cf"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return g3=function(){return s},s}g3();class u9 extends xn.Component{render(){return g3().f[0]++,g3().s[0]++,N.jsx(Nm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function y3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",n="35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return y3=function(){return s},s}y3();class RJ extends xn.Component{render(){return y3().f[0]++,y3().s[0]++,N.jsx(Nm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function Qy(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function zJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"}}]})(e)}function jJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}}]})(e)}function WJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function NJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function GJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4H5a2 2 0 00-2 2v12a2 2 0 002 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 00-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"}}]})(e)}function QJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(e)}function $J(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 001 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}}]})(e)}function YJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}}]})(e)}function cR(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function qJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}}]})(e)}function VJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}}]})(e)}function HJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"}}]})(e)}function ZJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}}]})(e)}function z6(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}}]})(e)}function XJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}}]})(e)}function JJ(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}}]})(e)}function eee(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5z"}}]})(e)}function tee(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5z"}}]})(e)}function nee(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function ree(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function iee(e){return rl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"}},{tag:"path",attr:{d:"M10 3h4v12h-4z"}}]})(e)}function v3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",n="90c8ed80956547e1dbbdff164a42850c33eed62e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90c8ed80956547e1dbbdff164a42850c33eed62e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return v3=function(){return s},s}v3();class oee extends xn.Component{render(){return v3().f[0]++,v3().s[0]++,N.jsx(iee,{...this.props})}}function os(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",n="89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return os=function(){return s},s}os();class dR extends xn.Component{render(){os().f[0]++;const n=(os().s[0]++,{style:this.props.style});switch(os().s[1]++,this.props.type){case"fill-extrusion":return os().b[0][0]++,os().s[2]++,N.jsx(u9,{...n});case"raster":return os().b[0][1]++,os().s[3]++,N.jsx(_x,{...n});case"hillshade":return os().b[0][2]++,os().s[4]++,N.jsx(_x,{...n});case"heatmap":return os().b[0][3]++,os().s[5]++,N.jsx(_x,{...n});case"fill":return os().b[0][4]++,os().s[6]++,N.jsx(_x,{...n});case"background":return os().b[0][5]++,os().s[7]++,N.jsx(u9,{...n});case"line":return os().b[0][6]++,os().s[8]++,N.jsx(LJ,{...n});case"symbol":return os().b[0][7]++,os().s[9]++,N.jsx(UJ,{...n});case"circle":return os().b[0][8]++,os().s[10]++,N.jsx(RJ,{...n});default:return os().b[0][9]++,os().s[11]++,N.jsx(oee,{...n})}}}function Ar(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",n="8ac820d45b409d4d358e8cb1f505fcc4025456db",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:17,column:5}},3:{start:{line:8,column:4},end:{line:16,column:5}},4:{start:{line:9,column:6},end:{line:9,column:43}},5:{start:{line:10,column:28},end:{line:10,column:111}},6:{start:{line:10,column:79},end:{line:10,column:110}},7:{start:{line:11,column:6},end:{line:11,column:65}},8:{start:{line:13,column:6},end:{line:13,column:92}},9:{start:{line:14,column:6},end:{line:14,column:59}},10:{start:{line:15,column:6},end:{line:15,column:45}},11:{start:{line:18,column:2},end:{line:18,column:17}},12:{start:{line:22,column:4},end:{line:24,column:5}},13:{start:{line:23,column:6},end:{line:23,column:13}},14:{start:{line:25,column:4},end:{line:46,column:5}},15:{start:{line:26,column:25},end:{line:26,column:44}},16:{start:{line:28,column:6},end:{line:36,column:7}},17:{start:{line:29,column:8},end:{line:29,column:32}},18:{start:{line:30,column:13},end:{line:36,column:7}},19:{start:{line:31,column:8},end:{line:31,column:32}},20:{start:{line:32,column:13},end:{line:36,column:7}},21:{start:{line:33,column:8},end:{line:33,column:32}},22:{start:{line:34,column:13},end:{line:36,column:7}},23:{start:{line:35,column:8},end:{line:35,column:42}},24:{start:{line:37,column:6},end:{line:42,column:7}},25:{start:{line:38,column:22},end:{line:38,column:51}},26:{start:{line:39,column:8},end:{line:39,column:29}},27:{start:{line:41,column:8},end:{line:41,column:23}},28:{start:{line:44,column:6},end:{line:44,column:63}},29:{start:{line:45,column:6},end:{line:45,column:21}},30:{start:{line:49,column:20},end:{line:49,column:67}},31:{start:{line:50,column:18},end:{line:95,column:6}},32:{start:{line:51,column:21},end:{line:90,column:8}},33:{start:{line:52,column:29},end:{line:52,column:76}},34:{start:{line:53,column:8},end:{line:89,column:10}},35:{start:{line:70,column:20},end:{line:70,column:63}},36:{start:{line:91,column:6},end:{line:94,column:26}},37:{start:{line:96,column:4},end:{line:96,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:19,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:17,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:72},end:{line:10,column:73}},loc:{start:{line:10,column:79},end:{line:10,column:110}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:35},end:{line:47,column:3}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:11},end:{line:97,column:3}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:50,column:43},end:{line:50,column:44}},loc:{start:{line:50,column:62},end:{line:95,column:5}},line:50},6:{name:"(anonymous_6)",decl:{start:{line:51,column:48},end:{line:51,column:49}},loc:{start:{line:51,column:66},end:{line:90,column:7}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:69,column:27},end:{line:69,column:28}},loc:{start:{line:69,column:33},end:{line:71,column:19}},line:69}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:16,column:5}},{start:{line:12,column:11},end:{line:16,column:5}}],line:8},1:{loc:{start:{line:13,column:47},end:{line:13,column:91}},type:"binary-expr",locations:[{start:{line:13,column:47},end:{line:13,column:85}},{start:{line:13,column:89},end:{line:13,column:91}}],line:13},2:{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:28,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:36,column:7}},{start:{line:30,column:13},end:{line:36,column:7}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:100}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:72}},{start:{line:28,column:76},end:{line:28,column:100}}],line:28},5:{loc:{start:{line:30,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:30,column:13},end:{line:36,column:7}},{start:{line:32,column:13},end:{line:36,column:7}}],line:30},6:{loc:{start:{line:30,column:17},end:{line:30,column:107}},type:"binary-expr",locations:[{start:{line:30,column:17},end:{line:30,column:79}},{start:{line:30,column:83},end:{line:30,column:107}}],line:30},7:{loc:{start:{line:32,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:32,column:13},end:{line:36,column:7}},{start:{line:34,column:13},end:{line:36,column:7}}],line:32},8:{loc:{start:{line:32,column:17},end:{line:32,column:107}},type:"binary-expr",locations:[{start:{line:32,column:17},end:{line:32,column:79}},{start:{line:32,column:83},end:{line:32,column:107}}],line:32},9:{loc:{start:{line:34,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:13},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},10:{loc:{start:{line:34,column:17},end:{line:34,column:127}},type:"binary-expr",locations:[{start:{line:34,column:17},end:{line:34,column:89}},{start:{line:34,column:93},end:{line:34,column:127}}],line:34},11:{loc:{start:{line:37,column:6},end:{line:42,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:42,column:7}},{start:{line:40,column:13},end:{line:42,column:7}}],line:37},12:{loc:{start:{line:73,column:20},end:{line:77,column:24}},type:"binary-expr",locations:[{start:{line:73,column:20},end:{line:73,column:38}},{start:{line:73,column:58},end:{line:77,column:24}}],line:73},13:{loc:{start:{line:79,column:20},end:{line:82,column:24}},type:"binary-expr",locations:[{start:{line:79,column:20},end:{line:79,column:35}},{start:{line:79,column:55},end:{line:82,column:24}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AAqFU,cAkBsB,YAlBtB;AArFV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,QAAQ,MAAM,cAAc,CAAC,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAExH,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,QAAQ,MAAM,cAAc,CAAC,IAAI,QAAQ,QAAQ,MAAM,cAAc,CAAC,KAAK,CAAC;AACpF,cAAQ,QAAQ,MAAM,cAAc,CAAC,EAAE,KAAK,OAAO;AAEnD,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AACjC,UAAI;AAEJ,UAAG,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AAC7F,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AACnG,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AACnG,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,sBAAsB,KAAK,WAAW,sBAAsB,GAAG;AACvH,mBAAW;AAAA,MACb;AAEA,UAAG,UAAU;AACX,cAAM,QAAQ,QAAQ,MAAM,MAAM,QAAQ;AAC1C,eAAO,OAAO,KAAK;AAAA,MACrB,OACK;AAEH,eAAO;AAAA,MACT;AAAA,IACF,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8ac820d45b409d4d358e8cb1f505fcc4025456db"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ar=function(){return s},s}Ar();function aee(e){Ar().f[0]++;const n=(Ar().s[0]++,{}),t=(Ar().s[1]++,{});return Ar().s[2]++,e.forEach(r=>{if(Ar().f[1]++,Ar().s[3]++,Object.prototype.hasOwnProperty.call(t,r.layer.id)){Ar().b[0][0]++,Ar().s[4]++,t[r.layer.id]++;const i=(Ar().s[5]++,n[r.layer["source-layer"]].find(o=>(Ar().f[2]++,Ar().s[6]++,o.layer.id===r.layer.id)));Ar().s[7]++,i.counter=t[r.layer.id]}else Ar().b[0][1]++,Ar().s[8]++,n[r.layer["source-layer"]]=(Ar().b[1][0]++,n[r.layer["source-layer"]]||(Ar().b[1][1]++,[])),Ar().s[9]++,n[r.layer["source-layer"]].push(r),Ar().s[10]++,t[r.layer.id]=1}),Ar().s[11]++,n}class hR extends xn.Component{_getFeatureColor(n,t){if(Ar().f[3]++,Ar().s[12]++,n.layer.paint)Ar().b[2][1]++;else{Ar().b[2][0]++,Ar().s[13]++;return}Ar().s[14]++;try{const r=(Ar().s[15]++,n.layer.paint);let i;if(Ar().s[16]++,Ar().b[4][0]++,Object.prototype.hasOwnProperty.call(r,"text-color")&&(Ar().b[4][1]++,r["text-color"])?(Ar().b[3][0]++,Ar().s[17]++,i="text-color"):(Ar().b[3][1]++,Ar().s[18]++,Ar().b[6][0]++,Object.prototype.hasOwnProperty.call(r,"fill-color")&&(Ar().b[6][1]++,r["fill-color"])?(Ar().b[5][0]++,Ar().s[19]++,i="fill-color"):(Ar().b[5][1]++,Ar().s[20]++,Ar().b[8][0]++,Object.prototype.hasOwnProperty.call(r,"line-color")&&(Ar().b[8][1]++,r["line-color"])?(Ar().b[7][0]++,Ar().s[21]++,i="line-color"):(Ar().b[7][1]++,Ar().s[22]++,Ar().b[10][0]++,Object.prototype.hasOwnProperty.call(r,"fill-extrusion-color")&&(Ar().b[10][1]++,r["fill-extrusion-color"])?(Ar().b[9][0]++,Ar().s[23]++,i="fill-extrusion-color"):Ar().b[9][1]++))),Ar().s[24]++,i){Ar().b[11][0]++;const o=(Ar().s[25]++,n.layer.paint[i]);return Ar().s[26]++,String(o)}else return Ar().b[11][1]++,Ar().s[27]++,"black"}catch(r){return Ar().s[28]++,console.warn("Unable to get feature color, error:",r),Ar().s[29]++,"black"}}render(){Ar().f[4]++;const n=(Ar().s[30]++,aee(this.props.features)),t=(Ar().s[31]++,Object.keys(n).map(r=>{Ar().f[5]++;const i=(Ar().s[32]++,n[r].map((o,s)=>{Ar().f[6]++;const a=(Ar().s[33]++,this._getFeatureColor(o,this.props.zoom));return Ar().s[34]++,N.jsxs("div",{className:"maputnik-popup-layer",children:[N.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:a}}),N.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{Ar().f[7]++,Ar().s[35]++,this.props.onLayerSelect(o.layer.id)},children:[(Ar().b[12][0]++,o.layer.type&&(Ar().b[12][1]++,N.jsx(dR,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(Ar().b[13][0]++,o.counter&&(Ar().b[13][1]++,N.jsxs("span",{children:["  ",o.counter]})))]})]},s)}));return Ar().s[36]++,N.jsxs("div",{children:[N.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return Ar().s[37]++,N.jsx("div",{className:"maputnik-feature-layer-popup",children:t})}}function ai(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",n="ba7faaa6890dd28c757c8d4f2a00fe079b2093bb",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:5,column:17}},1:{start:{line:5,column:4},end:{line:5,column:17}},2:{start:{line:6,column:2},end:{line:7,column:34}},3:{start:{line:7,column:4},end:{line:7,column:34}},4:{start:{line:8,column:2},end:{line:9,column:28}},5:{start:{line:9,column:4},end:{line:9,column:28}},6:{start:{line:10,column:2},end:{line:10,column:15}},7:{start:{line:13,column:2},end:{line:16,column:12}},8:{start:{line:19,column:2},end:{line:35,column:7}},9:{start:{line:32,column:23},end:{line:32,column:55}},10:{start:{line:33,column:6},end:{line:33,column:74}},11:{start:{line:38,column:25},end:{line:38,column:27}},12:{start:{line:39,column:2},end:{line:52,column:5}},13:{start:{line:40,column:25},end:{line:42,column:6}},14:{start:{line:41,column:6},end:{line:41,column:156}},15:{start:{line:43,column:4},end:{line:51,column:5}},16:{start:{line:44,column:6},end:{line:44,column:35}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:58}},19:{start:{line:49,column:8},end:{line:49,column:60}},20:{start:{line:53,column:2},end:{line:53,column:24}},21:{start:{line:57,column:21},end:{line:57,column:66}},22:{start:{line:58,column:4},end:{line:58,column:206}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:11,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:44},end:{line:17,column:1}},line:12},2:{name:"renderFeature",decl:{start:{line:18,column:9},end:{line:18,column:22}},loc:{start:{line:18,column:37},end:{line:36,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:31,column:40},end:{line:31,column:41}},loc:{start:{line:31,column:58},end:{line:34,column:5}},line:31},4:{name:"removeDuplicatedFeatures",decl:{start:{line:37,column:9},end:{line:37,column:33}},loc:{start:{line:37,column:44},end:{line:54,column:1}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:39,column:19},end:{line:39,column:20}},loc:{start:{line:39,column:32},end:{line:52,column:3}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:40,column:50},end:{line:40,column:51}},loc:{start:{line:40,column:64},end:{line:42,column:5}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:11},end:{line:59,column:3}},line:56}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:5,column:17}},type:"if",locations:[{start:{line:4,column:2},end:{line:5,column:17}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:6,column:2},end:{line:7,column:34}},type:"if",locations:[{start:{line:6,column:2},end:{line:7,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},3:{loc:{start:{line:8,column:2},end:{line:9,column:28}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:28}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},4:{loc:{start:{line:8,column:6},end:{line:8,column:89}},type:"binary-expr",locations:[{start:{line:8,column:6},end:{line:8,column:31}},{start:{line:8,column:35},end:{line:8,column:60}},{start:{line:8,column:64},end:{line:8,column:89}}],line:8},5:{loc:{start:{line:24,column:6},end:{line:27,column:10}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:32}},{start:{line:24,column:52},end:{line:27,column:10}}],line:24},6:{loc:{start:{line:41,column:13},end:{line:41,column:155}},type:"binary-expr",locations:[{start:{line:41,column:13},end:{line:41,column:77}},{start:{line:41,column:81},end:{line:41,column:155}}],line:41},7:{loc:{start:{line:43,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:51,column:5}},{start:{line:45,column:11},end:{line:51,column:5}}],line:43},8:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAsBS,SAOA,UANL,KADK;AAtBT,OAAO,WAAW;AAYlB,SAAS,aAAa,OAAwC;AAC5D,MAAI,OAAO,UAAU,eAAe,UAAU;AAAM,WAAO;AAC3D,MAAI,iBAAiB;AAAM,WAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU;AAAU,WAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAAe;AAC1D,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,iCACL;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,KADnL,GAAG,QAAQ,WAAW,IAAI,GAAG,EAEtC;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,cAAc,aAAa,QAAQ,EAAE,CAAC;AAAA,IAC7D,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,KACH;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACpB,8BAAC,WAAM,WAAU,wBACd,mBAAS,IAAI,aAAa,GAC7B,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ba7faaa6890dd28c757c8d4f2a00fe079b2093bb"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ai=function(){return s},s}ai();function A9(e){return ai().f[0]++,ai().s[0]++,ai().b[1][0]++,typeof e>"u"||(ai().b[1][1]++,e===null)?(ai().b[0][0]++,ai().s[1]++,e):(ai().b[0][1]++,ai().s[2]++,e instanceof Date?(ai().b[2][0]++,ai().s[3]++,e.toLocaleString()):(ai().b[2][1]++,ai().s[4]++,ai().b[4][0]++,typeof e=="object"||(ai().b[4][1]++,typeof e=="number")||(ai().b[4][2]++,typeof e=="string")?(ai().b[3][0]++,ai().s[5]++,e.toString()):(ai().b[3][1]++,ai().s[6]++,e)))}function cM(e,n){return ai().f[1]++,ai().s[7]++,N.jsxs("tr",{children:[N.jsx("td",{className:"maputnik-popup-table-cell",children:e}),N.jsx("td",{className:"maputnik-popup-table-cell",children:n})]},e)}function see(e,n){return ai().f[2]++,ai().s[8]++,N.jsxs(N.Fragment,{children:[N.jsx("tr",{children:N.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[e.layer.source,": ",e.layer["source-layer"],(ai().b[5][0]++,e.inspectModeCounter&&(ai().b[5][1]++,N.jsxs("span",{children:["  ",e.inspectModeCounter]})))]})},`${e.sourceLayer}-${n}`),cM("$type",e.geometry.type),cM("Feature ID",A9(e.id)),Object.keys(e.properties).map(t=>{ai().f[3]++;const r=(ai().s[9]++,e.properties[t]);return ai().s[10]++,cM(t,A9(r))})]})}function lee(e){ai().f[4]++;const n=(ai().s[11]++,[]);return ai().s[12]++,e.forEach(t=>{ai().f[5]++;const r=(ai().s[13]++,n.findIndex(i=>(ai().f[6]++,ai().s[14]++,ai().b[6][0]++,t.layer["source-layer"]===i.layer["source-layer"]&&(ai().b[6][1]++,JSON.stringify(t.properties)===JSON.stringify(i.properties)))));ai().s[15]++,r===-1?(ai().b[7][0]++,ai().s[16]++,n.push(t)):(ai().b[7][1]++,ai().s[17]++,"inspectModeCounter"in n[r]?(ai().b[8][0]++,ai().s[18]++,n[r].inspectModeCounter++):(ai().b[8][1]++,ai().s[19]++,n[r].inspectModeCounter=2))}),ai().s[20]++,n}class uee extends xn.Component{render(){ai().f[7]++;const n=(ai().s[21]++,lee(this.props.features));return ai().s[22]++,N.jsx("div",{className:"maputnik-feature-property-popup",children:N.jsx("table",{className:"maputnik-popup-table",children:n.map(see)})})}}var fR={exports:{}},Aee={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},pR={exports:{}},cee=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")},dee=cee,hee=Array.prototype.concat,fee=Array.prototype.slice,c9=pR.exports=function(n){for(var t=[],r=0,i=n.length;r<i;r++){var o=n[r];dee(o)?t=hee.call(t,fee.call(o)):t.push(o)}return t};c9.wrap=function(e){return function(){return e(c9(arguments))}};var pee=pR.exports,k_=Aee,QC=pee,mR=Object.hasOwnProperty,gR=Object.create(null);for(var dM in k_)mR.call(k_,dM)&&(gR[k_[dM]]=dM);var Fc=fR.exports={to:{},get:{}};Fc.get=function(e){var n=e.substring(0,3).toLowerCase(),t,r;switch(n){case"hsl":t=Fc.get.hsl(e),r="hsl";break;case"hwb":t=Fc.get.hwb(e),r="hwb";break;default:t=Fc.get.rgb(e),r="rgb";break}return t?{model:r,value:t}:null};Fc.get.rgb=function(e){if(!e)return null;var n=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,h,g;if(a=e.match(t)){for(g=a[2],a=a[1],h=0;h<3;h++){var C=h*2;s[h]=parseInt(a.slice(C,C+2),16)}g&&(s[3]=parseInt(g,16)/255)}else if(a=e.match(n)){for(a=a[1],g=a[3],h=0;h<3;h++)s[h]=parseInt(a[h]+a[h],16);g&&(s[3]=parseInt(g+g,16)/255)}else if(a=e.match(r)){for(h=0;h<3;h++)s[h]=parseInt(a[h+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=e.match(i)){for(h=0;h<3;h++)s[h]=Math.round(parseFloat(a[h+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=e.match(o))?a[1]==="transparent"?[0,0,0,0]:mR.call(k_,a[1])?(s=k_[a[1]],s[3]=1,s):null:null;for(h=0;h<3;h++)s[h]=Fm(s[h],0,255);return s[3]=Fm(s[3],0,1),s};Fc.get.hsl=function(e){if(!e)return null;var n=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=e.match(n);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Fm(parseFloat(t[2]),0,100),s=Fm(parseFloat(t[3]),0,100),a=Fm(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};Fc.get.hwb=function(e){if(!e)return null;var n=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=e.match(n);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Fm(parseFloat(t[2]),0,100),s=Fm(parseFloat(t[3]),0,100),a=Fm(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};Fc.to.hex=function(){var e=QC(arguments);return"#"+Cx(e[0])+Cx(e[1])+Cx(e[2])+(e[3]<1?Cx(Math.round(e[3]*255)):"")};Fc.to.rgb=function(){var e=QC(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Fc.to.rgb.percent=function(){var e=QC(arguments),n=Math.round(e[0]/255*100),t=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+n+"%, "+t+"%, "+r+"%)":"rgba("+n+"%, "+t+"%, "+r+"%, "+e[3]+")"};Fc.to.hsl=function(){var e=QC(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Fc.to.hwb=function(){var e=QC(arguments),n="";return e.length>=4&&e[3]!==1&&(n=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+n+")"};Fc.to.keyword=function(e){return gR[e.slice(0,3)]};function Fm(e,n,t){return Math.min(Math.max(n,e),t)}function Cx(e){var n=Math.round(e).toString(16).toUpperCase();return n.length<2?"0"+n:n}var mee=fR.exports,gee={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const lC=gee,yR={};for(const e of Object.keys(lC))yR[lC[e]]=e;const zr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var vR=zr;for(const e of Object.keys(zr)){if(!("channels"in zr[e]))throw new Error("missing channels property: "+e);if(!("labels"in zr[e]))throw new Error("missing channel labels property: "+e);if(zr[e].labels.length!==zr[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:n,labels:t}=zr[e];delete zr[e].channels,delete zr[e].labels,Object.defineProperty(zr[e],"channels",{value:n}),Object.defineProperty(zr[e],"labels",{value:t})}zr.rgb.hsl=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(n,t,r),o=Math.max(n,t,r),s=o-i;let a,h;o===i?a=0:n===o?a=(t-r)/s:t===o?a=2+(r-n)/s:r===o&&(a=4+(n-t)/s),a=Math.min(a*60,360),a<0&&(a+=360);const g=(i+o)/2;return o===i?h=0:g<=.5?h=s/(o+i):h=s/(2-o-i),[a,h*100,g*100]};zr.rgb.hsv=function(e){let n,t,r,i,o;const s=e[0]/255,a=e[1]/255,h=e[2]/255,g=Math.max(s,a,h),C=g-Math.min(s,a,h),B=function(k){return(g-k)/6/C+1/2};return C===0?(i=0,o=0):(o=C/g,n=B(s),t=B(a),r=B(h),s===g?i=r-t:a===g?i=1/3+n-r:h===g&&(i=2/3+t-n),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,g*100]};zr.rgb.hwb=function(e){const n=e[0],t=e[1];let r=e[2];const i=zr.rgb.hsl(e)[0],o=1/255*Math.min(n,Math.min(t,r));return r=1-1/255*Math.max(n,Math.max(t,r)),[i,o*100,r*100]};zr.rgb.cmyk=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(1-n,1-t,1-r),o=(1-n-i)/(1-i)||0,s=(1-t-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function yee(e,n){return(e[0]-n[0])**2+(e[1]-n[1])**2+(e[2]-n[2])**2}zr.rgb.keyword=function(e){const n=yR[e];if(n)return n;let t=1/0,r;for(const i of Object.keys(lC)){const o=lC[i],s=yee(e,o);s<t&&(t=s,r=i)}return r};zr.keyword.rgb=function(e){return lC[e]};zr.rgb.xyz=function(e){let n=e[0]/255,t=e[1]/255,r=e[2]/255;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=n*.4124+t*.3576+r*.1805,o=n*.2126+t*.7152+r*.0722,s=n*.0193+t*.1192+r*.9505;return[i*100,o*100,s*100]};zr.rgb.lab=function(e){const n=zr.rgb.xyz(e);let t=n[0],r=n[1],i=n[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,s=500*(t-r),a=200*(r-i);return[o,s,a]};zr.hsl.rgb=function(e){const n=e[0]/360,t=e[1]/100,r=e[2]/100;let i,o,s;if(t===0)return s=r*255,[s,s,s];r<.5?i=r*(1+t):i=r+t-r*t;const a=2*r-i,h=[0,0,0];for(let g=0;g<3;g++)o=n+1/3*-(g-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,h[g]=s*255;return h};zr.hsl.hsv=function(e){const n=e[0];let t=e[1]/100,r=e[2]/100,i=t;const o=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,i*=o<=1?o:2-o;const s=(r+t)/2,a=r===0?2*i/(o+i):2*t/(r+t);return[n,a*100,s*100]};zr.hsv.rgb=function(e){const n=e[0]/60,t=e[1]/100;let r=e[2]/100;const i=Math.floor(n)%6,o=n-Math.floor(n),s=255*r*(1-t),a=255*r*(1-t*o),h=255*r*(1-t*(1-o));switch(r*=255,i){case 0:return[r,h,s];case 1:return[a,r,s];case 2:return[s,r,h];case 3:return[s,a,r];case 4:return[h,s,r];case 5:return[r,s,a]}};zr.hsv.hsl=function(e){const n=e[0],t=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,s;s=(2-t)*r;const a=(2-t)*i;return o=t*i,o/=a<=1?a:2-a,o=o||0,s/=2,[n,o*100,s*100]};zr.hwb.rgb=function(e){const n=e[0]/360;let t=e[1]/100,r=e[2]/100;const i=t+r;let o;i>1&&(t/=i,r/=i);const s=Math.floor(6*n),a=1-r;o=6*n-s,s&1&&(o=1-o);const h=t+o*(a-t);let g,C,B;switch(s){default:case 6:case 0:g=a,C=h,B=t;break;case 1:g=h,C=a,B=t;break;case 2:g=t,C=a,B=h;break;case 3:g=t,C=h,B=a;break;case 4:g=h,C=t,B=a;break;case 5:g=a,C=t,B=h;break}return[g*255,C*255,B*255]};zr.cmyk.rgb=function(e){const n=e[0]/100,t=e[1]/100,r=e[2]/100,i=e[3]/100,o=1-Math.min(1,n*(1-i)+i),s=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[o*255,s*255,a*255]};zr.xyz.rgb=function(e){const n=e[0]/100,t=e[1]/100,r=e[2]/100;let i,o,s;return i=n*3.2406+t*-1.5372+r*-.4986,o=n*-.9689+t*1.8758+r*.0415,s=n*.0557+t*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};zr.xyz.lab=function(e){let n=e[0],t=e[1],r=e[2];n/=95.047,t/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*t-16,o=500*(n-t),s=200*(t-r);return[i,o,s]};zr.lab.xyz=function(e){const n=e[0],t=e[1],r=e[2];let i,o,s;o=(n+16)/116,i=t/500+o,s=o-r/200;const a=o**3,h=i**3,g=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,s=g>.008856?g:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};zr.lab.lch=function(e){const n=e[0],t=e[1],r=e[2];let i;i=Math.atan2(r,t)*360/2/Math.PI,i<0&&(i+=360);const s=Math.sqrt(t*t+r*r);return[n,s,i]};zr.lch.lab=function(e){const n=e[0],t=e[1],i=e[2]/360*2*Math.PI,o=t*Math.cos(i),s=t*Math.sin(i);return[n,o,s]};zr.rgb.ansi16=function(e,n=null){const[t,r,i]=e;let o=n===null?zr.rgb.hsv(e)[2]:n;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};zr.hsv.ansi16=function(e){return zr.rgb.ansi16(zr.hsv.rgb(e),e[2])};zr.rgb.ansi256=function(e){const n=e[0],t=e[1],r=e[2];return n===t&&t===r?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};zr.ansi16.rgb=function(e){let n=e%10;if(n===0||n===7)return e>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const t=(~~(e>50)+1)*.5,r=(n&1)*t*255,i=(n>>1&1)*t*255,o=(n>>2&1)*t*255;return[r,i,o]};zr.ansi256.rgb=function(e){if(e>=232){const o=(e-232)*10+8;return[o,o,o]}e-=16;let n;const t=Math.floor(e/36)/5*255,r=Math.floor((n=e%36)/6)/5*255,i=n%6/5*255;return[t,r,i]};zr.rgb.hex=function(e){const t=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};zr.hex.rgb=function(e){const n=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];let t=n[0];n[0].length===3&&(t=t.split("").map(a=>a+a).join(""));const r=parseInt(t,16),i=r>>16&255,o=r>>8&255,s=r&255;return[i,o,s]};zr.rgb.hcg=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.max(Math.max(n,t),r),o=Math.min(Math.min(n,t),r),s=i-o;let a,h;return s<1?a=o/(1-s):a=0,s<=0?h=0:i===n?h=(t-r)/s%6:i===t?h=2+(r-n)/s:h=4+(n-t)/s,h/=6,h%=1,[h*360,s*100,a*100]};zr.hsl.hcg=function(e){const n=e[1]/100,t=e[2]/100,r=t<.5?2*n*t:2*n*(1-t);let i=0;return r<1&&(i=(t-.5*r)/(1-r)),[e[0],r*100,i*100]};zr.hsv.hcg=function(e){const n=e[1]/100,t=e[2]/100,r=n*t;let i=0;return r<1&&(i=(t-r)/(1-r)),[e[0],r*100,i*100]};zr.hcg.rgb=function(e){const n=e[0]/360,t=e[1]/100,r=e[2]/100;if(t===0)return[r*255,r*255,r*255];const i=[0,0,0],o=n%1*6,s=o%1,a=1-s;let h=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return h=(1-t)*r,[(t*i[0]+h)*255,(t*i[1]+h)*255,(t*i[2]+h)*255]};zr.hcg.hsv=function(e){const n=e[1]/100,t=e[2]/100,r=n+t*(1-n);let i=0;return r>0&&(i=n/r),[e[0],i*100,r*100]};zr.hcg.hsl=function(e){const n=e[1]/100,r=e[2]/100*(1-n)+.5*n;let i=0;return r>0&&r<.5?i=n/(2*r):r>=.5&&r<1&&(i=n/(2*(1-r))),[e[0],i*100,r*100]};zr.hcg.hwb=function(e){const n=e[1]/100,t=e[2]/100,r=n+t*(1-n);return[e[0],(r-n)*100,(1-r)*100]};zr.hwb.hcg=function(e){const n=e[1]/100,r=1-e[2]/100,i=r-n;let o=0;return i<1&&(o=(r-i)/(1-i)),[e[0],i*100,o*100]};zr.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};zr.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};zr.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};zr.gray.hsl=function(e){return[0,0,e[0]]};zr.gray.hsv=zr.gray.hsl;zr.gray.hwb=function(e){return[0,100,e[0]]};zr.gray.cmyk=function(e){return[0,0,0,e[0]]};zr.gray.lab=function(e){return[e[0],0,0]};zr.gray.hex=function(e){const n=Math.round(e[0]/100*255)&255,r=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(r.length)+r};zr.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const _3=vR;function vee(){const e={},n=Object.keys(_3);for(let t=n.length,r=0;r<t;r++)e[n[r]]={distance:-1,parent:null};return e}function _ee(e){const n=vee(),t=[e];for(n[e].distance=0;t.length;){const r=t.pop(),i=Object.keys(_3[r]);for(let o=i.length,s=0;s<o;s++){const a=i[s],h=n[a];h.distance===-1&&(h.distance=n[r].distance+1,h.parent=r,t.unshift(a))}}return n}function Cee(e,n){return function(t){return n(e(t))}}function bee(e,n){const t=[n[e].parent,e];let r=_3[n[e].parent][e],i=n[e].parent;for(;n[i].parent;)t.unshift(n[i].parent),r=Cee(_3[n[i].parent][i],r),i=n[i].parent;return r.conversion=t,r}var xee=function(e){const n=_ee(e),t={},r=Object.keys(n);for(let i=r.length,o=0;o<i;o++){const s=r[o];n[s].parent!==null&&(t[s]=bee(s,n))}return t};const j6=vR,wee=xee,wg={},Mee=Object.keys(j6);function See(e){const n=function(...t){const r=t[0];return r==null?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(n.conversion=e.conversion),n}function Eee(e){const n=function(...t){const r=t[0];if(r==null)return r;r.length>1&&(t=r);const i=e(t);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(n.conversion=e.conversion),n}Mee.forEach(e=>{wg[e]={},Object.defineProperty(wg[e],"channels",{value:j6[e].channels}),Object.defineProperty(wg[e],"labels",{value:j6[e].labels});const n=wee(e);Object.keys(n).forEach(r=>{const i=n[r];wg[e][r]=Eee(i),wg[e][r].raw=See(i)})});var Oee=wg;const Mg=mee,Kc=Oee,_R=["keyword","gray","hex"],W6={};for(const e of Object.keys(Kc))W6[[...Kc[e].labels].sort().join("")]=e;const C3={};function au(e,n){if(!(this instanceof au))return new au(e,n);if(n&&n in _R&&(n=null),n&&!(n in Kc))throw new Error("Unknown model: "+n);let t,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof au)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=Mg.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=Kc[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=n||"rgb",r=Kc[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=N6(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const o=i.sort().join("");if(!(o in W6))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=W6[o];const{labels:s}=Kc[this.model],a=[];for(t=0;t<s.length;t++)a.push(e[s[t]]);this.color=N6(a)}if(C3[this.model])for(r=Kc[this.model].channels,t=0;t<r;t++){const i=C3[this.model][t];i&&(this.color[t]=i(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}au.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let n=this.model in Mg.to?this:this.rgb();n=n.round(typeof e=="number"?e:1);const t=n.valpha===1?n.color:[...n.color,this.valpha];return Mg.to[n.model](t)},percentString(e){const n=this.rgb().round(typeof e=="number"?e:1),t=n.valpha===1?n.color:[...n.color,this.valpha];return Mg.to.rgb.percent(t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:n}=Kc[this.model],{labels:t}=Kc[this.model];for(let r=0;r<n;r++)e[t[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new au([...this.color.map(kee(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new au([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:Xs("rgb",0,Ul(255)),green:Xs("rgb",1,Ul(255)),blue:Xs("rgb",2,Ul(255)),hue:Xs(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:Xs("hsl",1,Ul(100)),lightness:Xs("hsl",2,Ul(100)),saturationv:Xs("hsv",1,Ul(100)),value:Xs("hsv",2,Ul(100)),chroma:Xs("hcg",1,Ul(100)),gray:Xs("hcg",2,Ul(100)),white:Xs("hwb",1,Ul(100)),wblack:Xs("hwb",2,Ul(100)),cyan:Xs("cmyk",0,Ul(100)),magenta:Xs("cmyk",1,Ul(100)),yellow:Xs("cmyk",2,Ul(100)),black:Xs("cmyk",3,Ul(100)),x:Xs("xyz",0,Ul(95.047)),y:Xs("xyz",1,Ul(100)),z:Xs("xyz",2,Ul(108.833)),l:Xs("lab",0,Ul(100)),a:Xs("lab",1),b:Xs("lab",2),keyword(e){return e!==void 0?new au(e):Kc[this.model].keyword(this.color)},hex(e){return e!==void 0?new au(e):Mg.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new au(e);const n=this.rgb().round().color;let t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),Mg.to.hex(n)+t},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,n=[];for(const[t,r]of e.entries()){const i=r/255;n[t]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast(e){const n=this.luminosity(),t=e.luminosity();return n>t?(n+.05)/(t+.05):(t+.05)/(n+.05)},level(e){const n=this.contrast(e);return n>=7?"AAA":n>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let n=0;n<3;n++)e.color[n]=255-e.color[n];return e},lighten(e){const n=this.hsl();return n.color[2]+=n.color[2]*e,n},darken(e){const n=this.hsl();return n.color[2]-=n.color[2]*e,n},saturate(e){const n=this.hsl();return n.color[1]+=n.color[1]*e,n},desaturate(e){const n=this.hsl();return n.color[1]-=n.color[1]*e,n},whiten(e){const n=this.hwb();return n.color[1]+=n.color[1]*e,n},blacken(e){const n=this.hwb();return n.color[2]+=n.color[2]*e,n},grayscale(){const e=this.rgb().color,n=e[0]*.3+e[1]*.59+e[2]*.11;return au.rgb(n,n,n)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const n=this.hsl();let t=n.color[0];return t=(t+e)%360,t=t<0?360+t:t,n.color[0]=t,n},mix(e,n){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const t=e.rgb(),r=this.rgb(),i=n===void 0?.5:n,o=2*i-1,s=t.alpha()-r.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,h=1-a;return au.rgb(a*t.red()+h*r.red(),a*t.green()+h*r.green(),a*t.blue()+h*r.blue(),t.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(Kc)){if(_R.includes(e))continue;const{channels:n}=Kc[e];au.prototype[e]=function(...t){return this.model===e?new au(this):t.length>0?new au(t,e):new au([...Iee(Kc[this.model][e].raw(this.color)),this.valpha],e)},au[e]=function(...t){let r=t[0];return typeof r=="number"&&(r=N6(t,n)),new au(r,e)}}function Bee(e,n){return Number(e.toFixed(n))}function kee(e){return function(n){return Bee(n,e)}}function Xs(e,n,t){e=Array.isArray(e)?e:[e];for(const r of e)(C3[r]||(C3[r]=[]))[n]=t;return e=e[0],function(r){let i;return r!==void 0?(t&&(r=t(r)),i=this[e](),i.color[n]=r,i):(i=this[e]().color[n],t&&(i=t(i)),i)}}function Ul(e){return function(n){return Math.max(0,Math.min(e,n))}}function Iee(e){return Array.isArray(e)?e:[e]}function N6(e,n){for(let t=0;t<n;t++)typeof e[t]!="number"&&(e[t]=0);return e}var Tee=au;const G6=oa(Tee);function da(){var e="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",n="bc6e1b88794b9d2c3dff41979be33bc1153f4814",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:6,column:4},end:{line:6,column:20}},4:{start:{line:7,column:4},end:{line:7,column:52}},5:{start:{line:8,column:4},end:{line:8,column:93}},6:{start:{line:9,column:4},end:{line:9,column:70}},7:{start:{line:10,column:4},end:{line:12,column:6}},8:{start:{line:13,column:4},end:{line:13,column:57}},9:{start:{line:14,column:4},end:{line:14,column:29}},10:{start:{line:15,column:4},end:{line:15,column:27}},11:{start:{line:18,column:4},end:{line:18,column:60}},12:{start:{line:21,column:4},end:{line:21,column:57}},13:{start:{line:21,column:33},end:{line:21,column:55}},14:{start:{line:22,column:4},end:{line:22,column:57}},15:{start:{line:22,column:33},end:{line:22,column:55}},16:{start:{line:23,column:4},end:{line:23,column:58}},17:{start:{line:23,column:34},end:{line:23,column:56}},18:{start:{line:26,column:4},end:{line:26,column:60}},19:{start:{line:27,column:4},end:{line:27,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:13},end:{line:16,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:20},end:{line:19,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:22},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:21,column:27},end:{line:21,column:28}},loc:{start:{line:21,column:33},end:{line:21,column:55}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:22,column:27},end:{line:22,column:28}},loc:{start:{line:22,column:33},end:{line:22,column:55}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:28},end:{line:23,column:29}},loc:{start:{line:23,column:34},end:{line:23,column:56}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:28,column:3}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,WAAW,YAAY;AAAA;AAAA;AAG5B,SAAK,UAAU,KAAK,WAAW,cAAc,MAAM;AAEnD,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bc6e1b88794b9d2c3dff41979be33bc1153f4814"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return da=function(){return s},s}da();class Kee{constructor(){rn(this,"_map",(da().s[0]++,void 0));rn(this,"_container",(da().s[1]++,void 0));rn(this,"_textEl",(da().s[2]++,null))}onAdd(n){return da().f[0]++,da().s[3]++,this._map=n,da().s[4]++,this._container=document.createElement("div"),da().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",da().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),da().s[7]++,this._container.innerHTML=`
      Zoom: <span></span>
    `,da().s[8]++,this._textEl=this._container.querySelector("span"),da().s[9]++,this.addEventListeners(),da().s[10]++,this._container}updateZoomLevel(){da().f[1]++,da().s[11]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}addEventListeners(){da().f[2]++,da().s[12]++,this._map.on("render",()=>(da().f[3]++,da().s[13]++,this.updateZoomLevel())),da().s[14]++,this._map.on("zoomIn",()=>(da().f[4]++,da().s[15]++,this.updateZoomLevel())),da().s[16]++,this._map.on("zoomOut",()=>(da().f[5]++,da().s[17]++,this.updateZoomLevel()))}onRemove(){da().f[6]++,da().s[18]++,this._container.parentNode.removeChild(this._container),da().s[19]++,this._map=void 0}}function wi(){var e="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",n="a1afd3a6454022c4d7be658acdbd4aecf51f38d3",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:19,column:16}},10:{start:{line:19,column:4},end:{line:19,column:16}},11:{start:{line:20,column:24},end:{line:20,column:51}},12:{start:{line:21,column:16},end:{line:21,column:52}},13:{start:{line:22,column:2},end:{line:24,column:3}},14:{start:{line:23,column:4},end:{line:23,column:104}},15:{start:{line:25,column:2},end:{line:27,column:3}},16:{start:{line:26,column:4},end:{line:26,column:96}},17:{start:{line:28,column:2},end:{line:30,column:3}},18:{start:{line:29,column:4},end:{line:29,column:94}},19:{start:{line:31,column:2},end:{line:31,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:32,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:19,column:16}},type:"if",locations:[{start:{line:18,column:2},end:{line:19,column:16}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:20,column:24},end:{line:20,column:51}},type:"binary-expr",locations:[{start:{line:20,column:24},end:{line:20,column:45}},{start:{line:20,column:49},end:{line:20,column:51}}],line:20},6:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},7:{loc:{start:{line:22,column:6},end:{line:22,column:62}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:27}},{start:{line:22,column:31},end:{line:22,column:62}}],line:22},8:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},9:{loc:{start:{line:25,column:6},end:{line:25,column:56}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:29}},{start:{line:25,column:33},end:{line:25,column:56}}],line:25},10:{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AACA,OAAO,cAAc;AAErB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS;AAAU,WAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a1afd3a6454022c4d7be658acdbd4aecf51f38d3"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return wi=function(){return s},s}wi();function hM(e,n){return wi().f[0]++,wi().s[0]++,e.type==="circle"?(wi().b[0][0]++,wi().s[1]++,e.paint["circle-radius"]=3):(wi().b[0][1]++,wi().s[2]++,e.type==="line"?(wi().b[1][0]++,wi().s[3]++,e.paint["line-width"]=2):wi().b[1][1]++),wi().s[4]++,"filter"in n?(wi().b[2][0]++,wi().s[5]++,e.filter=n.filter):(wi().b[2][1]++,wi().s[6]++,delete e.filter),wi().s[7]++,e.id=e.id+"_highlight",wi().s[8]++,e}function Pee(e){if(wi().f[1]++,wi().s[9]++,wi().b[4][0]++,!e||(wi().b[4][1]++,e.type==="background")||(wi().b[4][2]++,e.type==="raster"))return wi().b[3][0]++,wi().s[10]++,null;wi().b[3][1]++;const n=(wi().s[11]++,wi().b[5][0]++,e["source-layer"]||(wi().b[5][1]++,"")),t=(wi().s[12]++,o5.brightColor(n,1));return wi().s[13]++,wi().b[7][0]++,e.type==="fill"||(wi().b[7][1]++,e.type==="fill-extrusion")?(wi().b[6][0]++,wi().s[14]++,hM(wp.polygonLayer(t,t,e.source,e["source-layer"]),e)):(wi().b[6][1]++,wi().s[15]++,wi().b[9][0]++,e.type==="symbol"||(wi().b[9][1]++,e.type==="circle")?(wi().b[8][0]++,wi().s[16]++,hM(wp.circleLayer(t,e.source,e["source-layer"]),e)):(wi().b[8][1]++,wi().s[17]++,e.type==="line"?(wi().b[10][0]++,wi().s[18]++,hM(wp.lineLayer(t,e.source,e["source-layer"]),e)):(wi().b[10][1]++,wi().s[19]++,null)))}function NB(){var e="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",n="a9dc98f82c73787713de0672aff7a601bfeb069d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return NB=function(){return s},s}NB();NB().s[0]++;a_.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);var CR=Dee,Fee=Object.prototype.hasOwnProperty;function Dee(){for(var e={},n=0;n<arguments.length;n++){var t=arguments[n];for(var r in t)Fee.call(t,r)&&(e[r]=t[r])}return e}var bR={exports:{}};(function(e,n){(function(){var t={};e.exports=t,t.simpleFilter=function(r,i){return i.filter(function(o){return t.test(r,o)})},t.test=function(r,i){return t.match(r,i)!==null},t.match=function(r,i,o){o=o||{};var s=0,a=[],h=i.length,g=0,C=0,B=o.pre||"",k=o.post||"",P=o.caseSensitive&&i||i.toLowerCase(),U;r=o.caseSensitive&&r||r.toLowerCase();for(var Z=0;Z<h;Z++)U=i[Z],P[Z]===r[s]?(U=B+U+k,s+=1,C+=1+C):C=0,g+=C,a[a.length]=U;return s===r.length?(g=P===r?1/0:g,{rendered:a.join(""),score:g}):null},t.filter=function(r,i,o){return!i||i.length===0?[]:typeof r!="string"?i:(o=o||{},i.reduce(function(s,a,h,g){var C=a;o.extract&&(C=o.extract(a));var B=t.match(r,C,o);return B!=null&&(s[s.length]={string:B.rendered,score:B.score,index:h,original:a}),s},[]).sort(function(s,a){var h=a.score-s.score;return h||s.index-a.index}))}})()})(bR);var Lee=bR.exports,rc=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};rc.prototype.show=function(){this.element.style.display="block"};rc.prototype.hide=function(){this.element.style.display="none"};rc.prototype.add=function(e){this.items.push(e)};rc.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0};rc.prototype.isEmpty=function(){return!this.items.length};rc.prototype.isVisible=function(){return this.element.style.display==="block"};rc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};rc.prototype.drawItem=function(e,n){var t=document.createElement("li"),r=document.createElement("a");n&&(t.className+=" active"),r.innerHTML=e.string,t.appendChild(r),this.element.appendChild(t),t.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),t.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};rc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};rc.prototype.move=function(e){this.active=e,this.draw()};rc.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)};rc.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)};rc.prototype.drawError=function(e){var n=document.createElement("li");n.innerHTML=e,this.element.appendChild(n),this.show()};var Uee=rc,Ree=CR,zee=Lee,jee=Uee,eA=function(e,n,t){return t=t||{},this.options=Ree({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},t),this.el=e,this.data=n||[],this.list=new jee(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode,r)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};eA.prototype.handleKeyUp=function(e,n){if(!(e===40||e===38||e===27||e===9)){if(e===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),n.stopPropagation());return}this.handleInputChange(this.el.value)}};eA.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};eA.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};eA.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var n=this;setTimeout(function(){n.handleInputChange(e.target.value)},100)}};eA.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(n){for(var t=0;t<n.length&&(this.list.add(n[t]),t!==this.options.limit-1);t++);this.list.draw()}).bind(this))};eA.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};eA.prototype.update=function(e){this.data=e,this.handleKeyUp()};eA.prototype.clear=function(){this.data=[],this.list.clear()};eA.prototype.normalize=function(e){return e=e.toLowerCase(),e};eA.prototype.match=function(e,n){return e.indexOf(n)>-1};eA.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e||{place_name:this.query}),document.createEvent){var n=document.createEvent("HTMLEvents");n.initEvent("change",!0,!1),this.el.dispatchEvent(n)}else this.el.fireEvent("onchange")};eA.prototype.getCandidates=function(e){var n={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},t;this.options.filter?(t=zee.filter(this.query,this.data,n),t=t.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):t=this.data.map((function(r){var i=this.render(r);return{original:r,string:i}}).bind(this)),e(t)};eA.prototype.getItemValue=function(e){return e};eA.prototype.render=function(e,n){if(n)return n;for(var t=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(t),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;t=t.slice(0,i)+"<strong>"+t.slice(i,o)+"</strong>"+t.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return t};eA.prototype.renderError=function(e){this.list.drawError(e)};var Wee=eA,xR=Wee,Nee=xR;typeof window<"u"&&(window.Suggestions=xR);var Gee="Expected a function",d9=NaN,Qee="[object Symbol]",$ee=/^\s+|\s+$/g,Yee=/^[-+]0x[0-9a-f]+$/i,qee=/^0b[01]+$/i,Vee=/^0o[0-7]+$/i,Hee=parseInt,Zee=typeof window=="object"&&window&&window.Object===Object&&window,Xee=typeof self=="object"&&self&&self.Object===Object&&self,Jee=Zee||Xee||Function("return this")(),ete=Object.prototype,tte=ete.toString,nte=Math.max,rte=Math.min,fM=function(){return Jee.Date.now()};function ite(e,n,t){var r,i,o,s,a,h,g=0,C=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(Gee);n=h9(n)||0,Q6(t)&&(C=!!t.leading,B="maxWait"in t,o=B?nte(h9(t.maxWait)||0,n):o,k="trailing"in t?!!t.trailing:k);function P(ae){var se=r,ye=i;return r=i=void 0,g=ae,s=e.apply(ye,se),s}function U(ae){return g=ae,a=setTimeout(Q,n),C?P(ae):s}function Z(ae){var se=ae-h,ye=ae-g,De=n-se;return B?rte(De,o-ye):De}function W(ae){var se=ae-h,ye=ae-g;return h===void 0||se>=n||se<0||B&&ye>=o}function Q(){var ae=fM();if(W(ae))return q(ae);a=setTimeout(Q,Z(ae))}function q(ae){return a=void 0,k&&r?P(ae):(r=i=void 0,s)}function oe(){a!==void 0&&clearTimeout(a),g=0,r=h=i=a=void 0}function re(){return a===void 0?s:q(fM())}function Ae(){var ae=fM(),se=W(ae);if(r=arguments,i=this,h=ae,se){if(a===void 0)return U(h);if(B)return a=setTimeout(Q,n),P(h)}return a===void 0&&(a=setTimeout(Q,n)),s}return Ae.cancel=oe,Ae.flush=re,Ae}function Q6(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function ote(e){return!!e&&typeof e=="object"}function ate(e){return typeof e=="symbol"||ote(e)&&tte.call(e)==Qee}function h9(e){if(typeof e=="number")return e;if(ate(e))return d9;if(Q6(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Q6(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace($ee,"");var t=qee.test(e);return t||Vee.test(e)?Hee(e.slice(2),t?2:8):Yee.test(e)?d9:+e}var ste=ite,GB={exports:{}},ay=typeof Reflect=="object"?Reflect:null,f9=ay&&typeof ay.apply=="function"?ay.apply:function(n,t,r){return Function.prototype.apply.call(n,t,r)},C2;ay&&typeof ay.ownKeys=="function"?C2=ay.ownKeys:Object.getOwnPropertySymbols?C2=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:C2=function(n){return Object.getOwnPropertyNames(n)};function lte(e){console&&console.warn&&console.warn(e)}var wR=Number.isNaN||function(n){return n!==n};function ba(){ba.init.call(this)}GB.exports=ba;GB.exports.once=dte;ba.EventEmitter=ba;ba.prototype._events=void 0;ba.prototype._eventsCount=0;ba.prototype._maxListeners=void 0;var p9=10;function a5(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ba,"defaultMaxListeners",{enumerable:!0,get:function(){return p9},set:function(e){if(typeof e!="number"||e<0||wR(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");p9=e}});ba.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ba.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||wR(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function MR(e){return e._maxListeners===void 0?ba.defaultMaxListeners:e._maxListeners}ba.prototype.getMaxListeners=function(){return MR(this)};ba.prototype.emit=function(n){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=n==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var h=o[n];if(h===void 0)return!1;if(typeof h=="function")f9(h,this,t);else for(var g=h.length,C=kR(h,g),r=0;r<g;++r)f9(C[r],this,t);return!0};function SR(e,n,t,r){var i,o,s;if(a5(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",n,t.listener?t.listener:t),o=e._events),s=o[n]),s===void 0)s=o[n]=t,++e._eventsCount;else if(typeof s=="function"?s=o[n]=r?[t,s]:[s,t]:r?s.unshift(t):s.push(t),i=MR(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=n,a.count=s.length,lte(a)}return e}ba.prototype.addListener=function(n,t){return SR(this,n,t,!1)};ba.prototype.on=ba.prototype.addListener;ba.prototype.prependListener=function(n,t){return SR(this,n,t,!0)};function ute(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ER(e,n,t){var r={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},i=ute.bind(r);return i.listener=t,r.wrapFn=i,i}ba.prototype.once=function(n,t){return a5(t),this.on(n,ER(this,n,t)),this};ba.prototype.prependOnceListener=function(n,t){return a5(t),this.prependListener(n,ER(this,n,t)),this};ba.prototype.removeListener=function(n,t){var r,i,o,s,a;if(a5(t),i=this._events,i===void 0)return this;if(r=i[n],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener||t));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():Ate(r,o),r.length===1&&(i[n]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",n,a||t)}return this};ba.prototype.off=ba.prototype.removeListener;ba.prototype.removeAllListeners=function(n){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[n],typeof t=="function")this.removeListener(n,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(n,t[i]);return this};function OR(e,n,t){var r=e._events;if(r===void 0)return[];var i=r[n];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?cte(i):kR(i,i.length)}ba.prototype.listeners=function(n){return OR(this,n,!0)};ba.prototype.rawListeners=function(n){return OR(this,n,!1)};ba.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):BR.call(e,n)};ba.prototype.listenerCount=BR;function BR(e){var n=this._events;if(n!==void 0){var t=n[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}ba.prototype.eventNames=function(){return this._eventsCount>0?C2(this._events):[]};function kR(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e[r];return t}function Ate(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function cte(e){for(var n=new Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];return n}function dte(e,n){return new Promise(function(t,r){function i(s){e.removeListener(n,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),t([].slice.call(arguments))}IR(e,n,o,{once:!0}),n!=="error"&&hte(e,i,{once:!0})})}function hte(e,n,t){typeof e.on=="function"&&IR(e,"error",n,t)}function IR(e,n,t,r){if(typeof e.on=="function")r.once?e.once(n,t):e.on(n,t);else if(typeof e.addEventListener=="function")e.addEventListener(n,function i(o){r.once&&e.removeEventListener(n,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var fte=GB.exports,pte={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},mte={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:""},gte={placeholder:mte},TR={exports:{}};(function(e){(function(n,t,r){e.exports?e.exports=r():n[t]=r()})(ch,"subtag",function(){var n="",t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(h){return h.match(t)||[]}function i(h){return r(h).filter(function(g,C){return g&&C})}function o(h){return h=r(h),{language:h[1]||n,extlang:h[2]||n,script:h[3]||n,region:h[4]||n}}function s(h,g,C){Object.defineProperty(h,g,{value:C,enumerable:!0})}function a(h,g,C){function B(k){return r(k)[h]||n}s(B,"pattern",g),s(o,C,B)}return a(1,/^[a-zA-Z]{2,3}$/,"language"),a(2,/^[a-zA-Z]{3}$/,"extlang"),a(3,/^[a-zA-Z]{4}$/,"script"),a(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),s(o,"split",i),o})})(TR);var yte=TR.exports,vte=Nee,_te=ste,Bc=CR,Cte=fte.EventEmitter,m9=pte,bte=gte,xte=yte;function KR(e,n){this._eventEmitter=new Cte,this.options=Bc({},this.options,n),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}KR.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(e){return e.text!==void 0?e.text:e.place_name},render:function(e){if(e.geometry){var a=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--result maplibregl-ctrl-geocoder--result"><svg class="mapboxgl-ctrl-geocoder--result-icon maplibre-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="mapboxgl-ctrl-geocoder--result-title maplibregl-ctrl-geocoder--result-title">'+a[0]+'</div><div class="mapboxgl-ctrl-geocoder--result-address maplibregl-ctrl-geocoder--result-address">'+a.splice(1,a.length).join(",")+"</div></div></div>"}else{var n=e.text,t=n.toLowerCase().indexOf(this.query.toLowerCase()),r=this.query.length,i=n.substring(0,t),o=n.substring(t,t+r),s=n.substring(t+r);return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibregl-ctrl-geocoder--suggestion"><svg class="mapboxgl-ctrl-geocoder--suggestion-icon maplibre-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="mapboxgl-ctrl-geocoder--suggestion-info maplibregl-ctrl-geocoder--suggestion-info"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibregl-ctrl-geocoder--suggestion-title">'+i+'<span class="mapboxgl-ctrl-geocoder--suggestion-match maplibregl-ctrl-geocoder--suggestion-match">'+o+"</span>"+s+"</div></div></div>"}},popupRender:function(e){var n=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibre-ctrl-geocoder--suggestion popup-suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibre-ctrl-geocoder--suggestion-title popup-suggestion-title">'+n[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address maplibre-ctrl-geocoder--suggestion-address popup-suggestion-address">'+n.splice(1,n.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},addTo:function(e){function n(r,i){if(!document.body.contains(i))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var o=r.onAdd();i.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)n(this,e);else if(typeof e=="string"){var t=document.querySelectorAll(e);if(t.length===0)throw new Error("Element ",e,"not found.");if(t.length>1)throw new Error("Geocoder can only be added to a single html element");n(this,t[0])}else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var n=this.container=document.createElement("div");n.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";var t=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",_te(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right","maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button maplibregl-ctrl-geocoder--button";var i=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(i),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),n.appendChild(t),n.appendChild(this._inputEl),n.appendChild(r),this._typeahead=new vte(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),n},createIcon:function(e,n){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e+" maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),t.setAttribute("viewBox","0 0 18 18"),t.setAttribute("xml:space","preserve"),t.setAttribute("width",18),t.setAttribute("height",18),"innerHTML"in t)t.innerHTML=n;else{var r=document.createElement("div");r.innerHTML="<svg>"+n.valueOf().toString()+"</svg>";var i=r.firstChild,o=i.firstChild;t.appendChild(o)}return t},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(e){var n=(e.clipboardData||window.clipboardData).getData("text");n.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(n)},_onKeyDown:function(e){var n=27,t=9;if(e.keyCode===n&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,i=r?r.value:"";if(!i)return this.fresh=!0,e.keyCode!==t&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[t,n,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(r.value);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(r.value,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}r.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(r.value)}},_showButton:function(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){var n;if(this._removeResultMarkers(),e.properties&&m9[e.properties.short_code])n=Bc({},this.options.flyTo),this._map&&this._map.fitBounds(m9[e.properties.short_code].bbox,n);else if(e.bbox){var t=e.bbox;n=Bc({},this.options.flyTo),this._map&&this._map.fitBounds([[t[0],t[1]],[t[2],t[3]]],n)}else{var r={zoom:this.options.zoom};n=Bc({},r,this.options.flyTo),e.center?n.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(n.center=e.geometry.coordinates),this._map&&this._map.flyTo(n)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}},_getConfigForRequest:function(){var e=["bbox","limit","proximity","countries","types","language","reverseMode"],n=this,t=e.reduce(function(r,i){return n.options[i]&&(["countries","types","language"].indexOf(i)>-1?r[i]=n.options[i].split(/[\s,]+/):r[i]=n.options[i],i==="proximity"&&n.options[i]&&typeof n.options[i].longitude=="number"&&typeof n.options[i].latitude=="number"&&(r[i]=[n.options[i].longitude,n.options[i].latitude])),r},{});return t},_geocode:function(e,n,t){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e}),this.inputString=e;var r=null,i=this._getConfigForRequest(),o;if(this.options.localGeocoderOnly)o=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){var s=e.split(/[\s(,)?]+/).map(function(g){return parseFloat(g,10)}).reverse();i.types&&i.types[0],i=Bc(i,{query:s,limit:1}),"proximity"in i&&delete i.proximity,o=this.geocoderApi.reverseGeocode(i)}else i=Bc(i,{query:e}),this.geocoderApi.getSuggestions?n?this.geocoderApi.searchByPlaceId&&t?o=this.geocoderApi.searchByPlaceId(i):o=this.geocoderApi.forwardGeocode(i):o=this.geocoderApi.getSuggestions(i):o=this.geocoderApi.forwardGeocode(i);var a=[];this.options.localGeocoder&&(a=this.options.localGeocoder(e),a||(a=[]));var h=[];return o.catch((function(g){r=g}).bind(this)).then((function(g){this._loadingEl.style.display="none";var C={};return g?C=g:C={type:"FeatureCollection",features:[]},C.config=i,this.fresh&&(this.fresh=!1),C.features=C.features?a.concat(C.features):a,this.options.externalGeocoder?(h=this.options.externalGeocoder(e,C.features,i)||[],h.then(function(B){return C.features=C.features?B.concat(C.features):B,C},function(){return C})):C}).bind(this)).then((function(g){if(r)throw r;this.options.filter&&g.features.length&&(g.features=g.features.filter(this.options.filter));var C=[];g.suggestions?C=g.suggestions:g.place?C=[g.place]:C=g.features,C.length?(this._clearEl.style.display="block",this._typeahead.update(C),(!this.options.showResultsWhileTyping||n)&&this.options.showResultMarkers&&(g.features.length>0||g.place)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",g)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",g))}).bind(this)).catch((function(g){this._loadingEl.style.display="none",a.length&&this.options.localGeocoder||h.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(a)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:a}),this._eventEmitter.emit("error",{error:g})}).bind(this)),o},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var n=this;e.relatedTarget&&n._clear(e)},_onQueryResult:function(e){var n=e;if(n.features.length){var t=n.features[0];this._typeahead.selected=t,this._inputEl.value=t.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error maplibre-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],n=xte.language(e),t=bte.placeholder[n];if(t)return t}return"Search"},_fitBoundsForMarkers:function(){if(!(this._typeahead.data.length<1)){var e=this._typeahead.data.filter(function(i){return typeof i!="string"}).slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){var n={padding:100},t=Bc({},n,this.options.flyTo),r=new this._maplibregl.LngLatBounds;e.forEach(function(i){r.extend(i.geometry.coordinates)}),this._map.fitBounds(r.toArray(),t)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this},setProximity:function(e){return this.options.proximity=e,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var n=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||n,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setGeocoderApi:function(e){return this.geocoderApi=e,this},getGeocoderApi:function(){return this.geocoderApi},_handleMarker:function(e){if(this._map){this._removeMarker();var n={color:"#4668F2"},t=Bc({},n,this.options.marker);this.mapMarker=new this._maplibregl.Marker(t);var r;if(this.options.popup){var i={},o=Bc({},i,this.options.popup);r=new this._maplibregl.Popup(o).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},_handleResultMarkers:function(e){if(this._map){this._removeResultMarkers();var n={color:"#4668F2"},t=Bc({},n,this.options.showResultMarkers);return e.forEach((function(r){if(this.options.showResultMarkers&&this.options.showResultMarkers.element){var i=this.options.showResultMarkers.element.cloneNode(!0);t=Bc(t,{element:i})}var o=new this._maplibregl.Marker(Bc({},t,{element:i})),s;if(this.options.popup){var a={},h=Bc({},a,this.options.popup);s=new this._maplibregl.Popup(h).setHTML(this.options.popupRender(r))}r.center?(o.setLngLat(r.center).addTo(this._map),this.options.popup&&o.setPopup(s)):r.geometry&&r.geometry.type&&r.geometry.type==="Point"&&r.geometry.coordinates&&(o.setLngLat(r.geometry.coordinates).addTo(this._map),this.options.popup&&o.setPopup(s)),this.resultMarkers.push(o)}).bind(this)),this}},_removeResultMarkers:function(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])},on:function(e,n){return this._eventEmitter.on(e,n),this},off:function(e,n){return this._eventEmitter.removeListener(e,n),this}};var wte=KR;const Mte=oa(wte);function Jt(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",n="1e3731daae0cca39a9405daf7d0b16bfd659d044",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:18,column:36}},1:{start:{line:19,column:2},end:{line:19,column:19}},2:{start:{line:22,column:26},end:{line:28,column:3}},3:{start:{line:29,column:16},end:{line:29,column:55}},4:{start:{line:30,column:2},end:{line:32,column:3}},5:{start:{line:31,column:4},end:{line:31,column:30}},6:{start:{line:33,column:18},end:{line:33,column:20}},7:{start:{line:34,column:2},end:{line:39,column:5}},8:{start:{line:35,column:19},end:{line:35,column:53}},9:{start:{line:36,column:4},end:{line:38,column:5}},10:{start:{line:37,column:6},end:{line:37,column:33}},11:{start:{line:40,column:23},end:{line:44,column:3}},12:{start:{line:45,column:2},end:{line:45,column:22}},13:{start:{line:48,column:24},end:{line:58,column:3}},14:{start:{line:59,column:14},end:{line:59,column:18}},15:{start:{line:61,column:4},end:{line:61,column:17}},16:{start:{line:62,column:4},end:{line:65,column:6}},17:{start:{line:68,column:4},end:{line:69,column:13}},18:{start:{line:69,column:6},end:{line:69,column:13}},19:{start:{line:70,column:4},end:{line:73,column:6}},20:{start:{line:76,column:17},end:{line:76,column:22}},21:{start:{line:77,column:4},end:{line:80,column:5}},22:{start:{line:78,column:6},end:{line:78,column:132}},23:{start:{line:81,column:4},end:{line:81,column:18}},24:{start:{line:84,column:16},end:{line:84,column:30}},25:{start:{line:85,column:4},end:{line:85,column:40}},26:{start:{line:86,column:4},end:{line:89,column:5}},27:{start:{line:87,column:6},end:{line:87,column:47}},28:{start:{line:88,column:6},end:{line:88,column:43}},29:{start:{line:90,column:4},end:{line:101,column:5}},30:{start:{line:91,column:6},end:{line:97,column:7}},31:{start:{line:92,column:8},end:{line:96,column:9}},32:{start:{line:93,column:10},end:{line:93,column:38}},33:{start:{line:95,column:10},end:{line:95,column:52}},34:{start:{line:98,column:6},end:{line:98,column:70}},35:{start:{line:99,column:6},end:{line:99,column:70}},36:{start:{line:100,column:6},end:{line:100,column:76}},37:{start:{line:104,column:20},end:{line:110,column:5}},38:{start:{line:111,column:16},end:{line:111,column:43}},39:{start:{line:112,column:26},end:{line:116,column:5}},40:{start:{line:113,column:21},end:{line:113,column:36}},41:{start:{line:114,column:19},end:{line:114,column:32}},42:{start:{line:115,column:6},end:{line:115,column:44}},43:{start:{line:117,column:4},end:{line:117,column:20}},44:{start:{line:118,column:4},end:{line:118,column:56}},45:{start:{line:119,column:4},end:{line:119,column:56}},46:{start:{line:120,column:4},end:{line:120,column:62}},47:{start:{line:121,column:4},end:{line:121,column:27}},48:{start:{line:122,column:24},end:{line:122,column:41}},49:{start:{line:123,column:4},end:{line:123,column:45}},50:{start:{line:124,column:16},end:{line:124,column:74}},51:{start:{line:125,column:4},end:{line:125,column:37}},52:{start:{line:126,column:20},end:{line:126,column:49}},53:{start:{line:127,column:20},end:{line:147,column:6}},54:{start:{line:137,column:8},end:{line:137,column:82}},55:{start:{line:139,column:62},end:{line:139,column:141}},56:{start:{line:141,column:8},end:{line:145,column:9}},57:{start:{line:142,column:10},end:{line:142,column:108}},58:{start:{line:144,column:10},end:{line:144,column:160}},59:{start:{line:148,column:4},end:{line:148,column:28}},60:{start:{line:149,column:4},end:{line:155,column:7}},61:{start:{line:150,column:6},end:{line:154,column:9}},62:{start:{line:156,column:4},end:{line:162,column:7}},63:{start:{line:157,column:6},end:{line:158,column:15}},64:{start:{line:158,column:8},end:{line:158,column:15}},65:{start:{line:159,column:6},end:{line:161,column:9}},66:{start:{line:163,column:4},end:{line:165,column:7}},67:{start:{line:164,column:6},end:{line:164,column:30}},68:{start:{line:166,column:4},end:{line:170,column:7}},69:{start:{line:167,column:6},end:{line:169,column:9}},70:{start:{line:171,column:4},end:{line:171,column:37}},71:{start:{line:172,column:4},end:{line:172,column:37}},72:{start:{line:174,column:22},end:{line:177,column:3}},73:{start:{line:175,column:18},end:{line:175,column:82}},74:{start:{line:175,column:66},end:{line:175,column:81}},75:{start:{line:176,column:4},end:{line:176,column:36}},76:{start:{line:179,column:27},end:{line:212,column:5}},77:{start:{line:181,column:25},end:{line:181,column:27}},78:{start:{line:182,column:8},end:{line:207,column:9}},79:{start:{line:183,column:26},end:{line:183,column:138}},80:{start:{line:184,column:27},end:{line:184,column:47}},81:{start:{line:185,column:26},end:{line:185,column:47}},82:{start:{line:186,column:10},end:{line:204,column:11}},83:{start:{line:187,column:27},end:{line:190,column:13}},84:{start:{line:191,column:26},end:{line:202,column:13}},85:{start:{line:203,column:12},end:{line:203,column:33}},86:{start:{line:206,column:10},end:{line:206,column:69}},87:{start:{line:208,column:8},end:{line:210,column:10}},88:{start:{line:213,column:21},end:{line:213,column:85}},89:{start:{line:214,column:4},end:{line:214,column:41}},90:{start:{line:217,column:4},end:{line:226,column:6}},91:{start:{line:223,column:20},end:{line:223,column:38}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:17,column:9},end:{line:17,column:20}},loc:{start:{line:17,column:39},end:{line:20,column:1}},line:17},1:{name:"buildInspectStyle",decl:{start:{line:21,column:9},end:{line:21,column:26}},loc:{start:{line:21,column:78},end:{line:46,column:1}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:34,column:48},end:{line:34,column:49}},loc:{start:{line:34,column:62},end:{line:39,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:49,column:17},end:{line:49,column:18}},loc:{start:{line:49,column:23},end:{line:50,column:5}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:51,column:18},end:{line:51,column:19}},loc:{start:{line:51,column:24},end:{line:52,column:5}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:53,column:19},end:{line:53,column:20}},loc:{start:{line:53,column:25},end:{line:54,column:5}},line:53},6:{name:"(anonymous_6)",decl:{start:{line:55,column:14},end:{line:55,column:15}},loc:{start:{line:55,column:20},end:{line:56,column:5}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:21},end:{line:66,column:3}},line:60},8:{name:"(anonymous_8)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:28},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:46},end:{line:82,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:23},end:{line:102,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:22},end:{line:173,column:3}},line:103},12:{name:"(anonymous_12)",decl:{start:{line:112,column:26},end:{line:112,column:27}},loc:{start:{line:112,column:32},end:{line:116,column:5}},line:112},13:{name:"(anonymous_13)",decl:{start:{line:136,column:24},end:{line:136,column:25}},loc:{start:{line:136,column:44},end:{line:138,column:7}},line:136},14:{name:"(anonymous_14)",decl:{start:{line:139,column:25},end:{line:139,column:26}},loc:{start:{line:139,column:62},end:{line:139,column:141}},line:139},15:{name:"(anonymous_15)",decl:{start:{line:140,column:19},end:{line:140,column:20}},loc:{start:{line:140,column:33},end:{line:146,column:7}},line:140},16:{name:"(anonymous_16)",decl:{start:{line:149,column:25},end:{line:149,column:26}},loc:{start:{line:149,column:31},end:{line:155,column:5}},line:149},17:{name:"(anonymous_17)",decl:{start:{line:156,column:19},end:{line:156,column:20}},loc:{start:{line:156,column:26},end:{line:162,column:5}},line:156},18:{name:"(anonymous_18)",decl:{start:{line:163,column:20},end:{line:163,column:21}},loc:{start:{line:163,column:27},end:{line:165,column:5}},line:163},19:{name:"(anonymous_19)",decl:{start:{line:166,column:19},end:{line:166,column:20}},loc:{start:{line:166,column:27},end:{line:170,column:5}},line:166},20:{name:"(anonymous_20)",decl:{start:{line:174,column:22},end:{line:174,column:23}},loc:{start:{line:174,column:30},end:{line:177,column:3}},line:174},21:{name:"(anonymous_21)",decl:{start:{line:175,column:55},end:{line:175,column:56}},loc:{start:{line:175,column:66},end:{line:175,column:81}},line:175},22:{name:"(anonymous_22)",decl:{start:{line:178,column:2},end:{line:178,column:3}},loc:{start:{line:178,column:20},end:{line:215,column:3}},line:178},23:{name:"(anonymous_23)",decl:{start:{line:180,column:22},end:{line:180,column:23}},loc:{start:{line:180,column:40},end:{line:211,column:7}},line:180},24:{name:"(anonymous_24)",decl:{start:{line:216,column:2},end:{line:216,column:3}},loc:{start:{line:216,column:11},end:{line:227,column:3}},line:216},25:{name:"(anonymous_25)",decl:{start:{line:223,column:13},end:{line:223,column:14}},loc:{start:{line:223,column:20},end:{line:223,column:38}},line:223}},branchMap:{0:{loc:{start:{line:30,column:2},end:{line:32,column:3}},type:"if",locations:[{start:{line:30,column:2},end:{line:32,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30},1:{loc:{start:{line:36,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:38,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:36,column:8},end:{line:36,column:64}},type:"binary-expr",locations:[{start:{line:36,column:8},end:{line:36,column:32}},{start:{line:36,column:36},end:{line:36,column:64}}],line:36},3:{loc:{start:{line:68,column:4},end:{line:69,column:13}},type:"if",locations:[{start:{line:68,column:4},end:{line:69,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},4:{loc:{start:{line:78,column:15},end:{line:78,column:131}},type:"binary-expr",locations:[{start:{line:78,column:15},end:{line:78,column:71}},{start:{line:78,column:75},end:{line:78,column:131}}],line:78},5:{loc:{start:{line:86,column:4},end:{line:89,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:89,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},6:{loc:{start:{line:86,column:8},end:{line:86,column:98}},type:"binary-expr",locations:[{start:{line:86,column:8},end:{line:86,column:26}},{start:{line:86,column:30},end:{line:86,column:98}}],line:86},7:{loc:{start:{line:90,column:4},end:{line:101,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:101,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},8:{loc:{start:{line:91,column:6},end:{line:97,column:7}},type:"if",locations:[{start:{line:91,column:6},end:{line:97,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:91},9:{loc:{start:{line:141,column:8},end:{line:145,column:9}},type:"if",locations:[{start:{line:141,column:8},end:{line:145,column:9}},{start:{line:143,column:15},end:{line:145,column:9}}],line:141},10:{loc:{start:{line:157,column:6},end:{line:158,column:15}},type:"if",locations:[{start:{line:157,column:6},end:{line:158,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:157}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AA8L6B;AA9L7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAE/G,OAAO,mBAAmB;AAE1B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AAEP,OAAO,sBAAsB;AAC7B,OAAO;AAEP,SAAS,YAAY,OAAoB,WAA+B;AACtE,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AACtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAuBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,mBAAmB,OAA2B;AAC5C,QAAG,CAAC,KAAK,MAAM;AAAK;AAIpB,SAAK,MAAM,IAAI;AAAA,MACb,KAAK,MAAM,oBAAoB,MAAM,QAAQ;AAAA,MAC7C,EAAC,MAAM,KAAI;AAAA,IACb;AAAA,EACF;AAAA,EAEA,sBAAsB,WAA+B,WAA+B;AAClF,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,SAAK,mBAAmB,KAAK,KAAK;AAElC,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAG7F,WAAK,MAAM,QAAQ,gBAAgB;AACnC,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK;AACP,UAAI,KAAK,MAAM,oBAAoB;AAIjC,YAAI;AACF,eAAK,MAAM,QAAQ,OAAO;AAAA,QAC5B,SAAQ,KAAK;AACX,kBAAQ,MAAM,uBAAuB,GAAG;AAAA,QAC1C;AAAA,MACF;AAEA,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAEA,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,SAAK,aAAa,GAAG;AAErB,UAAM,cAAc,IAAI;AACxB,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,cAAc;AAAA,MAChC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa;AAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAA8D;AACnF,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB,EAAC,YAAY,WAAU,CAAC;AAC9E,QAAI,WAAW,UAAU,UAAU;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,OAAK,KAAK,YAAY;AAAA,QAC3B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1e3731daae0cca39a9405daf7d0b16bfd659d044"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Jt=function(){return s},s}Jt();function g9(e,n){return Jt().f[0]++,Jt().s[0]++,UL.render(e,n),Jt().s[1]++,n}function Ste(e,n,t){Jt().f[1]++;const r=(Jt().s[2]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(Jt().s[3]++,Pee(t));Jt().s[4]++,i?(Jt().b[0][0]++,Jt().s[5]++,n.push(i)):Jt().b[0][1]++;const o=(Jt().s[6]++,{});Jt().s[7]++,Object.keys(e.sources).forEach(a=>{Jt().f[2]++;const h=(Jt().s[8]++,e.sources[a]);Jt().s[9]++,Jt().b[2][0]++,h.type!=="raster"&&(Jt().b[2][1]++,h.type!=="raster-dem")?(Jt().b[1][0]++,Jt().s[10]++,o[a]=h):Jt().b[1][1]++});const s=(Jt().s[11]++,{...e,sources:o,layers:[r].concat(n)});return Jt().s[12]++,s}class PR extends xn.Component{constructor(t){Jt().f[7]++,Jt().s[15]++;super(t);rn(this,"container",(Jt().s[14]++,null));rn(this,"onLayerSelectById",(Jt().s[72]++,t=>{Jt().f[20]++;const r=(Jt().s[73]++,this.props.mapStyle.layers.findIndex(i=>(Jt().f[21]++,Jt().s[74]++,i.id===t)));Jt().s[75]++,this.props.onLayerSelect(r)}));Jt().s[16]++,this.state={map:null,inspect:null}}updateMapFromProps(t){if(Jt().f[8]++,Jt().s[17]++,this.state.map)Jt().b[3][1]++;else{Jt().b[3][0]++,Jt().s[18]++;return}Jt().s[19]++,this.state.map.setStyle(this.props.replaceAccessTokens(t.mapStyle),{diff:!0})}shouldComponentUpdate(t,r){Jt().f[9]++;let i=(Jt().s[20]++,!1);Jt().s[21]++;try{Jt().s[22]++,i=(Jt().b[4][0]++,JSON.stringify(this.props)!==JSON.stringify(t)||(Jt().b[4][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return Jt().s[23]++,i}componentDidUpdate(){var r,i,o;Jt().f[10]++;const t=(Jt().s[24]++,this.state.map);if(Jt().s[25]++,this.updateMapFromProps(this.props),Jt().s[26]++,Jt().b[6][0]++,this.state.inspect&&(Jt().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(Jt().b[5][0]++,Jt().s[27]++,this.state.inspect._popupBlocked=!1,Jt().s[28]++,this.state.inspect.toggleInspector()):Jt().b[5][1]++,Jt().s[29]++,t){if(Jt().b[7][0]++,Jt().s[30]++,this.props.inspectModeEnabled){Jt().b[8][0]++,Jt().s[31]++;try{Jt().s[32]++,this.state.inspect.render()}catch(s){Jt().s[33]++,console.error("FIXME: Caught error",s)}}else Jt().b[8][1]++;Jt().s[34]++,t.showTileBoundaries=(r=this.props.options)==null?void 0:r.showTileBoundaries,Jt().s[35]++,t.showCollisionBoxes=(i=this.props.options)==null?void 0:i.showCollisionBoxes,Jt().s[36]++,t.showOverdrawInspector=(o=this.props.options)==null?void 0:o.showOverdrawInspector}else Jt().b[7][1]++}componentDidMount(){Jt().f[11]++;const t=(Jt().s[37]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24}),r=(Jt().s[38]++,new a_.Map(t));Jt().s[39]++;const i=()=>{Jt().f[12]++;const g=(Jt().s[40]++,r.getCenter()),C=(Jt().s[41]++,r.getZoom());Jt().s[42]++,this.props.onChange({center:g,zoom:C})};Jt().s[43]++,i(),Jt().s[44]++,r.showTileBoundaries=t.showTileBoundaries,Jt().s[45]++,r.showCollisionBoxes=t.showCollisionBoxes,Jt().s[46]++,r.showOverdrawInspector=t.showOverdrawInspector,Jt().s[47]++,this.initGeocoder(r);const o=(Jt().s[48]++,new Kee);Jt().s[49]++,r.addControl(o,"top-right");const s=(Jt().s[50]++,new a_.NavigationControl({visualizePitch:!0}));Jt().s[51]++,r.addControl(s,"top-right");const a=(Jt().s[52]++,document.createElement("div")),h=(Jt().s[53]++,new IJ({popup:new a_.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(g,C)=>(Jt().f[13]++,Jt().s[54]++,G6(o5.brightColor(g,C)).desaturate(.5).string()),buildInspectStyle:(g,C)=>(Jt().f[14]++,Jt().s[55]++,Ste(g,C,this.props.highlightedLayer)),renderPopup:g=>(Jt().f[15]++,Jt().s[56]++,this.props.inspectModeEnabled?(Jt().b[9][0]++,Jt().s[57]++,g9(N.jsx(uee,{features:g}),a)):(Jt().b[9][1]++,Jt().s[58]++,g9(N.jsx(hR,{features:g,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),a)))}));Jt().s[59]++,r.addControl(h),Jt().s[60]++,r.on("style.load",()=>{Jt().f[16]++,Jt().s[61]++,this.setState({map:r,inspect:h,zoom:r.getZoom()})}),Jt().s[62]++,r.on("data",g=>{if(Jt().f[17]++,Jt().s[63]++,g.dataType!=="tile"){Jt().b[10][0]++,Jt().s[64]++;return}else Jt().b[10][1]++;Jt().s[65]++,this.props.onDataChange({map:this.state.map})}),Jt().s[66]++,r.on("error",g=>{Jt().f[18]++,Jt().s[67]++,console.log("ERROR",g)}),Jt().s[68]++,r.on("zoom",g=>{Jt().f[19]++,Jt().s[69]++,this.setState({zoom:r.getZoom()})}),Jt().s[70]++,r.on("dragend",i),Jt().s[71]++,r.on("zoomend",i)}initGeocoder(t){Jt().f[22]++;const r=(Jt().s[76]++,{forwardGeocode:async o=>{Jt().f[23]++;const s=(Jt().s[77]++,[]);Jt().s[78]++;try{const a=(Jt().s[79]++,`https://nominatim.openstreetmap.org/search?q=${o.query}&format=geojson&polygon_geojson=1&addressdetails=1`),h=(Jt().s[80]++,await fetch(a)),g=(Jt().s[81]++,await h.json());Jt().s[82]++;for(const C of g.features){const B=(Jt().s[83]++,[C.bbox[0]+(C.bbox[2]-C.bbox[0])/2,C.bbox[1]+(C.bbox[3]-C.bbox[1])/2]),k=(Jt().s[84]++,{type:"Feature",geometry:{type:"Point",coordinates:B},place_name:C.properties.display_name,properties:C.properties,text:C.properties.display_name,place_type:["place"],center:B});Jt().s[85]++,s.push(k)}}catch(a){Jt().s[86]++,console.error(`Failed to forwardGeocode with error: ${a}`)}return Jt().s[87]++,{features:s}}}),i=(Jt().s[88]++,new Mte(r,{maplibregl:a_}));Jt().s[89]++,t.addControl(i,"top-left")}render(){return Jt().f[24]++,Jt().s[90]++,N.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":"Map view",ref:t=>(Jt().f[25]++,Jt().s[91]++,this.container=t),"data-wd-key":"maplibre:map"})}}rn(PR,"defaultProps",(Jt().s[13]++,{onMapLoaded:()=>{Jt().f[3]++},onDataChange:()=>{Jt().f[4]++},onLayerSelect:()=>{Jt().f[5]++},onChange:()=>{Jt().f[6]++},options:{}}));var kp=function(){function e(n){this.propagationStopped,this.defaultPrevented,this.type=n,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();const By={PROPERTYCHANGE:"propertychange"};var Ete=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();const QB=Ete;function Ote(e,n,t){for(var r,i,o=t||d1,s=0,a=e.length,h=!1;s<a;)r=s+(a-s>>1),i=+o(e[r],n),i<0?s=r+1:(a=r,h=!i);return h?s:~s}function d1(e,n){return e>n?1:e<n?-1:0}function $B(e,n,t){var r=e.length;if(e[0]<=n)return 0;if(n<=e[r-1])return r-1;var i=void 0;if(t>0){for(i=1;i<r;++i)if(e[i]<n)return i-1}else if(t<0){for(i=1;i<r;++i)if(e[i]<=n)return i}else for(i=1;i<r;++i){if(e[i]==n)return i;if(e[i]<n)return typeof t=="function"?t(n,e[i-1],e[i])>0?i-1:i:e[i-1]-n<n-e[i]?i-1:i}return r-1}function Bte(e,n,t){for(;n<t;){var r=e[n];e[n]=e[t],e[t]=r,++n,--t}}function mf(e,n){for(var t=Array.isArray(n)?n:[n],r=t.length,i=0;i<r;i++)e[e.length]=t[i]}function b1(e,n){var t=e.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function kte(e,n,t){var r=n||d1;return e.every(function(i,o){if(o===0)return!0;var s=r(e[o-1],i);return!(s>0||t&&s===0)})}function sy(){return!0}function s5(){return!1}function h1(){}function Ite(e){var n=!1,t,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!n||this!==i||!b1(o,r))&&(n=!0,i=this,r=o,t=e.apply(this,arguments)),t}}var hl=typeof Object.assign=="function"?Object.assign:function(e,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function $C(e){for(var n in e)delete e[n]}var FR=typeof Object.values=="function"?Object.values:function(e){var n=[];for(var t in e)n.push(e[t]);return n};function f1(e){var n;for(n in e)return!1;return!n}var Tte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kte=function(e){Tte(n,e);function n(t){var r=e.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return n.prototype.addEventListener=function(t,r){if(!(!t||!r)){var i=this.listeners_||(this.listeners_={}),o=i[t]||(i[t]=[]);o.indexOf(r)===-1&&o.push(r)}},n.prototype.dispatchEvent=function(t){var r=typeof t=="string",i=r?t:t.type,o=this.listeners_&&this.listeners_[i];if(o){var s=r?new kp(t):t;s.target||(s.target=this.eventTarget_||this);var a=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,h[i]=0),++a[i];for(var g,C=0,B=o.length;C<B;++C)if("handleEvent"in o[C]?g=o[C].handleEvent(s):g=o[C].call(this,s),g===!1||s.propagationStopped){g=!1;break}if(--a[i]===0){var k=h[i];for(delete h[i];k--;)this.removeEventListener(i,h1);delete a[i]}return g}},n.prototype.disposeInternal=function(){this.listeners_&&$C(this.listeners_)},n.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},n.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},n.prototype.removeEventListener=function(t,r){var i=this.listeners_&&this.listeners_[t];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[o]=h1,++this.pendingRemovals_[t]):(i.splice(o,1),i.length===0&&delete this.listeners_[t]))}},n}(QB);const $y=Kte,Bi={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function bo(e,n,t,r,i){if(r&&r!==e&&(t=t.bind(r)),i){var o=t;t=function(){e.removeEventListener(n,t),o.apply(this,arguments)}}var s={target:e,type:n,listener:t};return e.addEventListener(n,t),s}function b3(e,n,t,r){return bo(e,n,t,r,!0)}function Ya(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),$C(e))}var Pte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),l5=function(e){Pte(n,e);function n(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return n.prototype.changed=function(){++this.revision_,this.dispatchEvent(Bi.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),s=0;s<i;++s)o[s]=bo(this,t[s],r);return o}else return bo(this,t,r)},n.prototype.onceInternal=function(t,r){var i;if(Array.isArray(t)){var o=t.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=b3(this,t[s],r)}else i=b3(this,t,r);return r.ol_key=i,i},n.prototype.unInternal=function(t,r){var i=r.ol_key;if(i)uC(i);else if(Array.isArray(t))for(var o=0,s=t.length;o<s;++o)this.removeEventListener(t[o],r);else this.removeEventListener(t,r)},n}($y);l5.prototype.on;l5.prototype.once;l5.prototype.un;function uC(e){if(Array.isArray(e))for(var n=0,t=e.length;n<t;++n)Ya(e[n]);else Ya(e)}const DR=l5;function si(){return function(){throw new Error("Unimplemented abstract method.")}()}var Fte=0;function Ni(e){return e.ol_uid||(e.ol_uid=String(++Fte))}var Dte="6.15.1",LR=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),y9=function(e){LR(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.key=r,o.oldValue=i,o}return n}(kp),fh=function(e){LR(n,e);function n(t){var r=e.call(this)||this;return r.on,r.once,r.un,Ni(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return n.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},n.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},n.prototype.getProperties=function(){return this.values_&&hl({},this.values_)||{}},n.prototype.hasProperties=function(){return!!this.values_},n.prototype.notify=function(t,r){var i;i="change:".concat(t),this.hasListener(i)&&this.dispatchEvent(new y9(i,t,r)),i=By.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new y9(i,t,r))},n.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},n.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},n.prototype.set=function(t,r,i){var o=this.values_||(this.values_={});if(i)o[t]=r;else{var s=o[t];o[t]=r,s!==r&&this.notify(t,s)}},n.prototype.setProperties=function(t,r){for(var i in t)this.set(i,t[i],r)},n.prototype.applyProperties=function(t){t.values_&&hl(this.values_||(this.values_={}),t.values_)},n.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],f1(this.values_)&&(this.values_=null),r||this.notify(t,i)}},n}(DR),Lte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ute=function(e){Lte(n,e);function n(t){var r=this,i="v"+Dte.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return r=e.call(this,o)||this,r.code=t,r.name="AssertionError",r.message=o,r}return n}(Error);const UR=Ute;function ao(e,n){if(!e)throw new UR(n)}var Rte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zte=function(e){Rte(n,e);function n(t){var r=e.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;r.setGeometry(i)}else{var o=t;r.setProperties(o)}return r}return n.prototype.clone=function(){var t=new n(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var i=this.getStyle();return i&&t.setStyle(i),t},n.prototype.getGeometry=function(){return this.get(this.geometryName_)},n.prototype.getId=function(){return this.id_},n.prototype.getGeometryName=function(){return this.geometryName_},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.handleGeometryChange_=function(){this.changed()},n.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Ya(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=bo(t,Bi.CHANGE,this.handleGeometryChange_,this)),this.changed()},n.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},n.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?jte(t):void 0,this.changed()},n.prototype.setId=function(t){this.id_=t,this.changed()},n.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},n}(fh);function jte(e){if(typeof e=="function")return e;var n;if(Array.isArray(e))n=e;else{ao(typeof e.getZIndex=="function",41);var t=e;n=[t]}return function(){return n}}var _A={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},vf={};vf[_A.RADIANS]=6370997/(2*Math.PI);vf[_A.DEGREES]=2*Math.PI*6370997/360;vf[_A.FEET]=.3048;vf[_A.METERS]=1;vf[_A.USFEET]=1200/3937;var Gm=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Wte=Gm.indexOf("firefox")!==-1,Nte=Gm.indexOf("safari")!==-1&&Gm.indexOf("chrom")==-1;Nte&&(Gm.indexOf("version/15.4")>=0||Gm.match(/cpu (os|iphone os) 15_4 like mac os x/));var Gte=Gm.indexOf("webkit")!==-1&&Gm.indexOf("edge")==-1,Qte=Gm.indexOf("macintosh")!==-1,RR=typeof devicePixelRatio<"u"?devicePixelRatio:1,u5=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,$te=typeof Image<"u"&&Image.prototype.decode,zR=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch{}return e}(),jR=new Array(6);function _d(){return[1,0,0,1,0,0]}function v9(e){return A5(e,1,0,0,1,0,0)}function YB(e,n){var t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],h=n[0],g=n[1],C=n[2],B=n[3],k=n[4],P=n[5];return e[0]=t*h+i*g,e[1]=r*h+o*g,e[2]=t*C+i*B,e[3]=r*C+o*B,e[4]=t*k+i*P+s,e[5]=r*k+o*P+a,e}function A5(e,n,t,r,i,o,s){return e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e}function Yte(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e}function Al(e,n){var t=n[0],r=n[1];return n[0]=e[0]*t+e[2]*r+e[4],n[1]=e[1]*t+e[3]*r+e[5],n}function pM(e,n,t){return YB(e,A5(jR,n,0,0,t,0,0))}function qte(e,n,t){return A5(e,n,0,0,t,0,0)}function Vte(e,n,t){return YB(e,A5(jR,1,0,0,1,n,t))}function _f(e,n,t,r,i,o,s,a){var h=Math.sin(o),g=Math.cos(o);return e[0]=r*g,e[1]=i*h,e[2]=-r*h,e[3]=i*g,e[4]=s*r*g-a*r*h+n,e[5]=s*i*h+a*i*g+t,e}function qB(e,n){var t=Hte(n);ao(t!==0,32);var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],h=n[5];return e[0]=s/t,e[1]=-i/t,e[2]=-o/t,e[3]=r/t,e[4]=(o*h-s*a)/t,e[5]=-(r*h-i*a)/t,e}function Hte(e){return e[0]*e[3]-e[1]*e[2]}var _9;function WR(e){var n="matrix("+e.join(", ")+")";if(u5)return n;var t=_9||(_9=document.createElement("div"));return t.style.transform=n,t.style.transform}const ou={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function $6(e){for(var n=xd(),t=0,r=e.length;t<r;++t)I_(n,e[t]);return n}function Zte(e,n,t){var r=Math.min.apply(null,e),i=Math.min.apply(null,n),o=Math.max.apply(null,e),s=Math.max.apply(null,n);return Cf(r,i,o,s,t)}function Dm(e,n,t){return t?(t[0]=e[0]-n,t[1]=e[1]-n,t[2]=e[2]+n,t[3]=e[3]+n,t):[e[0]-n,e[1]-n,e[2]+n,e[3]+n]}function NR(e,n){return n?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n):e.slice()}function x1(e,n,t){var r,i;return n<e[0]?r=e[0]-n:e[2]<n?r=n-e[2]:r=0,t<e[1]?i=e[1]-t:e[3]<t?i=t-e[3]:i=0,r*r+i*i}function YC(e,n){return VB(e,n[0],n[1])}function _m(e,n){return e[0]<=n[0]&&n[2]<=e[2]&&e[1]<=n[1]&&n[3]<=e[3]}function VB(e,n,t){return e[0]<=n&&n<=e[2]&&e[1]<=t&&t<=e[3]}function Y6(e,n){var t=e[0],r=e[1],i=e[2],o=e[3],s=n[0],a=n[1],h=ou.UNKNOWN;return s<t?h=h|ou.LEFT:s>i&&(h=h|ou.RIGHT),a<r?h=h|ou.BELOW:a>o&&(h=h|ou.ABOVE),h===ou.UNKNOWN&&(h=ou.INTERSECTING),h}function xd(){return[1/0,1/0,-1/0,-1/0]}function Cf(e,n,t,r,i){return i?(i[0]=e,i[1]=n,i[2]=t,i[3]=r,i):[e,n,t,r]}function qC(e){return Cf(1/0,1/0,-1/0,-1/0,e)}function GR(e,n){var t=e[0],r=e[1];return Cf(t,r,t,r,n)}function HB(e,n,t,r,i){var o=qC(i);return $R(o,e,n,t,r)}function ky(e,n){return e[0]==n[0]&&e[2]==n[2]&&e[1]==n[1]&&e[3]==n[3]}function QR(e,n){return n[0]<e[0]&&(e[0]=n[0]),n[2]>e[2]&&(e[2]=n[2]),n[1]<e[1]&&(e[1]=n[1]),n[3]>e[3]&&(e[3]=n[3]),e}function I_(e,n){n[0]<e[0]&&(e[0]=n[0]),n[0]>e[2]&&(e[2]=n[0]),n[1]<e[1]&&(e[1]=n[1]),n[1]>e[3]&&(e[3]=n[1])}function $R(e,n,t,r,i){for(;t<r;t+=i)Xte(e,n[t],n[t+1]);return e}function Xte(e,n,t){e[0]=Math.min(e[0],n),e[1]=Math.min(e[1],t),e[2]=Math.max(e[2],n),e[3]=Math.max(e[3],t)}function YR(e,n){var t;return t=n(c5(e)),t||(t=n(d5(e)),t)||(t=n(h5(e)),t)||(t=n(qm(e)),t)?t:!1}function q6(e){var n=0;return ZB(e)||(n=us(e)*JA(e)),n}function c5(e){return[e[0],e[1]]}function d5(e){return[e[2],e[1]]}function Qm(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Jte(e,n){var t;return n==="bottom-left"?t=c5(e):n==="bottom-right"?t=d5(e):n==="top-left"?t=qm(e):n==="top-right"?t=h5(e):ao(!1,13),t}function V6(e,n,t,r,i){var o=H6(e,n,t,r),s=o[0],a=o[1],h=o[2],g=o[3],C=o[4],B=o[5],k=o[6],P=o[7];return Cf(Math.min(s,h,C,k),Math.min(a,g,B,P),Math.max(s,h,C,k),Math.max(a,g,B,P),i)}function H6(e,n,t,r){var i=n*r[0]/2,o=n*r[1]/2,s=Math.cos(t),a=Math.sin(t),h=i*s,g=i*a,C=o*s,B=o*a,k=e[0],P=e[1];return[k-h+B,P-g-C,k-h-B,P-g+C,k+h-B,P+g+C,k+h+B,P+g-C,k-h+B,P-g-C]}function JA(e){return e[3]-e[1]}function J0(e,n,t){var r=t||xd();return cl(e,n)?(e[0]>n[0]?r[0]=e[0]:r[0]=n[0],e[1]>n[1]?r[1]=e[1]:r[1]=n[1],e[2]<n[2]?r[2]=e[2]:r[2]=n[2],e[3]<n[3]?r[3]=e[3]:r[3]=n[3]):qC(r),r}function qm(e){return[e[0],e[3]]}function h5(e){return[e[2],e[3]]}function us(e){return e[2]-e[0]}function cl(e,n){return e[0]<=n[2]&&e[2]>=n[0]&&e[1]<=n[3]&&e[3]>=n[1]}function ZB(e){return e[2]<e[0]||e[3]<e[1]}function ene(e,n){return n?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n):e}function tne(e,n,t){var r=!1,i=Y6(e,n),o=Y6(e,t);if(i===ou.INTERSECTING||o===ou.INTERSECTING)r=!0;else{var s=e[0],a=e[1],h=e[2],g=e[3],C=n[0],B=n[1],k=t[0],P=t[1],U=(P-B)/(k-C),Z=void 0,W=void 0;o&ou.ABOVE&&!(i&ou.ABOVE)&&(Z=k-(P-g)/U,r=Z>=s&&Z<=h),!r&&o&ou.RIGHT&&!(i&ou.RIGHT)&&(W=P-(k-h)*U,r=W>=a&&W<=g),!r&&o&ou.BELOW&&!(i&ou.BELOW)&&(Z=k-(P-a)/U,r=Z>=s&&Z<=h),!r&&o&ou.LEFT&&!(i&ou.LEFT)&&(W=P-(k-s)*U,r=W>=a&&W<=g)}return r}function nne(e,n,t,r){var i=[];if(r>1)for(var o=e[2]-e[0],s=e[3]-e[1],a=0;a<r;++a)i.push(e[0]+o*a/r,e[1],e[2],e[1]+s*a/r,e[2]-o*a/r,e[3],e[0],e[3]-s*a/r);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];n(i,i,2);for(var h=[],g=[],a=0,C=i.length;a<C;a+=2)h.push(i[a]),g.push(i[a+1]);return Zte(h,g,t)}function qR(e,n){var t=n.getExtent(),r=Qm(e);if(n.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var i=us(t),o=Math.floor((r[0]-t[0])/i),s=o*i;e[0]-=s,e[2]-=s}return e}function rne(e,n){if(n.canWrapX()){var t=n.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[t[0],e[1],t[2],e[3]]];qR(e,n);var r=us(t);if(us(e)>r)return[[t[0],e[1],t[2],e[3]]];if(e[0]<t[0])return[[e[0]+r,e[1],t[2],e[3]],[t[0],e[1],e[2],e[3]]];if(e[2]>t[2])return[[e[0],e[1],t[2],e[3]],[t[0],e[1],e[2]-r,e[3]]]}return[e]}var ine=function(){function e(n){this.code_=n.code,this.units_=n.units,this.extent_=n.extent!==void 0?n.extent:null,this.worldExtent_=n.worldExtent!==void 0?n.worldExtent:null,this.axisOrientation_=n.axisOrientation!==void 0?n.axisOrientation:"enu",this.global_=n.global!==void 0?n.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=n.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=n.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||vf[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(n){this.global_=n,this.canWrapX_=!!(n&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n},e.prototype.setExtent=function(n){this.extent_=n,this.canWrapX_=!!(this.global_&&n)},e.prototype.setWorldExtent=function(n){this.worldExtent_=n},e.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();const XB=ine;function kl(e,n,t){return Math.min(Math.max(e,n),t)}var one=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(n){var t=Math.exp(n);return(t+1/t)/2},e}(),ane=function(){var e;return"log2"in Math?e=Math.log2:e=function(n){return Math.log(n)*Math.LOG2E},e}();function sne(e,n,t,r,i,o){var s=i-t,a=o-r;if(s!==0||a!==0){var h=((e-t)*s+(n-r)*a)/(s*s+a*a);h>1?(t=i,r=o):h>0&&(t+=s*h,r+=a*h)}return e1(e,n,t,r)}function e1(e,n,t,r){var i=t-e,o=r-n;return i*i+o*o}function lne(e){for(var n=e.length,t=0;t<n;t++){for(var r=t,i=Math.abs(e[t][t]),o=t+1;o<n;o++){var s=Math.abs(e[o][t]);s>i&&(i=s,r=o)}if(i===0)return null;var a=e[r];e[r]=e[t],e[t]=a;for(var h=t+1;h<n;h++)for(var g=-e[h][t]/e[t][t],C=t;C<n+1;C++)t==C?e[h][C]=0:e[h][C]+=g*e[t][C]}for(var B=new Array(n),k=n-1;k>=0;k--){B[k]=e[k][n]/e[k][k];for(var P=k-1;P>=0;P--)e[P][n]-=e[P][k]*B[k]}return B}function b2(e){return e*Math.PI/180}function t1(e,n){var t=e%n;return t*n<0?t+n:t}function hp(e,n,t){return e+t*(n-e)}function VR(e,n){var t=Math.pow(10,n);return Math.round(e*t)/t}function bx(e,n){return Math.floor(VR(e,n))}function xx(e,n){return Math.ceil(VR(e,n))}var une=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VC=6378137,jg=Math.PI*VC,Ane=[-jg,-jg,jg,jg],cne=[-180,-85,180,85],wx=VC*Math.log(Math.tan(Math.PI/2)),ug=function(e){une(n,e);function n(t){return e.call(this,{code:t,units:_A.METERS,extent:Ane,global:!0,worldExtent:cne,getPointResolution:function(r,i){return r/one(i[1]/VC)}})||this}return n}(XB),C9=[new ug("EPSG:3857"),new ug("EPSG:102100"),new ug("EPSG:102113"),new ug("EPSG:900913"),new ug("http://www.opengis.net/def/crs/EPSG/0/3857"),new ug("http://www.opengis.net/gml/srs/epsg.xml#3857")];function dne(e,n,t){var r=e.length,i=t>1?t:2,o=n;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var s=0;s<r;s+=i){o[s]=jg*e[s]/180;var a=VC*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));a>wx?a=wx:a<-wx&&(a=-wx),o[s+1]=a}return o}function hne(e,n,t){var r=e.length,i=t>1?t:2,o=n;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var s=0;s<r;s+=i)o[s]=180*e[s]/jg,o[s+1]=360*Math.atan(Math.exp(e[s+1]/VC))/Math.PI-90;return o}var fne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pne=6378137,b9=[-180,-90,180,90],mne=Math.PI*pne/180,y0=function(e){fne(n,e);function n(t,r){return e.call(this,{code:t,units:_A.DEGREES,extent:b9,axisOrientation:r,global:!0,metersPerUnit:mne,worldExtent:b9})||this}return n}(XB),x9=[new y0("CRS:84"),new y0("EPSG:4326","neu"),new y0("urn:ogc:def:crs:OGC:1.3:CRS84"),new y0("urn:ogc:def:crs:OGC:2:84"),new y0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new y0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new y0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Z6={};function gne(e){return Z6[e]||Z6[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function yne(e,n){Z6[e]=n}var ly={};function x3(e,n,t){var r=e.getCode(),i=n.getCode();r in ly||(ly[r]={}),ly[r][i]=t}function vne(e,n){var t;return e in ly&&n in ly[e]&&(t=ly[e][n]),t}function _ne(e,n){return e[0]+=+n[0],e[1]+=+n[1],e}function w3(e,n){for(var t=!0,r=e.length-1;r>=0;--r)if(e[r]!=n[r]){t=!1;break}return t}function JB(e,n){var t=Math.cos(n),r=Math.sin(n),i=e[0]*t-e[1]*r,o=e[1]*t+e[0]*r;return e[0]=i,e[1]=o,e}function Cne(e,n){return e[0]*=n,e[1]*=n,e}function e7(e,n){if(n.canWrapX()){var t=us(n.getExtent()),r=bne(e,n,t);r&&(e[0]-=r*t)}return e}function bne(e,n,t){var r=n.getExtent(),i=0;if(n.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var o=t||us(r);i=Math.floor((e[0]-r[0])/o)}return i}var xne=63710088e-1;function w9(e,n,t){var r=t||xne,i=b2(e[1]),o=b2(n[1]),s=(o-i)/2,a=b2(n[0]-e[0])/2,h=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}var X6=!0;function HR(e){var n=e===void 0?!0:e;X6=!n}function t7(e,n,t){var r;if(n!==void 0){for(var i=0,o=e.length;i<o;++i)n[i]=e[i];r=n}else r=e.slice();return r}function ZR(e,n,t){if(n!==void 0&&e!==n){for(var r=0,i=e.length;r<i;++r)n[r]=e[r];e=n}return e}function wne(e){yne(e.getCode(),e),x3(e,e,t7)}function Mne(e){e.forEach(wne)}function Ws(e){return typeof e=="string"?gne(e):e||null}function M9(e,n,t,r){e=Ws(e);var i,o=e.getPointResolutionFunc();if(o){if(i=o(n,t),r&&r!==e.getUnits()){var s=e.getMetersPerUnit();s&&(i=i*s/vf[r])}}else{var a=e.getUnits();if(a==_A.DEGREES&&!r||r==_A.DEGREES)i=n;else{var h=f5(e,Ws("EPSG:4326"));if(h===ZR&&a!==_A.DEGREES)i=n*e.getMetersPerUnit();else{var g=[t[0]-n/2,t[1],t[0]+n/2,t[1],t[0],t[1]-n/2,t[0],t[1]+n/2];g=h(g,g,2);var C=w9(g.slice(0,2),g.slice(2,4)),B=w9(g.slice(4,6),g.slice(6,8));i=(C+B)/2}var s=r?vf[r]:e.getMetersPerUnit();s!==void 0&&(i/=s)}}return i}function S9(e){Mne(e),e.forEach(function(n){e.forEach(function(t){n!==t&&x3(n,t,t7)})})}function Sne(e,n,t,r){e.forEach(function(i){n.forEach(function(o){x3(i,o,t),x3(o,i,r)})})}function n7(e,n){return e?typeof e=="string"?Ws(e):e:Ws(n)}function J6(e,n){return HR(),r7(e,"EPSG:4326",n!==void 0?n:"EPSG:3857")}function mM(e,n){var t=r7(e,n!==void 0?n:"EPSG:3857","EPSG:4326"),r=t[0];return(r<-180||r>180)&&(t[0]=t1(r+180,360)-180),t}function T0(e,n){if(e===n)return!0;var t=e.getUnits()===n.getUnits();if(e.getCode()===n.getCode())return t;var r=f5(e,n);return r===t7&&t}function f5(e,n){var t=e.getCode(),r=n.getCode(),i=vne(t,r);return i||(i=ZR),i}function M3(e,n){var t=Ws(e),r=Ws(n);return f5(t,r)}function r7(e,n,t){var r=M3(n,t);return r(e,void 0,e.length)}var Ene=null;function One(){return Ene}function eE(e,n){return e}function ap(e,n){return X6&&!w3(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(X6=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function XR(e,n){return e}function W0(e,n){return e}function Bne(){S9(C9),S9(x9),Sne(x9,C9,dne,hne)}Bne();function Lm(e,n,t,r,i,o){for(var s=o||[],a=0,h=n;h<t;h+=r){var g=e[h],C=e[h+1];s[a++]=i[0]*g+i[2]*C+i[4],s[a++]=i[1]*g+i[3]*C+i[5]}return o&&s.length!=a&&(s.length=a),s}function JR(e,n,t,r,i,o,s){for(var a=s||[],h=Math.cos(i),g=Math.sin(i),C=o[0],B=o[1],k=0,P=n;P<t;P+=r){var U=e[P]-C,Z=e[P+1]-B;a[k++]=C+U*h-Z*g,a[k++]=B+U*g+Z*h;for(var W=P+2;W<P+r;++W)a[k++]=e[W]}return s&&a.length!=k&&(a.length=k),a}function kne(e,n,t,r,i,o,s,a){for(var h=a||[],g=s[0],C=s[1],B=0,k=n;k<t;k+=r){var P=e[k]-g,U=e[k+1]-C;h[B++]=g+i*P,h[B++]=C+o*U;for(var Z=k+2;Z<k+r;++Z)h[B++]=e[Z]}return a&&h.length!=B&&(h.length=B),h}function Ine(e,n,t,r,i,o,s){for(var a=s||[],h=0,g=n;g<t;g+=r){a[h++]=e[g]+i,a[h++]=e[g+1]+o;for(var C=g+2;C<g+r;++C)a[h++]=e[C]}return s&&a.length!=h&&(a.length=h),a}var Tne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E9=_d(),Kne=function(e){Tne(n,e);function n(){var t=e.call(this)||this;return t.extent_=xd(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Ite(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),t}return n.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},n.prototype.clone=function(){return si()},n.prototype.closestPointXY=function(t,r,i,o){return si()},n.prototype.containsXY=function(t,r){var i=this.getClosestPoint([t,r]);return i[0]===t&&i[1]===r},n.prototype.getClosestPoint=function(t,r){var i=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},n.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},n.prototype.computeExtent=function(t){return si()},n.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&qC(r),this.extentRevision_=this.getRevision()}return ene(this.extent_,t)},n.prototype.rotate=function(t,r){si()},n.prototype.scale=function(t,r,i){si()},n.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},n.prototype.getSimplifiedGeometry=function(t){return si()},n.prototype.getType=function(){return si()},n.prototype.applyTransform=function(t){si()},n.prototype.intersectsExtent=function(t){return si()},n.prototype.translate=function(t,r){si()},n.prototype.transform=function(t,r){var i=Ws(t),o=i.getUnits()==_A.TILE_PIXELS?function(s,a,h){var g=i.getExtent(),C=i.getWorldExtent(),B=JA(C)/JA(g);return _f(E9,C[0],C[3],B,-B,0,0,0),Lm(s,0,s.length,h,E9,a),M3(i,r)(s,a,h)}:M3(i,r);return this.applyTransform(o),this},n}(fh);const ez=Kne;var Pne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fne=function(e){Pne(n,e);function n(t){var r=e.call(this)||this;return r.geometries_=t||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return n.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Ya),this.changeEventsKeys_.length=0},n.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,r=this.geometries_.length;t<r;++t)this.changeEventsKeys_.push(bo(this.geometries_[t],Bi.CHANGE,this.changed,this))},n.prototype.clone=function(){var t=new n(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){if(o<x1(this.getExtent(),t,r))return o;for(var s=this.geometries_,a=0,h=s.length;a<h;++a)o=s[a].closestPointXY(t,r,i,o);return o},n.prototype.containsXY=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)if(i[o].containsXY(t,r))return!0;return!1},n.prototype.computeExtent=function(t){qC(t);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)QR(t,r[i].getExtent());return t},n.prototype.getGeometries=function(){return O9(this.geometries_)},n.prototype.getGeometriesArray=function(){return this.geometries_},n.prototype.getGeometriesArrayRecursive=function(){for(var t=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?t=t.concat(r[i].getGeometriesArrayRecursive()):t.push(r[i]);return t},n.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var h=i[s],g=h.getSimplifiedGeometry(t);r.push(g),g!==h&&(o=!0)}if(o){var C=new n(null);return C.setGeometriesArray(r),C}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},n.prototype.getType=function(){return"GeometryCollection"},n.prototype.intersectsExtent=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(t))return!0;return!1},n.prototype.isEmpty=function(){return this.geometries_.length===0},n.prototype.rotate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].rotate(t,r);this.changed()},n.prototype.scale=function(t,r,i){var o=i;o||(o=Qm(this.getExtent()));for(var s=this.geometries_,a=0,h=s.length;a<h;++a)s[a].scale(t,r,o);this.changed()},n.prototype.setGeometries=function(t){this.setGeometriesArray(O9(t))},n.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},n.prototype.applyTransform=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(t);this.changed()},n.prototype.translate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].translate(t,r);this.changed()},n.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},n}(ez);function O9(e){for(var n=[],t=0,r=e.length;t<r;++t)n.push(e[t].clone());return n}const Dne=Fne;var tz=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(n,t){var r;if(t){var i=t.dataProjection?Ws(t.dataProjection):this.readProjection(n);t.extent&&i&&i.getUnits()===_A.TILE_PIXELS&&(i=Ws(i),i.setWorldExtent(t.extent)),r={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(r)},e.prototype.adaptOptions=function(n){return hl({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},n)},e.prototype.getType=function(){return si()},e.prototype.readFeature=function(n,t){return si()},e.prototype.readFeatures=function(n,t){return si()},e.prototype.readGeometry=function(n,t){return si()},e.prototype.readProjection=function(n){return si()},e.prototype.writeFeature=function(n,t){return si()},e.prototype.writeFeatures=function(n,t){return si()},e.prototype.writeGeometry=function(n,t){return si()},e}();function i7(e,n,t){var r=t?Ws(t.featureProjection):null,i=t?Ws(t.dataProjection):null,o;if(r&&i&&!T0(r,i)?o=(n?e.clone():e).transform(n?r:i,n?i:r):o=e,n&&t&&t.decimals!==void 0){var s=Math.pow(10,t.decimals),a=function(h){for(var g=0,C=h.length;g<C;++g)h[g]=Math.round(h[g]*s)/s;return h};o===e&&(o=e.clone()),o.applyTransform(a)}return o}var Lne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Une=function(e){Lne(n,e);function n(){return e.call(this)||this}return n.prototype.getType=function(){return"json"},n.prototype.readFeature=function(t,r){return this.readFeatureFromObject(Mx(t),this.getReadOptions(t,r))},n.prototype.readFeatures=function(t,r){return this.readFeaturesFromObject(Mx(t),this.getReadOptions(t,r))},n.prototype.readFeatureFromObject=function(t,r){return si()},n.prototype.readFeaturesFromObject=function(t,r){return si()},n.prototype.readGeometry=function(t,r){return this.readGeometryFromObject(Mx(t),this.getReadOptions(t,r))},n.prototype.readGeometryFromObject=function(t,r){return si()},n.prototype.readProjection=function(t){return this.readProjectionFromObject(Mx(t))},n.prototype.readProjectionFromObject=function(t){return si()},n.prototype.writeFeature=function(t,r){return JSON.stringify(this.writeFeatureObject(t,r))},n.prototype.writeFeatureObject=function(t,r){return si()},n.prototype.writeFeatures=function(t,r){return JSON.stringify(this.writeFeaturesObject(t,r))},n.prototype.writeFeaturesObject=function(t,r){return si()},n.prototype.writeGeometry=function(t,r){return JSON.stringify(this.writeGeometryObject(t,r))},n.prototype.writeGeometryObject=function(t,r){return si()},n}(tz);function Mx(e){if(typeof e=="string"){var n=JSON.parse(e);return n||null}else return e!==null?e:null}const Rne=Une,Ba={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var zne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jne=function(e){zne(n,e);function n(){var t=e.call(this)||this;return t.layout=Ba.XY,t.stride=2,t.flatCoordinates=null,t}return n.prototype.computeExtent=function(t){return HB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},n.prototype.getCoordinates=function(){return si()},n.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},n.prototype.getFlatCoordinates=function(){return this.flatCoordinates},n.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},n.prototype.getLayout=function(){return this.layout},n.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},n.prototype.getSimplifiedGeometryInternal=function(t){return this},n.prototype.getStride=function(){return this.stride},n.prototype.setFlatCoordinates=function(t,r){this.stride=B9(t),this.layout=t,this.flatCoordinates=r},n.prototype.setCoordinates=function(t,r){si()},n.prototype.setLayout=function(t,r,i){var o;if(t)o=B9(t);else{for(var s=0;s<i;++s)if(r.length===0){this.layout=Ba.XY,this.stride=2;return}else r=r[0];o=r.length,t=Wne(o)}this.layout=t,this.stride=o},n.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},n.prototype.rotate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();JR(i,0,i.length,o,t,r,i),this.changed()}},n.prototype.scale=function(t,r,i){var o=r;o===void 0&&(o=t);var s=i;s||(s=Qm(this.getExtent()));var a=this.getFlatCoordinates();if(a){var h=this.getStride();kne(a,0,a.length,h,t,o,s,a),this.changed()}},n.prototype.translate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Ine(i,0,i.length,o,t,r,i),this.changed()}},n}(ez);function Wne(e){var n;return e==2?n=Ba.XY:e==3?n=Ba.XYZ:e==4&&(n=Ba.XYZM),n}function B9(e){var n;return e==Ba.XY?n=2:e==Ba.XYZ||e==Ba.XYM?n=3:e==Ba.XYZM&&(n=4),n}function Nne(e,n,t){var r=e.getFlatCoordinates();if(r){var i=e.getStride();return Lm(r,0,r.length,i,n,t)}else return null}const w1=jne;function k9(e,n,t,r,i,o,s){var a=e[n],h=e[n+1],g=e[t]-a,C=e[t+1]-h,B;if(g===0&&C===0)B=n;else{var k=((i-a)*g+(o-h)*C)/(g*g+C*C);if(k>1)B=t;else if(k>0){for(var P=0;P<r;++P)s[P]=hp(e[n+P],e[t+P],k);s.length=r;return}else B=n}for(var P=0;P<r;++P)s[P]=e[B+P];s.length=r}function o7(e,n,t,r,i){var o=e[n],s=e[n+1];for(n+=r;n<t;n+=r){var a=e[n],h=e[n+1],g=e1(o,s,a,h);g>i&&(i=g),o=a,s=h}return i}function a7(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=o7(e,n,a,r,i),n=a}return i}function Gne(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=a7(e,n,a,r,i),n=a[a.length-1]}return i}function s7(e,n,t,r,i,o,s,a,h,g,C){if(n==t)return g;var B,k;if(i===0)if(k=e1(s,a,e[n],e[n+1]),k<g){for(B=0;B<r;++B)h[B]=e[n+B];return h.length=r,k}else return g;for(var P=C||[NaN,NaN],U=n+r;U<t;)if(k9(e,U-r,U,r,s,a,P),k=e1(s,a,P[0],P[1]),k<g){for(g=k,B=0;B<r;++B)h[B]=P[B];h.length=r,U+=r}else U+=r*Math.max((Math.sqrt(k)-Math.sqrt(g))/i|0,1);if(o&&(k9(e,t-r,n,r,s,a,P),k=e1(s,a,P[0],P[1]),k<g)){for(g=k,B=0;B<r;++B)h[B]=P[B];h.length=r}return g}function l7(e,n,t,r,i,o,s,a,h,g,C){for(var B=C||[NaN,NaN],k=0,P=t.length;k<P;++k){var U=t[k];g=s7(e,n,U,r,i,o,s,a,h,g,B),n=U}return g}function Qne(e,n,t,r,i,o,s,a,h,g,C){for(var B=C||[NaN,NaN],k=0,P=t.length;k<P;++k){var U=t[k];g=l7(e,n,U,r,i,o,s,a,h,g,B),n=U[U.length-1]}return g}function $ne(e,n,t,r){for(var i=0,o=t.length;i<o;++i)e[n++]=t[i];return n}function p5(e,n,t,r){for(var i=0,o=t.length;i<o;++i)for(var s=t[i],a=0;a<r;++a)e[n++]=s[a];return n}function u7(e,n,t,r,i){for(var o=i||[],s=0,a=0,h=t.length;a<h;++a){var g=p5(e,n,t[a],r);o[s++]=g,n=g}return o.length=s,o}function Yne(e,n,t,r,i){for(var o=i||[],s=0,a=0,h=t.length;a<h;++a){var g=u7(e,n,t[a],r,o[s]);o[s++]=g,n=g[g.length-1]}return o.length=s,o}function A7(e,n,t,r,i,o,s){var a=(t-n)/r;if(a<3){for(;n<t;n+=r)o[s++]=e[n],o[s++]=e[n+1];return s}var h=new Array(a);h[0]=1,h[a-1]=1;for(var g=[n,t-r],C=0;g.length>0;){for(var B=g.pop(),k=g.pop(),P=0,U=e[k],Z=e[k+1],W=e[B],Q=e[B+1],q=k+r;q<B;q+=r){var oe=e[q],re=e[q+1],Ae=sne(oe,re,U,Z,W,Q);Ae>P&&(C=q,P=Ae)}P>i&&(h[(C-n)/r]=1,k+r<C&&g.push(k,C),C+r<B&&g.push(C,B))}for(var q=0;q<a;++q)h[q]&&(o[s++]=e[n+q*r],o[s++]=e[n+q*r+1]);return s}function qne(e,n,t,r,i,o,s,a){for(var h=0,g=t.length;h<g;++h){var C=t[h];s=A7(e,n,C,r,i,o,s),a.push(s),n=C}return s}function E0(e,n){return n*Math.round(e/n)}function Vne(e,n,t,r,i,o,s){if(n==t)return s;var a=E0(e[n],i),h=E0(e[n+1],i);n+=r,o[s++]=a,o[s++]=h;var g,C;do if(g=E0(e[n],i),C=E0(e[n+1],i),n+=r,n==t)return o[s++]=g,o[s++]=C,s;while(g==a&&C==h);for(;n<t;){var B=E0(e[n],i),k=E0(e[n+1],i);if(n+=r,!(B==g&&k==C)){var P=g-a,U=C-h,Z=B-a,W=k-h;if(P*W==U*Z&&(P<0&&Z<P||P==Z||P>0&&Z>P)&&(U<0&&W<U||U==W||U>0&&W>U)){g=B,C=k;continue}o[s++]=g,o[s++]=C,a=g,h=C,g=B,C=k}}return o[s++]=g,o[s++]=C,s}function nz(e,n,t,r,i,o,s,a){for(var h=0,g=t.length;h<g;++h){var C=t[h];s=Vne(e,n,C,r,i,o,s),a.push(s),n=C}return s}function Hne(e,n,t,r,i,o,s,a){for(var h=0,g=t.length;h<g;++h){var C=t[h],B=[];s=nz(e,n,C,r,i,o,s,B),a.push(B),n=C[C.length-1]}return s}function rz(e,n,t,r,i){var o;for(n+=r;n<t;n+=r)if(o=i(e.slice(n-r,n),e.slice(n,n+r)),o)return o;return!1}function Cm(e,n,t,r,i){for(var o=i!==void 0?i:[],s=0,a=n;a<t;a+=r)o[s++]=e.slice(a,a+r);return o.length=s,o}function AC(e,n,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,h=t.length;a<h;++a){var g=t[a];o[s++]=Cm(e,n,g,r,o[s]),n=g}return o.length=s,o}function tE(e,n,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,h=t.length;a<h;++a){var g=t[a];o[s++]=AC(e,n,g,r,o[s]),n=g[g.length-1]}return o.length=s,o}function S3(e,n,t,r,i,o,s){var a,h,g=(t-n)/r;if(g===1)a=n;else if(g===2)a=n,h=i;else if(g!==0){for(var C=e[n],B=e[n+1],k=0,P=[0],U=n+r;U<t;U+=r){var Z=e[U],W=e[U+1];k+=Math.sqrt((Z-C)*(Z-C)+(W-B)*(W-B)),P.push(k),C=Z,B=W}var Q=i*k,q=Ote(P,Q);q<0?(h=(Q-P[-q-2])/(P[-q-1]-P[-q-2]),a=n+(-q-2)*r):a=n+q*r}for(var oe=s>1?s:2,re=o||new Array(oe),U=0;U<oe;++U)re[U]=a===void 0?NaN:h===void 0?e[a+U]:hp(e[a+U],e[a+r+U],h);return re}function nE(e,n,t,r,i,o){if(t==n)return null;var s;if(i<e[n+r-1])return o?(s=e.slice(n,n+r),s[r-1]=i,s):null;if(e[t-1]<i)return o?(s=e.slice(t-r,t),s[r-1]=i,s):null;if(i==e[n+r-1])return e.slice(n,n+r);for(var a=n/r,h=t/r;a<h;){var g=a+h>>1;i<e[(g+1)*r-1]?h=g:a=g+1}var C=e[a*r-1];if(i==C)return e.slice((a-1)*r,(a-1)*r+r);var B=e[(a+1)*r-1],k=(i-C)/(B-C);s=[];for(var P=0;P<r-1;++P)s.push(hp(e[(a-1)*r+P],e[a*r+P],k));return s.push(i),s}function Zne(e,n,t,r,i,o,s){if(s)return nE(e,n,t[t.length-1],r,i,o);var a;if(i<e[r-1])return o?(a=e.slice(0,r),a[r-1]=i,a):null;if(e[e.length-1]<i)return o?(a=e.slice(e.length-r),a[r-1]=i,a):null;for(var h=0,g=t.length;h<g;++h){var C=t[h];if(n!=C){if(i<e[n+r-1])return null;if(i<=e[C-1])return nE(e,n,C,r,i,!1);n=C}}return null}function Xne(e,n,t,r,i){var o=YR(i,function(s){return!N0(e,n,t,r,s[0],s[1])});return!o}function N0(e,n,t,r,i,o){for(var s=0,a=e[t-r],h=e[t-r+1];n<t;n+=r){var g=e[n],C=e[n+1];h<=o?C>o&&(g-a)*(o-h)-(i-a)*(C-h)>0&&s++:C<=o&&(g-a)*(o-h)-(i-a)*(C-h)<0&&s--,a=g,h=C}return s!==0}function c7(e,n,t,r,i,o){if(t.length===0||!N0(e,n,t[0],r,i,o))return!1;for(var s=1,a=t.length;s<a;++s)if(N0(e,t[s-1],t[s],r,i,o))return!1;return!0}function Jne(e,n,t,r,i,o){if(t.length===0)return!1;for(var s=0,a=t.length;s<a;++s){var h=t[s];if(c7(e,n,h,r,i,o))return!0;n=h[h.length-1]}return!1}function m5(e,n,t,r,i){var o=$R(xd(),e,n,t,r);return cl(i,o)?_m(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:rz(e,n,t,r,function(s,a){return tne(i,s,a)}):!1}function ere(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){if(m5(e,n,t[o],r,i))return!0;n=t[o]}return!1}function iz(e,n,t,r,i){return!!(m5(e,n,t,r,i)||N0(e,n,t,r,i[0],i[1])||N0(e,n,t,r,i[0],i[3])||N0(e,n,t,r,i[2],i[1])||N0(e,n,t,r,i[2],i[3]))}function oz(e,n,t,r,i){if(!iz(e,n,t[0],r,i))return!1;if(t.length===1)return!0;for(var o=1,s=t.length;o<s;++o)if(Xne(e,t[o-1],t[o],r,i)&&!m5(e,t[o-1],t[o],r,i))return!1;return!0}function tre(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(oz(e,n,a,r,i))return!0;n=a[a.length-1]}return!1}function az(e,n,t,r){for(var i=e[n],o=e[n+1],s=0,a=n+r;a<t;a+=r){var h=e[a],g=e[a+1];s+=Math.sqrt((h-i)*(h-i)+(g-o)*(g-o)),i=h,o=g}return s}var nre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rre=function(e){nre(n,e);function n(t,r){var i=e.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return n.prototype.appendCoordinate=function(t){this.flatCoordinates?mf(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){return o<x1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(o7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),s7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,r,i,o))},n.prototype.forEachSegment=function(t){return rz(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},n.prototype.getCoordinateAtM=function(t,r){if(this.layout!=Ba.XYM&&this.layout!=Ba.XYZM)return null;var i=r!==void 0?r:!1;return nE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},n.prototype.getCoordinates=function(){return Cm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinateAt=function(t,r){return S3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,this.stride)},n.prototype.getLength=function(){return az(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=A7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new n(r,Ba.XY)},n.prototype.getType=function(){return"LineString"},n.prototype.intersectsExtent=function(t){return m5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=p5(this.flatCoordinates,0,t,this.stride),this.changed()},n}(w1);const E3=rre;var ire=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ore=function(e){ire(n,e);function n(t,r,i){var o=e.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,t),o.ends_=i;else{for(var s=o.getLayout(),a=t,h=[],g=[],C=0,B=a.length;C<B;++C){var k=a[C];C===0&&(s=k.getLayout()),mf(h,k.getFlatCoordinates()),g.push(h.length)}o.setFlatCoordinates(s,h),o.ends_=g}return o}return n.prototype.appendLineString=function(t){this.flatCoordinates?mf(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){return o<x1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(a7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),l7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,r,i,o))},n.prototype.getCoordinateAtM=function(t,r,i){if(this.layout!=Ba.XYM&&this.layout!=Ba.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,s=i!==void 0?i:!1;return Zne(this.flatCoordinates,0,this.ends_,this.stride,t,o,s)},n.prototype.getCoordinates=function(){return AC(this.flatCoordinates,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new E3(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},n.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],s=0,a=0,h=r.length;a<h;++a){var g=r[a],C=new E3(t.slice(s,g),i);o.push(C),s=g}return o},n.prototype.getFlatMidpoints=function(){for(var t=[],r=this.flatCoordinates,i=0,o=this.ends_,s=this.stride,a=0,h=o.length;a<h;++a){var g=o[a],C=S3(r,i,g,s,.5);mf(t,C),i=g}return t},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=qne(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,i),new n(r,Ba.XY,i)},n.prototype.getType=function(){return"MultiLineString"},n.prototype.intersectsExtent=function(t){return ere(this.flatCoordinates,0,this.ends_,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=u7(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},n}(w1);const sz=ore;var are=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sre=function(e){are(n,e);function n(t,r){var i=e.call(this)||this;return i.setCoordinates(t,r),i}return n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){var s=this.flatCoordinates,a=e1(t,r,s[0],s[1]);if(a<o){for(var h=this.stride,g=0;g<h;++g)i[g]=s[g];return i.length=h,a}else return o},n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},n.prototype.computeExtent=function(t){return GR(this.flatCoordinates,t)},n.prototype.getType=function(){return"Point"},n.prototype.intersectsExtent=function(t){return VB(t,this.flatCoordinates[0],this.flatCoordinates[1])},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$ne(this.flatCoordinates,0,t,this.stride),this.changed()},n}(w1);const cC=sre;var lre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ure=function(e){lre(n,e);function n(t,r){var i=e.call(this)||this;return r&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return n.prototype.appendPoint=function(t){this.flatCoordinates?mf(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){if(o<x1(this.getExtent(),t,r))return o;for(var s=this.flatCoordinates,a=this.stride,h=0,g=s.length;h<g;h+=a){var C=e1(t,r,s[h],s[h+1]);if(C<o){o=C;for(var B=0;B<a;++B)i[B]=s[h+B];i.length=a}}return o},n.prototype.getCoordinates=function(){return Cm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getPoint=function(t){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||r<=t?null:new cC(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},n.prototype.getPoints=function(){for(var t=this.flatCoordinates,r=this.layout,i=this.stride,o=[],s=0,a=t.length;s<a;s+=i){var h=new cC(t.slice(s,s+i),r);o.push(h)}return o},n.prototype.getType=function(){return"MultiPoint"},n.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,i=this.stride,o=0,s=r.length;o<s;o+=i){var a=r[o],h=r[o+1];if(VB(t,a,h))return!0}return!1},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=p5(this.flatCoordinates,0,t,this.stride),this.changed()},n}(w1);const d7=ure;function lz(e,n,t,r){for(var i=0,o=e[t-r],s=e[t-r+1];n<t;n+=r){var a=e[n],h=e[n+1];i+=s*a-o*h,o=a,s=h}return i/2}function uz(e,n,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=lz(e,n,a,r),n=a}return i}function Are(e,n,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=uz(e,n,a,r),n=a[a.length-1]}return i}var cre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dre=function(e){cre(n,e);function n(t,r){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(t,r,i,o){return o<x1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(o7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),s7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,i,o))},n.prototype.getArea=function(){return lz(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinates=function(){return Cm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=A7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new n(r,Ba.XY)},n.prototype.getType=function(){return"LinearRing"},n.prototype.intersectsExtent=function(t){return!1},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=p5(this.flatCoordinates,0,t,this.stride),this.changed()},n}(w1);const I9=dre;function h7(e,n,t,r,i,o,s){for(var a,h,g,C,B,k,P,U=i[o+1],Z=[],W=0,Q=t.length;W<Q;++W){var q=t[W];for(C=e[q-r],k=e[q-r+1],a=n;a<q;a+=r)B=e[a],P=e[a+1],(U<=k&&P<=U||k<=U&&U<=P)&&(g=(U-k)/(P-k)*(B-C)+C,Z.push(g)),C=B,k=P}var oe=NaN,re=-1/0;for(Z.sort(d1),C=Z[0],a=1,h=Z.length;a<h;++a){B=Z[a];var Ae=Math.abs(B-C);Ae>re&&(g=(C+B)/2,c7(e,n,t,r,g,U)&&(oe=g,re=Ae)),C=B}return isNaN(oe)&&(oe=i[o]),s?(s.push(oe,U,re),s):[oe,U,re]}function Az(e,n,t,r,i){for(var o=[],s=0,a=t.length;s<a;++s){var h=t[s];o=h7(e,n,h,r,i,2*s,o),n=h[h.length-1]}return o}function hre(e,n,t,r){for(;n<t-r;){for(var i=0;i<r;++i){var o=e[n+i];e[n+i]=e[t-r+i],e[t-r+i]=o}n+=r,t-=r}}function f7(e,n,t,r){for(var i=0,o=e[t-r],s=e[t-r+1];n<t;n+=r){var a=e[n],h=e[n+1];i+=(a-o)*(h+s),o=a,s=h}return i===0?void 0:i>0}function cz(e,n,t,r,i){for(var o=i!==void 0?i:!1,s=0,a=t.length;s<a;++s){var h=t[s],g=f7(e,n,h,r);if(s===0){if(o&&g||!o&&!g)return!1}else if(o&&!g||!o&&g)return!1;n=h}return!0}function fre(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(!cz(e,n,a,r,i))return!1;a.length&&(n=a[a.length-1])}return!0}function rE(e,n,t,r,i){for(var o=i!==void 0?i:!1,s=0,a=t.length;s<a;++s){var h=t[s],g=f7(e,n,h,r),C=s===0?o&&g||!o&&!g:o&&!g||!o&&g;C&&hre(e,n,h,r),n=h}return n}function T9(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o)n=rE(e,n,t[o],r,i);return n}function pre(e,n){for(var t=[],r=0,i=0,o=0,s=n.length;o<s;++o){var a=n[o];if(!f7(e,r,a,2))t.push(n.slice(i,o+1));else{if(t.length===0)continue;t[t.length-1].push(n[i])}i=o+1,r=a}return t}var mre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dz=function(e){mre(n,e);function n(t,r,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,t),o.ends_=i):o.setCoordinates(t,r),o}return n.prototype.appendLinearRing=function(t){this.flatCoordinates?mf(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){return o<x1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(a7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),l7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,i,o))},n.prototype.containsXY=function(t,r){return c7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},n.prototype.getArea=function(){return uz(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},n.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),rE(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,AC(r,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Qm(this.getExtent());this.flatInteriorPoint_=h7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},n.prototype.getInteriorPoint=function(){return new cC(this.getFlatInteriorPoint(),Ba.XYM)},n.prototype.getLinearRingCount=function(){return this.ends_.length},n.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new I9(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},n.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],s=0,a=0,h=i.length;a<h;++a){var g=i[a],C=new I9(r.slice(s,g),t);o.push(C),s=g}return o},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;cz(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=rE(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=nz(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,i),new n(r,Ba.XY,i)},n.prototype.getType=function(){return"Polygon"},n.prototype.intersectsExtent=function(t){return oz(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=u7(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},n}(w1);const dC=dz;function K9(e){var n=e[0],t=e[1],r=e[2],i=e[3],o=[n,t,n,i,r,i,r,t,n,t];return new dz(o,Ba.XY,[o.length])}function hz(e,n,t,r){for(var i=[],o=xd(),s=0,a=t.length;s<a;++s){var h=t[s];o=HB(e,n,h[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),n=h[h.length-1]}return i}var gre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yre=function(e){gre(n,e);function n(t,r,i){var o=e.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var s=o.getLayout(),a=t,h=[],g=[],C=0,B=a.length;C<B;++C){var k=a[C];C===0&&(s=k.getLayout());for(var P=h.length,U=k.getEnds(),Z=0,W=U.length;Z<W;++Z)U[Z]+=P;mf(h,k.getFlatCoordinates()),g.push(U)}r=s,t=h,i=g}return r!==void 0&&i?(o.setFlatCoordinates(r,t),o.endss_=i):o.setCoordinates(t,r),o}return n.prototype.appendPolygon=function(t){var r;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),r=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;mf(this.flatCoordinates,t.getFlatCoordinates()),r=t.getEnds().slice();for(var o=0,s=r.length;o<s;++o)r[o]+=i}this.endss_.push(r),this.changed()},n.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),i=0;i<t;++i)r[i]=this.endss_[i].slice();var o=new n(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},n.prototype.closestPointXY=function(t,r,i,o){return o<x1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gne(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qne(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,r,i,o))},n.prototype.containsXY=function(t,r){return Jne(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,r)},n.prototype.getArea=function(){return Are(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},n.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),T9(r,0,this.endss_,this.stride,t)):r=this.flatCoordinates,tE(r,0,this.endss_,this.stride)},n.prototype.getEndss=function(){return this.endss_},n.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=hz(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Az(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},n.prototype.getInteriorPoints=function(){return new d7(this.getFlatInteriorPoints().slice(),Ba.XYM)},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;fre(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=T9(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Hne(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,i),new n(r,Ba.XY,i)},n.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var r;if(t===0)r=0;else{var i=this.endss_[t-1];r=i[i.length-1]}var o=this.endss_[t].slice(),s=o[o.length-1];if(r!==0)for(var a=0,h=o.length;a<h;++a)o[a]-=r;return new dC(this.flatCoordinates.slice(r,s),this.layout,o)},n.prototype.getPolygons=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],s=0,a=0,h=i.length;a<h;++a){var g=i[a].slice(),C=g[g.length-1];if(s!==0)for(var B=0,k=g.length;B<k;++B)g[B]-=s;var P=new dC(r.slice(s,C),t,g);o.push(P),s=C}return o},n.prototype.getType=function(){return"MultiPolygon"},n.prototype.intersectsExtent=function(t){return tre(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Yne(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},n}(w1);const fz=yre;var vre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_re=function(e){vre(n,e);function n(t){var r=this,i=t||{};return r=e.call(this)||this,r.dataProjection=Ws(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=Ws(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return n.prototype.readFeatureFromObject=function(t,r){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=iE(i.geometry,r),s=new zte;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(o),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s},n.prototype.readFeaturesFromObject=function(t,r){var i=t,o=null;if(i.type==="FeatureCollection"){var s=t;o=[];for(var a=s.features,h=0,g=a.length;h<g;++h)o.push(this.readFeatureFromObject(a[h],r))}else o=[this.readFeatureFromObject(t,r)];return o},n.prototype.readGeometryFromObject=function(t,r){return iE(t,r)},n.prototype.readProjectionFromObject=function(t){var r=t.crs,i;return r?r.type=="name"?i=Ws(r.properties.name):r.type==="EPSG"?i=Ws("EPSG:"+r.properties.code):ao(!1,36):i=this.dataProjection,i},n.prototype.writeFeatureObject=function(t,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var s=t.getProperties(),a=t.getGeometry();return a&&(i.geometry=oE(a,r),delete s[t.getGeometryName()]),f1(s)||(i.properties=s),i},n.prototype.writeFeaturesObject=function(t,r){r=this.adaptOptions(r);for(var i=[],o=0,s=t.length;o<s;++o)i.push(this.writeFeatureObject(t[o],r));return{type:"FeatureCollection",features:i}},n.prototype.writeGeometryObject=function(t,r){return oE(t,this.adaptOptions(r))},n}(Rne);function iE(e,n){if(!e)return null;var t;switch(e.type){case"Point":{t=bre(e);break}case"LineString":{t=xre(e);break}case"Polygon":{t=Ere(e);break}case"MultiPoint":{t=Mre(e);break}case"MultiLineString":{t=wre(e);break}case"MultiPolygon":{t=Sre(e);break}case"GeometryCollection":{t=Cre(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return i7(t,!1,n)}function Cre(e,n){var t=e.geometries.map(function(r){return iE(r,n)});return new Dne(t)}function bre(e){return new cC(e.coordinates)}function xre(e){return new E3(e.coordinates)}function wre(e){return new sz(e.coordinates)}function Mre(e){return new d7(e.coordinates)}function Sre(e){return new fz(e.coordinates)}function Ere(e){return new dC(e.coordinates)}function oE(e,n){e=i7(e,!0,n);var t=e.getType(),r;switch(t){case"Point":{r=Kre(e);break}case"LineString":{r=Bre(e);break}case"Polygon":{r=Pre(e,n);break}case"MultiPoint":{r=Ire(e);break}case"MultiLineString":{r=kre(e);break}case"MultiPolygon":{r=Tre(e,n);break}case"GeometryCollection":{r=Ore(e,n);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return r}function Ore(e,n){var t=e.getGeometriesArray().map(function(r){var i=hl({},n);return delete i.featureProjection,oE(r,i)});return{type:"GeometryCollection",geometries:t}}function Bre(e,n){return{type:"LineString",coordinates:e.getCoordinates()}}function kre(e,n){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function Ire(e,n){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function Tre(e,n){var t;return n&&(t=n.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(t)}}function Kre(e,n){return{type:"Point",coordinates:e.getCoordinates()}}function Pre(e,n){var t;return n&&(t=n.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(t)}}var Fre=qo,Sx=$4;function qo(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}qo.Varint=0;qo.Fixed64=1;qo.Bytes=2;qo.Fixed32=5;var aE=65536*65536,P9=1/aE,Dre=12,pz=typeof TextDecoder>"u"?null:new TextDecoder("utf8");qo.prototype={destroy:function(){this.buf=null},readFields:function(e,n,t){for(t=t||this.length;this.pos<t;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,e(i,n,this),this.pos===o&&this.skip(r)}return n},readMessage:function(e,n){return this.readFields(e,n,this.readVarint()+this.pos)},readFixed32:function(){var e=Ex(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=D9(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Ex(this.buf,this.pos)+Ex(this.buf,this.pos+4)*aE;return this.pos+=8,e},readSFixed64:function(){var e=Ex(this.buf,this.pos)+D9(this.buf,this.pos+4)*aE;return this.pos+=8,e},readFloat:function(){var e=Sx.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Sx.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var n=this.buf,t,r;return r=n[this.pos++],t=r&127,r<128||(r=n[this.pos++],t|=(r&127)<<7,r<128)||(r=n[this.pos++],t|=(r&127)<<14,r<128)||(r=n[this.pos++],t|=(r&127)<<21,r<128)?t:(r=n[this.pos],t|=(r&15)<<28,Lre(t,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,n=this.pos;return this.pos=e,e-n>=Dre&&pz?Zre(this.buf,n,e):Hre(this.buf,n,e)},readBytes:function(){var e=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,e);return this.pos=e,n},readPackedVarint:function(e,n){if(this.type!==qo.Bytes)return e.push(this.readVarint(n));var t=Jf(this);for(e=e||[];this.pos<t;)e.push(this.readVarint(n));return e},readPackedSVarint:function(e){if(this.type!==qo.Bytes)return e.push(this.readSVarint());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==qo.Bytes)return e.push(this.readBoolean());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==qo.Bytes)return e.push(this.readFloat());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==qo.Bytes)return e.push(this.readDouble());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==qo.Bytes)return e.push(this.readFixed32());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==qo.Bytes)return e.push(this.readSFixed32());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==qo.Bytes)return e.push(this.readFixed64());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==qo.Bytes)return e.push(this.readSFixed64());var n=Jf(this);for(e=e||[];this.pos<n;)e.push(this.readSFixed64());return e},skip:function(e){var n=e&7;if(n===qo.Varint)for(;this.buf[this.pos++]>127;);else if(n===qo.Bytes)this.pos=this.readVarint()+this.pos;else if(n===qo.Fixed32)this.pos+=4;else if(n===qo.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+n)},writeTag:function(e,n){this.writeVarint(e<<3|n)},realloc:function(e){for(var n=this.length||16;n<this.pos+e;)n*=2;if(n!==this.length){var t=new Uint8Array(n);t.set(this.buf),this.buf=t,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),cg(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),cg(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),cg(this.buf,e&-1,this.pos),cg(this.buf,Math.floor(e*P9),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),cg(this.buf,e&-1,this.pos),cg(this.buf,Math.floor(e*P9),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){Ure(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var n=this.pos;this.pos=Xre(this.buf,e,this.pos);var t=this.pos-n;t>=128&&F9(n,t,this),this.pos=n-1,this.writeVarint(t),this.pos+=t},writeFloat:function(e){this.realloc(4),Sx.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Sx.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var n=e.length;this.writeVarint(n),this.realloc(n);for(var t=0;t<n;t++)this.buf[this.pos++]=e[t]},writeRawMessage:function(e,n){this.pos++;var t=this.pos;e(n,this);var r=this.pos-t;r>=128&&F9(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,n,t){this.writeTag(e,qo.Bytes),this.writeRawMessage(n,t)},writePackedVarint:function(e,n){n.length&&this.writeMessage(e,jre,n)},writePackedSVarint:function(e,n){n.length&&this.writeMessage(e,Wre,n)},writePackedBoolean:function(e,n){n.length&&this.writeMessage(e,Qre,n)},writePackedFloat:function(e,n){n.length&&this.writeMessage(e,Nre,n)},writePackedDouble:function(e,n){n.length&&this.writeMessage(e,Gre,n)},writePackedFixed32:function(e,n){n.length&&this.writeMessage(e,$re,n)},writePackedSFixed32:function(e,n){n.length&&this.writeMessage(e,Yre,n)},writePackedFixed64:function(e,n){n.length&&this.writeMessage(e,qre,n)},writePackedSFixed64:function(e,n){n.length&&this.writeMessage(e,Vre,n)},writeBytesField:function(e,n){this.writeTag(e,qo.Bytes),this.writeBytes(n)},writeFixed32Field:function(e,n){this.writeTag(e,qo.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(e,n){this.writeTag(e,qo.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(e,n){this.writeTag(e,qo.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(e,n){this.writeTag(e,qo.Fixed64),this.writeSFixed64(n)},writeVarintField:function(e,n){this.writeTag(e,qo.Varint),this.writeVarint(n)},writeSVarintField:function(e,n){this.writeTag(e,qo.Varint),this.writeSVarint(n)},writeStringField:function(e,n){this.writeTag(e,qo.Bytes),this.writeString(n)},writeFloatField:function(e,n){this.writeTag(e,qo.Fixed32),this.writeFloat(n)},writeDoubleField:function(e,n){this.writeTag(e,qo.Fixed64),this.writeDouble(n)},writeBooleanField:function(e,n){this.writeVarintField(e,!!n)}};function Lre(e,n,t){var r=t.buf,i,o;if(o=r[t.pos++],i=(o&112)>>4,o<128||(o=r[t.pos++],i|=(o&127)<<3,o<128)||(o=r[t.pos++],i|=(o&127)<<10,o<128)||(o=r[t.pos++],i|=(o&127)<<17,o<128)||(o=r[t.pos++],i|=(o&127)<<24,o<128)||(o=r[t.pos++],i|=(o&1)<<31,o<128))return Ag(e,i,n);throw new Error("Expected varint not more than 10 bytes")}function Jf(e){return e.type===qo.Bytes?e.readVarint()+e.pos:e.pos+1}function Ag(e,n,t){return t?n*4294967296+(e>>>0):(n>>>0)*4294967296+(e>>>0)}function Ure(e,n){var t,r;if(e>=0?(t=e%4294967296|0,r=e/4294967296|0):(t=~(-e%4294967296),r=~(-e/4294967296),t^4294967295?t=t+1|0:(t=0,r=r+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");n.realloc(10),Rre(t,r,n),zre(r,n)}function Rre(e,n,t){t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos]=e&127}function zre(e,n){var t=(e&7)<<4;n.buf[n.pos++]|=t|((e>>>=3)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127)))))}function F9(e,n,t){var r=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(Math.LN2*7));t.realloc(r);for(var i=t.pos-1;i>=e;i--)t.buf[i+r]=t.buf[i]}function jre(e,n){for(var t=0;t<e.length;t++)n.writeVarint(e[t])}function Wre(e,n){for(var t=0;t<e.length;t++)n.writeSVarint(e[t])}function Nre(e,n){for(var t=0;t<e.length;t++)n.writeFloat(e[t])}function Gre(e,n){for(var t=0;t<e.length;t++)n.writeDouble(e[t])}function Qre(e,n){for(var t=0;t<e.length;t++)n.writeBoolean(e[t])}function $re(e,n){for(var t=0;t<e.length;t++)n.writeFixed32(e[t])}function Yre(e,n){for(var t=0;t<e.length;t++)n.writeSFixed32(e[t])}function qre(e,n){for(var t=0;t<e.length;t++)n.writeFixed64(e[t])}function Vre(e,n){for(var t=0;t<e.length;t++)n.writeSFixed64(e[t])}function Ex(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16)+e[n+3]*16777216}function cg(e,n,t){e[t]=n,e[t+1]=n>>>8,e[t+2]=n>>>16,e[t+3]=n>>>24}function D9(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16)+(e[n+3]<<24)}function Hre(e,n,t){for(var r="",i=n;i<t;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>t)break;var h,g,C;a===1?o<128&&(s=o):a===2?(h=e[i+1],(h&192)===128&&(s=(o&31)<<6|h&63,s<=127&&(s=null))):a===3?(h=e[i+1],g=e[i+2],(h&192)===128&&(g&192)===128&&(s=(o&15)<<12|(h&63)<<6|g&63,(s<=2047||s>=55296&&s<=57343)&&(s=null))):a===4&&(h=e[i+1],g=e[i+2],C=e[i+3],(h&192)===128&&(g&192)===128&&(C&192)===128&&(s=(o&15)<<18|(h&63)<<12|(g&63)<<6|C&63,(s<=65535||s>=1114112)&&(s=null))),s===null?(s=65533,a=1):s>65535&&(s-=65536,r+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),r+=String.fromCharCode(s),i+=a}return r}function Zre(e,n,t){return pz.decode(e.subarray(n,t))}function Xre(e,n,t){for(var r=0,i,o;r<n.length;r++){if(i=n.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){e[t++]=239,e[t++]=191,e[t++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===n.length?(e[t++]=239,e[t++]=191,e[t++]=189):o=i;continue}else o&&(e[t++]=239,e[t++]=191,e[t++]=189,o=null);i<128?e[t++]=i:(i<2048?e[t++]=i>>6|192:(i<65536?e[t++]=i>>12|224:(e[t++]=i>>18|240,e[t++]=i>>12&63|128),e[t++]=i>>6&63|128),e[t++]=i&63|128)}return t}const Jre=oa(Fre);var L9=_d(),hC=function(){function e(n,t,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=n,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return e.prototype.get=function(n){return this.properties_[n]},e.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?GR(this.flatCoordinates_):HB(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var n=Qm(this.getExtent());this.flatInteriorPoints_=h7(this.flatCoordinates_,0,this.ends_,2,n,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var n=hz(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Az(this.flatCoordinates_,0,this.ends_,2,n)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=S3(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var n=this.flatCoordinates_,t=0,r=this.ends_,i=0,o=r.length;i<o;++i){var s=r[i],a=S3(n,t,s,2,.5);mf(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(n){return this},e.prototype.simplifyTransformed=function(n,t){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){return this.styleFunction},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(n){n=Ws(n);var t=n.getExtent(),r=n.getWorldExtent();if(t&&r){var i=JA(r)/JA(t);_f(L9,r[0],r[3],i,-i,0,0,0),Lm(this.flatCoordinates_,0,this.flatCoordinates_.length,2,L9,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();hC.prototype.getEndss=hC.prototype.getEnds;hC.prototype.getFlatCoordinates=hC.prototype.getOrientedFlatCoordinates;const sE=hC;var eie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tie=function(e){eie(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.dataProjection=new XB({code:"",units:_A.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:sE,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return n.prototype.readRawGeometry_=function(t,r,i,o){t.pos=r.geometry;for(var s=t.readVarint()+t.pos,a=1,h=0,g=0,C=0,B=0,k=0;t.pos<s;){if(!h){var P=t.readVarint();a=P&7,h=P>>3}h--,a===1||a===2?(g+=t.readSVarint(),C+=t.readSVarint(),a===1&&B>k&&(o.push(B),k=B),i.push(g,C),B+=2):a===7?B>k&&(i.push(i[k],i[k+1]),B+=2):ao(!1,59)}B>k&&(o.push(B),k=B)},n.prototype.createFeature_=function(t,r,i){var o=r.type;if(o===0)return null;var s,a=r.properties,h;this.idProperty_?(h=a[this.idProperty_],delete a[this.idProperty_]):h=r.id,a[this.layerName_]=r.layer.name;var g=[],C=[];this.readRawGeometry_(t,r,g,C);var B=aie(o,C.length);if(this.featureClass_===sE)s=new this.featureClass_(B,g,C,a,h),s.transform(i.dataProjection);else{var k=void 0;if(B=="Polygon"){var P=pre(g,C);k=P.length>1?new fz(g,Ba.XY,P):new dC(g,Ba.XY,C)}else k=B==="Point"?new cC(g,Ba.XY):B==="LineString"?new E3(g,Ba.XY):B==="MultiPoint"?new d7(g,Ba.XY):B==="MultiLineString"?new sz(g,Ba.XY,C):null;var U=this.featureClass_;s=new U,this.geometryName_&&s.setGeometryName(this.geometryName_);var Z=i7(k,!1,i);s.setGeometry(Z),h!==void 0&&s.setId(h),s.setProperties(a,!0)}return s},n.prototype.getType=function(){return"arraybuffer"},n.prototype.readFeatures=function(t,r){var i=this.layers_,o=this.adaptOptions(r),s=Ws(o.dataProjection);s.setWorldExtent(o.extent),o.dataProjection=s;var a=new Jre(t),h=a.readFields(nie,{}),g=[];for(var C in h)if(!(i&&i.indexOf(C)==-1)){var B=h[C],k=B?[0,0,B.extent,B.extent]:null;s.setExtent(k);for(var P=0,U=B.length;P<U;++P){var Z=oie(a,B,P),W=this.createFeature_(a,Z,o);W!==null&&g.push(W)}}return g},n.prototype.readProjection=function(t){return this.dataProjection},n.prototype.setLayers=function(t){this.layers_=t},n}(tz);function nie(e,n,t){if(e===3){var r={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(rie,r,i),r.length=r.features.length,r.length&&(n[r.name]=r)}}function rie(e,n,t){if(e===15)n.version=t.readVarint();else if(e===1)n.name=t.readString();else if(e===5)n.extent=t.readVarint();else if(e===2)n.features.push(t.pos);else if(e===3)n.keys.push(t.readString());else if(e===4){for(var r=null,i=t.readVarint()+t.pos;t.pos<i;)e=t.readVarint()>>3,r=e===1?t.readString():e===2?t.readFloat():e===3?t.readDouble():e===4?t.readVarint64():e===5?t.readVarint():e===6?t.readSVarint():e===7?t.readBoolean():null;n.values.push(r)}}function iie(e,n,t){if(e==1)n.id=t.readVarint();else if(e==2)for(var r=t.readVarint()+t.pos;t.pos<r;){var i=n.layer.keys[t.readVarint()],o=n.layer.values[t.readVarint()];n.properties[i]=o}else e==3?n.type=t.readVarint():e==4&&(n.geometry=t.pos)}function oie(e,n,t){e.pos=n.features[t];var r=e.readVarint()+e.pos,i={layer:n,type:0,properties:{}};return e.readFields(iie,i,r),i}function aie(e,n){var t;return e===1?t=n===1?"Point":"MultiPoint":e===2?t=n===1?"LineString":"MultiLineString":e===3&&(t="Polygon"),t}const sie=tie;var lie=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,uie=/^([a-z]*)$|^hsla?\(.*\)$/i;function mz(e){return typeof e=="string"?e:gz(e)}function Aie(e){var n=document.createElement("div");if(n.style.color=e,n.style.color!==""){document.body.appendChild(n);var t=getComputedStyle(n).color;return document.body.removeChild(n),t}else return""}var cie=function(){var e=1024,n={},t=0;return function(r){var i;if(n.hasOwnProperty(r))i=n[r];else{if(t>=e){var o=0;for(var s in n)o++&3||(delete n[s],--t)}i=die(r),n[r]=i,++t}return i}}();function O3(e){return Array.isArray(e)?e:cie(e)}function die(e){var n,t,r,i,o;if(uie.exec(e)&&(e=Aie(e)),lie.exec(e)){var s=e.length-1,a=void 0;s<=4?a=1:a=2;var h=s===4||s===8;n=parseInt(e.substr(1+0*a,a),16),t=parseInt(e.substr(1+1*a,a),16),r=parseInt(e.substr(1+2*a,a),16),h?i=parseInt(e.substr(1+3*a,a),16):i=255,a==1&&(n=(n<<4)+n,t=(t<<4)+t,r=(r<<4)+r,h&&(i=(i<<4)+i)),o=[n,t,r,i/255]}else e.indexOf("rgba(")==0?(o=e.slice(5,-1).split(",").map(Number),U9(o)):e.indexOf("rgb(")==0?(o=e.slice(4,-1).split(",").map(Number),o.push(1),U9(o)):ao(!1,14);return o}function U9(e){return e[0]=kl(e[0]+.5|0,0,255),e[1]=kl(e[1]+.5|0,0,255),e[2]=kl(e[2]+.5|0,0,255),e[3]=kl(e[3],0,1),e}function gz(e){var n=e[0];n!=(n|0)&&(n=n+.5|0);var t=e[1];t!=(t|0)&&(t=t+.5|0);var r=e[2];r!=(r|0)&&(r=r+.5|0);var i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+n+","+t+","+r+","+i+")"}var hie=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var n=0;for(var t in this.cache_){var r=this.cache_[t];!(n++&3)&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(n,t,r){var i=R9(n,t,r);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(n,t,r,i){var o=R9(n,t,r);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(n){this.maxCacheSize_=n,this.expire()},e}();function R9(e,n,t){var r=t?mz(t):"null";return n+":"+e+":"+r}var B3=new hie;const fa={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var fie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pie=function(e){fie(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var i=hl({},t);return typeof t.properties=="object"&&(delete i.properties,hl(i,t.properties)),i[fa.OPACITY]=t.opacity!==void 0?t.opacity:1,ao(typeof i[fa.OPACITY]=="number",64),i[fa.VISIBLE]=t.visible!==void 0?t.visible:!0,i[fa.Z_INDEX]=t.zIndex,i[fa.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[fa.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[fa.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[fa.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return n.prototype.getBackground=function(){return this.background_},n.prototype.getClassName=function(){return this.className_},n.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return r.opacity=kl(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},n.prototype.getLayersArray=function(t){return si()},n.prototype.getLayerStatesArray=function(t){return si()},n.prototype.getExtent=function(){return this.get(fa.EXTENT)},n.prototype.getMaxResolution=function(){return this.get(fa.MAX_RESOLUTION)},n.prototype.getMinResolution=function(){return this.get(fa.MIN_RESOLUTION)},n.prototype.getMinZoom=function(){return this.get(fa.MIN_ZOOM)},n.prototype.getMaxZoom=function(){return this.get(fa.MAX_ZOOM)},n.prototype.getOpacity=function(){return this.get(fa.OPACITY)},n.prototype.getSourceState=function(){return si()},n.prototype.getVisible=function(){return this.get(fa.VISIBLE)},n.prototype.getZIndex=function(){return this.get(fa.Z_INDEX)},n.prototype.setBackground=function(t){this.background_=t,this.changed()},n.prototype.setExtent=function(t){this.set(fa.EXTENT,t)},n.prototype.setMaxResolution=function(t){this.set(fa.MAX_RESOLUTION,t)},n.prototype.setMinResolution=function(t){this.set(fa.MIN_RESOLUTION,t)},n.prototype.setMaxZoom=function(t){this.set(fa.MAX_ZOOM,t)},n.prototype.setMinZoom=function(t){this.set(fa.MIN_ZOOM,t)},n.prototype.setOpacity=function(t){ao(typeof t=="number",64),this.set(fa.OPACITY,t)},n.prototype.setVisible=function(t){this.set(fa.VISIBLE,t)},n.prototype.setZIndex=function(t){this.set(fa.Z_INDEX,t)},n.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},n}(fh);const yz=pie,Um={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var mie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),g5=function(e){mie(n,e);function n(t){var r=this,i=hl({},t);delete i.source,r=e.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(fa.SOURCE,r.handleSourcePropertyChange_);var o=t.source?t.source:null;return r.setSource(o),r}return n.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},n.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},n.prototype.getSource=function(){return this.get(fa.SOURCE)||null},n.prototype.getRenderSource=function(){return this.getSource()},n.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},n.prototype.handleSourceChange_=function(){this.changed()},n.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Ya(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=bo(t,Bi.CHANGE,this.handleSourceChange_,this)),this.changed()},n.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},n.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},n.prototype.render=function(t,r){var i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,r)},n.prototype.unrender=function(){this.rendered=!1},n.prototype.setMapInternal=function(t){t||this.unrender(),this.set(fa.MAP,t)},n.prototype.getMapInternal=function(){return this.get(fa.MAP)},n.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Ya(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Ya(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=bo(t,Um.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,s=this.getLayerState(!1);ao(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=bo(this,Bi.CHANGE,t.render,t),this.changed())},n.prototype.setSource=function(t){this.set(fa.SOURCE,t)},n.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},n.prototype.hasRenderer=function(){return!!this.renderer_},n.prototype.createRenderer=function(){return null},n.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},n}(yz);function k3(e,n){if(!e.visible)return!1;var t=n.resolution;if(t<e.minResolution||t>=e.maxResolution)return!1;var r=n.zoom;return r>e.minZoom&&r<=e.maxZoom}var gie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yie=function(e){gie(n,e);function n(t){var r=e.call(this)||this;return r.map_=t,r}return n.prototype.dispatchRenderEvent=function(t,r){si()},n.prototype.calculateMatrices2D=function(t){var r=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;_f(i,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),qB(o,i)},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s,a,h,g){var C,B=r.viewState;function k(_e,Ut,jt,nn){return s.call(a,Ut,_e?jt:null,nn)}var P=B.projection,U=e7(t.slice(),P),Z=[[0,0]];if(P.canWrapX()&&o){var W=P.getExtent(),Q=us(W);Z.push([-Q,0],[Q,0])}for(var q=r.layerStatesArray,oe=q.length,re=[],Ae=[],ae=0;ae<Z.length;ae++)for(var se=oe-1;se>=0;--se){var ye=q[se],De=ye.layer;if(De.hasRenderer()&&k3(ye,B)&&h.call(g,De)){var Ne=De.getRenderer(),et=De.getSource();if(Ne&&et){var ft=et.getWrapX()?U:t,Ke=k.bind(null,ye.managed);Ae[0]=ft[0]+Z[ae][0],Ae[1]=ft[1]+Z[ae][1],C=Ne.forEachFeatureAtCoordinate(Ae,r,i,Ke,re)}if(C)return C}}if(re.length!==0){var rt=1/re.length;return re.forEach(function(_e,Ut){return _e.distanceSq+=Ut*rt}),re.sort(function(_e,Ut){return _e.distanceSq-Ut.distanceSq}),re.some(function(_e){return C=_e.callback(_e.feature,_e.layer,_e.geometry)}),C}},n.prototype.forEachLayerAtPixel=function(t,r,i,o,s){return si()},n.prototype.hasFeatureAtCoordinate=function(t,r,i,o,s,a){var h=this.forEachFeatureAtCoordinate(t,r,i,o,sy,this,s,a);return h!==void 0},n.prototype.getMap=function(){return this.map_},n.prototype.renderFrame=function(t){si()},n.prototype.scheduleExpireIconCache=function(t){B3.canExpireCache()&&t.postRenderFunctions.push(vie)},n}(QB);function vie(e,n){B3.expire()}const _ie=yie;var Cie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vz=function(e){Cie(n,e);function n(t,r,i,o){var s=e.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=i,s.context=o,s}return n}(kp),Ox="ol-hidden",bie="ol-selectable",y5="ol-unselectable",p7="ol-control",z9="ol-collapsed",xie=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),j9=["style","variant","weight","size","lineHeight","family"],_z=function(e){var n=e.match(xie);if(!n)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=j9.length;r<i;++r){var o=n[r+1];o!==void 0&&(t[j9[r]]=o)}return t.families=t.family.split(/,\s?/),t};function ec(e,n,t,r){var i;return t&&t.length?i=t.shift():u5?i=new OffscreenCanvas(e||300,n||300):i=document.createElement("canvas"),e&&(i.width=e),n&&(i.height=n),i.getContext("2d",r)}function m7(e){var n=e.canvas;n.width=1,n.height=1,e.clearRect(0,0,1,1)}function wie(e){var n=e.offsetWidth,t=getComputedStyle(e);return n+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),n}function Mie(e){var n=e.offsetHeight,t=getComputedStyle(e);return n+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),n}function W9(e,n){var t=n.parentNode;t&&t.replaceChild(e,n)}function I3(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Cz(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function Sie(e,n){for(var t=e.childNodes,r=0;;++r){var i=t[r],o=n[r];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--r;continue}e.insertBefore(o,i)}}}var bz="10px sans-serif",Mp="#000",T3="round",fC=[],pC=0,Iy="round",mC=10,gC="#000",yC="center",K3="middle",G0=[0,0,0,0],vC=1,sp=new fh,lE=new $y;lE.setSize=function(){console.warn("labelCache is deprecated.")};var Sg=null,uE,AE={},Eie=function(){var e=100,n="32px ",t=["monospace","serif"],r=t.length,i="wmytzilWMYTZIL@#/&?$%10",o,s;function a(g,C,B){for(var k=!0,P=0;P<r;++P){var U=t[P];if(s=P3(g+" "+C+" "+n+U,i),B!=U){var Z=P3(g+" "+C+" "+n+B+","+U,i);k=k&&Z!=s}}return!!k}function h(){for(var g=!0,C=sp.getKeys(),B=0,k=C.length;B<k;++B){var P=C[B];sp.get(P)<e&&(a.apply(this,P.split(`
`))?($C(AE),Sg=null,uE=void 0,sp.set(P,e)):(sp.set(P,sp.get(P)+1,!0),g=!1))}g&&(clearInterval(o),o=void 0)}return function(g){var C=_z(g);if(C)for(var B=C.families,k=0,P=B.length;k<P;++k){var U=B[k],Z=C.style+`
`+C.weight+`
`+U;sp.get(Z)===void 0&&(sp.set(Z,e,!0),a(C.style,C.weight,U)||(sp.set(Z,0,!0),o===void 0&&(o=setInterval(h,32))))}}}(),Oie=function(){var e;return function(n){var t=AE[n];if(t==null){if(u5){var r=_z(n),i=xz(n,"g"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=n,document.body.appendChild(e),t=e.offsetHeight,document.body.removeChild(e);AE[n]=t}return t}}();function xz(e,n){return Sg||(Sg=ec(1,1)),e!=uE&&(Sg.font=e,uE=Sg.font),Sg.measureText(n)}function P3(e,n){return xz(e,n).width}function N9(e,n,t){if(n in t)return t[n];var r=n.split(`
`).reduce(function(i,o){return Math.max(i,P3(e,o))},0);return t[n]=r,r}function Bie(e,n){for(var t=[],r=[],i=[],o=0,s=0,a=0,h=0,g=0,C=n.length;g<=C;g+=2){var B=n[g];if(B===`
`||g===C){o=Math.max(o,s),i.push(s),s=0,a+=h;continue}var k=n[g+1]||e.font,P=P3(k,B);t.push(P),s+=P;var U=Oie(k);r.push(U),h=Math.max(h,U)}return{width:o,height:a,widths:t,heights:r,lineWidths:i}}function kie(e,n,t,r,i,o,s,a,h,g,C){e.save(),t!==1&&(e.globalAlpha*=t),n&&e.setTransform.apply(e,n),r.contextInstructions?(e.translate(h,g),e.scale(C[0],C[1]),Iie(r,e)):C[0]<0||C[1]<0?(e.translate(h,g),e.scale(C[0],C[1]),e.drawImage(r,i,o,s,a,0,0,s,a)):e.drawImage(r,i,o,s,a,h,g,s*C[0],a*C[1]),e.restore()}function Iie(e,n){for(var t=e.contextInstructions,r=0,i=t.length;r<i;r+=2)Array.isArray(t[r+1])?n[t[r]].apply(n,t[r+1]):n[t[r]]=t[r+1]}var Tie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kie=function(e){Tie(n,e);function n(t){var r=e.call(this,t)||this;r.fontChangeListenerKey_=bo(sp,By.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=y5+" ol-layers";var o=t.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return n.prototype.dispatchRenderEvent=function(t,r){var i=this.getMap();if(i.hasListener(t)){var o=new vz(t,void 0,r);i.dispatchEvent(o)}},n.prototype.disposeInternal=function(){Ya(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},n.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Um.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(P,U){return P.zIndex-U.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],s=null,a=0,h=r.length;a<h;++a){var g=r[a];t.layerIndex=a;var C=g.layer,B=C.getSourceState();if(!k3(g,i)||B!="ready"&&B!="undefined"){C.unrender();continue}var k=C.render(t,s);k&&(k!==s&&(this.children_.push(k),s=k),"getDeclutter"in C&&o.push(C))}for(var a=o.length-1;a>=0;--a)o[a].renderDeclutter(t);Sie(this.element_,this.children_),this.dispatchRenderEvent(Um.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},n.prototype.forEachLayerAtPixel=function(t,r,i,o,s){for(var a=r.viewState,h=r.layerStatesArray,g=h.length,C=g-1;C>=0;--C){var B=h[C],k=B.layer;if(k.hasRenderer()&&k3(B,a)&&s(k)){var P=k.getRenderer(),U=P.getDataAtPixel(t,r,i);if(U){var Z=o(k,U);if(Z)return Z}}}},n}(_ie);const Pie=Kie,VA={ADD:"add",REMOVE:"remove"};var wz=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),G9={LENGTH:"length"},Bx=function(e){wz(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.element=r,o.index=i,o}return n}(kp),yd=function(e){wz(n,e);function n(t,r){var i=e.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var s=0,a=i.array_.length;s<a;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return n.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},n.prototype.extend=function(t){for(var r=0,i=t.length;r<i;++r)this.push(t[r]);return this},n.prototype.forEach=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)t(r[i],i,r)},n.prototype.getArray=function(){return this.array_},n.prototype.item=function(t){return this.array_[t]},n.prototype.getLength=function(){return this.get(G9.LENGTH)},n.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new Bx(VA.ADD,r,t))},n.prototype.pop=function(){return this.removeAt(this.getLength()-1)},n.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},n.prototype.remove=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===t)return this.removeAt(i)},n.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Bx(VA.REMOVE,r,t)),r},n.prototype.setAt=function(t,r){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(r,t);var o=this.array_[t];this.array_[t]=r,this.dispatchEvent(new Bx(VA.REMOVE,o,t)),this.dispatchEvent(new Bx(VA.ADD,r,t))}else{for(var s=i;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},n.prototype.updateLength_=function(){this.set(G9.LENGTH,this.array_.length)},n.prototype.assertUnique_=function(t,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==r)throw new UR(58)},n}(fh),Mz=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lm=function(e){Mz(n,e);function n(t,r){var i=e.call(this,t)||this;return i.layer=r,i}return n}(kp),gM={LAYERS:"layers"},Fie=function(e){Mz(n,e);function n(t){var r=this,i=t||{},o=hl({},i);delete o.layers;var s=i.layers;return r=e.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(gM.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new yd(s.slice(),{unique:!0}):ao(typeof s.getArray=="function",43):s=new yd(void 0,{unique:!0}),r.setLayers(s),r}return n.prototype.handleLayerChange_=function(){this.changed()},n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Ya),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(bo(t,VA.ADD,this.handleLayersAdd_,this),bo(t,VA.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(Ya);$C(this.listenerKeys_);for(var i=t.getArray(),o=0,s=i.length;o<s;o++){var a=i[o];this.registerLayerListeners_(a),this.dispatchEvent(new lm("addlayer",a))}this.changed()},n.prototype.registerLayerListeners_=function(t){var r=[bo(t,By.PROPERTYCHANGE,this.handleLayerChange_,this),bo(t,Bi.CHANGE,this.handleLayerChange_,this)];t instanceof n&&r.push(bo(t,"addlayer",this.handleLayerGroupAdd_,this),bo(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ni(t)]=r},n.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new lm("addlayer",t.layer))},n.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new lm("removelayer",t.layer))},n.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new lm("addlayer",r)),this.changed()},n.prototype.handleLayersRemove_=function(t){var r=t.element,i=Ni(r);this.listenerKeys_[i].forEach(Ya),delete this.listenerKeys_[i],this.dispatchEvent(new lm("removelayer",r)),this.changed()},n.prototype.getLayers=function(){return this.get(gM.LAYERS)},n.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,s=i.length;o<s;++o)this.dispatchEvent(new lm("removelayer",i[o]));this.set(gM.LAYERS,t)},n.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},n.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],i=r.length;this.getLayers().forEach(function(C){C.getLayerStatesArray(r)});var o=this.getLayerState(),s=o.zIndex;!t&&o.zIndex===void 0&&(s=0);for(var a=i,h=r.length;a<h;a++){var g=r[a];g.opacity*=o.opacity,g.visible=g.visible&&o.visible,g.maxResolution=Math.min(g.maxResolution,o.maxResolution),g.minResolution=Math.max(g.minResolution,o.minResolution),g.minZoom=Math.max(g.minZoom,o.minZoom),g.maxZoom=Math.min(g.maxZoom,o.maxZoom),o.extent!==void 0&&(g.extent!==void 0?g.extent=J0(g.extent,o.extent):g.extent=o.extent),g.zIndex===void 0&&(g.zIndex=s)}return r},n.prototype.getSourceState=function(){return"ready"},n}(yz);const v5=Fie;var Die=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Eg=function(e){Die(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return n}(kp),Lie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),om=function(e){Lie(n,e);function n(t,r,i,o,s,a){var h=e.call(this,t,r,s)||this;return h.originalEvent=i,h.pixel_=null,h.coordinate_=null,h.dragging=o!==void 0?o:!1,h.activePointers=a,h}return Object.defineProperty(n.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),n.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},n.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},n}(Eg);const Js={SINGLECLICK:"singleclick",CLICK:Bi.CLICK,DBLCLICK:Bi.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},cE={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Uie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rie=function(e){Uie(n,e);function n(t,r){var i=e.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=bo(o,cE.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=bo(o,cE.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(Bi.TOUCHMOVE,i.boundHandleTouchMove_,zR?{passive:!1}:!1),i}return n.prototype.emulateClick_=function(t){var r=new om(Js.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new om(Js.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new om(Js.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}).bind(this),250)},n.prototype.updateActivePointers_=function(t){var r=t,i=r.pointerId;if(r.type==Js.POINTERUP||r.type==Js.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==Js.POINTERDOWN||r.type==Js.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=FR(this.trackedTouches_)},n.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new om(Js.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ya),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},n.prototype.isMouseActionButton_=function(t){return t.button===0},n.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);var r=new om(Js.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?h1:o}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(bo(s,Js.POINTERMOVE,this.handlePointerMove_,this),bo(s,Js.POINTERUP,this.handlePointerUp_,this),bo(this.element_,Js.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(bo(this.element_.getRootNode(),Js.POINTERUP,this.handlePointerUp_,this))}},n.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var r=new om(Js.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},n.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new om(Js.POINTERMOVE,this.map_,t,r))},n.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},n.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},n.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Ya(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Bi.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ya(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ya),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},n}($y);const zie=Rie,lp={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},qu={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var F3=1/0,jie=function(){function e(n,t){this.priorityFunction_=n,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,$C(this.queuedElements_)},e.prototype.dequeue=function(){var n=this.elements_,t=this.priorities_,r=n[0];n.length==1?(n.length=0,t.length=0):(n[0]=n.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},e.prototype.enqueue=function(n){ao(!(this.keyFunction_(n)in this.queuedElements_),31);var t=this.priorityFunction_(n);return t!=F3?(this.elements_.push(n),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(n)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(n){return n*2+1},e.prototype.getRightChildIndex_=function(n){return n*2+2},e.prototype.getParentIndex_=function(n){return n-1>>1},e.prototype.heapify_=function(){var n;for(n=(this.elements_.length>>1)-1;n>=0;n--)this.siftUp_(n)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(n){return n in this.queuedElements_},e.prototype.isQueued=function(n){return this.isKeyQueued(this.keyFunction_(n))},e.prototype.siftUp_=function(n){for(var t=this.elements_,r=this.priorities_,i=t.length,o=t[n],s=r[n],a=n;n<i>>1;){var h=this.getLeftChildIndex_(n),g=this.getRightChildIndex_(n),C=g<i&&r[g]<r[h]?g:h;t[n]=t[C],r[n]=r[C],n=C}t[n]=o,r[n]=s,this.siftDown_(a,n)},e.prototype.siftDown_=function(n,t){for(var r=this.elements_,i=this.priorities_,o=r[t],s=i[t];t>n;){var a=this.getParentIndex_(t);if(i[a]>s)r[t]=r[a],i[t]=i[a],t=a;else break}r[t]=o,i[t]=s},e.prototype.reprioritize=function(){var n=this.priorityFunction_,t=this.elements_,r=this.priorities_,i=0,o=t.length,s,a,h;for(a=0;a<o;++a)s=t[a],h=n(s),h==F3?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=h,t[i++]=s);t.length=i,r.length=i,this.heapify_()},e}();const Wie=jie,pr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Nie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gie=function(e){Nie(n,e);function n(t,r){var i=e.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return n.prototype.enqueue=function(t){var r=e.prototype.enqueue.call(this,t);if(r){var i=t[0];i.addEventListener(Bi.CHANGE,this.boundHandleTileChange_)}return r},n.prototype.getTilesLoading=function(){return this.tilesLoading_},n.prototype.handleTileChange=function(t){var r=t.target,i=r.getState();if(i===pr.LOADED||i===pr.ERROR||i===pr.EMPTY){r.removeEventListener(Bi.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},n.prototype.loadMoreTiles=function(t,r){for(var i=0,o,s,a;this.tilesLoading_<t&&i<r&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),o=s.getState(),o===pr.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())},n}(Wie);const Qie=Gie;function $ie(e,n,t,r,i){if(!e||!(t in e.wantedTiles)||!e.wantedTiles[t][n.getKey()])return F3;var o=e.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}const el={ANIMATING:0,INTERACTING:1},nh={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var Sz=42,g7=256;function Q9(e,n,t){return function(r,i,o,s,a){if(r){if(!i&&!n)return r;var h=n?0:o[0]*i,g=n?0:o[1]*i,C=a?a[0]:0,B=a?a[1]:0,k=e[0]+h/2+C,P=e[2]-h/2+C,U=e[1]+g/2+B,Z=e[3]-g/2+B;k>P&&(k=(P+k)/2,P=k),U>Z&&(U=(Z+U)/2,Z=U);var W=kl(r[0],k,P),Q=kl(r[1],U,Z);if(s&&t&&i){var q=30*i;W+=-q*Math.log(1+Math.max(0,k-r[0])/q)+q*Math.log(1+Math.max(0,r[0]-P)/q),Q+=-q*Math.log(1+Math.max(0,U-r[1])/q)+q*Math.log(1+Math.max(0,r[1]-Z)/q)}return[W,Q]}}}function Yie(e){return e}function y7(e,n,t,r){var i=us(n)/t[0],o=JA(n)/t[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function v7(e,n,t){var r=Math.min(e,n),i=50;return r*=Math.log(1+i*Math.max(0,e/n-1))/i+1,t&&(r=Math.max(r,t),r/=Math.log(1+i*Math.max(0,t/e-1))/i+1),kl(r,t/2,n*2)}function qie(e,n,t,r){return function(i,o,s,a){if(i!==void 0){var h=e[0],g=e[e.length-1],C=t?y7(h,t,s,r):h;if(a){var B=n!==void 0?n:!0;return B?v7(i,C,g):kl(i,g,C)}var k=Math.min(C,i),P=Math.floor($B(e,k,o));return e[P]>C&&P<e.length-1?e[P+1]:e[P]}else return}}function Vie(e,n,t,r,i,o){return function(s,a,h,g){if(s!==void 0){var C=i?y7(n,i,h,o):n,B=t!==void 0?t:0;if(g){var k=r!==void 0?r:!0;return k?v7(s,C,B):kl(s,B,C)}var P=1e-9,U=Math.ceil(Math.log(n/C)/Math.log(e)-P),Z=-a*(.5-P)+.5,W=Math.min(C,s),Q=Math.floor(Math.log(n/W)/Math.log(e)+Z),q=Math.max(U,Q),oe=n/Math.pow(e,q);return kl(oe,B,C)}else return}}function $9(e,n,t,r,i){return function(o,s,a,h){if(o!==void 0){var g=r?y7(e,r,a,i):e,C=t!==void 0?t:!0;return!C||!h?kl(o,n,g):v7(o,g,n)}else return}}function _7(e){if(e!==void 0)return 0}function Y9(e){if(e!==void 0)return e}function Hie(e){var n=2*Math.PI/e;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/n+.5)*n,t}}function Zie(e){var n=e||b2(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=n?0:t}}function Ez(e){return Math.pow(e,3)}function Yy(e){return 1-Ez(1-e)}function Xie(e){return 3*e*e-2*e*e*e}function Jie(e){return e}var eoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yM=0,yp=function(e){eoe(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=hl({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=n7(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&HR(),i.center&&(i.center=ap(i.center,r.projection_)),i.extent&&(i.extent=W0(i.extent,r.projection_)),r.applyOptions_(i),r}return n.prototype.applyOptions_=function(t){var r=hl({},t);for(var i in nh)delete r[i];this.setProperties(r,!0);var o=noe(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var s=toe(t),a=o.constraint,h=roe(t);this.constraints_={center:s,resolution:a,rotation:h},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(n.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),a=s/2*(o[3]-r[3]+r[1]-o[1]),h=s/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+a,i[1]-h])}},enumerable:!1,configurable:!0}),n.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),hl({},r,t)},n.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=hl({},o),o.center=ap(o.center,this.getProjection())),o.anchor&&(o=hl({},o),o.anchor=ap(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},n.prototype.animateInternal=function(t){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var s=arguments[o];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(o===r){i&&kx(i,!0);return}for(var a=Date.now(),h=this.targetCenter_.slice(),g=this.targetResolution_,C=this.targetRotation_,B=[];o<r;++o){var k=arguments[o],P={start:a,complete:!1,anchor:k.anchor,duration:k.duration!==void 0?k.duration:1e3,easing:k.easing||Xie,callback:i};if(k.center&&(P.sourceCenter=h,P.targetCenter=k.center.slice(),h=P.targetCenter),k.zoom!==void 0?(P.sourceResolution=g,P.targetResolution=this.getResolutionForZoom(k.zoom),g=P.targetResolution):k.resolution&&(P.sourceResolution=g,P.targetResolution=k.resolution,g=P.targetResolution),k.rotation!==void 0){P.sourceRotation=C;var U=t1(k.rotation-C+Math.PI,2*Math.PI)-Math.PI;P.targetRotation=C+U,C=P.targetRotation}ioe(P)?P.complete=!0:a+=P.duration,B.push(P)}this.animations_.push(B),this.setHint(el.ANIMATING,1),this.updateAnimations_()},n.prototype.getAnimating=function(){return this.hints_[el.ANIMATING]>0},n.prototype.getInteracting=function(){return this.hints_[el.INTERACTING]>0},n.prototype.cancelAnimations=function(){this.setHint(el.ANIMATING,-this.hints_[el.ANIMATING]);for(var t,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&kx(o[0].callback,!1),!t)for(var s=0,a=o.length;s<a;++s){var h=o[s];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},n.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,a=0,h=o.length;a<h;++a){var g=o[a];if(!g.complete){var C=t-g.start,B=g.duration>0?C/g.duration:1;B>=1?(g.complete=!0,B=1):s=!1;var k=g.easing(B);if(g.sourceCenter){var P=g.sourceCenter[0],U=g.sourceCenter[1],Z=g.targetCenter[0],W=g.targetCenter[1];this.nextCenter_=g.targetCenter;var Q=P+k*(Z-P),q=U+k*(W-U);this.targetCenter_=[Q,q]}if(g.sourceResolution&&g.targetResolution){var oe=k===1?g.targetResolution:g.sourceResolution+k*(g.targetResolution-g.sourceResolution);if(g.anchor){var re=this.getViewportSize_(this.getRotation()),Ae=this.constraints_.resolution(oe,0,re,!0);this.targetCenter_=this.calculateCenterZoom(Ae,g.anchor)}this.nextResolution_=g.targetResolution,this.targetResolution_=oe,this.applyTargetState_(!0)}if(g.sourceRotation!==void 0&&g.targetRotation!==void 0){var ae=k===1?t1(g.targetRotation+Math.PI,2*Math.PI)-Math.PI:g.sourceRotation+k*(g.targetRotation-g.sourceRotation);if(g.anchor){var se=this.constraints_.rotation(ae,!0);this.targetCenter_=this.calculateCenterRotate(se,g.anchor)}this.nextRotation_=g.targetRotation,this.targetRotation_=ae}if(this.applyTargetState_(!0),r=!0,!g.complete)break}}if(s){this.animations_[i]=null,this.setHint(el.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var ye=o[0].callback;ye&&kx(ye,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},n.prototype.calculateCenterRotate=function(t,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],JB(i,t-this.getRotation()),_ne(i,r)),i},n.prototype.calculateCenterZoom=function(t,r){var i,o=this.getCenterInternal(),s=this.getResolution();if(o!==void 0&&s!==void 0){var a=r[0]-t*(r[0]-o[0])/s,h=r[1]-t*(r[1]-o[1])/s;i=[a,h]}return i},n.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return r},n.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},n.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&eE(t,this.getProjection())},n.prototype.getCenterInternal=function(){return this.get(nh.CENTER)},n.prototype.getConstraints=function(){return this.constraints_},n.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},n.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},n.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return XR(r,this.getProjection())},n.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();ao(i,1);var o=this.getResolution();ao(o!==void 0,2);var s=this.getRotation();return ao(s!==void 0,3),V6(i,o,s,r)},n.prototype.getMaxResolution=function(){return this.maxResolution_},n.prototype.getMinResolution=function(){return this.minResolution_},n.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},n.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},n.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},n.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},n.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},n.prototype.getProjection=function(){return this.projection_},n.prototype.getResolution=function(){return this.get(nh.RESOLUTION)},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(W0(t,this.getProjection()),r)},n.prototype.getResolutionForExtentInternal=function(t,r){var i=r||this.getViewportSizeMinusPadding_(),o=us(t)/i[0],s=JA(t)/i[1];return Math.max(o,s)},n.prototype.getResolutionForValueFunction=function(t){var r=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/Math.log(r);return function(a){var h=i/Math.pow(r,a*s);return h}},n.prototype.getRotation=function(){return this.get(nh.ROTATION)},n.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/r;return function(a){var h=Math.log(i/a)/r/s;return h}},n.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},n.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding_;if(s){var a=this.getViewportSizeMinusPadding_();o=vM(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],r,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},n.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},n.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,i,o;if(this.resolutions_){var s=$B(this.resolutions_,t,1);r=s,i=this.resolutions_[s],s==this.resolutions_.length-1?o=2:o=i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/t)/Math.log(o)},n.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=kl(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,kl(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},n.prototype.fit=function(t,r){var i;if(ao(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){ao(!ZB(t),25);var o=W0(t,this.getProjection());i=K9(o)}else if(t.getType()==="Circle"){var o=W0(t.getExtent(),this.getProjection());i=K9(o),i.rotate(this.getRotation(),Qm(o))}else{var s=One();s?i=t.clone().transform(s,this.getProjection()):i=t}this.fitInternal(i,r)},n.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),s=t.getFlatCoordinates(),a=t.getStride(),h=1/0,g=1/0,C=-1/0,B=-1/0,k=0,P=s.length;k<P;k+=a){var U=s[k]*i-s[k+1]*o,Z=s[k]*o+s[k+1]*i;h=Math.min(h,U),g=Math.min(g,Z),C=Math.max(C,U),B=Math.max(B,Z)}return[h,g,C,B]},n.prototype.fitInternal=function(t,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var s=i.padding!==void 0?i.padding:[0,0,0,0],a=i.nearest!==void 0?i.nearest:!1,h;i.minResolution!==void 0?h=i.minResolution:i.maxZoom!==void 0?h=this.getResolutionForZoom(i.maxZoom):h=0;var g=this.rotatedExtentForGeometry(t),C=this.getResolutionForExtentInternal(g,[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);C=isNaN(C)?h:Math.max(C,h),C=this.getConstrainedResolution(C,a?0:1);var B=this.getRotation(),k=Math.sin(B),P=Math.cos(B),U=Qm(g);U[0]+=(s[1]-s[3])/2*C,U[1]+=(s[0]-s[2])/2*C;var Z=U[0]*P-U[1]*k,W=U[1]*P+U[0]*k,Q=this.getConstrainedCenter([Z,W],C),q=i.callback?i.callback:h1;i.duration!==void 0?this.animateInternal({resolution:C,center:Q,duration:i.duration,easing:i.easing},q):(this.targetResolution_=C,this.targetCenter_=Q,this.applyTargetState_(!1,!0),kx(q,!0))},n.prototype.centerOn=function(t,r,i){this.centerOnInternal(ap(t,this.getProjection()),r,i)},n.prototype.centerOnInternal=function(t,r,i){this.setCenterInternal(vM(t,r,i,this.getResolution(),this.getRotation()))},n.prototype.calculateCenterShift=function(t,r,i,o){var s,a=this.padding_;if(a&&t){var h=this.getViewportSizeMinusPadding_(-i),g=vM(t,o,[h[0]/2+a[3],h[1]/2+a[0]],r,i);s=[t[0]-g[0],t[1]-g[1]]}return s},n.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},n.prototype.adjustCenter=function(t){var r=eE(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},n.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},n.prototype.adjustResolution=function(t,r){var i=r&&ap(r,this.getProjection());this.adjustResolutionInternal(t,i)},n.prototype.adjustResolutionInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},n.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},n.prototype.adjustRotation=function(t,r){r&&(r=ap(r,this.getProjection())),this.adjustRotationInternal(t,r)},n.prototype.adjustRotationInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=t,this.applyTargetState_()},n.prototype.setCenter=function(t){this.setCenterInternal(t&&ap(t,this.getProjection()))},n.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},n.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},n.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},n.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},n.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},n.prototype.applyTargetState_=function(t,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,i),h=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get(nh.ROTATION)!==o&&this.set(nh.ROTATION,o),this.get(nh.RESOLUTION)!==a&&(this.set(nh.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(nh.CENTER)||!w3(this.get(nh.CENTER),h))&&this.set(nh.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},n.prototype.resolveConstraints=function(t,r,i){var o=t!==void 0?t:200,s=r||0,a=this.constraints_.rotation(this.targetRotation_),h=this.getViewportSize_(a),g=this.constraints_.resolution(this.targetResolution_,s,h),C=this.constraints_.center(this.targetCenter_,g,h,!1,this.calculateCenterShift(this.targetCenter_,g,a,h));if(o===0&&!this.cancelAnchor_){this.targetResolution_=g,this.targetRotation_=a,this.targetCenter_=C,this.applyTargetState_();return}var B=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==g||this.getRotation()!==a||!this.getCenterInternal()||!w3(this.getCenterInternal(),C))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:C,resolution:g,duration:o,easing:Yy,anchor:B}))},n.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(el.INTERACTING,1)},n.prototype.endInteraction=function(t,r,i){var o=i&&ap(i,this.getProjection());this.endInteractionInternal(t,r,o)},n.prototype.endInteractionInternal=function(t,r,i){this.setHint(el.INTERACTING,-1),this.resolveConstraints(t,r,i)},n.prototype.getConstrainedCenter=function(t,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),i)},n.prototype.getConstrainedZoom=function(t,r){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},n.prototype.getConstrainedResolution=function(t,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},n}(fh);function kx(e,n){setTimeout(function(){e(n)},0)}function toe(e){if(e.extent!==void 0){var n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return Q9(e.extent,e.constrainOnlyCenter,n)}var t=n7(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Q9(r,!1,!1)}return Yie}function noe(e){var n,t,r,i=28,o=2,s=e.minZoom!==void 0?e.minZoom:yM,a=e.maxZoom!==void 0?e.maxZoom:i,h=e.zoomFactor!==void 0?e.zoomFactor:o,g=e.multiWorld!==void 0?e.multiWorld:!1,C=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,B=e.showFullExtent!==void 0?e.showFullExtent:!1,k=n7(e.projection,"EPSG:3857"),P=k.getExtent(),U=e.constrainOnlyCenter,Z=e.extent;if(!g&&!Z&&k.isGlobal()&&(U=!1,Z=P),e.resolutions!==void 0){var W=e.resolutions;t=W[s],r=W[a]!==void 0?W[a]:W[W.length-1],e.constrainResolution?n=qie(W,C,!U&&Z,B):n=$9(t,r,C,!U&&Z,B)}else{var Q=P?Math.max(us(P),JA(P)):360*vf[_A.DEGREES]/k.getMetersPerUnit(),q=Q/g7/Math.pow(o,yM),oe=q/Math.pow(o,i-yM);t=e.maxResolution,t!==void 0?s=0:t=q/Math.pow(h,s),r=e.minResolution,r===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?r=t/Math.pow(h,a):r=q/Math.pow(h,a):r=oe),a=s+Math.floor(Math.log(t/r)/Math.log(h)),r=t/Math.pow(h,a-s),e.constrainResolution?n=Vie(h,t,r,C,!U&&Z,B):n=$9(t,r,C,!U&&Z,B)}return{constraint:n,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:h}}function roe(e){var n=e.enableRotation!==void 0?e.enableRotation:!0;if(n){var t=e.constrainRotation;return t===void 0||t===!0?Zie():t===!1?Y9:typeof t=="number"?Hie(t):Y9}else return _7}function ioe(e){return!(e.sourceCenter&&e.targetCenter&&!w3(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function vM(e,n,t,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=e[0]*o-e[1]*s,h=e[1]*o+e[0]*s;a+=(n[0]/2-t[0])*r,h+=(t[1]-n[1]/2)*r,s=-s;var g=a*o-h*s,C=h*o+a*s;return[g,C]}function q9(e){return e[0]>0&&e[1]>0}function ooe(e,n,t){return t===void 0&&(t=[0,0]),t[0]=e[0]*n+.5|0,t[1]=e[1]*n+.5|0,t}function yA(e,n){return Array.isArray(e)?e:(n===void 0?n=[e,e]:(n[0]=e,n[1]=e),n)}var aoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Oz(e){if(e instanceof g5){e.setMapInternal(null);return}e instanceof v5&&e.getLayers().forEach(Oz)}function Bz(e,n){if(e instanceof g5){e.setMapInternal(n);return}if(e instanceof v5)for(var t=e.getLayers().getArray(),r=0,i=t.length;r<i;++r)Bz(t[r],n)}var soe=function(e){aoe(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=loe(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:RR,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=_d(),r.pixelToCoordinateTransform_=_d(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new yd,r.interactions=i.interactions||new yd,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new Qie(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(qu.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(qu.VIEW,r.handleViewChanged_),r.addChangeListener(qu.SIZE,r.handleSizeChanged_),r.addChangeListener(qu.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return t.view&&!(t.view instanceof yp)&&t.view.then(function(s){o.setView(new yp(s))}),r.controls.addEventListener(VA.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.controls.addEventListener(VA.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.interactions.addEventListener(VA.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.interactions.addEventListener(VA.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(VA.ADD,(function(s){this.addOverlayInternal_(s.element)}).bind(r)),r.overlays_.addEventListener(VA.REMOVE,(function(s){var a=s.element,h=a.getId();h!==void 0&&delete this.overlayIdIndex_[h.toString()],s.element.setMap(null)}).bind(r)),r.controls.forEach((function(s){s.setMap(this)}).bind(r)),r.interactions.forEach((function(s){s.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return n.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},n.prototype.addControl=function(t){this.getControls().push(t)},n.prototype.addInteraction=function(t){this.getInteractions().push(t)},n.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},n.prototype.handleLayerAdd_=function(t){Bz(t.layer,this)},n.prototype.addOverlay=function(t){this.getOverlays().push(t)},n.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},n.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},n.prototype.forEachFeatureAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var s=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:sy,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,s,h,r,null,a,null)}},n.prototype.getFeaturesAtPixel=function(t,r){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},r),i},n.prototype.getAllLayers=function(){var t=[];function r(i){i.forEach(function(o){o instanceof v5?r(o.getLayers()):t.push(o)})}return r(this.getLayers()),t},n.prototype.forEachLayerAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},s=o.hitTolerance!==void 0?o.hitTolerance:0,a=o.layerFilter||sy;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,a)}},n.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:sy,s=r.hitTolerance!==void 0?r.hitTolerance:0,a=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,a,o,null)},n.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},n.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},n.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-r.left,i.clientY-r.top]},n.prototype.getTarget=function(){return this.get(qu.TARGET)},n.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},n.prototype.getCoordinateFromPixel=function(t){return eE(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},n.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?Al(r.pixelToCoordinateTransform,t.slice()):null},n.prototype.getControls=function(){return this.controls},n.prototype.getOverlays=function(){return this.overlays_},n.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},n.prototype.getInteractions=function(){return this.interactions},n.prototype.getLayerGroup=function(){return this.get(qu.LAYERGROUP)},n.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof yd){r.setLayers(t);return}var i=r.getLayers();i.clear(),i.extend(t)},n.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},n.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r];if(o.visible){var s=o.layer.getRenderer();if(s&&!s.ready)return!0;var a=o.layer.getSource();if(a&&a.loading)return!0}}return!1},n.prototype.getPixelFromCoordinate=function(t){var r=ap(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},n.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?Al(r.coordinateToPixelTransform,t.slice(0,2)):null},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.getSize=function(){return this.get(qu.SIZE)},n.prototype.getView=function(){return this.get(qu.VIEW)},n.prototype.getViewport=function(){return this.viewport_},n.prototype.getOverlayContainer=function(){return this.overlayContainer_},n.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},n.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},n.prototype.getTilePriority=function(t,r,i,o){return $ie(this.frameState_,t,r,i,o)},n.prototype.handleBrowserEvent=function(t,r){var i=r||t.type,o=new om(i,this,t);this.handleMapBrowserEvent(o)},n.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var r=t.originalEvent,i=r.type;if(i===cE.POINTERDOWN||i===Bi.WHEEL||i===Bi.KEYDOWN){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a=r.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var h=this.getInteractions().getArray().slice(),g=h.length-1;g>=0;g--){var C=h[g];if(!(C.getMap()!==this||!C.getActive()||!this.getTargetElement())){var B=C.handleEvent(t);if(!B||t.propagationStopped)break}}}},n.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var s=t.viewHints;if(s[el.ANIMATING]||s[el.INTERACTING]){var a=Date.now()-t.time>8;i=a?0:8,o=a?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(Um.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Um.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Eg(lp.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Eg(lp.LOADSTART,this,t))));for(var h=this.postRenderFunctions_,g=0,C=h.length;g<C;++g)h[g](this,t);h.length=0},n.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},n.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)Ya(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Bi.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Bi.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,I3(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new zie(this,this.moveTolerance_);for(var o in Js)this.mapBrowserEventHandler_.addEventListener(Js[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Bi.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Bi.WHEEL,this.boundHandleBrowserEvent_,zR?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,a=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[bo(a,Bi.KEYDOWN,this.handleBrowserEvent,this),bo(a,Bi.KEYPRESS,this.handleBrowserEvent,this),bo(s,Bi.RESIZE,this.updateSize,this)]}this.updateSize()},n.prototype.handleTileChange_=function(){this.render()},n.prototype.handleViewPropertyChanged_=function(){this.render()},n.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Ya(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ya(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=bo(t,By.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=bo(t,Bi.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},n.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ya),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new lm("addlayer",t)),this.layerGroupPropertyListenerKeys_=[bo(t,By.PROPERTYCHANGE,this.render,this),bo(t,Bi.CHANGE,this.render,this),bo(t,"addlayer",this.handleLayerAdd_,this),bo(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},n.prototype.isRendered=function(){return!!this.frameState_},n.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},n.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},n.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},n.prototype.removeControl=function(t){return this.getControls().remove(t)},n.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},n.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},n.prototype.handleLayerRemove_=function(t){Oz(t.layer)},n.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},n.prototype.renderFrame_=function(t){var r=this,i=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(i!==void 0&&q9(i)&&o&&o.isDef()){var h=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),g=o.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:V6(g.center,g.resolution,g.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:g,viewHints:h,wantedTiles:{},mapId:Ni(this),renderTargets:{}},g.nextCenter&&g.nextResolution){var C=isNaN(g.nextRotation)?g.rotation:g.nextRotation;a.nextExtent=V6(g.nextCenter,g.nextResolution,C,i)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s){var B=!this.previousExtent_||!ZB(this.previousExtent_)&&!ky(a.extent,this.previousExtent_);B&&(this.dispatchEvent(new Eg(lp.MOVESTART,this,s)),this.previousExtent_=qC(this.previousExtent_))}var k=this.previousExtent_&&!a.viewHints[el.ANIMATING]&&!a.viewHints[el.INTERACTING]&&!ky(a.extent,this.previousExtent_);k&&(this.dispatchEvent(new Eg(lp.MOVEEND,this,a)),NR(a.extent,this.previousExtent_))}this.dispatchEvent(new Eg(lp.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(lp.LOADSTART)||this.hasListener(lp.LOADEND)||this.hasListener(Um.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},n.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new lm("removelayer",r)),this.set(qu.LAYERGROUP,t)},n.prototype.setSize=function(t){this.set(qu.SIZE,t)},n.prototype.setTarget=function(t){this.set(qu.TARGET,t)},n.prototype.setView=function(t){if(!t||t instanceof yp){this.set(qu.VIEW,t);return}this.set(qu.VIEW,new yp);var r=this;t.then(function(i){r.setView(new yp(i))})},n.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(r=[o,s],!q9(r)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},n.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(r)}},n}(fh);function loe(e){var n=null;e.keyboardEventTarget!==void 0&&(n=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var t={},r=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new v5({layers:e.layers});t[qu.LAYERGROUP]=r,t[qu.TARGET]=e.target,t[qu.VIEW]=e.view instanceof yp?e.view:new yp;var i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new yd(e.controls.slice()):(ao(typeof e.controls.getArray=="function",47),i=e.controls));var o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new yd(e.interactions.slice()):(ao(typeof e.interactions.getArray=="function",48),o=e.interactions));var s;return e.overlays!==void 0?Array.isArray(e.overlays)?s=new yd(e.overlays.slice()):(ao(typeof e.overlays.getArray=="function",49),s=e.overlays):s=new yd,{controls:i,interactions:o,keyboardEventTarget:n,overlays:s,values:t}}const uoe=soe;var Aoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),coe=function(e){Aoe(n,e);function n(t){var r=e.call(this)||this,i=t.element;return i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return n.prototype.disposeInternal=function(){I3(this.element),e.prototype.disposeInternal.call(this)},n.prototype.getMap=function(){return this.map_},n.prototype.setMap=function(t){this.map_&&I3(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)Ya(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==h1&&this.listenerKeys.push(bo(t,lp.POSTRENDER,this.render,this)),t.render()}},n.prototype.render=function(t){},n.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},n}(fh);const C7=coe;var doe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hoe=function(e){doe(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",s=i.tipLabel!==void 0?i.tipLabel:"Attributions",a=i.expandClassName!==void 0?i.expandClassName:o+"-expand",h=i.collapseLabel!==void 0?i.collapseLabel:"",g=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof h=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=h,r.collapseLabel_.className=g):r.collapseLabel_=h;var C=i.label!==void 0?i.label:"i";typeof C=="string"?(r.label_=document.createElement("span"),r.label_.textContent=C,r.label_.className=a):r.label_=C;var B=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(B),r.toggleButton_.addEventListener(Bi.CLICK,r.handleClick_.bind(r),!1);var k=o+" "+y5+" "+p7+(r.collapsed_&&r.collapsible_?" "+z9:"")+(r.collapsible_?"":" ol-uncollapsible"),P=r.element;return P.className=k,P.appendChild(r.toggleButton_),P.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return n.prototype.collectSourceAttributions_=function(t){for(var r={},i=[],o=!0,s=t.layerStatesArray,a=0,h=s.length;a<h;++a){var g=s[a];if(k3(g,t.viewState)){var C=g.layer.getSource();if(C){var B=C.getAttributions();if(B){var k=B(t);if(k)if(o=o&&C.getAttributionsCollapsible()!==!1,Array.isArray(k))for(var P=0,U=k.length;P<U;++P)k[P]in r||(i.push(k[P]),r[k[P]]=!0);else k in r||(i.push(k),r[k]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},n.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!b1(r,this.renderedAttributions_)){Cz(this.ulElement_);for(var o=0,s=r.length;o<s;++o){var a=document.createElement("li");a.innerHTML=r[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=r}},n.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},n.prototype.handleToggle_=function(){this.element.classList.toggle(z9),this.collapsed_?W9(this.collapseLabel_,this.label_):W9(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},n.prototype.getCollapsible=function(){return this.collapsible_},n.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},n.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},n.prototype.getCollapsed=function(){return this.collapsed_},n.prototype.render=function(t){this.updateElement_(t.frameState)},n}(C7);const foe=hoe;var poe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),moe=function(e){poe(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",s=i.label!==void 0?i.label:"",a=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(a));var h=i.tipLabel?i.tipLabel:"Reset rotation",g=document.createElement("button");g.className=o+"-reset",g.setAttribute("type","button"),g.title=h,g.appendChild(r.label_),g.addEventListener(Bi.CLICK,r.handleClick_.bind(r),!1);var C=o+" "+y5+" "+p7,B=r.element;return B.className=C,B.appendChild(g),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(Ox),r}return n.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},n.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:Yy}):r.setRotation(0))}},n.prototype.render=function(t){var r=t.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Ox);!s&&i===0?this.element.classList.add(Ox):s&&i!==0&&this.element.classList.remove(Ox)}this.label_.style.transform=o}this.rotation_=i}},n}(C7);const goe=moe;var yoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),voe=function(e){yoe(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",s=i.delta!==void 0?i.delta:1,a=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",h=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",g=i.zoomInLabel!==void 0?i.zoomInLabel:"+",C=i.zoomOutLabel!==void 0?i.zoomOutLabel:"",B=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",k=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",P=document.createElement("button");P.className=a,P.setAttribute("type","button"),P.title=B,P.appendChild(typeof g=="string"?document.createTextNode(g):g),P.addEventListener(Bi.CLICK,r.handleClick_.bind(r,s),!1);var U=document.createElement("button");U.className=h,U.setAttribute("type","button"),U.title=k,U.appendChild(typeof C=="string"?document.createTextNode(C):C),U.addEventListener(Bi.CLICK,r.handleClick_.bind(r,-s),!1);var Z=o+" "+y5+" "+p7,W=r.element;return W.className=Z,W.appendChild(P),W.appendChild(U),r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},n.prototype.zoomByDelta_=function(t){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var s=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Yy})):i.setZoom(s)}}},n}(C7);const _oe=voe;var Coe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yu={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},boe=function(e){Coe(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un,r.options=t,r.id=t.id,r.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,r.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,r.element=document.createElement("div"),r.element.className=t.className!==void 0?t.className:"ol-overlay-container "+bie,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(Yu.ELEMENT,r.handleElementChanged),r.addChangeListener(Yu.MAP,r.handleMapChanged),r.addChangeListener(Yu.OFFSET,r.handleOffsetChanged),r.addChangeListener(Yu.POSITION,r.handlePositionChanged),r.addChangeListener(Yu.POSITIONING,r.handlePositioningChanged),t.element!==void 0&&r.setElement(t.element),r.setOffset(t.offset!==void 0?t.offset:[0,0]),r.setPositioning(t.positioning||"top-left"),t.position!==void 0&&r.setPosition(t.position),r}return n.prototype.getElement=function(){return this.get(Yu.ELEMENT)},n.prototype.getId=function(){return this.id},n.prototype.getMap=function(){return this.get(Yu.MAP)||null},n.prototype.getOffset=function(){return this.get(Yu.OFFSET)},n.prototype.getPosition=function(){return this.get(Yu.POSITION)},n.prototype.getPositioning=function(){return this.get(Yu.POSITIONING)},n.prototype.handleElementChanged=function(){Cz(this.element);var t=this.getElement();t&&this.element.appendChild(t)},n.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(I3(this.element),Ya(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=bo(t,lp.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},n.prototype.render=function(){this.updatePixelPosition()},n.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},n.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},n.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},n.prototype.setElement=function(t){this.set(Yu.ELEMENT,t)},n.prototype.setMap=function(t){this.set(Yu.MAP,t)},n.prototype.setOffset=function(t){this.set(Yu.OFFSET,t)},n.prototype.setPosition=function(t){this.set(Yu.POSITION,t)},n.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},n.prototype.panIntoView=function(t){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get(Yu.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),s=this.getRect(o,[wie(o),Mie(o)]),a=t||{},h=a.margin===void 0?20:a.margin;if(!_m(i,s)){var g=s[0]-i[0],C=i[2]-s[2],B=s[1]-i[1],k=i[3]-s[3],P=[0,0];if(g<0?P[0]=g-h:C<0&&(P[0]=Math.abs(C)+h),B<0?P[1]=B-h:k<0&&(P[1]=Math.abs(k)+h),P[0]!==0||P[1]!==0){var U=r.getView().getCenterInternal(),Z=r.getPixelFromCoordinateInternal(U);if(!Z)return;var W=[Z[0]+P[0],Z[1]+P[1]],Q=a.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(W),duration:Q.duration,easing:Q.easing})}}}},n.prototype.getRect=function(t,r){var i=t.getBoundingClientRect(),o=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[o,s,o+r[0],s+r[1]]},n.prototype.setPositioning=function(t){this.set(Yu.POSITIONING,t)},n.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},n.prototype.updatePixelPosition=function(){var t=this.getMap(),r=this.getPosition();if(!t||!t.isRendered()||!r){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(r),o=t.getSize();this.updateRenderedPosition(i,o)},n.prototype.updateRenderedPosition=function(t,r){var i=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var a=Math.round(t[0]+o[0])+"px",h=Math.round(t[1]+o[1])+"px",g="0%",C="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?g="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(g="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?C="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(C="-50%");var B="translate(".concat(g,", ").concat(C,") translate(").concat(a,", ").concat(h,")");this.rendered.transform_!=B&&(this.rendered.transform_=B,i.transform=B,i.msTransform=B)},n.prototype.getOptions=function(){return this.options},n}(fh);function xoe(e){var n=e||{},t=new yd,r=n.zoom!==void 0?n.zoom:!0;r&&t.push(new _oe(n.zoomOptions));var i=n.rotate!==void 0?n.rotate:!0;i&&t.push(new goe(n.rotateOptions));var o=n.attribution!==void 0?n.attribution:!0;return o&&t.push(new foe(n.attributionOptions)),t}const V9={ACTIVE:"active"};var woe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Moe=function(e){woe(n,e);function n(t){var r=e.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return n.prototype.getActive=function(){return this.get(V9.ACTIVE)},n.prototype.getMap=function(){return this.map_},n.prototype.handleEvent=function(t){return!0},n.prototype.setActive=function(t){this.set(V9.ACTIVE,t)},n.prototype.setMap=function(t){this.map_=t},n}(fh);function Soe(e,n,t){var r=e.getCenterInternal();if(r){var i=[r[0]+n[0],r[1]+n[1]];e.animateInternal({duration:t!==void 0?t:250,easing:Jie,center:e.getConstrainedCenter(i)})}}function b7(e,n,t,r){var i=e.getZoom();if(i!==void 0){var o=e.getConstrainedZoom(i+n),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:Yy})}}const HC=Moe;var Eoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ooe=function(e){Eoe(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleEvent=function(t){var r=!1;if(t.type==Js.DBLCLICK){var i=t.originalEvent,o=t.map,s=t.coordinate,a=i.shiftKey?-this.delta_:this.delta_,h=o.getView();b7(h,a,s,this.duration_),i.preventDefault(),r=!0}return!r},n}(HC);const Boe=Ooe;var koe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ioe=function(e){koe(n,e);function n(t){var r=this,i=t||{};return r=e.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return n.prototype.getPointerCount=function(){return this.targetPointers.length},n.prototype.handleDownEvent=function(t){return!1},n.prototype.handleDragEvent=function(t){},n.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Js.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Js.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Js.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,r=this.stopDown(o)}else t.type==Js.POINTERMOVE&&this.handleMoveEvent(t);return!r},n.prototype.handleMoveEvent=function(t){},n.prototype.handleUpEvent=function(t){return!1},n.prototype.stopDown=function(t){return t},n.prototype.updateTrackedPointers_=function(t){t.activePointers&&(this.targetPointers=t.activePointers)},n}(HC);function x7(e){for(var n=e.length,t=0,r=0,i=0;i<n;i++)t+=e[i].clientX,r+=e[i].clientY;return[t/n,r/n]}const ZC=Ioe;function dE(e){var n=arguments;return function(t){for(var r=!0,i=0,o=n.length;i<o&&(r=r&&n[i](t),!!r);++i);return r}}var Toe=function(e){var n=e.originalEvent;return n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey},Koe=function(e){var n=e.map.getTargetElement(),t=e.map.getOwnerDocument().activeElement;return n.contains(t)},kz=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?Koe(e):!0},Poe=sy,Iz=function(e){var n=e.originalEvent;return n.button==0&&!(Gte&&Qte&&n.ctrlKey)},Tz=function(e){var n=e.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&!n.shiftKey},Foe=function(e){var n=e.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey},Kz=function(e){var n=e.originalEvent,t=n.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!n.target.isContentEditable},_M=function(e){var n=e.originalEvent;return ao(n!==void 0,56),n.pointerType=="mouse"},Doe=function(e){var n=e.originalEvent;return ao(n!==void 0,56),n.isPrimary&&n.button===0},Loe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uoe=function(e){Loe(n,e);function n(t){var r=e.call(this,{stopDown:s5})||this,i=t||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:dE(Tz,Doe);return r.condition_=i.onFocusOnly?dE(kz,o):o,r.noKinetic_=!1,r}return n.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=x7(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=t.map,a=s.getView();Cne(o,a.getResolution()),JB(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},n.prototype.handleUpEvent=function(t){var r=t.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),h=r.getPixelFromCoordinateInternal(a),g=r.getCoordinateFromPixelInternal([h[0]-o*Math.cos(s),h[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(g),duration:500,easing:Yy})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},n.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},n}(ZC);const Roe=Uoe;var zoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),joe=function(e){zoe(n,e);function n(t){var r=this,i=t||{};return r=e.call(this,{stopDown:s5})||this,r.condition_=i.condition?i.condition:Toe,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleDragEvent=function(t){if(_M(t)){var r=t.map,i=r.getView();if(i.getConstraints().rotation!==_7){var o=r.getSize(),s=t.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);if(this.lastAngle_!==void 0){var h=a-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=a}}},n.prototype.handleUpEvent=function(t){if(!_M(t))return!0;var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1},n.prototype.handleDownEvent=function(t){if(!_M(t))return!1;if(Iz(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},n}(ZC),Woe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Noe=function(e){Woe(n,e);function n(t){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return n.prototype.disposeInternal=function(){this.setMap(null)},n.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],r[0])+i,o.top=Math.min(t[1],r[1])+i,o.width=Math.abs(r[0]-t[0])+i,o.height=Math.abs(r[1]-t[1])+i},n.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},n.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},n.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,i=[t,[t[0],r[1]],r,[r[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new dC([o])},n.prototype.getGeometry=function(){return this.geometry_},n}(QB);const Goe=Noe;var Pz=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ix={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},CM=function(e){Pz(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return n}(kp),Qoe=function(e){Pz(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=t||{};return r.box_=new Goe(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:Iz,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return n.prototype.defaultBoxEndCondition=function(t,r,i){var o=i[0]-r[0],s=i[1]-r[1];return o*o+s*s>=this.minArea_},n.prototype.getGeometry=function(){return this.box_.getGeometry()},n.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new CM(Ix.BOXDRAG,t.coordinate,t))},n.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new CM(r?Ix.BOXEND:Ix.BOXCANCEL,t.coordinate,t)),!1},n.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new CM(Ix.BOXSTART,t.coordinate,t)),!0):!1},n.prototype.onBoxEnd=function(t){},n}(ZC);const $oe=Qoe;var Yoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qoe=function(e){Yoe(n,e);function n(t){var r=this,i=t||{},o=i.condition?i.condition:Foe;return r=e.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return n.prototype.onBoxEnd=function(t){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var s=i.rotatedExtentForGeometry(o),a=i.getResolutionForExtentInternal(s),h=i.getResolution()/a;o=o.clone(),o.scale(h*h)}i.fitInternal(o,{duration:this.duration_,easing:Yy})},n}($oe);const Voe=qoe,v0={LEFT:37,UP:38,RIGHT:39,DOWN:40};var Hoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zoe=function(e){Hoe(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.defaultCondition_=function(o){return Tz(o)&&Kz(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return n.prototype.handleEvent=function(t){var r=!1;if(t.type==Bi.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==v0.DOWN||o==v0.LEFT||o==v0.RIGHT||o==v0.UP)){var s=t.map,a=s.getView(),h=a.getResolution()*this.pixelDelta_,g=0,C=0;o==v0.DOWN?C=-h:o==v0.LEFT?g=-h:o==v0.RIGHT?g=h:C=h;var B=[g,C];JB(B,a.getRotation()),Soe(a,B,this.duration_),i.preventDefault(),r=!0}}return!r},n}(HC),Xoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Joe=function(e){Xoe(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.condition_=i.condition?i.condition:Kz,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return n.prototype.handleEvent=function(t){var r=!1;if(t.type==Bi.KEYDOWN||t.type==Bi.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o==43||o==45)){var s=t.map,a=o==43?this.delta_:-this.delta_,h=s.getView();b7(h,a,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},n}(HC);const eae=Joe;var tae=function(){function e(n,t,r){this.decay_=n,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(n,t){this.points_.push(n,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var n=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<n)return!1;for(var r=t-3;r>0&&this.points_[r+2]>n;)r-=3;var i=this.points_[t+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),nae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bM={TRACKPAD:"trackpad",WHEEL:"wheel"},rae=function(e){nae(n,e);function n(t){var r=this,i=t||{};r=e.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:Poe;return r.condition_=i.onFocusOnly?dE(kz,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return n.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();if(t){var r=t.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},n.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==Bi.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Bi.WHEEL&&(s=o.deltaY,Wte&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=RR),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?bM.TRACKPAD:bM.WHEEL);var h=i.getView();if(this.mode_===bM.TRACKPAD&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var g=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),g),!1},n.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var i=-kl(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),b7(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},n.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},n}(HC);const iae=rae;var oae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aae=function(e){oae(n,e);function n(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=s5),r=e.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleDragEvent=function(t){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=a}this.lastAngle_=s;var h=t.map,g=h.getView();if(g.getConstraints().rotation!==_7){var C=h.getViewport().getBoundingClientRect(),B=x7(this.targetPointers);B[0]-=C.left,B[1]-=C.top,this.anchor_=h.getCoordinateFromPixelInternal(B),this.rotating_&&(h.render(),g.adjustRotationInternal(r,this.anchor_))}},n.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},n.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},n}(ZC),sae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lae=function(e){sae(n,e);function n(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=s5),r=e.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return n.prototype.handleDragEvent=function(t){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,a=i.clientY-o.clientY,h=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(r=this.lastDistance_/h),this.lastDistance_=h;var g=t.map,C=g.getView();r!=1&&(this.lastScaleDelta_=r);var B=g.getViewport().getBoundingClientRect(),k=x7(this.targetPointers);k[0]-=B.left,k[1]-=B.top,this.anchor_=g.getCoordinateFromPixelInternal(k),g.render(),C.adjustResolutionInternal(r,this.anchor_)},n.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},n.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},n}(ZC);const uae=lae;function Aae(e,n,t,r,i){Fz(e,n,t||0,r||e.length-1,i||cae)}function Fz(e,n,t,r,i){for(;r>t;){if(r-t>600){var o=r-t+1,s=n-t+1,a=Math.log(o),h=.5*Math.exp(2*a/3),g=.5*Math.sqrt(a*h*(o-h)/o)*(s-o/2<0?-1:1),C=Math.max(t,Math.floor(n-s*h/o+g)),B=Math.min(r,Math.floor(n+(o-s)*h/o+g));Fz(e,n,C,B,i)}var k=e[n],P=t,U=r;for(Wv(e,t,n),i(e[r],k)>0&&Wv(e,t,r);P<U;){for(Wv(e,P,U),P++,U--;i(e[P],k)<0;)P++;for(;i(e[U],k)>0;)U--}i(e[t],k)===0?Wv(e,t,U):(U++,Wv(e,U,r)),U<=n&&(t=U+1),n<=U&&(r=U-1)}}function Wv(e,n,t){var r=e[n];e[n]=e[t],e[t]=r}function cae(e,n){return e<n?-1:e>n?1:0}let Dz=class{constructor(n=9){this._maxEntries=Math.max(4,n),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(n){let t=this.data;const r=[];if(!Kx(n,t))return r;const i=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){const a=t.children[s],h=t.leaf?i(a):a;Kx(n,h)&&(t.leaf?r.push(a):wM(n,h)?this._all(a,r):o.push(a))}t=o.pop()}return r}collides(n){let t=this.data;if(!Kx(n,t))return!1;const r=[];for(;t;){for(let i=0;i<t.children.length;i++){const o=t.children[i],s=t.leaf?this.toBBox(o):o;if(Kx(n,s)){if(t.leaf||wM(n,s))return!0;r.push(o)}}t=r.pop()}return!1}load(n){if(!(n&&n.length))return this;if(n.length<this._minEntries){for(let r=0;r<n.length;r++)this.insert(n[r]);return this}let t=this._build(n.slice(),0,n.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(n){return n&&this._insert(n,this.data.height-1),this}clear(){return this.data=Og([]),this}remove(n,t){if(!n)return this;let r=this.data;const i=this.toBBox(n),o=[],s=[];let a,h,g;for(;r||o.length;){if(r||(r=o.pop(),h=o[o.length-1],a=s.pop(),g=!0),r.leaf){const C=dae(n,r.children,t);if(C!==-1)return r.children.splice(C,1),o.push(r),this._condense(o),this}!g&&!r.leaf&&wM(r,i)?(o.push(r),s.push(a),a=0,h=r,r=r.children[0]):h?(a++,r=h.children[a],g=!1):r=null}return this}toBBox(n){return n}compareMinX(n,t){return n.minX-t.minX}compareMinY(n,t){return n.minY-t.minY}toJSON(){return this.data}fromJSON(n){return this.data=n,this}_all(n,t){const r=[];for(;n;)n.leaf?t.push(...n.children):r.push(...n.children),n=r.pop();return t}_build(n,t,r,i){const o=r-t+1;let s=this._maxEntries,a;if(o<=s)return a=Og(n.slice(t,r+1)),dg(a,this.toBBox),a;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),a=Og([]),a.leaf=!1,a.height=i;const h=Math.ceil(o/s),g=h*Math.ceil(Math.sqrt(s));H9(n,t,r,g,this.compareMinX);for(let C=t;C<=r;C+=g){const B=Math.min(C+g-1,r);H9(n,C,B,h,this.compareMinY);for(let k=C;k<=B;k+=h){const P=Math.min(k+h-1,B);a.children.push(this._build(n,k,P,i-1))}}return dg(a,this.toBBox),a}_chooseSubtree(n,t,r,i){for(;i.push(t),!(t.leaf||i.length-1===r);){let o=1/0,s=1/0,a;for(let h=0;h<t.children.length;h++){const g=t.children[h],C=xM(g),B=pae(n,g)-C;B<s?(s=B,o=C<o?C:o,a=g):B===s&&C<o&&(o=C,a=g)}t=a||t.children[0]}return t}_insert(n,t,r){const i=r?n:this.toBBox(n),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(n),l_(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(n,t){const r=n[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const s=this._chooseSplitIndex(r,o,i),a=Og(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,dg(r,this.toBBox),dg(a,this.toBBox),t?n[t-1].children.push(a):this._splitRoot(r,a)}_splitRoot(n,t){this.data=Og([n,t]),this.data.height=n.height+1,this.data.leaf=!1,dg(this.data,this.toBBox)}_chooseSplitIndex(n,t,r){let i,o=1/0,s=1/0;for(let a=t;a<=r-t;a++){const h=s_(n,0,a,this.toBBox),g=s_(n,a,r,this.toBBox),C=mae(h,g),B=xM(h)+xM(g);C<o?(o=C,i=a,s=B<s?B:s):C===o&&B<s&&(s=B,i=a)}return i||r-t}_chooseSplitAxis(n,t,r){const i=n.leaf?this.compareMinX:hae,o=n.leaf?this.compareMinY:fae,s=this._allDistMargin(n,t,r,i),a=this._allDistMargin(n,t,r,o);s<a&&n.children.sort(i)}_allDistMargin(n,t,r,i){n.children.sort(i);const o=this.toBBox,s=s_(n,0,t,o),a=s_(n,r-t,r,o);let h=Tx(s)+Tx(a);for(let g=t;g<r-t;g++){const C=n.children[g];l_(s,n.leaf?o(C):C),h+=Tx(s)}for(let g=r-t-1;g>=t;g--){const C=n.children[g];l_(a,n.leaf?o(C):C),h+=Tx(a)}return h}_adjustParentBBoxes(n,t,r){for(let i=r;i>=0;i--)l_(t[i],n)}_condense(n){for(let t=n.length-1,r;t>=0;t--)n[t].children.length===0?t>0?(r=n[t-1].children,r.splice(r.indexOf(n[t]),1)):this.clear():dg(n[t],this.toBBox)}};function dae(e,n,t){if(!t)return n.indexOf(e);for(let r=0;r<n.length;r++)if(t(e,n[r]))return r;return-1}function dg(e,n){s_(e,0,e.children.length,n,e)}function s_(e,n,t,r,i){i||(i=Og(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=n;o<t;o++){const s=e.children[o];l_(i,e.leaf?r(s):s)}return i}function l_(e,n){return e.minX=Math.min(e.minX,n.minX),e.minY=Math.min(e.minY,n.minY),e.maxX=Math.max(e.maxX,n.maxX),e.maxY=Math.max(e.maxY,n.maxY),e}function hae(e,n){return e.minX-n.minX}function fae(e,n){return e.minY-n.minY}function xM(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Tx(e){return e.maxX-e.minX+(e.maxY-e.minY)}function pae(e,n){return(Math.max(n.maxX,e.maxX)-Math.min(n.minX,e.minX))*(Math.max(n.maxY,e.maxY)-Math.min(n.minY,e.minY))}function mae(e,n){const t=Math.max(e.minX,n.minX),r=Math.max(e.minY,n.minY),i=Math.min(e.maxX,n.maxX),o=Math.min(e.maxY,n.maxY);return Math.max(0,i-t)*Math.max(0,o-r)}function wM(e,n){return e.minX<=n.minX&&e.minY<=n.minY&&n.maxX<=e.maxX&&n.maxY<=e.maxY}function Kx(e,n){return n.minX<=e.maxX&&n.minY<=e.maxY&&n.maxX>=e.minX&&n.maxY>=e.minY}function Og(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function H9(e,n,t,r,i){const o=[n,t];for(;o.length;){if(t=o.pop(),n=o.pop(),t-n<=r)continue;const s=n+Math.ceil((t-n)/r/2)*r;Aae(e,s,n,t,i),o.push(n,s,s,t)}}const $a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var gae=function(){function e(n){this.opacity_=n.opacity,this.rotateWithView_=n.rotateWithView,this.rotation_=n.rotation,this.scale_=n.scale,this.scaleArray_=yA(n.scale),this.displacement_=n.displacement,this.declutterMode_=n.declutterMode}return e.prototype.clone=function(){var n=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(n)?n.slice():n,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getDeclutterMode=function(){return this.declutterMode_},e.prototype.getAnchor=function(){return si()},e.prototype.getImage=function(n){return si()},e.prototype.getHitDetectionImage=function(){return si()},e.prototype.getPixelRatio=function(n){return 1},e.prototype.getImageState=function(){return si()},e.prototype.getImageSize=function(){return si()},e.prototype.getOrigin=function(){return si()},e.prototype.getSize=function(){return si()},e.prototype.setDisplacement=function(n){this.displacement_=n},e.prototype.setOpacity=function(n){this.opacity_=n},e.prototype.setRotateWithView=function(n){this.rotateWithView_=n},e.prototype.setRotation=function(n){this.rotation_=n},e.prototype.setScale=function(n){this.scale_=n,this.scaleArray_=yA(n)},e.prototype.listenImageChange=function(n){si()},e.prototype.load=function(){si()},e.prototype.unlistenImageChange=function(n){si()},e}();const Lz=gae;function cf(e){return Array.isArray(e)?gz(e):e}var yae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vae=function(e){yae(n,e);function n(t){var r=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=e.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return n.prototype.clone=function(){var t=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},n.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},n.prototype.getAngle=function(){return this.angle_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(t){this.fill_=t,this.render()},n.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},n.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var i=this.renderOptions_,o=ec(i.size*t,i.size*t);this.draw_(i,o,t),r=o.canvas,this.canvas_[t]=r}return r},n.prototype.getPixelRatio=function(t){return t},n.prototype.getImageSize=function(){return this.size_},n.prototype.getImageState=function(){return $a.LOADED},n.prototype.getOrigin=function(){return this.origin_},n.prototype.getPoints=function(){return this.points_},n.prototype.getRadius=function(){return this.radius_},n.prototype.getRadius2=function(){return this.radius2_},n.prototype.getSize=function(){return this.size_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(t){this.stroke_=t,this.render()},n.prototype.listenImageChange=function(t){},n.prototype.load=function(){},n.prototype.unlistenImageChange=function(t){},n.prototype.calculateLineJoinSize_=function(t,r,i){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var o=this.radius_,s=this.radius2_===void 0?o:this.radius2_;if(o<s){var a=o;o=s,s=a}var h=this.radius2_===void 0?this.points_:this.points_*2,g=2*Math.PI/h,C=s*Math.sin(g),B=Math.sqrt(s*s-C*C),k=o-B,P=Math.sqrt(C*C+k*k),U=P/C;if(t==="miter"&&U<=i)return U*r;var Z=r/2/U,W=r/2*(k/P),Q=Math.sqrt((o+Z)*(o+Z)+W*W),q=Q-o;if(this.radius2_===void 0||t==="bevel")return q*2;var oe=o*Math.sin(g),re=Math.sqrt(o*o-oe*oe),Ae=s-re,ae=Math.sqrt(oe*oe+Ae*Ae),se=ae/oe;if(se<=i){var ye=se*r/2-s-o;return 2*Math.max(q,ye)}return q*2},n.prototype.createRenderOptions=function(){var t=Iy,r=0,i=null,o=0,s,a=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=gC),s=cf(s),a=this.stroke_.getWidth(),a===void 0&&(a=vC),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Iy),r=this.stroke_.getMiterLimit(),r===void 0&&(r=mC));var h=this.calculateLineJoinSize_(t,a,r),g=Math.max(this.radius_,this.radius2_||0),C=Math.ceil(2*g+h);return{strokeStyle:s,strokeWidth:a,size:C,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:r}},n.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},n.prototype.draw_=function(t,r,i){if(r.scale(i,i),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=Mp),r.fillStyle=cf(o),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},n.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=O3(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=ec(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},n.prototype.createPath_=function(t){var r=this.points_,i=this.radius_;if(r===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,a=2*Math.PI/r,h=0;h<r;h++){var g=s+h*a,C=h%2===0?i:o;t.lineTo(C*Math.cos(g),C*Math.sin(g))}t.closePath()}},n.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=Mp,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},n}(Lz);const _ae=vae;var Cae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uz=function(e){Cae(n,e);function n(t){var r=t||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return n.prototype.clone=function(){var t=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},n.prototype.setRadius=function(t){this.radius_=t,this.render()},n}(_ae),Wg=function(){function e(n){var t=n||{};this.color_=t.color!==void 0?t.color:null}return e.prototype.clone=function(){var n=this.getColor();return new e({color:Array.isArray(n)?n.slice():n||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(n){this.color_=n},e}(),u_=function(){function e(n){var t=n||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var n=this.getColor();return new e({color:Array.isArray(n)?n.slice():n||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(n){this.color_=n},e.prototype.setLineCap=function(n){this.lineCap_=n},e.prototype.setLineDash=function(n){this.lineDash_=n},e.prototype.setLineDashOffset=function(n){this.lineDashOffset_=n},e.prototype.setLineJoin=function(n){this.lineJoin_=n},e.prototype.setMiterLimit=function(n){this.miterLimit_=n},e.prototype.setWidth=function(n){this.width_=n},e}(),O0=function(){function e(n){var t=n||{};this.geometry_=null,this.geometryFunction_=Z9,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var n=this.getGeometry();return n&&typeof n=="object"&&(n=n.clone()),new e({geometry:n,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(n){this.renderer_=n},e.prototype.setHitDetectionRenderer=function(n){this.hitDetectionRenderer_=n},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(n){this.fill_=n},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(n){this.image_=n},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(n){this.stroke_=n},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(n){this.text_=n},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(n){typeof n=="function"?this.geometryFunction_=n:typeof n=="string"?this.geometryFunction_=function(t){return t.get(n)}:n?n!==void 0&&(this.geometryFunction_=function(){return n}):this.geometryFunction_=Z9,this.geometry_=n},e.prototype.setZIndex=function(n){this.zIndex_=n},e}();function bae(e){var n;if(typeof e=="function")n=e;else{var t;if(Array.isArray(e))t=e;else{ao(typeof e.getZIndex=="function",41);var r=e;t=[r]}n=function(){return t}}return n}var MM=null;function xae(e,n){if(!MM){var t=new Wg({color:"rgba(255,255,255,0.4)"}),r=new u_({color:"#3399CC",width:1.25});MM=[new O0({image:new Uz({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return MM}function Z9(e){return e.getGeometry()}var wae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X9={RENDER_ORDER:"renderOrder"},Mae=function(e){wae(n,e);function n(t){var r=this,i=t||{},o=hl({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=e.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return n.prototype.getDeclutter=function(){return this.declutter_},n.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},n.prototype.getRenderBuffer=function(){return this.renderBuffer_},n.prototype.getRenderOrder=function(){return this.get(X9.RENDER_ORDER)},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},n.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},n.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Dz(9)),this.getRenderer().renderDeclutter(t)},n.prototype.setRenderOrder=function(t){this.set(X9.RENDER_ORDER,t)},n.prototype.setStyle=function(t){this.style_=t!==void 0?t:xae,this.styleFunction_=t===null?void 0:bae(this.style_),this.changed()},n}(g5);const Rz=Mae;var ni={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Px=[ni.FILL],bm=[ni.STROKE],Q0=[ni.BEGIN_PATH],J9=[ni.CLOSE_PATH],Sae=function(){function e(){}return e.prototype.drawCustom=function(n,t,r,i){},e.prototype.drawGeometry=function(n){},e.prototype.setStyle=function(n){},e.prototype.drawCircle=function(n,t){},e.prototype.drawFeature=function(n,t){},e.prototype.drawGeometryCollection=function(n,t){},e.prototype.drawLineString=function(n,t){},e.prototype.drawMultiLineString=function(n,t){},e.prototype.drawMultiPoint=function(n,t){},e.prototype.drawMultiPolygon=function(n,t){},e.prototype.drawPoint=function(n,t){},e.prototype.drawPolygon=function(n,t){},e.prototype.drawText=function(n,t){},e.prototype.setFillStrokeStyle=function(n,t){},e.prototype.setImageStyle=function(n,t){},e.prototype.setTextStyle=function(n,t){},e}();const zz=Sae;var Eae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oae=function(e){Eae(n,e);function n(t,r,i,o){var s=e.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=i,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return n.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(i){return i*r})},n.prototype.appendFlatPointCoordinates=function(t,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,s=this.coordinates,a=s.length,h=0,g=t.length;h<g;h+=r)o[0]=t[h],o[1]=t[h+1],YC(i,o)&&(s[a++]=o[0],s[a++]=o[1]);return a},n.prototype.appendFlatLineCoordinates=function(t,r,i,o,s,a){var h=this.coordinates,g=h.length,C=this.getBufferedMaxExtent();a&&(r+=o);var B=t[r],k=t[r+1],P=this.tmpCoordinate_,U=!0,Z,W,Q;for(Z=r+o;Z<i;Z+=o)P[0]=t[Z],P[1]=t[Z+1],Q=Y6(C,P),Q!==W?(U&&(h[g++]=B,h[g++]=k,U=!1),h[g++]=P[0],h[g++]=P[1]):Q===ou.INTERSECTING?(h[g++]=P[0],h[g++]=P[1],U=!1):U=!0,B=P[0],k=P[1],W=Q;return(s&&U||Z===r+o)&&(h[g++]=B,h[g++]=k),g},n.prototype.drawCustomCoordinates_=function(t,r,i,o,s){for(var a=0,h=i.length;a<h;++a){var g=i[a],C=this.appendFlatLineCoordinates(t,r,g,o,!1,!1);s.push(C),r=g}return r},n.prototype.drawCustom=function(t,r,i,o){this.beginGeometry(t,r);var s=t.getType(),a=t.getStride(),h=this.coordinates.length,g,C,B,k,P;switch(s){case"MultiPolygon":g=t.getOrientedFlatCoordinates(),k=[];var U=t.getEndss();P=0;for(var Z=0,W=U.length;Z<W;++Z){var Q=[];P=this.drawCustomCoordinates_(g,P,U[Z],a,Q),k.push(Q)}this.instructions.push([ni.CUSTOM,h,k,t,i,tE]),this.hitDetectionInstructions.push([ni.CUSTOM,h,k,t,o||i,tE]);break;case"Polygon":case"MultiLineString":B=[],g=s=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),P=this.drawCustomCoordinates_(g,0,t.getEnds(),a,B),this.instructions.push([ni.CUSTOM,h,B,t,i,AC]),this.hitDetectionInstructions.push([ni.CUSTOM,h,B,t,o||i,AC]);break;case"LineString":case"Circle":g=t.getFlatCoordinates(),C=this.appendFlatLineCoordinates(g,0,g.length,a,!1,!1),this.instructions.push([ni.CUSTOM,h,C,t,i,Cm]),this.hitDetectionInstructions.push([ni.CUSTOM,h,C,t,o||i,Cm]);break;case"MultiPoint":g=t.getFlatCoordinates(),C=this.appendFlatPointCoordinates(g,a),C>h&&(this.instructions.push([ni.CUSTOM,h,C,t,i,Cm]),this.hitDetectionInstructions.push([ni.CUSTOM,h,C,t,o||i,Cm]));break;case"Point":g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),C=this.coordinates.length,this.instructions.push([ni.CUSTOM,h,C,t,i]),this.hitDetectionInstructions.push([ni.CUSTOM,h,C,t,o||i]);break}this.endGeometry(r)},n.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[ni.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ni.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},n.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},n.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,i=t.length,o,s,a=-1;for(r=0;r<i;++r)o=t[r],s=o[0],s==ni.END_GEOMETRY?a=r:s==ni.BEGIN_GEOMETRY&&(o[2]=r,Bte(this.hitDetectionInstructions,a,r),a=-1)},n.prototype.setFillStrokeStyle=function(t,r){var i=this.state;if(t){var o=t.getColor();i.fillStyle=cf(o||Mp)}else i.fillStyle=void 0;if(r){var s=r.getColor();i.strokeStyle=cf(s||gC);var a=r.getLineCap();i.lineCap=a!==void 0?a:T3;var h=r.getLineDash();i.lineDash=h?h.slice():fC;var g=r.getLineDashOffset();i.lineDashOffset=g||pC;var C=r.getLineJoin();i.lineJoin=C!==void 0?C:Iy;var B=r.getWidth();i.lineWidth=B!==void 0?B:vC;var k=r.getMiterLimit();i.miterLimit=k!==void 0?k:mC,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},n.prototype.createFill=function(t){var r=t.fillStyle,i=[ni.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},n.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},n.prototype.createStroke=function(t){return[ni.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},n.prototype.updateFillStyle=function(t,r){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=i)},n.prototype.updateStrokeStyle=function(t,r){var i=t.strokeStyle,o=t.lineCap,s=t.lineDash,a=t.lineDashOffset,h=t.lineJoin,g=t.lineWidth,C=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||s!=t.currentLineDash&&!b1(t.currentLineDash,s)||t.currentLineDashOffset!=a||t.currentLineJoin!=h||t.currentLineWidth!=g||t.currentMiterLimit!=C)&&(i!==void 0&&r.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=s,t.currentLineDashOffset=a,t.currentLineJoin=h,t.currentLineWidth=g,t.currentMiterLimit=C)},n.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[ni.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},n.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=NR(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Dm(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},n}(zz);const XC=Oae;var Bae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kae=function(e){Bae(n,e);function n(t,r,i,o){var s=e.call(this,t,r,i,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterMode_=void 0,s.declutterImageWithText_=void 0,s}return n.prototype.drawPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([ni.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ni.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.drawMultiPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([ni.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ni.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},n.prototype.setImageStyle=function(t,r){var i=t.getAnchor(),o=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=r},n}(XC);const Iae=kae;var Tae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kae=function(e){Tae(n,e);function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return n.prototype.drawFlatCoordinates_=function(t,r,i,o){var s=this.coordinates.length,a=this.appendFlatLineCoordinates(t,r,i,o,!1,!1),h=[ni.MOVE_TO_LINE_TO,s,a];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i},n.prototype.drawLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([ni.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,fC,pC],Q0);var a=t.getFlatCoordinates(),h=t.getStride();this.drawFlatCoordinates_(a,0,a.length,h),this.hitDetectionInstructions.push(bm),this.endGeometry(r)}},n.prototype.drawMultiLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([ni.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Q0);for(var a=t.getEnds(),h=t.getFlatCoordinates(),g=t.getStride(),C=0,B=0,k=a.length;B<k;++B)C=this.drawFlatCoordinates_(h,C,a[B],g);this.hitDetectionInstructions.push(bm),this.endGeometry(r)}},n.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(bm),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},n.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(bm),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(Q0)},n}(XC);const Pae=Kae;var Fae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dae=function(e){Fae(n,e);function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return n.prototype.drawFlatCoordinatess_=function(t,r,i,o){var s=this.state,a=s.fillStyle!==void 0,h=s.strokeStyle!==void 0,g=i.length;this.instructions.push(Q0),this.hitDetectionInstructions.push(Q0);for(var C=0;C<g;++C){var B=i[C],k=this.coordinates.length,P=this.appendFlatLineCoordinates(t,r,B,o,!0,!h),U=[ni.MOVE_TO_LINE_TO,k,P];this.instructions.push(U),this.hitDetectionInstructions.push(U),h&&(this.instructions.push(J9),this.hitDetectionInstructions.push(J9)),r=B}return a&&(this.instructions.push(Px),this.hitDetectionInstructions.push(Px)),h&&(this.instructions.push(bm),this.hitDetectionInstructions.push(bm)),r},n.prototype.drawCircle=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ni.SET_FILL_STYLE,Mp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ni.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getFlatCoordinates(),h=t.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,h,!1,!1);var C=[ni.CIRCLE,g];this.instructions.push(Q0,C),this.hitDetectionInstructions.push(Q0,C),i.fillStyle!==void 0&&(this.instructions.push(Px),this.hitDetectionInstructions.push(Px)),i.strokeStyle!==void 0&&(this.instructions.push(bm),this.hitDetectionInstructions.push(bm)),this.endGeometry(r)}},n.prototype.drawPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ni.SET_FILL_STYLE,Mp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ni.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getEnds(),h=t.getOrientedFlatCoordinates(),g=t.getStride();this.drawFlatCoordinatess_(h,0,a,g),this.endGeometry(r)}},n.prototype.drawMultiPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ni.SET_FILL_STYLE,Mp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ni.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var a=t.getEndss(),h=t.getOrientedFlatCoordinates(),g=t.getStride(),C=0,B=0,k=a.length;B<k;++B)C=this.drawFlatCoordinatess_(h,C,a[B],g);this.endGeometry(r)}},n.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=E0(r[i],t);return e.prototype.finish.call(this)},n.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},n}(XC);const eT=Dae,jz={POINT:"point",LINE:"line"};function Lae(e,n,t,r,i){var o=t,s=t,a=0,h=0,g=t,C,B,k,P,U,Z,W,Q,q,oe;for(B=t;B<r;B+=i){var re=n[B],Ae=n[B+1];U!==void 0&&(q=re-U,oe=Ae-Z,P=Math.sqrt(q*q+oe*oe),W!==void 0&&(h+=k,C=Math.acos((W*q+Q*oe)/(k*P)),C>e&&(h>a&&(a=h,o=g,s=B),h=0,g=B-i)),k=P,W=q,Q=oe),U=re,Z=Ae}return h+=P,h>a?[g,B]:[o,s]}var Uae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),T_={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Rae=function(e){Uae(n,e);function n(t,r,i,o){var s=e.call(this,t,r,i,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return n.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},n.prototype.drawText=function(t,r){var i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!i&&!o)){var a=this.coordinates,h=a.length,g=t.getType(),C=null,B=t.getStride();if(s.placement===jz.LINE&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!cl(this.getBufferedMaxExtent(),t.getExtent()))return;var k=void 0;if(C=t.getFlatCoordinates(),g=="LineString")k=[C.length];else if(g=="MultiLineString")k=t.getEnds();else if(g=="Polygon")k=t.getEnds().slice(0,1);else if(g=="MultiPolygon"){var P=t.getEndss();k=[];for(var U=0,Z=P.length;U<Z;++U)k.push(P[U][0])}this.beginGeometry(t,r);for(var W=s.textAlign,Q=0,q=void 0,oe=0,re=k.length;oe<re;++oe){if(W==null){var Ae=Lae(s.maxAngle,C,Q,k[oe],B);Q=Ae[0],q=Ae[1]}else q=k[oe];for(var U=Q;U<q;U+=B)a.push(C[U],C[U+1]);var ae=a.length;Q=k[oe],this.drawChars_(h,ae),h=ae}this.endGeometry(r)}else{var se=s.overflow?null:[];switch(g){case"Point":case"MultiPoint":C=t.getFlatCoordinates();break;case"LineString":C=t.getFlatMidpoint();break;case"Circle":C=t.getCenter();break;case"MultiLineString":C=t.getFlatMidpoints(),B=2;break;case"Polygon":C=t.getFlatInteriorPoint(),s.overflow||se.push(C[2]/this.resolution),B=3;break;case"MultiPolygon":var ye=t.getFlatInteriorPoints();C=[];for(var U=0,Z=ye.length;U<Z;U+=3)s.overflow||se.push(ye[U+2]/this.resolution),C.push(ye[U],ye[U+1]);if(C.length===0)return;B=2;break}var ae=this.appendFlatPointCoordinates(C,B);if(ae===h)return;if(se&&(ae-h)/2!==C.length/B){var De=h/2;se=se.filter(function(nn,Qt){var He=a[(De+Qt)*2]===C[Qt*B]&&a[(De+Qt)*2+1]===C[Qt*B+1];return He||--De,He})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var Ne=s.padding;if(Ne!=G0&&(s.scale[0]<0||s.scale[1]<0)){var et=s.padding[0],ft=s.padding[1],Ke=s.padding[2],rt=s.padding[3];s.scale[0]<0&&(ft=-ft,rt=-rt),s.scale[1]<0&&(et=-et,Ke=-Ke),Ne=[et,ft,Ke,rt]}var _e=this.pixelRatio;this.instructions.push([ni.DRAW_IMAGE,h,ae,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,Ne==G0?G0:Ne.map(function(nn){return nn*_e}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,se]);var Ut=1/_e;this.hitDetectionInstructions.push([ni.DRAW_IMAGE,h,ae,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Ut,Ut],NaN,void 0,this.declutterImageWithText_,Ne,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,se]),this.endGeometry(r)}}},n.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||yC,justify:r.justify,textBaseline:r.textBaseline||K3,scale:r.scale});var a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))},n.prototype.drawChars_=function(t,r){var i=this.textStrokeState_,o=this.textState_,s=this.strokeKey_,a=this.textKey_,h=this.fillKey_;this.saveTextStates_();var g=this.pixelRatio,C=T_[o.textBaseline],B=this.textOffsetY_*g,k=this.text_,P=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([ni.DRAW_CHARS,t,r,C,o.overflow,h,o.maxAngle,g,B,s,P*g,k,a,1]),this.hitDetectionInstructions.push([ni.DRAW_CHARS,t,r,C,o.overflow,h,o.maxAngle,1,B,s,P,k,a,1/g])},n.prototype.setTextStyle=function(t,r){var i,o,s;if(!t)this.text_="";else{var a=t.getFill();a?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=cf(a.getColor()||Mp)):(o=null,this.textFillState_=o);var h=t.getStroke();if(!h)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var g=h.getLineDash(),C=h.getLineDashOffset(),B=h.getWidth(),k=h.getMiterLimit();s.lineCap=h.getLineCap()||T3,s.lineDash=g?g.slice():fC,s.lineDashOffset=C===void 0?pC:C,s.lineJoin=h.getLineJoin()||Iy,s.lineWidth=B===void 0?vC:B,s.miterLimit=k===void 0?mC:k,s.strokeStyle=cf(h.getColor()||gC)}i=this.textState_;var P=t.getFont()||bz;Eie(P);var U=t.getScaleArray();i.overflow=t.getOverflow(),i.font=P,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||K3,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||G0,i.scale=U===void 0?[1,1]:U;var Z=t.getOffsetX(),W=t.getOffsetY(),Q=t.getRotateWithView(),q=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=Z===void 0?0:Z,this.textOffsetY_=W===void 0?0:W,this.textRotateWithView_=Q===void 0?!1:Q,this.textRotation_=q===void 0?0:q,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Ni(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Ni(o.fillStyle):""}this.declutterImageWithText_=r},n}(XC),zae={Circle:eT,Default:XC,Image:Iae,LineString:Pae,Polygon:eT,Text:Rae},D3=function(){function e(n,t,r,i){this.tolerance_=n,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.finish=function(){var n={};for(var t in this.buildersByZIndex_){n[t]=n[t]||{};var r=this.buildersByZIndex_[t];for(var i in r){var o=r[i].finish();n[t][i]=o}}return n},e.prototype.getBuilder=function(n,t){var r=n!==void 0?n.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[t];if(o===void 0){var s=zae[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},e}(),jae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wae=function(e){jae(n,e);function n(t){var r=e.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return n.prototype.getFeatures=function(t){return si()},n.prototype.getData=function(t){return null},n.prototype.prepareFrame=function(t){return si()},n.prototype.renderFrame=function(t,r){return si()},n.prototype.loadedTileCallback=function(t,r,i){t[r]||(t[r]={}),t[r][i.tileCoord.toString()]=i},n.prototype.createLoadedTileFinder=function(t,r,i){return(function(o,s){var a=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(r,o,s,a)}).bind(this)},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){},n.prototype.getDataAtPixel=function(t,r,i){return null},n.prototype.getLayer=function(){return this.layer_},n.prototype.handleFontsChanged=function(){},n.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===$a.LOADED&&this.renderIfReadyAndVisible()},n.prototype.loadImage=function(t){var r=t.getState();return r!=$a.LOADED&&r!=$a.ERROR&&t.addEventListener(Bi.CHANGE,this.boundHandleImageChange_),r==$a.IDLE&&(t.load(),r=t.getState()),r==$a.LOADED},n.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()},n.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},n}(DR);const Nae=Wae;var Gae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tT=[],Bg=null;function Qae(){var e=document.createElement("canvas");e.width=1,e.height=1,Bg=e.getContext("2d")}var $ae=function(e){Gae(n,e);function n(t){var r=e.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=_d(),r.pixelTransform=_d(),r.inversePixelTransform=_d(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return n.prototype.getImageData=function(t,r,i){Bg||Qae(),Bg.clearRect(0,0,1,1);var o;try{Bg.drawImage(t,r,i,1,1,0,0,1,1),o=Bg.getImageData(0,0,1,1).data}catch{return Bg=null,null}return o},n.prototype.getBackground=function(t){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},n.prototype.useContainer=function(t,r,i){var o=this.getLayer().getClassName(),s,a;if(t&&t.className===o&&(!i||t&&t.style.backgroundColor&&b1(O3(t.style.backgroundColor),O3(i)))){var h=t.firstElementChild;h instanceof HTMLCanvasElement&&(a=h.getContext("2d"))}if(a&&a.canvas.style.transform===r?(this.container=t,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=o;var g=s.style;g.position="absolute",g.width="100%",g.height="100%",a=ec();var h=a.canvas;s.appendChild(h),g=h.style,g.position="absolute",g.left="0",g.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},n.prototype.clipUnrotated=function(t,r,i){var o=qm(i),s=h5(i),a=d5(i),h=c5(i);Al(r.coordinateToPixelTransform,o),Al(r.coordinateToPixelTransform,s),Al(r.coordinateToPixelTransform,a),Al(r.coordinateToPixelTransform,h);var g=this.inversePixelTransform;Al(g,o),Al(g,s),Al(g,a),Al(g,h),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()},n.prototype.dispatchRenderEvent_=function(t,r,i){var o=this.getLayer();if(o.hasListener(t)){var s=new vz(t,this.inversePixelTransform,i,r);o.dispatchEvent(s)}},n.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(Um.PRERENDER,t,r)},n.prototype.postRender=function(t,r){this.dispatchRenderEvent_(Um.POSTRENDER,t,r)},n.prototype.getRenderTransform=function(t,r,i,o,s,a,h){var g=s/2,C=a/2,B=o/r,k=-B,P=-t[0]+h,U=-t[1];return _f(this.tempTransform,g,C,B,k,-i,P,U)},n.prototype.getDataAtPixel=function(t,r,i){var o=Al(this.inversePixelTransform,t.slice()),s=this.context,a=this.getLayer(),h=a.getExtent();if(h){var g=Al(r.pixelToCoordinateTransform,t.slice());if(!YC(h,g))return null}var C=Math.round(o[0]),B=Math.round(o[1]),k=this.pixelContext_;if(!k){var P=document.createElement("canvas");P.width=1,P.height=1,k=P.getContext("2d"),this.pixelContext_=k}k.clearRect(0,0,1,1);var U;try{k.drawImage(s.canvas,C,B,1,1,0,0,1,1),U=k.getImageData(0,0,1,1).data}catch(Z){return Z.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):U}return U[3]===0?null:U},n.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},n}(Nae);const Wz=$ae;function Yae(e,n,t,r,i,o,s,a,h,g,C,B){var k=e[n],P=e[n+1],U=0,Z=0,W=0,Q=0;function q(){U=k,Z=P,n+=r,k=e[n],P=e[n+1],Q+=W,W=Math.sqrt((k-U)*(k-U)+(P-Z)*(P-Z))}do q();while(n<t-r&&Q+W<o);for(var oe=W===0?0:(o-Q)/W,re=hp(U,k,oe),Ae=hp(Z,P,oe),ae=n-r,se=Q,ye=o+a*h(g,i,C);n<t-r&&Q+W<ye;)q();oe=W===0?0:(ye-Q)/W;var De=hp(U,k,oe),Ne=hp(Z,P,oe),et;if(B){var ft=[re,Ae,De,Ne];JR(ft,0,4,2,B,ft,ft),et=ft[0]>ft[2]}else et=re>De;var Ke=Math.PI,rt=[],_e=ae+r===n;n=ae,W=0,Q=se,k=e[n],P=e[n+1];var Ut;if(_e){q(),Ut=Math.atan2(P-Z,k-U),et&&(Ut+=Ut>0?-Ke:Ke);var jt=(De+re)/2,nn=(Ne+Ae)/2;return rt[0]=[jt,nn,(ye-o)/2,Ut,i],rt}i=i.replace(/\n/g," ");for(var Qt=0,He=i.length;Qt<He;){q();var Je=Math.atan2(P-Z,k-U);if(et&&(Je+=Je>0?-Ke:Ke),Ut!==void 0){var tt=Je-Ut;if(tt+=tt>Ke?-2*Ke:tt<-Ke?2*Ke:0,Math.abs(tt)>s)return null}Ut=Je;for(var on=Qt,mt=0;Qt<He;++Qt){var dt=et?He-Qt-1:Qt,kt=a*h(g,i[dt],C);if(n+r<t&&Q+W<o+mt+kt/2)break;mt+=kt}if(Qt!==on){var Pt=et?i.substring(He-on,He-Qt):i.substring(on,Qt);oe=W===0?0:(o+mt/2-Q)/W;var jt=hp(U,k,oe),nn=hp(Z,P,oe);rt.push([jt,nn,mt/2,Je,Pt]),o+=mt}}return rt}var hg=xd(),Jp=[],ep=[],tp=[],em=[];function nT(e){return e[3].declutterBox}var qae=new RegExp("[-----]");function rT(e,n){return(n==="start"||n==="end")&&!qae.test(e)&&(n=n==="start"?"left":"right"),T_[n]}function Vae(e,n,t){return t>0&&e.push(`
`,""),e.push(n,""),e}var Hae=function(){function e(n,t,r,i){this.overlaps=r,this.pixelRatio=t,this.resolution=n,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=_d(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(n,t,r,i){var o=n+t+r+i;if(this.labels_[o])return this.labels_[o];var s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,h=this.textStates[t],g=this.pixelRatio,C=[h.scale[0]*g,h.scale[1]*g],B=Array.isArray(n),k=h.justify?T_[h.justify]:rT(Array.isArray(n)?n[0]:n,h.textAlign||yC),P=i&&s.lineWidth?s.lineWidth:0,U=B?n:n.split(`
`).reduce(Vae,[]),Z=Bie(h,U),W=Z.width,Q=Z.height,q=Z.widths,oe=Z.heights,re=Z.lineWidths,Ae=W+P,ae=[],se=(Ae+2)*C[0],ye=(Q+P)*C[1],De={width:se<0?Math.floor(se):Math.ceil(se),height:ye<0?Math.floor(ye):Math.ceil(ye),contextInstructions:ae};if((C[0]!=1||C[1]!=1)&&ae.push("scale",C),i){ae.push("strokeStyle",s.strokeStyle),ae.push("lineWidth",P),ae.push("lineCap",s.lineCap),ae.push("lineJoin",s.lineJoin),ae.push("miterLimit",s.miterLimit);var Ne=u5?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Ne.prototype.setLineDash&&(ae.push("setLineDash",[s.lineDash]),ae.push("lineDashOffset",s.lineDashOffset))}r&&ae.push("fillStyle",a.fillStyle),ae.push("textBaseline","middle"),ae.push("textAlign","center");for(var et=.5-k,ft=k*Ae+et*P,Ke=[],rt=[],_e=0,Ut=0,jt=0,nn=0,Qt,He=0,Je=U.length;He<Je;He+=2){var tt=U[He];if(tt===`
`){Ut+=_e,_e=0,ft=k*Ae+et*P,++nn;continue}var on=U[He+1]||h.font;on!==Qt&&(i&&Ke.push("font",on),r&&rt.push("font",on),Qt=on),_e=Math.max(_e,oe[jt]);var mt=[tt,ft+et*q[jt]+k*(q[jt]-re[nn]),.5*(P+_e)+Ut];ft+=q[jt],i&&Ke.push("strokeText",mt),r&&rt.push("fillText",mt),++jt}return Array.prototype.push.apply(ae,Ke),Array.prototype.push.apply(ae,rt),this.labels_[o]=De,De},e.prototype.replayTextBackground_=function(n,t,r,i,o,s,a){n.beginPath(),n.moveTo.apply(n,t),n.lineTo.apply(n,r),n.lineTo.apply(n,i),n.lineTo.apply(n,o),n.lineTo.apply(n,t),s&&(this.alignFill_=s[2],this.fill_(n)),a&&(this.setStrokeStyle_(n,a),n.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(n,t,r,i,o,s,a,h,g,C,B,k,P,U,Z,W){a*=k[0],h*=k[1];var Q=r-a,q=i-h,oe=o+g>n?n-g:o,re=s+C>t?t-C:s,Ae=U[3]+oe*k[0]+U[1],ae=U[0]+re*k[1]+U[2],se=Q-U[3],ye=q-U[0];(Z||B!==0)&&(Jp[0]=se,em[0]=se,Jp[1]=ye,ep[1]=ye,ep[0]=se+Ae,tp[0]=ep[0],tp[1]=ye+ae,em[1]=tp[1]);var De;return B!==0?(De=_f(_d(),r,i,1,1,B,-r,-i),Al(De,Jp),Al(De,ep),Al(De,tp),Al(De,em),Cf(Math.min(Jp[0],ep[0],tp[0],em[0]),Math.min(Jp[1],ep[1],tp[1],em[1]),Math.max(Jp[0],ep[0],tp[0],em[0]),Math.max(Jp[1],ep[1],tp[1],em[1]),hg)):Cf(Math.min(se,se+Ae),Math.min(ye,ye+ae),Math.max(se,se+Ae),Math.max(ye,ye+ae),hg),P&&(Q=Math.round(Q),q=Math.round(q)),{drawImageX:Q,drawImageY:q,drawImageW:oe,drawImageH:re,originX:g,originY:C,declutterBox:{minX:hg[0],minY:hg[1],maxX:hg[2],maxY:hg[3],value:W},canvasTransform:De,scale:k}},e.prototype.replayImageOrLabel_=function(n,t,r,i,o,s,a){var h=!!(s||a),g=i.declutterBox,C=n.canvas,B=a?a[2]*i.scale[0]/2:0,k=g.minX-B<=C.width/t&&g.maxX+B>=0&&g.minY-B<=C.height/t&&g.maxY+B>=0;return k&&(h&&this.replayTextBackground_(n,Jp,ep,tp,em,s,a),kie(n,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},e.prototype.fill_=function(n){if(this.alignFill_){var t=Al(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;n.save(),n.translate(t[0]%r,t[1]%r),n.rotate(this.viewRotation_)}n.fill(),this.alignFill_&&n.restore()},e.prototype.setStrokeStyle_=function(n,t){n.strokeStyle=t[1],n.lineWidth=t[2],n.lineCap=t[3],n.lineJoin=t[4],n.miterLimit=t[5],n.setLineDash&&(n.lineDashOffset=t[7],n.setLineDash(t[6]))},e.prototype.drawLabelWithPointPlacement_=function(n,t,r,i){var o=this.textStates[t],s=this.createLabel(n,t,i,r),a=this.strokeStates[r],h=this.pixelRatio,g=rT(Array.isArray(n)?n[0]:n,o.textAlign||yC),C=T_[o.textBaseline||K3],B=a&&a.lineWidth?a.lineWidth:0,k=s.width/h-2*o.scale[0],P=g*k+2*(.5-g)*B,U=C*s.height/h+2*(.5-C)*B;return{label:s,anchorX:P,anchorY:U}},e.prototype.execute_=function(n,t,r,i,o,s,a,h){var g;this.pixelCoordinates_&&b1(r,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=Lm(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Yte(this.renderedTransform_,r));for(var C=0,B=i.length,k=0,P,U,Z,W,Q,q,oe,re,Ae,ae,se,ye,De=0,Ne=0,et=null,ft=null,Ke=this.coordinateCache_,rt=this.viewRotation_,_e=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,Ut={context:n,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:rt},jt=this.instructions!=i||this.overlaps?0:200,nn,Qt,He,Je;C<B;){var tt=i[C],on=tt[0];switch(on){case ni.BEGIN_GEOMETRY:nn=tt[1],Je=tt[3],nn.getGeometry()?a!==void 0&&!cl(a,Je.getExtent())?C=tt[2]+1:++C:C=tt[2];break;case ni.BEGIN_PATH:De>jt&&(this.fill_(n),De=0),Ne>jt&&(n.stroke(),Ne=0),!De&&!Ne&&(n.beginPath(),W=NaN,Q=NaN),++C;break;case ni.CIRCLE:k=tt[1];var mt=g[k],dt=g[k+1],kt=g[k+2],Pt=g[k+3],Me=kt-mt,he=Pt-dt,be=Math.sqrt(Me*Me+he*he);n.moveTo(mt+be,dt),n.arc(mt,dt,be,0,2*Math.PI,!0),++C;break;case ni.CLOSE_PATH:n.closePath(),++C;break;case ni.CUSTOM:k=tt[1],P=tt[2];var Pe=tt[3],Ze=tt[4],nt=tt.length==6?tt[5]:void 0;Ut.geometry=Pe,Ut.feature=nn,C in Ke||(Ke[C]=[]);var xt=Ke[C];nt?nt(g,k,P,2,xt):(xt[0]=g[k],xt[1]=g[k+1],xt.length=2),Ze(xt,Ut),++C;break;case ni.DRAW_IMAGE:k=tt[1],P=tt[2],re=tt[3],U=tt[4],Z=tt[5];var Ft=tt[6],Dt=tt[7],pt=tt[8],nr=tt[9],pn=tt[10],bn=tt[11],Jn=tt[12],mr=tt[13],xr=tt[14],Nr=tt[15];if(!re&&tt.length>=20){Ae=tt[19],ae=tt[20],se=tt[21],ye=tt[22];var _r=this.drawLabelWithPointPlacement_(Ae,ae,se,ye);re=_r.label,tt[3]=re;var fi=tt[23];U=(_r.anchorX-fi)*this.pixelRatio,tt[4]=U;var we=tt[24];Z=(_r.anchorY-we)*this.pixelRatio,tt[5]=Z,Ft=re.height,tt[6]=Ft,mr=re.width,tt[13]=mr}var H=void 0;tt.length>25&&(H=tt[25]);var Y=void 0,Be=void 0,st=void 0;tt.length>17?(Y=tt[16],Be=tt[17],st=tt[18]):(Y=G0,Be=!1,st=!1),pn&&_e?bn+=rt:!pn&&!_e&&(bn-=rt);for(var St=0;k<P;k+=2)if(!(H&&H[St++]<mr/this.pixelRatio)){var Et=this.calculateImageOrLabelDimensions_(re.width,re.height,g[k],g[k+1],mr,Ft,U,Z,pt,nr,bn,Jn,o,Y,Be||st,nn),Nt=[n,t,re,Et,Dt,Be?et:null,st?ft:null];if(h){if(xr==="none")continue;if(xr==="obstacle"){h.insert(Et.declutterBox);continue}else{var mn=void 0,Kn=void 0;if(Nr){var En=P-k;if(!Nr[En]){Nr[En]=Nt;continue}if(mn=Nr[En],delete Nr[En],Kn=nT(mn),h.collides(Kn))continue}if(h.collides(Et.declutterBox))continue;mn&&(h.insert(Kn),this.replayImageOrLabel_.apply(this,mn)),h.insert(Et.declutterBox)}}this.replayImageOrLabel_.apply(this,Nt)}++C;break;case ni.DRAW_CHARS:var m=tt[1],Tt=tt[2],Lr=tt[3],Wn=tt[4];ye=tt[5];var Te=tt[6],de=tt[7],ve=tt[8];se=tt[9];var Se=tt[10];Ae=tt[11],ae=tt[12];var Ue=[tt[13],tt[13]],Xe=this.textStates[ae],at=Xe.font,ht=[Xe.scale[0]*de,Xe.scale[1]*de],Ve=void 0;at in this.widths_?Ve=this.widths_[at]:(Ve={},this.widths_[at]=Ve);var Ct=az(g,m,Tt,2),Zt=Math.abs(ht[0])*N9(at,Ae,Ve);if(Wn||Zt<=Ct){var Ht=this.textStates[ae].textAlign,qt=(Ct-Zt)*T_[Ht],Vn=Yae(g,m,Tt,2,Ae,qt,Te,Math.abs(ht[0]),N9,at,Ve,_e?0:this.viewRotation_);e:if(Vn){var On=[],ir=void 0,or=void 0,Tr=void 0,Ur=void 0,Dr=void 0;if(se)for(ir=0,or=Vn.length;ir<or;++ir){Dr=Vn[ir],Tr=Dr[4],Ur=this.createLabel(Tr,ae,"",se),U=Dr[2]+(ht[0]<0?-Se:Se),Z=Lr*Ur.height+(.5-Lr)*2*Se*ht[1]/ht[0]-ve;var Et=this.calculateImageOrLabelDimensions_(Ur.width,Ur.height,Dr[0],Dr[1],Ur.width,Ur.height,U,Z,0,0,Dr[3],Ue,!1,G0,!1,nn);if(h&&h.collides(Et.declutterBox))break e;On.push([n,t,Ur,Et,1,null,null])}if(ye)for(ir=0,or=Vn.length;ir<or;++ir){Dr=Vn[ir],Tr=Dr[4],Ur=this.createLabel(Tr,ae,ye,""),U=Dr[2],Z=Lr*Ur.height-ve;var Et=this.calculateImageOrLabelDimensions_(Ur.width,Ur.height,Dr[0],Dr[1],Ur.width,Ur.height,U,Z,0,0,Dr[3],Ue,!1,G0,!1,nn);if(h&&h.collides(Et.declutterBox))break e;On.push([n,t,Ur,Et,1,null,null])}h&&h.load(On.map(nT));for(var Jr=0,rr=On.length;Jr<rr;++Jr)this.replayImageOrLabel_.apply(this,On[Jr])}}++C;break;case ni.END_GEOMETRY:if(s!==void 0){nn=tt[1];var li=s(nn,Je);if(li)return li}++C;break;case ni.FILL:jt?De++:this.fill_(n),++C;break;case ni.MOVE_TO_LINE_TO:for(k=tt[1],P=tt[2],Qt=g[k],He=g[k+1],q=Qt+.5|0,oe=He+.5|0,(q!==W||oe!==Q)&&(n.moveTo(Qt,He),W=q,Q=oe),k+=2;k<P;k+=2)Qt=g[k],He=g[k+1],q=Qt+.5|0,oe=He+.5|0,(k==P-2||q!==W||oe!==Q)&&(n.lineTo(Qt,He),W=q,Q=oe);++C;break;case ni.SET_FILL_STYLE:et=tt,this.alignFill_=tt[2],De&&(this.fill_(n),De=0,Ne&&(n.stroke(),Ne=0)),n.fillStyle=tt[1],++C;break;case ni.SET_STROKE_STYLE:ft=tt,Ne&&(n.stroke(),Ne=0),this.setStrokeStyle_(n,tt),++C;break;case ni.STROKE:jt?Ne++:n.stroke(),++C;break;default:++C;break}}De&&this.fill_(n),Ne&&n.stroke()},e.prototype.execute=function(n,t,r,i,o,s){this.viewRotation_=i,this.execute_(n,t,r,this.instructions,o,void 0,void 0,s)},e.prototype.executeHitDetection=function(n,t,r,i,o){return this.viewRotation_=r,this.execute_(n,1,t,this.hitDetectionInstructions,!0,i,o)},e}();const Zae=Hae;var SM=["Polygon","Circle","LineString","Image","Text","Default"],Xae=function(){function e(n,t,r,i,o,s){this.maxExtent_=n,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=_d(),this.createExecutors_(o)}return e.prototype.clip=function(n,t){var r=this.getClipCoords(t);n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[2],r[3]),n.lineTo(r[4],r[5]),n.lineTo(r[6],r[7]),n.clip()},e.prototype.createExecutors_=function(n){for(var t in n){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var i=n[t];for(var o in i){var s=i[o];r[o]=new Zae(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},e.prototype.hasExecutors=function(n){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],i=0,o=n.length;i<o;++i)if(n[i]in r)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(n,t,r,i,o,s){i=Math.round(i);var a=i*2+1,h=_f(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-r,-n[0],-n[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=ec(a,a));var C=this.hitDetectionContext_;C.canvas.width!==a||C.canvas.height!==a?(C.canvas.width=a,C.canvas.height=a):g||C.clearRect(0,0,a,a);var B;this.renderBuffer_!==void 0&&(B=xd(),I_(B,n),Dm(B,t*(this.renderBuffer_+i),B));var k=Jae(i),P;function U(ae,se){for(var ye=C.getImageData(0,0,a,a).data,De=0,Ne=k.length;De<Ne;De++)if(ye[k[De]]>0){if(!s||P!=="Image"&&P!=="Text"||s.indexOf(ae)!==-1){var et=(k[De]-3)/4,ft=i-et%a,Ke=i-(et/a|0),rt=o(ae,se,ft*ft+Ke*Ke);if(rt)return rt}C.clearRect(0,0,a,a);break}}var Z=Object.keys(this.executorsByZIndex_).map(Number);Z.sort(d1);var W,Q,q,oe,re;for(W=Z.length-1;W>=0;--W){var Ae=Z[W].toString();for(q=this.executorsByZIndex_[Ae],Q=SM.length-1;Q>=0;--Q)if(P=SM[Q],oe=q[P],oe!==void 0&&(re=oe.executeHitDetection(C,h,r,U,B),re))return re}},e.prototype.getClipCoords=function(n){var t=this.maxExtent_;if(!t)return null;var r=t[0],i=t[1],o=t[2],s=t[3],a=[r,i,r,s,o,s,o,i];return Lm(a,0,8,2,n,a),a},e.prototype.isEmpty=function(){return f1(this.executorsByZIndex_)},e.prototype.execute=function(n,t,r,i,o,s,a){var h=Object.keys(this.executorsByZIndex_).map(Number);h.sort(d1),this.maxExtent_&&(n.save(),this.clip(n,r));var g=s||SM,C,B,k,P,U,Z;for(a&&h.reverse(),C=0,B=h.length;C<B;++C){var W=h[C].toString();for(U=this.executorsByZIndex_[W],k=0,P=g.length;k<P;++k){var Q=g[k];Z=U[Q],Z!==void 0&&Z.execute(n,t,r,i,o,a)}}this.maxExtent_&&n.restore()},e}(),EM={};function Jae(e){if(EM[e]!==void 0)return EM[e];for(var n=e*2+1,t=e*e,r=new Array(t+1),i=0;i<=e;++i)for(var o=0;o<=e;++o){var s=i*i+o*o;if(s>t)break;var a=r[s];a||(a=[],r[s]=a),a.push(((e+i)*n+(e+o))*4+3),i>0&&a.push(((e-i)*n+(e+o))*4+3),o>0&&(a.push(((e+i)*n+(e-o))*4+3),i>0&&a.push(((e-i)*n+(e-o))*4+3))}for(var h=[],i=0,g=r.length;i<g;++i)r[i]&&h.push.apply(h,r[i]);return EM[e]=h,h}const L3=Xae;var ese=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tse=function(e){ese(n,e);function n(t,r,i,o,s,a,h){var g=e.call(this)||this;return g.context_=t,g.pixelRatio_=r,g.extent_=i,g.transform_=o,g.viewRotation_=s,g.squaredTolerance_=a,g.userTransform_=h,g.contextFillState_=null,g.contextStrokeState_=null,g.contextTextState_=null,g.fillState_=null,g.strokeState_=null,g.image_=null,g.imageAnchorX_=0,g.imageAnchorY_=0,g.imageHeight_=0,g.imageOpacity_=0,g.imageOriginX_=0,g.imageOriginY_=0,g.imageRotateWithView_=!1,g.imageRotation_=0,g.imageScale_=[0,0],g.imageWidth_=0,g.text_="",g.textOffsetX_=0,g.textOffsetY_=0,g.textRotateWithView_=!1,g.textRotation_=0,g.textScale_=[0,0],g.textFillState_=null,g.textStrokeState_=null,g.textState_=null,g.pixelCoordinates_=[],g.tmpLocalTransform_=_d(),g}return n.prototype.drawImages_=function(t,r,i,o){if(this.image_){var s=Lm(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,h=this.tmpLocalTransform_,g=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=g*this.imageOpacity_);var C=this.imageRotation_;this.imageRotateWithView_&&(C+=this.viewRotation_);for(var B=0,k=s.length;B<k;B+=2){var P=s[B]-this.imageAnchorX_,U=s[B+1]-this.imageAnchorY_;if(C!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var Z=P+this.imageAnchorX_,W=U+this.imageAnchorY_;_f(h,Z,W,1,1,C,-Z,-W),a.setTransform.apply(a,h),a.translate(Z,W),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,P,U,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=g)}},n.prototype.drawText_=function(t,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=Lm(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,h=this.textRotation_;for(this.textRotateWithView_&&(h+=this.viewRotation_);r<i;r+=o){var g=s[r]+this.textOffsetX_,C=s[r+1]+this.textOffsetY_;if(h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var B=_f(this.tmpLocalTransform_,g,C,1,1,h,-g,-C);a.setTransform.apply(a,B),a.translate(g,C),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,g,C),this.textFillState_&&a.fillText(this.text_,g,C)}}},n.prototype.moveToLineTo_=function(t,r,i,o,s){var a=this.context_,h=Lm(t,r,i,o,this.transform_,this.pixelCoordinates_);a.moveTo(h[0],h[1]);var g=h.length;s&&(g-=2);for(var C=2;C<g;C+=2)a.lineTo(h[C],h[C+1]);return s&&a.closePath(),i},n.prototype.drawRings_=function(t,r,i,o){for(var s=0,a=i.length;s<a;++s)r=this.moveToLineTo_(t,r,i[s],o,!0);return r},n.prototype.drawCircle=function(t){if(cl(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Nne(t,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],s=Math.sqrt(i*i+o*o),a=this.context_;a.beginPath(),a.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},n.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},n.prototype.setTransform=function(t){this.transform_=t},n.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}},n.prototype.drawFeature=function(t,r){var i=r.getGeometryFunction()(t);!i||!cl(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},n.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},n.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},n.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},n.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cl(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},n.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(cl(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),s=0,a=t.getEnds(),h=t.getStride();i.beginPath();for(var g=0,C=a.length;g<C;++g)s=this.moveToLineTo_(o,s,a[g],h,!1);i.stroke()}if(this.text_!==""){var B=t.getFlatMidpoints();this.drawText_(B,0,B.length,2)}}},n.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},n.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,s=t.getEndss(),a=t.getStride();r.beginPath();for(var h=0,g=s.length;h<g;++h){var C=s[h];o=this.drawRings_(i,o,C,a)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var B=t.getFlatInteriorPoints();this.drawText_(B,0,B.length,2)}}},n.prototype.setContextFillState_=function(t){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},n.prototype.setContextStrokeState_=function(t){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(b1(i.lineDash,t.lineDash)||r.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},n.prototype.setContextTextState_=function(t){var r=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:yC;i?(i.font!=t.font&&(i.font=t.font,r.font=t.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=o,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},n.prototype.setFillStrokeStyle=function(t,r){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:cf(o||Mp)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),a=r.getLineCap(),h=r.getLineDash(),g=r.getLineDashOffset(),C=r.getLineJoin(),B=r.getWidth(),k=r.getMiterLimit(),P=h||fC;this.strokeState_={lineCap:a!==void 0?a:T3,lineDash:this.pixelRatio_===1?P:P.map(function(U){return U*i.pixelRatio_}),lineDashOffset:(g||pC)*this.pixelRatio_,lineJoin:C!==void 0?C:Iy,lineWidth:(B!==void 0?B:vC)*this.pixelRatio_,miterLimit:k!==void 0?k:mC,strokeStyle:cf(s||gC)}}},n.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},n.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:cf(i||Mp)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var s=o.getColor(),a=o.getLineCap(),h=o.getLineDash(),g=o.getLineDashOffset(),C=o.getLineJoin(),B=o.getWidth(),k=o.getMiterLimit();this.textStrokeState_={lineCap:a!==void 0?a:T3,lineDash:h||fC,lineDashOffset:g||pC,lineJoin:C!==void 0?C:Iy,lineWidth:B!==void 0?B:vC,miterLimit:k!==void 0?k:mC,strokeStyle:cf(s||gC)}}var P=t.getFont(),U=t.getOffsetX(),Z=t.getOffsetY(),W=t.getRotateWithView(),Q=t.getRotation(),q=t.getScaleArray(),oe=t.getText(),re=t.getTextAlign(),Ae=t.getTextBaseline();this.textState_={font:P!==void 0?P:bz,textAlign:re!==void 0?re:yC,textBaseline:Ae!==void 0?Ae:K3},this.text_=oe!==void 0?Array.isArray(oe)?oe.reduce(function(ae,se,ye){return ae+=ye%2?" ":se},""):oe:"",this.textOffsetX_=U!==void 0?this.pixelRatio_*U:0,this.textOffsetY_=Z!==void 0?this.pixelRatio_*Z:0,this.textRotateWithView_=W!==void 0?W:!1,this.textRotation_=Q!==void 0?Q:0,this.textScale_=[this.pixelRatio_*q[0],this.pixelRatio_*q[1]]}},n}(zz);const um={FRACTION:"fraction",PIXELS:"pixels"},Ad={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var nse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rse=function(e){nse(n,e);function n(t,r,i,o){var s=e.call(this)||this;return s.extent=t,s.pixelRatio_=i,s.resolution=r,s.state=o,s}return n.prototype.changed=function(){this.dispatchEvent(Bi.CHANGE)},n.prototype.getExtent=function(){return this.extent},n.prototype.getImage=function(){return si()},n.prototype.getPixelRatio=function(){return this.pixelRatio_},n.prototype.getResolution=function(){return this.resolution},n.prototype.getState=function(){return this.state},n.prototype.load=function(){si()},n}($y);const ise=rse;var ose=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){ose(n,e);function n(t,r,i,o,s,a){var h=e.call(this,t,r,i,$a.IDLE)||this;return h.src_=o,h.image_=new Image,s!==null&&(h.image_.crossOrigin=s),h.unlisten_=null,h.state=$a.IDLE,h.imageLoadFunction_=a,h}return n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=$a.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=JA(this.extent)/this.image_.height),this.state=$a.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){(this.state==$a.IDLE||this.state==$a.ERROR)&&(this.state=$a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=w7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.setImage=function(t){this.image_=t,this.resolution=JA(this.extent)/this.image_.height},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n})(ise);function w7(e,n,t){var r=e,i=!0,o=!1,s=!1,a=[b3(r,Bi.LOAD,function(){s=!0,o||n()})];return r.src&&$te?(o=!0,r.decode().then(function(){i&&n()}).catch(function(h){i&&(s?n():t())})):a.push(b3(r,Bi.ERROR,t)),function(){i=!1,a.forEach(Ya)}}var ase=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nv=null,sse=function(e){ase(n,e);function n(t,r,i,o,s,a){var h=e.call(this)||this;return h.hitDetectionImage_=null,h.image_=t||new Image,o!==null&&(h.image_.crossOrigin=o),h.canvas_={},h.color_=a,h.unlisten_=null,h.imageState_=s,h.size_=i,h.src_=r,h.tainted_,h}return n.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===$a.LOADED){Nv||(Nv=ec(1,1)),Nv.drawImage(this.image_,0,0);try{Nv.getImageData(0,0,1,1),this.tainted_=!1}catch{Nv=null,this.tainted_=!0}}return this.tainted_===!0},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Bi.CHANGE)},n.prototype.handleImageError_=function(){this.imageState_=$a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=$a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},n.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],i=ec(t,r);i.fillRect(0,0,t,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(this.imageState_==$a.IDLE){this.imageState_=$a.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=w7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},n.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==$a.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var i=r.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=mz(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),s=o.data,a=this.color_[0]/255,h=this.color_[1]/255,g=this.color_[2]/255,C=this.color_[3],B=0,k=s.length;B<k;B+=4)s[B]*=a,s[B+1]*=h,s[B+2]*=g,s[B+3]*=C;i.putImageData(o,0,0)}}},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}($y);function lse(e,n,t,r,i,o){var s=B3.get(n,r,o);return s||(s=new sse(e,n,t,r,i,o),B3.set(n,r,o,s)),s}var use=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ase=function(e){use(n,e);function n(t){var r=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,s=i.rotation!==void 0?i.rotation:0,a=i.scale!==void 0?i.scale:1,h=i.rotateWithView!==void 0?i.rotateWithView:!1;r=e.call(this,{opacity:o,rotation:s,scale:a,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:h,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:Ad.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:um.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:um.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var g=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var C=i.src;ao(!(C!==void 0&&g),4),ao(!g||g&&r.imgSize_,5),(C===void 0||C.length===0)&&g&&(C=g.src||Ni(g)),ao(C!==void 0&&C.length>0,6);var B=i.src!==void 0?$a.IDLE:$a.LOADED;return r.color_=i.color!==void 0?O3(i.color):null,r.iconImage_=lse(g,C,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,B,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:Ad.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return n.prototype.clone=function(){var t=this.getScale();return new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},n.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==um.FRACTION||this.anchorYUnits_==um.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==um.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==um.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=Ad.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Ad.TOP_RIGHT||this.anchorOrigin_==Ad.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==Ad.BOTTOM_LEFT||this.anchorOrigin_==Ad.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},n.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},n.prototype.getColor=function(){return this.color_},n.prototype.getImage=function(t){return this.iconImage_.getImage(t)},n.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},n.prototype.getImageSize=function(){return this.iconImage_.getSize()},n.prototype.getImageState=function(){return this.iconImage_.getImageState()},n.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},n.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Ad.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;t=t.slice(),(this.offsetOrigin_==Ad.TOP_RIGHT||this.offsetOrigin_==Ad.BOTTOM_RIGHT)&&(t[0]=i[0]-r[0]-t[0]),(this.offsetOrigin_==Ad.BOTTOM_LEFT||this.offsetOrigin_==Ad.BOTTOM_RIGHT)&&(t[1]=i[1]-r[1]-t[1])}return this.origin_=t,this.origin_},n.prototype.getSrc=function(){return this.iconImage_.getSrc()},n.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},n.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Bi.CHANGE,t)},n.prototype.load=function(){this.iconImage_.load()},n.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Bi.CHANGE,t)},n}(Lz);const Nz=Ase;var cse="#333",dse=function(){function e(n){var t=n||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=yA(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Wg({color:cse}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:jz.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return e.prototype.clone=function(){var n=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(n)?n.slice():n,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getJustify=function(){return this.justify_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(n){this.overflow_=n},e.prototype.setFont=function(n){this.font_=n},e.prototype.setMaxAngle=function(n){this.maxAngle_=n},e.prototype.setOffsetX=function(n){this.offsetX_=n},e.prototype.setOffsetY=function(n){this.offsetY_=n},e.prototype.setPlacement=function(n){this.placement_=n},e.prototype.setRotateWithView=function(n){this.rotateWithView_=n},e.prototype.setFill=function(n){this.fill_=n},e.prototype.setRotation=function(n){this.rotation_=n},e.prototype.setScale=function(n){this.scale_=n,this.scaleArray_=yA(n!==void 0?n:1)},e.prototype.setStroke=function(n){this.stroke_=n},e.prototype.setText=function(n){this.text_=n},e.prototype.setTextAlign=function(n){this.textAlign_=n},e.prototype.setJustify=function(n){this.justify_=n},e.prototype.setTextBaseline=function(n){this.textBaseline_=n},e.prototype.setBackgroundFill=function(n){this.backgroundFill_=n},e.prototype.setBackgroundStroke=function(n){this.backgroundStroke_=n},e.prototype.setPadding=function(n){this.padding_=n},e}(),Pc=.5;function Gz(e,n,t,r,i,o,s){var a=e[0]*Pc,h=e[1]*Pc,g=ec(a,h);g.imageSmoothingEnabled=!1;for(var C=g.canvas,B=new tse(g,Pc,i,null,s),k=t.length,P=Math.floor((256*256*256-1)/k),U={},Z=1;Z<=k;++Z){var W=t[Z-1],Q=W.getStyleFunction()||r;if(r){var q=Q(W,o);if(q){Array.isArray(q)||(q=[q]);for(var oe=Z*P,re="#"+("000000"+oe.toString(16)).slice(-6),Ae=0,ae=q.length;Ae<ae;++Ae){var se=q[Ae],ye=se.getGeometryFunction()(W);if(!(!ye||!cl(i,ye.getExtent()))){var De=se.clone(),Ne=De.getFill();Ne&&Ne.setColor(re);var et=De.getStroke();et&&(et.setColor(re),et.setLineDash(null)),De.setText(void 0);var ft=se.getImage();if(ft&&ft.getOpacity()!==0){var Ke=ft.getImageSize();if(!Ke)continue;var rt=ec(Ke[0],Ke[1],void 0,{alpha:!1}),_e=rt.canvas;rt.fillStyle=re,rt.fillRect(0,0,_e.width,_e.height),De.setImage(new Nz({img:_e,imgSize:Ke,anchor:ft.getAnchor(),anchorXUnits:um.PIXELS,anchorYUnits:um.PIXELS,offset:ft.getOrigin(),opacity:1,size:ft.getSize(),scale:ft.getScale(),rotation:ft.getRotation(),rotateWithView:ft.getRotateWithView()}))}var Ut=De.getZIndex()||0,jt=U[Ut];jt||(jt={},U[Ut]=jt,jt.Polygon=[],jt.Circle=[],jt.LineString=[],jt.Point=[]),jt[ye.getType().replace("Multi","")].push(ye,De)}}}}}for(var nn=Object.keys(U).map(Number).sort(d1),Z=0,Qt=nn.length;Z<Qt;++Z){var jt=U[nn[Z]];for(var He in jt)for(var Je=jt[He],Ae=0,ae=Je.length;Ae<ae;Ae+=2){B.setStyle(Je[Ae+1]);for(var tt=0,on=n.length;tt<on;++tt)B.setTransform(n[tt]),B.drawGeometry(Je[Ae])}}return g.getImageData(0,0,C.width,C.height)}function Qz(e,n,t){var r=[];if(t){var i=Math.floor(Math.round(e[0])*Pc),o=Math.floor(Math.round(e[1])*Pc),s=(kl(i,0,t.width-1)+kl(o,0,t.height-1)*t.width)*4,a=t.data[s],h=t.data[s+1],g=t.data[s+2],C=g+256*(h+256*a),B=Math.floor((256*256*256-1)/n.length);C&&C%B===0&&r.push(n[C/B-1])}return r}var hse=.5,$z={Point:Cse,LineString:yse,Polygon:xse,MultiPoint:bse,MultiLineString:vse,MultiPolygon:_se,GeometryCollection:gse,Circle:pse};function fse(e,n){return parseInt(Ni(e),10)-parseInt(Ni(n),10)}function Yz(e,n){var t=hE(e,n);return t*t}function hE(e,n){return hse*e/n}function pse(e,n,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=e.getBuilder(t.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(n,r)}var h=t.getText();if(h&&h.getText()){var g=(i||e).getBuilder(t.getZIndex(),"Text");g.setTextStyle(h),g.drawText(n,r)}}function U3(e,n,t,r,i,o,s){var a=!1,h=t.getImage();if(h){var g=h.getImageState();g==$a.LOADED||g==$a.ERROR?h.unlistenImageChange(i):(g==$a.IDLE&&h.load(),h.listenImageChange(i),a=!0)}return mse(e,n,t,r,o,s),a}function mse(e,n,t,r,i,o){var s=t.getGeometryFunction()(n);if(s){var a=s.simplifyTransformed(r,i),h=t.getRenderer();if(h)qz(e,a,t,n);else{var g=$z[a.getType()];g(e,a,t,n,o)}}}function qz(e,n,t,r){if(n.getType()=="GeometryCollection"){for(var i=n.getGeometries(),o=0,s=i.length;o<s;++o)qz(e,i[o],t,r);return}var a=e.getBuilder(t.getZIndex(),"Default");a.drawCustom(n,r,t.getRenderer(),t.getHitDetectionRenderer())}function gse(e,n,t,r,i){var o=n.getGeometriesArray(),s,a;for(s=0,a=o.length;s<a;++s){var h=$z[o[s].getType()];h(e,o[s],t,r,i)}}function yse(e,n,t,r,i){var o=t.getStroke();if(o){var s=e.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(n,r)}var a=t.getText();if(a&&a.getText()){var h=(i||e).getBuilder(t.getZIndex(),"Text");h.setTextStyle(a),h.drawText(n,r)}}function vse(e,n,t,r,i){var o=t.getStroke();if(o){var s=e.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(n,r)}var a=t.getText();if(a&&a.getText()){var h=(i||e).getBuilder(t.getZIndex(),"Text");h.setTextStyle(a),h.drawText(n,r)}}function _se(e,n,t,r,i){var o=t.getFill(),s=t.getStroke();if(s||o){var a=e.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(n,r)}var h=t.getText();if(h&&h.getText()){var g=(i||e).getBuilder(t.getZIndex(),"Text");g.setTextStyle(h),g.drawText(n,r)}}function Cse(e,n,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=$a.LOADED)return;var h=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(h=i,g==="obstacle"){var C=e.getBuilder(t.getZIndex(),"Image");C.setImageStyle(o,a),C.drawPoint(n,r)}else s&&s.getText()&&(a={})}var B=h.getBuilder(t.getZIndex(),"Image");B.setImageStyle(o,a),B.drawPoint(n,r)}if(s&&s.getText()){var k=e;i&&(k=i);var P=k.getBuilder(t.getZIndex(),"Text");P.setTextStyle(s,a),P.drawText(n,r)}}function bse(e,n,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=$a.LOADED)return;var h=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(h=i,g==="obstacle"){var C=e.getBuilder(t.getZIndex(),"Image");C.setImageStyle(o,a),C.drawMultiPoint(n,r)}else s&&s.getText()&&(a={})}var B=h.getBuilder(t.getZIndex(),"Image");B.setImageStyle(o,a),B.drawMultiPoint(n,r)}if(s&&s.getText()){var k=e;i&&(k=i);var P=k.getBuilder(t.getZIndex(),"Text");P.setTextStyle(s,a),P.drawText(n,r)}}function xse(e,n,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=e.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(n,r)}var h=t.getText();if(h&&h.getText()){var g=(i||e).getBuilder(t.getZIndex(),"Text");g.setTextStyle(h),g.drawText(n,r)}}var wse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mse=function(e){wse(n,e);function n(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=xd(),r.wrappedRenderedExtent_=xd(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return n.prototype.renderWorlds=function(t,r,i){var o=r.extent,s=r.viewState,a=s.center,h=s.resolution,g=s.projection,C=s.rotation,B=g.getExtent(),k=this.getLayer().getSource(),P=r.pixelRatio,U=r.viewHints,Z=!(U[el.ANIMATING]||U[el.INTERACTING]),W=this.compositionContext_,Q=Math.round(r.size[0]*P),q=Math.round(r.size[1]*P),oe=k.getWrapX()&&g.canWrapX(),re=oe?us(B):null,Ae=oe?Math.ceil((o[2]-B[2])/re)+1:1,ae=oe?Math.floor((o[0]-B[0])/re):0;do{var se=this.getRenderTransform(a,h,C,P,Q,q,ae*re);t.execute(W,1,se,C,Z,void 0,i)}while(++ae<Ae)},n.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var t=ec(this.context.canvas.width,this.context.canvas.height,tT);this.compositionContext_=t}else this.compositionContext_=this.context},n.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,m7(this.compositionContext_),tT.push(this.compositionContext_.canvas),this.compositionContext_=null}},n.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},n.prototype.renderFrame=function(t,r){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];qte(this.pixelTransform,1/i,1/i),qB(this.inversePixelTransform,this.pixelTransform);var s=WR(this.pixelTransform);this.useContainer(r,s,this.getBackground(t));var a=this.context,h=a.canvas,g=this.replayGroup_,C=this.declutterExecutorGroup;if((!g||g.isEmpty())&&(!C||C.isEmpty()))return null;var B=Math.round(t.size[0]*i),k=Math.round(t.size[1]*i);h.width!=B||h.height!=k?(h.width=B,h.height=k,h.style.transform!==s&&(h.style.transform=s)):this.containerReused||a.clearRect(0,0,B,k),this.preRender(a,t);var P=t.viewState;P.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var U=!1,Z=!0;if(o.extent&&this.clipping){var W=W0(o.extent);Z=cl(W,t.extent),U=Z&&!_m(W,t.extent),U&&this.clipUnrotated(this.compositionContext_,t,W)}return Z&&this.renderWorlds(g,t),U&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(a,t),this.renderedRotation_!==P.rotation&&(this.renderedRotation_=P.rotation,this.hitDetectionImageData_=null),this.container},n.prototype.getFeatures=function(t){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Al(this.pixelTransform,i);var o=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,h=this.renderedProjection_,g=this.wrappedRenderedExtent_,C=this.getLayer(),B=[],k=i[0]*Pc,P=i[1]*Pc;B.push(this.getRenderTransform(o,s,a,Pc,k,P,0).slice());var U=C.getSource(),Z=h.getExtent();if(U.getWrapX()&&h.canWrapX()&&!_m(Z,g)){for(var W=g[0],Q=us(Z),q=0,oe=void 0;W<Z[0];)--q,oe=Q*q,B.push(this.getRenderTransform(o,s,a,Pc,k,P,oe).slice()),W+=Q;for(q=0,W=g[2];W>Z[2];)++q,oe=Q*q,B.push(this.getRenderTransform(o,s,a,Pc,k,P,oe).slice()),W-=Q}this.hitDetectionImageData_=Gz(i,B,this.renderedFeatures_,C.getStyleFunction(),g,s,a)}r(Qz(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=this;if(this.replayGroup_){var h=r.viewState.resolution,g=r.viewState.rotation,C=this.getLayer(),B={},k=function(Z,W,Q){var q=Ni(Z),oe=B[q];if(oe){if(oe!==!0&&Q<oe.distanceSq){if(Q===0)return B[q]=!0,s.splice(s.lastIndexOf(oe),1),o(Z,C,W);oe.geometry=W,oe.distanceSq=Q}}else{if(Q===0)return B[q]=!0,o(Z,C,W);s.push(B[q]={feature:Z,layer:C,geometry:W,distanceSq:Q,callback:o})}},P,U=[this.replayGroup_];return this.declutterExecutorGroup&&U.push(this.declutterExecutorGroup),U.some(function(Z){return P=Z.forEachFeatureAtCoordinate(t,h,g,i,k,Z===a.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(W){return W.value}):null)}),P}},n.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},n.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},n.prototype.prepareFrame=function(t){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=t.viewHints[el.ANIMATING],s=t.viewHints[el.INTERACTING],a=r.getUpdateWhileAnimating(),h=r.getUpdateWhileInteracting();if(this.ready&&!a&&o||!h&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var g=t.extent,C=t.viewState,B=C.projection,k=C.resolution,P=t.pixelRatio,U=r.getRevision(),Z=r.getRenderBuffer(),W=r.getRenderOrder();W===void 0&&(W=fse);var Q=C.center.slice(),q=Dm(g,Z*k),oe=q.slice(),re=[q.slice()],Ae=B.getExtent();if(i.getWrapX()&&B.canWrapX()&&!_m(Ae,t.extent)){var ae=us(Ae),se=Math.max(us(q)/2,ae);q[0]=Ae[0]-se,q[2]=Ae[2]+se,e7(Q,B);var ye=qR(re[0],B);ye[0]<Ae[0]&&ye[2]<Ae[2]?re.push([ye[0]+ae,ye[1],ye[2]+ae,ye[3]]):ye[0]>Ae[0]&&ye[2]>Ae[2]&&re.push([ye[0]-ae,ye[1],ye[2]-ae,ye[3]])}if(this.ready&&this.renderedResolution_==k&&this.renderedRevision_==U&&this.renderedRenderOrder_==W&&_m(this.wrappedRenderedExtent_,q))return b1(this.renderedExtent_,oe)||(this.hitDetectionImageData_=null,this.renderedExtent_=oe),this.renderedCenter_=Q,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var De=new D3(hE(k,P),q,k,P),Ne;this.getLayer().getDeclutter()&&(Ne=new D3(hE(k,P),q,k,P));for(var et,ft,Ke,ft=0,Ke=re.length;ft<Ke;++ft)i.loadFeatures(re[ft],k,B);var rt=Yz(k,P),_e=!0,Ut=(function(Je){var tt,on=Je.getStyleFunction()||r.getStyleFunction();if(on&&(tt=on(Je,k)),tt){var mt=this.renderFeature(Je,rt,tt,De,et,Ne);_e=_e&&!mt}}).bind(this),jt=XR(q),nn=i.getFeaturesInExtent(jt);W&&nn.sort(W);for(var ft=0,Ke=nn.length;ft<Ke;++ft)Ut(nn[ft]);this.renderedFeatures_=nn,this.ready=_e;var Qt=De.finish(),He=new L3(q,k,P,i.getOverlaps(),Qt,r.getRenderBuffer());return Ne&&(this.declutterExecutorGroup=new L3(q,k,P,i.getOverlaps(),Ne.finish(),r.getRenderBuffer())),this.renderedResolution_=k,this.renderedRevision_=U,this.renderedRenderOrder_=W,this.renderedExtent_=oe,this.wrappedRenderedExtent_=q,this.renderedCenter_=Q,this.renderedProjection_=B,this.replayGroup_=He,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},n.prototype.renderFeature=function(t,r,i,o,s,a){if(!i)return!1;var h=!1;if(Array.isArray(i))for(var g=0,C=i.length;g<C;++g)h=U3(o,t,i[g],r,this.boundHandleStyleImageChange_,s,a)||h;else h=U3(o,t,i,r,this.boundHandleStyleImageChange_,s,a);return h},n}(Wz);const Sse=Mse;var Ese=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ose=function(e){Ese(n,e);function n(t){return e.call(this,t)||this}return n.prototype.createRenderer=function(){return new Sse(this)},n}(Rz);const Vz=Ose;var iT=function(){function e(n){this.rbush_=new Dz(n),this.items_={}}return e.prototype.insert=function(n,t){var r={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:t};this.rbush_.insert(r),this.items_[Ni(t)]=r},e.prototype.load=function(n,t){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++){var s=n[i],a=t[i],h={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=h,this.items_[Ni(a)]=h}this.rbush_.load(r)},e.prototype.remove=function(n){var t=Ni(n),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},e.prototype.update=function(n,t){var r=this.items_[Ni(t)],i=[r.minX,r.minY,r.maxX,r.maxY];ky(i,n)||(this.remove(t),this.insert(n,t))},e.prototype.getAll=function(){var n=this.rbush_.all();return n.map(function(t){return t.value})},e.prototype.getInExtent=function(n){var t={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]},r=this.rbush_.search(t);return r.map(function(i){return i.value})},e.prototype.forEach=function(n){return this.forEach_(this.getAll(),n)},e.prototype.forEachInExtent=function(n,t){return this.forEach_(this.getInExtent(n),t)},e.prototype.forEach_=function(n,t){for(var r,i=0,o=n.length;i<o;i++)if(r=t(n[i]),r)return r;return r},e.prototype.isEmpty=function(){return f1(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(n){var t=this.rbush_.toJSON();return Cf(t.minX,t.minY,t.maxX,t.maxY,n)},e.prototype.concat=function(n){this.rbush_.load(n.rbush_.all());for(var t in n.items_)this.items_[t]=n.items_[t]},e}(),Bse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kse=function(e){Bse(n,e);function n(t){var r=e.call(this)||this;r.projection=Ws(t.projection),r.attributions_=oT(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:"ready",r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,s){i.viewResolver=o,i.viewRejector=s}),r}return n.prototype.getAttributions=function(){return this.attributions_},n.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},n.prototype.getProjection=function(){return this.projection},n.prototype.getResolutions=function(){return si()},n.prototype.getView=function(){return this.viewPromise_},n.prototype.getState=function(){return this.state_},n.prototype.getWrapX=function(){return this.wrapX_},n.prototype.getInterpolate=function(){return this.interpolate_},n.prototype.refresh=function(){this.changed()},n.prototype.setAttributions=function(t){this.attributions_=oT(t),this.changed()},n.prototype.setState=function(t){this.state_=t,this.changed()},n}(fh);function oT(e){return e?Array.isArray(e)?function(n){return e}:typeof e=="function"?e:function(n){return[e]}:null}const Hz=kse,rh={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Ise(e,n){return[[-1/0,-1/0,1/0,1/0]]}var Tse=!1;function Zz(e,n,t,r,i,o,s){var a=new XMLHttpRequest;a.open("GET",typeof e=="function"?e(t,r,i):e,!0),n.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Tse,a.onload=function(h){if(!a.status||a.status>=200&&a.status<300){var g=n.getType(),C=void 0;g=="json"||g=="text"?C=a.responseText:g=="xml"?(C=a.responseXML,C||(C=new DOMParser().parseFromString(a.responseText,"application/xml"))):g=="arraybuffer"&&(C=a.response),C?o(n.readFeatures(C,{extent:t,featureProjection:i}),n.readProjection(C)):s()}else s()},a.onerror=s,a.send()}function aT(e,n){return function(t,r,i,o,s){var a=this;Zz(e,n,t,r,i,function(h,g){a.addFeatures(h),o!==void 0&&o(h)},s||h1)}}var Xz=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tm=function(e){Xz(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.feature=r,o.features=i,o}return n}(kp),Kse=function(e){Xz(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=h1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(ao(r.format_,7),r.loader_=aT(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:Ise;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new iT:null,r.loadedExtentsRtree_=new iT,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,a;return Array.isArray(i.features)?a=i.features:i.features&&(s=i.features,a=s.getArray()),!o&&s===void 0&&(s=new yd(a)),a!==void 0&&r.addFeaturesInternal(a),s!==void 0&&r.bindFeaturesCollection_(s),r}return n.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},n.prototype.addFeatureInternal=function(t){var r=Ni(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new tm(rh.ADDFEATURE,t))},n.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[bo(r,Bi.CHANGE,this.handleFeatureChange_,this),bo(r,By.PROPERTYCHANGE,this.handleFeatureChange_,this)]},n.prototype.addToIndex_=function(t,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(ao(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),i},n.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},n.prototype.addFeaturesInternal=function(t){for(var r=[],i=[],o=[],s=0,a=t.length;s<a;s++){var h=t[s],g=Ni(h);this.addToIndex_(g,h)&&i.push(h)}for(var s=0,C=i.length;s<C;s++){var h=i[s],g=Ni(h);this.setupChangeEvents_(g,h);var B=h.getGeometry();if(B){var k=B.getExtent();r.push(k),o.push(h)}else this.nullGeometryFeatures_[g]=h}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(rh.ADDFEATURE))for(var s=0,P=i.length;s<P;s++)this.dispatchEvent(new tm(rh.ADDFEATURE,i[s]))},n.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(rh.ADDFEATURE,function(i){r||(r=!0,t.push(i.feature),r=!1)}),this.addEventListener(rh.REMOVEFEATURE,function(i){r||(r=!0,t.remove(i.feature),r=!1)}),t.addEventListener(VA.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),t.addEventListener(VA.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=t},n.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(Ya)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(h){this.removeFeatureInternal(h)}).bind(this);this.featuresRtree_.forEach(o);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new tm(rh.CLEAR);this.dispatchEvent(a),this.changed()},n.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},n.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var s=o.getGeometry();if(s.intersectsCoordinate(t))return r(o)})},n.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},n.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var s=r(i);if(s)return s}})},n.prototype.getFeaturesCollection=function(){return this.featuresCollection_},n.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),f1(this.nullGeometryFeatures_)||mf(t,FR(this.nullGeometryFeatures_))),t},n.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){r.push(i)}),r},n.prototype.getFeaturesInExtent=function(t,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(t);var s=rne(t,r);return[].concat.apply([],s.map(function(a){return i.featuresRtree_.getInExtent(a)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},n.prototype.getClosestFeatureToCoordinate=function(t,r){var i=t[0],o=t[1],s=null,a=[NaN,NaN],h=1/0,g=[-1/0,-1/0,1/0,1/0],C=r||sy;return this.featuresRtree_.forEachInExtent(g,function(B){if(C(B)){var k=B.getGeometry(),P=h;if(h=k.closestPointXY(i,o,a,h),h<P){s=B;var U=Math.sqrt(h);g[0]=i-U,g[1]=o-U,g[2]=i+U,g[3]=o+U}}}),s},n.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},n.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},n.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},n.prototype.getFormat=function(){return this.format_},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.getUrl=function(){return this.url_},n.prototype.handleFeatureChange_=function(t){var r=t.target,i=Ni(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var s=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var a=r.getId();if(a!==void 0){var h=a.toString();this.idIndex_[h]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[h]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new tm(rh.CHANGEFEATURE,r))},n.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:Ni(t)in this.uidIndex_},n.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&f1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},n.prototype.loadFeatures=function(t,r,i){for(var o=this.loadedExtentsRtree_,s=this.strategy_(t,r,i),a=function(B,k){var P=s[B],U=o.forEachInExtent(P,function(Z){return _m(Z.extent,P)});U||(++h.loadingExtentsCount_,h.dispatchEvent(new tm(rh.FEATURESLOADSTART)),h.loader_.call(h,P,r,i,(function(Z){--this.loadingExtentsCount_,this.dispatchEvent(new tm(rh.FEATURESLOADEND,void 0,Z))}).bind(h),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new tm(rh.FEATURESLOADERROR))}).bind(h)),o.insert(P,{extent:P.slice()}))},h=this,g=0,C=s.length;g<C;++g)a(g);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},n.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},n.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(t,function(o){if(ky(o.extent,t))return i=o,!0}),i&&r.remove(i)},n.prototype.removeFeature=function(t){if(t){var r=Ni(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},n.prototype.removeFeatureInternal=function(t){var r=Ni(t),i=this.featureChangeKeys_[r];if(i){i.forEach(Ya),delete this.featureChangeKeys_[r];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new tm(rh.REMOVEFEATURE,t)),t}},n.prototype.removeFromIdIndex_=function(t){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],r=!0;break}return r},n.prototype.setLoader=function(t){this.loader_=t},n.prototype.setUrl=function(t){ao(this.format_,7),this.url_=t,this.setLoader(aT(t,this.format_))},n}(Hz);const Jz=Kse;function Pse(e){var n=e||{},t=new yd,r=new tae(-.005,.05,100),i=n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0;i&&t.push(new joe);var o=n.doubleClickZoom!==void 0?n.doubleClickZoom:!0;o&&t.push(new Boe({delta:n.zoomDelta,duration:n.zoomDuration}));var s=n.dragPan!==void 0?n.dragPan:!0;s&&t.push(new Roe({onFocusOnly:n.onFocusOnly,kinetic:r}));var a=n.pinchRotate!==void 0?n.pinchRotate:!0;a&&t.push(new aae);var h=n.pinchZoom!==void 0?n.pinchZoom:!0;h&&t.push(new uae({duration:n.zoomDuration}));var g=n.keyboard!==void 0?n.keyboard:!0;g&&(t.push(new Zoe),t.push(new eae({delta:n.zoomDelta,duration:n.zoomDuration})));var C=n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0;C&&t.push(new iae({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration}));var B=n.shiftDragZoom!==void 0?n.shiftDragZoom:!0;return B&&t.push(new Voe({duration:n.zoomDuration})),t}var Fse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),M7=function(e){Fse(n,e);function n(t){return t=hl({},t),t.controls||(t.controls=xoe()),t.interactions||(t.interactions=Pse({onFocusOnly:!0})),e.call(this,t)||this}return n.prototype.createRenderer=function(){return new Pie(this)},n}(uoe),ej=function(){function e(n,t,r,i){this.minX=n,this.maxX=t,this.minY=r,this.maxY=i}return e.prototype.contains=function(n){return this.containsXY(n[1],n[2])},e.prototype.containsTileRange=function(n){return this.minX<=n.minX&&n.maxX<=this.maxX&&this.minY<=n.minY&&n.maxY<=this.maxY},e.prototype.containsXY=function(n,t){return this.minX<=n&&n<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(n){return this.minX==n.minX&&this.minY==n.minY&&this.maxX==n.maxX&&this.maxY==n.maxY},e.prototype.extend=function(n){n.minX<this.minX&&(this.minX=n.minX),n.maxX>this.maxX&&(this.maxX=n.maxX),n.minY<this.minY&&(this.minY=n.minY),n.maxY>this.maxY&&(this.maxY=n.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(n){return this.minX<=n.maxX&&this.maxX>=n.minX&&this.minY<=n.maxY&&this.maxY>=n.minY},e}();function fg(e,n,t,r,i){return i!==void 0?(i.minX=e,i.maxX=n,i.minY=t,i.maxY=r,i):new ej(e,n,t,r)}const tj=ej;function sT(e,n,t,r){return r!==void 0?(r[0]=e,r[1]=n,r[2]=t,r):[e,n,t]}function qy(e,n,t){return e+"/"+n+"/"+t}function nj(e){return qy(e[0],e[1],e[2])}function Dse(e){var n=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number),t=n[0],r=n[1],i=n[2];return qy(t,r,i)}function rj(e){return e.split("/").map(Number)}function Lse(e){return(e[1]<<e[0])+e[2]}function Use(e,n){var t=e[0],r=e[1],i=e[2];if(n.getMinZoom()>t||t>n.getMaxZoom())return!1;var o=n.getFullTileRange(t);return o?o.containsXY(r,i):!0}var Rse=[0,0,0],nm=5,zse=function(){function e(n){this.minZoom=n.minZoom!==void 0?n.minZoom:0,this.resolutions_=n.resolutions,ao(kte(this.resolutions_,function(s,a){return a-s},!0),17);var t;if(!n.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=n.origin!==void 0?n.origin:null,this.origins_=null,n.origins!==void 0&&(this.origins_=n.origins,ao(this.origins_.length==this.resolutions_.length,20));var o=n.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=qm(o)),ao(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,n.tileSizes!==void 0&&(this.tileSizes_=n.tileSizes,ao(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=n.tileSize!==void 0?n.tileSize:this.tileSizes_?null:g7,ao(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],n.sizes!==void 0?this.fullTileRanges_=n.sizes.map(function(s,a){var h=new tj(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var g=this.getTileRangeForExtentAndZ(o,a);h.minX=Math.max(g.minX,h.minX),h.maxX=Math.min(g.maxX,h.maxX),h.minY=Math.max(g.minY,h.minY),h.maxY=Math.min(g.maxY,h.maxY)}return h},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(n,t,r){for(var i=this.getTileRangeForExtentAndZ(n,t),o=i.minX,s=i.maxX;o<=s;++o)for(var a=i.minY,h=i.maxY;a<=h;++a)r([t,o,a])},e.prototype.forEachTileCoordParentTileRange=function(n,t,r,i){var o,s,a,h=null,g=n[0]-1;for(this.zoomFactor_===2?(s=n[1],a=n[2]):h=this.getTileCoordExtent(n,i);g>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),a=Math.floor(a/2),o=fg(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(h,g,r),t(g,o))return!0;--g}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(n){return this.origin_?this.origin_:this.origins_[n]},e.prototype.getResolution=function(n){return this.resolutions_[n]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(n,t,r){if(n[0]<this.maxZoom){if(this.zoomFactor_===2){var i=n[1]*2,o=n[2]*2;return fg(i,i+1,o,o+1,t)}var s=this.getTileCoordExtent(n,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,n[0]+1,t)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(n,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var i=n[0],o=n[1],s=n[2];if(t===i)return fg(o,s,o,s,r);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-i),h=Math.floor(o*a),g=Math.floor(s*a);if(t<i)return fg(h,h,g,g,r);var C=Math.floor(a*(o+1))-1,B=Math.floor(a*(s+1))-1;return fg(h,C,g,B,r)}var k=this.getTileCoordExtent(n,this.tmpExtent_);return this.getTileRangeForExtentAndZ(k,t,r)},e.prototype.getTileRangeExtent=function(n,t,r){var i=this.getOrigin(n),o=this.getResolution(n),s=yA(this.getTileSize(n),this.tmpSize_),a=i[0]+t.minX*s[0]*o,h=i[0]+(t.maxX+1)*s[0]*o,g=i[1]+t.minY*s[1]*o,C=i[1]+(t.maxY+1)*s[1]*o;return Cf(a,g,h,C,r)},e.prototype.getTileRangeForExtentAndZ=function(n,t,r){var i=Rse;this.getTileCoordForXYAndZ_(n[0],n[3],t,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(n[2],n[1],t,!0,i),fg(o,i[1],s,i[2],r)},e.prototype.getTileCoordCenter=function(n){var t=this.getOrigin(n[0]),r=this.getResolution(n[0]),i=yA(this.getTileSize(n[0]),this.tmpSize_);return[t[0]+(n[1]+.5)*i[0]*r,t[1]-(n[2]+.5)*i[1]*r]},e.prototype.getTileCoordExtent=function(n,t){var r=this.getOrigin(n[0]),i=this.getResolution(n[0]),o=yA(this.getTileSize(n[0]),this.tmpSize_),s=r[0]+n[1]*o[0]*i,a=r[1]-(n[2]+1)*o[1]*i,h=s+o[0]*i,g=a+o[1]*i;return Cf(s,a,h,g,t)},e.prototype.getTileCoordForCoordAndResolution=function(n,t,r){return this.getTileCoordForXYAndResolution_(n[0],n[1],t,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(n,t,r,i,o){var s=this.getZForResolution(r),a=r/this.getResolution(s),h=this.getOrigin(s),g=yA(this.getTileSize(s),this.tmpSize_),C=a*(n-h[0])/r/g[0],B=a*(h[1]-t)/r/g[1];return i?(C=xx(C,nm)-1,B=xx(B,nm)-1):(C=bx(C,nm),B=bx(B,nm)),sT(s,C,B,o)},e.prototype.getTileCoordForXYAndZ_=function(n,t,r,i,o){var s=this.getOrigin(r),a=this.getResolution(r),h=yA(this.getTileSize(r),this.tmpSize_),g=(n-s[0])/a/h[0],C=(s[1]-t)/a/h[1];return i?(g=xx(g,nm)-1,C=xx(C,nm)-1):(g=bx(g,nm),C=bx(C,nm)),sT(r,g,C,o)},e.prototype.getTileCoordForCoordAndZ=function(n,t,r){return this.getTileCoordForXYAndZ_(n[0],n[1],t,!1,r)},e.prototype.getTileCoordResolution=function(n){return this.resolutions_[n[0]]},e.prototype.getTileSize=function(n){return this.tileSize_?this.tileSize_:this.tileSizes_[n]},e.prototype.getFullTileRange=function(n){return this.fullTileRanges_?this.fullTileRanges_[n]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,n):null},e.prototype.getZForResolution=function(n,t){var r=$B(this.resolutions_,n,t||0);return kl(r,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(n,t){return iz(t,0,t.length,2,this.getTileCoordExtent(n))},e.prototype.calculateTileRanges_=function(n){for(var t=this.resolutions_.length,r=new Array(t),i=this.minZoom;i<t;++i)r[i]=this.getTileRangeForExtentAndZ(n,i);this.fullTileRanges_=r},e}();const JC=zse;var jse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wse=function(e){jse(n,e);function n(t,r,i){var o=e.call(this)||this,s=i||{};return o.tileCoord=t,o.state=r,o.interimTile=null,o.key="",o.transition_=s.transition===void 0?250:s.transition,o.transitionStarts_={},o.interpolate=!!s.interpolate,o}return n.prototype.changed=function(){this.dispatchEvent(Bi.CHANGE)},n.prototype.release=function(){},n.prototype.getKey=function(){return this.key+"/"+this.tileCoord},n.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==pr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},n.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==pr.LOADED){t.interimTile=null;break}else t.getState()==pr.LOADING?r=t:t.getState()==pr.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},n.prototype.getTileCoord=function(){return this.tileCoord},n.prototype.getState=function(){return this.state},n.prototype.setState=function(t){if(this.state!==pr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},n.prototype.load=function(){si()},n.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=r,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:Ez(o/this.transition_)},n.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},n.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},n}($y);const _5=Wse;var Nse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gse=function(e){Nse(n,e);function n(t,r,i,o,s,a){var h=e.call(this,t,r,a)||this;return h.crossOrigin_=o,h.src_=i,h.key=i,h.image_=new Image,o!==null&&(h.image_.crossOrigin=o),h.unlisten_=null,h.tileLoadFunction_=s,h}return n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(t){this.image_=t,this.state=pr.LOADED,this.unlistenImage_(),this.changed()},n.prototype.handleImageError_=function(){this.state=pr.ERROR,this.unlistenImage_(),this.image_=Qse(),this.changed()},n.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=pr.LOADED:this.state=pr.EMPTY,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state==pr.ERROR&&(this.state=pr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==pr.IDLE&&(this.state=pr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=w7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(_5);function Qse(){var e=ec(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const ij=Gse;var $se=.5,Yse=10,lT=.25,qse=function(){function e(n,t,r,i,o,s){this.sourceProj_=n,this.targetProj_=t;var a={},h=M3(this.targetProj_,this.sourceProj_);this.transformInv_=function(oe){var re=oe[0]+"/"+oe[1];return a[re]||(a[re]=h(oe)),a[re]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&us(i)==us(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?us(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?us(this.targetProj_.getExtent()):null;var g=qm(r),C=h5(r),B=d5(r),k=c5(r),P=this.transformInv_(g),U=this.transformInv_(C),Z=this.transformInv_(B),W=this.transformInv_(k),Q=Yse+(s?Math.max(0,Math.ceil(ane(q6(r)/(s*s*256*256)))):0);if(this.addQuad_(g,C,B,k,P,U,Z,W,Q),this.wrapsXInSource_){var q=1/0;this.triangles_.forEach(function(oe,re,Ae){q=Math.min(q,oe.source[0][0],oe.source[1][0],oe.source[2][0])}),this.triangles_.forEach((function(oe){if(Math.max(oe.source[0][0],oe.source[1][0],oe.source[2][0])-q>this.sourceWorldWidth_/2){var re=[[oe.source[0][0],oe.source[0][1]],[oe.source[1][0],oe.source[1][1]],[oe.source[2][0],oe.source[2][1]]];re[0][0]-q>this.sourceWorldWidth_/2&&(re[0][0]-=this.sourceWorldWidth_),re[1][0]-q>this.sourceWorldWidth_/2&&(re[1][0]-=this.sourceWorldWidth_),re[2][0]-q>this.sourceWorldWidth_/2&&(re[2][0]-=this.sourceWorldWidth_);var Ae=Math.min(re[0][0],re[1][0],re[2][0]),ae=Math.max(re[0][0],re[1][0],re[2][0]);ae-Ae<this.sourceWorldWidth_/2&&(oe.source=re)}}).bind(this))}a={}}return e.prototype.addTriangle_=function(n,t,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[n,t,r]})},e.prototype.addQuad_=function(n,t,r,i,o,s,a,h,g){var C=$6([o,s,a,h]),B=this.sourceWorldWidth_?us(C)/this.sourceWorldWidth_:null,k=this.sourceWorldWidth_,P=this.sourceProj_.canWrapX()&&B>.5&&B<1,U=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var Z=$6([n,t,r,i]),W=us(Z)/this.targetWorldWidth_;U=W>lT||U}!P&&this.sourceProj_.isGlobal()&&B&&(U=B>lT||U)}if(!(!U&&this.maxSourceExtent_&&isFinite(C[0])&&isFinite(C[1])&&isFinite(C[2])&&isFinite(C[3])&&!cl(C,this.maxSourceExtent_))){var Q=0;if(!U&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(h[0])||!isFinite(h[1]))){if(g>0)U=!0;else if(Q=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(h[0])||!isFinite(h[1])?1:0),Q!=1&&Q!=2&&Q!=4&&Q!=8)return}if(g>0){if(!U){var q=[(n[0]+r[0])/2,(n[1]+r[1])/2],oe=this.transformInv_(q),re=void 0;if(P){var Ae=(t1(o[0],k)+t1(a[0],k))/2;re=Ae-t1(oe[0],k)}else re=(o[0]+a[0])/2-oe[0];var ae=(o[1]+a[1])/2-oe[1],se=re*re+ae*ae;U=se>this.errorThresholdSquared_}if(U){if(Math.abs(n[0]-r[0])<=Math.abs(n[1]-r[1])){var ye=[(t[0]+r[0])/2,(t[1]+r[1])/2],De=this.transformInv_(ye),Ne=[(i[0]+n[0])/2,(i[1]+n[1])/2],et=this.transformInv_(Ne);this.addQuad_(n,t,ye,Ne,o,s,De,et,g-1),this.addQuad_(Ne,ye,r,i,et,De,a,h,g-1)}else{var ft=[(n[0]+t[0])/2,(n[1]+t[1])/2],Ke=this.transformInv_(ft),rt=[(r[0]+i[0])/2,(r[1]+i[1])/2],_e=this.transformInv_(rt);this.addQuad_(n,ft,rt,i,o,Ke,_e,h,g-1),this.addQuad_(ft,t,r,rt,Ke,s,a,_e,g-1)}return}}if(P){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}Q&11||this.addTriangle_(n,r,i,o,a,h),Q&14||this.addTriangle_(n,r,t,o,a,s),Q&&(Q&13||this.addTriangle_(t,i,n,s,h,o),Q&7||this.addTriangle_(t,i,r,s,h,a))}},e.prototype.calculateSourceExtent=function(){var n=xd();return this.triangles_.forEach(function(t,r,i){var o=t.source;I_(n,o[0]),I_(n,o[1]),I_(n,o[2])}),n},e.prototype.getTriangles=function(){return this.triangles_},e}(),fE={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Vse={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},OM,oj=[];function uT(e,n,t,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(n,t),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(n,r)+1,Math.max(t,i)),e.restore()}function BM(e,n){return Math.abs(e[n*4]-210)>2||Math.abs(e[n*4+3]-.75*255)>2}function Hse(){if(OM===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",uT(e,4,5,4,0),uT(e,4,5,0,5);var n=e.getImageData(0,0,3,3).data;OM=BM(n,0)||BM(n,4)||BM(n,8)}return OM}function AT(e,n,t,r){var i=r7(t,n,e),o=M9(n,r,t),s=n.getMetersPerUnit();s!==void 0&&(o*=s);var a=e.getMetersPerUnit();a!==void 0&&(o/=a);var h=e.getExtent();if(!h||YC(h,i)){var g=M9(e,o,i)/o;isFinite(g)&&g>0&&(o/=g)}return o}function Zse(e,n,t,r){var i=Qm(t),o=AT(e,n,i,r);return(!isFinite(o)||o<=0)&&YR(t,function(s){return o=AT(e,n,s,r),isFinite(o)&&o>0}),o}function Xse(e,n,t,r,i,o,s,a,h,g,C,B){var k=ec(Math.round(t*e),Math.round(t*n),oj);if(B||hl(k,fE),h.length===0)return k.canvas;k.scale(t,t);function P(re){return Math.round(re*t)/t}k.globalCompositeOperation="lighter";var U=xd();h.forEach(function(re,Ae,ae){QR(U,re.extent)});var Z=us(U),W=JA(U),Q=ec(Math.round(t*Z/r),Math.round(t*W/r));B||hl(Q,fE);var q=t/r;h.forEach(function(re,Ae,ae){var se=re.extent[0]-U[0],ye=-(re.extent[3]-U[3]),De=us(re.extent),Ne=JA(re.extent);re.image.width>0&&re.image.height>0&&Q.drawImage(re.image,g,g,re.image.width-2*g,re.image.height-2*g,se*q,ye*q,De*q,Ne*q)});var oe=qm(s);return a.getTriangles().forEach(function(re,Ae,ae){var se=re.source,ye=re.target,De=se[0][0],Ne=se[0][1],et=se[1][0],ft=se[1][1],Ke=se[2][0],rt=se[2][1],_e=P((ye[0][0]-oe[0])/o),Ut=P(-(ye[0][1]-oe[1])/o),jt=P((ye[1][0]-oe[0])/o),nn=P(-(ye[1][1]-oe[1])/o),Qt=P((ye[2][0]-oe[0])/o),He=P(-(ye[2][1]-oe[1])/o),Je=De,tt=Ne;De=0,Ne=0,et-=Je,ft-=tt,Ke-=Je,rt-=tt;var on=[[et,ft,0,0,jt-_e],[Ke,rt,0,0,Qt-_e],[0,0,et,ft,nn-Ut],[0,0,Ke,rt,He-Ut]],mt=lne(on);if(mt){if(k.save(),k.beginPath(),Hse()||!B){k.moveTo(jt,nn);for(var dt=4,kt=_e-jt,Pt=Ut-nn,Me=0;Me<dt;Me++)k.lineTo(jt+P((Me+1)*kt/dt),nn+P(Me*Pt/(dt-1))),Me!=dt-1&&k.lineTo(jt+P((Me+1)*kt/dt),nn+P((Me+1)*Pt/(dt-1)));k.lineTo(Qt,He)}else k.moveTo(jt,nn),k.lineTo(_e,Ut),k.lineTo(Qt,He);k.clip(),k.transform(mt[0],mt[2],mt[1],mt[3],_e,Ut),k.translate(U[0]-Je,U[3]-tt),k.scale(r/t,-r/t),k.drawImage(Q.canvas,0,0),k.restore()}}),C&&(k.save(),k.globalCompositeOperation="source-over",k.strokeStyle="black",k.lineWidth=1,a.getTriangles().forEach(function(re,Ae,ae){var se=re.target,ye=(se[0][0]-oe[0])/o,De=-(se[0][1]-oe[1])/o,Ne=(se[1][0]-oe[0])/o,et=-(se[1][1]-oe[1])/o,ft=(se[2][0]-oe[0])/o,Ke=-(se[2][1]-oe[1])/o;k.beginPath(),k.moveTo(Ne,et),k.lineTo(ye,De),k.lineTo(ft,Ke),k.closePath(),k.stroke()}),k.restore()),k.canvas}var Jse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ele=function(e){Jse(n,e);function n(t,r,i,o,s,a,h,g,C,B,k,P){var U=e.call(this,s,pr.IDLE,{interpolate:!!P})||this;U.renderEdges_=k!==void 0?k:!1,U.pixelRatio_=h,U.gutter_=g,U.canvas_=null,U.sourceTileGrid_=r,U.targetTileGrid_=o,U.wrappedTileCoord_=a||s,U.sourceTiles_=[],U.sourcesListenerKeys_=null,U.sourceZ_=0;var Z=o.getTileCoordExtent(U.wrappedTileCoord_),W=U.targetTileGrid_.getExtent(),Q=U.sourceTileGrid_.getExtent(),q=W?J0(Z,W):Z;if(q6(q)===0)return U.state=pr.EMPTY,U;var oe=t.getExtent();oe&&(Q?Q=J0(Q,oe):Q=oe);var re=o.getResolution(U.wrappedTileCoord_[0]),Ae=Zse(t,i,q,re);if(!isFinite(Ae)||Ae<=0)return U.state=pr.EMPTY,U;var ae=B!==void 0?B:$se;if(U.triangulation_=new qse(t,i,q,Q,Ae*ae,re),U.triangulation_.getTriangles().length===0)return U.state=pr.EMPTY,U;U.sourceZ_=r.getZForResolution(Ae);var se=U.triangulation_.calculateSourceExtent();if(Q&&(t.canWrapX()?(se[1]=kl(se[1],Q[1],Q[3]),se[3]=kl(se[3],Q[1],Q[3])):se=J0(se,Q)),!q6(se))U.state=pr.EMPTY;else{for(var ye=r.getTileRangeForExtentAndZ(se,U.sourceZ_),De=ye.minX;De<=ye.maxX;De++)for(var Ne=ye.minY;Ne<=ye.maxY;Ne++){var et=C(U.sourceZ_,De,Ne,h);et&&U.sourceTiles_.push(et)}U.sourceTiles_.length===0&&(U.state=pr.EMPTY)}return U}return n.prototype.getImage=function(){return this.canvas_},n.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(C,B,k){C&&C.getState()==pr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(C.tileCoord),image:C.getImage()})}).bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=pr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(r),h=this.sourceTileGrid_.getResolution(this.sourceZ_),g=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Xse(o,s,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),a,g,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=pr.LOADED}this.changed()},n.prototype.load=function(){if(this.state==pr.IDLE){this.state=pr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var s=r.getState();if(s==pr.IDLE||s==pr.LOADING){t++;var a=bo(r,Bi.CHANGE,function(h){var g=r.getState();(g==pr.LOADED||g==pr.ERROR||g==pr.EMPTY)&&(Ya(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}).bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var s=r.getState();s==pr.IDLE&&r.load()})}},n.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Ya),this.sourcesListenerKeys_=null},n.prototype.release=function(){this.canvas_&&(m7(this.canvas_.getContext("2d")),oj.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},n}(_5);const aj=ele;var tle=function(){function e(n){this.highWaterMark=n!==void 0?n:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(n){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(n){return this.entries_.hasOwnProperty(n)},e.prototype.forEach=function(n){for(var t=this.oldest_;t;)n(t.value_,t.key_,this),t=t.newer},e.prototype.get=function(n,t){var r=this.entries_[n];return ao(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},e.prototype.remove=function(n){var t=this.entries_[n];return ao(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[n],--this.count_,t.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var n=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)n[t++]=r.key_;return n},e.prototype.getValues=function(){var n=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)n[t++]=r.value_;return n},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(n){if(this.containsKey(n))return this.entries_[n].value_},e.prototype.pop=function(){var n=this.oldest_;return delete this.entries_[n.key_],n.newer&&(n.newer.older=null),this.oldest_=n.newer,this.oldest_||(this.newest_=null),--this.count_,n.value_},e.prototype.replace=function(n,t){this.get(n),this.entries_[n].value_=t},e.prototype.set=function(n,t){ao(!(n in this.entries_),16);var r={key_:n,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[n]=r,++this.count_},e.prototype.setSize=function(n){this.highWaterMark=n},e}();const nle=tle;var rle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ile=function(e){rle(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},n.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=rj(t),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove(nj(o.tileCoord)),o.release())}).bind(this))}},n}(nle);const S7=ile,kM={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function sj(e){var n=e.getDefaultTileGrid();return n||(n=sle(e),e.setDefaultTileGrid(n)),n}function ole(e,n,t){var r=n[0],i=e.getTileCoordCenter(n),o=C5(t);if(YC(o,i))return n;var s=us(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,e.getTileCoordForCoordAndZ(i,r)}function ale(e,n,t,r){var i=r!==void 0?r:"top-left",o=lj(e,n,t);return new JC({extent:e,origin:Jte(e,i),resolutions:o,tileSize:t})}function E7(e){var n=e||{},t=n.extent||Ws("EPSG:3857").getExtent(),r={extent:t,minZoom:n.minZoom,tileSize:n.tileSize,resolutions:lj(t,n.maxZoom,n.tileSize,n.maxResolution)};return new JC(r)}function lj(e,n,t,r){for(var i=n!==void 0?n:Sz,o=JA(e),s=us(e),a=yA(t!==void 0?t:g7),h=r>0?r:Math.max(s/a[0],o/a[1]),g=i+1,C=new Array(g),B=0;B<g;++B)C[B]=h/Math.pow(2,B);return C}function sle(e,n,t,r){var i=C5(e);return ale(i,n,t,r)}function C5(e){e=Ws(e);var n=e.getExtent();if(!n){var t=180*vf[_A.DEGREES]/e.getMetersPerUnit();n=Cf(-t,-t,t,t)}return n}var uj=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lle=function(e){uj(n,e);function n(t){var r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256];return r.tileGrid&&yA(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new S7(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return n.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},n.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);i&&i.expireCache(r)},n.prototype.forEachLoadedTile=function(t,r,i,o){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var a=!0,h,g,C,B=i.minX;B<=i.maxX;++B)for(var k=i.minY;k<=i.maxY;++k)g=qy(r,B,k),C=!1,s.containsKey(g)&&(h=s.get(g),C=h.getState()===pr.LOADED,C&&(C=o(h)!==!1)),C||(a=!1);return a},n.prototype.getGutterForProjection=function(t){return 0},n.prototype.getKey=function(){return this.key_},n.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},n.prototype.getOpaque=function(t){return this.opaque_},n.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},n.prototype.getTile=function(t,r,i,o,s){return si()},n.prototype.getTileGrid=function(){return this.tileGrid},n.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:sj(t)},n.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();return ao(r===null||T0(r,t),68),this.tileCache},n.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},n.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),a=yA(o.getTileSize(t),this.tmpSize);return s==1?a:ooe(a,s,this.tmpSize)},n.prototype.getTileCoordForTileUrlFunction=function(t,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=ole(o,t,i)),Use(t,o)?t:null},n.prototype.clear=function(){this.tileCache.clear()},n.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},n.prototype.updateCacheSize=function(t,r){var i=this.getTileCacheForProjection(r);t>i.highWaterMark&&(i.highWaterMark=t)},n.prototype.useTile=function(t,r,i,o){},n}(Hz),ule=function(e){uj(n,e);function n(t,r){var i=e.call(this,t)||this;return i.tile=r,i}return n}(kp);const Ale=lle;function cle(e,n){var t=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,h){if(s)return e.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var g=s[0],C=n.getFullTileRange(g);ao(C,55);var B=C.getHeight()-s[2]-1;return B.toString()})}}function Aj(e,n){for(var t=e.length,r=new Array(t),i=0;i<t;++i)r[i]=cle(e[i],n);return dle(r)}function dle(e){return e.length===1?e[0]:function(n,t,r){if(n){var i=Lse(n),o=t1(i,e.length);return e[o](n,t,r)}else return}}function hle(e){var n=[],t=/\{([a-z])-([a-z])\}/.exec(e);if(t){var r=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)n.push(e.replace(t[0],String.fromCharCode(o)));return n}if(t=/\{(\d+)-(\d+)\}/.exec(e),t){for(var s=parseInt(t[2],10),a=parseInt(t[1],10);a<=s;a++)n.push(e.replace(t[0],a.toString()));return n}return n.push(e),n}var fle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ple=function(e){fle(n,e);function n(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===n.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return n.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},n.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},n.prototype.getUrls=function(){return this.urls},n.prototype.handleTileChange=function(t){var r=t.target,i=Ni(r),o=r.getState(),s;o==pr.LOADING?(this.tileLoadingKeys_[i]=!0,s=kM.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=o==pr.ERROR?kM.TILELOADERROR:o==pr.LOADED?kM.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new ule(s,r))},n.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},n.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},n.prototype.setUrl=function(t){var r=hle(t);this.urls=r,this.setUrls(r)},n.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Aj(t,this.tileGrid),r):this.setKey(r)},n.prototype.tileUrlFunction=function(t,r,i){},n.prototype.useTile=function(t,r,i){var o=qy(t,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},n}(Ale);const cj=ple;var mle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gle=function(e){mle(n,e);function n(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:yle,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:ij,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return n.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},n.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?r:{})}},n.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!T0(this.getProjection(),t)?0:this.getGutter()},n.prototype.getGutter=function(){return 0},n.prototype.getKey=function(){var t=e.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},n.prototype.getOpaque=function(t){return this.getProjection()&&t&&!T0(this.getProjection(),t)?!1:e.prototype.getOpaque.call(this,t)},n.prototype.getTileGridForProjection=function(t){var r=this.getProjection();if(this.tileGrid&&(!r||T0(r,t)))return this.tileGrid;var i=Ni(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=sj(t)),this.tileGridForProjection[i]},n.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();if(!r||T0(r,t))return this.tileCache;var i=Ni(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new S7(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},n.prototype.createTile_=function(t,r,i,o,s,a){var h=[t,r,i],g=this.getTileCoordForTileUrlFunction(h,s),C=g?this.tileUrlFunction(g,o,s):void 0,B=new this.tileClass(h,C!==void 0?pr.IDLE:pr.EMPTY,C!==void 0?C:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return B.key=a,B.addEventListener(Bi.CHANGE,this.handleTileChange.bind(this)),B},n.prototype.getTile=function(t,r,i,o,s){var a=this.getProjection();if(!a||!s||T0(a,s))return this.getTileInternal(t,r,i,o,a||s);var h=this.getTileCacheForProjection(s),g=[t,r,i],C=void 0,B=nj(g);h.containsKey(B)&&(C=h.get(B));var k=this.getKey();if(C&&C.key==k)return C;var P=this.getTileGridForProjection(a),U=this.getTileGridForProjection(s),Z=this.getTileCoordForTileUrlFunction(g,s),W=new aj(a,P,s,U,g,Z,this.getTilePixelRatio(o),this.getGutter(),(function(Q,q,oe,re){return this.getTileInternal(Q,q,oe,re,a)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return W.key=k,C?(W.interimTile=C,W.refreshInterimChain(),h.replace(B,W)):h.set(B,W),W},n.prototype.getTileInternal=function(t,r,i,o,s){var a=null,h=qy(t,r,i),g=this.getKey();if(!this.tileCache.containsKey(h))a=this.createTile_(t,r,i,o,s,g),this.tileCache.set(h,a);else if(a=this.tileCache.get(h),a.key!=g){var C=a;a=this.createTile_(t,r,i,o,s,g),C.getState()==pr.IDLE?a.interimTile=C.interimTile:a.interimTile=C,a.refreshInterimChain(),this.tileCache.replace(h,a)}return a},n.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},n.prototype.setTileGridForProjection=function(t,r){{var i=Ws(t);if(i){var o=Ni(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},n}(cj);function yle(e,n){e.getImage().src=n}const vle=gle;var dj=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function _le(e,n,t,r){var i=document.createElement("script"),o="olc_"+Ni(n);function s(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(e.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+o;var a=setTimeout(function(){s(),t&&t()},1e4);window[o]=function(h){clearTimeout(a),s(),n(h)},document.head.appendChild(i)}(function(e){dj(n,e);function n(t){var r=this,i="Unexpected response status: "+t.status;return r=e.call(this,i)||this,r.name="ResponseError",r.response=t,r}return n})(Error);(function(e){dj(n,e);function n(t){var r=e.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=t,r}return n})(Error);var Cle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ble=function(e){Cle(n,e);function n(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;if(t.interpolate!==void 0&&(i=t.interpolate),r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:Ws("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,r.tileJSON_=null,r.tileSize_=t.tileSize,t.url)if(t.jsonp)_le(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",t.url),o.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):ao(!1,51);return r}return n.prototype.onXHRLoad_=function(t){var r=t.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},n.prototype.onXHRError_=function(t){this.handleTileJSONError()},n.prototype.getTileJSON=function(){return this.tileJSON_},n.prototype.handleTileJSONResponse=function(t){var r=Ws("EPSG:4326"),i=this.getProjection(),o;if(t.bounds!==void 0){var s=f5(r,i);o=nne(t.bounds,s)}var a=C5(i),h=t.minzoom||0,g=t.maxzoom||22,C=E7({extent:a,maxZoom:g,minZoom:h,tileSize:this.tileSize_});if(this.tileGrid=C,this.tileUrlFunction=Aj(t.tiles,C),t.attribution!==void 0&&!this.getAttributions()){var B=o!==void 0?o:a;this.setAttributions(function(k){return cl(B,k.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState("ready")},n.prototype.handleTileJSONError=function(){this.setState("error")},n}(vle);const hj=ble,xm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var xle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wle=function(e){xle(n,e);function n(t){var r=this,i=t||{},o=hl({},i);return delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return n.prototype.getPreload=function(){return this.get(xm.PRELOAD)},n.prototype.setPreload=function(t){this.set(xm.PRELOAD,t)},n.prototype.getUseInterimTilesOnError=function(){return this.get(xm.USE_INTERIM_TILES_ON_ERROR)},n.prototype.setUseInterimTilesOnError=function(t){this.set(xm.USE_INTERIM_TILES_ON_ERROR,t)},n.prototype.getData=function(t){return e.prototype.getData.call(this,t)},n}(g5);const Mle=wle;var Sle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ele=function(e){Sle(n,e);function n(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=xd(),r.tmpTileRange_=new tj(0,0,0,0),r}return n.prototype.isDrawableTile=function(t){var r=this.getLayer(),i=t.getState(),o=r.getUseInterimTilesOnError();return i==pr.LOADED||i==pr.EMPTY||i==pr.ERROR&&!o},n.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState.projection,h=this.getLayer(),g=h.getSource(),C=g.getTile(t,r,i,s,a);return C.getState()==pr.ERROR&&(h.getUseInterimTilesOnError()?h.getPreload()>0&&(this.newTiles_=!0):C.setState(pr.LOADED)),this.isDrawableTile(C)||(C=C.getInterimTile()),C},n.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=Al(r.pixelToCoordinateTransform,t.slice()),s=i.getExtent();if(s&&!YC(s,o))return null;for(var a=r.pixelRatio,h=r.viewState.projection,g=r.viewState,C=i.getRenderSource(),B=C.getTileGridForProjection(g.projection),k=C.getTilePixelRatio(r.pixelRatio),P=B.getZForResolution(g.resolution);P>=B.getMinZoom();--P){var U=B.getTileCoordForCoordAndZ(o,P),Z=C.getTile(P,U[1],U[2],a,h);if(!(Z instanceof ij||Z instanceof aj))return null;if(Z.getState()===pr.LOADED){var W=B.getOrigin(P),Q=yA(B.getTileSize(P)),q=B.getResolution(P),oe=Math.floor(k*((o[0]-W[0])/q-U[1]*Q[0])),re=Math.floor(k*((W[1]-o[1])/q-U[2]*Q[1])),Ae=Math.round(k*C.getGutterForProjection(g.projection));return this.getImageData(Z.getImage(),oe+Ae,re+Ae)}}return null},n.prototype.loadedTileCallback=function(t,r,i){return this.isDrawableTile(i)?e.prototype.loadedTileCallback.call(this,t,r,i):!1},n.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},n.prototype.renderFrame=function(t,r){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,s=o.projection,a=o.resolution,h=o.center,g=o.rotation,C=t.pixelRatio,B=this.getLayer(),k=B.getSource(),P=k.getRevision(),U=k.getTileGridForProjection(s),Z=U.getZForResolution(a,k.zDirection),W=U.getResolution(Z),Q=t.extent,q=t.viewState.resolution,oe=k.getTilePixelRatio(C),re=Math.round(us(Q)/q*C),Ae=Math.round(JA(Q)/q*C),ae=i.extent&&W0(i.extent);ae&&(Q=J0(Q,W0(i.extent)));var se=W*re/2/oe,ye=W*Ae/2/oe,De=[h[0]-se,h[1]-ye,h[0]+se,h[1]+ye],Ne=U.getTileRangeForExtentAndZ(Q,Z),et={};et[Z]={};var ft=this.createLoadedTileFinder(k,s,et),Ke=this.tmpExtent,rt=this.tmpTileRange_;this.newTiles_=!1;for(var _e=g?H6(o.center,q,g,t.size):void 0,Ut=Ne.minX;Ut<=Ne.maxX;++Ut)for(var jt=Ne.minY;jt<=Ne.maxY;++jt)if(!(g&&!U.tileCoordIntersectsViewport([Z,Ut,jt],_e))){var nn=this.getTile(Z,Ut,jt,t);if(this.isDrawableTile(nn)){var Qt=Ni(this);if(nn.getState()==pr.LOADED){et[Z][nn.tileCoord.toString()]=nn;var He=nn.inTransition(Qt);He&&i.opacity!==1&&(nn.endTransition(Qt),He=!1),!this.newTiles_&&(He||this.renderedTiles.indexOf(nn)===-1)&&(this.newTiles_=!0)}if(nn.getAlpha(Qt,t.time)===1)continue}var Je=U.getTileCoordChildTileRange(nn.tileCoord,rt,Ke),tt=!1;Je&&(tt=ft(Z+1,Je)),tt||U.forEachTileCoordParentTileRange(nn.tileCoord,ft,rt,Ke)}var on=W/a*C/oe;_f(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/C,1/C,g,-re/2,-Ae/2);var mt=WR(this.pixelTransform);this.useContainer(r,mt,this.getBackground(t));var dt=this.context,kt=dt.canvas;qB(this.inversePixelTransform,this.pixelTransform),_f(this.tempTransform,re/2,Ae/2,on,on,0,-re/2,-Ae/2),kt.width!=re||kt.height!=Ae?(kt.width=re,kt.height=Ae):this.containerReused||dt.clearRect(0,0,re,Ae),ae&&this.clipUnrotated(dt,t,ae),k.getInterpolate()||hl(dt,fE),this.preRender(dt,t),this.renderedTiles.length=0;var Pt=Object.keys(et).map(Number);Pt.sort(d1);var Me,he,be;i.opacity===1&&(!this.containerReused||k.getOpaque(t.viewState.projection))?Pt=Pt.reverse():(Me=[],he=[]);for(var Pe=Pt.length-1;Pe>=0;--Pe){var Ze=Pt[Pe],nt=k.getTilePixelSize(Ze,C,s),xt=U.getResolution(Ze),Ft=xt/W,Dt=nt[0]*Ft*on,pt=nt[1]*Ft*on,nr=U.getTileCoordForCoordAndZ(qm(De),Ze),pn=U.getTileCoordExtent(nr),bn=Al(this.tempTransform,[oe*(pn[0]-De[0])/W,oe*(De[3]-pn[3])/W]),Jn=oe*k.getGutterForProjection(s),mr=et[Ze];for(var xr in mr){var nn=mr[xr],Nr=nn.tileCoord,_r=nr[1]-Nr[1],fi=Math.round(bn[0]-(_r-1)*Dt),we=nr[2]-Nr[2],H=Math.round(bn[1]-(we-1)*pt),Ut=Math.round(bn[0]-_r*Dt),jt=Math.round(bn[1]-we*pt),Y=fi-Ut,Be=H-jt,st=Z===Ze,He=st&&nn.getAlpha(Ni(this),t.time)!==1,St=!1;if(!He)if(Me){be=[Ut,jt,Ut+Y,jt,Ut+Y,jt+Be,Ut,jt+Be];for(var Et=0,Nt=Me.length;Et<Nt;++Et)if(Z!==Ze&&Ze<he[Et]){var mn=Me[Et];cl([Ut,jt,Ut+Y,jt+Be],[mn[0],mn[3],mn[4],mn[7]])&&(St||(dt.save(),St=!0),dt.beginPath(),dt.moveTo(be[0],be[1]),dt.lineTo(be[2],be[3]),dt.lineTo(be[4],be[5]),dt.lineTo(be[6],be[7]),dt.moveTo(mn[6],mn[7]),dt.lineTo(mn[4],mn[5]),dt.lineTo(mn[2],mn[3]),dt.lineTo(mn[0],mn[1]),dt.clip())}Me.push(be),he.push(Ze)}else dt.clearRect(Ut,jt,Y,Be);this.drawTileImage(nn,t,Ut,jt,Y,Be,Jn,st),Me&&!He?(St&&dt.restore(),this.renderedTiles.unshift(nn)):this.renderedTiles.push(nn),this.updateUsedTiles(t.usedTiles,k,nn)}}return this.renderedRevision=P,this.renderedResolution=W,this.extentChanged=!this.renderedExtent_||!ky(this.renderedExtent_,De),this.renderedExtent_=De,this.renderedPixelRatio=C,this.renderedProjection=s,this.manageTilePyramid(t,k,U,C,s,Q,Z,B.getPreload()),this.scheduleExpireCache(t,k),this.postRender(dt,t),i.extent&&dt.restore(),hl(dt,Vse),mt!==kt.style.transform&&(kt.style.transform=mt),this.container},n.prototype.drawTileImage=function(t,r,i,o,s,a,h,g){var C=this.getTileImage(t);if(C){var B=Ni(this),k=r.layerStatesArray[r.layerIndex],P=k.opacity*(g?t.getAlpha(B,r.time):1),U=P!==this.context.globalAlpha;U&&(this.context.save(),this.context.globalAlpha=P),this.context.drawImage(C,h,h,C.width-2*h,C.height-2*h,i,o,s,a),U&&this.context.restore(),P!==k.opacity?r.animate=!0:g&&t.endTransition(B)}},n.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},n.prototype.getTileImage=function(t){return t.getImage()},n.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=(function(o,s,a){var h=Ni(o);h in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[h])}).bind(null,r);t.postRenderFunctions.push(i)}},n.prototype.updateUsedTiles=function(t,r,i){var o=Ni(r);o in t||(t[o]={}),t[o][i.getKey()]=!0},n.prototype.manageTilePyramid=function(t,r,i,o,s,a,h,g,C){var B=Ni(r);B in t.wantedTiles||(t.wantedTiles[B]={});var k=t.wantedTiles[B],P=t.tileQueue,U=i.getMinZoom(),Z=t.viewState.rotation,W=Z?H6(t.viewState.center,t.viewState.resolution,Z,t.size):void 0,Q=0,q,oe,re,Ae,ae,se;for(se=U;se<=h;++se)for(oe=i.getTileRangeForExtentAndZ(a,se,oe),re=i.getResolution(se),Ae=oe.minX;Ae<=oe.maxX;++Ae)for(ae=oe.minY;ae<=oe.maxY;++ae)Z&&!i.tileCoordIntersectsViewport([se,Ae,ae],W)||(h-se<=g?(++Q,q=r.getTile(se,Ae,ae,o,s),q.getState()==pr.IDLE&&(k[q.getKey()]=!0,P.isKeyQueued(q.getKey())||P.enqueue([q,B,i.getTileCoordCenter(q.tileCoord),re])),C!==void 0&&C(q)):r.useTile(se,Ae,ae,s));r.updateCacheSize(Q,s)},n}(Wz);const fj=Ele;var Ole=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ble=function(e){Ole(n,e);function n(t){return e.call(this,t)||this}return n.prototype.createRenderer=function(){return new fj(this)},n}(Mle);const wm={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var kle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ile={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Tle={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},Kle=function(e){kle(n,e);function n(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=_d(),r}return n.prototype.prepareTile=function(t,r,i){var o,s=t.getState();return(s===pr.LOADED||s===pr.ERROR)&&(this.updateExecutorGroup_(t,r,i),this.tileImageNeedsRender_(t)&&(o=!0)),o},n.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState,h=a.resolution,g=a.projection,C=this.getLayer(),B=C.getSource().getTile(t,r,i,s,g),k=o.viewHints,P=!(k[el.ANIMATING]||k[el.INTERACTING]);(P||!B.wantedResolution)&&(B.wantedResolution=h);var U=this.prepareTile(B,s,g);return U&&(P||Date.now()-o.time<8)&&C.getRenderMode()!==wm.VECTOR&&this.renderTileImage_(B,o),e.prototype.getTile.call(this,t,r,i,o)},n.prototype.isDrawableTile=function(t){var r=this.getLayer();return e.prototype.isDrawableTile.call(this,t)&&(r.getRenderMode()===wm.VECTOR?Ni(r)in t.executorGroups:t.hasContext(r))},n.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},n.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),e.prototype.prepareFrame.call(this,t)},n.prototype.updateExecutorGroup_=function(t,r,i){var o=this.getLayer(),s=o.getRevision(),a=o.getRenderOrder()||null,h=t.wantedResolution,g=t.getReplayState(o);if(!(!g.dirty&&g.renderedResolution===h&&g.renderedRevision==s&&g.renderedRenderOrder==a)){var C=o.getSource(),B=o.getDeclutter(),k=C.getTileGrid(),P=C.getTileGridForProjection(i),U=P.getTileCoordExtent(t.wrappedTileCoord),Z=C.getSourceTiles(r,i,t),W=Ni(o);delete t.hitDetectionImageData[W],t.executorGroups[W]=[],B&&(t.declutterExecutorGroups[W]=[]),g.dirty=!1;for(var Q=function(Ae,ae){var se=Z[Ae];if(se.getState()!=pr.LOADED)return"continue";var ye=se.tileCoord,De=k.getTileCoordExtent(ye),Ne=J0(U,De),et=Dm(Ne,o.getRenderBuffer()*h,q.tmpExtent),ft=ky(De,Ne)?null:et,Ke=new D3(0,et,h,r),rt=B?new D3(0,Ne,h,r):void 0,_e=Yz(h,r),Ut=function(dt){var kt,Pt=dt.getStyleFunction()||o.getStyleFunction();if(Pt&&(kt=Pt(dt,h)),kt){var Me=this.renderFeature(dt,_e,kt,Ke,rt);g.dirty=g.dirty||Me}},jt=se.getFeatures();a&&a!==g.renderedRenderOrder&&jt.sort(a);for(var nn=0,Qt=jt.length;nn<Qt;++nn){var He=jt[nn];(!ft||cl(ft,He.getGeometry().getExtent()))&&Ut.call(q,He)}var Je=Ke.finish(),tt=o.getRenderMode()!==wm.VECTOR&&B&&Z.length===1?null:Ne,on=new L3(tt,h,r,C.getOverlaps(),Je,o.getRenderBuffer());if(t.executorGroups[W].push(on),rt){var mt=new L3(null,h,r,C.getOverlaps(),rt.finish(),o.getRenderBuffer());t.declutterExecutorGroups[W].push(mt)}},q=this,oe=0,re=Z.length;oe<re;++oe)Q(oe);g.renderedRevision=s,g.renderedRenderOrder=a,g.renderedResolution=h}},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=r.viewState.resolution,h=r.viewState.rotation;i=i??0;var g=this.getLayer(),C=g.getSource(),B=C.getTileGridForProjection(r.viewState.projection),k=$6([t]);Dm(k,a*i,k);for(var P={},U=function(re,Ae,ae){var se=re.getId();se===void 0&&(se=Ni(re));var ye=P[se];if(ye){if(ye!==!0&&ae<ye.distanceSq){if(ae===0)return P[se]=!0,s.splice(s.lastIndexOf(ye),1),o(re,g,Ae);ye.geometry=Ae,ye.distanceSq=ae}}else{if(ae===0)return P[se]=!0,o(re,g,Ae);s.push(P[se]={feature:re,layer:g,geometry:Ae,distanceSq:ae,callback:o})}},Z=this.renderedTiles,W,Q=function(re,Ae){var ae=Z[re],se=B.getTileCoordExtent(ae.wrappedTileCoord);if(!cl(se,k))return"continue";var ye=Ni(g),De=[ae.executorGroups[ye]],Ne=ae.declutterExecutorGroups[ye];Ne&&De.push(Ne),De.some(function(et){for(var ft=et===Ne?r.declutterTree.all().map(function(Ut){return Ut.value}):null,Ke=0,rt=et.length;Ke<rt;++Ke){var _e=et[Ke];if(W=_e.forEachFeatureAtCoordinate(t,a,h,i,U,ft),W)return!0}})},q=0,oe=Z.length;!W&&q<oe;++q)Q(q);return W},n.prototype.getFeatures=function(t){return new Promise((function(r,i){for(var o=this.getLayer(),s=Ni(o),a=o.getSource(),h=this.renderedProjection,g=h.getExtent(),C=this.renderedResolution,B=a.getTileGridForProjection(h),k=Al(this.renderedPixelToCoordinateTransform_,t.slice()),P=B.getTileCoordForCoordAndResolution(k,C),U,Z=0,W=this.renderedTiles.length;Z<W;++Z)if(P.toString()===this.renderedTiles[Z].tileCoord.toString()){if(U=this.renderedTiles[Z],U.getState()===pr.LOADED){var Q=B.getTileCoordExtent(U.tileCoord);a.getWrapX()&&h.canWrapX()&&!_m(g,Q)&&e7(k,h);break}U=void 0}if(!U||U.loadingSourceTiles>0){r([]);return}var q=B.getTileCoordExtent(U.wrappedTileCoord),oe=qm(q),re=[(k[0]-oe[0])/C,(oe[1]-k[1])/C],Ae=U.getSourceTiles().reduce(function(Ne,et){return Ne.concat(et.getFeatures())},[]),ae=U.hitDetectionImageData[s];if(!ae&&!this.animatingOrInteracting_){var se=yA(B.getTileSize(B.getZForResolution(C,a.zDirection))),ye=this.renderedRotation_,De=[this.getRenderTransform(B.getTileCoordCenter(U.wrappedTileCoord),C,0,Pc,se[0]*Pc,se[1]*Pc,0)];ae=Gz(se,De,Ae,o.getStyleFunction(),B.getTileCoordExtent(U.wrappedTileCoord),U.getReplayState(o).renderedResolution,ye),U.hitDetectionImageData[s]=ae}r(Qz(re,Ae,ae))}).bind(this))},n.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},n.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},n.prototype.renderDeclutter=function(t){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,s=!(o[el.ANIMATING]||o[el.INTERACTING]),a=this.renderedTiles,h=0,g=a.length;h<g;++h){var C=a[h],B=C.declutterExecutorGroups[Ni(this.getLayer())];if(B)for(var k=B.length-1;k>=0;--k)B[k].execute(this.context,1,this.getTileRenderTransform(C,t),t.viewState.rotation,s,void 0,t.declutterTree)}r.globalAlpha=i},n.prototype.getTileRenderTransform=function(t,r){var i=r.pixelRatio,o=r.viewState,s=o.center,a=o.resolution,h=o.rotation,g=r.size,C=Math.round(g[0]*i),B=Math.round(g[1]*i),k=this.getLayer().getSource(),P=k.getTileGridForProjection(r.viewState.projection),U=t.tileCoord,Z=P.getTileCoordExtent(t.wrappedTileCoord),W=P.getTileCoordExtent(U,this.tmpExtent)[0]-Z[0],Q=YB(pM(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,a,h,i,C,B,W));return Q},n.prototype.renderFrame=function(t,r){var i=t.viewHints,o=!(i[el.ANIMATING]||i[el.INTERACTING]);e.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var s=this.getLayer(),a=s.getRenderMode(),h=this.context,g=h.globalAlpha;h.globalAlpha=s.getOpacity();for(var C=Tle[a],B=t.viewState,k=B.rotation,P=s.getSource(),U=P.getTileGridForProjection(B.projection),Z=U.getZForResolution(B.resolution,P.zDirection),W=this.renderedTiles,Q=[],q=[],oe=!0,re=W.length-1;re>=0;--re){var Ae=W[re];oe=oe&&!Ae.getReplayState(s).dirty;var ae=Ae.executorGroups[Ni(s)].filter(function(jt){return jt.hasExecutors(C)});if(ae.length!==0){var se=this.getTileRenderTransform(Ae,t),ye=Ae.tileCoord[0],De=!1,Ne=ae[0].getClipCoords(se);if(Ne){for(var et=0,ft=Q.length;et<ft;++et)if(Z!==ye&&ye<q[et]){var Ke=Q[et];cl([Ne[0],Ne[3],Ne[4],Ne[7]],[Ke[0],Ke[3],Ke[4],Ke[7]])&&(De||(h.save(),De=!0),h.beginPath(),h.moveTo(Ne[0],Ne[1]),h.lineTo(Ne[2],Ne[3]),h.lineTo(Ne[4],Ne[5]),h.lineTo(Ne[6],Ne[7]),h.moveTo(Ke[6],Ke[7]),h.lineTo(Ke[4],Ke[5]),h.lineTo(Ke[2],Ke[3]),h.lineTo(Ke[0],Ke[1]),h.clip())}Q.push(Ne),q.push(ye)}for(var rt=0,_e=ae.length;rt<_e;++rt){var Ut=ae[rt];Ut.execute(h,1,se,k,o,C)}De&&h.restore()}}return h.globalAlpha=g,this.ready=oe,this.container},n.prototype.renderFeature=function(t,r,i,o,s){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var h=0,g=i.length;h<g;++h)a=U3(o,t,i[h],r,this.boundHandleStyleImageChange_,void 0,s)||a;else a=U3(o,t,i,r,this.boundHandleStyleImageChange_,void 0,s);return a},n.prototype.tileImageNeedsRender_=function(t){var r=this.getLayer();if(r.getRenderMode()===wm.VECTOR)return!1;var i=t.getReplayState(r),o=r.getRevision(),s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o},n.prototype.renderTileImage_=function(t,r){var i=this.getLayer(),o=t.getReplayState(i),s=i.getRevision(),a=t.executorGroups[Ni(i)];o.renderedTileRevision=s;var h=t.wrappedTileCoord,g=h[0],C=i.getSource(),B=r.pixelRatio,k=r.viewState,P=k.projection,U=C.getTileGridForProjection(P),Z=U.getResolution(t.tileCoord[0]),W=r.pixelRatio/t.wantedResolution*Z,Q=U.getResolution(g),q=t.getContext(i);B=Math.round(Math.max(B,W/B));var oe=C.getTilePixelSize(g,B,P);q.canvas.width=oe[0],q.canvas.height=oe[1];var re=B/W;if(re!==1){var Ae=v9(this.tmpTransform_);pM(Ae,re,re),q.setTransform.apply(q,Ae)}var ae=U.getTileCoordExtent(h,this.tmpExtent),se=W/Q,ye=v9(this.tmpTransform_);pM(ye,se,-se),Vte(ye,-ae[0],-ae[3]);for(var De=0,Ne=a.length;De<Ne;++De){var et=a[De];et.execute(q,re,ye,0,!0,Ile[i.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},n}(fj);const Ple=Kle;var Fle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pj=function(e){Fle(n,e);function n(t){var r=this,i=t||{},o=hl({},i);delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,i.renderMode===wm.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var s=i.renderMode||wm.HYBRID;return ao(s==wm.HYBRID||s==wm.VECTOR,28),r.renderMode_=s,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return n.prototype.createRenderer=function(){return new Ple(this)},n.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},n.prototype.getRenderMode=function(){return this.renderMode_},n.prototype.getPreload=function(){return this.get(xm.PRELOAD)},n.prototype.getUseInterimTilesOnError=function(){return this.get(xm.USE_INTERIM_TILES_ON_ERROR)},n.prototype.setPreload=function(t){this.set(xm.PRELOAD,t)},n.prototype.setUseInterimTilesOnError=function(t){this.set(xm.USE_INTERIM_TILES_ON_ERROR,t)},n}(Rz),Dle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lle=function(e){Dle(n,e);function n(t,r,i,o,s,a){var h=e.call(this,t,r,a)||this;return h.extent=null,h.format_=o,h.features_=null,h.loader_,h.projection=null,h.resolution,h.tileLoadFunction_=s,h.url_=i,h.key=i,h}return n.prototype.getFormat=function(){return this.format_},n.prototype.getFeatures=function(){return this.features_},n.prototype.load=function(){this.state==pr.IDLE&&(this.setState(pr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},n.prototype.onLoad=function(t,r){this.setFeatures(t)},n.prototype.onError=function(){this.setState(pr.ERROR)},n.prototype.setFeatures=function(t){this.features_=t,this.setState(pr.LOADED)},n.prototype.setLoader=function(t){this.loader_=t},n}(_5);const Ule=Lle;var Rle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cT=[],zle=function(e){Rle(n,e);function n(t,r,i,o){var s=e.call(this,t,r,{transition:0})||this;return s.context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=[],s.errorTileKeys={},s.wantedResolution,s.getSourceTiles=o.bind(void 0,s),s.wrappedTileCoord=i,s}return n.prototype.getContext=function(t){var r=Ni(t);return r in this.context_||(this.context_[r]=ec(1,1,cT)),this.context_[r]},n.prototype.hasContext=function(t){return Ni(t)in this.context_},n.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},n.prototype.getReplayState=function(t){var r=Ni(t);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},n.prototype.load=function(){this.getSourceTiles()},n.prototype.release=function(){for(var t in this.context_){var r=this.context_[t];m7(r),cT.push(r.canvas),delete this.context_[t]}e.prototype.release.call(this)},n}(_5);const jle=zle;var Wle=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nle=function(e){Wle(n,e);function n(t){var r=this,i=t.projection||"EPSG:3857",o=t.extent||C5(i),s=t.tileGrid||E7({extent:o,maxResolution:t.maxResolution,maxZoom:t.maxZoom!==void 0?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:i,state:t.state,tileGrid:s,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Gle,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX===void 0?!0:t.wrapX,transition:t.transition,zDirection:t.zDirection===void 0?1:t.zDirection})||this,r.format_=t.format?t.format:null,r.sourceTileCache=new S7(r.tileCache.highWaterMark),r.overlaps_=t.overlaps==null?!0:t.overlaps,r.tileClass=t.tileClass?t.tileClass:Ule,r.tileGrids_={},r}return n.prototype.getFeaturesInExtent=function(t){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=rj(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach(function(a){if(!(a.tileCoord[0]!==o||a.getState()!==pr.LOADED))for(var h=a.getSourceTiles(),g=0,C=h.length;g<C;++g){var B=h[g],k=B.tileCoord;if(cl(t,s.getTileCoordExtent(k))){var P=B.getFeatures();if(P)for(var U=0,Z=P.length;U<Z;++U){var W=P[U],Q=W.getGeometry();cl(t,Q.getExtent())&&r.push(W)}}}}),r},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},n.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t),o=Object.keys(r).reduce(function(s,a){var h=Dse(a),g=i.peek(h);if(g)for(var C=g.sourceTiles,B=0,k=C.length;B<k;++B)s[C[B].getKey()]=!0;return s},{});e.prototype.expireCache.call(this,t,r),this.sourceTileCache.expireCache(o)},n.prototype.getSourceTiles=function(t,r,i){var o=this;if(i.getState()===pr.IDLE){i.setState(pr.LOADING);var s=i.wrappedTileCoord,a=this.getTileGridForProjection(r),h=a.getTileCoordExtent(s),g=s[0],C=a.getResolution(g);Dm(h,-C,h);var B=this.tileGrid,k=B.getExtent();k&&J0(h,k,h);var P=B.getZForResolution(C,this.zDirection);B.forEachTileCoord(h,P,function(U){var Z=o.tileUrlFunction(U,t,r),W=o.sourceTileCache.containsKey(Z)?o.sourceTileCache.get(Z):new o.tileClass(U,Z?pr.IDLE:pr.EMPTY,Z,o.format_,o.tileLoadFunction);i.sourceTiles.push(W);var Q=W.getState();if(Q<pr.LOADED){var q=function(oe){o.handleTileChange(oe);var re=W.getState();if(re===pr.LOADED||re===pr.ERROR){var Ae=W.getKey();Ae in i.errorTileKeys?W.getState()===pr.LOADED&&delete i.errorTileKeys[Ae]:i.loadingSourceTiles--,re===pr.ERROR?i.errorTileKeys[Ae]=!0:W.removeEventListener(Bi.CHANGE,q),i.loadingSourceTiles===0&&i.setState(f1(i.errorTileKeys)?pr.LOADED:pr.ERROR)}};W.addEventListener(Bi.CHANGE,q),i.loadingSourceTiles++}Q===pr.IDLE&&(W.extent=B.getTileCoordExtent(U),W.projection=r,W.resolution=B.getResolution(U[0]),o.sourceTileCache.set(Z,W),W.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(U){return U.getState()===pr.ERROR})?pr.ERROR:pr.LOADED)}return i.sourceTiles},n.prototype.getTile=function(t,r,i,o,s){var a=qy(t,r,i),h=this.getKey(),g;if(this.tileCache.containsKey(a)&&(g=this.tileCache.get(a),g.key===h))return g;var C=[t,r,i],B=this.getTileCoordForTileUrlFunction(C,s),k=this.getTileGrid().getExtent(),P=this.getTileGridForProjection(s);if(B&&k){var U=P.getTileCoordExtent(B);Dm(U,-P.getResolution(t),U),cl(k,U)||(B=null)}var Z=!0;if(B!==null){var W=this.tileGrid,Q=P.getResolution(t),q=W.getZForResolution(Q,1),oe=P.getTileCoordExtent(B);Dm(oe,-Q,oe),W.forEachTileCoord(oe,q,(function(Ae){Z=Z&&!this.tileUrlFunction(Ae,o,s)}).bind(this))}var re=new jle(C,Z?pr.EMPTY:pr.IDLE,B,this.getSourceTiles.bind(this,o,s));return re.key=h,g?(re.interimTile=g,re.refreshInterimChain(),this.tileCache.replace(a,re)):this.tileCache.set(a,re),re},n.prototype.getTileGridForProjection=function(t){var r=t.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,s=o.getResolutions().slice(),a=s.map(function(B,k){return o.getOrigin(k)}),h=s.map(function(B,k){return o.getTileSize(k)}),g=Sz+1,C=s.length;C<g;++C)s.push(s[C-1]/2),a.push(a[C-1]),h.push(h[C-1]);i=new JC({extent:o.getExtent(),origins:a,resolutions:s,tileSizes:h}),this.tileGrids_[r]=i}return i},n.prototype.getTilePixelRatio=function(t){return t},n.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=yA(o.getTileSize(t),this.tmpSize);return[Math.round(s[0]*r),Math.round(s[1]*r)]},n.prototype.updateCacheSize=function(t,r){e.prototype.updateCacheSize.call(this,t*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},n}(cj);const mj=Nle;function Gle(e,n){e.setLoader(function(t,r,i){Zz(n,e.getFormat(),t,r,i,e.onLoad.bind(e),e.onError.bind(e))})}var dT={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},Gv=" ",hT=/(italic|oblique)$/i,fT={},Qle=function(e,n,t){var r=fT[e];if(!r){Array.isArray(e)||(e=[e]);for(var i=400,o="normal",s=[],a,h,g=0,C=e.length;g<C;++g){var B=e[g],k=B.split(" "),P=k[k.length-1].toLowerCase();P=="normal"||P=="italic"||P=="oblique"?(o=h?o:P,k.pop(),P=k[k.length-1].toLowerCase()):hT.test(P)&&(P=P.replace(hT,""),o=h?o:k[k.length-1].replace(P,""));for(var U in dT){var Z=k.length>1?k[k.length-2].toLowerCase():"";if(P==U||P==U.replace("-","")||Z+"-"+P==U){i=a?i:dT[U],k.pop(),Z&&U.startsWith(Z)&&k.pop();break}}!a&&typeof P=="number"&&(i=P);var W=k.join(Gv).replace("Klokantech Noto Sans","Noto Sans");W.indexOf(Gv)!==-1&&(W='"'+W+'"'),s.push(W)}r=fT[e]=[o,i,s]}return r[0]+Gv+r[1]+Gv+n+"px"+(t?"/"+t:"")+Gv+r[2]};const pE=oa(Qle);var $le=8,Yle={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},qle={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},Vle=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Hle={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Zle={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Xle={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Jle={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},eue={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},tue={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},nue={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},rue=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],iue={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},oue={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},aue={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},sue={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},lue={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},uue={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Aue={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},cue={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},due={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},hue={type:"array",value:"*",doc:"A filter selects specific features from a layer."},fue={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},pue={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},mue={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},gue={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},yue={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},vue={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},_ue={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},Cue={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},bue={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},xue={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},wue={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},Mue={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},Sue={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carre projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},Eue={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},Oue=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],Bue={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},kue={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},Iue={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Tue={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Kue={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Pue={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Fue={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Due={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Lue={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Uue={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},Rue={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},gj={$version:$le,$root:Yle,sources:qle,source:Vle,source_vector:Hle,source_raster:Zle,source_raster_dem:Xle,source_geojson:Jle,source_video:eue,source_image:tue,layer:nue,layout:rue,layout_background:iue,layout_sky:oue,layout_fill:aue,layout_circle:sue,layout_heatmap:lue,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:uue,layout_symbol:Aue,layout_raster:cue,layout_hillshade:due,filter:hue,filter_symbol:fue,filter_fill:pue,filter_line:mue,filter_circle:gue,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:yue,filter_operator:vue,geometry_type:_ue,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:Cue,expression:bue,expression_name:xue,fog:wue,light:Mue,projection:Sue,terrain:Eue,paint:Oue,paint_fill:Bue,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:kue,paint_circle:Iue,paint_heatmap:Tue,paint_symbol:Kue,paint_raster:Pue,paint_hillshade:Fue,paint_background:Due,paint_sky:Lue,transition:Uue,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:Rue},IM=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},mE={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,n){(function(t){var r=n&&!n.nodeType&&n,i=e&&!e.nodeType&&e,o=typeof IM=="object"&&IM;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,h=36,g=1,C=26,B=38,k=700,P=72,U=128,Z="-",W=/^xn--/,Q=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=h-g,Ae=Math.floor,ae=String.fromCharCode,se;function ye(He){throw RangeError(oe[He])}function De(He,Je){for(var tt=He.length,on=[];tt--;)on[tt]=Je(He[tt]);return on}function Ne(He,Je){var tt=He.split("@"),on="";tt.length>1&&(on=tt[0]+"@",He=tt[1]),He=He.replace(q,".");var mt=He.split("."),dt=De(mt,Je).join(".");return on+dt}function et(He){for(var Je=[],tt=0,on=He.length,mt,dt;tt<on;)mt=He.charCodeAt(tt++),mt>=55296&&mt<=56319&&tt<on?(dt=He.charCodeAt(tt++),(dt&64512)==56320?Je.push(((mt&1023)<<10)+(dt&1023)+65536):(Je.push(mt),tt--)):Je.push(mt);return Je}function ft(He){return De(He,function(Je){var tt="";return Je>65535&&(Je-=65536,tt+=ae(Je>>>10&1023|55296),Je=56320|Je&1023),tt+=ae(Je),tt}).join("")}function Ke(He){return He-48<10?He-22:He-65<26?He-65:He-97<26?He-97:h}function rt(He,Je){return He+22+75*(He<26)-((Je!=0)<<5)}function _e(He,Je,tt){var on=0;for(He=tt?Ae(He/k):He>>1,He+=Ae(He/Je);He>re*C>>1;on+=h)He=Ae(He/re);return Ae(on+(re+1)*He/(He+B))}function Ut(He){var Je=[],tt=He.length,on,mt=0,dt=U,kt=P,Pt,Me,he,be,Pe,Ze,nt,xt,Ft;for(Pt=He.lastIndexOf(Z),Pt<0&&(Pt=0),Me=0;Me<Pt;++Me)He.charCodeAt(Me)>=128&&ye("not-basic"),Je.push(He.charCodeAt(Me));for(he=Pt>0?Pt+1:0;he<tt;){for(be=mt,Pe=1,Ze=h;he>=tt&&ye("invalid-input"),nt=Ke(He.charCodeAt(he++)),(nt>=h||nt>Ae((a-mt)/Pe))&&ye("overflow"),mt+=nt*Pe,xt=Ze<=kt?g:Ze>=kt+C?C:Ze-kt,!(nt<xt);Ze+=h)Ft=h-xt,Pe>Ae(a/Ft)&&ye("overflow"),Pe*=Ft;on=Je.length+1,kt=_e(mt-be,on,be==0),Ae(mt/on)>a-dt&&ye("overflow"),dt+=Ae(mt/on),mt%=on,Je.splice(mt++,0,dt)}return ft(Je)}function jt(He){var Je,tt,on,mt,dt,kt,Pt,Me,he,be,Pe,Ze=[],nt,xt,Ft,Dt;for(He=et(He),nt=He.length,Je=U,tt=0,dt=P,kt=0;kt<nt;++kt)Pe=He[kt],Pe<128&&Ze.push(ae(Pe));for(on=mt=Ze.length,mt&&Ze.push(Z);on<nt;){for(Pt=a,kt=0;kt<nt;++kt)Pe=He[kt],Pe>=Je&&Pe<Pt&&(Pt=Pe);for(xt=on+1,Pt-Je>Ae((a-tt)/xt)&&ye("overflow"),tt+=(Pt-Je)*xt,Je=Pt,kt=0;kt<nt;++kt)if(Pe=He[kt],Pe<Je&&++tt>a&&ye("overflow"),Pe==Je){for(Me=tt,he=h;be=he<=dt?g:he>=dt+C?C:he-dt,!(Me<be);he+=h)Dt=Me-be,Ft=h-be,Ze.push(ae(rt(be+Dt%Ft,0))),Me=Ae(Dt/Ft);Ze.push(ae(rt(Me,0))),dt=_e(tt,xt,on==mt),tt=0,++on}++tt,++Je}return Ze.join("")}function nn(He){return Ne(He,function(Je){return W.test(Je)?Ut(Je.slice(4).toLowerCase()):Je})}function Qt(He){return Ne(He,function(Je){return Q.test(Je)?"xn--"+jt(Je):Je})}if(s={version:"1.3.2",ucs2:{decode:et,encode:ft},decode:Ut,encode:jt,toASCII:Qt,toUnicode:nn},r&&i)if(e.exports==r)i.exports=s;else for(se in s)s.hasOwnProperty(se)&&(r[se]=s[se]);else t.punycode=s})(IM)})(mE,mE.exports);var zue={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},_C={};function jue(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var Wue=function(e,n,t,r){n=n||"&",t=t||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(n);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var h=0;h<a;++h){var g=e[h].replace(o,"%20"),C=g.indexOf(t),B,k,P,U;C>=0?(B=g.substr(0,C),k=g.substr(C+1)):(B=g,k=""),P=decodeURIComponent(B),U=decodeURIComponent(k),jue(i,P)?Array.isArray(i[P])?i[P].push(U):i[P]=[i[P],U]:i[P]=U}return i},Qv=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Nue=function(e,n,t,r){return n=n||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(Qv(i))+t;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(Qv(s))}).join(n):o+encodeURIComponent(Qv(e[i]))}).join(n):r?encodeURIComponent(Qv(r))+t+encodeURIComponent(Qv(e)):""};_C.decode=_C.parse=Wue;_C.encode=_C.stringify=Nue;var Gue=mE.exports,fp=zue;function Sp(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Que=/^([a-z0-9.+-]+:)/i,$ue=/:[0-9]*$/,Yue=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,que=["<",">",'"',"`"," ","\r",`
`,"	"],Vue=["{","}","|","\\","^","`"].concat(que),gE=["'"].concat(Vue),pT=["%","/","?",";","#"].concat(gE),mT=["/","?","#"],Hue=255,gT=/^[+a-z0-9A-Z_-]{0,63}$/,Zue=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Xue={javascript:!0,"javascript:":!0},yE={javascript:!0,"javascript:":!0},uy={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},vE=_C;function Jue(e,n,t){if(e&&fp.isObject(e)&&e instanceof Sp)return e;var r=new Sp;return r.parse(e,n,t),r}Sp.prototype.parse=function(e,n,t){if(!fp.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!t&&e.split("#").length===1){var h=Yue.exec(a);if(h)return this.path=a,this.href=a,this.pathname=h[1],h[2]?(this.search=h[2],n?this.query=vE.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var g=Que.exec(a);if(g){g=g[0];var C=g.toLowerCase();this.protocol=C,a=a.substr(g.length)}if(t||g||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var B=a.substr(0,2)==="//";B&&!(g&&yE[g])&&(a=a.substr(2),this.slashes=!0)}if(!yE[g]&&(B||g&&!uy[g])){for(var k=-1,P=0;P<mT.length;P++){var U=a.indexOf(mT[P]);U!==-1&&(k===-1||U<k)&&(k=U)}var Z,W;k===-1?W=a.lastIndexOf("@"):W=a.lastIndexOf("@",k),W!==-1&&(Z=a.slice(0,W),a=a.slice(W+1),this.auth=decodeURIComponent(Z)),k=-1;for(var P=0;P<pT.length;P++){var U=a.indexOf(pT[P]);U!==-1&&(k===-1||U<k)&&(k=U)}k===-1&&(k=a.length),this.host=a.slice(0,k),a=a.slice(k),this.parseHost(),this.hostname=this.hostname||"";var Q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Q)for(var q=this.hostname.split(/\./),P=0,oe=q.length;P<oe;P++){var re=q[P];if(re&&!re.match(gT)){for(var Ae="",ae=0,se=re.length;ae<se;ae++)re.charCodeAt(ae)>127?Ae+="x":Ae+=re[ae];if(!Ae.match(gT)){var ye=q.slice(0,P),De=q.slice(P+1),Ne=re.match(Zue);Ne&&(ye.push(Ne[1]),De.unshift(Ne[2])),De.length&&(a="/"+De.join(".")+a),this.hostname=ye.join(".");break}}}this.hostname.length>Hue?this.hostname="":this.hostname=this.hostname.toLowerCase(),Q||(this.hostname=Gue.toASCII(this.hostname));var et=this.port?":"+this.port:"",ft=this.hostname||"";this.host=ft+et,this.href+=this.host,Q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Xue[C])for(var P=0,oe=gE.length;P<oe;P++){var Ke=gE[P];if(a.indexOf(Ke)!==-1){var rt=encodeURIComponent(Ke);rt===Ke&&(rt=escape(Ke)),a=a.split(Ke).join(rt)}}var _e=a.indexOf("#");_e!==-1&&(this.hash=a.substr(_e),a=a.slice(0,_e));var Ut=a.indexOf("?");if(Ut!==-1?(this.search=a.substr(Ut),this.query=a.substr(Ut+1),n&&(this.query=vE.parse(this.query)),a=a.slice(0,Ut)):n&&(this.search="",this.query={}),a&&(this.pathname=a),uy[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var et=this.pathname||"",jt=this.search||"";this.path=et+jt}return this.href=this.format(),this};Sp.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var n=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&fp.isObject(this.query)&&Object.keys(this.query).length&&(o=vE.stringify(this.query));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||uy[n])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),n+i+t+s+r};Sp.prototype.resolve=function(e){return this.resolveObject(Jue(e,!1,!0)).format()};Sp.prototype.resolveObject=function(e){if(fp.isString(e)){var n=new Sp;n.parse(e,!1,!0),e=n}for(var t=new Sp,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var h=s[a];h!=="protocol"&&(t[h]=e[h])}return uy[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!uy[e.protocol]){for(var g=Object.keys(e),C=0;C<g.length;C++){var B=g[C];t[B]=e[B]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!yE[e.protocol]){for(var oe=(e.pathname||"").split("/");oe.length&&!(e.host=oe.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),oe[0]!==""&&oe.unshift(""),oe.length<2&&oe.unshift(""),t.pathname=oe.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var k=t.pathname||"",P=t.search||"";t.path=k+P}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var U=t.pathname&&t.pathname.charAt(0)==="/",Z=e.host||e.pathname&&e.pathname.charAt(0)==="/",W=Z||U||t.host&&e.pathname,Q=W,q=t.pathname&&t.pathname.split("/")||[],oe=e.pathname&&e.pathname.split("/")||[],re=t.protocol&&!uy[t.protocol];if(re&&(t.hostname="",t.port=null,t.host&&(q[0]===""?q[0]=t.host:q.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(oe[0]===""?oe[0]=e.host:oe.unshift(e.host)),e.host=null),W=W&&(oe[0]===""||q[0]==="")),Z)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,q=oe;else if(oe.length)q||(q=[]),q.pop(),q=q.concat(oe),t.search=e.search,t.query=e.query;else if(!fp.isNullOrUndefined(e.search)){if(re){t.hostname=t.host=q.shift();var Ae=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;Ae&&(t.auth=Ae.shift(),t.host=t.hostname=Ae.shift())}return t.search=e.search,t.query=e.query,(!fp.isNull(t.pathname)||!fp.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!q.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var ae=q.slice(-1)[0],se=(t.host||e.host||q.length>1)&&(ae==="."||ae==="..")||ae==="",ye=0,De=q.length;De>=0;De--)ae=q[De],ae==="."?q.splice(De,1):ae===".."?(q.splice(De,1),ye++):ye&&(q.splice(De,1),ye--);if(!W&&!Q)for(;ye--;ye)q.unshift("..");W&&q[0]!==""&&(!q[0]||q[0].charAt(0)!=="/")&&q.unshift(""),se&&q.join("/").substr(-1)!=="/"&&q.push("");var Ne=q[0]===""||q[0]&&q[0].charAt(0)==="/";if(re){t.hostname=t.host=Ne?"":q.length?q.shift():"";var Ae=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;Ae&&(t.auth=Ae.shift(),t.host=t.hostname=Ae.shift())}return W=W||t.host&&q.length,W&&!Ne&&q.unshift(""),q.length?t.pathname=q.join("/"):(t.pathname=null,t.path=null),(!fp.isNull(t.pathname)||!fp.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t};Sp.prototype.parseHost=function(){var e=this.host,n=$ue.exec(e);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)};function yj(e,...n){for(const t of n)for(const r in t)e[r]=t[r];return e}class eAe extends Error{constructor(n,t){super(t),this.message=t,this.key=n}}var sf=eAe;class O7{constructor(n,t=[]){this.parent=n,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(n){return new O7(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return this.bindings[n]?!0:this.parent?this.parent.has(n):!1}}var tAe=O7;const b5={kind:"null"},Xn={kind:"number"},oo={kind:"string"},$i={kind:"boolean"},Ep={kind:"color"},Ay={kind:"object"},qi={kind:"value"},nAe={kind:"error"},x5={kind:"collator"},w5={kind:"formatted"},eb={kind:"resolvedImage"};function pd(e,n){return{kind:"array",itemType:e,N:n}}function xs(e){if(e.kind==="array"){const n=xs(e.itemType);return typeof e.N=="number"?`array<${n}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${n}>`}else return e.kind}const rAe=[b5,Xn,oo,$i,Ep,w5,Ay,pd(qi),eb];function CC(e,n){if(n.kind==="error")return null;if(e.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!CC(e.itemType,n.itemType))&&(typeof e.N!="number"||e.N===n.N))return null}else{if(e.kind===n.kind)return null;if(e.kind==="value"){for(const t of rAe)if(!CC(t,n))return null}}return`Expected ${xs(e)} but found ${xs(n)} instead.`}function B7(e,n){return n.some(t=>t.kind===e.kind)}function bC(e,n){return n.some(t=>t==="null"?e===null:t==="array"?Array.isArray(e):t==="object"?e&&!Array.isArray(e)&&typeof e=="object":t===typeof e)}var iAe={},vj,yT={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function K_(e){return e=Math.round(e),e<0?0:e>255?255:e}function vT(e){return e<0?0:e>1?1:e}function TM(e){return e[e.length-1]==="%"?K_(parseFloat(e)/100*255):K_(parseInt(e))}function Fx(e){return e[e.length-1]==="%"?vT(parseFloat(e)/100):vT(parseFloat(e))}function KM(e,n,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?e+(n-e)*t*6:t*2<1?n:t*3<2?e+(n-e)*(2/3-t)*6:e}function oAe(e){var n=e.replace(/ /g,"").toLowerCase();if(n in yT)return yT[n].slice();if(n[0]==="#"){if(n.length===4){var t=parseInt(n.substr(1),16);return t>=0&&t<=4095?[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:null}else if(n.length===7){var t=parseInt(n.substr(1),16);return t>=0&&t<=16777215?[(t&16711680)>>16,(t&65280)>>8,t&255,1]:null}return null}var r=n.indexOf("("),i=n.indexOf(")");if(r!==-1&&i+1===n.length){var o=n.substr(0,r),s=n.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(s.length!==4)return null;a=Fx(s.pop());case"rgb":return s.length!==3?null:[TM(s[0]),TM(s[1]),TM(s[2]),a];case"hsla":if(s.length!==4)return null;a=Fx(s.pop());case"hsl":if(s.length!==3)return null;var h=(parseFloat(s[0])%360+360)%360/360,g=Fx(s[1]),C=Fx(s[2]),B=C<=.5?C*(g+1):C+g-C*g,k=C*2-B;return[K_(KM(k,B,h+1/3)*255),K_(KM(k,B,h)*255),K_(KM(k,B,h-1/3)*255),a];default:return null}}return null}try{vj=iAe.parseCSSColor=oAe}catch{}class tc{constructor(n,t,r,i=1){this.r=n,this.g=t,this.b=r,this.a=i}static parse(n){if(!n)return;if(n instanceof tc)return n;if(typeof n!="string")return;const t=vj(n);if(t)return new tc(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){const[n,t,r,i]=this.toArray();return`rgba(${Math.round(n)},${Math.round(t)},${Math.round(r)},${i})`}toArray(){const{r:n,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[n*255/i,t*255/i,r*255/i,i]}toArray01(){const{r:n,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[n/i,t/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:n,g:t,b:r,a:i}=this;return[n,t,r,i]}}tc.black=new tc(0,0,0,1);tc.white=new tc(1,1,1,1);tc.transparent=new tc(0,0,0,0);tc.red=new tc(1,0,0,1);tc.blue=new tc(0,0,1,1);var Gl=tc;class k7{constructor(n,t,r){n?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,t){return this.collator.compare(n,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class _E{constructor(n,t,r,i,o){this.text=n.normalize?n.normalize():n,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o}}class lh{constructor(n){this.sections=n}static fromString(n){return new lh([new _E(n,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof lh?n:lh.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const t of this.sections){if(t.image){n.push(["image",t.image.name]);continue}n.push(t.text);const r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),n.push(r)}return n}}class Ip{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new Ip({name:n,available:!1}):null}serialize(){return["image",this.name]}}function _j(e,n,t,r){return typeof e=="number"&&e>=0&&e<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,n,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,n,t,r]:[e,n,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function R3(e){if(e===null)return!0;if(typeof e=="string")return!0;if(typeof e=="boolean")return!0;if(typeof e=="number")return!0;if(e instanceof Gl)return!0;if(e instanceof k7)return!0;if(e instanceof lh)return!0;if(e instanceof Ip)return!0;if(Array.isArray(e)){for(const n of e)if(!R3(n))return!1;return!0}else if(typeof e=="object"){for(const n in e)if(!R3(e[n]))return!1;return!0}else return!1}function Wl(e){if(e===null)return b5;if(typeof e=="string")return oo;if(typeof e=="boolean")return $i;if(typeof e=="number")return Xn;if(e instanceof Gl)return Ep;if(e instanceof k7)return x5;if(e instanceof lh)return w5;if(e instanceof Ip)return eb;if(Array.isArray(e)){const n=e.length;let t;for(const r of e){const i=Wl(r);if(!t)t=i;else{if(t===i)continue;t=qi;break}}return pd(t||qi,n)}else return Ay}function P_(e){const n=typeof e;return e===null?"":n==="string"||n==="number"||n==="boolean"?String(e):e instanceof Gl||e instanceof lh||e instanceof Ip?e.toString():JSON.stringify(e)}class I7{constructor(n,t){this.type=n,this.value=t}static parse(n,t){if(n.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!R3(n[1]))return t.error("invalid value");const r=n[1];let i=Wl(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new I7(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Gl?["rgba"].concat(this.value.toArray()):this.value instanceof lh?this.value.serialize():this.value}}var z3=I7;class aAe{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}var Su=aAe;const PM={string:oo,number:Xn,boolean:$i,object:Ay};class T7{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=n[0];if(o==="array"){let a;if(n.length>2){const g=n[1];if(typeof g!="string"||!(g in PM)||g==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=PM[g],r++}else a=qi;let h;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return t.error('The length argument to "array" must be a positive integer literal',2);h=n[2],r++}i=pd(a,h)}else i=PM[o];const s=[];for(;r<n.length;r++){const a=t.parse(n[r],r,qi);if(!a)return null;s.push(a)}return new T7(i,s)}evaluate(n){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(n);if(CC(this.type,Wl(r))){if(t===this.args.length-1)throw new Su(`Expected value to be of type ${xs(this.type)}, but found ${xs(Wl(r))} instead.`)}else return r}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,t=[n.kind];if(n.kind==="array"){const r=n.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){t.push(r.kind);const i=n.N;(typeof i=="number"||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map(r=>r.serialize()))}}var vp=T7;class M5{constructor(n){this.type=w5,this.sections=n}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=n.length-1;++s){const a=n[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let h=null;if(a["font-scale"]&&(h=t.parse(a["font-scale"],1,Xn),!h))return null;let g=null;if(a["text-font"]&&(g=t.parse(a["text-font"],1,pd(oo)),!g))return null;let C=null;if(a["text-color"]&&(C=t.parse(a["text-color"],1,Ep),!C))return null;const B=i[i.length-1];B.scale=h,B.font=g,B.textColor=C}else{const h=t.parse(n[s],1,qi);if(!h)return null;const g=h.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new M5(i)}evaluate(n){const t=r=>{const i=r.content.evaluate(n);return Wl(i)===eb?new _E("",i,null,null,null):new _E(P_(i),null,r.scale?r.scale.evaluate(n):null,r.font?r.font.evaluate(n).join(","):null,r.textColor?r.textColor.evaluate(n):null)};return new lh(this.sections.map(t))}eachChild(n){for(const t of this.sections)n(t.content),t.scale&&n(t.scale),t.font&&n(t.font),t.textColor&&n(t.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const t of this.sections){n.push(t.content.serialize());const r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),n.push(r)}return n}}class S5{constructor(n){this.type=eb,this.input=n}static parse(n,t){if(n.length!==2)return t.error("Expected two arguments.");const r=t.parse(n[1],1,oo);return r?new S5(r):t.error("No image name provided.")}evaluate(n){const t=this.input.evaluate(n),r=Ip.fromString(t);return r&&n.availableImages&&(r.available=n.availableImages.indexOf(t)>-1),r}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const sAe={"to-boolean":$i,"to-color":Ep,"to-number":Xn,"to-string":oo};class K7{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[0];if((r==="to-boolean"||r==="to-string")&&n.length!==2)return t.error("Expected one argument.");const i=sAe[r],o=[];for(let s=1;s<n.length;s++){const a=t.parse(n[s],s,qi);if(!a)return null;o.push(a)}return new K7(i,o)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let t,r;for(const i of this.args){if(t=i.evaluate(n),r=null,t instanceof Gl)return t;if(typeof t=="string"){const o=n.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=_j(t[0],t[1],t[2],t[3]),!r))return new Gl(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Su(r||`Could not parse color from value '${typeof t=="string"?t:String(JSON.stringify(t))}'`)}else if(this.type.kind==="number"){let t=null;for(const r of this.args){if(t=r.evaluate(n),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Su(`Could not convert ${JSON.stringify(t)} to number.`)}else return this.type.kind==="formatted"?lh.fromString(P_(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Ip.fromString(P_(this.args[0].evaluate(n))):P_(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new M5([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new S5(this.args[0]).serialize();const n=[`to-${this.type.kind}`];return this.eachChild(t=>{n.push(t.serialize())}),n}}var Ng=K7;const lAe=["Unknown","Point","LineString","Polygon"];class uAe{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?lAe[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*t-n[0],s=i*t-n[1],a=this.featureDistanceData.bearing[0],h=this.featureDistanceData.bearing[1];return a*o+h*s}return 0}parseColor(n){let t=this._parseColorCache[n];return t||(t=this._parseColorCache[n]=Gl.parse(n)),t}}var Cj=uAe;class Gg{constructor(n,t,r,i){this.name=n,this.type=t,this._evaluate=r,this.args=i}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,t){const r=n[0],i=Gg.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([g])=>!Array.isArray(g)||g.length===n.length-1);let h=null;for(const[g,C]of a){h=new Sj(t.registry,t.path,null,t.scope);const B=[];let k=!1;for(let P=1;P<n.length;P++){const U=n[P],Z=Array.isArray(g)?g[P-1]:g.type,W=h.parse(U,1+B.length,Z);if(!W){k=!0;break}B.push(W)}if(!k){if(Array.isArray(g)&&g.length!==B.length){h.error(`Expected ${g.length} arguments, but found ${B.length} instead.`);continue}for(let P=0;P<B.length;P++){const U=Array.isArray(g)?g[P]:g.type,Z=B[P];h.concat(P+1).checkSubtype(U,Z.type)}if(h.errors.length===0)return new Gg(r,o,C,B)}}if(a.length===1)t.errors.push(...h.errors);else{const C=(a.length?a:s).map(([k])=>AAe(k)).join(" | "),B=[];for(let k=1;k<n.length;k++){const P=t.parse(n[k],1+B.length);if(!P)return null;B.push(xs(P.type))}t.error(`Expected arguments of type ${C}, but found (${B.join(", ")}) instead.`)}return null}static register(n,t){Gg.definitions=t;for(const r in t)n[r]=Gg}}function AAe(e){return Array.isArray(e)?`(${e.map(xs).join(", ")})`:`(${xs(e.type)}...)`}var Vy=Gg;class E5{constructor(n,t,r){this.type=x5,this.locale=r,this.caseSensitive=n,this.diacriticSensitive=t}static parse(n,t){if(n.length!==2)return t.error("Expected one argument.");const r=n[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,$i);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,$i);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,oo),!s)?null:new E5(i,o,s)}evaluate(n){return new k7(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}const Rm=8192;function P7(e,n){e[0]=Math.min(e[0],n[0]),e[1]=Math.min(e[1],n[1]),e[2]=Math.max(e[2],n[0]),e[3]=Math.max(e[3],n[1])}function cAe(e){return(180+e)/360}function dAe(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function j3(e,n){return!(e[0]<=n[0]||e[2]>=n[2]||e[1]<=n[1]||e[3]>=n[3])}function hAe(e,n){const t=cAe(e[0]),r=dAe(e[1]),i=Math.pow(2,n.z);return[Math.round(t*i*Rm),Math.round(r*i*Rm)]}function fAe(e,n,t){const r=e[0]-n[0],i=e[1]-n[1],o=e[0]-t[0],s=e[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function pAe(e,n,t){return n[1]>e[1]!=t[1]>e[1]&&e[0]<(t[0]-n[0])*(e[1]-n[1])/(t[1]-n[1])+n[0]}function F7(e,n){let t=!1;for(let r=0,i=n.length;r<i;r++){const o=n[r];for(let s=0,a=o.length;s<a-1;s++){if(fAe(e,o[s],o[s+1]))return!1;pAe(e,o[s],o[s+1])&&(t=!t)}}return t}function mAe(e,n){for(let t=0;t<n.length;t++)if(F7(e,n[t]))return!0;return!1}function gAe(e,n){return e[0]*n[1]-e[1]*n[0]}function _T(e,n,t,r){const i=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],a=n[1]-t[1],h=r[0]-t[0],g=r[1]-t[1],C=i*g-h*o,B=s*g-h*a;return C>0&&B<0||C<0&&B>0}function yAe(e,n,t,r){const i=[n[0]-e[0],n[1]-e[1]],o=[r[0]-t[0],r[1]-t[1]];return gAe(o,i)===0?!1:!!(_T(e,n,t,r)&&_T(t,r,e,n))}function vAe(e,n,t){for(const r of t)for(let i=0;i<r.length-1;++i)if(yAe(e,n,r[i],r[i+1]))return!0;return!1}function bj(e,n){for(let t=0;t<e.length;++t)if(!F7(e[t],n))return!1;for(let t=0;t<e.length-1;++t)if(vAe(e[t],e[t+1],n))return!1;return!0}function _Ae(e,n){for(let t=0;t<n.length;t++)if(bj(e,n[t]))return!0;return!1}function D7(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let s=0;s<e[i].length;s++){const a=hAe(e[i][s],t);P7(n,a),o.push(a)}r.push(o)}return r}function xj(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=D7(e[i],n,t);r.push(o)}return r}function wj(e,n,t,r){if(e[0]<t[0]||e[0]>t[2]){const i=r*.5;let o=e[0]-t[0]>i?-r:t[0]-e[0]>i?r:0;o===0&&(o=e[0]-t[2]>i?-r:t[2]-e[0]>i?r:0),e[0]+=o}P7(n,e)}function CAe(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function CT(e,n,t,r){const i=Math.pow(2,r.z)*Rm,o=[r.x*Rm,r.y*Rm],s=[];if(!e)return s;for(const a of e)for(const h of a){const g=[h.x+o[0],h.y+o[1]];wj(g,n,t,i),s.push(g)}return s}function bT(e,n,t,r){const i=Math.pow(2,r.z)*Rm,o=[r.x*Rm,r.y*Rm],s=[];if(!e)return s;for(const a of e){const h=[];for(const g of a){const C=[g.x+o[0],g.y+o[1]];P7(n,C),h.push(C)}s.push(h)}if(n[2]-n[0]<=i/2){CAe(n);for(const a of s)for(const h of a)wj(h,n,t,i)}return s}function bAe(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(n.type==="Polygon"){const o=D7(n.coordinates,r,i),s=CT(e.geometry(),t,r,i);if(!j3(t,r))return!1;for(const a of s)if(!F7(a,o))return!1}if(n.type==="MultiPolygon"){const o=xj(n.coordinates,r,i),s=CT(e.geometry(),t,r,i);if(!j3(t,r))return!1;for(const a of s)if(!mAe(a,o))return!1}return!0}function xAe(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(n.type==="Polygon"){const o=D7(n.coordinates,r,i),s=bT(e.geometry(),t,r,i);if(!j3(t,r))return!1;for(const a of s)if(!bj(a,o))return!1}if(n.type==="MultiPolygon"){const o=xj(n.coordinates,r,i),s=bT(e.geometry(),t,r,i);if(!j3(t,r))return!1;for(const a of s)if(!_Ae(a,o))return!1}return!0}class F_{constructor(n,t){this.type=$i,this.geojson=n,this.geometries=t}static parse(n,t){if(n.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(R3(n[1])){const r=n[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new F_(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new F_(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new F_(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return bAe(n,this.geometries);if(n.geometryType()==="LineString")return xAe(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var L7=F_;function O5(e){if(e instanceof Vy){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof L7)return!1;let n=!0;return e.eachChild(t=>{n&&!O5(t)&&(n=!1)}),n}function U7(e){if(e instanceof Vy&&e.name==="feature-state")return!1;let n=!0;return e.eachChild(t=>{n&&!U7(t)&&(n=!1)}),n}function R7(e,n){if(e instanceof Vy&&n.indexOf(e.name)>=0)return!1;let t=!0;return e.eachChild(r=>{t&&!R7(r,n)&&(t=!1)}),t}class z7{constructor(n,t){this.type=t.type,this.name=n,this.boundExpression=t}static parse(n,t){if(n.length!==2||typeof n[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=n[1];return t.scope.has(r)?new z7(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Mj=z7;class j7{constructor(n,t=[],r,i=new tAe,o=[]){this.registry=n,this.path=t,this.key=t.map(s=>`[${s}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(n,t,r,i,o={}){return t?this.concat(t,r,i)._parse(n,o):this._parse(n,o)}_parse(n,t){(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number")&&(n=["literal",n]);function r(i,o,s){return s==="assert"?new vp(o,[i]):s==="coerce"?new Ng(o,[i]):i}if(Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=n[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(n,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,h=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&h.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,h))return null}if(!(s instanceof z3)&&s.type.kind!=="resolvedImage"&&CE(s)){const a=new Cj;try{s=new z3(s.type,s.evaluate(a))}catch(h){return this.error(h.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof n>"u"?this.error("'undefined' value invalid. Use null instead."):typeof n=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof n} instead.`)}concat(n,t,r){const i=typeof n=="number"?this.path.concat(n):this.path,o=r?this.scope.concat(r):this.scope;return new j7(this.registry,i,t||null,o,this.errors)}error(n,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new sf(r,n))}checkSubtype(n,t){const r=CC(n,t);return r&&this.error(r),r}}var Sj=j7;function CE(e){if(e instanceof Mj)return CE(e.boundExpression);if(e instanceof Vy&&e.name==="error")return!1;if(e instanceof E5)return!1;if(e instanceof L7)return!1;const n=e instanceof Ng||e instanceof vp;let t=!0;return e.eachChild(r=>{n?t=t&&CE(r):t=t&&r instanceof z3}),t?O5(e)&&R7(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function B5(e,n){const t=e.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=e[o],a=e[o+1],s<=n){if(o===t||n<a)return o;r=o+1}else if(s>n)i=o-1;else throw new Su("Input is not a number.");return 0}class W7{constructor(n,t,r){this.type=n,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(n,t){if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(n[1],1,Xn);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<n.length;s+=2){const a=s===1?-1/0:n[s],h=n[s+1],g=s,C=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const B=t.parse(h,C,o);if(!B)return null;o=o||B.type,i.push([a,B])}return new W7(o,r,i)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=B5(t,i);return r[s].evaluate(n)}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&n.push(this.labels[t]),n.push(this.outputs[t].serialize());return n}}var Ej=W7,wAe=Oj;function Oj(e,n,t,r){this.cx=3*e,this.bx=3*(t-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(r-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=t,this.p2y=r}Oj.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,n){if(n===void 0&&(n=1e-6),e<0)return 0;if(e>1)return 1;for(var t=e,r=0;r<8;r++){var i=this.sampleCurveX(t)-e;if(Math.abs(i)<n)return t;var o=this.sampleCurveDerivativeX(t);if(Math.abs(o)<1e-6)break;t=t-i/o}var s=0,a=1;for(t=e,r=0;r<20&&(i=this.sampleCurveX(t),!(Math.abs(i-e)<n));r++)e>i?s=t:a=t,t=(a-s)*.5+s;return t},solve:function(e,n){return this.sampleCurveY(this.solveCurveX(e,n))}};function Dc(e,n,t){return e*(1-t)+n*t}function MAe(e,n,t){return new Gl(Dc(e.r,n.r,t),Dc(e.g,n.g,t),Dc(e.b,n.b,t),Dc(e.a,n.a,t))}function SAe(e,n,t){return e.map((r,i)=>Dc(r,n[i],t))}var Bj=Object.freeze({__proto__:null,number:Dc,color:MAe,array:SAe});const kj=.95047,Ij=1,Tj=1.08883,Kj=4/29,cy=6/29,Pj=3*cy*cy,EAe=cy*cy*cy,OAe=Math.PI/180,BAe=180/Math.PI;function FM(e){return e>EAe?Math.pow(e,1/3):e/Pj+Kj}function DM(e){return e>cy?e*e*e:Pj*(e-Kj)}function LM(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function UM(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Fj(e){const n=UM(e.r),t=UM(e.g),r=UM(e.b),i=FM((.4124564*n+.3575761*t+.1804375*r)/kj),o=FM((.2126729*n+.7151522*t+.072175*r)/Ij),s=FM((.0193339*n+.119192*t+.9503041*r)/Tj);return{l:116*o-16,a:500*(i-o),b:200*(o-s),alpha:e.a}}function Dj(e){let n=(e.l+16)/116,t=isNaN(e.a)?n:n+e.a/500,r=isNaN(e.b)?n:n-e.b/200;return n=Ij*DM(n),t=kj*DM(t),r=Tj*DM(r),new Gl(LM(3.2404542*t-1.5371385*n-.4985314*r),LM(-.969266*t+1.8760108*n+.041556*r),LM(.0556434*t-.2040259*n+1.0572252*r),e.alpha)}function kAe(e,n,t){return{l:Dc(e.l,n.l,t),a:Dc(e.a,n.a,t),b:Dc(e.b,n.b,t),alpha:Dc(e.alpha,n.alpha,t)}}function IAe(e){const{l:n,a:t,b:r}=Fj(e),i=Math.atan2(r,t)*BAe;return{h:i<0?i+360:i,c:Math.sqrt(t*t+r*r),l:n,alpha:e.a}}function TAe(e){const n=e.h*OAe,t=e.c,r=e.l;return Dj({l:r,a:Math.cos(n)*t,b:Math.sin(n)*t,alpha:e.alpha})}function KAe(e,n,t){const r=n-e;return e+t*(r>180||r<-180?r-360*Math.round(r/360):r)}function PAe(e,n,t){return{h:KAe(e.h,n.h,t),c:Dc(e.c,n.c,t),l:Dc(e.l,n.l,t),alpha:Dc(e.alpha,n.alpha,t)}}const A_={forward:Fj,reverse:Dj,interpolate:kAe},c_={forward:IAe,reverse:TAe,interpolate:PAe};var Lj=Object.freeze({__proto__:null,lab:A_,hcl:c_});class W3{constructor(n,t,r,i,o){this.type=n,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(n,t,r,i){let o=0;if(n.name==="exponential")o=RM(t,n.base,r,i);else if(n.name==="linear")o=RM(t,1,r,i);else if(n.name==="cubic-bezier"){const s=n.controlPoints;o=new wAe(s[0],s[1],s[2],s[3]).solve(RM(t,1,r,i))}return o}static parse(n,t){let[r,i,o,...s]=n;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(C=>typeof C!="number"||C<0||C>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,Xn),!o)return null;const a=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=Ep:t.expectedType&&t.expectedType.kind!=="value"&&(h=t.expectedType);for(let g=0;g<s.length;g+=2){const C=s[g],B=s[g+1],k=g+3,P=g+4;if(typeof C!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(a.length&&a[a.length-1][0]>=C)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',k);const U=t.parse(B,P,h);if(!U)return null;h=h||U.type,a.push([C,U])}return h.kind!=="number"&&h.kind!=="color"&&!(h.kind==="array"&&h.itemType.kind==="number"&&typeof h.N=="number")?t.error(`Type ${xs(h)} is not interpolatable.`):new W3(h,r,i,o,a)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=B5(t,i),a=t[s],h=t[s+1],g=W3.interpolationFactor(this.interpolation,i,a,h),C=r[s].evaluate(n),B=r[s+1].evaluate(n);return this.operator==="interpolate"?Bj[this.type.kind.toLowerCase()](C,B,g):this.operator==="interpolate-hcl"?c_.reverse(c_.interpolate(c_.forward(C),c_.forward(B),g)):A_.reverse(A_.interpolate(A_.forward(C),A_.forward(B),g))}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;this.interpolation.name==="linear"?n=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?n=["linear"]:n=["exponential",this.interpolation.base]:n=["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,n,this.input.serialize()];for(let r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t}}function RM(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}var Op=W3;class N3{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expectected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of n.slice(1)){const h=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}return i&&o.some(a=>CC(i,a.type))?new N3(qi,o):new N3(r,o)}evaluate(n){let t=null,r=0,i;for(const o of this.args){if(r++,t=o.evaluate(n),t&&t instanceof Ip&&!t.available&&(i||(i=t),t=null,r===this.args.length))return i;if(t!==null)break}return t}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(t=>{n.push(t.serialize())}),n}}var Uj=N3;class N7{constructor(n,t){this.type=t.type,this.bindings=[].concat(n),this.result=t}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const t of this.bindings)n(t[1]);n(this.result)}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const r=[];for(let o=1;o<n.length-1;o+=2){const s=n[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(n[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(n[n.length-1],n.length-1,t.expectedType,r);return i?new N7(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[t,r]of this.bindings)n.push(t,r.serialize());return n.push(this.result.serialize()),n}}var Rj=N7;class G7{constructor(n,t,r){this.type=n,this.index=t,this.input=r}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Xn),i=t.parse(n[2],2,pd(t.expectedType||qi));if(!r||!i)return null;const o=i.type;return new G7(o.itemType,r,i)}evaluate(n){const t=this.index.evaluate(n),r=this.input.evaluate(n);if(t<0)throw new Su(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new Su(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new Su(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var FAe=G7;class Q7{constructor(n,t){this.type=$i,this.needle=n,this.haystack=t}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,qi),i=t.parse(n[2],2,qi);return!r||!i?null:B7(r.type,[$i,oo,Xn,b5,qi])?new Q7(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${xs(r.type)} instead`)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(r==null)return!1;if(!bC(t,["boolean","string","number","null"]))throw new Su(`Expected first argument to be of type boolean, string, number or null, but found ${xs(Wl(t))} instead.`);if(!bC(r,["string","array"]))throw new Su(`Expected second argument to be of type array or string, but found ${xs(Wl(r))} instead.`);return r.indexOf(t)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var DAe=Q7;class G3{constructor(n,t,r){this.type=Xn,this.needle=n,this.haystack=t,this.fromIndex=r}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,qi),i=t.parse(n[2],2,qi);if(!r||!i)return null;if(!B7(r.type,[$i,oo,Xn,b5,qi]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${xs(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,Xn);return o?new G3(r,i,o):null}else return new G3(r,i)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!bC(t,["boolean","string","number","null"]))throw new Su(`Expected first argument to be of type boolean, string, number or null, but found ${xs(Wl(t))} instead.`);if(!bC(r,["string","array"]))throw new Su(`Expected second argument to be of type array or string, but found ${xs(Wl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(n);return r.indexOf(t,i)}return r.indexOf(t)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var LAe=G3;class $7{constructor(n,t,r,i,o,s){this.inputType=n,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(n,t){if(n.length<5)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let g=2;g<n.length-1;g+=2){let C=n[g];const B=n[g+1];Array.isArray(C)||(C=[C]);const k=t.concat(g);if(C.length===0)return k.error("Expected at least one branch label.");for(const U of C){if(typeof U!="number"&&typeof U!="string")return k.error("Branch labels must be numbers or strings.");if(typeof U=="number"&&Math.abs(U)>Number.MAX_SAFE_INTEGER)return k.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof U=="number"&&Math.floor(U)!==U)return k.error("Numeric branch labels must be integer values.");if(!r)r=Wl(U);else if(k.checkSubtype(r,Wl(U)))return null;if(typeof o[String(U)]<"u")return k.error("Branch labels must be unique.");o[String(U)]=s.length}const P=t.parse(B,g,i);if(!P)return null;i=i||P.type,s.push(P)}const a=t.parse(n[1],1,qi);if(!a)return null;const h=t.parse(n[n.length-1],n.length-1,i);return!h||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new $7(r,i,a,o,s,h)}evaluate(n){const t=this.input.evaluate(n);return(Wl(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],i={};for(const s of t){const a=i[this.cases[s]];a===void 0?(i[this.cases[s]]=r.length,r.push([this.cases[s],[s]])):r[a][1].push(s)}const o=s=>this.inputType.kind==="number"?Number(s):s;for(const[s,a]of r)a.length===1?n.push(o(a[0])):n.push(a.map(o)),n.push(this.outputs[s].serialize());return n.push(this.otherwise.serialize()),n}}var UAe=$7;class Y7{constructor(n,t,r){this.type=n,this.branches=t,this.otherwise=r}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<n.length-1;s+=2){const a=t.parse(n[s],s,$i);if(!a)return null;const h=t.parse(n[s+1],s+1,r);if(!h)return null;i.push([a,h]),r=r||h.type}const o=t.parse(n[n.length-1],n.length-1,r);return o?new Y7(r,i,o):null}evaluate(n){for(const[t,r]of this.branches)if(t.evaluate(n))return r.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[t,r]of this.branches)n(t),n(r);n(this.otherwise)}outputDefined(){return this.branches.every(([n,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(t=>{n.push(t.serialize())}),n}}var RAe=Y7;class Q3{constructor(n,t,r,i){this.type=n,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,qi),i=t.parse(n[2],2,Xn);if(!r||!i)return null;if(!B7(r.type,[pd(qi),oo,qi]))return t.error(`Expected first argument to be of type array or string, but found ${xs(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,Xn);return o?new Q3(r.type,r,i,o):null}else return new Q3(r.type,r,i)}evaluate(n){const t=this.input.evaluate(n),r=this.beginIndex.evaluate(n);if(!bC(t,["string","array"]))throw new Su(`Expected first argument to be of type array or string, but found ${xs(Wl(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(n);return t.slice(r,i)}return t.slice(r)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var zAe=Q3;function xT(e,n){return e==="=="||e==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function jAe(e,n,t){return n===t}function WAe(e,n,t){return n!==t}function NAe(e,n,t){return n<t}function GAe(e,n,t){return n>t}function QAe(e,n,t){return n<=t}function $Ae(e,n,t){return n>=t}function zj(e,n,t,r){return r.compare(n,t)===0}function YAe(e,n,t,r){return!zj(e,n,t,r)}function qAe(e,n,t,r){return r.compare(n,t)<0}function VAe(e,n,t,r){return r.compare(n,t)>0}function HAe(e,n,t,r){return r.compare(n,t)<=0}function ZAe(e,n,t,r){return r.compare(n,t)>=0}function Hy(e,n,t){const r=e!=="=="&&e!=="!=";return class jj{constructor(o,s,a){this.type=$i,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let h=s.parse(o[1],1,qi);if(!h)return null;if(!xT(a,h.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${xs(h.type)}'.`);let g=s.parse(o[2],2,qi);if(!g)return null;if(!xT(a,g.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${xs(g.type)}'.`);if(h.type.kind!==g.type.kind&&h.type.kind!=="value"&&g.type.kind!=="value")return s.error(`Cannot compare types '${xs(h.type)}' and '${xs(g.type)}'.`);r&&(h.type.kind==="value"&&g.type.kind!=="value"?h=new vp(g.type,[h]):h.type.kind!=="value"&&g.type.kind==="value"&&(g=new vp(h.type,[g])));let C=null;if(o.length===4){if(h.type.kind!=="string"&&g.type.kind!=="string"&&h.type.kind!=="value"&&g.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(C=s.parse(o[3],3,x5),!C)return null}return new jj(h,g,C)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=Wl(s),g=Wl(a);if(h.kind!==g.kind||!(h.kind==="string"||h.kind==="number"))throw new Su(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=Wl(s),g=Wl(a);if(h.kind!=="string"||g.kind!=="string")return n(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):n(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[e];return this.eachChild(s=>{o.push(s.serialize())}),o}}}const XAe=Hy("==",jAe,zj),JAe=Hy("!=",WAe,YAe),ece=Hy("<",NAe,qAe),tce=Hy(">",GAe,VAe),nce=Hy("<=",QAe,HAe),rce=Hy(">=",$Ae,ZAe);class q7{constructor(n,t,r,i,o,s){this.type=oo,this.number=n,this.locale=t,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=s}static parse(n,t){if(n.length!==3)return t.error("Expected two arguments.");const r=t.parse(n[1],1,Xn);if(!r)return null;const i=n[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,oo),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,oo),!s))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,oo),!a))return null;let h=null;if(i["min-fraction-digits"]&&(h=t.parse(i["min-fraction-digits"],1,Xn),!h))return null;let g=null;return i["max-fraction-digits"]&&(g=t.parse(i["max-fraction-digits"],1,Xn),!g)?null:new q7(r,o,s,a,h,g)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class V7{constructor(n){this.type=Xn,this.input=n}static parse(n,t){if(n.length!==2)return t.error(`Expected 1 argument, but found ${n.length-1} instead.`);const r=t.parse(n[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${xs(r.type)} instead.`):new V7(r):null}evaluate(n){const t=this.input.evaluate(n);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new Su(`Expected value to be of type string or array, but found ${xs(Wl(t))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(t=>{n.push(t.serialize())}),n}}var ice=V7;const Wj={"==":XAe,"!=":JAe,">":tce,"<":ece,">=":rce,"<=":nce,array:vp,at:FAe,boolean:vp,case:RAe,coalesce:Uj,collator:E5,format:M5,image:S5,in:DAe,"index-of":LAe,interpolate:Op,"interpolate-hcl":Op,"interpolate-lab":Op,length:ice,let:Rj,literal:z3,match:UAe,number:vp,"number-format":q7,object:vp,slice:zAe,step:Ej,string:vp,"to-boolean":Ng,"to-color":Ng,"to-number":Ng,"to-string":Ng,var:Mj,within:L7};function wT(e,[n,t,r,i]){n=n.evaluate(e),t=t.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,s=_j(n,t,r,o);if(s)throw new Su(s);return new Gl(n/255*o,t/255*o,r/255*o,o)}function MT(e,n){return e in n}function zM(e,n){const t=n[e];return typeof t>"u"?null:t}function oce(e,n,t,r){for(;t<=r;){const i=t+r>>1;if(n[i]===e)return!0;n[i]>e?r=i-1:t=i+1}return!1}function _0(e){return{type:e}}Vy.register(Wj,{error:[nAe,[oo],(e,[n])=>{throw new Su(n.evaluate(e))}],typeof:[oo,[qi],(e,[n])=>xs(Wl(n.evaluate(e)))],"to-rgba":[pd(Xn,4),[Ep],(e,[n])=>n.evaluate(e).toArray()],rgb:[Ep,[Xn,Xn,Xn],wT],rgba:[Ep,[Xn,Xn,Xn,Xn],wT],has:{type:$i,overloads:[[[oo],(e,[n])=>MT(n.evaluate(e),e.properties())],[[oo,Ay],(e,[n,t])=>MT(n.evaluate(e),t.evaluate(e))]]},get:{type:qi,overloads:[[[oo],(e,[n])=>zM(n.evaluate(e),e.properties())],[[oo,Ay],(e,[n,t])=>zM(n.evaluate(e),t.evaluate(e))]]},"feature-state":[qi,[oo],(e,[n])=>zM(n.evaluate(e),e.featureState||{})],properties:[Ay,[],e=>e.properties()],"geometry-type":[oo,[],e=>e.geometryType()],id:[qi,[],e=>e.id()],zoom:[Xn,[],e=>e.globals.zoom],pitch:[Xn,[],e=>e.globals.pitch||0],"distance-from-center":[Xn,[],e=>e.distanceFromCenter()],"heatmap-density":[Xn,[],e=>e.globals.heatmapDensity||0],"line-progress":[Xn,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[Xn,[],e=>e.globals.skyRadialProgress||0],accumulated:[qi,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[Xn,_0(Xn),(e,n)=>{let t=0;for(const r of n)t+=r.evaluate(e);return t}],"*":[Xn,_0(Xn),(e,n)=>{let t=1;for(const r of n)t*=r.evaluate(e);return t}],"-":{type:Xn,overloads:[[[Xn,Xn],(e,[n,t])=>n.evaluate(e)-t.evaluate(e)],[[Xn],(e,[n])=>-n.evaluate(e)]]},"/":[Xn,[Xn,Xn],(e,[n,t])=>n.evaluate(e)/t.evaluate(e)],"%":[Xn,[Xn,Xn],(e,[n,t])=>n.evaluate(e)%t.evaluate(e)],ln2:[Xn,[],()=>Math.LN2],pi:[Xn,[],()=>Math.PI],e:[Xn,[],()=>Math.E],"^":[Xn,[Xn,Xn],(e,[n,t])=>Math.pow(n.evaluate(e),t.evaluate(e))],sqrt:[Xn,[Xn],(e,[n])=>Math.sqrt(n.evaluate(e))],log10:[Xn,[Xn],(e,[n])=>Math.log(n.evaluate(e))/Math.LN10],ln:[Xn,[Xn],(e,[n])=>Math.log(n.evaluate(e))],log2:[Xn,[Xn],(e,[n])=>Math.log(n.evaluate(e))/Math.LN2],sin:[Xn,[Xn],(e,[n])=>Math.sin(n.evaluate(e))],cos:[Xn,[Xn],(e,[n])=>Math.cos(n.evaluate(e))],tan:[Xn,[Xn],(e,[n])=>Math.tan(n.evaluate(e))],asin:[Xn,[Xn],(e,[n])=>Math.asin(n.evaluate(e))],acos:[Xn,[Xn],(e,[n])=>Math.acos(n.evaluate(e))],atan:[Xn,[Xn],(e,[n])=>Math.atan(n.evaluate(e))],min:[Xn,_0(Xn),(e,n)=>Math.min(...n.map(t=>t.evaluate(e)))],max:[Xn,_0(Xn),(e,n)=>Math.max(...n.map(t=>t.evaluate(e)))],abs:[Xn,[Xn],(e,[n])=>Math.abs(n.evaluate(e))],round:[Xn,[Xn],(e,[n])=>{const t=n.evaluate(e);return t<0?-Math.round(-t):Math.round(t)}],floor:[Xn,[Xn],(e,[n])=>Math.floor(n.evaluate(e))],ceil:[Xn,[Xn],(e,[n])=>Math.ceil(n.evaluate(e))],"filter-==":[$i,[oo,qi],(e,[n,t])=>e.properties()[n.value]===t.value],"filter-id-==":[$i,[qi],(e,[n])=>e.id()===n.value],"filter-type-==":[$i,[oo],(e,[n])=>e.geometryType()===n.value],"filter-<":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<r}],"filter->":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>r}],"filter-<=":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<=r}],"filter->=":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>=r}],"filter-has":[$i,[qi],(e,[n])=>n.value in e.properties()],"filter-has-id":[$i,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[$i,[pd(oo)],(e,[n])=>n.value.indexOf(e.geometryType())>=0],"filter-id-in":[$i,[pd(qi)],(e,[n])=>n.value.indexOf(e.id())>=0],"filter-in-small":[$i,[oo,pd(qi)],(e,[n,t])=>t.value.indexOf(e.properties()[n.value])>=0],"filter-in-large":[$i,[oo,pd(qi)],(e,[n,t])=>oce(e.properties()[n.value],t.value,0,t.value.length-1)],all:{type:$i,overloads:[[[$i,$i],(e,[n,t])=>n.evaluate(e)&&t.evaluate(e)],[_0($i),(e,n)=>{for(const t of n)if(!t.evaluate(e))return!1;return!0}]]},any:{type:$i,overloads:[[[$i,$i],(e,[n,t])=>n.evaluate(e)||t.evaluate(e)],[_0($i),(e,n)=>{for(const t of n)if(t.evaluate(e))return!0;return!1}]]},"!":[$i,[$i],(e,[n])=>!n.evaluate(e)],"is-supported-script":[$i,[oo],(e,[n])=>{const t=e.globals&&e.globals.isSupportedScript;return t?t(n.evaluate(e)):!0}],upcase:[oo,[oo],(e,[n])=>n.evaluate(e).toUpperCase()],downcase:[oo,[oo],(e,[n])=>n.evaluate(e).toLowerCase()],concat:[oo,_0(qi),(e,n)=>n.map(t=>P_(t.evaluate(e))).join("")],"resolved-locale":[oo,[x5],(e,[n])=>n.evaluate(e).resolvedLocale()]});var Nj=Wj;function bE(e){return{result:"success",value:e}}function kg(e){return{result:"error",value:e}}function ace(e){return e["property-type"]==="data-driven"}function sce(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Gj(e){return!!e.expression&&e.expression.interpolated}function H7(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function Z7(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function lce(e){return e}function X7(e,n){const t=n.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,s=e.type||(Gj(n)?"exponential":"interval");if(t&&(e=yj({},e),e.stops&&(e.stops=e.stops.map(C=>[C[0],Gl.parse(C[1])])),e.default?e.default=Gl.parse(e.default):e.default=Gl.parse(n.default)),e.colorSpace&&e.colorSpace!=="rgb"&&!Lj[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let a,h,g;if(s==="exponential")a=ST;else if(s==="interval")a=Ace;else if(s==="categorical"){a=uce,h=Object.create(null);for(const C of e.stops)h[C[0]]=C[1];g=typeof e.stops[0][0]}else if(s==="identity")a=cce;else throw new Error(`Unknown function type "${s}"`);if(r){const C={},B=[];for(let U=0;U<e.stops.length;U++){const Z=e.stops[U],W=Z[0].zoom;C[W]===void 0&&(C[W]={zoom:W,type:e.type,property:e.property,default:e.default,stops:[]},B.push(W)),C[W].stops.push([Z[0].value,Z[1]])}const k=[];for(const U of B)k.push([C[U].zoom,X7(C[U],n)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:Op.interpolationFactor.bind(void 0,P),zoomStops:k.map(U=>U[0]),evaluate({zoom:U},Z){return ST({stops:k,base:e.base},n,U).evaluate(U,Z)}}}else if(o){const C=s==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:Op.interpolationFactor.bind(void 0,C),zoomStops:e.stops.map(B=>B[0]),evaluate:({zoom:B})=>a(e,n,B,h,g)}}else return{kind:"source",evaluate(C,B){const k=B&&B.properties?B.properties[e.property]:void 0;return k===void 0?tb(e.default,n.default):a(e,n,k,h,g)}}}function tb(e,n,t){if(e!==void 0)return e;if(n!==void 0)return n;if(t!==void 0)return t}function uce(e,n,t,r,i){const o=typeof t===i?r[t]:void 0;return tb(o,e.default,n.default)}function Ace(e,n,t){if(H7(t)!=="number")return tb(e.default,n.default);const r=e.stops.length;if(r===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[r-1][0])return e.stops[r-1][1];const i=B5(e.stops.map(o=>o[0]),t);return e.stops[i][1]}function ST(e,n,t){const r=e.base!==void 0?e.base:1;if(H7(t)!=="number")return tb(e.default,n.default);const i=e.stops.length;if(i===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[i-1][0])return e.stops[i-1][1];const o=B5(e.stops.map(C=>C[0]),t),s=dce(t,r,e.stops[o][0],e.stops[o+1][0]),a=e.stops[o][1],h=e.stops[o+1][1];let g=Bj[n.type]||lce;if(e.colorSpace&&e.colorSpace!=="rgb"){const C=Lj[e.colorSpace];g=(B,k)=>C.reverse(C.interpolate(C.forward(B),C.forward(k),s))}return typeof a.evaluate=="function"?{evaluate(...C){const B=a.evaluate.apply(void 0,C),k=h.evaluate.apply(void 0,C);if(!(B===void 0||k===void 0))return g(B,k,s)}}:g(a,h,s)}function cce(e,n,t){return n.type==="color"?t=Gl.parse(t):n.type==="formatted"?t=lh.fromString(t.toString()):n.type==="resolvedImage"?t=Ip.fromString(t.toString()):H7(t)!==n.type&&(n.type!=="enum"||!n.values[t])&&(t=void 0),tb(t,e.default,n.default)}function dce(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}class Qj{constructor(n,t){this.expression=n,this._warningHistory={},this._evaluator=new Cj,this._defaultValue=t?pce(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(n,t,r,i,o,s,a,h){return this._evaluator.globals=n,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=h||null,this.expression.evaluate(this._evaluator)}evaluate(n,t,r,i,o,s,a,h){this._evaluator.globals=n,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=h||null;try{const g=this.expression.evaluate(this._evaluator);if(g==null||typeof g=="number"&&g!==g)return this._defaultValue;if(this._enumValues&&!(g in this._enumValues))throw new Su(`Expected value to be one of ${Object.keys(this._enumValues).map(C=>JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(g)} instead.`);return g}catch(g){return this._warningHistory[g.message]||(this._warningHistory[g.message]=!0,typeof console<"u"&&console.warn(g.message)),this._defaultValue}}}function $j(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in Nj}function $3(e,n){const t=new Sj(Nj,[],n?fce(n):void 0),r=t.parse(e,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?bE(new Qj(r,n)):kg(t.errors)}class xE{constructor(n,t){this.kind=n,this._styleExpression=t,this.isStateDependent=n!=="constant"&&!U7(t.expression)}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}}class wE{constructor(n,t,r,i){this.kind=n,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=n!=="camera"&&!U7(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}interpolationFactor(n,t,r){return this.interpolationType?Op.interpolationFactor(this.interpolationType,n,t,r):0}}function Yj(e,n){if(e=$3(e,n),e.result==="error")return e;const t=e.value.expression,r=O5(t);if(!r&&!ace(n))return kg([new sf("","data expressions not supported")]);const i=R7(t,["zoom","pitch","distance-from-center"]);if(!i&&!sce(n))return kg([new sf("","zoom expressions not supported")]);const o=x2(t);if(!o&&!i)return kg([new sf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof sf)return kg([o]);if(o instanceof Op&&!Gj(n))return kg([new sf("",'"interpolate" expressions cannot be used with this property')]);if(!o)return bE(r?new xE("constant",e.value):new xE("source",e.value));const s=o instanceof Op?o.interpolation:void 0;return bE(r?new wE("camera",e.value,o.labels,s):new wE("composite",e.value,o.labels,s))}class k5{constructor(n,t){this._parameters=n,this._specification=t,yj(this,X7(this._parameters,this._specification))}static deserialize(n){return new k5(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function hce(e,n){if(Z7(e))return new k5(e,n);if($j(e)){const t=Yj(e,n);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=e;return typeof e=="string"&&n.type==="color"&&(t=Gl.parse(e)),{kind:"constant",evaluate:()=>t}}}function x2(e){let n=null;if(e instanceof Rj)n=x2(e.result);else if(e instanceof Uj){for(const t of e.args)if(n=x2(t),n)break}else(e instanceof Ej||e instanceof Op)&&e.input instanceof Vy&&e.input.name==="zoom"&&(n=e);return n instanceof sf||e.eachChild(t=>{const r=x2(t);r instanceof sf?n=r:!n&&r?n=new sf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new sf("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function fce(e){const n={color:Ep,string:oo,number:Xn,enum:oo,boolean:$i,formatted:w5,resolvedImage:eb};return e.type==="array"?pd(n[e.value]||qi,e.length):n[e.type]}function pce(e){return e.type==="color"&&(Z7(e.default)||Array.isArray(e.default))?new Gl(0,0,0,0):e.type==="color"?Gl.parse(e.default)||null:e.default===void 0?null:e.default}function xC(e){return typeof e=="object"?["literal",e]:e}function mce(e,n){let t=e.stops;if(!t)return gce(e,n);const r=t&&typeof t[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return t=t.map(s=>!i&&n.tokens&&typeof s[1]=="string"?[s[0],Cce(s[1])]:[s[0],xC(s[1])]),r?yce(e,n,t):o?_ce(e,n,t):ME(e,n,t)}function gce(e,n){const t=["get",e.property];if(e.default===void 0)return n.type==="string"?["string",t]:t;if(n.type==="enum")return["match",t,Object.keys(n.values),t,e.default];{const r=[n.type==="color"?"to-color":n.type,t,xC(e.default)];return n.type==="array"&&r.splice(1,0,n.value,n.length||null),r}}function J7(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function yce(e,n,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const h=t[a],g=h[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([h[0].value,h[1]])}if(t8({},n)==="exponential"){const a=[J7(e),["linear"],["zoom"]];for(const h of o){const g=ME(r[h],n,i[h]);dy(a,h,g,!1)}return a}else{const a=["step",["zoom"]];for(const h of o){const g=ME(r[h],n,i[h]);dy(a,h,g,!0)}return e8(a),a}}function vce(e,n){if(e!==void 0)return e;if(n!==void 0)return n}function ET(e,n){const t=xC(vce(e.default,n.default));return t===void 0&&n.type==="resolvedImage"?"":t}function ME(e,n,t){const r=t8(e,n),i=["get",e.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(ET(e,n)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)dy(o,s[0],s[1],!1);return o.push(ET(e,n)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)dy(o,s[0],s[1],!0);return e8(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,xC(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,s=[J7(e),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)dy(s,a[0],a[1],!1);return e.default===void 0?s:["case",["==",["typeof",i],"number"],s,xC(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function _ce(e,n,t,r=["zoom"]){const i=t8(e,n);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=e.base!==void 0?e.base:1;o=[J7(e),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)dy(o,a[0],a[1],s);return e8(o),o}function e8(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function dy(e,n,t,r){e.length>3&&n===e[e.length-2]||(r&&e.length===2||e.push(n),e.push(t))}function t8(e,n){return e.type?e.type:n.expression.interpolated?"exponential":"interval"}function Cce(e){const n=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(e);i!==null;i=t.exec(e)){const o=e.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&n.push(o),n.push(["get",i[1]])}if(n.length===1)return e;if(r<e.length)n.push(e.slice(r));else if(n.length===2)return["to-string",n[1]];return n}function bce(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function SE(e){if(Array.isArray(e))return e.map(SE);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const n={};for(const t in e)n[t]=SE(e[t]);return n}return bce(e)}function n8(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const n of e.slice(1))if(!n8(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function xce(e,n="fill"){if(e==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};n8(e)||(e=Y3(e));const t=e;let r=!0;try{r=wce(t)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(t,null,2)}
        `)}const i=gj[`filter_${n}`],o=$3(r,i);let s=null;if(o.result==="error")throw new Error(o.value.map(C=>`${C.key}: ${C.message}`).join(", "));s=(C,B,k)=>o.value.evaluate(C,B,{},k);let a=null,h=null;if(r!==t){const C=$3(t,i);if(C.result==="error")throw new Error(C.value.map(B=>`${B.key}: ${B.message}`).join(", "));a=(B,k,P,U,Z)=>C.value.evaluate(B,k,{},P,void 0,void 0,U,Z),h=!O5(C.value.expression)}s=s;const g=Hj(r);return{filter:s,dynamicFilter:a||void 0,needGeometry:g,needFeature:!!h}}function wce(e){if(!hy(e))return e;let n=SE(e);return Vj(n),n=qj(n),n}function qj(e){if(!Array.isArray(e))return e;const n=Ece(e);return n===!0?n:n.map(t=>qj(t))}function Vj(e){let n=!1;const t=[];if(e[0]==="case"){for(let r=1;r<e.length-1;r+=2)n=n||hy(e[r]),t.push(e[r+1]);t.push(e[e.length-1])}else if(e[0]==="match"){n=n||hy(e[1]);for(let r=2;r<e.length-1;r+=2)t.push(e[r+1]);t.push(e[e.length-1])}else if(e[0]==="step"){n=n||hy(e[1]);for(let r=1;r<e.length-1;r+=2)t.push(e[r+1])}n&&(e.length=0,e.push("any",...t));for(let r=1;r<e.length;r++)Vj(e[r])}function hy(e){if(!Array.isArray(e))return!1;if(Mce(e[0]))return!0;for(let n=1;n<e.length;n++){const t=e[n];if(hy(t))return!0}return!1}function Mce(e){return e==="pitch"||e==="distance-from-center"}const Sce=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Ece(e){if(Sce.has(e[0]))for(let n=1;n<e.length;n++){const t=e[n];if(hy(t))return!0}return e}function Oce(e,n){return e<n?-1:e>n?1:0}function Hj(e){if(!Array.isArray(e))return!1;if(e[0]==="within")return!0;for(let n=1;n<e.length;n++)if(Hj(e[n]))return!0;return!1}function Y3(e){if(!e)return!0;const n=e[0];return e.length<=1?n!=="any":n==="=="?jM(e[1],e[2],"=="):n==="!="?Dx(jM(e[1],e[2],"==")):n==="<"||n===">"||n==="<="||n===">="?jM(e[1],e[2],n):n==="any"?Bce(e.slice(1)):n==="all"?["all"].concat(e.slice(1).map(Y3)):n==="none"?["all"].concat(e.slice(1).map(Y3).map(Dx)):n==="in"?OT(e[1],e.slice(2)):n==="!in"?Dx(OT(e[1],e.slice(2))):n==="has"?BT(e[1]):n==="!has"?Dx(BT(e[1])):n==="within"?e:!0}function jM(e,n,t){switch(e){case"$type":return[`filter-type-${t}`,n];case"$id":return[`filter-id-${t}`,n];default:return[`filter-${t}`,e,n]}}function Bce(e){return["any"].concat(e.map(Y3))}function OT(e,n){if(n.length===0)return!1;switch(e){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(t=>typeof t!=typeof n[0])?["filter-in-large",e,["literal",n.sort(Oce)]]:["filter-in-small",e,["literal",n]]}}function BT(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Dx(e){return["!",e]}var kce=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ice(e,n){const t={};for(const r in e)r!=="ref"&&(t[r]=e[r]);return kce.forEach(r=>{r in n&&(t[r]=n[r])}),t}function Tce(e){e=e.slice();const n=Object.create(null);for(let t=0;t<e.length;t++)n[e[t].id]=e[t];for(let t=0;t<e.length;t++)"ref"in e[t]&&(e[t]=Ice(e[t],n[e[t].ref]));return e}function Kce(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pce={};(function(e){var n=function(){var t=function(W,Q,q,oe){for(q=q||{},oe=W.length;oe--;q[W[oe]]=Q);return q},r=[1,12],i=[1,13],o=[1,9],s=[1,10],a=[1,11],h=[1,14],g=[1,15],C=[14,18,22,24],B=[18,22],k=[22,24],P={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Q,q,oe,re,Ae,ae,se){var ye=ae.length-1;switch(Ae){case 1:this.$=new String(Q.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Q),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=ae[ye-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=ae[ye-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[ae[ye-2],ae[ye]];break;case 16:this.$={},this.$[ae[ye][0]]=ae[ye][1];break;case 17:this.$=ae[ye-2],ae[ye-2][ae[ye][0]]=ae[ye][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[ae[ye]];break;case 21:this.$=ae[ye-2],ae[ye-2].push(ae[ye]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,12:1,13:2,15:7,16:8,17:h,23:g},{1:[3]},{14:[1,16]},t(C,[2,7]),t(C,[2,8]),t(C,[2,9]),t(C,[2,10]),t(C,[2,11]),t(C,[2,12]),t(C,[2,3]),t(C,[2,4]),t(C,[2,5]),t([14,18,21,22,24],[2,1]),t(C,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:23,15:7,16:8,17:h,23:g,24:[1,21],25:22},{1:[2,6]},t(C,[2,13]),{18:[1,24],22:[1,25]},t(B,[2,16]),{21:[1,26]},t(C,[2,18]),{22:[1,28],24:[1,27]},t(k,[2,20]),t(C,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:30,15:7,16:8,17:h,23:g},t(C,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:31,15:7,16:8,17:h,23:g},t(B,[2,17]),t(B,[2,15]),t(k,[2,21])],defaultActions:{16:[2,6]},parseError:function(Q,q){if(q.recoverable)this.trace(Q);else throw new Error(Q)},parse:function(Q){var q=this,oe=[0],re=[null],Ae=[],ae=this.table,se="",ye=0,De=0,Ne=2,et=1,ft=Ae.slice.call(arguments,1),Ke=Object.create(this.lexer),rt={yy:{}};for(var _e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_e)&&(rt.yy[_e]=this.yy[_e]);Ke.setInput(Q,rt.yy),rt.yy.lexer=Ke,rt.yy.parser=this,typeof Ke.yylloc>"u"&&(Ke.yylloc={});var Ut=Ke.yylloc;Ae.push(Ut);var jt=Ke.options&&Ke.options.ranges;typeof rt.yy.parseError=="function"?this.parseError=rt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function nn(){var he;return he=Ke.lex()||et,typeof he!="number"&&(he=q.symbols_[he]||he),he}for(var Qt,He,Je,tt,on={},mt,dt,kt,Pt;;){if(He=oe[oe.length-1],this.defaultActions[He]?Je=this.defaultActions[He]:((Qt===null||typeof Qt>"u")&&(Qt=nn()),Je=ae[He]&&ae[He][Qt]),typeof Je>"u"||!Je.length||!Je[0]){var Me="";Pt=[];for(mt in ae[He])this.terminals_[mt]&&mt>Ne&&Pt.push("'"+this.terminals_[mt]+"'");Ke.showPosition?Me="Parse error on line "+(ye+1)+`:
`+Ke.showPosition()+`
Expecting `+Pt.join(", ")+", got '"+(this.terminals_[Qt]||Qt)+"'":Me="Parse error on line "+(ye+1)+": Unexpected "+(Qt==et?"end of input":"'"+(this.terminals_[Qt]||Qt)+"'"),this.parseError(Me,{text:Ke.match,token:this.terminals_[Qt]||Qt,line:Ke.yylineno,loc:Ut,expected:Pt})}if(Je[0]instanceof Array&&Je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+Qt);switch(Je[0]){case 1:oe.push(Qt),re.push(Ke.yytext),Ae.push(Ke.yylloc),oe.push(Je[1]),Qt=null,De=Ke.yyleng,se=Ke.yytext,ye=Ke.yylineno,Ut=Ke.yylloc;break;case 2:if(dt=this.productions_[Je[1]][1],on.$=re[re.length-dt],on._$={first_line:Ae[Ae.length-(dt||1)].first_line,last_line:Ae[Ae.length-1].last_line,first_column:Ae[Ae.length-(dt||1)].first_column,last_column:Ae[Ae.length-1].last_column},jt&&(on._$.range=[Ae[Ae.length-(dt||1)].range[0],Ae[Ae.length-1].range[1]]),tt=this.performAction.apply(on,[se,De,ye,rt.yy,Je[1],re,Ae].concat(ft)),typeof tt<"u")return tt;dt&&(oe=oe.slice(0,-1*dt*2),re=re.slice(0,-1*dt),Ae=Ae.slice(0,-1*dt)),oe.push(this.productions_[Je[1]][0]),re.push(on.$),Ae.push(on._$),kt=ae[oe[oe.length-2]][oe[oe.length-1]],oe.push(kt);break;case 3:return!0}}return!0}},U=function(){var W={EOF:1,parseError:function(q,oe){if(this.yy.parser)this.yy.parser.parseError(q,oe);else throw new Error(q)},setInput:function(Q,q){return this.yy=q||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Q=this._input[0];this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q;var q=Q.match(/(?:\r\n?|\n).*/g);return q?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},unput:function(Q){var q=Q.length,oe=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var Ae=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===re.length?this.yylloc.first_column:0)+re[re.length-oe.length].length-oe[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Ae[0],Ae[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Q){this.unput(this.match.slice(Q))},pastInput:function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Q=this.pastInput(),q=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+q+"^"},test_match:function(Q,q){var oe,re,Ae;if(this.options.backtrack_lexer&&(Ae={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ae.yylloc.range=this.yylloc.range.slice(0))),re=Q[0].match(/(?:\r\n?|\n).*/g),re&&(this.yylineno+=re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:re?re[re.length-1].length-re[re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],oe=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var ae in Ae)this[ae]=Ae[ae];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Q,q,oe,re;this._more||(this.yytext="",this.match="");for(var Ae=this._currentRules(),ae=0;ae<Ae.length;ae++)if(oe=this._input.match(this.rules[Ae[ae]]),oe&&(!q||oe[0].length>q[0].length)){if(q=oe,re=ae,this.options.backtrack_lexer){if(Q=this.test_match(oe,Ae[ae]),Q!==!1)return Q;if(this._backtrack){q=!1;continue}else return!1}else if(!this.options.flex)break}return q?(Q=this.test_match(q,Ae[re]),Q!==!1?Q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var q=this.next();return q||this.lex()},begin:function(q){this.conditionStack.push(q)},popState:function(){var q=this.conditionStack.length-1;return q>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(q){return q=this.conditionStack.length-1-Math.abs(q||0),q>=0?this.conditionStack[q]:"INITIAL"},pushState:function(q){this.begin(q)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(q,oe,re,Ae){switch(re){case 0:break;case 1:return 6;case 2:return oe.yytext=oe.yytext.substr(1,oe.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return W}();P.lexer=U;function Z(){this.yy={}}return Z.prototype=P,P.Parser=Z,new Z}();typeof Kce<"u"&&(e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)})})(Pce);const Zj={StyleExpression:Qj,isExpression:$j,isExpressionFilter:n8,createExpression:$3,createPropertyExpression:Yj,normalizePropertyExpression:hce,ZoomConstantExpression:xE,ZoomDependentExpression:wE,StylePropertyFunction:k5},Xj={convertFunction:mce,createFunction:X7,isFunction:Z7};var Jj=typeof Object.assign=="function"?Object.assign:function(e,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function WM(e){return e*Math.PI/180}var Ty=function(){for(var e=[],n=78271.51696402048;e.length<=24;n/=2)e.push(n);return e}();function eW(e,n){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(e,n);var t=document.createElement("canvas");return t.width=e,t.height=n,t}function Fce(e,n){for(var t=0,r=n.length;t<r;++t){var i=n[t];if(i<e&&t+1<r){var o=n[t]/n[t+1];return t+Math.log(n[t]/e)/Math.log(o)}}return r-1}var Dce=Array(256).join("");function EE(e,n){if(n>=.05){for(var t="",r=e.split(`
`),i=Dce.slice(0,Math.round(n/.1)),o=0,s=r.length;o<s;++o)o>0&&(t+=`
`),t+=r[o].split("").join(i);return t}return e}var NM;function tW(){return NM||(NM=eW(1,1).getContext("2d")),NM}function C0(e,n){return tW().measureText(e).width+(e.length-1)*n}var OE={};lE&&bo(lE,Bi.CLEAR,function(){OE={}});function BE(e,n,t,r){if(e.indexOf(`
`)!==-1){for(var i=e.split(`
`),o=[],s=0,a=i.length;s<a;++s)o.push(BE(i[s],n,t,r));return o.join(`
`)}var h=t+","+n+","+e+","+r,g=OE[h];if(!g){var C=e.split(" ");if(C.length>1){var B=tW();B.font=n;for(var k=B.measureText("M").width,P=k*t,U="",o=[],s=0,a=C.length;s<a;++s){var Z=C[s],W=U+(U?" ":"")+Z;C0(W,r)<=P?U=W:(U&&o.push(U),U=Z)}U&&o.push(U);for(var s=0,a=o.length;s<a&&a>1;++s){var Q=o[s];if(C0(Q,r)<P*.35){var q=s>0?C0(o[s-1],r):1/0,oe=s<a-1?C0(o[s+1],r):1/0;o.splice(s,1),a-=1,q<oe?(o[s-1]+=" "+Q,s-=1):o[s]=Q+" "+o[s]}}for(var s=0,a=o.length-1;s<a;++s){var re=o[s],Ae=o[s+1];if(C0(re,r)>P*.7&&C0(Ae,r)<P*.6){var ae=re.split(" "),se=ae.pop();C0(se,r)<P*.2&&(o[s]=ae.join(" "),o[s+1]=se+" "+Ae),a-=1}}g=o.join(`
`)}else g=e;g=EE(g,r),OE[h]=g}return g}var Lce=Xj.isFunction,Uce=Xj.convertFunction,Rce=Zj.isExpression,zce=Zj.createPropertyExpression,jce={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Wce={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Nce=function(e,n){var t=zce(e,n);if(t.result==="error")throw new Error(t.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return t.value},kE={},q3={zoom:0},Lx,GM;function xi(e,n,t,r,i,o){var s=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});var a=o[s];if(!a[t]){var h=(e[n]||kE)[t],g=gj["".concat(n,"_").concat(e.type)][t];h===void 0&&(h=g.default);var C=Rce(h);if(!C&&Lce(h)&&(h=Uce(h,g),C=!0),C){var B=Nce(h,g);a[t]=B.evaluate.bind(B)}else g.type=="color"&&(h=Gl.parse(h)),a[t]=function(){return h}}return q3.zoom=r,a[t](q3,i)}function Gce(e,n,t,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=xce(n).filter),q3.zoom=r,i[e](q3,t)}function am(e,n){if(e){if(e.a===0||n===0)return;var t=e.a;return n=n===void 0?1:n,t===0?"transparent":"rgba("+Math.round(e.r*255/t)+","+Math.round(e.g*255/t)+","+Math.round(e.b*255/t)+","+t*n+")"}return e}var Qce=/^([^]*)\{(.*)\}([^]*)$/;function QM(e,n){var t;do if(t=e.match(Qce),t){var r=n[t[2]]||"";e=t[1]+r+t[3]}while(t);return e}function $ce(e,n,t,r,i,o,s){if(r===void 0&&(r=Ty),typeof n=="string"&&(n=JSON.parse(n)),n.version!=8)throw new Error("glStyle version 8 required.");var a,h;if(o){if(typeof Image<"u"){var g=new Image;g.crossOrigin="anonymous",g.onload=function(){a=g,h=[g.width,g.height],e.changed(),g.onload=null},g.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var C=self;C.postMessage({action:"loadImage",src:o}),C.addEventListener("message",function(Ut){Ut.data.action==="imageLoaded"&&Ut.data.src===o&&(a=Ut.data.image,h=[a.width,a.height])})}}for(var B=Tce(n.layers),k={},P=[],U={},Z={},W={},Q={},q,oe=0,re=B.length;oe<re;++oe){var Ae=B[oe],ae=Ae.id;if(typeof t=="string"&&Ae.source==t||t.indexOf(ae)!==-1){var se=Ae["source-layer"];if(!q){q=Ae.source;var ye=n.sources[q];if(!ye)throw new Error('Source "'.concat(q,'" is not defined'));var De=ye.type;if(De!=="vector"&&De!=="geojson")throw new Error('Source "'.concat(q,'" is not of type "vector" or "geojson", but "').concat(De,'"'))}var Ne=k[se];Ne||(Ne=[],k[se]=Ne),Ne.push({layer:Ae,index:oe}),P.push(ae)}}var et=new u_,ft=new Wg,Ke=[],rt=function(_e,Ut){var jt=_e.getProperties(),nn=k[jt.layer];if(nn){var Qt=r.indexOf(Ut);Qt==-1&&(Qt=Fce(Ut,r));for(var He=jce[_e.getGeometry().getType()],Je={properties:jt,type:He},tt=-1,on=function(kt,Pt){var Me=nn[kt],he=Me.layer,be=he.id,Pe=he.layout||kE,Ze=he.paint||kE;if(Pe.visibility==="none"||"minzoom"in he&&Qt<he.minzoom||"maxzoom"in he&&Qt>=he.maxzoom)return"continue";var nt=he.filter;if(!nt||Gce(be,nt,Je,Qt,Q)){var xt=void 0,Ft=void 0,Dt=void 0,pt=void 0,nr=void 0,pn=void 0,bn=Me.index;if(He==3&&(he.type=="fill"||he.type=="fill-extrusion"))if(Ft=xi(he,"paint",he.type+"-opacity",Qt,Je,W),he.type+"-pattern"in Ze){var Jn=xi(he,"paint",he.type+"-pattern",Qt,Je,W);if(Jn){var mr=typeof Jn=="string"?QM(Jn,jt):Jn.toString();if(a&&i&&i[mr]){++tt,pn=Ke[tt],(!pn||!pn.getFill()||pn.getStroke()||pn.getText())&&(pn=new O0({fill:new Wg}),Ke[tt]=pn),Dt=pn.getFill(),pn.setZIndex(bn);var xr=mr+"."+Ft,Nr=Z[xr];if(!Nr){var _r=i[mr],fi=eW(_r.width,_r.height),we=fi.getContext("2d");we.globalAlpha=Ft,we.drawImage(a,_r.x,_r.y,_r.width,_r.height,0,0,_r.width,_r.height),Nr=we.createPattern(fi,"repeat"),Z[xr]=Nr}Dt.setColor(Nr)}}}else xt=am(xi(he,"paint",he.type+"-color",Qt,Je,W),Ft),he.type+"-outline-color"in Ze&&(nr=am(xi(he,"paint",he.type+"-outline-color",Qt,Je,W),Ft)),nr||(nr=xt),(xt||nr)&&(++tt,pn=Ke[tt],(!pn||xt&&!pn.getFill()||!xt&&pn.getFill()||nr&&!pn.getStroke()||!nr&&pn.getStroke()||pn.getText())&&(pn=new O0({fill:xt?new Wg:void 0,stroke:nr?new u_:void 0}),Ke[tt]=pn),xt&&(Dt=pn.getFill(),Dt.setColor(xt)),nr&&(pt=pn.getStroke(),pt.setColor(nr),pt.setWidth(.5)),pn.setZIndex(bn));if(He!=1&&he.type=="line"){xt=!("line-pattern"in Ze)&&"line-color"in Ze?am(xi(he,"paint","line-color",Qt,Je,W),xi(he,"paint","line-opacity",Qt,Je,W)):void 0;var H=xi(he,"paint","line-width",Qt,Je,W);xt&&H>0&&(++tt,pn=Ke[tt],(!pn||!pn.getStroke()||pn.getFill()||pn.getText())&&(pn=new O0({stroke:new u_}),Ke[tt]=pn),pt=pn.getStroke(),pt.setLineCap(xi(he,"layout","line-cap",Qt,Je,W)),pt.setLineJoin(xi(he,"layout","line-join",Qt,Je,W)),pt.setMiterLimit(xi(he,"layout","line-miter-limit",Qt,Je,W)),pt.setColor(xt),pt.setWidth(H),pt.setLineDash(Ze["line-dasharray"]?xi(he,"paint","line-dasharray",Qt,Je,W).map(function(Ii){return Ii*H}):null),pn.setZIndex(bn))}var Y=!1,Be=null,st=0,St=void 0,Et=void 0,Nt=void 0;if((He==1||He==2)&&"icon-image"in Pe){var mn=xi(he,"layout","icon-image",Qt,Je,W);if(mn){St=typeof mn=="string"?QM(mn,jt):mn.toString();var Kn=void 0;if(a&&i&&i[St]){var En=xi(he,"layout","icon-rotation-alignment",Qt,Je,W);if(He==2){var m=_e.getGeometry();if(m.getFlatMidpoint||m.getFlatMidpoints){var Tt=m.getExtent(),Lr=Math.sqrt(Math.max(Math.pow((Tt[2]-Tt[0])/Ut,2),Math.pow((Tt[3]-Tt[1])/Ut,2)));if(Lr>150){var Wn=m.getType()==="MultiLineString"?m.getFlatMidpoints():m.getFlatMidpoint();GM||(Lx=[NaN,NaN],GM=new sE("Point",Lx,[],{},null)),Kn=GM,Lx[0]=Wn[0],Lx[1]=Wn[1];var Te=xi(he,"layout","symbol-placement",Qt,Je,W);if(Te==="line"&&En==="map")for(var de=m.getStride(),ve=m.getFlatCoordinates(),Se=0,Ue=ve.length-de;Se<Ue;Se+=de){var Xe=ve[Se],at=ve[Se+1],ht=ve[Se+de],Ve=ve[Se+de+1],Ct=Math.min(Xe,ht),Zt=Math.min(at,Ve),Ht=Math.max(Xe,ht),qt=Math.max(at,Ve);if(Wn[0]>=Ct&&Wn[0]<=Ht&&Wn[1]>=Zt&&Wn[1]<=qt){st=Math.atan2(at-Ve,ht-Xe);break}}}}}if(He!==2||Kn){var Vn=xi(he,"layout","icon-size",Qt,Je,W),On=Ze["icon-color"]!==void 0?xi(he,"paint","icon-color",Qt,Je,W):null;if(!On||On.a!==0){var xr=St+"."+Vn;if(On!==null&&(xr+="."+On),Et=U[xr],!Et){var ir=i[St];Et=new Nz({color:On?[On.r*255,On.g*255,On.b*255,On.a]:void 0,img:a,imgSize:h,size:[ir.width,ir.height],offset:[ir.x,ir.y],rotateWithView:En==="map",scale:Vn/ir.pixelRatio,displacement:"icon-offset"in Pe?xi(he,"layout","icon-offset",Qt,Je,W).map(function(ri){return-ri*ir.pixelRatio}):void 0}),U[xr]=Et}}Et&&(++tt,pn=Ke[tt],(!pn||!pn.getImage()||pn.getFill()||pn.getStroke())&&(pn=new O0,Ke[tt]=pn),pn.setGeometry(Kn),Et.setRotation(st+WM(xi(he,"layout","icon-rotate",Qt,Je,W))),Et.setOpacity(xi(he,"paint","icon-opacity",Qt,Je,W)),Et.setAnchor(Wce[xi(he,"layout","icon-anchor",Qt,Je,W)]),pn.setImage(Et),Be=pn.getText(),pn.setText(void 0),pn.setZIndex(bn),Y=!0,Nt=!1)}else Nt=!0}}}if(He==1&&he.type==="circle"){++tt,pn=Ke[tt],(!pn||!pn.getImage()||pn.getFill()||pn.getStroke())&&(pn=new O0,Ke[tt]=pn);var or="circle-radius"in Ze?xi(he,"paint","circle-radius",Qt,Je,W):5,Tr=am(xi(he,"paint","circle-stroke-color",Qt,Je,W),xi(he,"paint","circle-stroke-opacity",Qt,Je,W)),Ur=am(xi(he,"paint","circle-color",Qt,Je,W),xi(he,"paint","circle-opacity",Qt,Je,W)),Dr=xi(he,"paint","circle-stroke-width",Qt,Je,W),Jr=or+"."+Tr+"."+Ur+"."+Dr;Et=U[Jr],Et||(Et=new Uz({radius:or,stroke:Tr&&Dr>0?new u_({width:Dr,color:Tr}):void 0,fill:Ur?new Wg({color:Ur}):void 0}),U[Jr]=Et),pn.setImage(Et),Be=pn.getText(),pn.setText(void 0),pn.setGeometry(void 0),pn.setZIndex(bn),Y=!0}var rr=void 0,li=void 0,ki,Xi,xo,pi;if("text-field"in Pe){Xi=Math.round(xi(he,"layout","text-size",Qt,Je,W));var Oo=xi(he,"layout","text-font",Qt,Je,W);ki=xi(he,"layout","text-line-height",Qt,Je,W),li=pE(s?s(Oo):Oo,Xi,ki),xo=xi(he,"layout","text-letter-spacing",Qt,Je,W),pi=xi(he,"layout","text-max-width",Qt,Je,W);var As=xi(he,"layout","text-field",Qt,Je,W);typeof As=="object"&&As.sections?As.sections.length===1?rr=As.toString():rr=As.sections.reduce(function(Ii,ri,ya){var qa=ri.fontStack?ri.fontStack.split(","):Oo,Br=pE(s?s(qa):qa,Xi*(ri.scale||1),ki),mi=ri.text;if(mi===`
`)return Ii.push(`
`,""),Ii;if(He==2){Ii.push(EE(mi,xo),Br);return}mi=BE(mi,Br,pi,xo).split(`
`);for(var il=0,Va=mi.length;il<Va;++il)il>0&&Ii.push(`
`,""),Ii.push(mi[il],Br);return Ii},[]):rr=QM(As,jt).trim(),Ft=xi(he,"paint","text-opacity",Qt,Je,W)}if(rr&&Ft&&!Nt){Y||(++tt,pn=Ke[tt],(!pn||!pn.getText()||pn.getFill()||pn.getStroke())&&(pn=new O0,Ke[tt]=pn),pn.setImage(void 0),pn.setGeometry(void 0)),pn.getText()||pn.setText(Be||new dse({padding:[2,2,2,2]})),Be=pn.getText();var Ia=Pe["text-transform"];Ia=="uppercase"?rr=Array.isArray(rr)?rr.map(function(ri,ya){return ya%2?ri:ri.toUpperCase()}):rr.toUpperCase():Ia=="lowercase"&&(rr=Array.isArray(rr)?rr.map(function(ri,ya){return ya%2?ri:ri.toLowerCase()}):rr.toLowerCase());var _i=Array.isArray(rr)?rr:He==2?EE(rr,xo):BE(rr,li,pi,xo);Be.setText(_i),Be.setFont(li),Be.setRotation(WM(xi(he,"layout","text-rotate",Qt,Je,W)));var Ss=xi(he,"layout","text-anchor",Qt,Je,W),Te=Y||He==1?"point":xi(he,"layout","symbol-placement",Qt,Je,W);Be.setPlacement(Te),Be.setOverflow(Te==="point");var Si=xi(he,"paint","text-halo-width",Qt,Je,W),Qn=xi(he,"layout","text-offset",Qt,Je,W),so=xi(he,"paint","text-translate",Qt,Je,W),No=0,Ji=0;if(Te=="point"){var ge="center";Ss.indexOf("left")!==-1?(ge="left",Ji=Si):Ss.indexOf("right")!==-1&&(ge="right",Ji=-Si),Be.setTextAlign(ge);var $e=xi(he,"layout","text-rotation-alignment",Qt,Je,W);Be.setRotateWithView($e=="map")}else Be.setMaxAngle(WM(xi(he,"layout","text-max-angle",Qt,Je,W))*rr.length/_i.length),Be.setTextAlign(),Be.setRotateWithView(!1);var Xt="middle";Ss.indexOf("bottom")==0?(Xt="bottom",No=-Si-.5*(ki-1)*Xi):Ss.indexOf("top")==0&&(Xt="top",No=Si+.5*(ki-1)*Xi),Be.setTextBaseline(Xt),Be.setOffsetX(Qn[0]*Xi+Ji+so[0]),Be.setOffsetY(Qn[1]*Xi+No+so[1]),ft.setColor(am(xi(he,"paint","text-color",Qt,Je,W),Ft)),Be.setFill(ft);var ln=am(xi(he,"paint","text-halo-color",Qt,Je,W),Ft);if(ln){et.setColor(ln),Si*=2;var Kt=.5*Xi;et.setWidth(Si<=Kt?Si:Kt),Be.setStroke(et)}else Be.setStroke(void 0);var Mn=xi(he,"layout","text-padding",Qt,Je,W),cr=Be.getPadding();Mn!==cr[0]&&(cr[0]=Mn,cr[1]=Mn,cr[2]=Mn,cr[3]=Mn),pn.setZIndex(bn)}}},mt=0,dt=nn.length;mt<dt;++mt)on(mt);if(tt>-1)return Ke.length=tt+1,Ke}};return e.setStyle(rt),e.set("mapbox-source",q),e.set("mapbox-layers",P),rt}var nW={exports:{}};(function(){var e;nW.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(n){return"https://fonts.google.com/specimen/"+n.replace(/( )/g,"+")},normalizeName:function(n){return n}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(ch);var Yce=nW.exports;const qce=oa(Yce);var kT={},Vce=/font-family: ?([^;]*);/,Hce=/("|')/g,Ux;function Zce(e){if(!Ux){Ux={};for(var n=document.styleSheets,t=0,r=n.length;t<r;++t){var i=n[t];try{var o=i.rules||i.cssRules;if(o)for(var s=0,a=o.length;s<a;++s){var h=o[s];if(h.type==5){var g=h.cssText.match(Vce);Ux[g[1].replace(Hce,"")]=!0}}}catch{}}}return e in Ux}var IT={},Xce=qce.getNames();function Jce(e){var n=e.toString();if(n in IT)return e;for(var t=e.map(function(g){var C=pE(g,1).split(" ");return[C.slice(3).join(" ").replace(/"/g,""),C[1]+C[0]]}),r=0,i=t.length;r<i;++r){var o=t[r],s=o[0];if(!Zce(s)&&Xce.indexOf(s)!==-1){var a="https://fonts.googleapis.com/css?family="+s.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+a+'"]')){var h=document.createElement("link");h.href=a,h.rel="stylesheet",document.head.appendChild(h)}}}return IT[n]=!0,e}var rW=/^(.*)(\?.*)$/;function V3(e,n){return n&&e.indexOf(".")===0&&(e=n+e),e}function $M(e,n,t){e=V3(e,n);var r=e.match(rW);return r?r[1]+t+(r.length>2?r[2]:""):e+t}function ede(e,n,t,r,i){return new Promise(function(o,s){if(typeof n!="object"&&(n=JSON.parse(n)),n.version!=8)return s(new Error("glStyle version 8 required."));if(!(e instanceof Vz||e instanceof pj))return s(new Error("Can only apply to VectorLayer or VectorTileLayer"));var a,h,g,C;function B(){!C&&(!n.sprite||h)?(C=$ce(e,n,t,i,h,g,Jce),e.getStyle()?o():s(new Error("Nothing to show for source [".concat(t,"]")))):C?(e.setStyle(C),o()):s(new Error("Something went wrong trying to apply style."))}if(n.sprite){a=window.devicePixelRatio>=1.5?.5:1;var k=a==.5?"@2x":"",P=$M(n.sprite,r,k+".json");fetch(P,{credentials:"same-origin"}).then(function(U){return!U.ok&&k!==""?(P=$M(n.sprite,r,".json"),fetch(P,{credentials:"same-origin"})):U}).then(function(U){if(U.ok)return U.json();s(new Error("Problem fetching sprite from ".concat(P,": ").concat(U.statusText)))}).then(function(U){if(U===void 0)return s(new Error("No sprites found."));h=U,g=$M(n.sprite,r,k+".png"),B()}).catch(function(U){s(new Error("Sprites cannot be loaded: ".concat(P,": ").concat(U.message)))})}else B()})}var IE={};function tde(e,n){var t={id:n.id,type:n.type},r={};function i(o){var s=n.layout||{},a=n.paint||{};t.paint=a;var h=typeof e.getSource=="function"?e.getSource().getTileGrid().getZForResolution(o):e.getView().getZoom(),g=typeof e.getTargetElement=="function"?e.getTargetElement():void 0,C,B;if(a["background-color"]!==void 0&&(C=xi(t,"paint","background-color",h,IE,r),g&&(g.style.background=Gl.parse(C).toString())),a["background-opacity"]!==void 0&&(B=xi(t,"paint","background-opacity",h,IE,r),g&&(g.style.opacity=B)),s.visibility=="none"){g&&(g.style.backgroundColor="",g.style.opacity="");return}return am(C,B)}if(typeof e.getTargetElement=="function")e.getTargetElement()&&i(),e.on(["change:resolution","change:target"],i);else if(typeof e.setBackground=="function")e.setBackground(i);else throw new Error("Unable to apply background.")}function nde(e,n){var t;return e.some(function(r){if(r.id==n)return t=r.source,!0}),t}function iW(e){var n=e.bounds;if(n){var t=J6([n[0],n[1]]),r=J6([n[2],n[3]]);return[t[0],t[1],r[0],r[1]]}}function rde(e,n){e=Jj({},e);var t=[n,JSON.stringify(e)].toString(),r=kT[t];return r||(r=new hj({url:e.tiles?void 0:n,tileJSON:e.tiles?e:void 0}),kT[t]=r),new Promise(function(i){var o=r.on("change",function(){var s=r.getState();if(s==="ready"){var a=r.getTileJSON(),h=Array.isArray(a.tiles)?a.tiles:[a.tiles];if(n)for(var g=0,C=h.length;g<C;++g)h[g]=decodeURI(new URL(h[g],n).href);var B=r.getTileGrid(),k=iW(a),P=a.minzoom||0,U=a.maxzoom||22,Z=r.get("ol-source");Z===void 0&&(Z=new mj({attributions:r.getAttributions(),format:new sie,tileGrid:new JC({origin:B.getOrigin(0),extent:k||B.getExtent(),minZoom:P,resolutions:Ty.slice(0,U+1),tileSize:512}),urls:h}),r.set("ol-source",Z)),uC(o),i(Z)}else s==="error"&&(r.set("ol-source",null),uC(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function ide(e,n){var t=new pj({declutter:!0,visible:!1});return rde(e,n).then(function(r){t.setSource(r)}),t}function ode(e,n){var t=new Ble,r=new hj({transition:0,url:e.tiles?void 0:n,tileJSON:e.tiles?e:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){uC(i);var s=r.getTileJSON(),a=iW(s),h=r.getTileGrid(),g=e.tileSize||s.tileSize||512,C=s.minzoom||0,B=s.maxzoom||22;r.tileGrid=new JC({origin:h.getOrigin(0),extent:a||h.getExtent(),minZoom:C,resolutions:E7({maxZoom:B,tileSize:g}).getResolutions(),tileSize:g}),t.setSource(r)}else o==="error"&&(uC(i),t.setSource(void 0))});return r.setTileLoadFunction(function(o,s){if(s.indexOf("{bbox-epsg-3857}")!=-1){var a=r.getTileGrid().getTileCoordExtent(o.getTileCoord());s=s.replace("{bbox-epsg-3857}",a.toString())}var h=o.getImage();h.src=s}),t}var TT=new _re;function ade(e,n){var t=e.data,r,i;return typeof t=="string"?i=V3(t,n):r=TT.readFeatures(t,{featureProjection:"EPSG:3857"}),new Vz({declutter:!0,source:new Jz({attributions:e.attribution,features:r,format:TT,url:i}),visible:!1})}function KT(e,n,t,r){var i=t.getZoom(),o=xi(e,"paint","raster-opacity",i,IE,r);n.setOpacity(o)}function PT(e,n,t,r,i,o){o===void 0&&(o="");var s=[],a=n.getView();!a.isDef()&&!a.getRotation()&&!a.getResolutions()&&(a=new yp(Jj(a.getProperties(),{maxResolution:Ty[0]})),n.setView(a)),"center"in e&&!a.getCenter()&&a.setCenter(J6(e.center)),"zoom"in e&&a.getZoom()===void 0&&a.setResolution(Ty[0]/Math.pow(2,e.zoom)),(!a.getCenter()||a.getZoom()===void 0)&&a.fit(a.getProjection().getExtent(),{nearest:!0,size:n.getSize()}),e.sprite&&(e.sprite.indexOf("mapbox://")==0?e.sprite=t+"/sprite"+o:e.sprite.indexOf("http")!=0&&(e.sprite=(r?r+i:"")+e.sprite+o));for(var h=e.layers,g=[],C,B,k,P,U,Z,W=function(re,Ae){C=h[re];var ae=C.type;if(!(ae=="heatmap"||ae=="hillshade"))if(ae=="background")tde(n,C);else{if(P=C.source||nde(h,C.ref),P!=k){if(g.length&&(s.push(FT(U,g,e,i,n)),g=[]),B=e.sources[P],Z=B.url,Z)if(Z=V3(Z,i),Z.indexOf("mapbox://")==0){var se=Z.replace("mapbox://","");B.tiles=["a","b","c","d"].map(function(De){return"https://"+De+".tiles.mapbox.com/v4/"+se+"/{z}/{x}/{y}."+(B.type=="vector"?"vector.pbf":"png")+o})}else Z.indexOf("/")===0&&r.indexOf("http")===0&&(Z=r+Z);if(B.tiles&&(B.tiles=B.tiles.map(function(De){return V3(De,i)})),B.type=="vector")U=ide(B,Z);else if(B.type=="raster"){U=ode(B,Z),U.setVisible(C.layout?C.layout.visibility!=="none":!0);var ye={};a.on("change:resolution",KT.bind(Q,C,U,a,ye)),KT(C,U,a,ye)}else B.type=="geojson"&&(U=ade(B,i));k=P,U&&U.set("mapbox-source",k)}g.push(C.id)}},Q=this,q=0,oe=h.length;q<oe;++q)W(q);return s.push(FT(U,g,e,i,n)),n.set("mapbox-style",e),Promise.all(s)}function sde(e,n){var t,r="",i="",o="",s="";if((typeof e=="string"||e instanceof HTMLElement)&&(e=new M7({target:e})),typeof n=="string"){var a=n.match(rW);a&&(i=a[1],r=a.length>2?a[2]:""),t=new Promise(function(h,g){fetch(n,{credentials:"same-origin"}).then(function(C){return C.json()}).then(function(C){var B=document.createElement("A");B.href=n;var k=B.href;s=B.pathname.split("/").slice(0,-1).join("/")+"/",o=k.substr(0,k.indexOf(s)),PT(C,e,i,o,s,r).then(function(){h(e)}).catch(g)}).catch(function(C){g(new Error("Could not load ".concat(n,": ").concat(C.message)))})})}else t=new Promise(function(h,g){PT(n,e).then(function(){h(e)}).catch(g)});return t}function lde(e,n){return(typeof e=="string"||e instanceof HTMLElement)&&(e=new M7({target:e})),setTimeout(function(){sde(e,n)},0),e}function FT(e,n,t,r,i){for(var o=24,s=0,a=t.layers,h=0,g=a.length;h<g;++h){var C=a[h];n.indexOf(C.id)!==-1&&(o=Math.min("minzoom"in C?C.minzoom:0,o),s=Math.max("maxzoom"in C?C.maxzoom:24,s))}return new Promise(function(B,k){var P=function(){var U=e.getSource();if(!U||U.getState()==="error"){k(new Error("Error accessing data for source "+e.get("mapbox-source")));return}if("getTileGrid"in U){var Z=U.getTileGrid();if(Z){var W=Z.getMinZoom();(o>0||W>0)&&e.setMaxResolution(Math.min(Ty[o],Z.getResolution(W))+1e-9),s<24&&e.setMinResolution(Ty[s]+1e-9)}}U instanceof Jz||U instanceof mj?ede(e,t,n,r).then(function(){e.setVisible(!0),B()},function(Q){k(Q)}):B()};e.set("mapbox-layers",n),i.getLayers().getArray().indexOf(e)===-1&&i.addLayer(e),e.getSource()?P():e.once("change:source",P)})}function Mr(){var e="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",n="7242f6b015e11a4c9eb3973d702f9d425918e132",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:14,column:3}},1:{start:{line:11,column:4},end:{line:11,column:16}},2:{start:{line:13,column:4},end:{line:13,column:149}},3:{start:{line:13,column:103},end:{line:13,column:133}},4:{start:{line:17,column:24},end:{line:24,column:3}},5:{start:{line:27,column:14},end:{line:27,column:18}},6:{start:{line:29,column:19},end:{line:29,column:23}},7:{start:{line:31,column:4},end:{line:31,column:17}},8:{start:{line:32,column:4},end:{line:37,column:6}},9:{start:{line:38,column:4},end:{line:38,column:67}},10:{start:{line:41,column:4},end:{line:42,column:13}},11:{start:{line:42,column:6},end:{line:42,column:13}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:4},end:{line:169,column:9}},36:{start:{line:116,column:22},end:{line:116,column:45}},37:{start:{line:161,column:22},end:{line:161,column:40}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:9,column:9},end:{line:9,column:21}},loc:{start:{line:9,column:30},end:{line:15,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:92},end:{line:13,column:93}},loc:{start:{line:13,column:103},end:{line:13,column:133}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:23},end:{line:19,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:20,column:18},end:{line:20,column:19}},loc:{start:{line:20,column:24},end:{line:21,column:5}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:25},end:{line:23,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:21},end:{line:39,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:28},end:{line:45,column:3}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:170,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:116,column:15},end:{line:116,column:16}},loc:{start:{line:116,column:22},end:{line:116,column:45}},line:116},15:{name:"(anonymous_15)",decl:{start:{line:161,column:15},end:{line:161,column:16}},loc:{start:{line:161,column:22},end:{line:161,column:40}},line:161}},branchMap:{0:{loc:{start:{line:10,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:14,column:3}},{start:{line:12,column:9},end:{line:14,column:3}}],line:10},1:{loc:{start:{line:10,column:6},end:{line:10,column:34}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:13}},{start:{line:10,column:17},end:{line:10,column:34}}],line:10},2:{loc:{start:{line:41,column:4},end:{line:42,column:13}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:132,column:26},end:{line:132,column:59}},type:"binary-expr",locations:[{start:{line:132,column:26},end:{line:132,column:53}},{start:{line:132,column:57},end:{line:132,column:59}}],line:132},5:{loc:{start:{line:143,column:6},end:{line:156,column:10}},type:"binary-expr",locations:[{start:{line:143,column:6},end:{line:143,column:29}},{start:{line:143,column:49},end:{line:156,column:10}}],line:143}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAkBW,cAuIL,YAvIK;AAlBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AAEvB,OAAO,6BAA6B;AAEpC,OAAO;AACP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK;AAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAA+B;AAChD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAW;AAAA,gBACZ;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBAAmB;AAAA;AAAA,QACzB,KAAK,MAAM;AAAA,SACpB;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,wBAAU;AAAA,UACjB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAW;AAAA,UACX,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7242f6b015e11a4c9eb3973d702f9d425918e132"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Mr=function(){return s},s}Mr();function DT(e){return Mr().f[0]++,Mr().s[0]++,Mr().b[1][0]++,!e||(Mr().b[1][1]++,e.length<2)?(Mr().b[0][0]++,Mr().s[1]++,null):(Mr().b[0][1]++,Mr().s[2]++,N.jsx("span",{className:"maputnik-coords",children:e.map(n=>(Mr().f[1]++,Mr().s[3]++,String(n).padStart(7,""))).join(", ")}))}class oW extends xn.Component{constructor(t){Mr().f[5]++,Mr().s[7]++;super(t);rn(this,"updateStyle");rn(this,"map");rn(this,"container",(Mr().s[5]++,null));rn(this,"overlay");rn(this,"popupContainer",(Mr().s[6]++,null));rn(this,"closeOverlay",(Mr().s[32]++,t=>{Mr().f[12]++,Mr().s[33]++,t.target.blur(),Mr().s[34]++,this.overlay.setPosition(void 0)}));Mr().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},Mr().s[9]++,this.updateStyle=V4.throttle(this._updateStyle.bind(this),200)}_updateStyle(t){if(Mr().f[6]++,Mr().s[10]++,this.map)Mr().b[2][1]++;else{Mr().b[2][0]++,Mr().s[11]++;return}Mr().s[12]++,this.map.getLayers().clear(),Mr().s[13]++,lde(this.map,t)}componentDidUpdate(t){Mr().f[7]++,Mr().s[14]++,this.props.mapStyle!==t.mapStyle?(Mr().b[3][0]++,Mr().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):Mr().b[3][1]++}componentDidMount(){Mr().f[8]++,Mr().s[16]++,this.overlay=new boe({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const t=(Mr().s[17]++,new M7({target:this.container,overlays:[this.overlay],view:new yp({zoom:1,center:[180,-90]})}));Mr().s[18]++,t.on("pointermove",i=>{Mr().f[9]++;const o=(Mr().s[19]++,mM(i.coordinate));Mr().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),Mr().s[21]++;const r=()=>{Mr().f[10]++;const i=(Mr().s[22]++,t.getView().getZoom()),o=(Mr().s[23]++,mM(t.getView().getCenter()));Mr().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};Mr().s[25]++,r(),Mr().s[26]++,t.on("moveend",r),Mr().s[27]++,t.on("postrender",i=>{Mr().f[11]++;const o=(Mr().s[28]++,mM(t.getView().getCenter()));Mr().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:t.getView().getRotation().toFixed(2),zoom:t.getView().getZoom().toFixed(2)})}),Mr().s[30]++,this.map=t,Mr().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){return Mr().f[13]++,Mr().s[35]++,N.jsxs("div",{className:"maputnik-ol-container",children:[N.jsxs("div",{ref:t=>(Mr().f[14]++,Mr().s[36]++,this.popupContainer=t),style:{background:"black"},className:"maputnik-popup",children:[N.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":"Close popup",children:""}),N.jsx(hR,{features:(Mr().b[4][0]++,this.state.selectedFeatures||(Mr().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),N.jsxs("div",{className:"maputnik-ol-zoom",children:["Zoom: ",this.state.zoom]}),(Mr().b[5][0]++,this.props.debugToolbox&&(Mr().b[5][1]++,N.jsxs("div",{className:"maputnik-ol-debug",children:[N.jsxs("div",{children:[N.jsx("label",{children:"cursor: "}),N.jsx("span",{children:DT(this.state.cursor)})]}),N.jsxs("div",{children:[N.jsx("label",{children:"center: "}),N.jsx("span",{children:DT(this.state.center)})]}),N.jsxs("div",{children:[N.jsx("label",{children:"rotation: "}),N.jsx("span",{children:this.state.rotation})]})]}))),N.jsx("div",{className:"maputnik-ol",ref:t=>(Mr().f[15]++,Mr().s[37]++,this.container=t),role:"region","aria-label":"Map view",style:{...this.props.style}})]})}}rn(oW,"defaultProps",(Mr().s[4]++,{onMapLoaded:()=>{Mr().f[2]++},onDataChange:()=>{Mr().f[3]++},onLayerSelect:()=>{Mr().f[4]++}}));var aW={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)n.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(aW);var ude=aW.exports;const bf=oa(ude);function K0(){var e="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",n="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return K0=function(){return s},s}K0();class Ade extends xn.Component{render(){K0().f[0]++;const n=(K0().s[0]++,{width:20,height:20,...this.props.style});return K0().s[1]++,this.props.isCollapsed?(K0().b[0][0]++,N.jsx(tee,{style:n})):(K0().b[0][1]++,N.jsx(eee,{style:n}))}}function Qg(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",n="b04bfec534013c327fd210571832bbd2813a944a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Qg=function(){return s},s}Qg();class cde extends xn.Component{render(){return Qg().f[0]++,Qg().s[0]++,N.jsx("li",{className:"maputnik-layer-list-group",children:N.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:n=>(Qg().f[1]++,Qg().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[N.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),N.jsx("span",{className:"maputnik-space"}),N.jsx(Ade,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},wC.apply(this,arguments)}function dde(e){if(Array.isArray(e))return e}function hde(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,o,s,a=[],h=!0,g=!1;try{if(o=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(r=o.call(t)).done)&&(a.push(r.value),a.length!==n);h=!0);}catch(C){g=!0,i=C}finally{try{if(!h&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(g)throw i}}return a}}function TE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function sW(e,n){if(e){if(typeof e=="string")return TE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TE(e,n)}}function fde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lW(e,n){return dde(e)||hde(e,n)||sW(e,n)||fde()}function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ky(e)}function pde(e,n){if(Ky(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(Ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function uW(e){var n=pde(e,"string");return Ky(n)=="symbol"?n:String(n)}function pa(e,n,t){return n=uW(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function YM(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.forEach(function(i){pa(e,i,t[i])})}return e}function nb(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function LT(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uW(r.key),r)}}function rb(e,n,t){return n&&LT(e.prototype,n),t&&LT(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r8(e,n){if(n&&(Ky(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lo(e)}function MC(e){return MC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},MC(e)}function KE(e,n){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(e,n)}function i8(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&KE(e,n)}var mde=function(e,n,t,r,i,o,s,a){if(!e){var h;if(n===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[t,r,i,o,s,a],C=0;h=new Error(n.replace(/%s/g,function(){return g[C++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}},gde=mde;const p1=oa(gde);function yde(e){if(Array.isArray(e))return TE(e)}function vde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cde(e){return yde(e)||vde(e)||sW(e)||_de()}var bde=function(){function e(){nb(this,e),pa(this,"refs",{})}return rb(e,[{key:"add",value:function(t,r){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(r)}},{key:"remove",value:function(t,r){var i=this.getIndex(t,r);i!==-1&&this.refs[t].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==t.active.index})}},{key:"getIndex",value:function(t,r){return this.refs[t].indexOf(r)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[t].sort(xde)}}]),e}();function xde(e,n){var t=e.node.sortableInfo.index,r=n.node.sortableInfo.index;return t-r}function AW(e,n){return Object.keys(e).reduce(function(t,r){return n.indexOf(r)===-1&&(t[r]=e[r]),t},{})}var pg={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},cW=function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],n=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(n){case"ms":return"ms";default:return n&&n.length?n[0].toUpperCase()+n.substr(1):""}}();function Rx(e,n){Object.keys(n).forEach(function(t){e.style[t]=n[t]})}function zx(e,n){e.style["".concat(cW,"Transform")]=n==null?"":"translate3d(".concat(n.x,"px,").concat(n.y,"px,0)")}function qM(e,n){e.style["".concat(cW,"TransitionDuration")]=n==null?"":"".concat(n,"ms")}function d_(e,n){for(;e;){if(n(e))return e;e=e.parentNode}return null}function UT(e,n,t){return Math.max(e,Math.min(t,n))}function $g(e){return e.substr(-2)==="px"?parseFloat(e):0}function wde(e){var n=window.getComputedStyle(e);return{bottom:$g(n.marginBottom),left:$g(n.marginLeft),right:$g(n.marginRight),top:$g(n.marginTop)}}function o8(e,n){var t=n.displayName||n.name;return t?"".concat(e,"(").concat(t,")"):e}function VM(e,n){var t=e.getBoundingClientRect();return{top:t.top+n.top,left:t.left+n.left}}function $v(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Mde(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function w2(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var r={left:t.left+e.offsetLeft,top:t.top+e.offsetTop};return e.parentNode===n?r:w2(e.parentNode,n,r)}}function Sde(e,n,t){return e<t&&e>n?e-1:e>t&&e<n?e+1:e}function RT(e){var n=e.lockOffset,t=e.width,r=e.height,i=n,o=n,s="px";if(typeof n=="string"){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(n);p1(a!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',n),i=parseFloat(n),o=parseFloat(n),s=a[1]}return p1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",n),s==="%"&&(i=i*t/100,o=o*r/100),{x:i,y:o}}function Ede(e){var n=e.height,t=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];p1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=lW(i,2),s=o[0],a=o[1];return[RT({height:n,lockOffset:s,width:t}),RT({height:n,lockOffset:a,width:t})]}function Ode(e){var n=window.getComputedStyle(e),t=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return t.test(n[i])})}function dW(e){return e instanceof HTMLElement?Ode(e)?e:dW(e.parentNode):null}function Bde(e){var n=window.getComputedStyle(e);return n.display==="grid"?{x:$g(n.gridColumnGap),y:$g(n.gridRowGap)}:{x:0,y:0}}var b0={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},P0={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function kde(e){var n="input, textarea, select, canvas, [contenteditable]",t=e.querySelectorAll(n),r=e.cloneNode(!0),i=Cde(r.querySelectorAll(n));return i.forEach(function(o,s){if(o.type!=="file"&&(o.value=t[s].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===P0.Canvas&&t[s].width>0&&t[s].height>0){var a=o.getContext("2d");a.drawImage(t[s],0,0)}}),r}function Ide(e){var n,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=n=function(i){i8(o,i);function o(){var s,a;nb(this,o);for(var h=arguments.length,g=new Array(h),C=0;C<h;C++)g[C]=arguments[C];return a=r8(this,(s=MC(o)).call.apply(s,[this].concat(g))),pa(lo(lo(a)),"wrappedInstance",Sr.createRef()),a}return rb(o,[{key:"componentDidMount",value:function(){var a=Ym.findDOMNode(this);a.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return p1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Sr.createElement(e,wC({ref:a},this.props))}}]),o}(Sr.Component),pa(n,"displayName",o8("sortableHandle",e)),t}function zT(e){return e.sortableHandle!=null}var Tde=function(){function e(n,t){nb(this,e),this.container=n,this.onScrollCallback=t}return rb(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(t){var r=this,i=t.translate,o=t.minTranslate,s=t.maxTranslate,a=t.width,h=t.height,g={x:0,y:0},C={x:1,y:1},B={x:10,y:10},k=this.container,P=k.scrollTop,U=k.scrollLeft,Z=k.scrollHeight,W=k.scrollWidth,Q=k.clientHeight,q=k.clientWidth,oe=P===0,re=Z-P-Q===0,Ae=U===0,ae=W-U-q===0;i.y>=s.y-h/2&&!re?(g.y=1,C.y=B.y*Math.abs((s.y-h/2-i.y)/h)):i.x>=s.x-a/2&&!ae?(g.x=1,C.x=B.x*Math.abs((s.x-a/2-i.x)/a)):i.y<=o.y+h/2&&!oe?(g.y=-1,C.y=B.y*Math.abs((i.y-h/2-o.y)/h)):i.x<=o.x+a/2&&!Ae&&(g.x=-1,C.x=B.x*Math.abs((i.x-a/2-o.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(g.x!==0||g.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var se={left:C.x*g.x,top:C.y*g.y};r.container.scrollTop+=se.top,r.container.scrollLeft+=se.left,r.onScrollCallback(se)},5))}}]),e}();function Kde(e){var n=e.node;return{height:n.offsetHeight,width:n.offsetWidth}}function Pde(e){var n=[P0.Input,P0.Textarea,P0.Select,P0.Option,P0.Button];return!!(n.indexOf(e.target.tagName)!==-1||d_(e.target,function(t){return t.contentEditable==="true"}))}var hW={axis:Kr.oneOf(["x","y","xy"]),contentWindow:Kr.any,disableAutoscroll:Kr.bool,distance:Kr.number,getContainer:Kr.func,getHelperDimensions:Kr.func,helperClass:Kr.string,helperContainer:Kr.oneOfType([Kr.func,typeof HTMLElement>"u"?Kr.any:Kr.instanceOf(HTMLElement)]),hideSortableGhost:Kr.bool,keyboardSortingTransitionDuration:Kr.number,lockAxis:Kr.string,lockOffset:Kr.oneOfType([Kr.number,Kr.string,Kr.arrayOf(Kr.oneOfType([Kr.number,Kr.string]))]),lockToContainerEdges:Kr.bool,onSortEnd:Kr.func,onSortMove:Kr.func,onSortOver:Kr.func,onSortStart:Kr.func,pressDelay:Kr.number,pressThreshold:Kr.number,keyCodes:Kr.shape({lift:Kr.arrayOf(Kr.number),drop:Kr.arrayOf(Kr.number),cancel:Kr.arrayOf(Kr.number),up:Kr.arrayOf(Kr.number),down:Kr.arrayOf(Kr.number)}),shouldCancelStart:Kr.func,transitionDuration:Kr.number,updateBeforeSortStart:Kr.func,useDragHandle:Kr.bool,useWindowAsScrollContainer:Kr.bool},fW={lift:[b0.SPACE],drop:[b0.SPACE],cancel:[b0.ESC],up:[b0.UP,b0.LEFT],down:[b0.DOWN,b0.RIGHT]},Fde={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:Kde,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:fW,shouldCancelStart:Pde,transitionDuration:300,useWindowAsScrollContainer:!1},Dde=Object.keys(hW);function Lde(e){p1(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function Ude(e,n){try{var t=e()}catch(r){return n(!0,r)}return t&&t.then?t.then(n.bind(null,!1),n.bind(null,!0)):n(!1,value)}var pW=Sr.createContext({manager:{}});function Rde(e){var n,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=n=function(i){i8(o,i);function o(s){var a;nb(this,o),a=r8(this,MC(o).call(this,s)),pa(lo(lo(a)),"state",{}),pa(lo(lo(a)),"handleStart",function(g){var C=a.props,B=C.distance,k=C.shouldCancelStart;if(!(g.button===2||k(g))){a.touched=!0,a.position=$v(g);var P=d_(g.target,function(oe){return oe.sortableInfo!=null});if(P&&P.sortableInfo&&a.nodeIsChild(P)&&!a.state.sorting){var U=a.props.useDragHandle,Z=P.sortableInfo,W=Z.index,Q=Z.collection,q=Z.disabled;if(q||U&&!d_(g.target,zT))return;a.manager.active={collection:Q,index:W},!Mde(g)&&g.target.tagName===P0.Anchor&&g.preventDefault(),B||(a.props.pressDelay===0?a.handlePress(g):a.pressTimer=setTimeout(function(){return a.handlePress(g)},a.props.pressDelay))}}}),pa(lo(lo(a)),"nodeIsChild",function(g){return g.sortableInfo.manager===a.manager}),pa(lo(lo(a)),"handleMove",function(g){var C=a.props,B=C.distance,k=C.pressThreshold;if(!a.state.sorting&&a.touched&&!a._awaitingUpdateBeforeSortStart){var P=$v(g),U={x:a.position.x-P.x,y:a.position.y-P.y},Z=Math.abs(U.x)+Math.abs(U.y);a.delta=U,!B&&(!k||Z>=k)?(clearTimeout(a.cancelTimer),a.cancelTimer=setTimeout(a.cancel,0)):B&&Z>=B&&a.manager.isActive()&&a.handlePress(g)}}),pa(lo(lo(a)),"handleEnd",function(){a.touched=!1,a.cancel()}),pa(lo(lo(a)),"cancel",function(){var g=a.props.distance,C=a.state.sorting;C||(g||clearTimeout(a.pressTimer),a.manager.active=null)}),pa(lo(lo(a)),"handlePress",function(g){try{var C=a.manager.getActive(),B=function(){if(C){var k=function(){var Ne=Ae.sortableInfo.index,et=wde(Ae),ft=Bde(a.container),Ke=a.scrollContainer.getBoundingClientRect(),rt=Z({index:Ne,node:Ae,collection:ae});if(a.node=Ae,a.margin=et,a.gridGap=ft,a.width=rt.width,a.height=rt.height,a.marginOffset={x:a.margin.left+a.margin.right+a.gridGap.x,y:Math.max(a.margin.top,a.margin.bottom,a.gridGap.y)},a.boundingClientRect=Ae.getBoundingClientRect(),a.containerBoundingRect=Ke,a.index=Ne,a.newIndex=Ne,a.axis={x:U.indexOf("x")>=0,y:U.indexOf("y")>=0},a.offsetEdge=w2(Ae,a.container),se?a.initialOffset=$v(YM({},g,{pageX:a.boundingClientRect.left,pageY:a.boundingClientRect.top})):a.initialOffset=$v(g),a.initialScroll={left:a.scrollContainer.scrollLeft,top:a.scrollContainer.scrollTop},a.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},a.helper=a.helperContainer.appendChild(kde(Ae)),Rx(a.helper,{boxSizing:"border-box",height:"".concat(a.height,"px"),left:"".concat(a.boundingClientRect.left-et.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(a.boundingClientRect.top-et.top,"px"),width:"".concat(a.width,"px")}),se&&a.helper.focus(),Q&&(a.sortableGhost=Ae,Rx(Ae,{opacity:0,visibility:"hidden"})),a.minTranslate={},a.maxTranslate={},se){var _e=re?{top:0,left:0,width:a.contentWindow.innerWidth,height:a.contentWindow.innerHeight}:a.containerBoundingRect,Ut=_e.top,jt=_e.left,nn=_e.width,Qt=_e.height,He=Ut+Qt,Je=jt+nn;a.axis.x&&(a.minTranslate.x=jt-a.boundingClientRect.left,a.maxTranslate.x=Je-(a.boundingClientRect.left+a.width)),a.axis.y&&(a.minTranslate.y=Ut-a.boundingClientRect.top,a.maxTranslate.y=He-(a.boundingClientRect.top+a.height))}else a.axis.x&&(a.minTranslate.x=(re?0:Ke.left)-a.boundingClientRect.left-a.width/2,a.maxTranslate.x=(re?a.contentWindow.innerWidth:Ke.left+Ke.width)-a.boundingClientRect.left-a.width/2),a.axis.y&&(a.minTranslate.y=(re?0:Ke.top)-a.boundingClientRect.top-a.height/2,a.maxTranslate.y=(re?a.contentWindow.innerHeight:Ke.top+Ke.height)-a.boundingClientRect.top-a.height/2);W&&W.split(" ").forEach(function(tt){return a.helper.classList.add(tt)}),a.listenerNode=g.touches?g.target:a.contentWindow,se?(a.listenerNode.addEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.addEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.addEventListener("keydown",a.handleKeyDown)):(pg.move.forEach(function(tt){return a.listenerNode.addEventListener(tt,a.handleSortMove,!1)}),pg.end.forEach(function(tt){return a.listenerNode.addEventListener(tt,a.handleSortEnd,!1)})),a.setState({sorting:!0,sortingIndex:Ne}),oe&&oe({node:Ae,index:Ne,collection:ae,isKeySorting:se,nodes:a.manager.getOrderedRefs(),helper:a.helper},g),se&&a.keyMove(0)},P=a.props,U=P.axis,Z=P.getHelperDimensions,W=P.helperClass,Q=P.hideSortableGhost,q=P.updateBeforeSortStart,oe=P.onSortStart,re=P.useWindowAsScrollContainer,Ae=C.node,ae=C.collection,se=a.manager.isKeySorting,ye=function(){if(typeof q=="function"){a._awaitingUpdateBeforeSortStart=!0;var De=Ude(function(){var Ne=Ae.sortableInfo.index;return Promise.resolve(q({collection:ae,index:Ne,node:Ae,isKeySorting:se},g)).then(function(){})},function(Ne,et){if(a._awaitingUpdateBeforeSortStart=!1,Ne)throw et;return et});if(De&&De.then)return De.then(function(){})}}();return ye&&ye.then?ye.then(k):k(ye)}}();return Promise.resolve(B&&B.then?B.then(function(){}):void 0)}catch(k){return Promise.reject(k)}}),pa(lo(lo(a)),"handleSortMove",function(g){var C=a.props.onSortMove;typeof g.preventDefault=="function"&&g.cancelable&&g.preventDefault(),a.updateHelperPosition(g),a.animateNodes(),a.autoscroll(),C&&C(g)}),pa(lo(lo(a)),"handleSortEnd",function(g){var C=a.props,B=C.hideSortableGhost,k=C.onSortEnd,P=a.manager,U=P.active.collection,Z=P.isKeySorting,W=a.manager.getOrderedRefs();a.listenerNode&&(Z?(a.listenerNode.removeEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("keydown",a.handleKeyDown)):(pg.move.forEach(function(Ae){return a.listenerNode.removeEventListener(Ae,a.handleSortMove)}),pg.end.forEach(function(Ae){return a.listenerNode.removeEventListener(Ae,a.handleSortEnd)}))),a.helper.parentNode.removeChild(a.helper),B&&a.sortableGhost&&Rx(a.sortableGhost,{opacity:"",visibility:""});for(var Q=0,q=W.length;Q<q;Q++){var oe=W[Q],re=oe.node;oe.edgeOffset=null,oe.boundingClientRect=null,zx(re,null),qM(re,null),oe.translate=null}a.autoScroller.clear(),a.manager.active=null,a.manager.isKeySorting=!1,a.setState({sorting:!1,sortingIndex:null}),typeof k=="function"&&k({collection:U,newIndex:a.newIndex,oldIndex:a.index,isKeySorting:Z,nodes:W},g),a.touched=!1}),pa(lo(lo(a)),"autoscroll",function(){var g=a.props.disableAutoscroll,C=a.manager.isKeySorting;if(g){a.autoScroller.clear();return}if(C){var B=YM({},a.translate),k=0,P=0;a.axis.x&&(B.x=Math.min(a.maxTranslate.x,Math.max(a.minTranslate.x,a.translate.x)),k=a.translate.x-B.x),a.axis.y&&(B.y=Math.min(a.maxTranslate.y,Math.max(a.minTranslate.y,a.translate.y)),P=a.translate.y-B.y),a.translate=B,zx(a.helper,a.translate),a.scrollContainer.scrollLeft+=k,a.scrollContainer.scrollTop+=P;return}a.autoScroller.update({height:a.height,maxTranslate:a.maxTranslate,minTranslate:a.minTranslate,translate:a.translate,width:a.width})}),pa(lo(lo(a)),"onAutoScroll",function(g){a.translate.x+=g.left,a.translate.y+=g.top,a.animateNodes()}),pa(lo(lo(a)),"handleKeyDown",function(g){var C=g.keyCode,B=a.props,k=B.shouldCancelStart,P=B.keyCodes,U=P===void 0?{}:P,Z=YM({},fW,U);a.manager.active&&!a.manager.isKeySorting||!a.manager.active&&(!Z.lift.includes(C)||k(g)||!a.isValidSortingTarget(g))||(g.stopPropagation(),g.preventDefault(),Z.lift.includes(C)&&!a.manager.active?a.keyLift(g):Z.drop.includes(C)&&a.manager.active?a.keyDrop(g):Z.cancel.includes(C)?(a.newIndex=a.manager.active.index,a.keyDrop(g)):Z.up.includes(C)?a.keyMove(-1):Z.down.includes(C)&&a.keyMove(1))}),pa(lo(lo(a)),"keyLift",function(g){var C=g.target,B=d_(C,function(Z){return Z.sortableInfo!=null}),k=B.sortableInfo,P=k.index,U=k.collection;a.initialFocusedNode=C,a.manager.isKeySorting=!0,a.manager.active={index:P,collection:U},a.handlePress(g)}),pa(lo(lo(a)),"keyMove",function(g){var C=a.manager.getOrderedRefs(),B=C[C.length-1].node.sortableInfo.index,k=a.newIndex+g,P=a.newIndex;if(!(k<0||k>B)){a.prevIndex=P,a.newIndex=k;var U=Sde(a.newIndex,a.prevIndex,a.index),Z=C.find(function(se){var ye=se.node;return ye.sortableInfo.index===U}),W=Z.node,Q=a.containerScrollDelta,q=Z.boundingClientRect||VM(W,Q),oe=Z.translate||{x:0,y:0},re={top:q.top+oe.y-Q.top,left:q.left+oe.x-Q.left},Ae=P<k,ae={x:Ae&&a.axis.x?W.offsetWidth-a.width:0,y:Ae&&a.axis.y?W.offsetHeight-a.height:0};a.handleSortMove({pageX:re.left+ae.x,pageY:re.top+ae.y,ignoreTransition:g===0})}}),pa(lo(lo(a)),"keyDrop",function(g){a.handleSortEnd(g),a.initialFocusedNode&&a.initialFocusedNode.focus()}),pa(lo(lo(a)),"handleKeyEnd",function(g){a.manager.active&&a.keyDrop(g)}),pa(lo(lo(a)),"isValidSortingTarget",function(g){var C=a.props.useDragHandle,B=g.target,k=d_(B,function(P){return P.sortableInfo!=null});return k&&k.sortableInfo&&!k.sortableInfo.disabled&&(C?zT(B):B.sortableInfo)});var h=new bde;return Lde(s),a.manager=h,a.wrappedInstance=Sr.createRef(),a.sortableContextValue={manager:h},a.events={end:a.handleEnd,move:a.handleMove,start:a.handleStart},a}return rb(o,[{key:"componentDidMount",value:function(){var a=this,h=this.props.useWindowAsScrollContainer,g=this.getContainer();Promise.resolve(g).then(function(C){a.container=C,a.document=a.container.ownerDocument||document;var B=a.props.contentWindow||a.document.defaultView||window;a.contentWindow=typeof B=="function"?B():B,a.scrollContainer=h?a.document.scrollingElement||a.document.documentElement:dW(a.container)||a.container,a.autoScroller=new Tde(a.scrollContainer,a.onAutoScroll),Object.keys(a.events).forEach(function(k){return pg[k].forEach(function(P){return a.container.addEventListener(P,a.events[k],!1)})}),a.container.addEventListener("keydown",a.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var a=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(h){return pg[h].forEach(function(g){return a.container.removeEventListener(g,a.events[h])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(a){var h=this.props,g=h.lockAxis,C=h.lockOffset,B=h.lockToContainerEdges,k=h.transitionDuration,P=h.keyboardSortingTransitionDuration,U=P===void 0?k:P,Z=this.manager.isKeySorting,W=a.ignoreTransition,Q=$v(a),q={x:Q.x-this.initialOffset.x,y:Q.y-this.initialOffset.y};if(q.y-=window.pageYOffset-this.initialWindowScroll.top,q.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=q,B){var oe=Ede({height:this.height,lockOffset:C,width:this.width}),re=lW(oe,2),Ae=re[0],ae=re[1],se={x:this.width/2-Ae.x,y:this.height/2-Ae.y},ye={x:this.width/2-ae.x,y:this.height/2-ae.y};q.x=UT(this.minTranslate.x+se.x,this.maxTranslate.x-ye.x,q.x),q.y=UT(this.minTranslate.y+se.y,this.maxTranslate.y-ye.y,q.y)}g==="x"?q.y=0:g==="y"&&(q.x=0),Z&&U&&!W&&qM(this.helper,U),zx(this.helper,q)}},{key:"animateNodes",value:function(){var a=this.props,h=a.transitionDuration,g=a.hideSortableGhost,C=a.onSortOver,B=this.containerScrollDelta,k=this.windowScrollDelta,P=this.manager.getOrderedRefs(),U={left:this.offsetEdge.left+this.translate.x+B.left,top:this.offsetEdge.top+this.translate.y+B.top},Z=this.manager.isKeySorting,W=this.newIndex;this.newIndex=null;for(var Q=0,q=P.length;Q<q;Q++){var oe=P[Q].node,re=oe.sortableInfo.index,Ae=oe.offsetWidth,ae=oe.offsetHeight,se={height:this.height>ae?ae/2:this.height/2,width:this.width>Ae?Ae/2:this.width/2},ye=Z&&re>this.index&&re<=W,De=Z&&re<this.index&&re>=W,Ne={x:0,y:0},et=P[Q].edgeOffset;et||(et=w2(oe,this.container),P[Q].edgeOffset=et,Z&&(P[Q].boundingClientRect=VM(oe,B)));var ft=Q<P.length-1&&P[Q+1],Ke=Q>0&&P[Q-1];if(ft&&!ft.edgeOffset&&(ft.edgeOffset=w2(ft.node,this.container),Z&&(ft.boundingClientRect=VM(ft.node,B))),re===this.index){g&&(this.sortableGhost=oe,Rx(oe,{opacity:0,visibility:"hidden"}));continue}h&&qM(oe,h),this.axis.x?this.axis.y?De||re<this.index&&(U.left+k.left-se.width<=et.left&&U.top+k.top<=et.top+se.height||U.top+k.top+se.height<=et.top)?(Ne.x=this.width+this.marginOffset.x,et.left+Ne.x>this.containerBoundingRect.width-se.width&&ft&&(Ne.x=ft.edgeOffset.left-et.left,Ne.y=ft.edgeOffset.top-et.top),this.newIndex===null&&(this.newIndex=re)):(ye||re>this.index&&(U.left+k.left+se.width>=et.left&&U.top+k.top+se.height>=et.top||U.top+k.top+se.height>=et.top+ae))&&(Ne.x=-(this.width+this.marginOffset.x),et.left+Ne.x<this.containerBoundingRect.left+se.width&&Ke&&(Ne.x=Ke.edgeOffset.left-et.left,Ne.y=Ke.edgeOffset.top-et.top),this.newIndex=re):ye||re>this.index&&U.left+k.left+se.width>=et.left?(Ne.x=-(this.width+this.marginOffset.x),this.newIndex=re):(De||re<this.index&&U.left+k.left<=et.left+se.width)&&(Ne.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=re)):this.axis.y&&(ye||re>this.index&&U.top+k.top+se.height>=et.top?(Ne.y=-(this.height+this.marginOffset.y),this.newIndex=re):(De||re<this.index&&U.top+k.top<=et.top+se.height)&&(Ne.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=re))),zx(oe,Ne),P[Q].translate=Ne}this.newIndex==null&&(this.newIndex=this.index),Z&&(this.newIndex=W);var rt=Z?this.prevIndex:W;C&&this.newIndex!==rt&&C({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:rt,isKeySorting:Z,nodes:P,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return p1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var a=this.props.getContainer;return typeof a!="function"?Ym.findDOMNode(this):a(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Sr.createElement(pW.Provider,{value:this.sortableContextValue},Sr.createElement(e,wC({ref:a},AW(this.props,Dde))))}},{key:"helperContainer",get:function(){var a=this.props.helperContainer;return typeof a=="function"?a():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var a=this.props.useWindowAsScrollContainer;return a?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(Sr.Component),pa(n,"displayName",o8("sortableList",e)),pa(n,"defaultProps",Fde),pa(n,"propTypes",hW),t}var mW={index:Kr.number.isRequired,collection:Kr.oneOfType([Kr.number,Kr.string]),disabled:Kr.bool},zde=Object.keys(mW);function jde(e){var n,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=n=function(i){i8(o,i);function o(){var s,a;nb(this,o);for(var h=arguments.length,g=new Array(h),C=0;C<h;C++)g[C]=arguments[C];return a=r8(this,(s=MC(o)).call.apply(s,[this].concat(g))),pa(lo(lo(a)),"wrappedInstance",Sr.createRef()),a}return rb(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(a){this.node&&(a.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),a.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),a.collection!==this.props.collection&&(this.unregister(a.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var a=this.props,h=a.collection,g=a.disabled,C=a.index,B=Ym.findDOMNode(this);B.sortableInfo={collection:h,disabled:g,index:C,manager:this.context.manager},this.node=B,this.ref={node:B},this.context.manager.add(h,this.ref)}},{key:"unregister",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(a,this.ref)}},{key:"getWrappedInstance",value:function(){return p1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Sr.createElement(e,wC({ref:a},AW(this.props,zde)))}}]),o}(Sr.Component),pa(n,"displayName",o8("sortableElement",e)),pa(n,"contextType",pW),pa(n,"propTypes",mW),pa(n,"defaultProps",{collection:0}),t}function di(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",n="63fcf32b678e8e84bae6e5adc5bc926b1550ab61",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAgB,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAEzG,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"63fcf32b678e8e84bae6e5adc5bc926b1550ab61"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return di=function(){return s},s}di();const Wde=(di().s[0]++,Ide(e=>(di().f[0]++,di().s[1]++,N.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[N.jsx(dR,{className:"layer-handle__icon",type:e.layerType}),N.jsx("button",{className:"maputnik-layer-list-item-id",children:e.layerId})]}))));class HM extends xn.Component{renderIcon(){switch(di().f[1]++,di().s[2]++,this.props.action){case"duplicate":return di().b[0][0]++,di().s[3]++,N.jsx(qJ,{});case"show":return di().b[0][1]++,di().s[4]++,N.jsx(YJ,{});case"hide":return di().b[0][2]++,di().s[5]++,N.jsx($J,{});case"delete":return di().b[0][3]++,di().s[6]++,N.jsx(Qy,{})}}render(){di().f[2]++;const{classBlockName:n,classBlockModifier:t}=(di().s[7]++,this.props);let r=(di().s[8]++,"");return di().s[9]++,n?(di().b[1][0]++,di().s[10]++,r=`maputnik-layer-list-icon-action__${n}`,di().s[11]++,t?(di().b[2][0]++,di().s[12]++,r+=` maputnik-layer-list-icon-action__${n}--${t}`):di().b[2][1]++):di().b[1][1]++,di().s[13]++,N.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class PE extends xn.Component{getChildContext(){return di().f[6]++,di().s[16]++,{reactIconBase:{size:14}}}render(){di().f[7]++;const n=(di().s[17]++,this.props.visibility==="visible"?(di().b[3][0]++,"show"):(di().b[3][1]++,"hide"));return di().s[18]++,N.jsxs("li",{id:this.props.id,onClick:t=>(di().f[8]++,di().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:bf({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[N.jsx(Wde,{...this.props}),N.jsx("span",{style:{flexGrow:1}}),N.jsx(HM,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:t=>(di().f[9]++,di().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),N.jsx(HM,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:t=>(di().f[10]++,di().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),N.jsx(HM,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:n,classBlockName:"visibility",classBlockModifier:n,onClick:t=>(di().f[11]++,di().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}rn(PE,"defaultProps",(di().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{di().f[3]++},onLayerDestroy:()=>{di().f[4]++},onLayerVisibilityToggle:()=>{di().f[5]++}})),rn(PE,"childContextTypes",(di().s[15]++,{reactIconBase:Kr.object}));const Nde=(di().s[23]++,jde(e=>(di().f[12]++,di().s[24]++,N.jsx(PE,{...e}))));function H3(){var e="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",n="522bfc6b8aacbfd03b55d947af2897dc69beb570",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return H3=function(){return s},s}H3();class ka extends xn.Component{render(){return H3().f[0]++,H3().s[0]++,N.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:bf("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var gW=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Z3=gW.join(","),yW=typeof Element>"u",m1=yW?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,FE=!yW&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},vW=function(n,t,r){var i=Array.prototype.slice.apply(n.querySelectorAll(Z3));return t&&m1.call(n,Z3)&&i.unshift(n),i=i.filter(r),i},_W=function e(n,t,r){for(var i=[],o=Array.from(n);o.length;){var s=o.shift();if(s.tagName==="SLOT"){var a=s.assignedElements(),h=a.length?a:s.children,g=e(h,!0,r);r.flatten?i.push.apply(i,g):i.push({scope:s,candidates:g})}else{var C=m1.call(s,Z3);C&&r.filter(s)&&(t||!n.includes(s))&&i.push(s);var B=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),k=!r.shadowRootFilter||r.shadowRootFilter(s);if(B&&k){var P=e(B===!0?s.children:B.children,!0,r);r.flatten?i.push.apply(i,P):i.push({scope:s,candidates:P})}else o.unshift.apply(o,s.children)}}return i},CW=function(n,t){return n.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||n.isContentEditable)&&isNaN(parseInt(n.getAttribute("tabindex"),10))?0:n.tabIndex},Gde=function(n,t){return n.tabIndex===t.tabIndex?n.documentOrder-t.documentOrder:n.tabIndex-t.tabIndex},bW=function(n){return n.tagName==="INPUT"},Qde=function(n){return bW(n)&&n.type==="hidden"},$de=function(n){var t=n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(r){return r.tagName==="SUMMARY"});return t},Yde=function(n,t){for(var r=0;r<n.length;r++)if(n[r].checked&&n[r].form===t)return n[r]},qde=function(n){if(!n.name)return!0;var t=n.form||FE(n),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(n.name));else try{i=r(n.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=Yde(i,n.form);return!o||o===n},Vde=function(n){return bW(n)&&n.type==="radio"},Hde=function(n){return Vde(n)&&!qde(n)},jT=function(n){var t=n.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},Zde=function(n,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(n).visibility==="hidden")return!0;var o=m1.call(n,"details>summary:first-of-type"),s=o?n.parentElement:n;if(m1.call(s,"details:not([open]) *"))return!0;var a=FE(n).host,h=(a==null?void 0:a.ownerDocument.contains(a))||n.ownerDocument.contains(n);if(!r||r==="full"){if(typeof i=="function"){for(var g=n;n;){var C=n.parentElement,B=FE(n);if(C&&!C.shadowRoot&&i(C)===!0)return jT(n);n.assignedSlot?n=n.assignedSlot:!C&&B!==n.ownerDocument?n=B.host:n=C}n=g}if(h)return!n.getClientRects().length}else if(r==="non-zero-area")return jT(n);return!1},Xde=function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var t=n.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return m1.call(t,"fieldset[disabled] *")?!0:!i.contains(n)}return!0}t=t.parentElement}return!1},X3=function(n,t){return!(t.disabled||Qde(t)||Zde(t,n)||$de(t)||Xde(t))},DE=function(n,t){return!(Hde(t)||CW(t)<0||!X3(n,t))},Jde=function(n){var t=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ehe=function e(n){var t=[],r=[];return n.forEach(function(i,o){var s=!!i.scope,a=s?i.scope:i,h=CW(a,s),g=s?e(i.candidates):a;h===0?s?t.push.apply(t,g):t.push(a):r.push({documentOrder:o,tabIndex:h,item:i,isScope:s,content:g})}),r.sort(Gde).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(t)},xW=function(n,t){t=t||{};var r;return t.getShadowRoot?r=_W([n],t.includeContainer,{filter:DE.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Jde}):r=vW(n,t.includeContainer,DE.bind(null,t)),ehe(r)},wW=function(n,t){t=t||{};var r;return t.getShadowRoot?r=_W([n],t.includeContainer,{filter:X3.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=vW(n,t.includeContainer,X3.bind(null,t)),r},h_=function(n,t){if(t=t||{},!n)throw new Error("No node provided");return m1.call(n,Z3)===!1?!1:DE(t,n)},the=gW.concat("iframe").join(","),M2=function(n,t){if(t=t||{},!n)throw new Error("No node provided");return m1.call(n,the)===!1?!1:X3(t,n)};const nhe=Object.freeze(Object.defineProperty({__proto__:null,focusable:wW,isFocusable:M2,isTabbable:h_,tabbable:xW},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function WT(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function NT(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?WT(Object(t),!0).forEach(function(r){rhe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WT(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function rhe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var GT=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),ihe=function(n){return n.tagName&&n.tagName.toLowerCase()==="input"&&typeof n.select=="function"},ohe=function(n){return n.key==="Escape"||n.key==="Esc"||n.keyCode===27},ahe=function(n){return n.key==="Tab"||n.keyCode===9},QT=function(n){return setTimeout(n,0)},$T=function(n,t){var r=-1;return n.every(function(i,o){return t(i)?(r=o,!1):!0}),r},Yv=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof n=="function"?n.apply(void 0,r):n},jx=function(n){return n.target.shadowRoot&&typeof n.composedPath=="function"?n.composedPath()[0]:n.target},she=function(n,t){var r=(t==null?void 0:t.document)||document,i=NT({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(ae,se,ye){return ae&&ae[se]!==void 0?ae[se]:i[ye||se]},h=function(ae){return o.containerGroups.findIndex(function(se){var ye=se.container,De=se.tabbableNodes;return ye.contains(ae)||De.find(function(Ne){return Ne===ae})})},g=function(ae){var se=i[ae];if(typeof se=="function"){for(var ye=arguments.length,De=new Array(ye>1?ye-1:0),Ne=1;Ne<ye;Ne++)De[Ne-1]=arguments[Ne];se=se.apply(void 0,De)}if(se===!0&&(se=void 0),!se){if(se===void 0||se===!1)return se;throw new Error("`".concat(ae,"` was specified but was not a node, or did not return a node"))}var et=se;if(typeof se=="string"&&(et=r.querySelector(se),!et))throw new Error("`".concat(ae,"` as selector refers to no known node"));return et},C=function(){var ae=g("initialFocus");if(ae===!1)return!1;if(ae===void 0)if(h(r.activeElement)>=0)ae=r.activeElement;else{var se=o.tabbableGroups[0],ye=se&&se.firstTabbableNode;ae=ye||g("fallbackFocus")}if(!ae)throw new Error("Your focus-trap needs to have at least one focusable element");return ae},B=function(){if(o.containerGroups=o.containers.map(function(ae){var se=xW(ae,i.tabbableOptions),ye=wW(ae,i.tabbableOptions);return{container:ae,tabbableNodes:se,focusableNodes:ye,firstTabbableNode:se.length>0?se[0]:null,lastTabbableNode:se.length>0?se[se.length-1]:null,nextTabbableNode:function(Ne){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ft=ye.findIndex(function(Ke){return Ke===Ne});if(!(ft<0))return et?ye.slice(ft+1).find(function(Ke){return h_(Ke,i.tabbableOptions)}):ye.slice(0,ft).reverse().find(function(Ke){return h_(Ke,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(ae){return ae.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!g("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},k=function Ae(ae){if(ae!==!1&&ae!==r.activeElement){if(!ae||!ae.focus){Ae(C());return}ae.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=ae,ihe(ae)&&ae.select()}},P=function(ae){var se=g("setReturnFocus",ae);return se||(se===!1?!1:ae)},U=function(ae){var se=jx(ae);if(!(h(se)>=0)){if(Yv(i.clickOutsideDeactivates,ae)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!M2(se,i.tabbableOptions)});return}Yv(i.allowOutsideClick,ae)||ae.preventDefault()}},Z=function(ae){var se=jx(ae),ye=h(se)>=0;ye||se instanceof Document?ye&&(o.mostRecentlyFocusedNode=se):(ae.stopImmediatePropagation(),k(o.mostRecentlyFocusedNode||C()))},W=function(ae){var se=jx(ae);B();var ye=null;if(o.tabbableGroups.length>0){var De=h(se),Ne=De>=0?o.containerGroups[De]:void 0;if(De<0)ae.shiftKey?ye=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:ye=o.tabbableGroups[0].firstTabbableNode;else if(ae.shiftKey){var et=$T(o.tabbableGroups,function(jt){var nn=jt.firstTabbableNode;return se===nn});if(et<0&&(Ne.container===se||M2(se,i.tabbableOptions)&&!h_(se,i.tabbableOptions)&&!Ne.nextTabbableNode(se,!1))&&(et=De),et>=0){var ft=et===0?o.tabbableGroups.length-1:et-1,Ke=o.tabbableGroups[ft];ye=Ke.lastTabbableNode}}else{var rt=$T(o.tabbableGroups,function(jt){var nn=jt.lastTabbableNode;return se===nn});if(rt<0&&(Ne.container===se||M2(se,i.tabbableOptions)&&!h_(se,i.tabbableOptions)&&!Ne.nextTabbableNode(se))&&(rt=De),rt>=0){var _e=rt===o.tabbableGroups.length-1?0:rt+1,Ut=o.tabbableGroups[_e];ye=Ut.firstTabbableNode}}}else ye=g("fallbackFocus");ye&&(ae.preventDefault(),k(ye))},Q=function(ae){if(ohe(ae)&&Yv(i.escapeDeactivates,ae)!==!1){ae.preventDefault(),s.deactivate();return}if(ahe(ae)){W(ae);return}},q=function(ae){var se=jx(ae);h(se)>=0||Yv(i.clickOutsideDeactivates,ae)||Yv(i.allowOutsideClick,ae)||(ae.preventDefault(),ae.stopImmediatePropagation())},oe=function(){if(o.active)return GT.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?QT(function(){k(C())}):k(C()),r.addEventListener("focusin",Z,!0),r.addEventListener("mousedown",U,{capture:!0,passive:!1}),r.addEventListener("touchstart",U,{capture:!0,passive:!1}),r.addEventListener("click",q,{capture:!0,passive:!1}),r.addEventListener("keydown",Q,{capture:!0,passive:!1}),s},re=function(){if(o.active)return r.removeEventListener("focusin",Z,!0),r.removeEventListener("mousedown",U,!0),r.removeEventListener("touchstart",U,!0),r.removeEventListener("click",q,!0),r.removeEventListener("keydown",Q,!0),s};return s={get active(){return o.active},get paused(){return o.paused},activate:function(ae){if(o.active)return this;var se=a(ae,"onActivate"),ye=a(ae,"onPostActivate"),De=a(ae,"checkCanFocusTrap");De||B(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,se&&se();var Ne=function(){De&&B(),oe(),ye&&ye()};return De?(De(o.containers.concat()).then(Ne,Ne),this):(Ne(),this)},deactivate:function(ae){if(!o.active)return this;var se=NT({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},ae);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,re(),o.active=!1,o.paused=!1,GT.deactivateTrap(s);var ye=a(se,"onDeactivate"),De=a(se,"onPostDeactivate"),Ne=a(se,"checkCanReturnFocus"),et=a(se,"returnFocus","returnFocusOnDeactivate");ye&&ye();var ft=function(){QT(function(){et&&k(P(o.nodeFocusedBeforeActivation)),De&&De()})};return et&&Ne?(Ne(P(o.nodeFocusedBeforeActivation)).then(ft,ft),this):(ft(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,re(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,B(),oe(),this)},updateContainerElements:function(ae){var se=[].concat(ae).filter(Boolean);return o.containers=se.map(function(ye){return typeof ye=="string"?r.querySelector(ye):ye}),o.active&&B(),this}},s.updateContainerElements(n),s};const lhe=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:she},Symbol.toStringTag,{value:"Module"})),uhe=xO(lhe),Ahe=xO(nhe);function LE(e){"@babel/helpers - typeof";return LE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},LE(e)}function che(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YT(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dhe(e,n,t){return n&&YT(e.prototype,n),t&&YT(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hhe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&UE(e,n)}function UE(e,n){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UE(e,n)}function fhe(e){var n=mhe();return function(){var r=J3(e),i;if(n){var o=J3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return phe(this,i)}}function phe(e,n){if(n&&(LE(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f_(e)}function f_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J3(e){return J3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J3(e)}function ghe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Wx=Sr,yhe=Ym,Di=hh,vhe=uhe,_he=vhe.createFocusTrap,Che=Ahe,bhe=Che.isFocusable,a8=function(e){hhe(t,e);var n=fhe(t);function t(r){var i;che(this,t),i=n.call(this,r),ghe(f_(i),"getNodeForOption",function(a){var h,g=(h=this.internalOptions[a])!==null&&h!==void 0?h:this.originalOptions[a];if(typeof g=="function"){for(var C=arguments.length,B=new Array(C>1?C-1:0),k=1;k<C;k++)B[k-1]=arguments[k];g=g.apply(void 0,B)}if(g===!0&&(g=void 0),!g){if(g===void 0||g===!1)return g;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var P=g;if(typeof g=="string"){var U;if(P=(U=this.getDocument())===null||U===void 0?void 0:U.querySelector(g),!P)throw new Error("`".concat(a,"` as selector refers to no known node"))}return P}),i.handleDeactivate=i.handleDeactivate.bind(f_(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(f_(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(f_(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){i.originalOptions[s]=o[s];continue}i.internalOptions[s]=o[s]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return dhe(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var a=i.getReturnFocusNode(),h=!!(i.originalOptions.returnFocusOnDeactivate&&a!==null&&a!==void 0&&a.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!bhe(i.outsideClick.target,i.internalOptions.tabbableOptions))),g=i.internalOptions.preventScroll,C=g===void 0?!1:g;h&&a.focus({preventScroll:C}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(!this.focusTrap){var i=this.focusTrapElements.map(yhe.findDOMNode),o=i.some(Boolean);o&&(this.focusTrap=this.props._createFocusTrap(i,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,s=i.active&&!this.props.active,a=!i.paused&&this.props.paused,h=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}a&&this.focusTrap.pause(),h&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?Wx.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===Wx.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=function(g){var C=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(g):o.ref&&(o.ref.current=g)),i.focusTrapElements=C||[g]},a=Wx.cloneElement(o,{ref:s});return a}return null}}]),t}(Wx.Component),qv=typeof Element>"u"?Function:Element;a8.propTypes={active:Di.bool,paused:Di.bool,focusTrapOptions:Di.shape({document:Di.object,onActivate:Di.func,onPostActivate:Di.func,checkCanFocusTrap:Di.func,onDeactivate:Di.func,onPostDeactivate:Di.func,checkCanReturnFocus:Di.func,initialFocus:Di.oneOfType([Di.instanceOf(qv),Di.string,Di.bool,Di.func]),fallbackFocus:Di.oneOfType([Di.instanceOf(qv),Di.string,Di.func]),escapeDeactivates:Di.oneOfType([Di.bool,Di.func]),clickOutsideDeactivates:Di.oneOfType([Di.bool,Di.func]),returnFocusOnDeactivate:Di.bool,setReturnFocus:Di.oneOfType([Di.instanceOf(qv),Di.string,Di.bool,Di.func]),allowOutsideClick:Di.oneOfType([Di.bool,Di.func]),preventScroll:Di.bool,tabbableOptions:Di.shape({displayCheck:Di.oneOf(["full","non-zero-area","none"]),getShadowRoot:Di.oneOfType([Di.bool,Di.func])})}),containerElements:Di.arrayOf(Di.instanceOf(qv)),children:Di.oneOfType([Di.element,Di.instanceOf(qv)])};a8.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:_he};var xhe=a8,qT=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function VT(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ZM(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function HT(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Nx=Sr,Ig=Ym,Gx=!!Ig.createPortal;function whe(e,n){if(!window.document)return function(r){HT(i,r);function i(){return VT(this,i),ZM(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return qT(i,[{key:"render",value:function(){return!1}}]),i}(Nx.Component);n=n||{};var t=function(r){HT(i,r);function i(){var o,s,a,h;VT(this,i);for(var g=arguments.length,C=Array(g),B=0;B<g;B++)C[B]=arguments[B];return h=(s=(a=ZM(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.renderDisplaced=function(){Ig.unstable_renderSubtreeIntoContainer(a,Nx.createElement(e,a.props,a.props.children),a.container)},a.removeDisplaced=function(){Ig.unmountComponentAtNode(a.container)},s),ZM(a,h)}return qT(i,[{key:"componentWillMount",value:function(){this.container=function(){if(n.renderTo)return typeof n.renderTo=="string"?document.querySelector(n.renderTo):n.renderTo;var s=document.createElement("div");return document.body.appendChild(s),s}()}},{key:"componentDidMount",value:function(){Gx||this.props.mounted&&this.renderDisplaced()}},{key:"componentDidUpdate",value:function(s){Gx||(s.mounted&&!this.props.mounted?Ig.unmountComponentAtNode(this.container):this.props.mounted&&this.renderDisplaced())}},{key:"componentWillUnmount",value:function(){Gx||Ig.unmountComponentAtNode(this.container),n.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return!Gx||this.props.mounted===!1?null:Ig.createPortal(Nx.createElement(e,this.props,this.props.children),this.container)}}]),i}(Nx.Component);return t.defaultProps={mounted:!0},t.WrappedComponent=e,t}var Mhe=whe,MW={exports:{}};(function(e){(function(n){var t=!1,r,i;function o(){if(typeof r<"u")return r;var B=document.documentElement,k=document.createElement("div");return k.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),B.appendChild(k),r=k.offsetWidth-k.clientWidth,B.removeChild(k),r}function s(){return document.documentElement.scrollHeight>window.innerHeight}function a(B){if(!(typeof document>"u"||t)){var k=document.documentElement;i=window.pageYOffset,s()?k.style.width="calc(100% - "+o()+"px)":k.style.width="100%",k.style.position="fixed",k.style.top=-i+"px",k.style.overflow="hidden",t=!0}}function h(){if(!(typeof document>"u"||!t)){var B=document.documentElement;B.style.width="",B.style.position="",B.style.top="",B.style.overflow="",window.scroll(0,i),t=!1}}function g(){if(t){h();return}a()}var C={on:a,off:h,toggle:g};e.exports=C})()})(MW);var She=MW.exports;function RE(e){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},RE(e)}function Ehe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ZT(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ohe(e,n,t){return n&&ZT(e.prototype,n),t&&ZT(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bhe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&zE(e,n)}function zE(e,n){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(e,n)}function khe(e){var n=The();return function(){var r=e4(e),i;if(n){var o=e4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ihe(this,i)}}function Ihe(e,n){if(n&&(RE(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_(e)}function p_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function The(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function e4(e){return e4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e4(e)}function m_(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Vv=Sr,Khe=xhe,SW=Mhe,Qx=She,s8=function(e){Bhe(t,e);var n=khe(t);function t(r){var i;if(Ehe(this,t),i=n.call(this,r),m_(p_(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),m_(p_(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),m_(p_(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),m_(p_(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return Ohe(t,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&Qx.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?Qx.off():!i.scrollDisabled&&this.props.scrollDisabled&&Qx.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&Qx.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var s in i.underlayStyle)i.underlayStyle.hasOwnProperty(s)&&(o[s]=i.underlayStyle[s]);var a={className:i.underlayClass,style:o};i.underlayClickExits&&(a.onMouseDown=this.checkUnderlayClick);for(var h in this.props.underlayProps)a[h]=this.props.underlayProps[h];var g={};i.includeDefaultStyles&&(g={display:"inline-block",height:"100%",verticalAlign:"middle"});var C={key:"a",style:g},B={};if(i.includeDefaultStyles&&(B={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(B.verticalAlign="middle",B.top=0)),i.dialogStyle)for(var k in i.dialogStyle)i.dialogStyle.hasOwnProperty(k)&&(B[k]=i.dialogStyle[k]);var P={key:"b",ref:(function(Q){this.dialogNode=Q}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:B};i.titleId?P["aria-labelledby"]=i.titleId:i.titleText&&(P["aria-label"]=i.titleText),i.focusDialog&&(P.tabIndex="-1");for(var U in i)/^(data-|aria-)/.test(U)&&(P[U]=i[U]);var Z=[Vv.createElement("div",P,i.children)];i.verticallyCenter&&Z.unshift(Vv.createElement("div",C));var W=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(W.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),W.escapeDeactivates=i.escapeExits,Vv.createElement(Khe,{focusTrapOptions:W,paused:i.focusTrapPaused},Vv.createElement("div",a,Z))}}]),t}(Vv.Component);m_(s8,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});var EW=SW(s8);EW.renderTo=function(e){return SW(s8,{renderTo:e})};var Phe=EW;const Fhe=oa(Phe);function nu(){var e="/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",n="182829ebe13a379e94c383087c7e861e586a9014",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:12},end:{line:18,column:3}},2:{start:{line:12,column:4},end:{line:14,column:5}},3:{start:{line:13,column:6},end:{line:13,column:36}},4:{start:{line:15,column:4},end:{line:17,column:10}},5:{start:{line:16,column:6},end:{line:16,column:37}},6:{start:{line:20,column:4},end:{line:58,column:5}},7:{start:{line:21,column:6},end:{line:55,column:8}},8:{start:{line:57,column:6},end:{line:57,column:19}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:18},end:{line:18,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:15,column:15},end:{line:15,column:16}},loc:{start:{line:15,column:21},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:11},end:{line:59,column:3}},line:19}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:20,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Modal.tsx"],names:[],mappings:"AA+CU,SACE,KADF;AA/CV,OAAO,WAAW;AAClB,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAcvB,qBAAqB,cAAc,MAAM,UAAsB;AAAA,EAC7D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAM;AAAA,sBACN,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"182829ebe13a379e94c383087c7e861e586a9014"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return nu=function(){return s},s}nu();class Bf extends xn.Component{constructor(){super(...arguments);rn(this,"onClose",(nu().s[1]++,()=>{nu().f[0]++,nu().s[2]++,document.activeElement?(nu().b[0][0]++,nu().s[3]++,document.activeElement.blur()):nu().b[0][1]++,nu().s[4]++,setTimeout(()=>{nu().f[1]++,nu().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){return nu().f[2]++,nu().s[6]++,this.props.isOpen?(nu().b[1][0]++,nu().s[7]++,N.jsx(Fhe,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:N.jsxs("div",{className:bf("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[N.jsxs("header",{className:"maputnik-modal-header",children:[N.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),N.jsx("span",{className:"maputnik-modal-header-space"}),N.jsx("button",{className:"maputnik-modal-header-toggle",title:"Close modal",onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:N.jsx(nee,{})})]}),N.jsx("div",{className:"maputnik-modal-scroller",children:N.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(nu().b[1][1]++,nu().s[8]++,!1)}}rn(Bf,"defaultProps",(nu().s[0]++,{underlayClickExits:!0}));const Dhe=8,Lhe={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration.",example:{"sky-color":"#199EF3","fog-color":"#00ff00","horizon-blend":.5,"fog-blend":.6}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"coastline",source:"maplibre","source-layer":"contries",type:"line",paint:{"line-color":"#198EC8"}}]}},Uhe={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},Rhe=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],zhe={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},jhe={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Whe={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default."},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Nhe={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js-docs/api/sources/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Ghe={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Qhe={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},$he={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},Yhe=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],qhe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Vhe={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Hhe={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Zhe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Xhe={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Jhe={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions. Values are declared using CSS margin shorthand syntax: a single value applies to all four sides; two values apply to [top/bottom, left/right]; three values apply to [top, left/right, bottom]; four values apply to [top, right, bottom, left]. For backwards compatibility, a single bare number is accepted, and treated the same as a one-element array - padding applied to all sides.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.2.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"`viewport-glyph` value":{js:"2.1.8"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],doc:'To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \n\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \n\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \n\n ```json \n { "text-variable-anchor-offset": ["top", [0, 4], "left", [3,0], "bottom", [1, 1]] } \n ``` \n\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \n\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.',"sdk-support":{"basic functionality":{js:"3.3.0"},"data-driven styling":{js:"3.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},efe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},tfe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},nfe={type:"array",value:"*",doc:"A filter selects specific features from a layer."},rfe={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},ife={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},ofe={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},afe={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},sfe={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},lfe={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},ufe={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog."},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. A value between 0 and 1. Where 0 is the map center and 1 is the horizon"},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog and sky color at the horizon. A value between 0 and 1. Where 0 is the horizon and 1 is map-height / 2"}},Afe={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0"}}}},cfe=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],dfe={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},hfe={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},ffe={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},pfe={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},mfe={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},gfe={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},yfe={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},vfe={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},_fe={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},Cfe={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},Hi={$version:Dhe,$root:Lhe,sources:Uhe,source:Rhe,source_vector:zhe,source_raster:jhe,source_raster_dem:Whe,source_geojson:Nhe,source_video:Ghe,source_image:Qhe,layer:$he,layout:Yhe,layout_background:qhe,layout_fill:Vhe,layout_circle:Hhe,layout_heatmap:Zhe,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:Xhe,layout_symbol:Jhe,layout_raster:efe,layout_hillshade:tfe,filter:nfe,filter_operator:rfe,geometry_type:ife,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:ofe,expression:afe,expression_name:sfe,light:lfe,sky:ufe,terrain:Afe,paint:cfe,paint_fill:dfe,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:hfe,paint_circle:ffe,paint_heatmap:pfe,paint_symbol:mfe,paint_raster:gfe,paint_hillshade:yfe,paint_background:vfe,transition:_fe,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:Cfe};function Eo(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",n="3158bd93bbefd1bd0e63d26617da070781685c25",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3158bd93bbefd1bd0e63d26617da070781685c25"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Eo=function(){return s},s}Eo();class l8 extends xn.Component{constructor(t){Eo().f[0]++,Eo().s[0]++;super(t);rn(this,"onToggleDoc",(Eo().s[2]++,t=>{Eo().f[1]++,Eo().s[3]++,this.setState({open:t},()=>{Eo().f[2]++,Eo().s[4]++,this.props.onToggleDoc?(Eo().b[0][0]++,Eo().s[5]++,this.props.onToggleDoc(this.state.open)):Eo().b[0][1]++})}));Eo().s[1]++,this.state={open:!1}}render(){Eo().f[3]++;const{label:t,fieldSpec:r}=(Eo().s[6]++,this.props),{doc:i}=(Eo().s[7]++,Eo().b[1][0]++,r||(Eo().b[1][1]++,{}));if(Eo().s[8]++,i)return Eo().b[2][0]++,Eo().s[9]++,N.jsx("label",{className:"maputnik-doc-wrapper",children:N.jsxs("div",{className:"maputnik-doc-target",children:[t,"",N.jsx("button",{"aria-label":this.state.open?(Eo().b[3][0]++,"close property documentation"):(Eo().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(Eo().b[4][0]++,"open"):(Eo().b[4][1]++,"closed")}`,onClick:()=>(Eo().f[4]++,Eo().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+t,children:this.state.open?(Eo().b[5][0]++,N.jsx(WJ,{})):(Eo().b[5][1]++,N.jsx(NJ,{}))})]})});if(Eo().b[2][1]++,Eo().s[11]++,t)return Eo().b[6][0]++,Eo().s[12]++,N.jsx("label",{className:"maputnik-doc-wrapper",children:N.jsx("div",{className:"maputnik-doc-target",children:t})});Eo().b[6][1]++,Eo().s[13]++}}function ha(){var e="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",n="17184511a0ae3c272ec6d16762ac334920d5242e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:28},end:{line:12,column:37}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:47,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAsCM,mBAGM,KAKQ,YARd;AAtCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAgBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,OAAM,IAAI;AACtB,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"17184511a0ae3c272ec6d16762ac334920d5242e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ha=function(){return s},s}ha();const XT=(ha().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class u8 extends xn.Component{render(){ha().f[0]++;const{fieldSpec:n}=(ha().s[1]++,this.props),{doc:t,values:r}=(ha().s[2]++,n),i=(ha().s[3]++,n["sdk-support"]),o=(ha().s[4]++,ha().b[0][0]++,!!r&&(ha().b[0][1]++,!Array.isArray(r)));return ha().s[5]++,N.jsxs(N.Fragment,{children:[(ha().b[1][0]++,t&&(ha().b[1][1]++,N.jsxs("div",{className:"SpecDoc",children:[N.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:t}),(ha().b[2][0]++,o&&(ha().b[2][1]++,N.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([s,a])=>(ha().f[1]++,ha().s[6]++,N.jsxs("li",{children:[N.jsx("code",{children:JSON.stringify(s)}),N.jsx("div",{children:a.doc})]},s)))})))]}))),(ha().b[3][0]++,i&&(ha().b[3][1]++,N.jsx("div",{className:"SpecDoc__sdk-support",children:N.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{}),Object.values(XT).map(s=>(ha().f[2]++,ha().s[7]++,N.jsx("th",{children:s},s)))]})}),N.jsx("tbody",{children:Object.entries(i).map(([s,a])=>(ha().f[3]++,ha().s[8]++,N.jsxs("tr",{children:[N.jsx("td",{children:s}),Object.keys(XT).map(h=>(ha().f[4]++,ha().s[9]++,Object.prototype.hasOwnProperty.call(a,h)?(ha().b[4][0]++,ha().s[10]++,N.jsx("td",{children:a[h]},h)):(ha().b[4][1]++,ha().s[11]++,N.jsx("td",{children:"no"},h))))]},s)))})]})})))]})}}function io(){var e="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",n="79082a0e6b5f812e7e85f0d24298fdd4bfc28eb8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:38,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:37,column:27}},14:{start:{line:40,column:4},end:{line:73,column:6}},15:{start:{line:62,column:95},end:{line:62,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:38,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:11},end:{line:74,column:3}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:62,column:87},end:{line:62,column:88}},loc:{start:{line:62,column:95},end:{line:62,column:113}},line:62}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:52,column:10},end:{line:59,column:14}},type:"binary-expr",locations:[{start:{line:52,column:10},end:{line:52,column:30}},{start:{line:52,column:50},end:{line:59,column:14}}],line:52},5:{loc:{start:{line:60,column:10},end:{line:60,column:134}},type:"binary-expr",locations:[{start:{line:60,column:10},end:{line:60,column:31}},{start:{line:60,column:51},end:{line:60,column:134}}],line:60},6:{loc:{start:{line:63,column:10},end:{line:70,column:11}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:30}},{start:{line:63,column:50},end:{line:70,column:11}}],line:63},7:{loc:{start:{line:67,column:32},end:{line:67,column:64}},type:"cond-expr",locations:[{start:{line:67,column:53},end:{line:67,column:55}},{start:{line:67,column:58},end:{line:67,column:64}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AA8DW,SAWD,KAXC;AA9DX,OAAO,WAA6B;AACpC,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,UAAM,eAAe;AAAA,EACvB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"79082a0e6b5f812e7e85f0d24298fdd4bfc28eb8"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return io=function(){return s},s}io();class Vo extends xn.Component{constructor(t){io().f[0]++,io().s[1]++;super(t);rn(this,"_blockEl",(io().s[0]++,null));rn(this,"onToggleDoc",(io().s[6]++,t=>{io().f[2]++,io().s[7]++,this.setState({showDoc:t})}));rn(this,"onLabelClick",(io().s[8]++,t=>{var o;io().f[3]++;const r=(io().s[9]++,t.nativeEvent.target),i=(io().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));io().s[11]++,io().b[3][0]++,t.nativeEvent.target.nodeName!=="INPUT"&&(io().b[3][1]++,!i)?(io().b[2][0]++,io().s[12]++,t.stopPropagation()):io().b[2][1]++,io().s[13]++,t.preventDefault()}));io().s[2]++,this.state={showDoc:!1}}onChange(t){io().f[1]++;const r=(io().s[3]++,t.target.value);if(io().s[4]++,this.props.onChange)return io().b[0][0]++,io().s[5]++,this.props.onChange(r===""?(io().b[1][0]++,void 0):(io().b[1][1]++,r));io().b[0][1]++}render(){return io().f[4]++,io().s[14]++,N.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:bf({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(io().b[4][0]++,this.props.fieldSpec&&(io().b[4][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:N.jsx(l8,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(io().b[5][0]++,!this.props.fieldSpec&&(io().b[5][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),N.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),N.jsx("div",{className:"maputnik-input-block-content",ref:t=>(io().f[5]++,io().s[15]++,this._blockEl=t),children:this.props.children}),(io().b[6][0]++,this.props.fieldSpec&&(io().b[6][1]++,N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(io().b[7][0]++,""):(io().b[7][1]++,"none")},children:N.jsx(u8,{fieldSpec:this.props.fieldSpec})})))]})}}function wu(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",n="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return wu=function(){return s},s}wu();class M1 extends xn.Component{render(){wu().f[0]++;let n=(wu().s[0]++,this.props.options);return wu().s[1]++,wu().b[1][0]++,n.length>0&&(wu().b[1][1]++,!Array.isArray(n[0]))?(wu().b[0][0]++,wu().s[2]++,n=n.map(t=>(wu().f[1]++,wu().s[3]++,[t,t]))):wu().b[0][1]++,wu().s[4]++,N.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:t=>(wu().f[2]++,wu().s[5]++,this.props.onChange(t.target.value)),"aria-label":this.props["aria-label"],children:n.map(([t,r])=>(wu().f[3]++,wu().s[6]++,N.jsx("option",{value:t,children:r},t)))})}}function qr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",n="7edd0434d5570710fce0bf88d87716b3e75434c4",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:72,column:7}},14:{start:{line:51,column:8},end:{line:57,column:11}},15:{start:{line:55,column:10},end:{line:56,column:49}},16:{start:{line:56,column:12},end:{line:56,column:49}},17:{start:{line:60,column:8},end:{line:64,column:9}},18:{start:{line:61,column:10},end:{line:61,column:44}},19:{start:{line:62,column:10},end:{line:63,column:50}},20:{start:{line:63,column:12},end:{line:63,column:50}},21:{start:{line:67,column:8},end:{line:69,column:9}},22:{start:{line:68,column:10},end:{line:68,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:73,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:58,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:57,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:14},end:{line:59,column:15}},loc:{start:{line:59,column:20},end:{line:65,column:7}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:66,column:17},end:{line:66,column:18}},loc:{start:{line:66,column:24},end:{line:70,column:7}},line:66}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:56,column:49}},type:"if",locations:[{start:{line:55,column:10},end:{line:56,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:60,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:64,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:62,column:10},end:{line:63,column:50}},type:"if",locations:[{start:{line:62,column:10},end:{line:63,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},10:{loc:{start:{line:67,column:12},end:{line:67,column:51}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:28}},{start:{line:67,column:32},end:{line:67,column:51}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM;AAAS,iBAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM;AAAU,iBAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7edd0434d5570710fce0bf88d87716b3e75434c4"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qr=function(){return s},s}qr();class wd extends xn.Component{constructor(n){qr().f[1]++,qr().s[1]++,super(n),qr().s[2]++,this.state={editing:!1,value:(qr().b[0][0]++,n.value||(qr().b[0][1]++,""))}}static getDerivedStateFromProps(n,t){if(qr().f[2]++,qr().s[3]++,t.editing)qr().b[1][1]++;else return qr().b[1][0]++,qr().s[4]++,{value:n.value};return qr().s[5]++,{}}render(){qr().f[3]++;let n,t;return qr().s[6]++,this.props.multi?(qr().b[2][0]++,qr().s[7]++,n="textarea",qr().s[8]++,t=["maputnik-string","maputnik-string--multi"]):(qr().b[2][1]++,qr().s[9]++,n="input",qr().s[10]++,t=["maputnik-string"]),qr().s[11]++,this.props.disabled?(qr().b[3][0]++,qr().s[12]++,t.push("maputnik-string--disabled")):qr().b[3][1]++,qr().s[13]++,xn.createElement(n,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(qr().b[4][0]++,this.props.spellCheck):(qr().b[4][1]++,n!=="input"),disabled:this.props.disabled,className:t.join(" "),style:this.props.style,value:this.state.value===void 0?(qr().b[5][0]++,""):(qr().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{qr().f[4]++,qr().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{qr().f[5]++,qr().s[15]++,this.props.onInput?(qr().b[6][0]++,qr().s[16]++,this.props.onInput(this.state.value)):qr().b[6][1]++})},onBlur:()=>{qr().f[6]++,qr().s[17]++,this.state.value!==this.props.value?(qr().b[7][0]++,qr().s[18]++,this.setState({editing:!1}),qr().s[19]++,this.props.onChange?(qr().b[8][0]++,qr().s[20]++,this.props.onChange(this.state.value)):qr().b[8][1]++):qr().b[7][1]++},onKeyDown:r=>{qr().f[7]++,qr().s[21]++,qr().b[10][0]++,r.keyCode===13&&(qr().b[10][1]++,this.props.onChange)?(qr().b[9][0]++,qr().s[22]++,this.props.onChange(this.state.value)):qr().b[9][1]++},required:this.props.required})}}rn(wd,"defaultProps",(qr().s[0]++,{onInput:()=>{qr().f[0]++}}));function up(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",n="1b7060ffc75823b83956b34c84f8d7f711912270",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:4},end:{line:48,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:49,column:3}},line:11}},branchMap:{0:{loc:{start:{line:20,column:10},end:{line:26,column:11}},type:"binary-expr",locations:[{start:{line:20,column:10},end:{line:20,column:29}},{start:{line:20,column:49},end:{line:26,column:11}}],line:20},1:{loc:{start:{line:27,column:10},end:{line:45,column:11}},type:"binary-expr",locations:[{start:{line:27,column:10},end:{line:27,column:30}},{start:{line:27,column:50},end:{line:45,column:11}}],line:27}},s:{0:0,1:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAqBW,SAKH,KALG;AArBX,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAUxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAQ,WAAW,OAAO,MAAM;AAAA,QACnD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b7060ffc75823b83956b34c84f8d7f711912270"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return up=function(){return s},s}up();class A8 extends xn.Component{render(){return up().f[0]++,up().s[1]++,N.jsxs(Vo,{label:"Type",fieldSpec:Hi.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(up().b[0][0]++,this.props.disabled&&(up().b[0][1]++,N.jsx(wd,{value:this.props.value,disabled:!0}))),(up().b[1][0]++,!this.props.disabled&&(up().b[1][1]++,N.jsx(M1,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}rn(A8,"defaultProps",(up().s[0]++,{disabled:!1}));function t4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",n="a7d93cb2f79962c714e16c8b482f49de057b0cb8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAmBM;AAnBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAM,WAAW,OAAO,MAAM;AAAA,QACjD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7d93cb2f79962c714e16c8b482f49de057b0cb8"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return t4=function(){return s},s}t4();class OW extends xn.Component{render(){return t4().f[0]++,t4().s[0]++,N.jsx(Vo,{label:"ID",fieldSpec:Hi.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:N.jsx(wd,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var BW={exports:{}},bfe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function xfe(e){var n,t,r,i=e.ownerDocument,o=i.body,s=i&&i.documentElement;return n=e.getBoundingClientRect(),t=n.left,r=n.top,t-=s.clientLeft||o.clientLeft||0,r-=s.clientTop||o.clientTop||0,{left:t,top:r}}function kW(e,n){var t=e["page"+(n?"Y":"X")+"Offset"],r="scroll"+(n?"Top":"Left");if(typeof t!="number"){var i=e.document;t=i.documentElement[r],typeof t!="number"&&(t=i.body[r])}return t}function jE(e){return kW(e)}function WE(e){return kW(e,!0)}function IW(e){var n=xfe(e),t=e.ownerDocument,r=t.defaultView||t.parentWindow;return n.left+=jE(r),n.top+=WE(r),n}function wfe(e,n,t){var r="",i=e.ownerDocument;return(t=t||i.defaultView.getComputedStyle(e,null))&&(r=t.getPropertyValue(n)||t[n]),r}var Mfe=new RegExp("^("+bfe+")(?!px)[a-z%]+$","i"),Sfe=/^(top|right|bottom|left)$/,XM="currentStyle",JM="runtimeStyle",x0="left",Efe="px";function Ofe(e,n){var t=e[XM]&&e[XM][n];if(Mfe.test(t)&&!Sfe.test(n)){var r=e.style,i=r[x0],o=e[JM][x0];e[JM][x0]=e[XM][x0],r[x0]=n==="fontSize"?"1em":t||0,t=r.pixelLeft+Efe,r[x0]=i,e[JM][x0]=o}return t===""?"auto":t}var g1;typeof window<"u"&&(g1=window.getComputedStyle?wfe:Ofe);function Bfe(e,n){fy(e,"position")==="static"&&(e.style.position="relative");var t=IW(e),r={},i,o;for(o in n)i=parseFloat(fy(e,o))||0,r[o]=i+n[o]-t[o];fy(e,r)}function c8(e,n){for(var t=0;t<e.length;t++)n(e[t])}function TW(e){return g1(e,"boxSizing")==="border-box"}var kfe=["margin","border","padding"],NE=-1,Ife=2,GE=1,Tfe=0;function Kfe(e,n,t){var r={},i=e.style,o;for(o in n)r[o]=i[o],i[o]=n[o];t.call(e);for(o in n)i[o]=r[o]}function g_(e,n,t){var r=0,i,o,s;for(o=0;o<n.length;o++)if(i=n[o],i)for(s=0;s<t.length;s++){var a;i==="border"?a=i+t[s]+"Width":a=i+t[s],r+=parseFloat(g1(e,a))||0}return r}function S2(e){return e!=null&&e==e.window}var df={};c8(["Width","Height"],function(e){df["doc"+e]=function(n){var t=n.document;return Math.max(t.documentElement["scroll"+e],t.body["scroll"+e],df["viewport"+e](t))},df["viewport"+e]=function(n){var t="client"+e,r=n.document,i=r.body,o=r.documentElement,s=o[t];return r.compatMode==="CSS1Compat"&&s||i&&i[t]||s}});function JT(e,n,t){if(S2(e))return n==="width"?df.viewportWidth(e):df.viewportHeight(e);if(e.nodeType===9)return n==="width"?df.docWidth(e):df.docHeight(e);var r=n==="width"?["Left","Right"]:["Top","Bottom"],i=n==="width"?e.offsetWidth:e.offsetHeight;g1(e);var o=TW(e),s=0;(i==null||i<=0)&&(i=void 0,s=g1(e,n),(s==null||Number(s)<0)&&(s=e.style[n]||0),s=parseFloat(s)||0),t===void 0&&(t=o?GE:NE);var a=i!==void 0||o,h=i||s;return t===NE?a?h-g_(e,["border","padding"],r):s:a?h+(t===GE?0:t===Ife?-g_(e,["border"],r):g_(e,["margin"],r)):s+g_(e,kfe.slice(t),r)}var Pfe={position:"absolute",visibility:"hidden",display:"block"};function eK(e){var n,t=arguments;return e.offsetWidth!==0?n=JT.apply(void 0,t):Kfe(e,Pfe,function(){n=JT.apply(void 0,t)}),n}c8(["width","height"],function(e){var n=e.charAt(0).toUpperCase()+e.slice(1);df["outer"+n]=function(r,i){return r&&eK(r,e,i?Tfe:GE)};var t=e==="width"?["Left","Right"]:["Top","Bottom"];df[e]=function(r,i){if(i!==void 0){if(r){g1(r);var o=TW(r);return o&&(i+=g_(r,["padding","border"],t)),fy(r,e,i)}return}return r&&eK(r,e,NE)}});function fy(e,n,t){if(typeof n=="object"){for(var r in n)fy(e,r,n[r]);return}if(typeof t<"u")typeof t=="number"&&(t=t+"px"),e.style[n]=t;else return g1(e,n)}function KW(e,n){for(var t in n)e[t]=n[t];return e}var PW=BW.exports={getWindow:function(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},offset:function(e,n){if(typeof n<"u")Bfe(e,n);else return IW(e)},isWindow:S2,each:c8,css:fy,clone:function(e){var n={};for(var t in e)n[t]=e[t];var r=e.overflow;if(r)for(t in e)n.overflow[t]=e.overflow[t];return n},mix:KW,scrollLeft:function(e,n){if(S2(e)){if(n===void 0)return jE(e);window.scrollTo(n,WE(e))}else{if(n===void 0)return e.scrollLeft;e.scrollLeft=n}},scrollTop:function(e,n){if(S2(e)){if(n===void 0)return WE(e);window.scrollTo(jE(e),n)}else{if(n===void 0)return e.scrollTop;e.scrollTop=n}},merge:function(){for(var e={},n=0;n<arguments.length;n++)PW.mix(e,arguments[n]);return e},viewportWidth:0,viewportHeight:0};KW(PW,df);var Ffe=BW.exports,za=Ffe;function Dfe(e,n,t){t=t||{},n.nodeType===9&&(n=za.getWindow(n));var r=t.allowHorizontalScroll,i=t.onlyScrollIfNeeded,o=t.alignWithTop,s=t.alignWithLeft;r=r===void 0?!0:r;var a=za.isWindow(n),h=za.offset(e),g=za.outerHeight(e),C=za.outerWidth(e),B,k,P,U,Z,W,Q,q,oe,re;a?(Q=n,re=za.height(Q),oe=za.width(Q),q={left:za.scrollLeft(Q),top:za.scrollTop(Q)},Z={left:h.left-q.left,top:h.top-q.top},W={left:h.left+C-(q.left+oe),top:h.top+g-(q.top+re)},U=q):(B=za.offset(n),k=n.clientHeight,P=n.clientWidth,U={left:n.scrollLeft,top:n.scrollTop},Z={left:h.left-(B.left+(parseFloat(za.css(n,"borderLeftWidth"))||0)),top:h.top-(B.top+(parseFloat(za.css(n,"borderTopWidth"))||0))},W={left:h.left+C-(B.left+P+(parseFloat(za.css(n,"borderRightWidth"))||0)),top:h.top+g-(B.top+k+(parseFloat(za.css(n,"borderBottomWidth"))||0))}),Z.top<0||W.top>0?o===!0?za.scrollTop(n,U.top+Z.top):o===!1?za.scrollTop(n,U.top+W.top):Z.top<0?za.scrollTop(n,U.top+Z.top):za.scrollTop(n,U.top+W.top):i||(o=o===void 0?!0:!!o,o?za.scrollTop(n,U.top+Z.top):za.scrollTop(n,U.top+W.top)),r&&(Z.left<0||W.left>0?s===!0?za.scrollLeft(n,U.left+Z.left):s===!1?za.scrollLeft(n,U.left+W.left):Z.left<0?za.scrollLeft(n,U.left+Z.left):za.scrollLeft(n,U.left+W.left):i||(s=s===void 0?!0:!!s,s?za.scrollLeft(n,U.left+Z.left):za.scrollLeft(n,U.left+W.left)))}var Lfe=Dfe,Ufe=Lfe,E2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rfe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function zfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jfe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Wfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var F0=Sr,Ol=hh,Nfe=Ym,tK=Nfe.findDOMNode,Gfe=Ufe,Qfe=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function $fe(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var I5=function(e){Wfe(n,e);function n(t){zfe(this,n);var r=jfe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return Rfe(n,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,Qfe.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;Gfe(tK(r),tK(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){n.keyDownHandlers[r.key]?n.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,s){return r.sortItems(o,s,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,s=i.value,a=i.getItemValue,h=o===null?0:o,g=this.getFilteredItems(i),C=0;C<g.length&&!i.isItemSelectable(g[h]);C++)h=(h+1)%g.length;var B=g[h]&&i.isItemSelectable(g[h])?g[h]:null;if(s!==""&&B){var k=a(B),P=k.toLowerCase().indexOf(s.toLowerCase())===0;if(P)return{highlightedIndex:h}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),s=parseInt(o.marginBottom,10)||0,a=parseInt(o.marginLeft,10)||0,h=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+s,menuLeft:i.left+a,menuWidth:i.width+a+h})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(a,h){var g=r.props.renderItem(a,r.state.highlightedIndex===h,{cursor:"default"});return F0.cloneElement(g,{onMouseEnter:r.props.isItemSelectable(a)?function(){return r.highlightItemFromMouse(h)}:null,onClick:r.props.isItemSelectable(a)?function(){return r.selectItemFromMouse(a)}:null,ref:function(B){return r.refs["item-"+h]=B}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},s=this.props.renderMenu(i,this.props.value,o);return F0.cloneElement(s,{ref:function(h){return r.refs.menu=h},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=$fe(),this.refs.input.focus();return}var o=void 0,s=this.state.highlightedIndex;if(this.props.selectOnBlur&&s!==null){var a=this.getFilteredItems(this.props),h=a[s],g=this.props.getItemValue(h);o=function(){return i.props.onSelect(g,h)}}this.setState({isOpen:!1,highlightedIndex:null},o);var C=this.props.inputProps.onBlur;C&&C(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,s=o.x,a=o.y;this._scrollOffset=null,window.scrollTo(s,a),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(s,a)},0);return}this.setState({isOpen:!0});var h=this.props.inputProps.onFocus;h&&h(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return F0.createElement("div",E2({style:E2({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(E2({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&F0.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),n}(F0.Component);I5.propTypes={items:Ol.array.isRequired,value:Ol.any,onChange:Ol.func,onSelect:Ol.func,shouldItemRender:Ol.func,isItemSelectable:Ol.func,sortItems:Ol.func,getItemValue:Ol.func.isRequired,renderItem:Ol.func.isRequired,renderMenu:Ol.func,menuStyle:Ol.object,renderInput:Ol.func,inputProps:Ol.object,wrapperProps:Ol.object,wrapperStyle:Ol.object,autoHighlight:Ol.bool,selectOnBlur:Ol.bool,onMenuVisibilityChange:Ol.func,open:Ol.bool,debug:Ol.bool};I5.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(n){return F0.createElement("input",n)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(n,t,r){return F0.createElement("div",{style:E2({},r,this.menuStyle),children:n})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};I5.keyDownHandlers={ArrowDown:function(n){n.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<t.length;o++){var s=(i+o+1)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(n){n.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?t.length:r,o=0;o<t.length;o++){var s=(i-(1+o)+t.length)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i!==t.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(n){var t=this;if(n.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){t.refs.input.select()});else{n.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){t.refs.input.setSelectionRange(i.length,i.length),t.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var Yfe=I5;const qfe=oa(Yfe);function Wi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",n="6ef9facf9aeabdae687b5aca973710969d826d60",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ef9facf9aeabdae687b5aca973710969d826d60"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Wi=function(){return s},s}Wi();const nK=(Wi().s[0]++,140);class Zy extends xn.Component{constructor(){super(...arguments);rn(this,"state",(Wi().s[1]++,{maxHeight:nK}));rn(this,"autocompleteMenuEl",(Wi().s[2]++,null))}calcMaxHeight(){if(Wi().f[1]++,Wi().s[4]++,this.props.keepMenuWithinWindowBounds){Wi().b[0][0]++;const t=(Wi().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(Wi().s[6]++,Math.min(t,nK));Wi().s[7]++,r!=this.state.maxHeight?(Wi().b[1][0]++,Wi().s[8]++,this.setState({maxHeight:r})):Wi().b[1][1]++}else Wi().b[0][1]++}componentDidMount(){Wi().f[2]++,Wi().s[9]++,this.calcMaxHeight()}componentDidUpdate(){Wi().f[3]++,Wi().s[10]++,this.calcMaxHeight()}onChange(t){Wi().f[4]++,Wi().s[11]++,this.props.onChange(t===""?(Wi().b[2][0]++,void 0):(Wi().b[2][1]++,t))}render(){return Wi().f[5]++,Wi().s[12]++,N.jsx("div",{ref:t=>{Wi().f[6]++,Wi().s[13]++,this.autocompleteMenuEl=t},children:N.jsx(qfe,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:t=>(Wi().f[7]++,Wi().s[14]++,t[0]),onSelect:t=>(Wi().f[8]++,Wi().s[15]++,this.onChange(t)),onChange:(t,r)=>(Wi().f[9]++,Wi().s[16]++,this.onChange(r)),shouldItemRender:(t,r=(Wi().b[3][0]++,""))=>(Wi().f[10]++,Wi().s[17]++,typeof r=="string"?(Wi().b[4][0]++,Wi().s[18]++,t[0].toLowerCase().indexOf(r.toLowerCase())>-1):(Wi().b[4][1]++,Wi().s[19]++,!1)),renderItem:(t,r)=>(Wi().f[11]++,Wi().s[20]++,N.jsx("div",{className:bf({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:t[1]},t[0]))})})}}rn(Zy,"defaultProps",(Wi().s[3]++,{onChange:()=>{Wi().f[0]++},options:[]}));function Am(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",n="44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:11,column:3}},1:{start:{line:13,column:4},end:{line:29,column:6}},2:{start:{line:25,column:56},end:{line:25,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:30,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:56},end:{line:25,column:66}},line:25}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA2BM;AA3BN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Am=function(){return s},s}Am();class d8 extends xn.Component{render(){var n;return Am().f[1]++,Am().s[1]++,N.jsx(Vo,{label:"Source",fieldSpec:Hi.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:N.jsx(Zy,{value:this.props.value,onChange:this.props.onChange,options:(n=this.props.sourceIds)==null?void 0:n.map(t=>(Am().f[2]++,Am().s[2]++,[t,t]))})})}}rn(d8,"defaultProps",(Am().s[0]++,{onChange:()=>{Am().f[0]++},sourceIds:[]}));function cm(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",n="f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:12,column:3}},1:{start:{line:14,column:4},end:{line:31,column:6}},2:{start:{line:27,column:59},end:{line:27,column:65}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:52},end:{line:27,column:53}},loc:{start:{line:27,column:59},end:{line:27,column:65}},line:27}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA5BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return cm=function(){return s},s}cm();class h8 extends xn.Component{render(){var n;return cm().f[1]++,cm().s[1]++,N.jsx(Vo,{label:"Source Layer",fieldSpec:ma.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:N.jsx(Zy,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(n=this.props.sourceLayerIds)==null?void 0:n.map(t=>(cm().f[2]++,cm().s[2]++,[t,t]))})})}}rn(h8,"defaultProps",(cm().s[0]++,{onChange:()=>{cm().f[0]++},sourceLayerIds:[],isFixed:!1}));function ur(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",n="a7785e30671066cb83402b9013479a4548583811",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:10,column:13},end:{line:25,column:3}},1:{start:{line:11,column:26},end:{line:11,column:52}},2:{start:{line:12,column:18},end:{line:15,column:5}},3:{start:{line:16,column:4},end:{line:21,column:5}},4:{start:{line:17,column:6},end:{line:17,column:39}},5:{start:{line:18,column:6},end:{line:20,column:7}},6:{start:{line:19,column:8},end:{line:19,column:59}},7:{start:{line:22,column:4},end:{line:22,column:30}},8:{start:{line:23,column:4},end:{line:23,column:45}},9:{start:{line:24,column:4},end:{line:24,column:35}},10:{start:{line:27,column:4},end:{line:27,column:17}},11:{start:{line:28,column:18},end:{line:31,column:5}},12:{start:{line:32,column:4},end:{line:35,column:5}},13:{start:{line:33,column:6},end:{line:33,column:56}},14:{start:{line:34,column:6},end:{line:34,column:66}},15:{start:{line:36,column:4},end:{line:36,column:23}},16:{start:{line:39,column:20},end:{line:39,column:34}},17:{start:{line:40,column:20},end:{line:40,column:35}},18:{start:{line:41,column:32},end:{line:41,column:56}},19:{start:{line:42,column:32},end:{line:42,column:56}},20:{start:{line:43,column:4},end:{line:50,column:5}},21:{start:{line:47,column:6},end:{line:49,column:9}},22:{start:{line:53,column:22},end:{line:53,column:54}},23:{start:{line:54,column:4},end:{line:54,column:34}},24:{start:{line:57,column:20},end:{line:57,column:22}},25:{start:{line:58,column:18},end:{line:78,column:5}},26:{start:{line:79,column:4},end:{line:84,column:5}},27:{start:{line:80,column:22},end:{line:80,column:30}},28:{start:{line:81,column:6},end:{line:83,column:7}},29:{start:{line:82,column:8},end:{line:82,column:26}},30:{start:{line:85,column:4},end:{line:85,column:19}},31:{start:{line:88,column:20},end:{line:88,column:52}},32:{start:{line:89,column:19},end:{line:89,column:61}},33:{start:{line:90,column:4},end:{line:146,column:6}},34:{start:{line:105,column:16},end:{line:105,column:41}},35:{start:{line:114,column:31},end:{line:114,column:57}},36:{start:{line:123,column:31},end:{line:123,column:59}},37:{start:{line:132,column:31},end:{line:132,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:13},end:{line:10,column:14}},loc:{start:{line:10,column:19},end:{line:25,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:21},end:{line:37,column:3}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:44},end:{line:51,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:29},end:{line:55,column:3}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:19},end:{line:86,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:11},end:{line:147,column:3}},line:87},6:{name:"(anonymous_6)",decl:{start:{line:104,column:24},end:{line:104,column:25}},loc:{start:{line:104,column:31},end:{line:106,column:15}},line:104},7:{name:"(anonymous_7)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:31},end:{line:114,column:57}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:123,column:24},end:{line:123,column:25}},loc:{start:{line:123,column:31},end:{line:123,column:59}},line:123},9:{name:"(anonymous_9)",decl:{start:{line:132,column:24},end:{line:132,column:25}},loc:{start:{line:132,column:31},end:{line:132,column:67}},line:132}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:18,column:6},end:{line:20,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:20,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:18,column:10},end:{line:18,column:68}},type:"binary-expr",locations:[{start:{line:18,column:10},end:{line:18,column:38}},{start:{line:18,column:42},end:{line:18,column:68}}],line:18},3:{loc:{start:{line:32,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:35,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},4:{loc:{start:{line:43,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},5:{loc:{start:{line:45,column:6},end:{line:45,column:160}},type:"binary-expr",locations:[{start:{line:45,column:6},end:{line:45,column:25}},{start:{line:45,column:29},end:{line:45,column:52}},{start:{line:45,column:56},end:{line:45,column:106}},{start:{line:45,column:110},end:{line:45,column:160}}],line:45},6:{loc:{start:{line:53,column:22},end:{line:53,column:54}},type:"binary-expr",locations:[{start:{line:53,column:22},end:{line:53,column:48}},{start:{line:53,column:52},end:{line:53,column:54}}],line:53},7:{loc:{start:{line:54,column:11},end:{line:54,column:33}},type:"binary-expr",locations:[{start:{line:54,column:11},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:54,column:33}}],line:54},8:{loc:{start:{line:81,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:83,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:81},9:{loc:{start:{line:81,column:10},end:{line:81,column:61}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:24}},{start:{line:81,column:28},end:{line:81,column:61}}],line:81},10:{loc:{start:{line:117,column:10},end:{line:125,column:11}},type:"binary-expr",locations:[{start:{line:117,column:10},end:{line:117,column:42}},{start:{line:117,column:62},end:{line:125,column:11}}],line:117},11:{loc:{start:{line:126,column:10},end:{line:134,column:11}},type:"binary-expr",locations:[{start:{line:126,column:10},end:{line:126,column:87}},{start:{line:126,column:107},end:{line:134,column:11}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AAyIM,SACE,KADF;AAzIN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAmB7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAAsB;AAChC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAwC,EAAE,CAAC;AAAA,IAC9F;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAA2B,WAA0B;AAEtE,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cACb;AAAA;AAAA,UAED;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7785e30671066cb83402b9013479a4548583811"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ur=function(){return s},s}ur();class Vfe extends xn.Component{constructor(t){ur().f[1]++,ur().s[10]++;super(t);rn(this,"addLayer",(ur().s[0]++,()=>{ur().f[0]++;const t=(ur().s[1]++,this.props.layers.slice(0)),r=(ur().s[2]++,{id:this.state.id,type:this.state.type});ur().s[3]++,this.state.type!=="background"?(ur().b[0][0]++,ur().s[4]++,r.source=this.state.source,ur().s[5]++,ur().b[2][0]++,this.state.type!=="raster"&&(ur().b[2][1]++,this.state["source-layer"])?(ur().b[1][0]++,ur().s[6]++,r["source-layer"]=this.state["source-layer"]):ur().b[1][1]++):ur().b[0][1]++,ur().s[7]++,t.push(r),ur().s[8]++,this.props.onLayersChange(t),ur().s[9]++,this.props.onOpenToggle(!1)}));const r=(ur().s[11]++,{type:"fill",id:""});ur().s[12]++,t.sources.length>0?(ur().b[3][0]++,ur().s[13]++,r.source=Object.keys(this.props.sources)[0],ur().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):ur().b[3][1]++,ur().s[15]++,this.state=r}componentDidUpdate(t,r){ur().f[2]++;const i=(ur().s[16]++,r.type),o=(ur().s[17]++,this.state.type),s=(ur().s[18]++,this.getSources(i)),a=(ur().s[19]++,this.getSources(o));ur().s[20]++,ur().b[5][0]++,i!==o&&(ur().b[5][1]++,r.source!=="")&&(ur().b[5][2]++,s.indexOf(r.source)>-1)&&(ur().b[5][3]++,a.indexOf(this.state.source)<0)?(ur().b[4][0]++,ur().s[21]++,this.setState({source:""})):ur().b[4][1]++}getLayersForSource(t){ur().f[3]++;const r=(ur().s[22]++,ur().b[6][0]++,this.props.sources[t]||(ur().b[6][1]++,{}));return ur().s[23]++,ur().b[7][0]++,r.layers||(ur().b[7][1]++,[])}getSources(t){ur().f[4]++;const r=(ur().s[24]++,[]),i=(ur().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});ur().s[26]++;for(const[o,s]of Object.entries(this.props.sources)){const a=(ur().s[27]++,s.type);ur().s[28]++,ur().b[9][0]++,i[a]&&(ur().b[9][1]++,i[a].indexOf(t)>-1)?(ur().b[8][0]++,ur().s[29]++,r.push(o)):ur().b[8][1]++}return ur().s[30]++,r}render(){ur().f[5]++;const t=(ur().s[31]++,this.getSources(this.state.type)),r=(ur().s[32]++,this.getLayersForSource(this.state.source));return ur().s[33]++,N.jsx(Bf,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Add Layer","data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:N.jsxs("div",{className:"maputnik-add-layer",children:[N.jsx(OW,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:i=>{ur().f[6]++,ur().s[34]++,this.setState({id:i})}}),N.jsx(A8,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:i=>(ur().f[7]++,ur().s[35]++,this.setState({type:i}))}),(ur().b[10][0]++,this.state.type!=="background"&&(ur().b[10][1]++,N.jsx(d8,{sourceIds:t,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:i=>(ur().f[8]++,ur().s[36]++,this.setState({source:i}))}))),(ur().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(ur().b[11][1]++,N.jsx(h8,{isFixed:!0,sourceLayerIds:r,value:this.state["source-layer"],onChange:i=>(ur().f[9]++,ur().s[37]++,this.setState({"source-layer":i}))}))),N.jsx(ka,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:"Add Layer"})]})})}}function $0(){var e="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",n="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return $0=function(){return s},s}$0();let rK=($0().s[0]++,0);function Py(e=($0().b[0][0]++,"")){return $0().f[0]++,$0().s[1]++,rK++,$0().s[2]++,e+rK}function Xr(){var e="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",n="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Xr=function(){return s},s}Xr();function Hfe(e,n){Xr().f[0]++;const t=(Xr().s[0]++,{...e.paint});Xr().s[1]++,Object.keys(t).forEach(i=>{Xr().f[1]++,Xr().s[2]++,i in ma["paint_"+n]?Xr().b[0][1]++:(Xr().b[0][0]++,Xr().s[3]++,delete t[i])});const r=(Xr().s[4]++,{...e.layout});return Xr().s[5]++,Object.keys(r).forEach(i=>{Xr().f[2]++,Xr().s[6]++,i in ma["layout_"+n]?Xr().b[1][1]++:(Xr().b[1][0]++,Xr().s[7]++,delete r[i])}),Xr().s[8]++,{...e,paint:t,layout:r,type:n}}function Zfe(e,n,t,r){if(Xr().f[3]++,Xr().s[9]++,r===void 0)if(Xr().b[2][0]++,Xr().s[10]++,n){Xr().b[3][0]++;const i=(Xr().s[11]++,{...e,[n]:{...e[n]}});return Xr().s[12]++,delete i[n][t],Xr().s[13]++,Object.keys(i[n]).length<1?(Xr().b[4][0]++,Xr().s[14]++,delete i[n]):Xr().b[4][1]++,Xr().s[15]++,i}else{Xr().b[3][1]++;const i=(Xr().s[16]++,{...e});return Xr().s[17]++,delete i[t],Xr().s[18]++,i}else return Xr().b[2][1]++,Xr().s[19]++,n?(Xr().b[5][0]++,Xr().s[20]++,{...e,[n]:{...e[n],[t]:r}}):(Xr().b[5][1]++,Xr().s[21]++,{...e,[t]:r})}function Yg(e){return Xr().f[4]++,Xr().s[22]++,e.replace(" ","-").replace("_","-").split("-")[0]}function Xfe(e,n){Xr().f[5]++;const t=(Xr().s[23]++,Yg(e[n].id));let r=(Xr().s[24]++,n);Xr().s[25]++;for(let i=(Xr().s[26]++,n);i>0;i--){const o=(Xr().s[27]++,Yg(e[i-1].id));if(Xr().s[28]++,o===t)Xr().b[6][0]++,Xr().s[29]++,r=i-1;else return Xr().b[6][1]++,Xr().s[30]++,r}return Xr().s[31]++,r}function $t(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",n="a7cd6405e81ca6260ef85d5394a18c33340b5775",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:12,column:24},end:{line:15,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:20,column:45}},3:{start:{line:21,column:4},end:{line:21,column:48}},4:{start:{line:22,column:4},end:{line:31,column:6}},5:{start:{line:34,column:4},end:{line:43,column:7}},6:{start:{line:45,column:17},end:{line:62,column:3}},7:{start:{line:46,column:14},end:{line:46,column:15}},8:{start:{line:47,column:22},end:{line:47,column:24}},9:{start:{line:48,column:4},end:{line:57,column:7}},10:{start:{line:49,column:26},end:{line:49,column:51}},11:{start:{line:50,column:24},end:{line:50,column:52}},12:{start:{line:51,column:6},end:{line:53,column:7}},13:{start:{line:52,column:8},end:{line:52,column:63}},14:{start:{line:54,column:6},end:{line:56,column:9}},15:{start:{line:55,column:8},end:{line:55,column:17}},16:{start:{line:58,column:4},end:{line:61,column:7}},17:{start:{line:64,column:19},end:{line:64,column:21}},18:{start:{line:65,column:41},end:{line:65,column:50}},19:{start:{line:66,column:4},end:{line:83,column:5}},20:{start:{line:66,column:17},end:{line:66,column:18}},21:{start:{line:67,column:24},end:{line:67,column:44}},22:{start:{line:68,column:28},end:{line:68,column:52}},23:{start:{line:69,column:6},end:{line:72,column:8}},24:{start:{line:73,column:20},end:{line:76,column:7}},25:{start:{line:77,column:6},end:{line:82,column:7}},26:{start:{line:78,column:26},end:{line:78,column:51}},27:{start:{line:79,column:8},end:{line:79,column:30}},28:{start:{line:81,column:8},end:{line:81,column:29}},29:{start:{line:84,column:4},end:{line:84,column:18}},30:{start:{line:87,column:22},end:{line:87,column:50}},31:{start:{line:88,column:22},end:{line:88,column:55}},32:{start:{line:89,column:4},end:{line:93,column:5}},33:{start:{line:90,column:6},end:{line:90,column:68}},34:{start:{line:92,column:6},end:{line:92,column:35}},35:{start:{line:94,column:4},end:{line:96,column:7}},36:{start:{line:99,column:22},end:{line:99,column:78}},37:{start:{line:100,column:4},end:{line:100,column:51}},38:{start:{line:103,column:4},end:{line:105,column:5}},39:{start:{line:104,column:6},end:{line:104,column:18}},40:{start:{line:107,column:18},end:{line:109,column:7}},41:{start:{line:110,column:6},end:{line:114,column:7}},42:{start:{line:111,column:8},end:{line:113,column:10}},43:{start:{line:115,column:6},end:{line:115,column:17}},44:{start:{line:117,column:24},end:{line:120,column:5}},45:{start:{line:122,column:18},end:{line:124,column:7}},46:{start:{line:125,column:6},end:{line:125,column:27}},47:{start:{line:126,column:6},end:{line:126,column:17}},48:{start:{line:128,column:23},end:{line:131,column:5}},49:{start:{line:132,column:25},end:{line:132,column:53}},50:{start:{line:133,column:4},end:{line:133,column:24}},51:{start:{line:136,column:4},end:{line:152,column:5}},52:{start:{line:137,column:31},end:{line:137,column:59}},53:{start:{line:138,column:6},end:{line:151,column:7}},54:{start:{line:139,column:23},end:{line:139,column:44}},55:{start:{line:140,column:24},end:{line:143,column:9}},56:{start:{line:144,column:25},end:{line:149,column:19}},57:{start:{line:145,column:10},end:{line:145,column:37}},58:{start:{line:146,column:10},end:{line:148,column:11}},59:{start:{line:147,column:12},end:{line:147,column:36}},60:{start:{line:150,column:8},end:{line:150,column:33}},61:{start:{line:155,column:22},end:{line:155,column:24}},62:{start:{line:156,column:14},end:{line:156,column:15}},63:{start:{line:157,column:26},end:{line:157,column:46}},64:{start:{line:158,column:4},end:{line:209,column:7}},65:{start:{line:159,column:26},end:{line:159,column:51}},66:{start:{line:160,column:6},end:{line:173,column:7}},67:{start:{line:161,column:36},end:{line:171,column:9}},68:{start:{line:165,column:47},end:{line:165,column:52}},69:{start:{line:172,column:8},end:{line:172,column:28}},70:{start:{line:174,column:6},end:{line:208,column:9}},71:{start:{line:175,column:25},end:{line:175,column:72}},72:{start:{line:176,column:27},end:{line:178,column:10}},73:{start:{line:177,column:10},end:{line:177,column:97}},74:{start:{line:179,column:32},end:{line:179,column:34}},75:{start:{line:180,column:8},end:{line:182,column:9}},76:{start:{line:181,column:10},end:{line:181,column:53}},77:{start:{line:183,column:41},end:{line:205,column:9}},78:{start:{line:206,column:8},end:{line:206,column:33}},79:{start:{line:207,column:8},end:{line:207,column:17}},80:{start:{line:210,column:4},end:{line:262,column:6}},81:{start:{line:265,column:35},end:{line:265,column:118}},82:{start:{line:265,column:80},end:{line:265,column:117}},83:{start:{line:268,column:4},end:{line:277,column:6}},84:{start:{line:275,column:33},end:{line:275,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:25},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:32,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:25},end:{line:44,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:45,column:17},end:{line:45,column:18}},loc:{start:{line:45,column:23},end:{line:62,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:48,column:33},end:{line:48,column:34}},loc:{start:{line:48,column:45},end:{line:57,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:54,column:21},end:{line:54,column:22}},loc:{start:{line:54,column:33},end:{line:56,column:7}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:18},end:{line:85,column:3}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:37},end:{line:97,column:3}},line:86},8:{name:"(anonymous_8)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:32},end:{line:101,column:3}},line:98},9:{name:"(anonymous_9)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:46},end:{line:134,column:3}},line:102},10:{name:"getRequiredProps",decl:{start:{line:106,column:13},end:{line:106,column:29}},loc:{start:{line:106,column:37},end:{line:116,column:5}},line:106},11:{name:"withoutLayers",decl:{start:{line:121,column:13},end:{line:121,column:26}},loc:{start:{line:121,column:34},end:{line:127,column:5}},line:121},12:{name:"(anonymous_12)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:32},end:{line:153,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:144,column:50},end:{line:144,column:51}},loc:{start:{line:144,column:63},end:{line:149,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:11},end:{line:263,column:3}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:158,column:26},end:{line:158,column:27}},loc:{start:{line:158,column:38},end:{line:209,column:5}},line:158},16:{name:"(anonymous_16)",decl:{start:{line:165,column:40},end:{line:165,column:41}},loc:{start:{line:165,column:47},end:{line:165,column:52}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:174,column:21},end:{line:174,column:22}},loc:{start:{line:174,column:44},end:{line:208,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:176,column:50},end:{line:176,column:51}},loc:{start:{line:176,column:61},end:{line:178,column:9}},line:176},19:{name:"(anonymous_19)",decl:{start:{line:265,column:53},end:{line:265,column:54}},loc:{start:{line:265,column:80},end:{line:265,column:117}},line:265},20:{name:"(anonymous_20)",decl:{start:{line:267,column:2},end:{line:267,column:3}},loc:{start:{line:267,column:11},end:{line:278,column:3}},line:267},21:{name:"(anonymous_21)",decl:{start:{line:275,column:27},end:{line:275,column:28}},loc:{start:{line:275,column:33},end:{line:275,column:38}},line:275}},branchMap:{0:{loc:{start:{line:51,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:51,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},1:{loc:{start:{line:71,column:8},end:{line:71,column:79}},type:"cond-expr",locations:[{start:{line:71,column:41},end:{line:71,column:75}},{start:{line:71,column:78},end:{line:71,column:79}}],line:71},2:{loc:{start:{line:77,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:82,column:7}},{start:{line:80,column:13},end:{line:82,column:7}}],line:77},3:{loc:{start:{line:77,column:10},end:{line:77,column:81}},type:"binary-expr",locations:[{start:{line:77,column:10},end:{line:77,column:23}},{start:{line:77,column:27},end:{line:77,column:81}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:89},5:{loc:{start:{line:100,column:11},end:{line:100,column:50}},type:"cond-expr",locations:[{start:{line:100,column:34},end:{line:100,column:38}},{start:{line:100,column:41},end:{line:100,column:50}}],line:100},6:{loc:{start:{line:103,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:103,column:4},end:{line:105,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:103},7:{loc:{start:{line:110,column:6},end:{line:114,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:114,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:110},8:{loc:{start:{line:132,column:27},end:{line:132,column:52}},type:"binary-expr",locations:[{start:{line:132,column:27},end:{line:132,column:38}},{start:{line:132,column:42},end:{line:132,column:52}}],line:132},9:{loc:{start:{line:136,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:136,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:136},10:{loc:{start:{line:138,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:138},11:{loc:{start:{line:138,column:10},end:{line:138,column:51}},type:"binary-expr",locations:[{start:{line:138,column:10},end:{line:138,column:26}},{start:{line:138,column:30},end:{line:138,column:51}}],line:138},12:{loc:{start:{line:146,column:10},end:{line:148,column:11}},type:"if",locations:[{start:{line:146,column:10},end:{line:148,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},13:{loc:{start:{line:146,column:14},end:{line:146,column:68}},type:"binary-expr",locations:[{start:{line:146,column:14},end:{line:146,column:32}},{start:{line:146,column:36},end:{line:146,column:68}}],line:146},14:{loc:{start:{line:160,column:6},end:{line:173,column:7}},type:"if",locations:[{start:{line:160,column:6},end:{line:173,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},15:{loc:{start:{line:167,column:22},end:{line:167,column:98}},type:"binary-expr",locations:[{start:{line:167,column:22},end:{line:167,column:57}},{start:{line:167,column:61},end:{line:167,column:98}}],line:167},16:{loc:{start:{line:177,column:17},end:{line:177,column:96}},type:"binary-expr",locations:[{start:{line:177,column:17},end:{line:177,column:29}},{start:{line:177,column:33},end:{line:177,column:62}},{start:{line:177,column:66},end:{line:177,column:96}}],line:177},17:{loc:{start:{line:180,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:180,column:8},end:{line:182,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:180},18:{loc:{start:{line:187,column:52},end:{line:187,column:153}},type:"binary-expr",locations:[{start:{line:187,column:52},end:{line:187,column:69}},{start:{line:187,column:73},end:{line:187,column:112}},{start:{line:187,column:116},end:{line:187,column:153}}],line:187},19:{loc:{start:{line:188,column:53},end:{line:188,column:105}},type:"binary-expr",locations:[{start:{line:188,column:53},end:{line:188,column:84}},{start:{line:188,column:88},end:{line:188,column:105}}],line:188},20:{loc:{start:{line:196,column:25},end:{line:196,column:43}},type:"binary-expr",locations:[{start:{line:196,column:25},end:{line:196,column:37}},{start:{line:196,column:41},end:{line:196,column:43}}],line:196},21:{loc:{start:{line:239,column:26},end:{line:239,column:90}},type:"cond-expr",locations:[{start:{line:239,column:69},end:{line:239,column:79}},{start:{line:239,column:82},end:{line:239,column:90}}],line:239}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAiNoB,cAkEd,YAlEc;AAjNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AAsBrD,MAAM,2BAA2B,MAAM,UAA4D;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAgC;AAC1C,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAmC,oBAAM;AAAA,YACzD,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OAAO,aAAa;AAAA;AAAA,YAC3D,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBAA2C;AAAA;AAAA,YAEvD,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAW;AAAA,cAEX,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAGA,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7cd6405e81ca6260ef85d5394a18c33340b5775"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return $t=function(){return s},s}$t();class FW extends xn.Component{constructor(t){$t().f[1]++,$t().s[1]++;super(t);rn(this,"selectedItemRef");rn(this,"scrollContainerRef");rn(this,"toggleLayers",($t().s[6]++,()=>{$t().f[3]++;let t=($t().s[7]++,0);const r=($t().s[8]++,{});$t().s[9]++,this.groupedLayers().forEach(i=>{$t().f[4]++;const o=($t().s[10]++,Yg(i[0].id)),s=($t().s[11]++,[o,t].join("-"));$t().s[12]++,i.length>1?($t().b[0][0]++,$t().s[13]++,r[s]=this.state.areAllGroupsExpanded):$t().b[0][1]++,$t().s[14]++,i.forEach(a=>{$t().f[5]++,$t().s[15]++,t+=1})}),$t().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));$t().s[2]++,this.selectedItemRef=xn.createRef(),$t().s[3]++,this.scrollContainerRef=xn.createRef(),$t().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+Py()},isOpen:{add:!1}}}toggleModal(t){$t().f[2]++,$t().s[5]++,this.setState({keys:{...this.state.keys,[t]:+Py()},isOpen:{...this.state.isOpen,[t]:!this.state.isOpen[t]}})}groupedLayers(){$t().f[6]++;const t=($t().s[17]++,[]),r=($t().s[18]++,new Map);$t().s[19]++;for(let i=($t().s[20]++,0);i<this.props.layers.length;i++){const o=($t().s[21]++,this.props.layers[i]),s=($t().s[22]++,this.props.layers[i-1]);$t().s[23]++,r.set(o.id,r.has(o.id)?($t().b[1][0]++,r.get(o.id)+1):($t().b[1][1]++,0));const a=($t().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if($t().s[25]++,$t().b[3][0]++,s&&($t().b[3][1]++,Yg(s.id)==Yg(a.id))){$t().b[2][0]++;const h=($t().s[26]++,t[t.length-1]);$t().s[27]++,h.push(a)}else $t().b[2][1]++,$t().s[28]++,t.push([a])}return $t().s[29]++,t}toggleLayerGroup(t,r){$t().f[7]++;const i=($t().s[30]++,[t,r].join("-")),o=($t().s[31]++,{...this.state.collapsedGroups});$t().s[32]++,i in this.state.collapsedGroups?($t().b[4][0]++,$t().s[33]++,o[i]=!this.state.collapsedGroups[i]):($t().b[4][1]++,$t().s[34]++,o[i]=!1),$t().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(t,r){$t().f[8]++;const i=($t().s[36]++,this.state.collapsedGroups[[t,r].join("-")]);return $t().s[37]++,i===void 0?($t().b[5][0]++,!0):($t().b[5][1]++,i)}shouldComponentUpdate(t,r){if($t().f[9]++,$t().s[38]++,this.state!==r)return $t().b[6][0]++,$t().s[39]++,!0;$t().b[6][1]++;function i(g){$t().f[10]++;const C=($t().s[40]++,{id:g.id});return $t().s[41]++,g.layout?($t().b[7][0]++,$t().s[42]++,C.layout={visibility:g.layout.visibility}):$t().b[7][1]++,$t().s[43]++,C}const o=($t().s[44]++,x6.isEqual(t.layers.map(i),this.props.layers.map(i)));function s(g){$t().f[11]++;const C=($t().s[45]++,{...g});return $t().s[46]++,delete C.layers,$t().s[47]++,C}const a=($t().s[48]++,x6.isEqual(s(this.props),s(t))),h=($t().s[49]++,$t().b[8][0]++,!(o&&($t().b[8][1]++,a)));return $t().s[50]++,h}componentDidUpdate(t){if($t().f[12]++,$t().s[51]++,t.selectedLayerIndex!==this.props.selectedLayerIndex){$t().b[9][0]++;const r=($t().s[52]++,this.selectedItemRef.current);if($t().s[53]++,$t().b[11][0]++,r&&($t().b[11][1]++,r.node)){$t().b[10][0]++;const i=($t().s[54]++,r.node),o=($t().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),s=($t().s[56]++,new IntersectionObserver(a=>{$t().f[13]++,$t().s[57]++,s.unobserve(i),$t().s[58]++,$t().b[13][0]++,a.length>0&&($t().b[13][1]++,a[0].intersectionRatio<1)?($t().b[12][0]++,$t().s[59]++,i.scrollIntoView()):$t().b[12][1]++},o));$t().s[60]++,s.observe(i)}else $t().b[10][1]++}else $t().b[9][1]++}render(){$t().f[14]++;const t=($t().s[61]++,[]);let r=($t().s[62]++,0);const i=($t().s[63]++,this.groupedLayers());return $t().s[64]++,i.forEach(o=>{$t().f[15]++;const s=($t().s[65]++,Yg(o[0].id));if($t().s[66]++,o.length>1){$t().b[14][0]++;const a=($t().s[67]++,N.jsx(cde,{"data-wd-key":[s,r].join("-"),"aria-controls":o.map(h=>($t().f[16]++,$t().s[68]++,h.key)).join(" "),title:s,isActive:($t().b[15][0]++,!this.isCollapsed(s,r)||($t().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,s,r)},`group-${s}-${r}`));$t().s[69]++,t.push(a)}else $t().b[14][1]++;$t().s[70]++,o.forEach((a,h)=>{var P;$t().f[17]++;const g=($t().s[71]++,Xfe(this.props.layers,r)),C=($t().s[72]++,this.props.errors.find(U=>($t().f[18]++,$t().s[73]++,$t().b[16][0]++,U.parsed&&($t().b[16][1]++,U.parsed.type==="layer")&&($t().b[16][2]++,U.parsed.data.index==r)))),B=($t().s[74]++,{});$t().s[75]++,r===this.props.selectedLayerIndex?($t().b[17][0]++,$t().s[76]++,B.ref=this.selectedItemRef):$t().b[17][1]++;const k=($t().s[77]++,N.jsx(Nde,{className:bf({"maputnik-layer-list-item-collapsed":($t().b[18][0]++,o.length>1&&($t().b[18][1]++,this.isCollapsed(s,g))&&($t().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":($t().b[19][0]++,h==o.length-1&&($t().b[19][1]++,o.length>1)),"maputnik-layer-list-item--error":!!C}),index:r,id:a.key,layerId:a.id,layerIndex:r,layerType:a.type,visibility:($t().b[20][0]++,a.layout||($t().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(P=this.props.onLayerDestroy)==null?void 0:P.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...B},a.key));$t().s[78]++,t.push(k),$t().s[79]++,r+=1})}),$t().s[80]++,N.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":"Layers list",ref:this.scrollContainerRef,children:[N.jsx(Vfe,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),N.jsxs("header",{className:"maputnik-layer-list-header",children:[N.jsx("span",{className:"maputnik-layer-list-header-title",children:"Layers"}),N.jsx("span",{className:"maputnik-space"}),N.jsx("div",{className:"maputnik-default-property",children:N.jsx("div",{className:"maputnik-multibutton",children:N.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?($t().b[21][0]++,"Collapse"):($t().b[21][1]++,"Expand")})})}),N.jsx("div",{className:"maputnik-default-property",children:N.jsx("div",{className:"maputnik-multibutton",children:N.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:"Add Layer"})})})]}),N.jsx("div",{role:"navigation","aria-label":"Layers list",children:N.jsx("ul",{className:"maputnik-layer-list-container",children:t})})]})}}rn(FW,"defaultProps",($t().s[0]++,{onLayerSelect:()=>{$t().f[0]++}}));const Jfe=($t().s[81]++,Rde(e=>($t().f[19]++,$t().s[82]++,N.jsx(FW,{...e}))));class epe extends xn.Component{render(){return $t().f[20]++,$t().s[83]++,N.jsx(Jfe,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>($t().f[21]++,$t().s[84]++,!1)})}}var T5={},DW="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function tpe(e,n){T5[e]=n}function npe(e){delete T5[e]}function rpe(e,n){var t=T5[e];if(!t)throw new Error("Cannot open "+DW);t.openMenu(n)}function ipe(e,n){var t=T5[e];if(!t)throw new Error("Cannot close "+DW);t.closeMenu(n)}var LW={registerManager:tpe,unregisterManager:npe,openMenu:rpe,closeMenu:ipe};function Ms(e){e=e||{};var n=e.keybindings||{};this._settings={keybindings:{next:n.next||{keyCode:40},prev:n.prev||{keyCode:38},first:n.first,last:n.last},wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var t,r;for(t in this._settings.keybindings)r=this._settings.keybindings[t],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:t,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}Ms.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};Ms.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};Ms.prototype._handleKeydownEvent=function(e){var n=this._getActiveElementIndex();if(n!==-1){var t=!1;this._keybindingsLookup.forEach((function(r){if(ope(r.eventMatcher,e))switch(t=!0,e.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),t||this._handleUnboundKey(e)}};Ms.prototype.moveFocusForward=function(){var e=this._getActiveElementIndex(),n;return e<this._members.length-1?n=e+1:this._settings.wrap?n=0:n=e,this.focusNodeAtIndex(n),n};Ms.prototype.moveFocusBack=function(){var e=this._getActiveElementIndex(),n;return e>0?n=e-1:this._settings.wrap?n=this._members.length-1:n=e,this.focusNodeAtIndex(n),n};Ms.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};Ms.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};Ms.prototype._handleUnboundKey=function(e){if(this._settings.stringSearch){if(this._searchString!==""&&(e.key===" "||e.keyCode===32))return e.preventDefault(),-1;if(!ape(e.keyCode)||e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}};Ms.prototype._clearSearchString=function(){this._searchString=""};Ms.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()};Ms.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){e._clearSearchString()},this._settings.stringSearchDelay)};Ms.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};Ms.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};Ms.prototype.moveFocusByString=function(e){for(var n,t=0,r=this._members.length;t<r;t++)if(n=this._members[t],!!n.text&&n.text.indexOf(e)===0)return UW(n.node)};Ms.prototype._findIndexOfNode=function(e){for(var n=0,t=this._members.length;n<t;n++)if(this._members[n].node===e)return n;return-1};Ms.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};Ms.prototype.focusNodeAtIndex=function(e){var n=this._members[e];return n&&UW(n.node),this};Ms.prototype.addMember=function(e,n){var t=e.node||e,r=e.text||t.getAttribute("data-focus-group-text")||t.textContent||"";this._checkNode(t);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:t,text:i};return n!=null?this._members.splice(n,0,o):this._members.push(o),this};Ms.prototype.removeMember=function(e){var n=typeof e=="number"?e:this._findIndexOfNode(e);if(n!==-1)return this._members.splice(n,1),this};Ms.prototype.clearMembers=function(){return this._members=[],this};Ms.prototype.setMembers=function(e){this.clearMembers();for(var n=0,t=e.length;n<t;n++)this.addMember(e[n]);return this};Ms.prototype.getMembers=function(){return this._members};Ms.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e};function ope(e,n){for(var t in e)if(n[t]!==void 0&&e[t]!==n[t])return!1;return!0}function ape(e){return e>=65&&e<=90}function UW(e){!e||!e.focus||(e.focus(),e.tagName.toLowerCase()==="input"&&e.select())}var spe=function(n){return new Ms(n)},lpe=spe,iK=LW,upe={wrap:!0,stringSearch:!0},Ape={init:function(n){this.updateOptions(n),this.handleBlur=cpe.bind(this),this.handleSelection=dpe.bind(this),this.handleMenuKey=hpe.bind(this),this.focusGroup=lpe(upe),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(n){var t=this.options;this.options=n||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&iK.registerManager(this.options.id,this),t&&t.id&&t.id!==this.options.id&&iK.unregisterManager(this.options.id,this)},focusItem:function(n){this.focusGroup.focusNodeAtIndex(n)},addItem:function(n){this.focusGroup.addMember(n)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(n){this.focusGroup._handleUnboundKey(n)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(n){if(!this.isOpen&&(n=n||{},n.focusMenu===void 0&&(n.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),n.focusMenu)){var t=this;this.moveFocusTimer=setTimeout(function(){t.focusItem(0)},0)}},closeMenu:function(n){this.isOpen&&(n=n||{},this.isOpen=!1,this.update(),n.focusButton&&this.button.ref.current.focus())},toggleMenu:function(n,t){n=n||{},t=t||{},this.isOpen?this.closeMenu(n):this.openMenu(t)}};function cpe(){var e=this;e.blurTimer=setTimeout(function(){if(e.button){var n=e.button.ref.current;if(n){var t=n.ownerDocument.activeElement;if(!(n&&t===n)){var r=e.menu.ref.current;if(r===t){e.focusItem(0);return}r&&r.contains(t)||e.isOpen&&e.closeMenu({focusButton:!1})}}}},0)}function dpe(e,n){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(e,n)}function hpe(e){if(this.isOpen)switch(e.key){case"Escape":e.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":e.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":e.preventDefault(),this.focusGroup.moveFocusToLast();break}}var fpe=function(e){var n=Object.create(Ape);return n.init(e),n},ppe=Sr,mpe=ppe.createContext(),K5=mpe,$x=hh,P5={refType:$x.oneOfType([$x.func,$x.shape({current:$x.elementType})])},F5=function(e,n,t){t=t||{};for(var r in n)n.hasOwnProperty(r)&&(t[r]||(e[r]=n[r]))};function gpe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ype(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function vpe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var D_=Sr,mg=hh,_pe=fpe,Cpe=K5,bpe=P5,xpe=bpe.refType,QE=F5,n4={children:mg.node.isRequired,forwardedRef:xpe,onMenuToggle:mg.func,onSelection:mg.func,closeOnSelection:mg.bool,closeOnBlur:mg.bool,tag:mg.string},oK=function(n){return{onMenuToggle:n.onMenuToggle,onSelection:n.onSelection,closeOnSelection:n.closeOnSelection,closeOnBlur:n.closeOnBlur,id:n.id}},f8=function(e){vpe(n,e);function n(t){gpe(this,n);var r=ype(this,e.call(this,t));return r.manager=_pe(oK(t)),r}return n.prototype.componentDidUpdate=function(){this.manager.updateOptions(oK(this.props))},n.prototype.render=function(){var r={};return QE(r,this.props,n4),D_.createElement(Cpe.Provider,{value:this.manager},D_.createElement(this.props.tag,r,this.props.children))},n}(D_.Component);f8.propTypes=n4;f8.defaultProps={tag:"div"};var wpe=D_.forwardRef(function(e,n){var t={forwardedRef:n};return QE(t,e,{children:n4.children,forwardedRef:n4.forwardedRef}),QE(t,{forwardedRef:n}),D_.createElement(f8,t,e.children)});function Mpe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function aK(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Spe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var py=Sr,Yx=hh,Epe=K5,Ope=P5,Bpe=Ope.refType,O2=F5,L_={ambManager:Yx.object.isRequired,children:Yx.node.isRequired,disabled:Yx.bool,forwardedRef:Bpe,tag:Yx.string},kpe=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},p8=function(e){Spe(n,e);function n(){var t,r,i;Mpe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=aK(this,e.call.apply(e,[this].concat(s))),r),r.ref=py.createRef(),r.handleKeyDown=function(h){if(!r.props.disabled){var g=r.props.ambManager;switch(h.key){case"ArrowDown":h.preventDefault(),g.isOpen?g.focusItem(0):g.openMenu();break;case"Enter":case" ":h.preventDefault(),g.toggleMenu();break;case"Escape":g.handleMenuKey(h);break;default:g.handleButtonNonArrowKey(h)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},t),aK(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.button=this},n.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},n.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},s={};return O2(s,L_),kpe().indexOf(r.tag)>=0&&delete s.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),O2(o,r,s),O2(o,{ref:this.setRef}),py.createElement(r.tag,o,r.children)},n}(py.Component);p8.propTypes=L_;p8.defaultProps={tag:"span"};var Ipe=py.forwardRef(function(e,n){return py.createElement(Epe.Consumer,null,function(t){var r={ambManager:t,forwardedRef:n};return O2(r,e,{ambManager:L_.ambManager,children:L_.children,forwardedRef:L_.forwardedRef}),py.createElement(p8,r,e.children)})}),Tpe=function(n,t,r){var i=0,o=0,s=!1,a=!1,h=!1;n.addEventListener("click",g,r),n.addEventListener("touchstart",C,r);function g(W){h||t(W)}function C(W){h=!0,!s&&(s=!0,n.addEventListener("touchmove",B,r),n.addEventListener("touchend",k,r),n.addEventListener("touchcancel",P,r),a=!1,i=W.touches[0].clientX,o=W.touches[0].clientY)}function B(W){a||Math.abs(W.touches[0].clientX-i)<=10&&Math.abs(W.touches[0].clientY-o)<=10||(a=!0)}function k(W){s=!1,U(),a||t(W)}function P(){s=!1,a=!1,i=0,o=0}function U(){n.removeEventListener("touchmove",B,r),n.removeEventListener("touchend",k,r),n.removeEventListener("touchcancel",P,r)}function Z(){n.removeEventListener("click",g,r),n.removeEventListener("touchstart",C,r),U()}return{remove:Z}};function Kpe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function sK(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Ppe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var my=Sr,Hv=hh,Fpe=Tpe,Dpe=K5,Lpe=P5,Upe=Lpe.refType,$E=F5,U_={ambManager:Hv.object.isRequired,children:Hv.oneOfType([Hv.func,Hv.node]).isRequired,forwardedRef:Upe,tag:Hv.string},m8=function(e){Ppe(n,e);function n(){var t,r,i;Kpe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=sK(this,e.call.apply(e,[this].concat(s))),r),r.ref=my.createRef(),r.addTapListener=function(){var h=r.ref.current;if(h){var g=h.ownerDocument;g&&(r.tapListener=Fpe(g.documentElement,r.handleTap))}},r.handleTap=function(h){r.ref.current.contains(h.target)||r.props.ambManager.button.ref.current.contains(h.target)||r.props.ambManager.closeMenu()},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},t),sK(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.menu=this},n.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},n.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},n.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var s={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(s.onBlur=i.handleBlur),$E(s,r,U_),$E(s,{ref:this.setRef}),my.createElement(r.tag,s,o)},n}(my.Component);m8.propTypes=U_;m8.defaultProps={tag:"div"};var Rpe=my.forwardRef(function(e,n){return my.createElement(Dpe.Consumer,null,function(t){var r={ambManager:t,forwardedRef:n};return $E(r,e,{ambManager:U_.ambManager,children:U_.children,forwardedRef:U_.forwardedRef}),my.createElement(m8,r,e.children)})});function zpe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lK(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function jpe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var gy=Sr,Zv=hh,Wpe=K5,Npe=P5,Gpe=Npe.refType,RW=F5,R_={ambManager:Zv.object.isRequired,children:Zv.node.isRequired,forwardedRef:Gpe,tag:Zv.string,text:Zv.string,value:Zv.any},g8=function(e){jpe(n,e);function n(){var t,r,i;zpe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=lK(this,e.call.apply(e,[this].concat(s))),r),r.ref=gy.createRef(),r.handleKeyDown=function(h){h.key!=="Enter"&&h.key!==" "||r.props.tag==="a"&&r.props.href||(h.preventDefault(),r.selectItem(h))},r.selectItem=function(h){var g=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(g,h)},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},t),lK(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},n.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return RW(r,this.props,R_),gy.createElement(this.props.tag,r,this.props.children)},n}(gy.Component);g8.propTypes=R_;g8.defaultProps={tag:"div"};var Qpe=gy.forwardRef(function(e,n){return gy.createElement(Wpe.Consumer,null,function(t){var r={ambManager:t,forwardedRef:n};return RW(r,e,{ambManager:R_.ambManager,children:R_.children,forwardedRef:R_.forwardedRef}),gy.createElement(g8,r,e.children)})}),uK=LW,qx={Wrapper:wpe,Button:Ipe,Menu:Rpe,MenuItem:Qpe,openMenu:uK.openMenu,closeMenu:uK.closeMenu};function D5(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function AK(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y8(e,n,t){return n&&AK(e.prototype,n),t&&AK(e,t),e}function ls(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xf(){return xf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xf.apply(this,arguments)}function cK(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function YE(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?cK(Object(t),!0).forEach(function(r){ls(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cK(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function v8(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&qE(e,n)}function r4(e){return r4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r4(e)}function qE(e,n){return qE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qE(e,n)}function $pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ype(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function L5(e,n){if(e==null)return{};var t=Ype(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function ah(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qpe(e,n){return n&&(typeof n=="object"||typeof n=="function")?n:ah(e)}function _8(e){var n=$pe();return function(){var r=r4(e),i;if(n){var o=r4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qpe(this,i)}}function Vpe(e,n){return Xpe(e)||eme(e,n)||zW(e,n)||nme()}function Hpe(e){return Zpe(e)||Jpe(e)||zW(e)||tme()}function Zpe(e){if(Array.isArray(e))return VE(e)}function Xpe(e){if(Array.isArray(e))return e}function Jpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eme(e,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(t.push(a.value),!(n&&t.length===n));r=!0);}catch(h){i=!0,o=h}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return t}}function zW(e,n){if(e){if(typeof e=="string")return VE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return VE(e,n)}}function VE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rme=function e(n){var t=this,r=n.expanded,i=r===void 0?[]:r,o=n.allowMultipleExpanded,s=o===void 0?!1:o,a=n.allowZeroExpanded,h=a===void 0?!1:a;D5(this,e),ls(this,"expanded",void 0),ls(this,"allowMultipleExpanded",void 0),ls(this,"allowZeroExpanded",void 0),ls(this,"toggleExpanded",function(g){if(t.isItemDisabled(g))return t;var C=t.isItemExpanded(g);return C?t.augment({expanded:t.expanded.filter(function(B){return B!==g})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(Hpe(t.expanded),[g]):[g]})}),ls(this,"isItemDisabled",function(g){var C=t.isItemExpanded(g),B=t.expanded.length===1;return!!(C&&!t.allowZeroExpanded&&B)}),ls(this,"isItemExpanded",function(g){return t.expanded.indexOf(g)!==-1}),ls(this,"getPanelAttributes",function(g,C){var B=C??t.isItemExpanded(g);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!B:void 0,"aria-labelledby":t.getButtonId(g),id:t.getPanelId(g),hidden:B?void 0:!0}}),ls(this,"getHeadingAttributes",function(){return{role:"heading"}}),ls(this,"getButtonAttributes",function(g,C){var B=C??t.isItemExpanded(g),k=t.isItemDisabled(g);return{id:t.getButtonId(g),"aria-disabled":k,"aria-expanded":B,"aria-controls":t.getPanelId(g),role:"button",tabIndex:0}}),ls(this,"getPanelId",function(g){return"accordion__panel-".concat(g)}),ls(this,"getButtonId",function(g){return"accordion__heading-".concat(g)}),ls(this,"augment",function(g){return new e(YE({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},g))}),this.expanded=i,this.allowMultipleExpanded=s,this.allowZeroExpanded=h},jW=Sr.createContext(null),WW=function(e){v8(t,e);var n=_8(t);function t(){var r;D5(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ls(ah(r),"state",new rme({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),ls(ah(r),"toggleExpanded",function(a){r.setState(function(h){return h.toggleExpanded(a)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),ls(ah(r),"isItemDisabled",function(a){return r.state.isItemDisabled(a)}),ls(ah(r),"isItemExpanded",function(a){return r.state.isItemExpanded(a)}),ls(ah(r),"getPanelAttributes",function(a,h){return r.state.getPanelAttributes(a,h)}),ls(ah(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),ls(ah(r),"getButtonAttributes",function(a,h){return r.state.getButtonAttributes(a,h)}),r}return y8(t,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,s=i.allowMultipleExpanded;return Sr.createElement(jW.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(Sr.PureComponent);ls(WW,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var NW=function(e){v8(t,e);var n=_8(t);function t(){var r;D5(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ls(ah(r),"renderChildren",function(a){return a?r.props.children(a):null}),r}return y8(t,[{key:"render",value:function(){return Sr.createElement(jW.Consumer,null,this.renderChildren)}}]),t}(Sr.PureComponent),ime=function(n){var t=n.className,r=t===void 0?"accordion":t,i=n.allowMultipleExpanded,o=n.allowZeroExpanded,s=n.onChange,a=n.preExpanded,h=L5(n,["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"]);return Sr.createElement(WW,{preExpanded:a,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:s},Sr.createElement("div",xf({"data-accordion-component":"Accordion",className:r},h)))},HE;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(HE||(HE={}));var GW=HE,ome=0,eS=ome;function ame(){var e=eS;return eS=eS+1,"raa-".concat(e)}var sme=/[\u0009\u000a\u000c\u000d\u0020]/g;function SC(e){return e===""||sme.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var QW=Sr.createContext(null),lme=function(n){var t=n.children,r=n.uuid,i=n.accordionContext,o=n.dangerouslySetExpanded,s=function(){i.toggleExpanded(r)},a=function(g){var C=o??g.isItemExpanded(r),B=g.isItemDisabled(r),k=g.getPanelAttributes(r,o),P=g.getHeadingAttributes(r),U=g.getButtonAttributes(r,o);return Sr.createElement(QW.Provider,{value:{uuid:r,expanded:C,disabled:B,toggleExpanded:s,panelAttributes:k,headingAttributes:P,buttonAttributes:U}},t)};return Sr.createElement(NW,null,a)},ume=function(n){return Sr.createElement(NW,null,function(t){return Sr.createElement(lme,xf({},n,{accordionContext:t}))})},U5=function(n){var t=n.children,r=function(o){return o?t(o):null};return Sr.createElement(QW.Consumer,null,r)},$W=function(n){var t=n.uuid,r=n.dangerouslySetExpanded,i=n.className,o=i===void 0?"accordion__item":i,s=n.activeClassName,a=L5(n,["uuid","dangerouslySetExpanded","className","activeClassName"]),h=Sr.useState(ame()),g=Vpe(h,1),C=g[0],B=t??C,k=function(U){var Z=U.expanded,W=Z&&s?s:o;return Sr.createElement("div",xf({"data-accordion-component":"AccordionItem",className:W},a))};return SC(B.toString()),a.id&&SC(a.id),Sr.createElement(ume,{uuid:B,dangerouslySetExpanded:r},Sr.createElement(U5,null,k))};$W.displayName=GW.AccordionItem;function YW(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:YW(e.parentElement))}function R5(e){var n=YW(e);return n&&Array.from(n.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Ame(e){var n=R5(e)||[],t=n[0];t&&t.focus()}function cme(e){var n=R5(e)||[],t=n[n.length-1];t&&t.focus()}function dme(e){var n=R5(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t+1];r&&r.focus()}}function hme(e){var n=R5(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t-1];r&&r.focus()}}var np={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},fme=function(n){var t=n.toggleExpanded,r=n.className,i=r===void 0?"accordion__button":r,o=L5(n,["toggleExpanded","className"]),s=function(h){var g=h.key;if((g===np.ENTER||g===np.SPACE||g===np.SPACE_DEPRECATED)&&(h.preventDefault(),t()),h.target instanceof HTMLElement)switch(g){case np.HOME:{h.preventDefault(),Ame(h.target);break}case np.END:{h.preventDefault(),cme(h.target);break}case np.LEFT:case np.UP:{h.preventDefault(),hme(h.target);break}case np.RIGHT:case np.DOWN:{h.preventDefault(),dme(h.target);break}}};return o.id&&SC(o.id),Sr.createElement("div",xf({className:i},o,{role:"button",tabIndex:0,onClick:t,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},pme=function(n){return Sr.createElement(U5,null,function(t){var r=t.toggleExpanded,i=t.buttonAttributes;return Sr.createElement(fme,xf({toggleExpanded:r},n,i))})},mme={className:"accordion__heading","aria-level":3},gme=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,qW=function(e){v8(t,e);var n=_8(t);function t(){var r;D5(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ls(ah(r),"ref",void 0),ls(ah(r),"setRef",function(a){r.ref=a}),r}return y8(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return Sr.createElement("div",xf({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(gme)}}]),t}(Sr.PureComponent);ls(qW,"defaultProps",mme);var VW=function(n){return Sr.createElement(U5,null,function(t){var r=t.headingAttributes;return n.id&&SC(n.id),Sr.createElement(qW,xf({},n,r))})};VW.displayName=GW.AccordionItemHeading;var yme=function(n){var t=n.className,r=t===void 0?"accordion__panel":t,i=n.region,o=n.id,s=L5(n,["className","region","id"]),a=function(g){var C=g.panelAttributes;o&&SC(o);var B=YE(YE({},C),{},{"aria-labelledby":i?C["aria-labelledby"]:void 0});return Sr.createElement("div",xf({"data-accordion-component":"AccordionItemPanel",className:r},s,B,{role:i?"region":void 0}))};return Sr.createElement(U5,null,a)},tS={exports:{}},dK;function z5(){return dK||(dK=1,function(e,n){(function(t,r){e.exports=r()})(ch,function(){var t=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),h=o||s||a,g=h&&(o?document.documentMode||6:+(a||s)[1]),C=!a&&/WebKit\//.test(t),B=C&&/Qt\/\d+\.\d+/.test(t),k=!a&&/Chrome\/(\d+)/.exec(t),P=k&&+k[1],U=/Opera\//.test(t),Z=/Apple Computer/.test(navigator.vendor),W=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),Q=/PhantomJS/.test(t),q=Z&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),oe=/Android/.test(t),re=q||oe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),Ae=q||/Mac/.test(r),ae=/\bCrOS\b/.test(t),se=/win/i.test(r),ye=U&&t.match(/Version\/(\d*\.\d*)/);ye&&(ye=Number(ye[1])),ye&&ye>=15&&(U=!1,C=!0);var De=Ae&&(B||U&&(ye==null||ye<12.11)),Ne=i||h&&g>=9;function et(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var ft=function(A,f){var x=A.className,b=et(f).exec(x);if(b){var E=x.slice(b.index+b[0].length);A.className=x.slice(0,b.index)+(E?b[1]+E:"")}};function Ke(A){for(var f=A.childNodes.length;f>0;--f)A.removeChild(A.firstChild);return A}function rt(A,f){return Ke(A).appendChild(f)}function _e(A,f,x,b){var E=document.createElement(A);if(x&&(E.className=x),b&&(E.style.cssText=b),typeof f=="string")E.appendChild(document.createTextNode(f));else if(f)for(var L=0;L<f.length;++L)E.appendChild(f[L]);return E}function Ut(A,f,x,b){var E=_e(A,f,x,b);return E.setAttribute("role","presentation"),E}var jt;document.createRange?jt=function(A,f,x,b){var E=document.createRange();return E.setEnd(b||A,x),E.setStart(A,f),E}:jt=function(A,f,x){var b=document.body.createTextRange();try{b.moveToElementText(A.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",x),b.moveStart("character",f),b};function nn(A,f){if(f.nodeType==3&&(f=f.parentNode),A.contains)return A.contains(f);do if(f.nodeType==11&&(f=f.host),f==A)return!0;while(f=f.parentNode)}function Qt(A){var f=A.ownerDocument||A,x;try{x=A.activeElement}catch{x=f.body||null}for(;x&&x.shadowRoot&&x.shadowRoot.activeElement;)x=x.shadowRoot.activeElement;return x}function He(A,f){var x=A.className;et(f).test(x)||(A.className+=(x?" ":"")+f)}function Je(A,f){for(var x=A.split(" "),b=0;b<x.length;b++)x[b]&&!et(x[b]).test(f)&&(f+=" "+x[b]);return f}var tt=function(A){A.select()};q?tt=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:h&&(tt=function(A){try{A.select()}catch{}});function on(A){return A.display.wrapper.ownerDocument}function mt(A){return dt(A.display.wrapper)}function dt(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function kt(A){return on(A).defaultView}function Pt(A){var f=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,f)}}function Me(A,f,x){f||(f={});for(var b in A)A.hasOwnProperty(b)&&(x!==!1||!f.hasOwnProperty(b))&&(f[b]=A[b]);return f}function he(A,f,x,b,E){f==null&&(f=A.search(/[^\s\u00a0]/),f==-1&&(f=A.length));for(var L=b||0,$=E||0;;){var J=A.indexOf("	",L);if(J<0||J>=f)return $+(f-L);$+=J-L,$+=x-$%x,L=J+1}}var be=function(){this.id=null,this.f=null,this.time=0,this.handler=Pt(this.onTimeout,this)};be.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},be.prototype.set=function(A,f){this.f=f;var x=+new Date+A;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=x)};function Pe(A,f){for(var x=0;x<A.length;++x)if(A[x]==f)return x;return-1}var Ze=50,nt={toString:function(){return"CodeMirror.Pass"}},xt={scroll:!1},Ft={origin:"*mouse"},Dt={origin:"+move"};function pt(A,f,x){for(var b=0,E=0;;){var L=A.indexOf("	",b);L==-1&&(L=A.length);var $=L-b;if(L==A.length||E+$>=f)return b+Math.min($,f-E);if(E+=L-b,E+=x-E%x,b=L+1,E>=f)return b}}var nr=[""];function pn(A){for(;nr.length<=A;)nr.push(bn(nr)+" ");return nr[A]}function bn(A){return A[A.length-1]}function Jn(A,f){for(var x=[],b=0;b<A.length;b++)x[b]=f(A[b],b);return x}function mr(A,f,x){for(var b=0,E=x(f);b<A.length&&x(A[b])<=E;)b++;A.splice(b,0,f)}function xr(){}function Nr(A,f){var x;return Object.create?x=Object.create(A):(xr.prototype=A,x=new xr),f&&Me(f,x),x}var _r=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function fi(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||_r.test(A))}function we(A,f){return f?f.source.indexOf("\\w")>-1&&fi(A)?!0:f.test(A):fi(A)}function H(A){for(var f in A)if(A.hasOwnProperty(f)&&A[f])return!1;return!0}var Y=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Be(A){return A.charCodeAt(0)>=768&&Y.test(A)}function st(A,f,x){for(;(x<0?f>0:f<A.length)&&Be(A.charAt(f));)f+=x;return f}function St(A,f,x){for(var b=f>x?-1:1;;){if(f==x)return f;var E=(f+x)/2,L=b<0?Math.ceil(E):Math.floor(E);if(L==f)return A(L)?f:x;A(L)?x=L:f=L+b}}function Et(A,f,x,b){if(!A)return b(f,x,"ltr",0);for(var E=!1,L=0;L<A.length;++L){var $=A[L];($.from<x&&$.to>f||f==x&&$.to==f)&&(b(Math.max($.from,f),Math.min($.to,x),$.level==1?"rtl":"ltr",L),E=!0)}E||b(f,x,"ltr")}var Nt=null;function mn(A,f,x){var b;Nt=null;for(var E=0;E<A.length;++E){var L=A[E];if(L.from<f&&L.to>f)return E;L.to==f&&(L.from!=L.to&&x=="before"?b=E:Nt=E),L.from==f&&(L.from!=L.to&&x!="before"?b=E:Nt=E)}return b??Nt}var Kn=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function x(pe){return pe<=247?A.charAt(pe):1424<=pe&&pe<=1524?"R":1536<=pe&&pe<=1785?f.charAt(pe-1536):1774<=pe&&pe<=2220?"r":8192<=pe&&pe<=8203?"w":pe==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,E=/[stwN]/,L=/[LRr]/,$=/[Lb1n]/,J=/[1n]/;function le(pe,We,qe){this.level=pe,this.from=We,this.to=qe}return function(pe,We){var qe=We=="ltr"?"L":"R";if(pe.length==0||We=="ltr"&&!b.test(pe))return!1;for(var wt=pe.length,gt=[],Lt=0;Lt<wt;++Lt)gt.push(x(pe.charCodeAt(Lt)));for(var dn=0,Bn=qe;dn<wt;++dn){var Gn=gt[dn];Gn=="m"?gt[dn]=Bn:Bn=Gn}for(var _n=0,Fn=qe;_n<wt;++_n){var ar=gt[_n];ar=="1"&&Fn=="r"?gt[_n]="n":L.test(ar)&&(Fn=ar,ar=="r"&&(gt[_n]="R"))}for(var Or=1,yr=gt[0];Or<wt-1;++Or){var ii=gt[Or];ii=="+"&&yr=="1"&&gt[Or+1]=="1"?gt[Or]="1":ii==","&&yr==gt[Or+1]&&(yr=="1"||yr=="n")&&(gt[Or]=yr),yr=ii}for(var ko=0;ko<wt;++ko){var La=gt[ko];if(La==",")gt[ko]="N";else if(La=="%"){var ca=void 0;for(ca=ko+1;ca<wt&&gt[ca]=="%";++ca);for(var Ea=ko&&gt[ko-1]=="!"||ca<wt&&gt[ca]=="1"?"1":"N",es=ko;es<ca;++es)gt[es]=Ea;ko=ca-1}}for(var ts=0,xl=qe;ts<wt;++ts){var Hs=gt[ts];xl=="L"&&Hs=="1"?gt[ts]="L":L.test(Hs)&&(xl=Hs)}for(var gs=0;gs<wt;++gs)if(E.test(gt[gs])){var ns=void 0;for(ns=gs+1;ns<wt&&E.test(gt[ns]);++ns);for(var na=(gs?gt[gs-1]:qe)=="L",ys=(ns<wt?gt[ns]:qe)=="L",Vd=na==ys?na?"L":"R":qe,zA=gs;zA<ns;++zA)gt[zA]=Vd;gs=ns-1}for(var Ps=[],jA,Fs=0;Fs<wt;)if($.test(gt[Fs])){var A0=Fs;for(++Fs;Fs<wt&&$.test(gt[Fs]);++Fs);Ps.push(new le(0,A0,Fs))}else{var AA=Fs,wc=Ps.length,Ua=We=="rtl"?1:0;for(++Fs;Fs<wt&&gt[Fs]!="L";++Fs);for(var Zs=AA;Zs<Fs;)if(J.test(gt[Zs])){AA<Zs&&(Ps.splice(wc,0,new le(1,AA,Zs)),wc+=Ua);var Hd=Zs;for(++Zs;Zs<Fs&&J.test(gt[Zs]);++Zs);Ps.splice(wc,0,new le(2,Hd,Zs)),wc+=Ua,AA=Zs}else++Zs;AA<Fs&&Ps.splice(wc,0,new le(1,AA,Fs))}return We=="ltr"&&(Ps[0].level==1&&(jA=pe.match(/^\s+/))&&(Ps[0].from=jA[0].length,Ps.unshift(new le(0,0,jA[0].length))),bn(Ps).level==1&&(jA=pe.match(/\s+$/))&&(bn(Ps).to-=jA[0].length,Ps.push(new le(0,wt-jA[0].length,wt)))),We=="rtl"?Ps.reverse():Ps}}();function En(A,f){var x=A.order;return x==null&&(x=A.order=Kn(A.text,f)),x}var m=[],Tt=function(A,f,x){if(A.addEventListener)A.addEventListener(f,x,!1);else if(A.attachEvent)A.attachEvent("on"+f,x);else{var b=A._handlers||(A._handlers={});b[f]=(b[f]||m).concat(x)}};function Lr(A,f){return A._handlers&&A._handlers[f]||m}function Wn(A,f,x){if(A.removeEventListener)A.removeEventListener(f,x,!1);else if(A.detachEvent)A.detachEvent("on"+f,x);else{var b=A._handlers,E=b&&b[f];if(E){var L=Pe(E,x);L>-1&&(b[f]=E.slice(0,L).concat(E.slice(L+1)))}}}function Te(A,f){var x=Lr(A,f);if(x.length)for(var b=Array.prototype.slice.call(arguments,2),E=0;E<x.length;++E)x[E].apply(null,b)}function de(A,f,x){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Te(A,x||f.type,A,f),ht(f)||f.codemirrorIgnore}function ve(A){var f=A._handlers&&A._handlers.cursorActivity;if(f)for(var x=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),b=0;b<f.length;++b)Pe(x,f[b])==-1&&x.push(f[b])}function Se(A,f){return Lr(A,f).length>0}function Ue(A){A.prototype.on=function(f,x){Tt(this,f,x)},A.prototype.off=function(f,x){Wn(this,f,x)}}function Xe(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function at(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function ht(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function Ve(A){Xe(A),at(A)}function Ct(A){return A.target||A.srcElement}function Zt(A){var f=A.which;return f==null&&(A.button&1?f=1:A.button&2?f=3:A.button&4&&(f=2)),Ae&&A.ctrlKey&&f==1&&(f=3),f}var Ht=function(){if(h&&g<9)return!1;var A=_e("div");return"draggable"in A||"dragDrop"in A}(),qt;function Vn(A){if(qt==null){var f=_e("span","");rt(A,_e("span",[f,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(qt=f.offsetWidth<=1&&f.offsetHeight>2&&!(h&&g<8))}var x=qt?_e("span",""):_e("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}var On;function ir(A){if(On!=null)return On;var f=rt(A,document.createTextNode("AA")),x=jt(f,0,1).getBoundingClientRect(),b=jt(f,1,2).getBoundingClientRect();return Ke(A),!x||x.left==x.right?!1:On=b.right-x.right<3}var or=`

b`.split(/\n/).length!=3?function(A){for(var f=0,x=[],b=A.length;f<=b;){var E=A.indexOf(`
`,f);E==-1&&(E=A.length);var L=A.slice(f,A.charAt(E-1)=="\r"?E-1:E),$=L.indexOf("\r");$!=-1?(x.push(L.slice(0,$)),f+=$+1):(x.push(L),f=E+1)}return x}:function(A){return A.split(/\r\n?|\n/)},Tr=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var f;try{f=A.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=A?!1:f.compareEndPoints("StartToEnd",f)!=0},Ur=function(){var A=_e("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),Dr=null;function Jr(A){if(Dr!=null)return Dr;var f=rt(A,_e("span","x")),x=f.getBoundingClientRect(),b=jt(f,0,1).getBoundingClientRect();return Dr=Math.abs(x.left-b.left)>1}var rr={},li={};function ki(A,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),rr[A]=f}function Xi(A,f){li[A]=f}function xo(A){if(typeof A=="string"&&li.hasOwnProperty(A))A=li[A];else if(A&&typeof A.name=="string"&&li.hasOwnProperty(A.name)){var f=li[A.name];typeof f=="string"&&(f={name:f}),A=Nr(f,A),A.name=f.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return xo("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return xo("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function pi(A,f){f=xo(f);var x=rr[f.name];if(!x)return pi(A,"text/plain");var b=x(A,f);if(Oo.hasOwnProperty(f.name)){var E=Oo[f.name];for(var L in E)E.hasOwnProperty(L)&&(b.hasOwnProperty(L)&&(b["_"+L]=b[L]),b[L]=E[L])}if(b.name=f.name,f.helperType&&(b.helperType=f.helperType),f.modeProps)for(var $ in f.modeProps)b[$]=f.modeProps[$];return b}var Oo={};function As(A,f){var x=Oo.hasOwnProperty(A)?Oo[A]:Oo[A]={};Me(f,x)}function Ia(A,f){if(f===!0)return f;if(A.copyState)return A.copyState(f);var x={};for(var b in f){var E=f[b];E instanceof Array&&(E=E.concat([])),x[b]=E}return x}function _i(A,f){for(var x;A.innerMode&&(x=A.innerMode(f),!(!x||x.mode==A));)f=x.state,A=x.mode;return x||{mode:A,state:f}}function Ss(A,f,x){return A.startState?A.startState(f,x):!0}var Si=function(A,f,x){this.pos=this.start=0,this.string=A,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};Si.prototype.eol=function(){return this.pos>=this.string.length},Si.prototype.sol=function(){return this.pos==this.lineStart},Si.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Si.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Si.prototype.eat=function(A){var f=this.string.charAt(this.pos),x;if(typeof A=="string"?x=f==A:x=f&&(A.test?A.test(f):A(f)),x)return++this.pos,f},Si.prototype.eatWhile=function(A){for(var f=this.pos;this.eat(A););return this.pos>f},Si.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},Si.prototype.skipToEnd=function(){this.pos=this.string.length},Si.prototype.skipTo=function(A){var f=this.string.indexOf(A,this.pos);if(f>-1)return this.pos=f,!0},Si.prototype.backUp=function(A){this.pos-=A},Si.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=he(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Si.prototype.indentation=function(){return he(this.string,null,this.tabSize)-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Si.prototype.match=function(A,f,x){if(typeof A=="string"){var b=function($){return x?$.toLowerCase():$},E=this.string.substr(this.pos,A.length);if(b(E)==b(A))return f!==!1&&(this.pos+=A.length),!0}else{var L=this.string.slice(this.pos).match(A);return L&&L.index>0?null:(L&&f!==!1&&(this.pos+=L[0].length),L)}},Si.prototype.current=function(){return this.string.slice(this.start,this.pos)},Si.prototype.hideFirstChars=function(A,f){this.lineStart+=A;try{return f()}finally{this.lineStart-=A}},Si.prototype.lookAhead=function(A){var f=this.lineOracle;return f&&f.lookAhead(A)},Si.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function Qn(A,f){if(f-=A.first,f<0||f>=A.size)throw new Error("There is no line "+(f+A.first)+" in the document.");for(var x=A;!x.lines;)for(var b=0;;++b){var E=x.children[b],L=E.chunkSize();if(f<L){x=E;break}f-=L}return x.lines[f]}function so(A,f,x){var b=[],E=f.line;return A.iter(f.line,x.line+1,function(L){var $=L.text;E==x.line&&($=$.slice(0,x.ch)),E==f.line&&($=$.slice(f.ch)),b.push($),++E}),b}function No(A,f,x){var b=[];return A.iter(f,x,function(E){b.push(E.text)}),b}function Ji(A,f){var x=f-A.height;if(x)for(var b=A;b;b=b.parent)b.height+=x}function ge(A){if(A.parent==null)return null;for(var f=A.parent,x=Pe(f.lines,A),b=f.parent;b;f=b,b=b.parent)for(var E=0;b.children[E]!=f;++E)x+=b.children[E].chunkSize();return x+f.first}function $e(A,f){var x=A.first;e:do{for(var b=0;b<A.children.length;++b){var E=A.children[b],L=E.height;if(f<L){A=E;continue e}f-=L,x+=E.chunkSize()}return x}while(!A.lines);for(var $=0;$<A.lines.length;++$){var J=A.lines[$],le=J.height;if(f<le)break;f-=le}return x+$}function Xt(A,f){return f>=A.first&&f<A.first+A.size}function ln(A,f){return String(A.lineNumberFormatter(f+A.firstLineNumber))}function Kt(A,f,x){if(x===void 0&&(x=null),!(this instanceof Kt))return new Kt(A,f,x);this.line=A,this.ch=f,this.sticky=x}function Mn(A,f){return A.line-f.line||A.ch-f.ch}function cr(A,f){return A.sticky==f.sticky&&Mn(A,f)==0}function Ii(A){return Kt(A.line,A.ch)}function ri(A,f){return Mn(A,f)<0?f:A}function ya(A,f){return Mn(A,f)<0?A:f}function qa(A,f){return Math.max(A.first,Math.min(f,A.first+A.size-1))}function Br(A,f){if(f.line<A.first)return Kt(A.first,0);var x=A.first+A.size-1;return f.line>x?Kt(x,Qn(A,x).text.length):mi(f,Qn(A,f.line).text.length)}function mi(A,f){var x=A.ch;return x==null||x>f?Kt(A.line,f):x<0?Kt(A.line,0):A}function il(A,f){for(var x=[],b=0;b<f.length;b++)x[b]=Br(A,f[b]);return x}var Va=function(A,f){this.state=A,this.lookAhead=f},xa=function(A,f,x,b){this.state=f,this.doc=A,this.line=x,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};xa.prototype.lookAhead=function(A){var f=this.doc.getLine(this.line+A);return f!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),f},xa.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},xa.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},xa.fromSaved=function(A,f,x){return f instanceof Va?new xa(A,Ia(A.mode,f.state),x,f.lookAhead):new xa(A,Ia(A.mode,f),x)},xa.prototype.save=function(A){var f=A!==!1?Ia(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Va(f,this.maxLookAhead):f};function Bu(A,f,x,b){var E=[A.state.modeGen],L={};MA(A,f.text,A.doc.mode,x,function(pe,We){return E.push(pe,We)},L,b);for(var $=x.state,J=function(pe){x.baseTokens=E;var We=A.state.overlays[pe],qe=1,wt=0;x.state=!0,MA(A,f.text,We.mode,x,function(gt,Lt){for(var dn=qe;wt<gt;){var Bn=E[qe];Bn>gt&&E.splice(qe,1,gt,E[qe+1],Bn),qe+=2,wt=Math.min(gt,Bn)}if(Lt)if(We.opaque)E.splice(dn,qe-dn,gt,"overlay "+Lt),qe=dn+2;else for(;dn<qe;dn+=2){var Gn=E[dn+1];E[dn+1]=(Gn?Gn+" ":"")+"overlay "+Lt}},L),x.state=$,x.baseTokens=null,x.baseTokenPos=1},le=0;le<A.state.overlays.length;++le)J(le);return{styles:E,classes:L.bgClass||L.textClass?L:null}}function Ns(A,f,x){if(!f.styles||f.styles[0]!=A.state.modeGen){var b=Ha(A,ge(f)),E=f.text.length>A.options.maxHighlightLength&&Ia(A.doc.mode,b.state),L=Bu(A,f,b);E&&(b.state=E),f.stateAfter=b.save(!E),f.styles=L.styles,L.classes?f.styleClasses=L.classes:f.styleClasses&&(f.styleClasses=null),x===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return f.styles}function Ha(A,f,x){var b=A.doc,E=A.display;if(!b.mode.startState)return new xa(b,!0,f);var L=tA(A,f,x),$=L>b.first&&Qn(b,L-1).stateAfter,J=$?xa.fromSaved(b,$,L):new xa(b,Ss(b.mode),L);return b.iter(L,f,function(le){Za(A,le.text,J);var pe=J.line;le.stateAfter=pe==f-1||pe%5==0||pe>=E.viewFrom&&pe<E.viewTo?J.save():null,J.nextLine()}),x&&(b.modeFrontier=J.line),J}function Za(A,f,x,b){var E=A.doc.mode,L=new Si(f,A.options.tabSize,x);for(L.start=L.pos=b||0,f==""&&Gs(E,x.state);!L.eol();)xA(E,L,x.state),L.start=L.pos}function Gs(A,f){if(A.blankLine)return A.blankLine(f);if(A.innerMode){var x=_i(A,f);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function xA(A,f,x,b){for(var E=0;E<10;E++){b&&(b[0]=_i(A,x).mode);var L=A.token(f,x);if(f.pos>f.start)return L}throw new Error("Mode "+A.name+" failed to advance stream.")}var pl=function(A,f,x){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=f||null,this.state=x};function ic(A,f,x,b){var E=A.doc,L=E.mode,$;f=Br(E,f);var J=Qn(E,f.line),le=Ha(A,f.line,x),pe=new Si(J.text,A.options.tabSize,le),We;for(b&&(We=[]);(b||pe.pos<f.ch)&&!pe.eol();)pe.start=pe.pos,$=xA(L,pe,le.state),b&&We.push(new pl(pe,$,Ia(E.mode,le.state)));return b?We:new pl(pe,$,le.state)}function wA(A,f){if(A)for(;;){var x=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;A=A.slice(0,x.index)+A.slice(x.index+x[0].length);var b=x[1]?"bgClass":"textClass";f[b]==null?f[b]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(f[b])||(f[b]+=" "+x[2])}return A}function MA(A,f,x,b,E,L,$){var J=x.flattenSpans;J==null&&(J=A.options.flattenSpans);var le=0,pe=null,We=new Si(f,A.options.tabSize,b),qe,wt=A.options.addModeClass&&[null];for(f==""&&wA(Gs(x,b.state),L);!We.eol();){if(We.pos>A.options.maxHighlightLength?(J=!1,$&&Za(A,f,b,We.pos),We.pos=f.length,qe=null):qe=wA(xA(x,We,b.state,wt),L),wt){var gt=wt[0].name;gt&&(qe="m-"+(qe?gt+" "+qe:gt))}if(!J||pe!=qe){for(;le<We.start;)le=Math.min(We.start,le+5e3),E(le,pe);pe=qe}We.start=We.pos}for(;le<We.pos;){var Lt=Math.min(We.pos,le+5e3);E(Lt,pe),le=Lt}}function tA(A,f,x){for(var b,E,L=A.doc,$=x?-1:f-(A.doc.mode.innerMode?1e3:100),J=f;J>$;--J){if(J<=L.first)return L.first;var le=Qn(L,J-1),pe=le.stateAfter;if(pe&&(!x||J+(pe instanceof Va?pe.lookAhead:0)<=L.modeFrontier))return J;var We=he(le.text,null,A.options.tabSize);(E==null||b>We)&&(E=J-1,b=We)}return E}function oc(A,f){if(A.modeFrontier=Math.min(A.modeFrontier,f),!(A.highlightFrontier<f-10)){for(var x=A.first,b=f-1;b>x;b--){var E=Qn(A,b).stateAfter;if(E&&(!(E instanceof Va)||b+E.lookAhead<f)){x=b+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,x)}}var Xa=!1,Es=!1;function SA(){Xa=!0}function ml(){Es=!0}function Il(A,f,x){this.marker=A,this.from=f,this.to=x}function Ho(A,f){if(A)for(var x=0;x<A.length;++x){var b=A[x];if(b.marker==f)return b}}function nA(A,f){for(var x,b=0;b<A.length;++b)A[b]!=f&&(x||(x=[])).push(A[b]);return x}function uu(A,f,x){var b=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));b&&A.markedSpans&&b.has(A.markedSpans)?A.markedSpans.push(f):(A.markedSpans=A.markedSpans?A.markedSpans.concat([f]):[f],b&&b.add(A.markedSpans)),f.marker.attachLine(A)}function Au(A,f,x){var b;if(A)for(var E=0;E<A.length;++E){var L=A[E],$=L.marker,J=L.from==null||($.inclusiveLeft?L.from<=f:L.from<f);if(J||L.from==f&&$.type=="bookmark"&&(!x||!L.marker.insertLeft)){var le=L.to==null||($.inclusiveRight?L.to>=f:L.to>f);(b||(b=[])).push(new Il($,L.from,le?null:L.to))}}return b}function ku(A,f,x){var b;if(A)for(var E=0;E<A.length;++E){var L=A[E],$=L.marker,J=L.to==null||($.inclusiveRight?L.to>=f:L.to>f);if(J||L.from==f&&$.type=="bookmark"&&(!x||L.marker.insertLeft)){var le=L.from==null||($.inclusiveLeft?L.from<=f:L.from<f);(b||(b=[])).push(new Il($,le?null:L.from-f,L.to==null?null:L.to-f))}}return b}function cs(A,f){if(f.full)return null;var x=Xt(A,f.from.line)&&Qn(A,f.from.line).markedSpans,b=Xt(A,f.to.line)&&Qn(A,f.to.line).markedSpans;if(!x&&!b)return null;var E=f.from.ch,L=f.to.ch,$=Mn(f.from,f.to)==0,J=Au(x,E,$),le=ku(b,L,$),pe=f.text.length==1,We=bn(f.text).length+(pe?E:0);if(J)for(var qe=0;qe<J.length;++qe){var wt=J[qe];if(wt.to==null){var gt=Ho(le,wt.marker);gt?pe&&(wt.to=gt.to==null?null:gt.to+We):wt.to=E}}if(le)for(var Lt=0;Lt<le.length;++Lt){var dn=le[Lt];if(dn.to!=null&&(dn.to+=We),dn.from==null){var Bn=Ho(J,dn.marker);Bn||(dn.from=We,pe&&(J||(J=[])).push(dn))}else dn.from+=We,pe&&(J||(J=[])).push(dn)}J&&(J=cu(J)),le&&le!=J&&(le=cu(le));var Gn=[J];if(!pe){var _n=f.text.length-2,Fn;if(_n>0&&J)for(var ar=0;ar<J.length;++ar)J[ar].to==null&&(Fn||(Fn=[])).push(new Il(J[ar].marker,null,null));for(var Or=0;Or<_n;++Or)Gn.push(Fn);Gn.push(le)}return Gn}function cu(A){for(var f=0;f<A.length;++f){var x=A[f];x.from!=null&&x.from==x.to&&x.marker.clearWhenEmpty!==!1&&A.splice(f--,1)}return A.length?A:null}function ac(A,f,x){var b=null;if(A.iter(f.line,x.line+1,function(gt){if(gt.markedSpans)for(var Lt=0;Lt<gt.markedSpans.length;++Lt){var dn=gt.markedSpans[Lt].marker;dn.readOnly&&(!b||Pe(b,dn)==-1)&&(b||(b=[])).push(dn)}}),!b)return null;for(var E=[{from:f,to:x}],L=0;L<b.length;++L)for(var $=b[L],J=$.find(0),le=0;le<E.length;++le){var pe=E[le];if(!(Mn(pe.to,J.from)<0||Mn(pe.from,J.to)>0)){var We=[le,1],qe=Mn(pe.from,J.from),wt=Mn(pe.to,J.to);(qe<0||!$.inclusiveLeft&&!qe)&&We.push({from:pe.from,to:J.from}),(wt>0||!$.inclusiveRight&&!wt)&&We.push({from:J.to,to:pe.to}),E.splice.apply(E,We),le+=We.length-3}}return E}function mo(A){var f=A.markedSpans;if(f){for(var x=0;x<f.length;++x)f[x].marker.detachLine(A);A.markedSpans=null}}function Ao(A,f){if(f){for(var x=0;x<f.length;++x)f[x].marker.attachLine(A);A.markedSpans=f}}function ne(A){return A.inclusiveLeft?-1:0}function Ie(A){return A.inclusiveRight?1:0}function At(A,f){var x=A.lines.length-f.lines.length;if(x!=0)return x;var b=A.find(),E=f.find(),L=Mn(b.from,E.from)||ne(A)-ne(f);if(L)return-L;var $=Mn(b.to,E.to)||Ie(A)-Ie(f);return $||f.id-A.id}function Yt(A,f){var x=Es&&A.markedSpans,b;if(x)for(var E=void 0,L=0;L<x.length;++L)E=x[L],E.marker.collapsed&&(f?E.from:E.to)==null&&(!b||At(b,E.marker)<0)&&(b=E.marker);return b}function wr(A){return Yt(A,!0)}function Tn(A){return Yt(A,!1)}function Ci(A,f){var x=Es&&A.markedSpans,b;if(x)for(var E=0;E<x.length;++E){var L=x[E];L.marker.collapsed&&(L.from==null||L.from<f)&&(L.to==null||L.to>f)&&(!b||At(b,L.marker)<0)&&(b=L.marker)}return b}function Ti(A,f,x,b,E){var L=Qn(A,f),$=Es&&L.markedSpans;if($)for(var J=0;J<$.length;++J){var le=$[J];if(le.marker.collapsed){var pe=le.marker.find(0),We=Mn(pe.from,x)||ne(le.marker)-ne(E),qe=Mn(pe.to,b)||Ie(le.marker)-Ie(E);if(!(We>=0&&qe<=0||We<=0&&qe>=0)&&(We<=0&&(le.marker.inclusiveRight&&E.inclusiveLeft?Mn(pe.to,x)>=0:Mn(pe.to,x)>0)||We>=0&&(le.marker.inclusiveRight&&E.inclusiveLeft?Mn(pe.from,b)<=0:Mn(pe.from,b)<0)))return!0}}}function Yr(A){for(var f;f=wr(A);)A=f.find(-1,!0).line;return A}function Gi(A){for(var f;f=Tn(A);)A=f.find(1,!0).line;return A}function Po(A){for(var f,x;f=Tn(A);)A=f.find(1,!0).line,(x||(x=[])).push(A);return x}function wa(A,f){var x=Qn(A,f),b=Yr(x);return x==b?f:ge(b)}function zo(A,f){if(f>A.lastLine())return f;var x=Qn(A,f),b;if(!Ki(A,x))return f;for(;b=Tn(x);)x=b.find(1,!0).line;return ge(x)+1}function Ki(A,f){var x=Es&&f.markedSpans;if(x){for(var b=void 0,E=0;E<x.length;++E)if(b=x[E],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&aa(A,f,b))return!0}}}function aa(A,f,x){if(x.to==null){var b=x.marker.find(1,!0);return aa(A,b.line,Ho(b.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==f.text.length)return!0;for(var E=void 0,L=0;L<f.markedSpans.length;++L)if(E=f.markedSpans[L],E.marker.collapsed&&!E.marker.widgetNode&&E.from==x.to&&(E.to==null||E.to!=x.from)&&(E.marker.inclusiveLeft||x.marker.inclusiveRight)&&aa(A,f,E))return!0}function Ta(A){A=Yr(A);for(var f=0,x=A.parent,b=0;b<x.lines.length;++b){var E=x.lines[b];if(E==A)break;f+=E.height}for(var L=x.parent;L;x=L,L=x.parent)for(var $=0;$<L.children.length;++$){var J=L.children[$];if(J==x)break;f+=J.height}return f}function Ka(A){if(A.height==0)return 0;for(var f=A.text.length,x,b=A;x=wr(b);){var E=x.find(0,!0);b=E.from.line,f+=E.from.ch-E.to.ch}for(b=A;x=Tn(b);){var L=x.find(0,!0);f-=b.text.length-L.from.ch,b=L.to.line,f+=b.text.length-L.to.ch}return f}function Ql(A){var f=A.display,x=A.doc;f.maxLine=Qn(x,x.first),f.maxLineLength=Ka(f.maxLine),f.maxLineChanged=!0,x.iter(function(b){var E=Ka(b);E>f.maxLineLength&&(f.maxLineLength=E,f.maxLine=b)})}var Iu=function(A,f,x){this.text=A,Ao(this,f),this.height=x?x(this):1};Iu.prototype.lineNo=function(){return ge(this)},Ue(Iu);function sc(A,f,x,b){A.text=f,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),mo(A),Ao(A,x);var E=b?b(A):1;E!=A.height&&Ji(A,E)}function ds(A){A.parent=null,mo(A)}var Hm={},$l={};function mh(A,f){if(!A||/^\s*$/.test(A))return null;var x=f.addModeClass?$l:Hm;return x[A]||(x[A]=A.replace(/\S+/g,"cm-$&"))}function Wc(A,f){var x=Ut("span",null,null,C?"padding-right: .1px":null),b={pre:Ut("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};f.measure={};for(var E=0;E<=(f.rest?f.rest.length:0);E++){var L=E?f.rest[E-1]:f.line,$=void 0;b.pos=0,b.addToken=Nc,ir(A.display.measure)&&($=En(L,A.doc.direction))&&(b.addToken=Go(b.addToken,$)),b.map=[];var J=f!=A.display.externalMeasured&&ge(L);Od(L,b,Ns(A,L,J)),L.styleClasses&&(L.styleClasses.bgClass&&(b.bgClass=Je(L.styleClasses.bgClass,b.bgClass||"")),L.styleClasses.textClass&&(b.textClass=Je(L.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(Vn(A.display.measure))),E==0?(f.measure.map=b.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(b.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(C){var le=b.content.lastChild;(/\bcm-tab\b/.test(le.className)||le.querySelector&&le.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return Te(A,"renderLine",A,f.line,b.pre),b.pre.className&&(b.textClass=Je(b.pre.className,b.textClass||"")),b}function Tu(A){var f=_e("span","","cm-invalidchar");return f.title="\\u"+A.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function Nc(A,f,x,b,E,L,$){if(f){var J=A.splitSpaces?EA(f,A.trailingSpace):f,le=A.cm.state.specialChars,pe=!1,We;if(!le.test(f))A.col+=f.length,We=document.createTextNode(J),A.map.push(A.pos,A.pos+f.length,We),h&&g<9&&(pe=!0),A.pos+=f.length;else{We=document.createDocumentFragment();for(var qe=0;;){le.lastIndex=qe;var wt=le.exec(f),gt=wt?wt.index-qe:f.length-qe;if(gt){var Lt=document.createTextNode(J.slice(qe,qe+gt));h&&g<9?We.appendChild(_e("span",[Lt])):We.appendChild(Lt),A.map.push(A.pos,A.pos+gt,Lt),A.col+=gt,A.pos+=gt}if(!wt)break;qe+=gt+1;var dn=void 0;if(wt[0]=="	"){var Bn=A.cm.options.tabSize,Gn=Bn-A.col%Bn;dn=We.appendChild(_e("span",pn(Gn),"cm-tab")),dn.setAttribute("role","presentation"),dn.setAttribute("cm-text","	"),A.col+=Gn}else wt[0]=="\r"||wt[0]==`
`?(dn=We.appendChild(_e("span",wt[0]=="\r"?"":"","cm-invalidchar")),dn.setAttribute("cm-text",wt[0]),A.col+=1):(dn=A.cm.options.specialCharPlaceholder(wt[0]),dn.setAttribute("cm-text",wt[0]),h&&g<9?We.appendChild(_e("span",[dn])):We.appendChild(dn),A.col+=1);A.map.push(A.pos,A.pos+1,dn),A.pos++}}if(A.trailingSpace=J.charCodeAt(f.length-1)==32,x||b||E||pe||L||$){var _n=x||"";b&&(_n+=b),E&&(_n+=E);var Fn=_e("span",[We],_n,L);if($)for(var ar in $)$.hasOwnProperty(ar)&&ar!="style"&&ar!="class"&&Fn.setAttribute(ar,$[ar]);return A.content.appendChild(Fn)}A.content.appendChild(We)}}function EA(A,f){if(A.length>1&&!/  /.test(A))return A;for(var x=f,b="",E=0;E<A.length;E++){var L=A.charAt(E);L==" "&&x&&(E==A.length-1||A.charCodeAt(E+1)==32)&&(L=""),b+=L,x=L==" "}return b}function Go(A,f){return function(x,b,E,L,$,J,le){E=E?E+" cm-force-border":"cm-force-border";for(var pe=x.pos,We=pe+b.length;;){for(var qe=void 0,wt=0;wt<f.length&&(qe=f[wt],!(qe.to>pe&&qe.from<=pe));wt++);if(qe.to>=We)return A(x,b,E,L,$,J,le);A(x,b.slice(0,qe.to-pe),E,L,null,J,le),L=null,b=b.slice(qe.to-pe),pe=qe.to}}}function Ku(A,f,x,b){var E=!b&&x.widgetNode;E&&A.map.push(A.pos,A.pos+f,E),!b&&A.cm.display.input.needsContentAttribute&&(E||(E=A.content.appendChild(document.createElement("span"))),E.setAttribute("cm-marker",x.id)),E&&(A.cm.display.input.setUneditable(E),A.content.appendChild(E)),A.pos+=f,A.trailingSpace=!1}function Od(A,f,x){var b=A.markedSpans,E=A.text,L=0;if(!b){for(var $=1;$<x.length;$+=2)f.addToken(f,E.slice(L,L=x[$]),mh(x[$+1],f.cm.options));return}for(var J=E.length,le=0,pe=1,We="",qe,wt,gt=0,Lt,dn,Bn,Gn,_n;;){if(gt==le){Lt=dn=Bn=wt="",_n=null,Gn=null,gt=1/0;for(var Fn=[],ar=void 0,Or=0;Or<b.length;++Or){var yr=b[Or],ii=yr.marker;if(ii.type=="bookmark"&&yr.from==le&&ii.widgetNode)Fn.push(ii);else if(yr.from<=le&&(yr.to==null||yr.to>le||ii.collapsed&&yr.to==le&&yr.from==le)){if(yr.to!=null&&yr.to!=le&&gt>yr.to&&(gt=yr.to,dn=""),ii.className&&(Lt+=" "+ii.className),ii.css&&(wt=(wt?wt+";":"")+ii.css),ii.startStyle&&yr.from==le&&(Bn+=" "+ii.startStyle),ii.endStyle&&yr.to==gt&&(ar||(ar=[])).push(ii.endStyle,yr.to),ii.title&&((_n||(_n={})).title=ii.title),ii.attributes)for(var ko in ii.attributes)(_n||(_n={}))[ko]=ii.attributes[ko];ii.collapsed&&(!Gn||At(Gn.marker,ii)<0)&&(Gn=yr)}else yr.from>le&&gt>yr.from&&(gt=yr.from)}if(ar)for(var La=0;La<ar.length;La+=2)ar[La+1]==gt&&(dn+=" "+ar[La]);if(!Gn||Gn.from==le)for(var ca=0;ca<Fn.length;++ca)Ku(f,0,Fn[ca]);if(Gn&&(Gn.from||0)==le){if(Ku(f,(Gn.to==null?J+1:Gn.to)-le,Gn.marker,Gn.from==null),Gn.to==null)return;Gn.to==le&&(Gn=!1)}}if(le>=J)break;for(var Ea=Math.min(J,gt);;){if(We){var es=le+We.length;if(!Gn){var ts=es>Ea?We.slice(0,Ea-le):We;f.addToken(f,ts,qe?qe+Lt:Lt,Bn,le+ts.length==gt?dn:"",wt,_n)}if(es>=Ea){We=We.slice(Ea-le),le=Ea;break}le=es,Bn=""}We=E.slice(L,L=x[pe++]),qe=mh(x[pe++],f.cm.options)}}}function OA(A,f,x){this.line=f,this.rest=Po(f),this.size=this.rest?ge(bn(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Ki(A,f)}function lc(A,f,x){for(var b=[],E,L=f;L<x;L=E){var $=new OA(A.doc,Qn(A.doc,L),L);E=L+$.size,b.push($)}return b}var du=null;function Gc(A){du?du.ops.push(A):A.ownsGroup=du={ops:[A],delayedCallbacks:[]}}function Tp(A){var f=A.delayedCallbacks,x=0;do{for(;x<f.length;x++)f[x].call(null);for(var b=0;b<A.ops.length;b++){var E=A.ops[b];if(E.cursorActivityHandlers)for(;E.cursorActivityCalled<E.cursorActivityHandlers.length;)E.cursorActivityHandlers[E.cursorActivityCalled++].call(null,E.cm)}}while(x<f.length)}function gh(A,f){var x=A.ownsGroup;if(x)try{Tp(x)}finally{du=null,f(x)}}var hi=null;function Fo(A,f){var x=Lr(A,f);if(x.length){var b=Array.prototype.slice.call(arguments,2),E;du?E=du.delayedCallbacks:hi?E=hi:(E=hi=[],setTimeout(Zm,0));for(var L=function(J){E.push(function(){return x[J].apply(null,b)})},$=0;$<x.length;++$)L($)}}function Zm(){var A=hi;hi=null;for(var f=0;f<A.length;++f)A[f]()}function yh(A,f,x,b){for(var E=0;E<f.changes.length;E++){var L=f.changes[E];L=="text"?Pi(A,f):L=="gutter"?wo(A,f,x,b):L=="class"?Bd(A,f):L=="widget"&&go(A,f,b)}f.changes=null}function Pu(A){return A.node==A.text&&(A.node=_e("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),h&&g<8&&(A.node.style.zIndex=2)),A.node}function sa(A,f){var x=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),f.background)x?f.background.className=x:(f.background.parentNode.removeChild(f.background),f.background=null);else if(x){var b=Pu(f);f.background=b.insertBefore(_e("div",null,x),b.firstChild),A.display.input.setUneditable(f.background)}}function vh(A,f){var x=A.display.externalMeasured;return x&&x.line==f.line?(A.display.externalMeasured=null,f.measure=x.measure,x.built):Wc(A,f)}function Pi(A,f){var x=f.text.className,b=vh(A,f);f.text==f.node&&(f.node=b.pre),f.text.parentNode.replaceChild(b.pre,f.text),f.text=b.pre,b.bgClass!=f.bgClass||b.textClass!=f.textClass?(f.bgClass=b.bgClass,f.textClass=b.textClass,Bd(A,f)):x&&(f.text.className=x)}function Bd(A,f){sa(A,f),f.line.wrapClass?Pu(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var x=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=x||""}function wo(A,f,x,b){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var E=Pu(f);f.gutterBackground=_e("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),A.display.input.setUneditable(f.gutterBackground),E.insertBefore(f.gutterBackground,f.text)}var L=f.line.gutterMarkers;if(A.options.lineNumbers||L){var $=Pu(f),J=f.gutter=_e("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(J.setAttribute("aria-hidden","true"),A.display.input.setUneditable(J),$.insertBefore(J,f.text),f.line.gutterClass&&(J.className+=" "+f.line.gutterClass),A.options.lineNumbers&&(!L||!L["CodeMirror-linenumbers"])&&(f.lineNumber=J.appendChild(_e("div",ln(A.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),L)for(var le=0;le<A.display.gutterSpecs.length;++le){var pe=A.display.gutterSpecs[le].className,We=L.hasOwnProperty(pe)&&L[pe];We&&J.appendChild(_e("div",[We],"CodeMirror-gutter-elt","left: "+b.gutterLeft[pe]+"px; width: "+b.gutterWidth[pe]+"px"))}}}function go(A,f,x){f.alignable&&(f.alignable=null);for(var b=et("CodeMirror-linewidget"),E=f.node.firstChild,L=void 0;E;E=L)L=E.nextSibling,b.test(E.className)&&f.node.removeChild(E);Qc(A,f,x)}function uc(A,f,x,b){var E=vh(A,f);return f.text=f.node=E.pre,E.bgClass&&(f.bgClass=E.bgClass),E.textClass&&(f.textClass=E.textClass),Bd(A,f),wo(A,f,x,b),Qc(A,f,b),f.node}function Qc(A,f,x){if(Qs(A,f.line,f,x,!0),f.rest)for(var b=0;b<f.rest.length;b++)Qs(A,f.rest[b],f,x,!1)}function Qs(A,f,x,b,E){if(f.widgets)for(var L=Pu(x),$=0,J=f.widgets;$<J.length;++$){var le=J[$],pe=_e("div",[le.node],"CodeMirror-linewidget"+(le.className?" "+le.className:""));le.handleMouseEvents||pe.setAttribute("cm-ignore-events","true"),_h(le,pe,x,b),A.display.input.setUneditable(pe),E&&le.above?L.insertBefore(pe,x.gutter||x.text):L.appendChild(pe),Fo(le,"redraw")}}function _h(A,f,x,b){if(A.noHScroll){(x.alignable||(x.alignable=[])).push(f);var E=b.wrapperWidth;f.style.left=b.fixedPos+"px",A.coverGutter||(E-=b.gutterTotalWidth,f.style.paddingLeft=b.gutterTotalWidth+"px"),f.style.width=E+"px"}A.coverGutter&&(f.style.zIndex=5,f.style.position="relative",A.noHScroll||(f.style.marginLeft=-b.gutterTotalWidth+"px"))}function Yl(A){if(A.height!=null)return A.height;var f=A.doc.cm;if(!f)return 0;if(!nn(document.body,A.node)){var x="position: relative;";A.coverGutter&&(x+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),A.noHScroll&&(x+="width: "+f.display.wrapper.clientWidth+"px;"),rt(f.display.measure,_e("div",[A.node],null,x))}return A.height=A.node.parentNode.offsetHeight}function Tl(A,f){for(var x=Ct(f);x!=A.wrapper;x=x.parentNode)if(!x||x.nodeType==1&&x.getAttribute("cm-ignore-events")=="true"||x.parentNode==A.sizer&&x!=A.mover)return!0}function BA(A){return A.lineSpace.offsetTop}function Ch(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function kd(A){if(A.cachedPaddingH)return A.cachedPaddingH;var f=rt(A.measure,_e("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,b={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(A.cachedPaddingH=b),b}function hu(A){return Ze-A.display.nativeBarWidth}function Fu(A){return A.display.scroller.clientWidth-hu(A)-A.display.barWidth}function $c(A){return A.display.scroller.clientHeight-hu(A)-A.display.barHeight}function kA(A,f,x){var b=A.options.lineWrapping,E=b&&Fu(A);if(!f.measure.heights||b&&f.measure.width!=E){var L=f.measure.heights=[];if(b){f.measure.width=E;for(var $=f.text.firstChild.getClientRects(),J=0;J<$.length-1;J++){var le=$[J],pe=$[J+1];Math.abs(le.bottom-pe.bottom)>2&&L.push((le.bottom+pe.top)/2-x.top)}}L.push(x.bottom-x.top)}}function If(A,f,x){if(A.line==f)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var b=0;b<A.rest.length;b++)if(A.rest[b]==f)return{map:A.measure.maps[b],cache:A.measure.caches[b]};for(var E=0;E<A.rest.length;E++)if(ge(A.rest[E])>x)return{map:A.measure.maps[E],cache:A.measure.caches[E],before:!0}}}function Kp(A,f){f=Yr(f);var x=ge(f),b=A.display.externalMeasured=new OA(A.doc,f,x);b.lineN=x;var E=b.built=Wc(A,b);return b.text=E.pre,rt(A.display.lineMeasure,E.pre),b}function Ac(A,f,x,b){return gl(A,Kl(A,f),x,b)}function Yc(A,f){if(f>=A.display.viewFrom&&f<A.display.viewTo)return A.display.view[TA(A,f)];var x=A.display.externalMeasured;if(x&&f>=x.lineN&&f<x.lineN+x.size)return x}function Kl(A,f){var x=ge(f),b=Yc(A,x);b&&!b.text?b=null:b&&b.changes&&(yh(A,b,x,Bs(A)),A.curOp.forceUpdate=!0),b||(b=Kp(A,f));var E=If(b,f,x);return{line:f,view:b,rect:null,map:E.map,cache:E.cache,before:E.before,hasHeights:!1}}function gl(A,f,x,b,E){f.before&&(x=-1);var L=x+(b||""),$;return f.cache.hasOwnProperty(L)?$=f.cache[L]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(kA(A,f.view,f.rect),f.hasHeights=!0),$=IA(A,f,x,b),$.bogus||(f.cache[L]=$)),{left:$.left,right:$.right,top:E?$.rtop:$.top,bottom:E?$.rbottom:$.bottom}}var Zo={left:0,right:0,top:0,bottom:0};function rA(A,f,x){for(var b,E,L,$,J,le,pe=0;pe<A.length;pe+=3)if(J=A[pe],le=A[pe+1],f<J?(E=0,L=1,$="left"):f<le?(E=f-J,L=E+1):(pe==A.length-3||f==le&&A[pe+3]>f)&&(L=le-J,E=L-1,f>=le&&($="right")),E!=null){if(b=A[pe+2],J==le&&x==(b.insertLeft?"left":"right")&&($=x),x=="left"&&E==0)for(;pe&&A[pe-2]==A[pe-3]&&A[pe-1].insertLeft;)b=A[(pe-=3)+2],$="left";if(x=="right"&&E==le-J)for(;pe<A.length-3&&A[pe+3]==A[pe+4]&&!A[pe+5].insertLeft;)b=A[(pe+=3)+2],$="right";break}return{node:b,start:E,end:L,collapse:$,coverStart:J,coverEnd:le}}function ol(A,f){var x=Zo;if(f=="left")for(var b=0;b<A.length&&(x=A[b]).left==x.right;b++);else for(var E=A.length-1;E>=0&&(x=A[E]).left==x.right;E--);return x}function IA(A,f,x,b){var E=rA(f.map,x,b),L=E.node,$=E.start,J=E.end,le=E.collapse,pe;if(L.nodeType==3){for(var We=0;We<4;We++){for(;$&&Be(f.line.text.charAt(E.coverStart+$));)--$;for(;E.coverStart+J<E.coverEnd&&Be(f.line.text.charAt(E.coverStart+J));)++J;if(h&&g<9&&$==0&&J==E.coverEnd-E.coverStart?pe=L.parentNode.getBoundingClientRect():pe=ol(jt(L,$,J).getClientRects(),b),pe.left||pe.right||$==0)break;J=$,$=$-1,le="right"}h&&g<11&&(pe=yl(A.display.measure,pe))}else{$>0&&(le=b="right");var qe;A.options.lineWrapping&&(qe=L.getClientRects()).length>1?pe=qe[b=="right"?qe.length-1:0]:pe=L.getBoundingClientRect()}if(h&&g<9&&!$&&(!pe||!pe.left&&!pe.right)){var wt=L.parentNode.getClientRects()[0];wt?pe={left:wt.left,right:wt.left+pu(A.display),top:wt.top,bottom:wt.bottom}:pe=Zo}for(var gt=pe.top-f.rect.top,Lt=pe.bottom-f.rect.top,dn=(gt+Lt)/2,Bn=f.view.measure.heights,Gn=0;Gn<Bn.length-1&&!(dn<Bn[Gn]);Gn++);var _n=Gn?Bn[Gn-1]:0,Fn=Bn[Gn],ar={left:(le=="right"?pe.right:pe.left)-f.rect.left,right:(le=="left"?pe.left:pe.right)-f.rect.left,top:_n,bottom:Fn};return!pe.left&&!pe.right&&(ar.bogus=!0),A.options.singleCursorHeightPerLine||(ar.rtop=gt,ar.rbottom=Lt),ar}function yl(A,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Jr(A))return f;var x=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*x,right:f.right*x,top:f.top*b,bottom:f.bottom*b}}function bh(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var f=0;f<A.rest.length;f++)A.measure.caches[f]={}}function iA(A){A.display.externalMeasure=null,Ke(A.display.lineMeasure);for(var f=0;f<A.display.view.length;f++)bh(A.display.view[f])}function ql(A){iA(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function cc(A){return k&&oe?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function Id(A){return k&&oe?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function Td(A){var f=Yr(A),x=f.widgets,b=0;if(x)for(var E=0;E<x.length;++E)x[E].above&&(b+=Yl(x[E]));return b}function fu(A,f,x,b,E){if(!E){var L=Td(f);x.top+=L,x.bottom+=L}if(b=="line")return x;b||(b="local");var $=Ta(f);if(b=="local"?$+=BA(A.display):$-=A.display.viewOffset,b=="page"||b=="window"){var J=A.display.lineSpace.getBoundingClientRect();$+=J.top+(b=="window"?0:Id(on(A)));var le=J.left+(b=="window"?0:cc(on(A)));x.left+=le,x.right+=le}return x.top+=$,x.bottom+=$,x}function bt(A,f,x){if(x=="div")return f;var b=f.left,E=f.top;if(x=="page")b-=cc(on(A)),E-=Id(on(A));else if(x=="local"||!x){var L=A.display.sizer.getBoundingClientRect();b+=L.left,E+=L.top}var $=A.display.lineSpace.getBoundingClientRect();return{left:b-$.left,top:E-$.top}}function an(A,f,x,b,E){return b||(b=Qn(A.doc,f.line)),fu(A,b,Ac(A,b,f.ch,E),x)}function Rt(A,f,x,b,E,L){b=b||Qn(A.doc,f.line),E||(E=Kl(A,b));function $(Lt,dn){var Bn=gl(A,E,Lt,dn?"right":"left",L);return dn?Bn.left=Bn.right:Bn.right=Bn.left,fu(A,b,Bn,x)}var J=En(b,A.doc.direction),le=f.ch,pe=f.sticky;if(le>=b.text.length?(le=b.text.length,pe="before"):le<=0&&(le=0,pe="after"),!J)return $(pe=="before"?le-1:le,pe=="before");function We(Lt,dn,Bn){var Gn=J[dn],_n=Gn.level==1;return $(Bn?Lt-1:Lt,_n!=Bn)}var qe=mn(J,le,pe),wt=Nt,gt=We(le,qe,pe=="before");return wt!=null&&(gt.other=We(le,wt,pe!="before")),gt}function dr(A,f){var x=0;f=Br(A.doc,f),A.options.lineWrapping||(x=pu(A.display)*f.ch);var b=Qn(A.doc,f.line),E=Ta(b)+BA(A.display);return{left:x,right:x,top:E,bottom:E+b.height}}function ei(A,f,x,b,E){var L=Kt(A,f,x);return L.xRel=E,b&&(L.outside=b),L}function eo(A,f,x){var b=A.doc;if(x+=A.display.viewOffset,x<0)return ei(b.first,0,null,-1,-1);var E=$e(b,x),L=b.first+b.size-1;if(E>L)return ei(b.first+b.size-1,Qn(b,L).text.length,null,1,1);f<0&&(f=0);for(var $=Qn(b,E);;){var J=qc(A,$,E,f,x),le=Ci($,J.ch+(J.xRel>0||J.outside>0?1:0));if(!le)return J;var pe=le.find(1);if(pe.line==E)return pe;$=Qn(b,E=pe.line)}}function Xo(A,f,x,b){b-=Td(f);var E=f.text.length,L=St(function($){return gl(A,x,$-1).bottom<=b},E,0);return E=St(function($){return gl(A,x,$).top>b},L,E),{begin:L,end:E}}function co(A,f,x,b){x||(x=Kl(A,f));var E=fu(A,f,gl(A,x,b),"line").top;return Xo(A,f,x,E)}function hs(A,f,x,b){return A.bottom<=x?!1:A.top>x?!0:(b?A.left:A.right)>f}function qc(A,f,x,b,E){E-=Ta(f);var L=Kl(A,f),$=Td(f),J=0,le=f.text.length,pe=!0,We=En(f,A.doc.direction);if(We){var qe=(A.options.lineWrapping?Kd:fs)(A,f,x,L,We,b,E);pe=qe.level!=1,J=pe?qe.from:qe.to-1,le=pe?qe.to:qe.from-1}var wt=null,gt=null,Lt=St(function(Or){var yr=gl(A,L,Or);return yr.top+=$,yr.bottom+=$,hs(yr,b,E,!1)?(yr.top<=E&&yr.left<=b&&(wt=Or,gt=yr),!0):!1},J,le),dn,Bn,Gn=!1;if(gt){var _n=b-gt.left<gt.right-b,Fn=_n==pe;Lt=wt+(Fn?0:1),Bn=Fn?"after":"before",dn=_n?gt.left:gt.right}else{!pe&&(Lt==le||Lt==J)&&Lt++,Bn=Lt==0?"after":Lt==f.text.length?"before":gl(A,L,Lt-(pe?1:0)).bottom+$<=E==pe?"after":"before";var ar=Rt(A,Kt(x,Lt,Bn),"line",f,L);dn=ar.left,Gn=E<ar.top?-1:E>=ar.bottom?1:0}return Lt=st(f.text,Lt,1),ei(x,Lt,Bn,Gn,b-dn)}function fs(A,f,x,b,E,L,$){var J=St(function(qe){var wt=E[qe],gt=wt.level!=1;return hs(Rt(A,Kt(x,gt?wt.to:wt.from,gt?"before":"after"),"line",f,b),L,$,!0)},0,E.length-1),le=E[J];if(J>0){var pe=le.level!=1,We=Rt(A,Kt(x,pe?le.from:le.to,pe?"after":"before"),"line",f,b);hs(We,L,$,!0)&&We.top>$&&(le=E[J-1])}return le}function Kd(A,f,x,b,E,L,$){var J=Xo(A,f,b,$),le=J.begin,pe=J.end;/\s/.test(f.text.charAt(pe-1))&&pe--;for(var We=null,qe=null,wt=0;wt<E.length;wt++){var gt=E[wt];if(!(gt.from>=pe||gt.to<=le)){var Lt=gt.level!=1,dn=gl(A,b,Lt?Math.min(pe,gt.to)-1:Math.max(le,gt.from)).right,Bn=dn<L?L-dn+1e9:dn-L;(!We||qe>Bn)&&(We=gt,qe=Bn)}}return We||(We=E[E.length-1]),We.from<le&&(We={from:le,to:We.to,level:We.level}),We.to>pe&&(We={from:We.from,to:pe,level:We.level}),We}var Os;function Jo(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(Os==null){Os=_e("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)Os.appendChild(document.createTextNode("x")),Os.appendChild(_e("br"));Os.appendChild(document.createTextNode("x"))}rt(A.measure,Os);var x=Os.offsetHeight/50;return x>3&&(A.cachedTextHeight=x),Ke(A.measure),x||1}function pu(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var f=_e("span","xxxxxxxxxx"),x=_e("pre",[f],"CodeMirror-line-like");rt(A.measure,x);var b=f.getBoundingClientRect(),E=(b.right-b.left)/10;return E>2&&(A.cachedCharWidth=E),E||10}function Bs(A){for(var f=A.display,x={},b={},E=f.gutters.clientLeft,L=f.gutters.firstChild,$=0;L;L=L.nextSibling,++$){var J=A.display.gutterSpecs[$].className;x[J]=L.offsetLeft+L.clientLeft+E,b[J]=L.clientWidth}return{fixedPos:Vi(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:x,gutterWidth:b,wrapperWidth:f.wrapper.clientWidth}}function Vi(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function xh(A){var f=Jo(A.display),x=A.options.lineWrapping,b=x&&Math.max(5,A.display.scroller.clientWidth/pu(A.display)-3);return function(E){if(Ki(A.doc,E))return 0;var L=0;if(E.widgets)for(var $=0;$<E.widgets.length;$++)E.widgets[$].height&&(L+=E.widgets[$].height);return x?L+(Math.ceil(E.text.length/b)||1)*f:L+f}}function wh(A){var f=A.doc,x=xh(A);f.iter(function(b){var E=x(b);E!=b.height&&Ji(b,E)})}function vl(A,f,x,b){var E=A.display;if(!x&&Ct(f).getAttribute("cm-not-content")=="true")return null;var L,$,J=E.lineSpace.getBoundingClientRect();try{L=f.clientX-J.left,$=f.clientY-J.top}catch{return null}var le=eo(A,L,$),pe;if(b&&le.xRel>0&&(pe=Qn(A.doc,le.line).text).length==le.ch){var We=he(pe,pe.length,A.options.tabSize)-pe.length;le=Kt(le.line,Math.max(0,Math.round((L-kd(A.display).left)/pu(A.display))-We))}return le}function TA(A,f){if(f>=A.display.viewTo||(f-=A.display.viewFrom,f<0))return null;for(var x=A.display.view,b=0;b<x.length;b++)if(f-=x[b].size,f<0)return b}function Ma(A,f,x,b){f==null&&(f=A.doc.first),x==null&&(x=A.doc.first+A.doc.size),b||(b=0);var E=A.display;if(b&&x<E.viewTo&&(E.updateLineNumbers==null||E.updateLineNumbers>f)&&(E.updateLineNumbers=f),A.curOp.viewChanged=!0,f>=E.viewTo)Es&&wa(A.doc,f)<E.viewTo&&zn(A);else if(x<=E.viewFrom)Es&&zo(A.doc,x+b)>E.viewFrom?zn(A):(E.viewFrom+=b,E.viewTo+=b);else if(f<=E.viewFrom&&x>=E.viewTo)zn(A);else if(f<=E.viewFrom){var L=Pl(A,x,x+b,1);L?(E.view=E.view.slice(L.index),E.viewFrom=L.lineN,E.viewTo+=b):zn(A)}else if(x>=E.viewTo){var $=Pl(A,f,f,-1);$?(E.view=E.view.slice(0,$.index),E.viewTo=$.lineN):zn(A)}else{var J=Pl(A,f,f,-1),le=Pl(A,x,x+b,1);J&&le?(E.view=E.view.slice(0,J.index).concat(lc(A,J.lineN,le.lineN)).concat(E.view.slice(le.index)),E.viewTo+=b):zn(A)}var pe=E.externalMeasured;pe&&(x<pe.lineN?pe.lineN+=b:f<pe.lineN+pe.size&&(E.externalMeasured=null))}function $s(A,f,x){A.curOp.viewChanged=!0;var b=A.display,E=A.display.externalMeasured;if(E&&f>=E.lineN&&f<E.lineN+E.size&&(b.externalMeasured=null),!(f<b.viewFrom||f>=b.viewTo)){var L=b.view[TA(A,f)];if(L.node!=null){var $=L.changes||(L.changes=[]);Pe($,x)==-1&&$.push(x)}}}function zn(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function Pl(A,f,x,b){var E=TA(A,f),L,$=A.display.view;if(!Es||x==A.doc.first+A.doc.size)return{index:E,lineN:x};for(var J=A.display.viewFrom,le=0;le<E;le++)J+=$[le].size;if(J!=f){if(b>0){if(E==$.length-1)return null;L=J+$[E].size-f,E++}else L=J-f;f+=L,x+=L}for(;wa(A.doc,x)!=x;){if(E==(b<0?0:$.length-1))return null;x+=b*$[E-(b<0?1:0)].size,E+=b}return{index:E,lineN:x}}function oA(A,f,x){var b=A.display,E=b.view;E.length==0||f>=b.viewTo||x<=b.viewFrom?(b.view=lc(A,f,x),b.viewFrom=f):(b.viewFrom>f?b.view=lc(A,f,b.viewFrom).concat(b.view):b.viewFrom<f&&(b.view=b.view.slice(TA(A,f))),b.viewFrom=f,b.viewTo<x?b.view=b.view.concat(lc(A,b.viewTo,x)):b.viewTo>x&&(b.view=b.view.slice(0,TA(A,x)))),b.viewTo=x}function dc(A){for(var f=A.display.view,x=0,b=0;b<f.length;b++){var E=f[b];!E.hidden&&(!E.node||E.changes)&&++x}return x}function mu(A){A.display.input.showSelection(A.display.input.prepareSelection())}function Nn(A,f){f===void 0&&(f=!0);var x=A.doc,b={},E=b.cursors=document.createDocumentFragment(),L=b.selection=document.createDocumentFragment(),$=A.options.$customCursor;$&&(f=!0);for(var J=0;J<x.sel.ranges.length;J++)if(!(!f&&J==x.sel.primIndex)){var le=x.sel.ranges[J];if(!(le.from().line>=A.display.viewTo||le.to().line<A.display.viewFrom)){var pe=le.empty();if($){var We=$(A,le);We&&hc(A,We,E)}else(pe||A.options.showCursorWhenSelecting)&&hc(A,le.head,E);pe||Tf(A,le,L)}}return b}function hc(A,f,x){var b=Rt(A,f,"div",null,null,!A.options.singleCursorHeightPerLine),E=x.appendChild(_e("div","","CodeMirror-cursor"));if(E.style.left=b.left+"px",E.style.top=b.top+"px",E.style.height=Math.max(0,b.bottom-b.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var L=an(A,f,"div",null,null),$=L.right-L.left;E.style.width=($>0?$:A.defaultCharWidth())+"px"}if(b.other){var J=x.appendChild(_e("div","","CodeMirror-cursor CodeMirror-secondarycursor"));J.style.display="",J.style.left=b.other.left+"px",J.style.top=b.other.top+"px",J.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function KA(A,f){return A.top-f.top||A.left-f.left}function Tf(A,f,x){var b=A.display,E=A.doc,L=document.createDocumentFragment(),$=kd(A.display),J=$.left,le=Math.max(b.sizerWidth,Fu(A)-b.sizer.offsetLeft)-$.right,pe=E.direction=="ltr";function We(Fn,ar,Or,yr){ar<0&&(ar=0),ar=Math.round(ar),yr=Math.round(yr),L.appendChild(_e("div",null,"CodeMirror-selected","position: absolute; left: "+Fn+`px;
                             top: `+ar+"px; width: "+(Or??le-Fn)+`px;
                             height: `+(yr-ar)+"px"))}function qe(Fn,ar,Or){var yr=Qn(E,Fn),ii=yr.text.length,ko,La;function ca(ts,xl){return an(A,Kt(Fn,ts),"div",yr,xl)}function Ea(ts,xl,Hs){var gs=co(A,yr,null,ts),ns=xl=="ltr"==(Hs=="after")?"left":"right",na=Hs=="after"?gs.begin:gs.end-(/\s/.test(yr.text.charAt(gs.end-1))?2:1);return ca(na,ns)[ns]}var es=En(yr,E.direction);return Et(es,ar||0,Or??ii,function(ts,xl,Hs,gs){var ns=Hs=="ltr",na=ca(ts,ns?"left":"right"),ys=ca(xl-1,ns?"right":"left"),Vd=ar==null&&ts==0,zA=Or==null&&xl==ii,Ps=gs==0,jA=!es||gs==es.length-1;if(ys.top-na.top<=3){var Fs=(pe?Vd:zA)&&Ps,A0=(pe?zA:Vd)&&jA,AA=Fs?J:(ns?na:ys).left,wc=A0?le:(ns?ys:na).right;We(AA,na.top,wc-AA,na.bottom)}else{var Ua,Zs,Hd,WA;ns?(Ua=pe&&Vd&&Ps?J:na.left,Zs=pe?le:Ea(ts,Hs,"before"),Hd=pe?J:Ea(xl,Hs,"after"),WA=pe&&zA&&jA?le:ys.right):(Ua=pe?Ea(ts,Hs,"before"):J,Zs=!pe&&Vd&&Ps?le:na.right,Hd=!pe&&zA&&jA?J:ys.left,WA=pe?Ea(xl,Hs,"after"):le),We(Ua,na.top,Zs-Ua,na.bottom),na.bottom<ys.top&&We(J,na.bottom,null,ys.top),We(Hd,ys.top,WA-Hd,ys.bottom)}(!ko||KA(na,ko)<0)&&(ko=na),KA(ys,ko)<0&&(ko=ys),(!La||KA(na,La)<0)&&(La=na),KA(ys,La)<0&&(La=ys)}),{start:ko,end:La}}var wt=f.from(),gt=f.to();if(wt.line==gt.line)qe(wt.line,wt.ch,gt.ch);else{var Lt=Qn(E,wt.line),dn=Qn(E,gt.line),Bn=Yr(Lt)==Yr(dn),Gn=qe(wt.line,wt.ch,Bn?Lt.text.length+1:null).end,_n=qe(gt.line,Bn?0:null,gt.ch).start;Bn&&(Gn.top<_n.top-2?(We(Gn.right,Gn.top,null,Gn.bottom),We(J,_n.top,_n.left,_n.bottom)):We(Gn.right,Gn.top,_n.left-Gn.right,Gn.bottom)),Gn.bottom<_n.top&&We(J,Gn.bottom,null,_n.top)}x.appendChild(L)}function Du(A){if(A.state.focused){var f=A.display;clearInterval(f.blinker);var x=!0;f.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?f.blinker=setInterval(function(){A.hasFocus()||fc(A),f.cursorDiv.style.visibility=(x=!x)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function gu(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||Kf(A))}function PA(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&fc(A))},100)}function Kf(A,f){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(Te(A,"focus",A,f),A.state.focused=!0,He(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),C&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),Du(A))}function fc(A,f){A.state.delayingBlurEvent||(A.state.focused&&(Te(A,"blur",A,f),A.state.focused=!1,ft(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function Lu(A){for(var f=A.display,x=f.lineDiv.offsetTop,b=Math.max(0,f.scroller.getBoundingClientRect().top),E=f.lineDiv.getBoundingClientRect().top,L=0,$=0;$<f.view.length;$++){var J=f.view[$],le=A.options.lineWrapping,pe=void 0,We=0;if(!J.hidden){if(E+=J.line.height,h&&g<8){var qe=J.node.offsetTop+J.node.offsetHeight;pe=qe-x,x=qe}else{var wt=J.node.getBoundingClientRect();pe=wt.bottom-wt.top,!le&&J.text.firstChild&&(We=J.text.firstChild.getBoundingClientRect().right-wt.left-1)}var gt=J.line.height-pe;if((gt>.005||gt<-.005)&&(E<b&&(L-=gt),Ji(J.line,pe),yo(J.line),J.rest))for(var Lt=0;Lt<J.rest.length;Lt++)yo(J.rest[Lt]);if(We>A.display.sizerWidth){var dn=Math.ceil(We/pu(A.display));dn>A.display.maxLineLength&&(A.display.maxLineLength=dn,A.display.maxLine=J.line,A.display.maxLineChanged=!0)}}}Math.abs(L)>2&&(f.scroller.scrollTop+=L)}function yo(A){if(A.widgets)for(var f=0;f<A.widgets.length;++f){var x=A.widgets[f],b=x.node.parentNode;b&&(x.height=b.offsetHeight)}}function yu(A,f,x){var b=x&&x.top!=null?Math.max(0,x.top):A.scroller.scrollTop;b=Math.floor(b-BA(A));var E=x&&x.bottom!=null?x.bottom:b+A.wrapper.clientHeight,L=$e(f,b),$=$e(f,E);if(x&&x.ensure){var J=x.ensure.from.line,le=x.ensure.to.line;J<L?(L=J,$=$e(f,Ta(Qn(f,J))+A.wrapper.clientHeight)):Math.min(le,f.lastLine())>=$&&(L=$e(f,Ta(Qn(f,le))-A.wrapper.clientHeight),$=le)}return{from:L,to:Math.max($,L+1)}}function Vc(A,f){if(!de(A,"scrollCursorIntoView")){var x=A.display,b=x.sizer.getBoundingClientRect(),E=null,L=x.wrapper.ownerDocument;if(f.top+b.top<0?E=!0:f.bottom+b.top>(L.defaultView.innerHeight||L.documentElement.clientHeight)&&(E=!1),E!=null&&!Q){var $=_e("div","",null,`position: absolute;
                         top: `+(f.top-x.viewOffset-BA(A.display))+`px;
                         height: `+(f.bottom-f.top+hu(A)+x.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");A.display.lineSpace.appendChild($),$.scrollIntoView(E),A.display.lineSpace.removeChild($)}}}function Pp(A,f,x,b){b==null&&(b=0);var E;!A.options.lineWrapping&&f==x&&(x=f.sticky=="before"?Kt(f.line,f.ch+1,"before"):f,f=f.ch?Kt(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var L=0;L<5;L++){var $=!1,J=Rt(A,f),le=!x||x==f?J:Rt(A,x);E={left:Math.min(J.left,le.left),top:Math.min(J.top,le.top)-b,right:Math.max(J.left,le.left),bottom:Math.max(J.bottom,le.bottom)+b};var pe=Pd(A,E),We=A.doc.scrollTop,qe=A.doc.scrollLeft;if(pe.scrollTop!=null&&(pc(A,pe.scrollTop),Math.abs(A.doc.scrollTop-We)>1&&($=!0)),pe.scrollLeft!=null&&(Qo(A,pe.scrollLeft),Math.abs(A.doc.scrollLeft-qe)>1&&($=!0)),!$)break}return E}function Pf(A,f){var x=Pd(A,f);x.scrollTop!=null&&pc(A,x.scrollTop),x.scrollLeft!=null&&Qo(A,x.scrollLeft)}function Pd(A,f){var x=A.display,b=Jo(A.display);f.top<0&&(f.top=0);var E=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:x.scroller.scrollTop,L=$c(A),$={};f.bottom-f.top>L&&(f.bottom=f.top+L);var J=A.doc.height+Ch(x),le=f.top<b,pe=f.bottom>J-b;if(f.top<E)$.scrollTop=le?0:f.top;else if(f.bottom>E+L){var We=Math.min(f.top,(pe?J:f.bottom)-L);We!=E&&($.scrollTop=We)}var qe=A.options.fixedGutter?0:x.gutters.offsetWidth,wt=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:x.scroller.scrollLeft-qe,gt=Fu(A)-x.gutters.offsetWidth,Lt=f.right-f.left>gt;return Lt&&(f.right=f.left+gt),f.left<10?$.scrollLeft=0:f.left<wt?$.scrollLeft=Math.max(0,f.left+qe-(Lt?0:10)):f.right>gt+wt-3&&($.scrollLeft=f.right+(Lt?0:10)-gt),$}function Mh(A,f){f!=null&&(Er(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+f)}function to(A){Er(A);var f=A.getCursor();A.curOp.scrollToPos={from:f,to:f,margin:A.options.cursorScrollMargin}}function ea(A,f,x){(f!=null||x!=null)&&Er(A),f!=null&&(A.curOp.scrollLeft=f),x!=null&&(A.curOp.scrollTop=x)}function gr(A,f){Er(A),A.curOp.scrollToPos=f}function Er(A){var f=A.curOp.scrollToPos;if(f){A.curOp.scrollToPos=null;var x=dr(A,f.from),b=dr(A,f.to);FA(A,x,b,f.margin)}}function FA(A,f,x,b){var E=Pd(A,{left:Math.min(f.left,x.left),top:Math.min(f.top,x.top)-b,right:Math.max(f.right,x.right),bottom:Math.max(f.bottom,x.bottom)+b});ea(A,E.scrollLeft,E.scrollTop)}function pc(A,f){Math.abs(A.doc.scrollTop-f)<2||(i||bl(A,{top:f}),Hc(A,f,!0),i&&bl(A),mc(A,100))}function Hc(A,f,x){f=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,f)),!(A.display.scroller.scrollTop==f&&!x)&&(A.doc.scrollTop=f,A.display.scrollbars.setScrollTop(f),A.display.scroller.scrollTop!=f&&(A.display.scroller.scrollTop=f))}function Qo(A,f,x,b){f=Math.max(0,Math.min(f,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((x?f==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-f)<2)&&!b)&&(A.doc.scrollLeft=f,p(A),A.display.scroller.scrollLeft!=f&&(A.display.scroller.scrollLeft=f),A.display.scrollbars.setScrollLeft(f))}function aA(A){var f=A.display,x=f.gutters.offsetWidth,b=Math.round(A.doc.height+Ch(A.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:A.options.fixedGutter?x:0,docHeight:b,scrollHeight:b+hu(A)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:x}}var va=function(A,f,x){this.cm=x;var b=this.vert=_e("div",[_e("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),E=this.horiz=_e("div",[_e("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=E.tabIndex=-1,A(b),A(E),Tt(b,"scroll",function(){b.clientHeight&&f(b.scrollTop,"vertical")}),Tt(E,"scroll",function(){E.clientWidth&&f(E.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,h&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};va.prototype.update=function(A){var f=A.scrollWidth>A.clientWidth+1,x=A.scrollHeight>A.clientHeight+1,b=A.nativeBarWidth;if(x){this.vert.style.display="block",this.vert.style.bottom=f?b+"px":"0";var E=A.viewHeight-(f?b:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+E)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=x?b+"px":"0",this.horiz.style.left=A.barLeft+"px";var L=A.viewWidth-A.barLeft-(x?b:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+L)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?b:0,bottom:f?b:0}},va.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},va.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},va.prototype.zeroWidthHack=function(){var A=Ae&&!W?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new be,this.disableVert=new be},va.prototype.enableZeroWidthBar=function(A,f,x){A.style.visibility="";function b(){var E=A.getBoundingClientRect(),L=x=="vert"?document.elementFromPoint(E.right-1,(E.top+E.bottom)/2):document.elementFromPoint((E.right+E.left)/2,E.bottom-1);L!=A?A.style.visibility="hidden":f.set(1e3,b)}f.set(1e3,b)},va.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var sA=function(){};sA.prototype.update=function(){return{bottom:0,right:0}},sA.prototype.setScrollLeft=function(){},sA.prototype.setScrollTop=function(){},sA.prototype.clear=function(){};function _l(A,f){f||(f=aA(A));var x=A.display.barWidth,b=A.display.barHeight;Do(A,f);for(var E=0;E<4&&x!=A.display.barWidth||b!=A.display.barHeight;E++)x!=A.display.barWidth&&A.options.lineWrapping&&Lu(A),Do(A,aA(A)),x=A.display.barWidth,b=A.display.barHeight}function Do(A,f){var x=A.display,b=x.scrollbars.update(f);x.sizer.style.paddingRight=(x.barWidth=b.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=b.bottom)+"px",x.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=b.bottom+"px",x.scrollbarFiller.style.width=b.right+"px"):x.scrollbarFiller.style.display="",b.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=b.bottom+"px",x.gutterFiller.style.width=f.gutterWidth+"px"):x.gutterFiller.style.display=""}var Lo={native:va,null:sA};function Ff(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&ft(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new Lo[A.options.scrollbarStyle](function(f){A.display.wrapper.insertBefore(f,A.display.scrollbarFiller),Tt(f,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,x){x=="horizontal"?Qo(A,f):pc(A,f)},A),A.display.scrollbars.addClass&&He(A.display.wrapper,A.display.scrollbars.addClass)}var Uu=0;function Ru(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Uu,markArrays:null},Gc(A.curOp)}function lA(A){var f=A.curOp;f&&gh(f,function(x){for(var b=0;b<x.ops.length;b++)x.ops[b].cm.curOp=null;Df(x)})}function Df(A){for(var f=A.ops,x=0;x<f.length;x++)Zc(f[x]);for(var b=0;b<f.length;b++)zu(f[b]);for(var E=0;E<f.length;E++)Sh(f[E]);for(var L=0;L<f.length;L++)ke(f[L]);for(var $=0;$<f.length;$++)Cl(f[$])}function Zc(A){var f=A.cm,x=f.display;Lf(f),A.updateMaxLine&&Ql(f),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<x.viewFrom||A.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&f.options.lineWrapping,A.update=A.mustUpdate&&new Ys(f,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function zu(A){A.updatedDisplay=A.mustUpdate&&Dd(A.cm,A.update)}function Sh(A){var f=A.cm,x=f.display;A.updatedDisplay&&Lu(f),A.barMeasure=aA(f),x.maxLineChanged&&!f.options.lineWrapping&&(A.adjustWidthTo=Ac(f,x.maxLine,x.maxLine.text.length).left+3,f.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+A.adjustWidthTo+hu(f)+f.display.barWidth),A.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+A.adjustWidthTo-Fu(f))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=x.input.prepareSelection())}function ke(A){var f=A.cm;A.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<f.doc.scrollLeft&&Qo(f,Math.min(f.display.scroller.scrollLeft,A.maxScrollLeft),!0),f.display.maxLineChanged=!1);var x=A.focus&&A.focus==Qt(mt(f));A.preparedSelection&&f.display.input.showSelection(A.preparedSelection,x),(A.updatedDisplay||A.startHeight!=f.doc.height)&&_l(f,A.barMeasure),A.updatedDisplay&&u(f,A.barMeasure),A.selectionChanged&&Du(f),f.state.focused&&A.updateInput&&f.display.input.reset(A.typing),x&&gu(A.cm)}function Cl(A){var f=A.cm,x=f.display,b=f.doc;if(A.updatedDisplay&&Eh(f,A.update),x.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),A.scrollTop!=null&&Hc(f,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&Qo(f,A.scrollLeft,!0,!0),A.scrollToPos){var E=Pp(f,Br(b,A.scrollToPos.from),Br(b,A.scrollToPos.to),A.scrollToPos.margin);Vc(f,E)}var L=A.maybeHiddenMarkers,$=A.maybeUnhiddenMarkers;if(L)for(var J=0;J<L.length;++J)L[J].lines.length||Te(L[J],"hide");if($)for(var le=0;le<$.length;++le)$[le].lines.length&&Te($[le],"unhide");x.wrapper.offsetHeight&&(b.scrollTop=f.display.scroller.scrollTop),A.changeObjs&&Te(f,"changes",f,A.changeObjs),A.update&&A.update.finish()}function Pa(A,f){if(A.curOp)return f();Ru(A);try{return f()}finally{lA(A)}}function no(A,f){return function(){if(A.curOp)return f.apply(A,arguments);Ru(A);try{return f.apply(A,arguments)}finally{lA(A)}}}function jr(A){return function(){if(this.curOp)return A.apply(this,arguments);Ru(this);try{return A.apply(this,arguments)}finally{lA(this)}}}function la(A){return function(){var f=this.cm;if(!f||f.curOp)return A.apply(this,arguments);Ru(f);try{return A.apply(this,arguments)}finally{lA(f)}}}function mc(A,f){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(f,Pt(gc,A))}function gc(A){var f=A.doc;if(!(f.highlightFrontier>=A.display.viewTo)){var x=+new Date+A.options.workTime,b=Ha(A,f.highlightFrontier),E=[];f.iter(b.line,Math.min(f.first+f.size,A.display.viewTo+500),function(L){if(b.line>=A.display.viewFrom){var $=L.styles,J=L.text.length>A.options.maxHighlightLength?Ia(f.mode,b.state):null,le=Bu(A,L,b,!0);J&&(b.state=J),L.styles=le.styles;var pe=L.styleClasses,We=le.classes;We?L.styleClasses=We:pe&&(L.styleClasses=null);for(var qe=!$||$.length!=L.styles.length||pe!=We&&(!pe||!We||pe.bgClass!=We.bgClass||pe.textClass!=We.textClass),wt=0;!qe&&wt<$.length;++wt)qe=$[wt]!=L.styles[wt];qe&&E.push(b.line),L.stateAfter=b.save(),b.nextLine()}else L.text.length<=A.options.maxHighlightLength&&Za(A,L.text,b),L.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>x)return mc(A,A.options.workDelay),!0}),f.highlightFrontier=b.line,f.modeFrontier=Math.max(f.modeFrontier,b.line),E.length&&Pa(A,function(){for(var L=0;L<E.length;L++)$s(A,E[L],"text")})}}var Ys=function(A,f,x){var b=A.display;this.viewport=f,this.visible=yu(b,A.doc,f),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=Fu(A),this.force=x,this.dims=Bs(A),this.events=[]};Ys.prototype.signal=function(A,f){Se(A,f)&&this.events.push(arguments)},Ys.prototype.finish=function(){for(var A=0;A<this.events.length;A++)Te.apply(null,this.events[A])};function Lf(A){var f=A.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=hu(A)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=hu(A)+"px",f.scrollbarsClipped=!0)}function Fd(A){if(A.hasFocus())return null;var f=Qt(mt(A));if(!f||!nn(A.display.lineDiv,f))return null;var x={activeElt:f};if(window.getSelection){var b=kt(A).getSelection();b.anchorNode&&b.extend&&nn(A.display.lineDiv,b.anchorNode)&&(x.anchorNode=b.anchorNode,x.anchorOffset=b.anchorOffset,x.focusNode=b.focusNode,x.focusOffset=b.focusOffset)}return x}function yc(A){if(!(!A||!A.activeElt||A.activeElt==Qt(dt(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&nn(document.body,A.anchorNode)&&nn(document.body,A.focusNode))){var f=A.activeElt.ownerDocument,x=f.defaultView.getSelection(),b=f.createRange();b.setEnd(A.anchorNode,A.anchorOffset),b.collapse(!1),x.removeAllRanges(),x.addRange(b),x.extend(A.focusNode,A.focusOffset)}}function Dd(A,f){var x=A.display,b=A.doc;if(f.editorIsHidden)return zn(A),!1;if(!f.force&&f.visible.from>=x.viewFrom&&f.visible.to<=x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&dc(A)==0)return!1;_(A)&&(zn(A),f.dims=Bs(A));var E=b.first+b.size,L=Math.max(f.visible.from-A.options.viewportMargin,b.first),$=Math.min(E,f.visible.to+A.options.viewportMargin);x.viewFrom<L&&L-x.viewFrom<20&&(L=Math.max(b.first,x.viewFrom)),x.viewTo>$&&x.viewTo-$<20&&($=Math.min(E,x.viewTo)),Es&&(L=wa(A.doc,L),$=zo(A.doc,$));var J=L!=x.viewFrom||$!=x.viewTo||x.lastWrapHeight!=f.wrapperHeight||x.lastWrapWidth!=f.wrapperWidth;oA(A,L,$),x.viewOffset=Ta(Qn(A.doc,x.viewFrom)),A.display.mover.style.top=x.viewOffset+"px";var le=dc(A);if(!J&&le==0&&!f.force&&x.renderedView==x.view&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo))return!1;var pe=Fd(A);return le>4&&(x.lineDiv.style.display="none"),Uf(A,x.updateLineNumbers,f.dims),le>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,yc(pe),Ke(x.cursorDiv),Ke(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,J&&(x.lastWrapHeight=f.wrapperHeight,x.lastWrapWidth=f.wrapperWidth,mc(A,400)),x.updateLineNumbers=null,!0}function Eh(A,f){for(var x=f.viewport,b=!0;;b=!1){if(!b||!A.options.lineWrapping||f.oldDisplayWidth==Fu(A)){if(x&&x.top!=null&&(x={top:Math.min(A.doc.height+Ch(A.display)-$c(A),x.top)}),f.visible=yu(A.display,A.doc,x),f.visible.from>=A.display.viewFrom&&f.visible.to<=A.display.viewTo)break}else b&&(f.visible=yu(A.display,A.doc,x));if(!Dd(A,f))break;Lu(A);var E=aA(A);mu(A),_l(A,E),u(A,E),f.force=!1}f.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(f.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function bl(A,f){var x=new Ys(A,f);if(Dd(A,x)){Lu(A),Eh(A,x);var b=aA(A);mu(A),_l(A,b),u(A,b),x.finish()}}function Uf(A,f,x){var b=A.display,E=A.options.lineNumbers,L=b.lineDiv,$=L.firstChild;function J(Lt){var dn=Lt.nextSibling;return C&&Ae&&A.display.currentWheelTarget==Lt?Lt.style.display="none":Lt.parentNode.removeChild(Lt),dn}for(var le=b.view,pe=b.viewFrom,We=0;We<le.length;We++){var qe=le[We];if(!qe.hidden)if(!qe.node||qe.node.parentNode!=L){var wt=uc(A,qe,pe,x);L.insertBefore(wt,$)}else{for(;$!=qe.node;)$=J($);var gt=E&&f!=null&&f<=pe&&qe.lineNumber;qe.changes&&(Pe(qe.changes,"gutter")>-1&&(gt=!1),yh(A,qe,pe,x)),gt&&(Ke(qe.lineNumber),qe.lineNumber.appendChild(document.createTextNode(ln(A.options,pe)))),$=qe.node.nextSibling}pe+=qe.size}for(;$;)$=J($)}function O(A){var f=A.gutters.offsetWidth;A.sizer.style.marginLeft=f+"px",Fo(A,"gutterChanged",A)}function u(A,f){A.display.sizer.style.minHeight=f.docHeight+"px",A.display.heightForcer.style.top=f.docHeight+"px",A.display.gutters.style.height=f.docHeight+A.display.barHeight+hu(A)+"px"}function p(A){var f=A.display,x=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!A.options.fixedGutter))){for(var b=Vi(f)-f.scroller.scrollLeft+A.doc.scrollLeft,E=f.gutters.offsetWidth,L=b+"px",$=0;$<x.length;$++)if(!x[$].hidden){A.options.fixedGutter&&(x[$].gutter&&(x[$].gutter.style.left=L),x[$].gutterBackground&&(x[$].gutterBackground.style.left=L));var J=x[$].alignable;if(J)for(var le=0;le<J.length;le++)J[le].style.left=L}A.options.fixedGutter&&(f.gutters.style.left=b+E+"px")}}function _(A){if(!A.options.lineNumbers)return!1;var f=A.doc,x=ln(A.options,f.first+f.size-1),b=A.display;if(x.length!=b.lineNumChars){var E=b.measure.appendChild(_e("div",[_e("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),L=E.firstChild.offsetWidth,$=E.offsetWidth-L;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(L,b.lineGutter.offsetWidth-$)+1,b.lineNumWidth=b.lineNumInnerWidth+$,b.lineNumChars=b.lineNumInnerWidth?x.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",O(A.display),!0}return!1}function M(A,f){for(var x=[],b=!1,E=0;E<A.length;E++){var L=A[E],$=null;if(typeof L!="string"&&($=L.style,L=L.className),L=="CodeMirror-linenumbers")if(f)b=!0;else continue;x.push({className:L,style:$})}return f&&!b&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function I(A){var f=A.gutters,x=A.gutterSpecs;Ke(f),A.lineGutter=null;for(var b=0;b<x.length;++b){var E=x[b],L=E.className,$=E.style,J=f.appendChild(_e("div",null,"CodeMirror-gutter "+L));$&&(J.style.cssText=$),L=="CodeMirror-linenumbers"&&(A.lineGutter=J,J.style.width=(A.lineNumWidth||1)+"px")}f.style.display=x.length?"":"none",O(A)}function R(A){I(A.display),Ma(A),p(A)}function j(A,f,x,b){var E=this;this.input=x,E.scrollbarFiller=_e("div",null,"CodeMirror-scrollbar-filler"),E.scrollbarFiller.setAttribute("cm-not-content","true"),E.gutterFiller=_e("div",null,"CodeMirror-gutter-filler"),E.gutterFiller.setAttribute("cm-not-content","true"),E.lineDiv=Ut("div",null,"CodeMirror-code"),E.selectionDiv=_e("div",null,null,"position: relative; z-index: 1"),E.cursorDiv=_e("div",null,"CodeMirror-cursors"),E.measure=_e("div",null,"CodeMirror-measure"),E.lineMeasure=_e("div",null,"CodeMirror-measure"),E.lineSpace=Ut("div",[E.measure,E.lineMeasure,E.selectionDiv,E.cursorDiv,E.lineDiv],null,"position: relative; outline: none");var L=Ut("div",[E.lineSpace],"CodeMirror-lines");E.mover=_e("div",[L],null,"position: relative"),E.sizer=_e("div",[E.mover],"CodeMirror-sizer"),E.sizerWidth=null,E.heightForcer=_e("div",null,null,"position: absolute; height: "+Ze+"px; width: 1px;"),E.gutters=_e("div",null,"CodeMirror-gutters"),E.lineGutter=null,E.scroller=_e("div",[E.sizer,E.heightForcer,E.gutters],"CodeMirror-scroll"),E.scroller.setAttribute("tabIndex","-1"),E.wrapper=_e("div",[E.scrollbarFiller,E.gutterFiller,E.scroller],"CodeMirror"),k&&P>=105&&(E.wrapper.style.clipPath="inset(0px)"),E.wrapper.setAttribute("translate","no"),h&&g<8&&(E.gutters.style.zIndex=-1,E.scroller.style.paddingRight=0),!C&&!(i&&re)&&(E.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(E.wrapper):A(E.wrapper)),E.viewFrom=E.viewTo=f.first,E.reportedViewFrom=E.reportedViewTo=f.first,E.view=[],E.renderedView=null,E.externalMeasured=null,E.viewOffset=0,E.lastWrapHeight=E.lastWrapWidth=0,E.updateLineNumbers=null,E.nativeBarWidth=E.barHeight=E.barWidth=0,E.scrollbarsClipped=!1,E.lineNumWidth=E.lineNumInnerWidth=E.lineNumChars=null,E.alignWidgets=!1,E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null,E.maxLine=null,E.maxLineLength=0,E.maxLineChanged=!1,E.wheelDX=E.wheelDY=E.wheelStartX=E.wheelStartY=null,E.shift=!1,E.selForContextMenu=null,E.activeTouch=null,E.gutterSpecs=M(b.gutters,b.lineNumbers),I(E),x.init(E)}var G=0,te=null;h?te=-.53:i?te=15:k?te=-.7:Z&&(te=-1/3);function ue(A){var f=A.wheelDeltaX,x=A.wheelDeltaY;return f==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(f=A.detail),x==null&&A.detail&&A.axis==A.VERTICAL_AXIS?x=A.detail:x==null&&(x=A.wheelDelta),{x:f,y:x}}function fe(A){var f=ue(A);return f.x*=te,f.y*=te,f}function Ee(A,f){k&&P==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var x=ue(f),b=x.x,E=x.y,L=te;f.deltaMode===0&&(b=f.deltaX,E=f.deltaY,L=1);var $=A.display,J=$.scroller,le=J.scrollWidth>J.clientWidth,pe=J.scrollHeight>J.clientHeight;if(b&&le||E&&pe){if(E&&Ae&&C){e:for(var We=f.target,qe=$.view;We!=J;We=We.parentNode)for(var wt=0;wt<qe.length;wt++)if(qe[wt].node==We){A.display.currentWheelTarget=We;break e}}if(b&&!i&&!U&&L!=null){E&&pe&&pc(A,Math.max(0,J.scrollTop+E*L)),Qo(A,Math.max(0,J.scrollLeft+b*L)),(!E||E&&pe)&&Xe(f),$.wheelStartX=null;return}if(E&&L!=null){var gt=E*L,Lt=A.doc.scrollTop,dn=Lt+$.wrapper.clientHeight;gt<0?Lt=Math.max(0,Lt+gt-50):dn=Math.min(A.doc.height,dn+gt+50),bl(A,{top:Lt,bottom:dn})}G<20&&f.deltaMode!==0&&($.wheelStartX==null?($.wheelStartX=J.scrollLeft,$.wheelStartY=J.scrollTop,$.wheelDX=b,$.wheelDY=E,setTimeout(function(){if($.wheelStartX!=null){var Bn=J.scrollLeft-$.wheelStartX,Gn=J.scrollTop-$.wheelStartY,_n=Gn&&$.wheelDY&&Gn/$.wheelDY||Bn&&$.wheelDX&&Bn/$.wheelDX;$.wheelStartX=$.wheelStartY=null,_n&&(te=(te*G+_n)/(G+1),++G)}},200)):($.wheelDX+=b,$.wheelDY+=E))}}var ze=function(A,f){this.ranges=A,this.primIndex=f};ze.prototype.primary=function(){return this.ranges[this.primIndex]},ze.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var x=this.ranges[f],b=A.ranges[f];if(!cr(x.anchor,b.anchor)||!cr(x.head,b.head))return!1}return!0},ze.prototype.deepCopy=function(){for(var A=[],f=0;f<this.ranges.length;f++)A[f]=new Fe(Ii(this.ranges[f].anchor),Ii(this.ranges[f].head));return new ze(A,this.primIndex)},ze.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},ze.prototype.contains=function(A,f){f||(f=A);for(var x=0;x<this.ranges.length;x++){var b=this.ranges[x];if(Mn(f,b.from())>=0&&Mn(A,b.to())<=0)return x}return-1};var Fe=function(A,f){this.anchor=A,this.head=f};Fe.prototype.from=function(){return ya(this.anchor,this.head)},Fe.prototype.to=function(){return ri(this.anchor,this.head)},Fe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ge(A,f,x){var b=A&&A.options.selectionsMayTouch,E=f[x];f.sort(function(wt,gt){return Mn(wt.from(),gt.from())}),x=Pe(f,E);for(var L=1;L<f.length;L++){var $=f[L],J=f[L-1],le=Mn(J.to(),$.from());if(b&&!$.empty()?le>0:le>=0){var pe=ya(J.from(),$.from()),We=ri(J.to(),$.to()),qe=J.empty()?$.from()==$.head:J.from()==J.head;L<=x&&--x,f.splice(--L,2,new Fe(qe?We:pe,qe?pe:We))}}return new ze(f,x)}function je(A,f){return new ze([new Fe(A,f||A)],0)}function ct(A){return A.text?Kt(A.from.line+A.text.length-1,bn(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function Ot(A,f){if(Mn(A,f.from)<0)return A;if(Mn(A,f.to)<=0)return ct(f);var x=A.line+f.text.length-(f.to.line-f.from.line)-1,b=A.ch;return A.line==f.to.line&&(b+=ct(f).ch-f.to.ch),Kt(x,b)}function Ye(A,f){for(var x=[],b=0;b<A.sel.ranges.length;b++){var E=A.sel.ranges[b];x.push(new Fe(Ot(E.anchor,f),Ot(E.head,f)))}return Ge(A.cm,x,A.sel.primIndex)}function _t(A,f,x){return A.line==f.line?Kt(x.line,A.ch-f.ch+x.ch):Kt(x.line+(A.line-f.line),A.ch)}function Gt(A,f,x){for(var b=[],E=Kt(A.first,0),L=E,$=0;$<f.length;$++){var J=f[$],le=_t(J.from,E,L),pe=_t(ct(J),E,L);if(E=J.to,L=pe,x=="around"){var We=A.sel.ranges[$],qe=Mn(We.head,We.anchor)<0;b[$]=new Fe(qe?pe:le,qe?le:pe)}else b[$]=new Fe(le,le)}return new ze(b,A.sel.primIndex)}function It(A){A.doc.mode=pi(A.options,A.doc.modeOption),en(A)}function en(A){A.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,mc(A,100),A.state.modeGen++,A.curOp&&Ma(A)}function cn(A,f){return f.from.ch==0&&f.to.ch==0&&bn(f.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function un(A,f,x,b){function E(_n){return x?x[_n]:null}function L(_n,Fn,ar){sc(_n,Fn,ar,b),Fo(_n,"change",_n,f)}function $(_n,Fn){for(var ar=[],Or=_n;Or<Fn;++Or)ar.push(new Iu(pe[Or],E(Or),b));return ar}var J=f.from,le=f.to,pe=f.text,We=Qn(A,J.line),qe=Qn(A,le.line),wt=bn(pe),gt=E(pe.length-1),Lt=le.line-J.line;if(f.full)A.insert(0,$(0,pe.length)),A.remove(pe.length,A.size-pe.length);else if(cn(A,f)){var dn=$(0,pe.length-1);L(qe,qe.text,gt),Lt&&A.remove(J.line,Lt),dn.length&&A.insert(J.line,dn)}else if(We==qe)if(pe.length==1)L(We,We.text.slice(0,J.ch)+wt+We.text.slice(le.ch),gt);else{var Bn=$(1,pe.length-1);Bn.push(new Iu(wt+We.text.slice(le.ch),gt,b)),L(We,We.text.slice(0,J.ch)+pe[0],E(0)),A.insert(J.line+1,Bn)}else if(pe.length==1)L(We,We.text.slice(0,J.ch)+pe[0]+qe.text.slice(le.ch),E(0)),A.remove(J.line+1,Lt);else{L(We,We.text.slice(0,J.ch)+pe[0],E(0)),L(qe,wt+qe.text.slice(le.ch),gt);var Gn=$(1,pe.length-1);Lt>1&&A.remove(J.line+1,Lt-1),A.insert(J.line+1,Gn)}Fo(A,"change",A,f)}function vn(A,f,x){function b(E,L,$){if(E.linked)for(var J=0;J<E.linked.length;++J){var le=E.linked[J];if(le.doc!=L){var pe=$&&le.sharedHist;x&&!pe||(f(le.doc,pe),b(le.doc,E,pe))}}}b(A,null,!0)}function er(A,f){if(f.cm)throw new Error("This document is already in use.");A.doc=f,f.cm=A,wh(A),It(A),kr(A),A.options.direction=f.direction,A.options.lineWrapping||Ql(A),A.options.mode=f.modeOption,Ma(A)}function kr(A){(A.doc.direction=="rtl"?He:ft)(A.display.lineDiv,"CodeMirror-rtl")}function In(A){Pa(A,function(){kr(A),Ma(A)})}function Cr(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function Zn(A,f){var x={from:Ii(f.from),to:ct(f),text:so(A,f.from,f.to)};return ks(A,x,f.from.line,f.to.line+1),vn(A,function(b){return ks(b,x,f.from.line,f.to.line+1)},!0),x}function zi(A){for(;A.length;){var f=bn(A);if(f.ranges)A.pop();else break}}function bi(A,f){if(f)return zi(A.done),bn(A.done);if(A.done.length&&!bn(A.done).ranges)return bn(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),bn(A.done)}function Hr(A,f,x,b){var E=A.history;E.undone.length=0;var L=+new Date,$,J;if((E.lastOp==b||E.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&E.lastModTime>L-(A.cm?A.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&($=bi(E,E.lastOp==b)))J=bn($.changes),Mn(f.from,f.to)==0&&Mn(f.from,J.to)==0?J.to=ct(f):$.changes.push(Zn(A,f));else{var le=bn(E.done);for((!le||!le.ranges)&&Fi(A.sel,E.done),$={changes:[Zn(A,f)],generation:E.generation},E.done.push($);E.done.length>E.undoDepth;)E.done.shift(),E.done[0].ranges||E.done.shift()}E.done.push(x),E.generation=++E.maxGeneration,E.lastModTime=E.lastSelTime=L,E.lastOp=E.lastSelOp=b,E.lastOrigin=E.lastSelOrigin=f.origin,J||Te(A,"historyAdded")}function gi(A,f,x,b){var E=f.charAt(0);return E=="*"||E=="+"&&x.ranges.length==b.ranges.length&&x.somethingSelected()==b.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function $o(A,f,x,b){var E=A.history,L=b&&b.origin;x==E.lastSelOp||L&&E.lastSelOrigin==L&&(E.lastModTime==E.lastSelTime&&E.lastOrigin==L||gi(A,L,bn(E.done),f))?E.done[E.done.length-1]=f:Fi(f,E.done),E.lastSelTime=+new Date,E.lastSelOrigin=L,E.lastSelOp=x,b&&b.clearRedo!==!1&&zi(E.undone)}function Fi(A,f){var x=bn(f);x&&x.ranges&&x.equals(A)||f.push(A)}function ks(A,f,x,b){var E=f["spans_"+A.id],L=0;A.iter(Math.max(A.first,x),Math.min(A.first+A.size,b),function($){$.markedSpans&&((E||(E=f["spans_"+A.id]={}))[L]=$.markedSpans),++L})}function ps(A){if(!A)return null;for(var f,x=0;x<A.length;++x)A[x].marker.explicitlyCleared?f||(f=A.slice(0,x)):f&&f.push(A[x]);return f?f.length?f:null:A}function jo(A,f){var x=f["spans_"+A.id];if(!x)return null;for(var b=[],E=0;E<f.text.length;++E)b.push(ps(x[E]));return b}function Is(A,f){var x=jo(A,f),b=cs(A,f);if(!x)return b;if(!b)return x;for(var E=0;E<x.length;++E){var L=x[E],$=b[E];if(L&&$)e:for(var J=0;J<$.length;++J){for(var le=$[J],pe=0;pe<L.length;++pe)if(L[pe].marker==le.marker)continue e;L.push(le)}else $&&(x[E]=$)}return x}function _a(A,f,x){for(var b=[],E=0;E<A.length;++E){var L=A[E];if(L.ranges){b.push(x?ze.prototype.deepCopy.call(L):L);continue}var $=L.changes,J=[];b.push({changes:J});for(var le=0;le<$.length;++le){var pe=$[le],We=void 0;if(J.push({from:pe.from,to:pe.to,text:pe.text}),f)for(var qe in pe)(We=qe.match(/^spans_(\d+)$/))&&Pe(f,Number(We[1]))>-1&&(bn(J)[qe]=pe[qe],delete pe[qe])}}return b}function vo(A,f,x,b){if(b){var E=A.anchor;if(x){var L=Mn(f,E)<0;L!=Mn(x,E)<0?(E=f,f=x):L!=Mn(f,x)<0&&(f=x)}return new Fe(E,f)}else return new Fe(x||f,f)}function Fl(A,f,x,b,E){E==null&&(E=A.cm&&(A.cm.display.shift||A.extend)),Ei(A,new ze([vo(A.sel.primary(),f,x,E)],0),b)}function DA(A,f,x){for(var b=[],E=A.cm&&(A.cm.display.shift||A.extend),L=0;L<A.sel.ranges.length;L++)b[L]=vo(A.sel.ranges[L],f[L],null,E);var $=Ge(A.cm,b,A.sel.primIndex);Ei(A,$,x)}function Ts(A,f,x,b){var E=A.sel.ranges.slice(0);E[f]=x,Ei(A,Ge(A.cm,E,A.sel.primIndex),b)}function vu(A,f,x,b){Ei(A,je(f,x),b)}function Ca(A,f,x){var b={ranges:f.ranges,update:function(E){this.ranges=[];for(var L=0;L<E.length;L++)this.ranges[L]=new Fe(Br(A,E[L].anchor),Br(A,E[L].head))},origin:x&&x.origin};return Te(A,"beforeSelectionChange",A,b),A.cm&&Te(A.cm,"beforeSelectionChange",A.cm,b),b.ranges!=f.ranges?Ge(A.cm,b.ranges,b.ranges.length-1):f}function Bo(A,f,x){var b=A.history.done,E=bn(b);E&&E.ranges?(b[b.length-1]=f,ho(A,f,x)):Ei(A,f,x)}function Ei(A,f,x){ho(A,f,x),$o(A,A.sel,A.cm?A.cm.curOp.id:NaN,x)}function ho(A,f,x){(Se(A,"beforeSelectionChange")||A.cm&&Se(A.cm,"beforeSelectionChange"))&&(f=Ca(A,f,x));var b=x&&x.bias||(Mn(f.primary().head,A.sel.primary().head)<0?-1:1);Mo(A,Ja(A,f,b,!0)),!(x&&x.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&to(A.cm)}function Mo(A,f){f.equals(A.sel)||(A.sel=f,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,ve(A.cm)),Fo(A,"cursorActivity",A))}function Fa(A){Mo(A,Ja(A,A.sel,null,!1))}function Ja(A,f,x,b){for(var E,L=0;L<f.ranges.length;L++){var $=f.ranges[L],J=f.ranges.length==A.sel.ranges.length&&A.sel.ranges[L],le=vc(A,$.anchor,J&&J.anchor,x,b),pe=$.head==$.anchor?le:vc(A,$.head,J&&J.head,x,b);(E||le!=$.anchor||pe!=$.head)&&(E||(E=f.ranges.slice(0,L)),E[L]=new Fe(le,pe))}return E?Ge(A.cm,E,f.primIndex):f}function ta(A,f,x,b,E){var L=Qn(A,f.line);if(L.markedSpans)for(var $=0;$<L.markedSpans.length;++$){var J=L.markedSpans[$],le=J.marker,pe="selectLeft"in le?!le.selectLeft:le.inclusiveLeft,We="selectRight"in le?!le.selectRight:le.inclusiveRight;if((J.from==null||(pe?J.from<=f.ch:J.from<f.ch))&&(J.to==null||(We?J.to>=f.ch:J.to>f.ch))){if(E&&(Te(le,"beforeCursorEnter"),le.explicitlyCleared))if(L.markedSpans){--$;continue}else break;if(!le.atomic)continue;if(x){var qe=le.find(b<0?1:-1),wt=void 0;if((b<0?We:pe)&&(qe=ua(A,qe,-b,qe&&qe.line==f.line?L:null)),qe&&qe.line==f.line&&(wt=Mn(qe,x))&&(b<0?wt<0:wt>0))return ta(A,qe,f,b,E)}var gt=le.find(b<0?-1:1);return(b<0?pe:We)&&(gt=ua(A,gt,b,gt.line==f.line?L:null)),gt?ta(A,gt,f,b,E):null}}return f}function vc(A,f,x,b,E){var L=b||1,$=ta(A,f,x,L,E)||!E&&ta(A,f,x,L,!0)||ta(A,f,x,-L,E)||!E&&ta(A,f,x,-L,!0);return $||(A.cantEdit=!0,Kt(A.first,0))}function ua(A,f,x,b){return x<0&&f.ch==0?f.line>A.first?Br(A,Kt(f.line-1)):null:x>0&&f.ch==(b||Qn(A,f.line)).text.length?f.line<A.first+A.size-1?Kt(f.line+1,0):null:new Kt(f.line,f.ch+x)}function LA(A){A.setSelection(Kt(A.firstLine(),0),Kt(A.lastLine()),xt)}function Oh(A,f,x){var b={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return b.canceled=!0}};return x&&(b.update=function(E,L,$,J){E&&(b.from=Br(A,E)),L&&(b.to=Br(A,L)),$&&(b.text=$),J!==void 0&&(b.origin=J)}),Te(A,"beforeChange",A,b),A.cm&&Te(A.cm,"beforeChange",A.cm,b),b.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function Vl(A,f,x){if(A.cm){if(!A.cm.curOp)return no(A.cm,Vl)(A,f,x);if(A.cm.state.suppressEdits)return}if(!((Se(A,"beforeChange")||A.cm&&Se(A.cm,"beforeChange"))&&(f=Oh(A,f,!0),!f))){var b=Xa&&!x&&ac(A,f.from,f.to);if(b)for(var E=b.length-1;E>=0;--E)UA(A,{from:b[E].from,to:b[E].to,text:E?[""]:f.text,origin:f.origin});else UA(A,f)}}function UA(A,f){if(!(f.text.length==1&&f.text[0]==""&&Mn(f.from,f.to)==0)){var x=Ye(A,f);Hr(A,f,x,A.cm?A.cm.curOp.id:NaN),_c(A,f,x,cs(A,f));var b=[];vn(A,function(E,L){!L&&Pe(b,E.history)==-1&&(I1(E.history,f),b.push(E.history)),_c(E,f,null,cs(E,f))})}}function qs(A,f,x){var b=A.cm&&A.cm.state.suppressEdits;if(!(b&&!x)){for(var E=A.history,L,$=A.sel,J=f=="undo"?E.done:E.undone,le=f=="undo"?E.undone:E.done,pe=0;pe<J.length&&(L=J[pe],!(x?L.ranges&&!L.equals(A.sel):!L.ranges));pe++);if(pe!=J.length){for(E.lastOrigin=E.lastSelOrigin=null;;)if(L=J.pop(),L.ranges){if(Fi(L,le),x&&!L.equals(A.sel)){Ei(A,L,{clearRedo:!1});return}$=L}else if(b){J.push(L);return}else break;var We=[];Fi($,le),le.push({changes:We,generation:E.generation}),E.generation=L.generation||++E.maxGeneration;for(var qe=Se(A,"beforeChange")||A.cm&&Se(A.cm,"beforeChange"),wt=function(dn){var Bn=L.changes[dn];if(Bn.origin=f,qe&&!Oh(A,Bn,!1))return J.length=0,{};We.push(Zn(A,Bn));var Gn=dn?Ye(A,Bn):bn(J);_c(A,Bn,Gn,Is(A,Bn)),!dn&&A.cm&&A.cm.scrollIntoView({from:Bn.from,to:ct(Bn)});var _n=[];vn(A,function(Fn,ar){!ar&&Pe(_n,Fn.history)==-1&&(I1(Fn.history,Bn),_n.push(Fn.history)),_c(Fn,Bn,null,Is(Fn,Bn))})},gt=L.changes.length-1;gt>=0;--gt){var Lt=wt(gt);if(Lt)return Lt.v}}}}function Ld(A,f){if(f!=0&&(A.first+=f,A.sel=new ze(Jn(A.sel.ranges,function(E){return new Fe(Kt(E.anchor.line+f,E.anchor.ch),Kt(E.head.line+f,E.head.ch))}),A.sel.primIndex),A.cm)){Ma(A.cm,A.first,A.first-f,f);for(var x=A.cm.display,b=x.viewFrom;b<x.viewTo;b++)$s(A.cm,b,"gutter")}}function _c(A,f,x,b){if(A.cm&&!A.cm.curOp)return no(A.cm,_c)(A,f,x,b);if(f.to.line<A.first){Ld(A,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>A.lastLine())){if(f.from.line<A.first){var E=f.text.length-1-(A.first-f.from.line);Ld(A,E),f={from:Kt(A.first,0),to:Kt(f.to.line+E,f.to.ch),text:[bn(f.text)],origin:f.origin}}var L=A.lastLine();f.to.line>L&&(f={from:f.from,to:Kt(L,Qn(A,L).text.length),text:[f.text[0]],origin:f.origin}),f.removed=so(A,f.from,f.to),x||(x=Ye(A,f)),A.cm?Bh(A.cm,f,b):un(A,f,b),ho(A,x,xt),A.cantEdit&&vc(A,Kt(A.firstLine(),0))&&(A.cantEdit=!1)}}function Bh(A,f,x){var b=A.doc,E=A.display,L=f.from,$=f.to,J=!1,le=L.line;A.options.lineWrapping||(le=ge(Yr(Qn(b,L.line))),b.iter(le,$.line+1,function(gt){if(gt==E.maxLine)return J=!0,!0})),b.sel.contains(f.from,f.to)>-1&&ve(A),un(b,f,x,xh(A)),A.options.lineWrapping||(b.iter(le,L.line+f.text.length,function(gt){var Lt=Ka(gt);Lt>E.maxLineLength&&(E.maxLine=gt,E.maxLineLength=Lt,E.maxLineChanged=!0,J=!1)}),J&&(A.curOp.updateMaxLine=!0)),oc(b,L.line),mc(A,400);var pe=f.text.length-($.line-L.line)-1;f.full?Ma(A):L.line==$.line&&f.text.length==1&&!cn(A.doc,f)?$s(A,L.line,"text"):Ma(A,L.line,$.line+1,pe);var We=Se(A,"changes"),qe=Se(A,"change");if(qe||We){var wt={from:L,to:$,text:f.text,removed:f.removed,origin:f.origin};qe&&Fo(A,"change",A,wt),We&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(wt)}A.display.selForContextMenu=null}function ju(A,f,x,b,E){var L;b||(b=x),Mn(b,x)<0&&(L=[b,x],x=L[0],b=L[1]),typeof f=="string"&&(f=A.splitLines(f)),Vl(A,{from:x,to:b,text:f,origin:E})}function Rf(A,f,x,b){x<A.line?A.line+=b:f<A.line&&(A.line=f,A.ch=0)}function Xc(A,f,x,b){for(var E=0;E<A.length;++E){var L=A[E],$=!0;if(L.ranges){L.copied||(L=A[E]=L.deepCopy(),L.copied=!0);for(var J=0;J<L.ranges.length;J++)Rf(L.ranges[J].anchor,f,x,b),Rf(L.ranges[J].head,f,x,b);continue}for(var le=0;le<L.changes.length;++le){var pe=L.changes[le];if(x<pe.from.line)pe.from=Kt(pe.from.line+b,pe.from.ch),pe.to=Kt(pe.to.line+b,pe.to.ch);else if(f<=pe.to.line){$=!1;break}}$||(A.splice(0,E+1),E=0)}}function I1(A,f){var x=f.from.line,b=f.to.line,E=f.text.length-(b-x)-1;Xc(A.done,x,b,E),Xc(A.undone,x,b,E)}function Jc(A,f,x,b){var E=f,L=f;return typeof f=="number"?L=Qn(A,qa(A,f)):E=ge(f),E==null?null:(b(L,E)&&A.cm&&$s(A.cm,E,x),L)}function ed(A){this.lines=A,this.parent=null;for(var f=0,x=0;x<A.length;++x)A[x].parent=this,f+=A[x].height;this.height=f}ed.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,f){for(var x=A,b=A+f;x<b;++x){var E=this.lines[x];this.height-=E.height,ds(E),Fo(E,"delete")}this.lines.splice(A,f)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,f,x){this.height+=x,this.lines=this.lines.slice(0,A).concat(f).concat(this.lines.slice(A));for(var b=0;b<f.length;++b)f[b].parent=this},iterN:function(A,f,x){for(var b=A+f;A<b;++A)if(x(this.lines[A]))return!0}};function kh(A){this.children=A;for(var f=0,x=0,b=0;b<A.length;++b){var E=A[b];f+=E.chunkSize(),x+=E.height,E.parent=this}this.size=f,this.height=x,this.parent=null}kh.prototype={chunkSize:function(){return this.size},removeInner:function(A,f){this.size-=f;for(var x=0;x<this.children.length;++x){var b=this.children[x],E=b.chunkSize();if(A<E){var L=Math.min(f,E-A),$=b.height;if(b.removeInner(A,L),this.height-=$-b.height,E==L&&(this.children.splice(x--,1),b.parent=null),(f-=L)==0)break;A=0}else A-=E}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof ed))){var J=[];this.collapse(J),this.children=[new ed(J)],this.children[0].parent=this}},collapse:function(A){for(var f=0;f<this.children.length;++f)this.children[f].collapse(A)},insertInner:function(A,f,x){this.size+=f.length,this.height+=x;for(var b=0;b<this.children.length;++b){var E=this.children[b],L=E.chunkSize();if(A<=L){if(E.insertInner(A,f,x),E.lines&&E.lines.length>50){for(var $=E.lines.length%25+25,J=$;J<E.lines.length;){var le=new ed(E.lines.slice(J,J+=25));E.height-=le.height,this.children.splice(++b,0,le),le.parent=this}E.lines=E.lines.slice(0,$),this.maybeSpill()}break}A-=L}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var f=A.children.splice(A.children.length-5,5),x=new kh(f);if(A.parent){A.size-=x.size,A.height-=x.height;var E=Pe(A.parent.children,A);A.parent.children.splice(E+1,0,x)}else{var b=new kh(A.children);b.parent=A,A.children=[b,x],A=b}x.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,f,x){for(var b=0;b<this.children.length;++b){var E=this.children[b],L=E.chunkSize();if(A<L){var $=Math.min(f,L-A);if(E.iterN(A,$,x))return!0;if((f-=$)==0)break;A=0}else A-=L}}};var Wu=function(A,f,x){if(x)for(var b in x)x.hasOwnProperty(b)&&(this[b]=x[b]);this.doc=A,this.node=f};Wu.prototype.clear=function(){var A=this.doc.cm,f=this.line.widgets,x=this.line,b=ge(x);if(!(b==null||!f)){for(var E=0;E<f.length;++E)f[E]==this&&f.splice(E--,1);f.length||(x.widgets=null);var L=Yl(this);Ji(x,Math.max(0,x.height-L)),A&&(Pa(A,function(){Xm(A,x,-L),$s(A,b,"widget")}),Fo(A,"lineWidgetCleared",A,this,b))}},Wu.prototype.changed=function(){var A=this,f=this.height,x=this.doc.cm,b=this.line;this.height=null;var E=Yl(this)-f;E&&(Ki(this.doc,b)||Ji(b,b.height+E),x&&Pa(x,function(){x.curOp.forceUpdate=!0,Xm(x,b,E),Fo(x,"lineWidgetChanged",x,A,ge(b))}))},Ue(Wu);function Xm(A,f,x){Ta(f)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&Mh(A,x)}function Ih(A,f,x,b){var E=new Wu(A,x,b),L=A.cm;return L&&E.noHScroll&&(L.display.alignWidgets=!0),Jc(A,f,"widget",function($){var J=$.widgets||($.widgets=[]);if(E.insertAt==null?J.push(E):J.splice(Math.min(J.length,Math.max(0,E.insertAt)),0,E),E.line=$,L&&!Ki(A,$)){var le=Ta($)<A.scrollTop;Ji($,$.height+Yl(E)),le&&Mh(L,E.height),L.curOp.forceUpdate=!0}return!0}),L&&Fo(L,"lineWidgetAdded",L,E,typeof f=="number"?f:ge(f)),E}var Th=0,Hl=function(A,f){this.lines=[],this.type=f,this.doc=A,this.id=++Th};Hl.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,f=A&&!A.curOp;if(f&&Ru(A),Se(this,"clear")){var x=this.find();x&&Fo(this,"clear",x.from,x.to)}for(var b=null,E=null,L=0;L<this.lines.length;++L){var $=this.lines[L],J=Ho($.markedSpans,this);A&&!this.collapsed?$s(A,ge($),"text"):A&&(J.to!=null&&(E=ge($)),J.from!=null&&(b=ge($))),$.markedSpans=nA($.markedSpans,J),J.from==null&&this.collapsed&&!Ki(this.doc,$)&&A&&Ji($,Jo(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var le=0;le<this.lines.length;++le){var pe=Yr(this.lines[le]),We=Ka(pe);We>A.display.maxLineLength&&(A.display.maxLine=pe,A.display.maxLineLength=We,A.display.maxLineChanged=!0)}b!=null&&A&&this.collapsed&&Ma(A,b,E+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&Fa(A.doc)),A&&Fo(A,"markerCleared",A,this,b,E),f&&lA(A),this.parent&&this.parent.clear()}},Hl.prototype.find=function(A,f){A==null&&this.type=="bookmark"&&(A=1);for(var x,b,E=0;E<this.lines.length;++E){var L=this.lines[E],$=Ho(L.markedSpans,this);if($.from!=null&&(x=Kt(f?L:ge(L),$.from),A==-1))return x;if($.to!=null&&(b=Kt(f?L:ge(L),$.to),A==1))return b}return x&&{from:x,to:b}},Hl.prototype.changed=function(){var A=this,f=this.find(-1,!0),x=this,b=this.doc.cm;!f||!b||Pa(b,function(){var E=f.line,L=ge(f.line),$=Yc(b,L);if($&&(bh($),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!Ki(x.doc,E)&&x.height!=null){var J=x.height;x.height=null;var le=Yl(x)-J;le&&Ji(E,E.height+le)}Fo(b,"markerChanged",b,A)})},Hl.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||Pe(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},Hl.prototype.detachLine=function(A){if(this.lines.splice(Pe(this.lines,A),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},Ue(Hl);function Ud(A,f,x,b,E){if(b&&b.shared)return T1(A,f,x,b,E);if(A.cm&&!A.cm.curOp)return no(A.cm,Ud)(A,f,x,b,E);var L=new Hl(A,E),$=Mn(f,x);if(b&&Me(b,L,!1),$>0||$==0&&L.clearWhenEmpty!==!1)return L;if(L.replacedWith&&(L.collapsed=!0,L.widgetNode=Ut("span",[L.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||L.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(L.widgetNode.insertLeft=!0)),L.collapsed){if(Ti(A,f.line,f,x,L)||f.line!=x.line&&Ti(A,x.line,f,x,L))throw new Error("Inserting collapsed marker partially overlapping an existing one");ml()}L.addToHistory&&Hr(A,{from:f,to:x,origin:"markText"},A.sel,NaN);var J=f.line,le=A.cm,pe;if(A.iter(J,x.line+1,function(qe){le&&L.collapsed&&!le.options.lineWrapping&&Yr(qe)==le.display.maxLine&&(pe=!0),L.collapsed&&J!=f.line&&Ji(qe,0),uu(qe,new Il(L,J==f.line?f.ch:null,J==x.line?x.ch:null),A.cm&&A.cm.curOp),++J}),L.collapsed&&A.iter(f.line,x.line+1,function(qe){Ki(A,qe)&&Ji(qe,0)}),L.clearOnEnter&&Tt(L,"beforeCursorEnter",function(){return L.clear()}),L.readOnly&&(SA(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),L.collapsed&&(L.id=++Th,L.atomic=!0),le){if(pe&&(le.curOp.updateMaxLine=!0),L.collapsed)Ma(le,f.line,x.line+1);else if(L.className||L.startStyle||L.endStyle||L.css||L.attributes||L.title)for(var We=f.line;We<=x.line;We++)$s(le,We,"text");L.atomic&&Fa(le.doc),Fo(le,"markerAdded",le,L)}return L}var Rd=function(A,f){this.markers=A,this.primary=f;for(var x=0;x<A.length;++x)A[x].parent=this};Rd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();Fo(this,"clear")}},Rd.prototype.find=function(A,f){return this.primary.find(A,f)},Ue(Rd);function T1(A,f,x,b,E){b=Me(b),b.shared=!1;var L=[Ud(A,f,x,b,E)],$=L[0],J=b.widgetNode;return vn(A,function(le){J&&(b.widgetNode=J.cloneNode(!0)),L.push(Ud(le,Br(le,f),Br(le,x),b,E));for(var pe=0;pe<le.linked.length;++pe)if(le.linked[pe].isParent)return;$=bn(L)}),new Rd(L,$)}function al(A){return A.findMarks(Kt(A.first,0),A.clipPos(Kt(A.lastLine())),function(f){return f.parent})}function zd(A,f){for(var x=0;x<f.length;x++){var b=f[x],E=b.find(),L=A.clipPos(E.from),$=A.clipPos(E.to);if(Mn(L,$)){var J=Ud(A,L,$,b.primary,b.primary.type);b.markers.push(J),J.parent=b}}}function Jm(A){for(var f=function(b){var E=A[b],L=[E.primary.doc];vn(E.primary.doc,function(le){return L.push(le)});for(var $=0;$<E.markers.length;$++){var J=E.markers[$];Pe(L,J.doc)==-1&&(J.parent=null,E.markers.splice($--,1))}},x=0;x<A.length;x++)f(x)}var Fp=0,ms=function(A,f,x,b,E){if(!(this instanceof ms))return new ms(A,f,x,b,E);x==null&&(x=0),kh.call(this,[new ed([new Iu("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var L=Kt(x,0);this.sel=je(L),this.history=new Cr(null),this.id=++Fp,this.modeOption=f,this.lineSep=b,this.direction=E=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),un(this,{from:L,to:L,text:A}),Ei(this,je(L),xt)};ms.prototype=Nr(kh.prototype,{constructor:ms,iter:function(A,f,x){x?this.iterN(A-this.first,f-A,x):this.iterN(this.first,this.first+this.size,A)},insert:function(A,f){for(var x=0,b=0;b<f.length;++b)x+=f[b].height;this.insertInner(A-this.first,f,x)},remove:function(A,f){this.removeInner(A-this.first,f)},getValue:function(A){var f=No(this,this.first,this.first+this.size);return A===!1?f:f.join(A||this.lineSeparator())},setValue:la(function(A){var f=Kt(this.first,0),x=this.first+this.size-1;Vl(this,{from:f,to:Kt(x,Qn(this,x).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&ea(this.cm,0,0),Ei(this,je(f),xt)}),replaceRange:function(A,f,x,b){f=Br(this,f),x=x?Br(this,x):f,ju(this,A,f,x,b)},getRange:function(A,f,x){var b=so(this,Br(this,A),Br(this,f));return x===!1?b:x===""?b.join(""):b.join(x||this.lineSeparator())},getLine:function(A){var f=this.getLineHandle(A);return f&&f.text},getLineHandle:function(A){if(Xt(this,A))return Qn(this,A)},getLineNumber:function(A){return ge(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=Qn(this,A)),Yr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Br(this,A)},getCursor:function(A){var f=this.sel.primary(),x;return A==null||A=="head"?x=f.head:A=="anchor"?x=f.anchor:A=="end"||A=="to"||A===!1?x=f.to():x=f.from(),x},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:la(function(A,f,x){vu(this,Br(this,typeof A=="number"?Kt(A,f||0):A),null,x)}),setSelection:la(function(A,f,x){vu(this,Br(this,A),Br(this,f||A),x)}),extendSelection:la(function(A,f,x){Fl(this,Br(this,A),f&&Br(this,f),x)}),extendSelections:la(function(A,f){DA(this,il(this,A),f)}),extendSelectionsBy:la(function(A,f){var x=Jn(this.sel.ranges,A);DA(this,il(this,x),f)}),setSelections:la(function(A,f,x){if(A.length){for(var b=[],E=0;E<A.length;E++)b[E]=new Fe(Br(this,A[E].anchor),Br(this,A[E].head||A[E].anchor));f==null&&(f=Math.min(A.length-1,this.sel.primIndex)),Ei(this,Ge(this.cm,b,f),x)}}),addSelection:la(function(A,f,x){var b=this.sel.ranges.slice(0);b.push(new Fe(Br(this,A),Br(this,f||A))),Ei(this,Ge(this.cm,b,b.length-1),x)}),getSelection:function(A){for(var f=this.sel.ranges,x,b=0;b<f.length;b++){var E=so(this,f[b].from(),f[b].to());x=x?x.concat(E):E}return A===!1?x:x.join(A||this.lineSeparator())},getSelections:function(A){for(var f=[],x=this.sel.ranges,b=0;b<x.length;b++){var E=so(this,x[b].from(),x[b].to());A!==!1&&(E=E.join(A||this.lineSeparator())),f[b]=E}return f},replaceSelection:function(A,f,x){for(var b=[],E=0;E<this.sel.ranges.length;E++)b[E]=A;this.replaceSelections(b,f,x||"+input")},replaceSelections:la(function(A,f,x){for(var b=[],E=this.sel,L=0;L<E.ranges.length;L++){var $=E.ranges[L];b[L]={from:$.from(),to:$.to(),text:this.splitLines(A[L]),origin:x}}for(var J=f&&f!="end"&&Gt(this,b,f),le=b.length-1;le>=0;le--)Vl(this,b[le]);J?Bo(this,J):this.cm&&to(this.cm)}),undo:la(function(){qs(this,"undo")}),redo:la(function(){qs(this,"redo")}),undoSelection:la(function(){qs(this,"undo",!0)}),redoSelection:la(function(){qs(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,f=0,x=0,b=0;b<A.done.length;b++)A.done[b].ranges||++f;for(var E=0;E<A.undone.length;E++)A.undone[E].ranges||++x;return{undo:f,redo:x}},clearHistory:function(){var A=this;this.history=new Cr(this.history),vn(this,function(f){return f.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:_a(this.history.done),undone:_a(this.history.undone)}},setHistory:function(A){var f=this.history=new Cr(this.history);f.done=_a(A.done.slice(0),null,!0),f.undone=_a(A.undone.slice(0),null,!0)},setGutterMarker:la(function(A,f,x){return Jc(this,A,"gutter",function(b){var E=b.gutterMarkers||(b.gutterMarkers={});return E[f]=x,!x&&H(E)&&(b.gutterMarkers=null),!0})}),clearGutter:la(function(A){var f=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[A]&&Jc(f,x,"gutter",function(){return x.gutterMarkers[A]=null,H(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(A){var f;if(typeof A=="number"){if(!Xt(this,A)||(f=A,A=Qn(this,A),!A))return null}else if(f=ge(A),f==null)return null;return{line:f,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:la(function(A,f,x){return Jc(this,A,f=="gutter"?"gutter":"class",function(b){var E=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!b[E])b[E]=x;else{if(et(x).test(b[E]))return!1;b[E]+=" "+x}return!0})}),removeLineClass:la(function(A,f,x){return Jc(this,A,f=="gutter"?"gutter":"class",function(b){var E=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",L=b[E];if(L)if(x==null)b[E]=null;else{var $=L.match(et(x));if(!$)return!1;var J=$.index+$[0].length;b[E]=L.slice(0,$.index)+(!$.index||J==L.length?"":" ")+L.slice(J)||null}else return!1;return!0})}),addLineWidget:la(function(A,f,x){return Ih(this,A,f,x)}),removeLineWidget:function(A){A.clear()},markText:function(A,f,x){return Ud(this,Br(this,A),Br(this,f),x,x&&x.type||"range")},setBookmark:function(A,f){var x={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return A=Br(this,A),Ud(this,A,A,x,"bookmark")},findMarksAt:function(A){A=Br(this,A);var f=[],x=Qn(this,A.line).markedSpans;if(x)for(var b=0;b<x.length;++b){var E=x[b];(E.from==null||E.from<=A.ch)&&(E.to==null||E.to>=A.ch)&&f.push(E.marker.parent||E.marker)}return f},findMarks:function(A,f,x){A=Br(this,A),f=Br(this,f);var b=[],E=A.line;return this.iter(A.line,f.line+1,function(L){var $=L.markedSpans;if($)for(var J=0;J<$.length;J++){var le=$[J];!(le.to!=null&&E==A.line&&A.ch>=le.to||le.from==null&&E!=A.line||le.from!=null&&E==f.line&&le.from>=f.ch)&&(!x||x(le.marker))&&b.push(le.marker.parent||le.marker)}++E}),b},getAllMarks:function(){var A=[];return this.iter(function(f){var x=f.markedSpans;if(x)for(var b=0;b<x.length;++b)x[b].from!=null&&A.push(x[b].marker)}),A},posFromIndex:function(A){var f,x=this.first,b=this.lineSeparator().length;return this.iter(function(E){var L=E.text.length+b;if(L>A)return f=A,!0;A-=L,++x}),Br(this,Kt(x,f))},indexFromPos:function(A){A=Br(this,A);var f=A.ch;if(A.line<this.first||A.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,A.line,function(b){f+=b.text.length+x}),f},copy:function(A){var f=new ms(No(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,A&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(A){A||(A={});var f=this.first,x=this.first+this.size;A.from!=null&&A.from>f&&(f=A.from),A.to!=null&&A.to<x&&(x=A.to);var b=new ms(No(this,f,x),A.mode||this.modeOption,f,this.lineSep,this.direction);return A.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:A.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],zd(b,al(this)),b},unlinkDoc:function(A){if(A instanceof fo&&(A=A.doc),this.linked)for(var f=0;f<this.linked.length;++f){var x=this.linked[f];if(x.doc==A){this.linked.splice(f,1),A.unlinkDoc(this),Jm(al(this));break}}if(A.history==this.history){var b=[A.id];vn(A,function(E){return b.push(E.id)},!0),A.history=new Cr(null),A.history.done=_a(this.history.done,b),A.history.undone=_a(this.history.undone,b)}},iterLinkedDocs:function(A){vn(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):or(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:la(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(f){return f.order=null}),this.cm&&In(this.cm))})}),ms.prototype.eachLine=ms.prototype.iter;var Dp=0;function Lp(A){var f=this;if(t0(f),!(de(f,A)||Tl(f.display,A))){Xe(A),h&&(Dp=+new Date);var x=vl(f,A,!0),b=A.dataTransfer.files;if(!(!x||f.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var E=b.length,L=Array(E),$=0,J=function(){++$==E&&no(f,function(){x=Br(f.doc,x);var gt={from:x,to:x,text:f.doc.splitLines(L.filter(function(Lt){return Lt!=null}).join(f.doc.lineSeparator())),origin:"paste"};Vl(f.doc,gt),Bo(f.doc,je(Br(f.doc,x),Br(f.doc,ct(gt))))})()},le=function(gt,Lt){if(f.options.allowDropFileTypes&&Pe(f.options.allowDropFileTypes,gt.type)==-1){J();return}var dn=new FileReader;dn.onerror=function(){return J()},dn.onload=function(){var Bn=dn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Bn)){J();return}L[Lt]=Bn,J()},dn.readAsText(gt)},pe=0;pe<b.length;pe++)le(b[pe],pe);else{if(f.state.draggingText&&f.doc.sel.contains(x)>-1){f.state.draggingText(A),setTimeout(function(){return f.display.input.focus()},20);return}try{var We=A.dataTransfer.getData("Text");if(We){var qe;if(f.state.draggingText&&!f.state.draggingText.copy&&(qe=f.listSelections()),ho(f.doc,je(x,x)),qe)for(var wt=0;wt<qe.length;++wt)ju(f.doc,"",qe[wt].anchor,qe[wt].head,"drag");f.replaceSelection(We,"around","paste"),f.display.input.focus()}}catch{}}}}function e0(A,f){if(h&&(!A.state.draggingText||+new Date-Dp<100)){Ve(f);return}if(!(de(A,f)||Tl(A.display,f))&&(f.dataTransfer.setData("Text",A.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!Z)){var x=_e("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",U&&(x.width=x.height=1,A.display.wrapper.appendChild(x),x._top=x.offsetTop),f.dataTransfer.setDragImage(x,0,0),U&&x.parentNode.removeChild(x)}}function ji(A,f){var x=vl(A,f);if(x){var b=document.createDocumentFragment();hc(A,x,b),A.display.dragCursor||(A.display.dragCursor=_e("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),rt(A.display.dragCursor,b)}}function t0(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function n0(A){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),x=[],b=0;b<f.length;b++){var E=f[b].CodeMirror;E&&x.push(E)}x.length&&x[0].operation(function(){for(var L=0;L<x.length;L++)A(x[L])})}}var Kh=!1;function Up(){Kh||(K1(),Kh=!0)}function K1(){var A;Tt(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,n0(r0)},100))}),Tt(window,"blur",function(){return n0(fc)})}function r0(A){var f=A.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,A.setSize()}for(var Sa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},sl=0;sl<10;sl++)Sa[sl+48]=Sa[sl+96]=String(sl);for(var td=65;td<=90;td++)Sa[td]=String.fromCharCode(td);for(var jd=1;jd<=12;jd++)Sa[jd+111]=Sa[jd+63235]="F"+jd;var uA={};uA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},uA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},uA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},uA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},uA.default=Ae?uA.macDefault:uA.pcDefault;function P1(A){var f=A.split(/-(?!$)/);A=f[f.length-1];for(var x,b,E,L,$=0;$<f.length-1;$++){var J=f[$];if(/^(cmd|meta|m)$/i.test(J))L=!0;else if(/^a(lt)?$/i.test(J))x=!0;else if(/^(c|ctrl|control)$/i.test(J))b=!0;else if(/^s(hift)?$/i.test(J))E=!0;else throw new Error("Unrecognized modifier name: "+J)}return x&&(A="Alt-"+A),b&&(A="Ctrl-"+A),L&&(A="Cmd-"+A),E&&(A="Shift-"+A),A}function _u(A){var f={};for(var x in A)if(A.hasOwnProperty(x)){var b=A[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if(b=="..."){delete A[x];continue}for(var E=Jn(x.split(" "),P1),L=0;L<E.length;L++){var $=void 0,J=void 0;L==E.length-1?(J=E.join(" "),$=b):(J=E.slice(0,L+1).join(" "),$="...");var le=f[J];if(!le)f[J]=$;else if(le!=$)throw new Error("Inconsistent bindings for "+J)}delete A[x]}for(var pe in f)A[pe]=f[pe];return A}function Cu(A,f,x,b){f=Ph(f);var E=f.call?f.call(A,b):f[A];if(E===!1)return"nothing";if(E==="...")return"multi";if(E!=null&&x(E))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return Cu(A,f.fallthrough,x,b);for(var L=0;L<f.fallthrough.length;L++){var $=Cu(A,f.fallthrough[L],x,b);if($)return $}}}function Rp(A){var f=typeof A=="string"?A:Sa[A.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function zf(A,f,x){var b=A;return f.altKey&&b!="Alt"&&(A="Alt-"+A),(De?f.metaKey:f.ctrlKey)&&b!="Ctrl"&&(A="Ctrl-"+A),(De?f.ctrlKey:f.metaKey)&&b!="Mod"&&(A="Cmd-"+A),!x&&f.shiftKey&&b!="Shift"&&(A="Shift-"+A),A}function nd(A,f){if(U&&A.keyCode==34&&A.char)return!1;var x=Sa[A.keyCode];return x==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(x=A.code),zf(x,A,f))}function Ph(A){return typeof A=="string"?uA[A]:A}function Zl(A,f){for(var x=A.doc.sel.ranges,b=[],E=0;E<x.length;E++){for(var L=f(x[E]);b.length&&Mn(L.from,bn(b).to)<=0;){var $=b.pop();if(Mn($.from,L.from)<0){L.from=$.from;break}}b.push(L)}Pa(A,function(){for(var J=b.length-1;J>=0;J--)ju(A.doc,"",b[J].from,b[J].to,"+delete");to(A)})}function rd(A,f,x){var b=st(A.text,f+x,x);return b<0||b>A.text.length?null:b}function jf(A,f,x){var b=rd(A,f.ch,x);return b==null?null:new Kt(f.line,b,x<0?"after":"before")}function Wf(A,f,x,b,E){if(A){f.doc.direction=="rtl"&&(E=-E);var L=En(x,f.doc.direction);if(L){var $=E<0?bn(L):L[0],J=E<0==($.level==1),le=J?"after":"before",pe;if($.level>0||f.doc.direction=="rtl"){var We=Kl(f,x);pe=E<0?x.text.length-1:0;var qe=gl(f,We,pe).top;pe=St(function(wt){return gl(f,We,wt).top==qe},E<0==($.level==1)?$.from:$.to-1,pe),le=="before"&&(pe=rd(x,pe,1))}else pe=E<0?$.to:$.from;return new Kt(b,pe,le)}}return new Kt(b,E<0?x.text.length:0,E<0?"before":"after")}function id(A,f,x,b){var E=En(f,A.doc.direction);if(!E)return jf(f,x,b);x.ch>=f.text.length?(x.ch=f.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var L=mn(E,x.ch,x.sticky),$=E[L];if(A.doc.direction=="ltr"&&$.level%2==0&&(b>0?$.to>x.ch:$.from<x.ch))return jf(f,x,b);var J=function(Gn,_n){return rd(f,Gn instanceof Kt?Gn.ch:Gn,_n)},le,pe=function(Gn){return A.options.lineWrapping?(le=le||Kl(A,f),co(A,f,le,Gn)):{begin:0,end:f.text.length}},We=pe(x.sticky=="before"?J(x,-1):x.ch);if(A.doc.direction=="rtl"||$.level==1){var qe=$.level==1==b<0,wt=J(x,qe?1:-1);if(wt!=null&&(qe?wt<=$.to&&wt<=We.end:wt>=$.from&&wt>=We.begin)){var gt=qe?"before":"after";return new Kt(x.line,wt,gt)}}var Lt=function(Gn,_n,Fn){for(var ar=function(ko,La){return La?new Kt(x.line,J(ko,1),"before"):new Kt(x.line,ko,"after")};Gn>=0&&Gn<E.length;Gn+=_n){var Or=E[Gn],yr=_n>0==(Or.level!=1),ii=yr?Fn.begin:J(Fn.end,-1);if(Or.from<=ii&&ii<Or.to||(ii=yr?Or.from:J(Or.to,-1),Fn.begin<=ii&&ii<Fn.end))return ar(ii,yr)}},dn=Lt(L+b,b,We);if(dn)return dn;var Bn=b>0?We.end:J(We.begin,-1);return Bn!=null&&!(b>0&&Bn==f.text.length)&&(dn=Lt(b>0?0:E.length-1,b,pe(Bn)),dn)?dn:null}var Nf={selectAll:LA,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),xt)},killLine:function(A){return Zl(A,function(f){if(f.empty()){var x=Qn(A.doc,f.head.line).text.length;return f.head.ch==x&&f.head.line<A.lastLine()?{from:f.head,to:Kt(f.head.line+1,0)}:{from:f.head,to:Kt(f.head.line,x)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(A){return Zl(A,function(f){return{from:Kt(f.from().line,0),to:Br(A.doc,Kt(f.to().line+1,0))}})},delLineLeft:function(A){return Zl(A,function(f){return{from:Kt(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(A){return Zl(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return{from:b,to:f.from()}})},delWrappedLineRight:function(A){return Zl(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div");return{from:f.from(),to:b}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Kt(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Kt(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(f){return Cc(A,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(f){return i0(A,f.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(f){return F1(A,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div")},Dt)},goLineLeft:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:0,top:x},"div")},Dt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return b.ch<A.getLine(b.line).search(/\S/)?i0(A,f.head):b},Dt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var f=[],x=A.listSelections(),b=A.options.tabSize,E=0;E<x.length;E++){var L=x[E].from(),$=he(A.getLine(L.line),L.ch,b);f.push(pn(b-$%b))}A.replaceSelections(f)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return Pa(A,function(){for(var f=A.listSelections(),x=[],b=0;b<f.length;b++)if(f[b].empty()){var E=f[b].head,L=Qn(A.doc,E.line).text;if(L){if(E.ch==L.length&&(E=new Kt(E.line,E.ch-1)),E.ch>0)E=new Kt(E.line,E.ch+1),A.replaceRange(L.charAt(E.ch-1)+L.charAt(E.ch-2),Kt(E.line,E.ch-2),E,"+transpose");else if(E.line>A.doc.first){var $=Qn(A.doc,E.line-1).text;$&&(E=new Kt(E.line,1),A.replaceRange(L.charAt(0)+A.doc.lineSeparator()+$.charAt($.length-1),Kt(E.line-1,$.length-1),E,"+transpose"))}}x.push(new Fe(E,E))}A.setSelections(x)})},newlineAndIndent:function(A){return Pa(A,function(){for(var f=A.listSelections(),x=f.length-1;x>=0;x--)A.replaceRange(A.doc.lineSeparator(),f[x].anchor,f[x].head,"+input");f=A.listSelections();for(var b=0;b<f.length;b++)A.indentLine(f[b].from().line,null,!0);to(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function Cc(A,f){var x=Qn(A.doc,f),b=Yr(x);return b!=x&&(f=ge(b)),Wf(!0,A,b,f,1)}function F1(A,f){var x=Qn(A.doc,f),b=Gi(x);return b!=x&&(f=ge(b)),Wf(!0,A,x,f,-1)}function i0(A,f){var x=Cc(A,f.line),b=Qn(A.doc,x.line),E=En(b,A.doc.direction);if(!E||E[0].level==0){var L=Math.max(x.ch,b.text.search(/\S/)),$=f.line==x.line&&f.ch<=L&&f.ch;return Kt(x.line,$?0:L,x.sticky)}return x}function od(A,f,x){if(typeof f=="string"&&(f=Nf[f],!f))return!1;A.display.input.ensurePolled();var b=A.display.shift,E=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),x&&(A.display.shift=!1),E=f(A)!=nt}finally{A.display.shift=b,A.state.suppressEdits=!1}return E}function av(A,f,x){for(var b=0;b<A.state.keyMaps.length;b++){var E=Cu(f,A.state.keyMaps[b],x,A);if(E)return E}return A.options.extraKeys&&Cu(f,A.options.extraKeys,x,A)||Cu(f,A.options.keyMap,x,A)}var Fh=new be;function Gf(A,f,x,b){var E=A.state.keySeq;if(E){if(Rp(f))return"handled";if(/\'$/.test(f)?A.state.keySeq=null:Fh.set(50,function(){A.state.keySeq==E&&(A.state.keySeq=null,A.display.input.reset())}),Aa(A,E+" "+f,x,b))return!0}return Aa(A,f,x,b)}function Aa(A,f,x,b){var E=av(A,f,b);return E=="multi"&&(A.state.keySeq=f),E=="handled"&&Fo(A,"keyHandled",A,f,x),(E=="handled"||E=="multi")&&(Xe(x),Du(A)),!!E}function Dh(A,f){var x=nd(f,!0);return x?f.shiftKey&&!A.state.keySeq?Gf(A,"Shift-"+x,f,function(b){return od(A,b,!0)})||Gf(A,x,f,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return od(A,b)}):Gf(A,x,f,function(b){return od(A,b)}):!1}function D1(A,f,x){return Gf(A,"'"+x+"'",f,function(b){return od(A,b,!0)})}var Wd=null;function Lh(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&(f.curOp.focus=Qt(mt(f)),!de(f,A))){h&&g<11&&A.keyCode==27&&(A.returnValue=!1);var x=A.keyCode;f.display.shift=x==16||A.shiftKey;var b=Dh(f,A);U&&(Wd=b?x:null,!b&&x==88&&!Ur&&(Ae?A.metaKey:A.ctrlKey)&&f.replaceSelection("",null,"cut")),i&&!Ae&&!b&&x==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),x==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&Vs(f)}}function Vs(A){var f=A.display.lineDiv;He(f,"CodeMirror-crosshair");function x(b){(b.keyCode==18||!b.altKey)&&(ft(f,"CodeMirror-crosshair"),Wn(document,"keyup",x),Wn(document,"mouseover",x))}Tt(document,"keyup",x),Tt(document,"mouseover",x)}function Nu(A){A.keyCode==16&&(this.doc.sel.shift=!1),de(this,A)}function o0(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&!(Tl(f.display,A)||de(f,A)||A.ctrlKey&&!A.altKey||Ae&&A.metaKey)){var x=A.keyCode,b=A.charCode;if(U&&x==Wd){Wd=null,Xe(A);return}if(!(U&&(!A.which||A.which<10)&&Dh(f,A))){var E=String.fromCharCode(b??x);E!="\b"&&(D1(f,A,E)||f.display.input.onKeyPress(A))}}}var Qf=400,ad=function(A,f,x){this.time=A,this.pos=f,this.button=x};ad.prototype.compare=function(A,f,x){return this.time+Qf>A&&Mn(f,this.pos)==0&&x==this.button};var Gu,Nd;function L1(A,f){var x=+new Date;return Nd&&Nd.compare(x,A,f)?(Gu=Nd=null,"triple"):Gu&&Gu.compare(x,A,f)?(Nd=new ad(x,A,f),Gu=null,"double"):(Gu=new ad(x,A,f),Nd=null,"single")}function a0(A){var f=this,x=f.display;if(!(de(f,A)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=A.shiftKey,Tl(x,A)){C||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100));return}if(!Qd(f,A)){var b=vl(f,A),E=Zt(A),L=b?L1(b,E):"single";kt(f).focus(),E==1&&f.state.selectingText&&f.state.selectingText(A),!(b&&Uh(f,E,b,L,A))&&(E==1?b?Gd(f,b,L,A):Ct(A)==x.scroller&&Xe(A):E==2?(b&&Fl(f.doc,b),setTimeout(function(){return x.input.focus()},20)):E==3&&(Ne?f.display.input.onContextMenu(A):PA(f)))}}}function Uh(A,f,x,b,E){var L="Click";return b=="double"?L="Double"+L:b=="triple"&&(L="Triple"+L),L=(f==1?"Left":f==2?"Middle":"Right")+L,Gf(A,zf(L,E),E,function($){if(typeof $=="string"&&($=Nf[$]),!$)return!1;var J=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),J=$(A,x)!=nt}finally{A.state.suppressEdits=!1}return J})}function Rh(A,f,x){var b=A.getOption("configureMouse"),E=b?b(A,f,x):{};if(E.unit==null){var L=ae?x.shiftKey&&x.metaKey:x.altKey;E.unit=L?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(E.extend==null||A.doc.extend)&&(E.extend=A.doc.extend||x.shiftKey),E.addNew==null&&(E.addNew=Ae?x.metaKey:x.ctrlKey),E.moveOnDrag==null&&(E.moveOnDrag=!(Ae?x.altKey:x.ctrlKey)),E}function Gd(A,f,x,b){h?setTimeout(Pt(gu,A),0):A.curOp.focus=Qt(mt(A));var E=Rh(A,x,b),L=A.doc.sel,$;A.options.dragDrop&&Ht&&!A.isReadOnly()&&x=="single"&&($=L.contains(f))>-1&&(Mn(($=L.ranges[$]).from(),f)<0||f.xRel>0)&&(Mn($.to(),f)>0||f.xRel<0)?sv(A,b,f,E):zp(A,b,f,E)}function sv(A,f,x,b){var E=A.display,L=!1,$=no(A,function(pe){C&&(E.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:PA(A)),Wn(E.wrapper.ownerDocument,"mouseup",$),Wn(E.wrapper.ownerDocument,"mousemove",J),Wn(E.scroller,"dragstart",le),Wn(E.scroller,"drop",$),L||(Xe(pe),b.addNew||Fl(A.doc,x,null,null,b.extend),C&&!Z||h&&g==9?setTimeout(function(){E.wrapper.ownerDocument.body.focus({preventScroll:!0}),E.input.focus()},20):E.input.focus())}),J=function(pe){L=L||Math.abs(f.clientX-pe.clientX)+Math.abs(f.clientY-pe.clientY)>=10},le=function(){return L=!0};C&&(E.scroller.draggable=!0),A.state.draggingText=$,$.copy=!b.moveOnDrag,Tt(E.wrapper.ownerDocument,"mouseup",$),Tt(E.wrapper.ownerDocument,"mousemove",J),Tt(E.scroller,"dragstart",le),Tt(E.scroller,"drop",$),A.state.delayingBlurEvent=!0,setTimeout(function(){return E.input.focus()},20),E.scroller.dragDrop&&E.scroller.dragDrop()}function $f(A,f,x){if(x=="char")return new Fe(f,f);if(x=="word")return A.findWordAt(f);if(x=="line")return new Fe(Kt(f.line,0),Br(A.doc,Kt(f.line+1,0)));var b=x(A,f);return new Fe(b.from,b.to)}function zp(A,f,x,b){h&&PA(A);var E=A.display,L=A.doc;Xe(f);var $,J,le=L.sel,pe=le.ranges;if(b.addNew&&!b.extend?(J=L.sel.contains(x),J>-1?$=pe[J]:$=new Fe(x,x)):($=L.sel.primary(),J=L.sel.primIndex),b.unit=="rectangle")b.addNew||($=new Fe(x,x)),x=vl(A,f,!0,!0),J=-1;else{var We=$f(A,x,b.unit);b.extend?$=vo($,We.anchor,We.head,b.extend):$=We}b.addNew?J==-1?(J=pe.length,Ei(L,Ge(A,pe.concat([$]),J),{scroll:!1,origin:"*mouse"})):pe.length>1&&pe[J].empty()&&b.unit=="char"&&!b.extend?(Ei(L,Ge(A,pe.slice(0,J).concat(pe.slice(J+1)),0),{scroll:!1,origin:"*mouse"}),le=L.sel):Ts(L,J,$,Ft):(J=0,Ei(L,new ze([$],0),Ft),le=L.sel);var qe=x;function wt(Fn){if(Mn(qe,Fn)!=0)if(qe=Fn,b.unit=="rectangle"){for(var ar=[],Or=A.options.tabSize,yr=he(Qn(L,x.line).text,x.ch,Or),ii=he(Qn(L,Fn.line).text,Fn.ch,Or),ko=Math.min(yr,ii),La=Math.max(yr,ii),ca=Math.min(x.line,Fn.line),Ea=Math.min(A.lastLine(),Math.max(x.line,Fn.line));ca<=Ea;ca++){var es=Qn(L,ca).text,ts=pt(es,ko,Or);ko==La?ar.push(new Fe(Kt(ca,ts),Kt(ca,ts))):es.length>ts&&ar.push(new Fe(Kt(ca,ts),Kt(ca,pt(es,La,Or))))}ar.length||ar.push(new Fe(x,x)),Ei(L,Ge(A,le.ranges.slice(0,J).concat(ar),J),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Fn)}else{var xl=$,Hs=$f(A,Fn,b.unit),gs=xl.anchor,ns;Mn(Hs.anchor,gs)>0?(ns=Hs.head,gs=ya(xl.from(),Hs.anchor)):(ns=Hs.anchor,gs=ri(xl.to(),Hs.head));var na=le.ranges.slice(0);na[J]=zh(A,new Fe(Br(L,gs),ns)),Ei(L,Ge(A,na,J),Ft)}}var gt=E.wrapper.getBoundingClientRect(),Lt=0;function dn(Fn){var ar=++Lt,Or=vl(A,Fn,!0,b.unit=="rectangle");if(Or)if(Mn(Or,qe)!=0){A.curOp.focus=Qt(mt(A)),wt(Or);var yr=yu(E,L);(Or.line>=yr.to||Or.line<yr.from)&&setTimeout(no(A,function(){Lt==ar&&dn(Fn)}),150)}else{var ii=Fn.clientY<gt.top?-20:Fn.clientY>gt.bottom?20:0;ii&&setTimeout(no(A,function(){Lt==ar&&(E.scroller.scrollTop+=ii,dn(Fn))}),50)}}function Bn(Fn){A.state.selectingText=!1,Lt=1/0,Fn&&(Xe(Fn),E.input.focus()),Wn(E.wrapper.ownerDocument,"mousemove",Gn),Wn(E.wrapper.ownerDocument,"mouseup",_n),L.history.lastSelOrigin=null}var Gn=no(A,function(Fn){Fn.buttons===0||!Zt(Fn)?Bn(Fn):dn(Fn)}),_n=no(A,Bn);A.state.selectingText=_n,Tt(E.wrapper.ownerDocument,"mousemove",Gn),Tt(E.wrapper.ownerDocument,"mouseup",_n)}function zh(A,f){var x=f.anchor,b=f.head,E=Qn(A.doc,x.line);if(Mn(x,b)==0&&x.sticky==b.sticky)return f;var L=En(E);if(!L)return f;var $=mn(L,x.ch,x.sticky),J=L[$];if(J.from!=x.ch&&J.to!=x.ch)return f;var le=$+(J.from==x.ch==(J.level!=1)?0:1);if(le==0||le==L.length)return f;var pe;if(b.line!=x.line)pe=(b.line-x.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var We=mn(L,b.ch,b.sticky),qe=We-$||(b.ch-x.ch)*(J.level==1?-1:1);We==le-1||We==le?pe=qe<0:pe=qe>0}var wt=L[le+(pe?-1:0)],gt=pe==(wt.level==1),Lt=gt?wt.from:wt.to,dn=gt?"after":"before";return x.ch==Lt&&x.sticky==dn?f:new Fe(new Kt(x.line,Lt,dn),b)}function jp(A,f,x,b){var E,L;if(f.touches)E=f.touches[0].clientX,L=f.touches[0].clientY;else try{E=f.clientX,L=f.clientY}catch{return!1}if(E>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;b&&Xe(f);var $=A.display,J=$.lineDiv.getBoundingClientRect();if(L>J.bottom||!Se(A,x))return ht(f);L-=J.top-$.viewOffset;for(var le=0;le<A.display.gutterSpecs.length;++le){var pe=$.gutters.childNodes[le];if(pe&&pe.getBoundingClientRect().right>=E){var We=$e(A.doc,L),qe=A.display.gutterSpecs[le];return Te(A,x,A,We,qe.className,f),ht(f)}}}function Qd(A,f){return jp(A,f,"gutterClick",!0)}function Wp(A,f){Tl(A.display,f)||Np(A,f)||de(A,f,"contextmenu")||Ne||A.display.input.onContextMenu(f)}function Np(A,f){return Se(A,"gutterContextMenu")?jp(A,f,"gutterContextMenu",!1):!1}function U1(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ql(A)}var $d={toString:function(){return"CodeMirror.Init"}},Yf={},Qu={};function s0(A){var f=A.optionHandlers;function x(b,E,L,$){A.defaults[b]=E,L&&(f[b]=$?function(J,le,pe){pe!=$d&&L(J,le,pe)}:L)}A.defineOption=x,A.Init=$d,x("value","",function(b,E){return b.setValue(E)},!0),x("mode",null,function(b,E){b.doc.modeOption=E,It(b)},!0),x("indentUnit",2,It,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(b){en(b),ql(b),Ma(b)},!0),x("lineSeparator",null,function(b,E){if(b.doc.lineSep=E,!!E){var L=[],$=b.doc.first;b.doc.iter(function(le){for(var pe=0;;){var We=le.text.indexOf(E,pe);if(We==-1)break;pe=We+E.length,L.push(Kt($,We))}$++});for(var J=L.length-1;J>=0;J--)ju(b.doc,E,L[J],Kt(L[J].line,L[J].ch+E.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,E,L){b.state.specialChars=new RegExp(E.source+(E.test("	")?"":"|	"),"g"),L!=$d&&b.refresh()}),x("specialCharPlaceholder",Tu,function(b){return b.refresh()},!0),x("electricChars",!0),x("inputStyle",re?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(b,E){return b.getInputField().spellcheck=E},!0),x("autocorrect",!1,function(b,E){return b.getInputField().autocorrect=E},!0),x("autocapitalize",!1,function(b,E){return b.getInputField().autocapitalize=E},!0),x("rtlMoveVisually",!se),x("wholeLineUpdateBefore",!0),x("theme","default",function(b){U1(b),R(b)},!0),x("keyMap","default",function(b,E,L){var $=Ph(E),J=L!=$d&&Ph(L);J&&J.detach&&J.detach(b,$),$.attach&&$.attach(b,J||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,Yd,!0),x("gutters",[],function(b,E){b.display.gutterSpecs=M(E,b.options.lineNumbers),R(b)},!0),x("fixedGutter",!0,function(b,E){b.display.gutters.style.left=E?Vi(b.display)+"px":"0",b.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(b){return _l(b)},!0),x("scrollbarStyle","native",function(b){Ff(b),_l(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),x("lineNumbers",!1,function(b,E){b.display.gutterSpecs=M(b.options.gutters,E),R(b)},!0),x("firstLineNumber",1,R,!0),x("lineNumberFormatter",function(b){return b},R,!0),x("showCursorWhenSelecting",!1,mu,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(b,E){E=="nocursor"&&(fc(b),b.display.input.blur()),b.display.input.readOnlyChanged(E)}),x("screenReaderLabel",null,function(b,E){E=E===""?null:E,b.display.input.screenReaderLabelChanged(E)}),x("disableInput",!1,function(b,E){E||b.display.input.reset()},!0),x("dragDrop",!0,R1),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,mu,!0),x("singleCursorHeightPerLine",!0,mu,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,en,!0),x("addModeClass",!1,en,!0),x("pollInterval",100),x("undoDepth",200,function(b,E){return b.doc.history.undoDepth=E}),x("historyEventDelay",1250),x("viewportMargin",10,function(b){return b.refresh()},!0),x("maxHighlightLength",1e4,en,!0),x("moveInputWithCursor",!0,function(b,E){E||b.display.input.resetPosition()}),x("tabindex",null,function(b,E){return b.display.input.getField().tabIndex=E||""}),x("autofocus",null),x("direction","ltr",function(b,E){return b.doc.setDirection(E)},!0),x("phrases",null)}function R1(A,f,x){var b=x&&x!=$d;if(!f!=!b){var E=A.display.dragFunctions,L=f?Tt:Wn;L(A.display.scroller,"dragstart",E.start),L(A.display.scroller,"dragenter",E.enter),L(A.display.scroller,"dragover",E.over),L(A.display.scroller,"dragleave",E.leave),L(A.display.scroller,"drop",E.drop)}}function Yd(A){A.options.lineWrapping?(He(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(ft(A.display.wrapper,"CodeMirror-wrap"),Ql(A)),wh(A),Ma(A),ql(A),setTimeout(function(){return _l(A)},100)}function fo(A,f){var x=this;if(!(this instanceof fo))return new fo(A,f);this.options=f=f?Me(f):{},Me(Yf,f,!1);var b=f.value;typeof b=="string"?b=new ms(b,f.mode,null,f.lineSeparator,f.direction):f.mode&&(b.modeOption=f.mode),this.doc=b;var E=new fo.inputStyles[f.inputStyle](this),L=this.display=new j(A,b,E,f);L.wrapper.CodeMirror=this,U1(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ff(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new be,keySeq:null,specialChars:null},f.autofocus&&!re&&L.input.focus(),h&&g<11&&setTimeout(function(){return x.display.input.reset(!0)},20),z1(this),Up(),Ru(this),this.curOp.forceUpdate=!0,er(this,b),f.autofocus&&!re||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&Kf(x)},20):fc(this);for(var $ in Qu)Qu.hasOwnProperty($)&&Qu[$](this,f[$],$d);_(this),f.finishInit&&f.finishInit(this);for(var J=0;J<Gp.length;++J)Gp[J](this);lA(this),C&&f.lineWrapping&&getComputedStyle(L.lineDiv).textRendering=="optimizelegibility"&&(L.lineDiv.style.textRendering="auto")}fo.defaults=Yf,fo.optionHandlers=Qu;function z1(A){var f=A.display;Tt(f.scroller,"mousedown",no(A,a0)),h&&g<11?Tt(f.scroller,"dblclick",no(A,function(le){if(!de(A,le)){var pe=vl(A,le);if(!(!pe||Qd(A,le)||Tl(A.display,le))){Xe(le);var We=A.findWordAt(pe);Fl(A.doc,We.anchor,We.head)}}})):Tt(f.scroller,"dblclick",function(le){return de(A,le)||Xe(le)}),Tt(f.scroller,"contextmenu",function(le){return Wp(A,le)}),Tt(f.input.getField(),"contextmenu",function(le){f.scroller.contains(le.target)||Wp(A,le)});var x,b={end:0};function E(){f.activeTouch&&(x=setTimeout(function(){return f.activeTouch=null},1e3),b=f.activeTouch,b.end=+new Date)}function L(le){if(le.touches.length!=1)return!1;var pe=le.touches[0];return pe.radiusX<=1&&pe.radiusY<=1}function $(le,pe){if(pe.left==null)return!0;var We=pe.left-le.left,qe=pe.top-le.top;return We*We+qe*qe>20*20}Tt(f.scroller,"touchstart",function(le){if(!de(A,le)&&!L(le)&&!Qd(A,le)){f.input.ensurePolled(),clearTimeout(x);var pe=+new Date;f.activeTouch={start:pe,moved:!1,prev:pe-b.end<=300?b:null},le.touches.length==1&&(f.activeTouch.left=le.touches[0].pageX,f.activeTouch.top=le.touches[0].pageY)}}),Tt(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Tt(f.scroller,"touchend",function(le){var pe=f.activeTouch;if(pe&&!Tl(f,le)&&pe.left!=null&&!pe.moved&&new Date-pe.start<300){var We=A.coordsChar(f.activeTouch,"page"),qe;!pe.prev||$(pe,pe.prev)?qe=new Fe(We,We):!pe.prev.prev||$(pe,pe.prev.prev)?qe=A.findWordAt(We):qe=new Fe(Kt(We.line,0),Br(A.doc,Kt(We.line+1,0))),A.setSelection(qe.anchor,qe.head),A.focus(),Xe(le)}E()}),Tt(f.scroller,"touchcancel",E),Tt(f.scroller,"scroll",function(){f.scroller.clientHeight&&(pc(A,f.scroller.scrollTop),Qo(A,f.scroller.scrollLeft,!0),Te(A,"scroll",A))}),Tt(f.scroller,"mousewheel",function(le){return Ee(A,le)}),Tt(f.scroller,"DOMMouseScroll",function(le){return Ee(A,le)}),Tt(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(le){de(A,le)||Ve(le)},over:function(le){de(A,le)||(ji(A,le),Ve(le))},start:function(le){return e0(A,le)},drop:no(A,Lp),leave:function(le){de(A,le)||t0(A)}};var J=f.input.getField();Tt(J,"keyup",function(le){return Nu.call(A,le)}),Tt(J,"keydown",no(A,Lh)),Tt(J,"keypress",no(A,o0)),Tt(J,"focus",function(le){return Kf(A,le)}),Tt(J,"blur",function(le){return fc(A,le)})}var Gp=[];fo.defineInitHook=function(A){return Gp.push(A)};function jh(A,f,x,b){var E=A.doc,L;x==null&&(x="add"),x=="smart"&&(E.mode.indent?L=Ha(A,f).state:x="prev");var $=A.options.tabSize,J=Qn(E,f),le=he(J.text,null,$);J.stateAfter&&(J.stateAfter=null);var pe=J.text.match(/^\s*/)[0],We;if(!b&&!/\S/.test(J.text))We=0,x="not";else if(x=="smart"&&(We=E.mode.indent(L,J.text.slice(pe.length),J.text),We==nt||We>150)){if(!b)return;x="prev"}x=="prev"?f>E.first?We=he(Qn(E,f-1).text,null,$):We=0:x=="add"?We=le+A.options.indentUnit:x=="subtract"?We=le-A.options.indentUnit:typeof x=="number"&&(We=le+x),We=Math.max(0,We);var qe="",wt=0;if(A.options.indentWithTabs)for(var gt=Math.floor(We/$);gt;--gt)wt+=$,qe+="	";if(wt<We&&(qe+=pn(We-wt)),qe!=pe)return ju(E,qe,Kt(f,0),Kt(f,pe.length),"+input"),J.stateAfter=null,!0;for(var Lt=0;Lt<E.sel.ranges.length;Lt++){var dn=E.sel.ranges[Lt];if(dn.head.line==f&&dn.head.ch<pe.length){var Bn=Kt(f,pe.length);Ts(E,Lt,new Fe(Bn,Bn));break}}}var bu=null;function Qp(A){bu=A}function l0(A,f,x,b,E){var L=A.doc;A.display.shift=!1,b||(b=L.sel);var $=+new Date-200,J=E=="paste"||A.state.pasteIncoming>$,le=or(f),pe=null;if(J&&b.ranges.length>1)if(bu&&bu.text.join(`
`)==f){if(b.ranges.length%bu.text.length==0){pe=[];for(var We=0;We<bu.text.length;We++)pe.push(L.splitLines(bu.text[We]))}}else le.length==b.ranges.length&&A.options.pasteLinesPerSelection&&(pe=Jn(le,function(Gn){return[Gn]}));for(var qe=A.curOp.updateInput,wt=b.ranges.length-1;wt>=0;wt--){var gt=b.ranges[wt],Lt=gt.from(),dn=gt.to();gt.empty()&&(x&&x>0?Lt=Kt(Lt.line,Lt.ch-x):A.state.overwrite&&!J?dn=Kt(dn.line,Math.min(Qn(L,dn.line).text.length,dn.ch+bn(le).length)):J&&bu&&bu.lineWise&&bu.text.join(`
`)==le.join(`
`)&&(Lt=dn=Kt(Lt.line,0)));var Bn={from:Lt,to:dn,text:pe?pe[wt%pe.length]:le,origin:E||(J?"paste":A.state.cutIncoming>$?"cut":"+input")};Vl(A.doc,Bn),Fo(A,"inputRead",A,Bn)}f&&!J&&$p(A,f),to(A),A.curOp.updateInput<2&&(A.curOp.updateInput=qe),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function RA(A,f){var x=A.clipboardData&&A.clipboardData.getData("Text");if(x)return A.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&f.hasFocus()&&Pa(f,function(){return l0(f,x,0,null,"paste")}),!0}function $p(A,f){if(!(!A.options.electricChars||!A.options.smartIndent))for(var x=A.doc.sel,b=x.ranges.length-1;b>=0;b--){var E=x.ranges[b];if(!(E.head.ch>100||b&&x.ranges[b-1].head.line==E.head.line)){var L=A.getModeAt(E.head),$=!1;if(L.electricChars){for(var J=0;J<L.electricChars.length;J++)if(f.indexOf(L.electricChars.charAt(J))>-1){$=jh(A,E.head.line,"smart");break}}else L.electricInput&&L.electricInput.test(Qn(A.doc,E.head.line).text.slice(0,E.head.ch))&&($=jh(A,E.head.line,"smart"));$&&Fo(A,"electricInput",A,E.head.line)}}}function Wh(A){for(var f=[],x=[],b=0;b<A.doc.sel.ranges.length;b++){var E=A.doc.sel.ranges[b].head.line,L={anchor:Kt(E,0),head:Kt(E+1,0)};x.push(L),f.push(A.getRange(L.anchor,L.head))}return{text:f,ranges:x}}function bc(A,f,x,b){A.setAttribute("autocorrect",x?"on":"off"),A.setAttribute("autocapitalize",b?"on":"off"),A.setAttribute("spellcheck",!!f)}function qd(){var A=_e("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),f=_e("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return C?A.style.width="1000px":A.setAttribute("wrap","off"),q&&(A.style.border="1px solid black"),f}function Nh(A){var f=A.optionHandlers,x=A.helpers={};A.prototype={constructor:A,focus:function(){kt(this).focus(),this.display.input.focus()},setOption:function(b,E){var L=this.options,$=L[b];L[b]==E&&b!="mode"||(L[b]=E,f.hasOwnProperty(b)&&no(this,f[b])(this,E,$),Te(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,E){this.state.keyMaps[E?"push":"unshift"](Ph(b))},removeKeyMap:function(b){for(var E=this.state.keyMaps,L=0;L<E.length;++L)if(E[L]==b||E[L].name==b)return E.splice(L,1),!0},addOverlay:jr(function(b,E){var L=b.token?b:A.getMode(this.options,b);if(L.startState)throw new Error("Overlays may not be stateful.");mr(this.state.overlays,{mode:L,modeSpec:b,opaque:E&&E.opaque,priority:E&&E.priority||0},function($){return $.priority}),this.state.modeGen++,Ma(this)}),removeOverlay:jr(function(b){for(var E=this.state.overlays,L=0;L<E.length;++L){var $=E[L].modeSpec;if($==b||typeof b=="string"&&$.name==b){E.splice(L,1),this.state.modeGen++,Ma(this);return}}}),indentLine:jr(function(b,E,L){typeof E!="string"&&typeof E!="number"&&(E==null?E=this.options.smartIndent?"smart":"prev":E=E?"add":"subtract"),Xt(this.doc,b)&&jh(this,b,E,L)}),indentSelection:jr(function(b){for(var E=this.doc.sel.ranges,L=-1,$=0;$<E.length;$++){var J=E[$];if(J.empty())J.head.line>L&&(jh(this,J.head.line,b,!0),L=J.head.line,$==this.doc.sel.primIndex&&to(this));else{var le=J.from(),pe=J.to(),We=Math.max(L,le.line);L=Math.min(this.lastLine(),pe.line-(pe.ch?0:1))+1;for(var qe=We;qe<L;++qe)jh(this,qe,b);var wt=this.doc.sel.ranges;le.ch==0&&E.length==wt.length&&wt[$].from().ch>0&&Ts(this.doc,$,new Fe(le,wt[$].to()),xt)}}}),getTokenAt:function(b,E){return ic(this,b,E)},getLineTokens:function(b,E){return ic(this,Kt(b),E,!0)},getTokenTypeAt:function(b){b=Br(this.doc,b);var E=Ns(this,Qn(this.doc,b.line)),L=0,$=(E.length-1)/2,J=b.ch,le;if(J==0)le=E[2];else for(;;){var pe=L+$>>1;if((pe?E[pe*2-1]:0)>=J)$=pe;else if(E[pe*2+1]<J)L=pe+1;else{le=E[pe*2+2];break}}var We=le?le.indexOf("overlay "):-1;return We<0?le:We==0?null:le.slice(0,We-1)},getModeAt:function(b){var E=this.doc.mode;return E.innerMode?A.innerMode(E,this.getTokenAt(b).state).mode:E},getHelper:function(b,E){return this.getHelpers(b,E)[0]},getHelpers:function(b,E){var L=[];if(!x.hasOwnProperty(E))return L;var $=x[E],J=this.getModeAt(b);if(typeof J[E]=="string")$[J[E]]&&L.push($[J[E]]);else if(J[E])for(var le=0;le<J[E].length;le++){var pe=$[J[E][le]];pe&&L.push(pe)}else J.helperType&&$[J.helperType]?L.push($[J.helperType]):$[J.name]&&L.push($[J.name]);for(var We=0;We<$._global.length;We++){var qe=$._global[We];qe.pred(J,this)&&Pe(L,qe.val)==-1&&L.push(qe.val)}return L},getStateAfter:function(b,E){var L=this.doc;return b=qa(L,b??L.first+L.size-1),Ha(this,b+1,E).state},cursorCoords:function(b,E){var L,$=this.doc.sel.primary();return b==null?L=$.head:typeof b=="object"?L=Br(this.doc,b):L=b?$.from():$.to(),Rt(this,L,E||"page")},charCoords:function(b,E){return an(this,Br(this.doc,b),E||"page")},coordsChar:function(b,E){return b=bt(this,b,E||"page"),eo(this,b.left,b.top)},lineAtHeight:function(b,E){return b=bt(this,{top:b,left:0},E||"page").top,$e(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,E,L){var $=!1,J;if(typeof b=="number"){var le=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>le&&(b=le,$=!0),J=Qn(this.doc,b)}else J=b;return fu(this,J,{top:0,left:0},E||"page",L||$).top+($?this.doc.height-Ta(J):0)},defaultTextHeight:function(){return Jo(this.display)},defaultCharWidth:function(){return pu(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,E,L,$,J){var le=this.display;b=Rt(this,Br(this.doc,b));var pe=b.bottom,We=b.left;if(E.style.position="absolute",E.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(E),le.sizer.appendChild(E),$=="over")pe=b.top;else if($=="above"||$=="near"){var qe=Math.max(le.wrapper.clientHeight,this.doc.height),wt=Math.max(le.sizer.clientWidth,le.lineSpace.clientWidth);($=="above"||b.bottom+E.offsetHeight>qe)&&b.top>E.offsetHeight?pe=b.top-E.offsetHeight:b.bottom+E.offsetHeight<=qe&&(pe=b.bottom),We+E.offsetWidth>wt&&(We=wt-E.offsetWidth)}E.style.top=pe+"px",E.style.left=E.style.right="",J=="right"?(We=le.sizer.clientWidth-E.offsetWidth,E.style.right="0px"):(J=="left"?We=0:J=="middle"&&(We=(le.sizer.clientWidth-E.offsetWidth)/2),E.style.left=We+"px"),L&&Pf(this,{left:We,top:pe,right:We+E.offsetWidth,bottom:pe+E.offsetHeight})},triggerOnKeyDown:jr(Lh),triggerOnKeyPress:jr(o0),triggerOnKeyUp:Nu,triggerOnMouseDown:jr(a0),execCommand:function(b){if(Nf.hasOwnProperty(b))return Nf[b].call(null,this)},triggerElectric:jr(function(b){$p(this,b)}),findPosH:function(b,E,L,$){var J=1;E<0&&(J=-1,E=-E);for(var le=Br(this.doc,b),pe=0;pe<E&&(le=Qr(this.doc,le,J,L,$),!le.hitSide);++pe);return le},moveH:jr(function(b,E){var L=this;this.extendSelectionsBy(function($){return L.display.shift||L.doc.extend||$.empty()?Qr(L.doc,$.head,b,E,L.options.rtlMoveVisually):b<0?$.from():$.to()},Dt)}),deleteH:jr(function(b,E){var L=this.doc.sel,$=this.doc;L.somethingSelected()?$.replaceSelection("",null,"+delete"):Zl(this,function(J){var le=Qr($,J.head,b,E,!1);return b<0?{from:le,to:J.head}:{from:J.head,to:le}})}),findPosV:function(b,E,L,$){var J=1,le=$;E<0&&(J=-1,E=-E);for(var pe=Br(this.doc,b),We=0;We<E;++We){var qe=Rt(this,pe,"div");if(le==null?le=qe.left:qe.left=le,pe=Gh(this,qe,J,L),pe.hitSide)break}return pe},moveV:jr(function(b,E){var L=this,$=this.doc,J=[],le=!this.display.shift&&!$.extend&&$.sel.somethingSelected();if($.extendSelectionsBy(function(We){if(le)return b<0?We.from():We.to();var qe=Rt(L,We.head,"div");We.goalColumn!=null&&(qe.left=We.goalColumn),J.push(qe.left);var wt=Gh(L,qe,b,E);return E=="page"&&We==$.sel.primary()&&Mh(L,an(L,wt,"div").top-qe.top),wt},Dt),J.length)for(var pe=0;pe<$.sel.ranges.length;pe++)$.sel.ranges[pe].goalColumn=J[pe]}),findWordAt:function(b){var E=this.doc,L=Qn(E,b.line).text,$=b.ch,J=b.ch;if(L){var le=this.getHelper(b,"wordChars");(b.sticky=="before"||J==L.length)&&$?--$:++J;for(var pe=L.charAt($),We=we(pe,le)?function(qe){return we(qe,le)}:/\s/.test(pe)?function(qe){return/\s/.test(qe)}:function(qe){return!/\s/.test(qe)&&!we(qe)};$>0&&We(L.charAt($-1));)--$;for(;J<L.length&&We(L.charAt(J));)++J}return new Fe(Kt(b.line,$),Kt(b.line,J))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?He(this.display.cursorDiv,"CodeMirror-overwrite"):ft(this.display.cursorDiv,"CodeMirror-overwrite"),Te(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Qt(mt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:jr(function(b,E){ea(this,b,E)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-hu(this)-this.display.barHeight,width:b.scrollWidth-hu(this)-this.display.barWidth,clientHeight:$c(this),clientWidth:Fu(this)}},scrollIntoView:jr(function(b,E){b==null?(b={from:this.doc.sel.primary().head,to:null},E==null&&(E=this.options.cursorScrollMargin)):typeof b=="number"?b={from:Kt(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=E||0,b.from.line!=null?gr(this,b):FA(this,b.from,b.to,b.margin)}),setSize:jr(function(b,E){var L=this,$=function(le){return typeof le=="number"||/^\d+$/.test(String(le))?le+"px":le};b!=null&&(this.display.wrapper.style.width=$(b)),E!=null&&(this.display.wrapper.style.height=$(E)),this.options.lineWrapping&&iA(this);var J=this.display.viewFrom;this.doc.iter(J,this.display.viewTo,function(le){if(le.widgets){for(var pe=0;pe<le.widgets.length;pe++)if(le.widgets[pe].noHScroll){$s(L,J,"widget");break}}++J}),this.curOp.forceUpdate=!0,Te(this,"refresh",this)}),operation:function(b){return Pa(this,b)},startOperation:function(){return Ru(this)},endOperation:function(){return lA(this)},refresh:jr(function(){var b=this.display.cachedTextHeight;Ma(this),this.curOp.forceUpdate=!0,ql(this),ea(this,this.doc.scrollLeft,this.doc.scrollTop),O(this.display),(b==null||Math.abs(b-Jo(this.display))>.5||this.options.lineWrapping)&&wh(this),Te(this,"refresh",this)}),swapDoc:jr(function(b){var E=this.doc;return E.cm=null,this.state.selectingText&&this.state.selectingText(),er(this,b),ql(this),this.display.input.reset(),ea(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,Fo(this,"swapDoc",this,E),E}),phrase:function(b){var E=this.options.phrases;return E&&Object.prototype.hasOwnProperty.call(E,b)?E[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ue(A),A.registerHelper=function(b,E,L){x.hasOwnProperty(b)||(x[b]=A[b]={_global:[]}),x[b][E]=L},A.registerGlobalHelper=function(b,E,L,$){A.registerHelper(b,E,$),x[b]._global.push({pred:L,val:$})}}function Qr(A,f,x,b,E){var L=f,$=x,J=Qn(A,f.line),le=E&&A.direction=="rtl"?-x:x;function pe(){var _n=f.line+le;return _n<A.first||_n>=A.first+A.size?!1:(f=new Kt(_n,f.ch,f.sticky),J=Qn(A,_n))}function We(_n){var Fn;if(b=="codepoint"){var ar=J.text.charCodeAt(f.ch+(x>0?0:-1));if(isNaN(ar))Fn=null;else{var Or=x>0?ar>=55296&&ar<56320:ar>=56320&&ar<57343;Fn=new Kt(f.line,Math.max(0,Math.min(J.text.length,f.ch+x*(Or?2:1))),-x)}}else E?Fn=id(A.cm,J,f,x):Fn=jf(J,f,x);if(Fn==null)if(!_n&&pe())f=Wf(E,A.cm,J,f.line,le);else return!1;else f=Fn;return!0}if(b=="char"||b=="codepoint")We();else if(b=="column")We(!0);else if(b=="word"||b=="group")for(var qe=null,wt=b=="group",gt=A.cm&&A.cm.getHelper(f,"wordChars"),Lt=!0;!(x<0&&!We(!Lt));Lt=!1){var dn=J.text.charAt(f.ch)||`
`,Bn=we(dn,gt)?"w":wt&&dn==`
`?"n":!wt||/\s/.test(dn)?null:"p";if(wt&&!Lt&&!Bn&&(Bn="s"),qe&&qe!=Bn){x<0&&(x=1,We(),f.sticky="after");break}if(Bn&&(qe=Bn),x>0&&!We(!Lt))break}var Gn=vc(A,f,L,$,!0);return cr(L,Gn)&&(Gn.hitSide=!0),Gn}function Gh(A,f,x,b){var E=A.doc,L=f.left,$;if(b=="page"){var J=Math.min(A.display.wrapper.clientHeight,kt(A).innerHeight||E(A).documentElement.clientHeight),le=Math.max(J-.5*Jo(A.display),3);$=(x>0?f.bottom:f.top)+x*le}else b=="line"&&($=x>0?f.bottom+3:f.top-3);for(var pe;pe=eo(A,L,$),!!pe.outside;){if(x<0?$<=0:$>=E.height){pe.hitSide=!0;break}$+=x*5}return pe}var _o=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new be,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};_o.prototype.init=function(A){var f=this,x=this,b=x.cm,E=x.div=A.lineDiv;E.contentEditable=!0,bc(E,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function L(J){for(var le=J.target;le;le=le.parentNode){if(le==E)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(le.className))break}return!1}Tt(E,"paste",function(J){!L(J)||de(b,J)||RA(J,b)||g<=11&&setTimeout(no(b,function(){return f.updateFromDOM()}),20)}),Tt(E,"compositionstart",function(J){f.composing={data:J.data,done:!1}}),Tt(E,"compositionupdate",function(J){f.composing||(f.composing={data:J.data,done:!1})}),Tt(E,"compositionend",function(J){f.composing&&(J.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Tt(E,"touchstart",function(){return x.forceCompositionEnd()}),Tt(E,"input",function(){f.composing||f.readFromDOMSoon()});function $(J){if(!(!L(J)||de(b,J))){if(b.somethingSelected())Qp({lineWise:!1,text:b.getSelections()}),J.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var le=Wh(b);Qp({lineWise:!0,text:le.text}),J.type=="cut"&&b.operation(function(){b.setSelections(le.ranges,0,xt),b.replaceSelection("",null,"cut")})}else return;if(J.clipboardData){J.clipboardData.clearData();var pe=bu.text.join(`
`);if(J.clipboardData.setData("Text",pe),J.clipboardData.getData("Text")==pe){J.preventDefault();return}}var We=qd(),qe=We.firstChild;bc(qe),b.display.lineSpace.insertBefore(We,b.display.lineSpace.firstChild),qe.value=bu.text.join(`
`);var wt=Qt(dt(E));tt(qe),setTimeout(function(){b.display.lineSpace.removeChild(We),wt.focus(),wt==E&&x.showPrimarySelection()},50)}}Tt(E,"copy",$),Tt(E,"cut",$)},_o.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},_o.prototype.prepareSelection=function(){var A=Nn(this.cm,!1);return A.focus=Qt(dt(this.div))==this.div,A},_o.prototype.showSelection=function(A,f){!A||!this.cm.display.view.length||((A.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(A))},_o.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},_o.prototype.showPrimarySelection=function(){var A=this.getSelection(),f=this.cm,x=f.doc.sel.primary(),b=x.from(),E=x.to();if(f.display.viewTo==f.display.viewFrom||b.line>=f.display.viewTo||E.line<f.display.viewFrom){A.removeAllRanges();return}var L=Ks(f,A.anchorNode,A.anchorOffset),$=Ks(f,A.focusNode,A.focusOffset);if(!(L&&!L.bad&&$&&!$.bad&&Mn(ya(L,$),b)==0&&Mn(ri(L,$),E)==0)){var J=f.display.view,le=b.line>=f.display.viewFrom&&sd(f,b)||{node:J[0].measure.map[2],offset:0},pe=E.line<f.display.viewTo&&sd(f,E);if(!pe){var We=J[J.length-1].measure,qe=We.maps?We.maps[We.maps.length-1]:We.map;pe={node:qe[qe.length-1],offset:qe[qe.length-2]-qe[qe.length-3]}}if(!le||!pe){A.removeAllRanges();return}var wt=A.rangeCount&&A.getRangeAt(0),gt;try{gt=jt(le.node,le.offset,pe.offset,pe.node)}catch{}gt&&(!i&&f.state.focused?(A.collapse(le.node,le.offset),gt.collapsed||(A.removeAllRanges(),A.addRange(gt))):(A.removeAllRanges(),A.addRange(gt)),wt&&A.anchorNode==null?A.addRange(wt):i&&this.startGracePeriod()),this.rememberSelection()}},_o.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},_o.prototype.showMultipleSelections=function(A){rt(this.cm.display.cursorDiv,A.cursors),rt(this.cm.display.selectionDiv,A.selection)},_o.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},_o.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var f=A.getRangeAt(0).commonAncestorContainer;return nn(this.div,f)},_o.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Qt(dt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},_o.prototype.blur=function(){this.div.blur()},_o.prototype.getField=function(){return this.div},_o.prototype.supportsTouch=function(){return!0},_o.prototype.receivedFocus=function(){var A=this,f=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):Pa(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function x(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,x))}this.polling.set(this.cm.options.pollInterval,x)},_o.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},_o.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),f=this.cm;if(oe&&k&&this.cm.display.gutterSpecs.length&&qf(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var x=Ks(f,A.anchorNode,A.anchorOffset),b=Ks(f,A.focusNode,A.focusOffset);x&&b&&Pa(f,function(){Ei(f.doc,je(x,b),xt),(x.bad||b.bad)&&(f.curOp.selectionChanged=!0)})}}},_o.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,f=A.display,x=A.doc.sel.primary(),b=x.from(),E=x.to();if(b.ch==0&&b.line>A.firstLine()&&(b=Kt(b.line-1,Qn(A.doc,b.line-1).length)),E.ch==Qn(A.doc,E.line).text.length&&E.line<A.lastLine()&&(E=Kt(E.line+1,0)),b.line<f.viewFrom||E.line>f.viewTo-1)return!1;var L,$,J;b.line==f.viewFrom||(L=TA(A,b.line))==0?($=ge(f.view[0].line),J=f.view[0].node):($=ge(f.view[L].line),J=f.view[L-1].node.nextSibling);var le=TA(A,E.line),pe,We;if(le==f.view.length-1?(pe=f.viewTo-1,We=f.lineDiv.lastChild):(pe=ge(f.view[le+1].line)-1,We=f.view[le+1].node.previousSibling),!J)return!1;for(var qe=A.doc.splitLines(j1(A,J,We,$,pe)),wt=so(A.doc,Kt($,0),Kt(pe,Qn(A.doc,pe).text.length));qe.length>1&&wt.length>1;)if(bn(qe)==bn(wt))qe.pop(),wt.pop(),pe--;else if(qe[0]==wt[0])qe.shift(),wt.shift(),$++;else break;for(var gt=0,Lt=0,dn=qe[0],Bn=wt[0],Gn=Math.min(dn.length,Bn.length);gt<Gn&&dn.charCodeAt(gt)==Bn.charCodeAt(gt);)++gt;for(var _n=bn(qe),Fn=bn(wt),ar=Math.min(_n.length-(qe.length==1?gt:0),Fn.length-(wt.length==1?gt:0));Lt<ar&&_n.charCodeAt(_n.length-Lt-1)==Fn.charCodeAt(Fn.length-Lt-1);)++Lt;if(qe.length==1&&wt.length==1&&$==b.line)for(;gt&&gt>b.ch&&_n.charCodeAt(_n.length-Lt-1)==Fn.charCodeAt(Fn.length-Lt-1);)gt--,Lt++;qe[qe.length-1]=_n.slice(0,_n.length-Lt).replace(/^\u200b+/,""),qe[0]=qe[0].slice(gt).replace(/\u200b+$/,"");var Or=Kt($,gt),yr=Kt(pe,wt.length?bn(wt).length-Lt:0);if(qe.length>1||qe[0]||Mn(Or,yr))return ju(A.doc,qe,Or,yr,"+input"),!0},_o.prototype.ensurePolled=function(){this.forceCompositionEnd()},_o.prototype.reset=function(){this.forceCompositionEnd()},_o.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},_o.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},_o.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&Pa(this.cm,function(){return Ma(A.cm)})},_o.prototype.setUneditable=function(A){A.contentEditable="false"},_o.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||no(this.cm,l0)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},_o.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},_o.prototype.onContextMenu=function(){},_o.prototype.resetPosition=function(){},_o.prototype.needsContentAttribute=!0;function sd(A,f){var x=Yc(A,f.line);if(!x||x.hidden)return null;var b=Qn(A.doc,f.line),E=If(x,b,f.line),L=En(b,A.doc.direction),$="left";if(L){var J=mn(L,f.ch);$=J%2?"right":"left"}var le=rA(E.map,f.ch,$);return le.offset=le.collapse=="right"?le.end:le.start,le}function qf(A){for(var f=A;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function xc(A,f){return f&&(A.bad=!0),A}function j1(A,f,x,b,E){var L="",$=!1,J=A.doc.lineSeparator(),le=!1;function pe(gt){return function(Lt){return Lt.id==gt}}function We(){$&&(L+=J,le&&(L+=J),$=le=!1)}function qe(gt){gt&&(We(),L+=gt)}function wt(gt){if(gt.nodeType==1){var Lt=gt.getAttribute("cm-text");if(Lt){qe(Lt);return}var dn=gt.getAttribute("cm-marker"),Bn;if(dn){var Gn=A.findMarks(Kt(b,0),Kt(E+1,0),pe(+dn));Gn.length&&(Bn=Gn[0].find(0))&&qe(so(A.doc,Bn.from,Bn.to).join(J));return}if(gt.getAttribute("contenteditable")=="false")return;var _n=/^(pre|div|p|li|table|br)$/i.test(gt.nodeName);if(!/^br$/i.test(gt.nodeName)&&gt.textContent.length==0)return;_n&&We();for(var Fn=0;Fn<gt.childNodes.length;Fn++)wt(gt.childNodes[Fn]);/^(pre|p)$/i.test(gt.nodeName)&&(le=!0),_n&&($=!0)}else gt.nodeType==3&&qe(gt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;wt(f),f!=x;)f=f.nextSibling,le=!1;return L}function Ks(A,f,x){var b;if(f==A.display.lineDiv){if(b=A.display.lineDiv.childNodes[x],!b)return xc(A.clipPos(Kt(A.display.viewTo-1)),!0);f=null,x=0}else for(b=f;;b=b.parentNode){if(!b||b==A.display.lineDiv)return null;if(b.parentNode&&b.parentNode==A.display.lineDiv)break}for(var E=0;E<A.display.view.length;E++){var L=A.display.view[E];if(L.node==b)return lv(L,f,x)}}function lv(A,f,x){var b=A.text.firstChild,E=!1;if(!f||!nn(b,f))return xc(Kt(ge(A.line),0),!0);if(f==b&&(E=!0,f=b.childNodes[x],x=0,!f)){var L=A.rest?bn(A.rest):A.line;return xc(Kt(ge(L),L.text.length),E)}var $=f.nodeType==3?f:null,J=f;for(!$&&f.childNodes.length==1&&f.firstChild.nodeType==3&&($=f.firstChild,x&&(x=$.nodeValue.length));J.parentNode!=b;)J=J.parentNode;var le=A.measure,pe=le.maps;function We(Bn,Gn,_n){for(var Fn=-1;Fn<(pe?pe.length:0);Fn++)for(var ar=Fn<0?le.map:pe[Fn],Or=0;Or<ar.length;Or+=3){var yr=ar[Or+2];if(yr==Bn||yr==Gn){var ii=ge(Fn<0?A.line:A.rest[Fn]),ko=ar[Or]+_n;return(_n<0||yr!=Bn)&&(ko=ar[Or+(_n?1:0)]),Kt(ii,ko)}}}var qe=We($,J,x);if(qe)return xc(qe,E);for(var wt=J.nextSibling,gt=$?$.nodeValue.length-x:0;wt;wt=wt.nextSibling){if(qe=We(wt,wt.firstChild,0),qe)return xc(Kt(qe.line,qe.ch-gt),E);gt+=wt.textContent.length}for(var Lt=J.previousSibling,dn=x;Lt;Lt=Lt.previousSibling){if(qe=We(Lt,Lt.firstChild,-1),qe)return xc(Kt(qe.line,qe.ch+dn),E);dn+=Lt.textContent.length}}var Da=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new be,this.hasSelection=!1,this.composing=null,this.resetting=!1};Da.prototype.init=function(A){var f=this,x=this,b=this.cm;this.createField(A);var E=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),q&&(E.style.width="0px"),Tt(E,"input",function(){h&&g>=9&&f.hasSelection&&(f.hasSelection=null),x.poll()}),Tt(E,"paste",function($){de(b,$)||RA($,b)||(b.state.pasteIncoming=+new Date,x.fastPoll())});function L($){if(!de(b,$)){if(b.somethingSelected())Qp({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var J=Wh(b);Qp({lineWise:!0,text:J.text}),$.type=="cut"?b.setSelections(J.ranges,null,xt):(x.prevInput="",E.value=J.text.join(`
`),tt(E))}else return;$.type=="cut"&&(b.state.cutIncoming=+new Date)}}Tt(E,"cut",L),Tt(E,"copy",L),Tt(A.scroller,"paste",function($){if(!(Tl(A,$)||de(b,$))){if(!E.dispatchEvent){b.state.pasteIncoming=+new Date,x.focus();return}var J=new Event("paste");J.clipboardData=$.clipboardData,E.dispatchEvent(J)}}),Tt(A.lineSpace,"selectstart",function($){Tl(A,$)||Xe($)}),Tt(E,"compositionstart",function(){var $=b.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:$,range:b.markText($,b.getCursor("to"),{className:"CodeMirror-composing"})}}),Tt(E,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},Da.prototype.createField=function(A){this.wrapper=qd(),this.textarea=this.wrapper.firstChild;var f=this.cm.options;bc(this.textarea,f.spellcheck,f.autocorrect,f.autocapitalize)},Da.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},Da.prototype.prepareSelection=function(){var A=this.cm,f=A.display,x=A.doc,b=Nn(A);if(A.options.moveInputWithCursor){var E=Rt(A,x.sel.primary().head,"div"),L=f.wrapper.getBoundingClientRect(),$=f.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,E.top+$.top-L.top)),b.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,E.left+$.left-L.left))}return b},Da.prototype.showSelection=function(A){var f=this.cm,x=f.display;rt(x.cursorDiv,A.cursors),rt(x.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},Da.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var f=this.cm;if(this.resetting=!0,f.somethingSelected()){this.prevInput="";var x=f.getSelection();this.textarea.value=x,f.state.focused&&tt(this.textarea),h&&g>=9&&(this.hasSelection=x)}else A||(this.prevInput=this.textarea.value="",h&&g>=9&&(this.hasSelection=null));this.resetting=!1}},Da.prototype.getField=function(){return this.textarea},Da.prototype.supportsTouch=function(){return!1},Da.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!re||Qt(dt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Da.prototype.blur=function(){this.textarea.blur()},Da.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Da.prototype.receivedFocus=function(){this.slowPoll()},Da.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},Da.prototype.fastPoll=function(){var A=!1,f=this;f.pollingFast=!0;function x(){var b=f.poll();!b&&!A?(A=!0,f.polling.set(60,x)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,x)},Da.prototype.poll=function(){var A=this,f=this.cm,x=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!f.state.focused||Tr(x)&&!b&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var E=x.value;if(E==b&&!f.somethingSelected())return!1;if(h&&g>=9&&this.hasSelection===E||Ae&&/[\uf700-\uf7ff]/.test(E))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var L=E.charCodeAt(0);if(L==8203&&!b&&(b=""),L==8666)return this.reset(),this.cm.execCommand("undo")}for(var $=0,J=Math.min(b.length,E.length);$<J&&b.charCodeAt($)==E.charCodeAt($);)++$;return Pa(f,function(){l0(f,E.slice($),b.length-$,null,A.composing?"*compose":null),E.length>1e3||E.indexOf(`
`)>-1?x.value=A.prevInput="":A.prevInput=E,A.composing&&(A.composing.range.clear(),A.composing.range=f.markText(A.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Da.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Da.prototype.onKeyPress=function(){h&&g>=9&&(this.hasSelection=null),this.fastPoll()},Da.prototype.onContextMenu=function(A){var f=this,x=f.cm,b=x.display,E=f.textarea;f.contextMenuPending&&f.contextMenuPending();var L=vl(x,A),$=b.scroller.scrollTop;if(!L||U)return;var J=x.options.resetSelectionOnContextMenu;J&&x.doc.sel.contains(L)==-1&&no(x,Ei)(x.doc,je(L),xt);var le=E.style.cssText,pe=f.wrapper.style.cssText,We=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",E.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-We.top-5)+"px; left: "+(A.clientX-We.left-5)+`px;
      z-index: 1000; background: `+(h?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var qe;C&&(qe=E.ownerDocument.defaultView.scrollY),b.input.focus(),C&&E.ownerDocument.defaultView.scrollTo(null,qe),b.input.reset(),x.somethingSelected()||(E.value=f.prevInput=" "),f.contextMenuPending=gt,b.selForContextMenu=x.doc.sel,clearTimeout(b.detectingSelectAll);function wt(){if(E.selectionStart!=null){var dn=x.somethingSelected(),Bn=""+(dn?E.value:"");E.value="",E.value=Bn,f.prevInput=dn?"":"",E.selectionStart=1,E.selectionEnd=Bn.length,b.selForContextMenu=x.doc.sel}}function gt(){if(f.contextMenuPending==gt&&(f.contextMenuPending=!1,f.wrapper.style.cssText=pe,E.style.cssText=le,h&&g<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=$),E.selectionStart!=null)){(!h||h&&g<9)&&wt();var dn=0,Bn=function(){b.selForContextMenu==x.doc.sel&&E.selectionStart==0&&E.selectionEnd>0&&f.prevInput==""?no(x,LA)(x):dn++<10?b.detectingSelectAll=setTimeout(Bn,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(Bn,200)}}if(h&&g>=9&&wt(),Ne){Ve(A);var Lt=function(){Wn(window,"mouseup",Lt),setTimeout(gt,20)};Tt(window,"mouseup",Lt)}else setTimeout(gt,50)},Da.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},Da.prototype.setUneditable=function(){},Da.prototype.needsContentAttribute=!1;function W1(A,f){if(f=f?Me(f):{},f.value=A.value,!f.tabindex&&A.tabIndex&&(f.tabindex=A.tabIndex),!f.placeholder&&A.placeholder&&(f.placeholder=A.placeholder),f.autofocus==null){var x=Qt(dt(A));f.autofocus=x==A||A.getAttribute("autofocus")!=null&&x==document.body}function b(){A.value=J.getValue()}var E;if(A.form&&(Tt(A.form,"submit",b),!f.leaveSubmitMethodAlone)){var L=A.form;E=L.submit;try{var $=L.submit=function(){b(),L.submit=E,L.submit(),L.submit=$}}catch{}}f.finishInit=function(le){le.save=b,le.getTextArea=function(){return A},le.toTextArea=function(){le.toTextArea=isNaN,b(),A.parentNode.removeChild(le.getWrapperElement()),A.style.display="",A.form&&(Wn(A.form,"submit",b),!f.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=E))}},A.style.display="none";var J=fo(function(le){return A.parentNode.insertBefore(le,A.nextSibling)},f);return J}function uv(A){A.off=Wn,A.on=Tt,A.wheelEventPixels=fe,A.Doc=ms,A.splitLines=or,A.countColumn=he,A.findColumn=pt,A.isWordChar=fi,A.Pass=nt,A.signal=Te,A.Line=Iu,A.changeEnd=ct,A.scrollbarModel=Lo,A.Pos=Kt,A.cmpPos=Mn,A.modes=rr,A.mimeModes=li,A.resolveMode=xo,A.getMode=pi,A.modeExtensions=Oo,A.extendMode=As,A.copyState=Ia,A.startState=Ss,A.innerMode=_i,A.commands=Nf,A.keyMap=uA,A.keyName=nd,A.isModifierKey=Rp,A.lookupKey=Cu,A.normalizeKeyMap=_u,A.StringStream=Si,A.SharedTextMarker=Rd,A.TextMarker=Hl,A.LineWidget=Wu,A.e_preventDefault=Xe,A.e_stopPropagation=at,A.e_stop=Ve,A.addClass=He,A.contains=nn,A.rmClass=ft,A.keyNames=Sa}s0(fo),Nh(fo);var u0="iter insert remove copy getEditor constructor".split(" ");for(var Qh in ms.prototype)ms.prototype.hasOwnProperty(Qh)&&Pe(u0,Qh)<0&&(fo.prototype[Qh]=function(A){return function(){return A.apply(this.doc,arguments)}}(ms.prototype[Qh]));return Ue(ms),fo.inputStyles={textarea:Da,contenteditable:_o},fo.defineMode=function(A){!fo.defaults.mode&&A!="null"&&(fo.defaults.mode=A),ki.apply(this,arguments)},fo.defineMIME=Xi,fo.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),fo.defineMIME("text/plain","null"),fo.defineExtension=function(A,f){fo.prototype[A]=f},fo.defineDocExtension=function(A,f){ms.prototype[A]=f},fo.fromTextArea=W1,uv(fo),fo.version="5.65.16",fo})}(tS)),tS.exports}var vme=z5();const Ic=oa(vme);(function(e,n){(function(t){t(z5())})(function(t){t.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,a=i.jsonld,h=i.json||a,g=i.trackScope!==!1,C=i.typescript,B=i.wordCharacters||/[\w$\xa1-\uffff]/,k=function(){function ge(Ii){return{type:Ii,style:"keyword"}}var $e=ge("keyword a"),Xt=ge("keyword b"),ln=ge("keyword c"),Kt=ge("keyword d"),Mn=ge("operator"),cr={type:"atom",style:"atom"};return{if:ge("if"),while:$e,with:$e,else:Xt,do:Xt,try:Xt,finally:Xt,return:Kt,break:Kt,continue:Kt,new:ge("new"),delete:ln,void:ln,throw:ln,debugger:ge("debugger"),var:ge("var"),const:ge("var"),let:ge("var"),function:ge("function"),catch:ge("catch"),for:ge("for"),switch:ge("switch"),case:ge("case"),default:ge("default"),in:Mn,typeof:Mn,instanceof:Mn,true:cr,false:cr,null:cr,undefined:cr,NaN:cr,Infinity:cr,this:ge("this"),class:ge("class"),super:ge("atom"),yield:ln,export:ge("export"),import:ge("import"),extends:ln,await:ln}}(),P=/[+\-*&%=<>!?|~^@]/,U=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Z(ge){for(var $e=!1,Xt,ln=!1;(Xt=ge.next())!=null;){if(!$e){if(Xt=="/"&&!ln)return;Xt=="["?ln=!0:ln&&Xt=="]"&&(ln=!1)}$e=!$e&&Xt=="\\"}}var W,Q;function q(ge,$e,Xt){return W=ge,Q=Xt,$e}function oe(ge,$e){var Xt=ge.next();if(Xt=='"'||Xt=="'")return $e.tokenize=re(Xt),$e.tokenize(ge,$e);if(Xt=="."&&ge.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return q("number","number");if(Xt=="."&&ge.match(".."))return q("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Xt))return q(Xt);if(Xt=="="&&ge.eat(">"))return q("=>","operator");if(Xt=="0"&&ge.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return q("number","number");if(/\d/.test(Xt))return ge.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),q("number","number");if(Xt=="/")return ge.eat("*")?($e.tokenize=Ae,Ae(ge,$e)):ge.eat("/")?(ge.skipToEnd(),q("comment","comment")):Ji(ge,$e,1)?(Z(ge),ge.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),q("regexp","string-2")):(ge.eat("="),q("operator","operator",ge.current()));if(Xt=="`")return $e.tokenize=ae,ae(ge,$e);if(Xt=="#"&&ge.peek()=="!")return ge.skipToEnd(),q("meta","meta");if(Xt=="#"&&ge.eatWhile(B))return q("variable","property");if(Xt=="<"&&ge.match("!--")||Xt=="-"&&ge.match("->")&&!/\S/.test(ge.string.slice(0,ge.start)))return ge.skipToEnd(),q("comment","comment");if(P.test(Xt))return(Xt!=">"||!$e.lexical||$e.lexical.type!=">")&&(ge.eat("=")?(Xt=="!"||Xt=="=")&&ge.eat("="):/[<>*+\-|&?]/.test(Xt)&&(ge.eat(Xt),Xt==">"&&ge.eat(Xt))),Xt=="?"&&ge.eat(".")?q("."):q("operator","operator",ge.current());if(B.test(Xt)){ge.eatWhile(B);var ln=ge.current();if($e.lastType!="."){if(k.propertyIsEnumerable(ln)){var Kt=k[ln];return q(Kt.type,Kt.style,ln)}if(ln=="async"&&ge.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return q("async","keyword",ln)}return q("variable","variable",ln)}}function re(ge){return function($e,Xt){var ln=!1,Kt;if(a&&$e.peek()=="@"&&$e.match(U))return Xt.tokenize=oe,q("jsonld-keyword","meta");for(;(Kt=$e.next())!=null&&!(Kt==ge&&!ln);)ln=!ln&&Kt=="\\";return ln||(Xt.tokenize=oe),q("string","string")}}function Ae(ge,$e){for(var Xt=!1,ln;ln=ge.next();){if(ln=="/"&&Xt){$e.tokenize=oe;break}Xt=ln=="*"}return q("comment","comment")}function ae(ge,$e){for(var Xt=!1,ln;(ln=ge.next())!=null;){if(!Xt&&(ln=="`"||ln=="$"&&ge.eat("{"))){$e.tokenize=oe;break}Xt=!Xt&&ln=="\\"}return q("quasi","string-2",ge.current())}var se="([{}])";function ye(ge,$e){$e.fatArrowAt&&($e.fatArrowAt=null);var Xt=ge.string.indexOf("=>",ge.start);if(!(Xt<0)){if(C){var ln=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ge.string.slice(ge.start,Xt));ln&&(Xt=ln.index)}for(var Kt=0,Mn=!1,cr=Xt-1;cr>=0;--cr){var Ii=ge.string.charAt(cr),ri=se.indexOf(Ii);if(ri>=0&&ri<3){if(!Kt){++cr;break}if(--Kt==0){Ii=="("&&(Mn=!0);break}}else if(ri>=3&&ri<6)++Kt;else if(B.test(Ii))Mn=!0;else if(/["'\/`]/.test(Ii))for(;;--cr){if(cr==0)return;var ya=ge.string.charAt(cr-1);if(ya==Ii&&ge.string.charAt(cr-2)!="\\"){cr--;break}}else if(Mn&&!Kt){++cr;break}}Mn&&!Kt&&($e.fatArrowAt=cr)}}var De={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Ne(ge,$e,Xt,ln,Kt,Mn){this.indented=ge,this.column=$e,this.type=Xt,this.prev=Kt,this.info=Mn,ln!=null&&(this.align=ln)}function et(ge,$e){if(!g)return!1;for(var Xt=ge.localVars;Xt;Xt=Xt.next)if(Xt.name==$e)return!0;for(var ln=ge.context;ln;ln=ln.prev)for(var Xt=ln.vars;Xt;Xt=Xt.next)if(Xt.name==$e)return!0}function ft(ge,$e,Xt,ln,Kt){var Mn=ge.cc;for(Ke.state=ge,Ke.stream=Kt,Ke.marked=null,Ke.cc=Mn,Ke.style=$e,ge.lexical.hasOwnProperty("align")||(ge.lexical.align=!0);;){var cr=Mn.length?Mn.pop():h?Pe:he;if(cr(Xt,ln)){for(;Mn.length&&Mn[Mn.length-1].lex;)Mn.pop()();return Ke.marked?Ke.marked:Xt=="variable"&&et(ge,ln)?"variable-2":$e}}}var Ke={state:null,column:null,marked:null,cc:null};function rt(){for(var ge=arguments.length-1;ge>=0;ge--)Ke.cc.push(arguments[ge])}function _e(){return rt.apply(null,arguments),!0}function Ut(ge,$e){for(var Xt=$e;Xt;Xt=Xt.next)if(Xt.name==ge)return!0;return!1}function jt(ge){var $e=Ke.state;if(Ke.marked="def",!!g){if($e.context){if($e.lexical.info=="var"&&$e.context&&$e.context.block){var Xt=nn(ge,$e.context);if(Xt!=null){$e.context=Xt;return}}else if(!Ut(ge,$e.localVars)){$e.localVars=new Je(ge,$e.localVars);return}}i.globalVars&&!Ut(ge,$e.globalVars)&&($e.globalVars=new Je(ge,$e.globalVars))}}function nn(ge,$e){if($e)if($e.block){var Xt=nn(ge,$e.prev);return Xt?Xt==$e.prev?$e:new He(Xt,$e.vars,!0):null}else return Ut(ge,$e.vars)?$e:new He($e.prev,new Je(ge,$e.vars),!1);else return null}function Qt(ge){return ge=="public"||ge=="private"||ge=="protected"||ge=="abstract"||ge=="readonly"}function He(ge,$e,Xt){this.prev=ge,this.vars=$e,this.block=Xt}function Je(ge,$e){this.name=ge,this.next=$e}var tt=new Je("this",new Je("arguments",null));function on(){Ke.state.context=new He(Ke.state.context,Ke.state.localVars,!1),Ke.state.localVars=tt}function mt(){Ke.state.context=new He(Ke.state.context,Ke.state.localVars,!0),Ke.state.localVars=null}on.lex=mt.lex=!0;function dt(){Ke.state.localVars=Ke.state.context.vars,Ke.state.context=Ke.state.context.prev}dt.lex=!0;function kt(ge,$e){var Xt=function(){var ln=Ke.state,Kt=ln.indented;if(ln.lexical.type=="stat")Kt=ln.lexical.indented;else for(var Mn=ln.lexical;Mn&&Mn.type==")"&&Mn.align;Mn=Mn.prev)Kt=Mn.indented;ln.lexical=new Ne(Kt,Ke.stream.column(),ge,null,ln.lexical,$e)};return Xt.lex=!0,Xt}function Pt(){var ge=Ke.state;ge.lexical.prev&&(ge.lexical.type==")"&&(ge.indented=ge.lexical.indented),ge.lexical=ge.lexical.prev)}Pt.lex=!0;function Me(ge){function $e(Xt){return Xt==ge?_e():ge==";"||Xt=="}"||Xt==")"||Xt=="]"?rt():_e($e)}return $e}function he(ge,$e){return ge=="var"?_e(kt("vardef",$e),at,Me(";"),Pt):ge=="keyword a"?_e(kt("form"),nt,he,Pt):ge=="keyword b"?_e(kt("form"),he,Pt):ge=="keyword d"?Ke.stream.match(/^\s*$/,!1)?_e():_e(kt("stat"),Ft,Me(";"),Pt):ge=="debugger"?_e(Me(";")):ge=="{"?_e(kt("}"),mt,St,Pt,dt):ge==";"?_e():ge=="if"?(Ke.state.lexical.info=="else"&&Ke.state.cc[Ke.state.cc.length-1]==Pt&&Ke.state.cc.pop()(),_e(kt("form"),nt,he,Pt,qt)):ge=="function"?_e(or):ge=="for"?_e(kt("form"),mt,Vn,he,dt,Pt):ge=="class"||C&&$e=="interface"?(Ke.marked="keyword",_e(kt("form",ge=="class"?ge:$e),rr,Pt)):ge=="variable"?C&&$e=="declare"?(Ke.marked="keyword",_e(he)):C&&($e=="module"||$e=="enum"||$e=="type")&&Ke.stream.match(/^\s*\w/,!1)?(Ke.marked="keyword",$e=="enum"?_e(Qn):$e=="type"?_e(Ur,Me("operator"),En,Me(";")):_e(kt("form"),ht,Me("{"),kt("}"),St,Pt,Pt)):C&&$e=="namespace"?(Ke.marked="keyword",_e(kt("form"),Pe,he,Pt)):C&&$e=="abstract"?(Ke.marked="keyword",_e(he)):_e(kt("stat"),_r):ge=="switch"?_e(kt("form"),nt,Me("{"),kt("}","switch"),mt,St,Pt,Pt,dt):ge=="case"?_e(Pe,Me(":")):ge=="default"?_e(Me(":")):ge=="catch"?_e(kt("form"),on,be,he,Pt,dt):ge=="export"?_e(kt("stat"),xo,Pt):ge=="import"?_e(kt("stat"),Oo,Pt):ge=="async"?_e(he):$e=="@"?_e(Pe,he):rt(kt("stat"),Pe,Me(";"),Pt)}function be(ge){if(ge=="(")return _e(Dr,Me(")"))}function Pe(ge,$e){return xt(ge,$e,!1)}function Ze(ge,$e){return xt(ge,$e,!0)}function nt(ge){return ge!="("?rt():_e(kt(")"),Ft,Me(")"),Pt)}function xt(ge,$e,Xt){if(Ke.state.fatArrowAt==Ke.stream.start){var ln=Xt?Jn:bn;if(ge=="(")return _e(on,kt(")"),Be(Dr,")"),Pt,Me("=>"),ln,dt);if(ge=="variable")return rt(on,ht,Me("=>"),ln,dt)}var Kt=Xt?pt:Dt;return De.hasOwnProperty(ge)?_e(Kt):ge=="function"?_e(or,Kt):ge=="class"||C&&$e=="interface"?(Ke.marked="keyword",_e(kt("form"),Jr,Pt)):ge=="keyword c"||ge=="async"?_e(Xt?Ze:Pe):ge=="("?_e(kt(")"),Ft,Me(")"),Pt,Kt):ge=="operator"||ge=="spread"?_e(Xt?Ze:Pe):ge=="["?_e(kt("]"),Si,Pt,Kt):ge=="{"?st(we,"}",null,Kt):ge=="quasi"?rt(nr,Kt):ge=="new"?_e(mr(Xt)):_e()}function Ft(ge){return ge.match(/[;\}\)\],]/)?rt():rt(Pe)}function Dt(ge,$e){return ge==","?_e(Ft):pt(ge,$e,!1)}function pt(ge,$e,Xt){var ln=Xt==!1?Dt:pt,Kt=Xt==!1?Pe:Ze;if(ge=="=>")return _e(on,Xt?Jn:bn,dt);if(ge=="operator")return/\+\+|--/.test($e)||C&&$e=="!"?_e(ln):C&&$e=="<"&&Ke.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?_e(kt(">"),Be(En,">"),Pt,ln):$e=="?"?_e(Pe,Me(":"),Kt):_e(Kt);if(ge=="quasi")return rt(nr,ln);if(ge!=";"){if(ge=="(")return st(Ze,")","call",ln);if(ge==".")return _e(fi,ln);if(ge=="[")return _e(kt("]"),Ft,Me("]"),Pt,ln);if(C&&$e=="as")return Ke.marked="keyword",_e(En,ln);if(ge=="regexp")return Ke.state.lastType=Ke.marked="operator",Ke.stream.backUp(Ke.stream.pos-Ke.stream.start-1),_e(Kt)}}function nr(ge,$e){return ge!="quasi"?rt():$e.slice($e.length-2)!="${"?_e(nr):_e(Ft,pn)}function pn(ge){if(ge=="}")return Ke.marked="string-2",Ke.state.tokenize=ae,_e(nr)}function bn(ge){return ye(Ke.stream,Ke.state),rt(ge=="{"?he:Pe)}function Jn(ge){return ye(Ke.stream,Ke.state),rt(ge=="{"?he:Ze)}function mr(ge){return function($e){return $e=="."?_e(ge?Nr:xr):$e=="variable"&&C?_e(Se,ge?pt:Dt):rt(ge?Ze:Pe)}}function xr(ge,$e){if($e=="target")return Ke.marked="keyword",_e(Dt)}function Nr(ge,$e){if($e=="target")return Ke.marked="keyword",_e(pt)}function _r(ge){return ge==":"?_e(Pt,he):rt(Dt,Me(";"),Pt)}function fi(ge){if(ge=="variable")return Ke.marked="property",_e()}function we(ge,$e){if(ge=="async")return Ke.marked="property",_e(we);if(ge=="variable"||Ke.style=="keyword"){if(Ke.marked="property",$e=="get"||$e=="set")return _e(H);var Xt;return C&&Ke.state.fatArrowAt==Ke.stream.start&&(Xt=Ke.stream.match(/^\s*:\s*/,!1))&&(Ke.state.fatArrowAt=Ke.stream.pos+Xt[0].length),_e(Y)}else{if(ge=="number"||ge=="string")return Ke.marked=a?"property":Ke.style+" property",_e(Y);if(ge=="jsonld-keyword")return _e(Y);if(C&&Qt($e))return Ke.marked="keyword",_e(we);if(ge=="[")return _e(Pe,Et,Me("]"),Y);if(ge=="spread")return _e(Ze,Y);if($e=="*")return Ke.marked="keyword",_e(we);if(ge==":")return rt(Y)}}function H(ge){return ge!="variable"?rt(Y):(Ke.marked="property",_e(or))}function Y(ge){if(ge==":")return _e(Ze);if(ge=="(")return rt(or)}function Be(ge,$e,Xt){function ln(Kt,Mn){if(Xt?Xt.indexOf(Kt)>-1:Kt==","){var cr=Ke.state.lexical;return cr.info=="call"&&(cr.pos=(cr.pos||0)+1),_e(function(Ii,ri){return Ii==$e||ri==$e?rt():rt(ge)},ln)}return Kt==$e||Mn==$e?_e():Xt&&Xt.indexOf(";")>-1?rt(ge):_e(Me($e))}return function(Kt,Mn){return Kt==$e||Mn==$e?_e():rt(ge,ln)}}function st(ge,$e,Xt){for(var ln=3;ln<arguments.length;ln++)Ke.cc.push(arguments[ln]);return _e(kt($e,Xt),Be(ge,$e),Pt)}function St(ge){return ge=="}"?_e():rt(he,St)}function Et(ge,$e){if(C){if(ge==":")return _e(En);if($e=="?")return _e(Et)}}function Nt(ge,$e){if(C&&(ge==":"||$e=="in"))return _e(En)}function mn(ge){if(C&&ge==":")return Ke.stream.match(/^\s*\w+\s+is\b/,!1)?_e(Pe,Kn,En):_e(En)}function Kn(ge,$e){if($e=="is")return Ke.marked="keyword",_e()}function En(ge,$e){if($e=="keyof"||$e=="typeof"||$e=="infer"||$e=="readonly")return Ke.marked="keyword",_e($e=="typeof"?Ze:En);if(ge=="variable"||$e=="void")return Ke.marked="type",_e(ve);if($e=="|"||$e=="&")return _e(En);if(ge=="string"||ge=="number"||ge=="atom")return _e(ve);if(ge=="[")return _e(kt("]"),Be(En,"]",","),Pt,ve);if(ge=="{")return _e(kt("}"),Tt,Pt,ve);if(ge=="(")return _e(Be(de,")"),m,ve);if(ge=="<")return _e(Be(En,">"),En);if(ge=="quasi")return rt(Wn,ve)}function m(ge){if(ge=="=>")return _e(En)}function Tt(ge){return ge.match(/[\}\)\]]/)?_e():ge==","||ge==";"?_e(Tt):rt(Lr,Tt)}function Lr(ge,$e){if(ge=="variable"||Ke.style=="keyword")return Ke.marked="property",_e(Lr);if($e=="?"||ge=="number"||ge=="string")return _e(Lr);if(ge==":")return _e(En);if(ge=="[")return _e(Me("variable"),Nt,Me("]"),Lr);if(ge=="(")return rt(Tr,Lr);if(!ge.match(/[;\}\)\],]/))return _e()}function Wn(ge,$e){return ge!="quasi"?rt():$e.slice($e.length-2)!="${"?_e(Wn):_e(En,Te)}function Te(ge){if(ge=="}")return Ke.marked="string-2",Ke.state.tokenize=ae,_e(Wn)}function de(ge,$e){return ge=="variable"&&Ke.stream.match(/^\s*[?:]/,!1)||$e=="?"?_e(de):ge==":"?_e(En):ge=="spread"?_e(de):rt(En)}function ve(ge,$e){if($e=="<")return _e(kt(">"),Be(En,">"),Pt,ve);if($e=="|"||ge=="."||$e=="&")return _e(En);if(ge=="[")return _e(En,Me("]"),ve);if($e=="extends"||$e=="implements")return Ke.marked="keyword",_e(En);if($e=="?")return _e(En,Me(":"),En)}function Se(ge,$e){if($e=="<")return _e(kt(">"),Be(En,">"),Pt,ve)}function Ue(){return rt(En,Xe)}function Xe(ge,$e){if($e=="=")return _e(En)}function at(ge,$e){return $e=="enum"?(Ke.marked="keyword",_e(Qn)):rt(ht,Et,Zt,Ht)}function ht(ge,$e){if(C&&Qt($e))return Ke.marked="keyword",_e(ht);if(ge=="variable")return jt($e),_e();if(ge=="spread")return _e(ht);if(ge=="[")return st(Ct,"]");if(ge=="{")return st(Ve,"}")}function Ve(ge,$e){return ge=="variable"&&!Ke.stream.match(/^\s*:/,!1)?(jt($e),_e(Zt)):(ge=="variable"&&(Ke.marked="property"),ge=="spread"?_e(ht):ge=="}"?rt():ge=="["?_e(Pe,Me("]"),Me(":"),Ve):_e(Me(":"),ht,Zt))}function Ct(){return rt(ht,Zt)}function Zt(ge,$e){if($e=="=")return _e(Ze)}function Ht(ge){if(ge==",")return _e(at)}function qt(ge,$e){if(ge=="keyword b"&&$e=="else")return _e(kt("form","else"),he,Pt)}function Vn(ge,$e){if($e=="await")return _e(Vn);if(ge=="(")return _e(kt(")"),On,Pt)}function On(ge){return ge=="var"?_e(at,ir):ge=="variable"?_e(ir):rt(ir)}function ir(ge,$e){return ge==")"?_e():ge==";"?_e(ir):$e=="in"||$e=="of"?(Ke.marked="keyword",_e(Pe,ir)):rt(Pe,ir)}function or(ge,$e){if($e=="*")return Ke.marked="keyword",_e(or);if(ge=="variable")return jt($e),_e(or);if(ge=="(")return _e(on,kt(")"),Be(Dr,")"),Pt,mn,he,dt);if(C&&$e=="<")return _e(kt(">"),Be(Ue,">"),Pt,or)}function Tr(ge,$e){if($e=="*")return Ke.marked="keyword",_e(Tr);if(ge=="variable")return jt($e),_e(Tr);if(ge=="(")return _e(on,kt(")"),Be(Dr,")"),Pt,mn,dt);if(C&&$e=="<")return _e(kt(">"),Be(Ue,">"),Pt,Tr)}function Ur(ge,$e){if(ge=="keyword"||ge=="variable")return Ke.marked="type",_e(Ur);if($e=="<")return _e(kt(">"),Be(Ue,">"),Pt)}function Dr(ge,$e){return $e=="@"&&_e(Pe,Dr),ge=="spread"?_e(Dr):C&&Qt($e)?(Ke.marked="keyword",_e(Dr)):C&&ge=="this"?_e(Et,Zt):rt(ht,Et,Zt)}function Jr(ge,$e){return ge=="variable"?rr(ge,$e):li(ge,$e)}function rr(ge,$e){if(ge=="variable")return jt($e),_e(li)}function li(ge,$e){if($e=="<")return _e(kt(">"),Be(Ue,">"),Pt,li);if($e=="extends"||$e=="implements"||C&&ge==",")return $e=="implements"&&(Ke.marked="keyword"),_e(C?En:Pe,li);if(ge=="{")return _e(kt("}"),ki,Pt)}function ki(ge,$e){if(ge=="async"||ge=="variable"&&($e=="static"||$e=="get"||$e=="set"||C&&Qt($e))&&Ke.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return Ke.marked="keyword",_e(ki);if(ge=="variable"||Ke.style=="keyword")return Ke.marked="property",_e(Xi,ki);if(ge=="number"||ge=="string")return _e(Xi,ki);if(ge=="[")return _e(Pe,Et,Me("]"),Xi,ki);if($e=="*")return Ke.marked="keyword",_e(ki);if(C&&ge=="(")return rt(Tr,ki);if(ge==";"||ge==",")return _e(ki);if(ge=="}")return _e();if($e=="@")return _e(Pe,ki)}function Xi(ge,$e){if($e=="!"||$e=="?")return _e(Xi);if(ge==":")return _e(En,Zt);if($e=="=")return _e(Ze);var Xt=Ke.state.lexical.prev,ln=Xt&&Xt.info=="interface";return rt(ln?Tr:or)}function xo(ge,$e){return $e=="*"?(Ke.marked="keyword",_e(Ss,Me(";"))):$e=="default"?(Ke.marked="keyword",_e(Pe,Me(";"))):ge=="{"?_e(Be(pi,"}"),Ss,Me(";")):rt(he)}function pi(ge,$e){if($e=="as")return Ke.marked="keyword",_e(Me("variable"));if(ge=="variable")return rt(Ze,pi)}function Oo(ge){return ge=="string"?_e():ge=="("?rt(Pe):ge=="."?rt(Dt):rt(As,Ia,Ss)}function As(ge,$e){return ge=="{"?st(As,"}"):(ge=="variable"&&jt($e),$e=="*"&&(Ke.marked="keyword"),_e(_i))}function Ia(ge){if(ge==",")return _e(As,Ia)}function _i(ge,$e){if($e=="as")return Ke.marked="keyword",_e(As)}function Ss(ge,$e){if($e=="from")return Ke.marked="keyword",_e(Pe)}function Si(ge){return ge=="]"?_e():rt(Be(Ze,"]"))}function Qn(){return rt(kt("form"),ht,Me("{"),kt("}"),Be(so,"}"),Pt,Pt)}function so(){return rt(ht,Zt)}function No(ge,$e){return ge.lastType=="operator"||ge.lastType==","||P.test($e.charAt(0))||/[,.]/.test($e.charAt(0))}function Ji(ge,$e,Xt){return $e.tokenize==oe&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test($e.lastType)||$e.lastType=="quasi"&&/\{\s*$/.test(ge.string.slice(0,ge.pos-(Xt||0)))}return{startState:function(ge){var $e={tokenize:oe,lastType:"sof",cc:[],lexical:new Ne((ge||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new He(null,null,!1),indented:ge||0};return i.globalVars&&typeof i.globalVars=="object"&&($e.globalVars=i.globalVars),$e},token:function(ge,$e){if(ge.sol()&&($e.lexical.hasOwnProperty("align")||($e.lexical.align=!1),$e.indented=ge.indentation(),ye(ge,$e)),$e.tokenize!=Ae&&ge.eatSpace())return null;var Xt=$e.tokenize(ge,$e);return W=="comment"?Xt:($e.lastType=W=="operator"&&(Q=="++"||Q=="--")?"incdec":W,ft($e,Xt,W,Q,ge))},indent:function(ge,$e){if(ge.tokenize==Ae||ge.tokenize==ae)return t.Pass;if(ge.tokenize!=oe)return 0;var Xt=$e&&$e.charAt(0),ln=ge.lexical,Kt;if(!/^\s*else\b/.test($e))for(var Mn=ge.cc.length-1;Mn>=0;--Mn){var cr=ge.cc[Mn];if(cr==Pt)ln=ln.prev;else if(cr!=qt&&cr!=dt)break}for(;(ln.type=="stat"||ln.type=="form")&&(Xt=="}"||(Kt=ge.cc[ge.cc.length-1])&&(Kt==Dt||Kt==pt)&&!/^[,\.=+\-*:?[\(]/.test($e));)ln=ln.prev;s&&ln.type==")"&&ln.prev.type=="stat"&&(ln=ln.prev);var Ii=ln.type,ri=Xt==Ii;return Ii=="vardef"?ln.indented+(ge.lastType=="operator"||ge.lastType==","?ln.info.length+1:0):Ii=="form"&&Xt=="{"?ln.indented:Ii=="form"?ln.indented+o:Ii=="stat"?ln.indented+(No(ge,$e)?s||o:0):ln.info=="switch"&&!ri&&i.doubleIndentSwitch!=!1?ln.indented+(/^(?:case|default)\b/.test($e)?o:2*o):ln.align?ln.column+(ri?0:1):ln.indented+(ri?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:h?null:"/*",blockCommentEnd:h?null:"*/",blockCommentContinue:h?null:" * ",lineComment:h?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:h?"json":"javascript",jsonldMode:a,jsonMode:h,expressionAllowed:Ji,skipExpression:function(ge){ft(ge,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,n){(function(t){t(z5())})(function(t){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(se,ye,De){var Ne=document.createElement("div");Ne.className="CodeMirror-lint-tooltip cm-s-"+se.options.theme,Ne.appendChild(De.cloneNode(!0)),se.state.lint.options.selfContain?se.getWrapperElement().appendChild(Ne):document.body.appendChild(Ne);function et(ft){if(!Ne.parentNode)return t.off(document,"mousemove",et);var Ke=Math.max(0,ft.clientY-Ne.offsetHeight-5),rt=Math.max(0,Math.min(ft.clientX+5,Ne.ownerDocument.defaultView.innerWidth-Ne.offsetWidth));Ne.style.top=Ke+"px",Ne.style.left=rt+"px"}return t.on(document,"mousemove",et),et(ye),Ne.style.opacity!=null&&(Ne.style.opacity=1),Ne}function s(se){se.parentNode&&se.parentNode.removeChild(se)}function a(se){se.parentNode&&(se.style.opacity==null&&s(se),se.style.opacity=0,setTimeout(function(){s(se)},600))}function h(se,ye,De,Ne){var et=o(se,ye,De);function ft(){t.off(Ne,"mouseout",ft),et&&(a(et),et=null)}var Ke=setInterval(function(){if(et)for(var rt=Ne;;rt=rt.parentNode){if(rt&&rt.nodeType==11&&(rt=rt.host),rt==document.body)return;if(!rt){ft();break}}if(!et)return clearInterval(Ke)},400);t.on(Ne,"mouseout",ft)}function g(se,ye,De){this.marked=[],ye instanceof Function&&(ye={getAnnotations:ye}),(!ye||ye===!0)&&(ye={}),this.options={},this.linterOptions=ye.options||{};for(var Ne in C)this.options[Ne]=C[Ne];for(var Ne in ye)C.hasOwnProperty(Ne)?ye[Ne]!=null&&(this.options[Ne]=ye[Ne]):ye.options||(this.linterOptions[Ne]=ye[Ne]);this.timeout=null,this.hasGutter=De,this.onMouseOver=function(et){ae(se,et)},this.waitingFor=0}var C={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function B(se){var ye=se.state.lint;ye.hasGutter&&se.clearGutter(r),ye.options.highlightLines&&k(se);for(var De=0;De<ye.marked.length;++De)ye.marked[De].clear();ye.marked.length=0}function k(se){se.eachLine(function(ye){var De=ye.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(ye.wrapClass);De&&se.removeLineClass(ye,"wrap",De[0])})}function P(se,ye,De,Ne,et){var ft=document.createElement("div"),Ke=ft;return ft.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+De,Ne&&(Ke=ft.appendChild(document.createElement("div")),Ke.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),et!=!1&&t.on(Ke,"mouseover",function(rt){h(se,rt,ye,Ke)}),ft}function U(se,ye){return se=="error"?se:ye}function Z(se){for(var ye=[],De=0;De<se.length;++De){var Ne=se[De],et=Ne.from.line;(ye[et]||(ye[et]=[])).push(Ne)}return ye}function W(se){var ye=se.severity;ye||(ye="error");var De=document.createElement("div");return De.className="CodeMirror-lint-message CodeMirror-lint-message-"+ye,typeof se.messageHTML<"u"?De.innerHTML=se.messageHTML:De.appendChild(document.createTextNode(se.message)),De}function Q(se,ye){var De=se.state.lint,Ne=++De.waitingFor;function et(){Ne=-1,se.off("change",et)}se.on("change",et),ye(se.getValue(),function(ft,Ke){se.off("change",et),De.waitingFor==Ne&&(Ke&&ft instanceof t&&(ft=Ke),se.operation(function(){oe(se,ft)}))},De.linterOptions,se)}function q(se){var ye=se.state.lint;if(ye){var De=ye.options,Ne=De.getAnnotations||se.getHelper(t.Pos(0,0),"lint");if(Ne)if(De.async||Ne.async)Q(se,Ne);else{var et=Ne(se.getValue(),ye.linterOptions,se);if(!et)return;et.then?et.then(function(ft){se.operation(function(){oe(se,ft)})}):se.operation(function(){oe(se,et)})}}}function oe(se,ye){var De=se.state.lint;if(De){var Ne=De.options;B(se);for(var et=Z(ye),ft=0;ft<et.length;++ft){var Ke=et[ft];if(Ke){for(var rt=null,_e=De.hasGutter&&document.createDocumentFragment(),Ut=0;Ut<Ke.length;++Ut){var jt=Ke[Ut],nn=jt.severity;nn||(nn="error"),rt=U(rt,nn),Ne.formatAnnotation&&(jt=Ne.formatAnnotation(jt)),De.hasGutter&&_e.appendChild(W(jt)),jt.to&&De.marked.push(se.markText(jt.from,jt.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+nn,__annotation:jt}))}De.hasGutter&&se.setGutterMarker(ft,r,P(se,_e,rt,Ke.length>1,Ne.tooltips)),Ne.highlightLines&&se.addLineClass(ft,"wrap",i+rt)}}Ne.onUpdateLinting&&Ne.onUpdateLinting(ye,et,se)}}function re(se){var ye=se.state.lint;ye&&(clearTimeout(ye.timeout),ye.timeout=setTimeout(function(){q(se)},ye.options.delay))}function Ae(se,ye,De){for(var Ne=De.target||De.srcElement,et=document.createDocumentFragment(),ft=0;ft<ye.length;ft++){var Ke=ye[ft];et.appendChild(W(Ke))}h(se,De,et,Ne)}function ae(se,ye){var De=ye.target||ye.srcElement;if(/\bCodeMirror-lint-mark-/.test(De.className)){for(var Ne=De.getBoundingClientRect(),et=(Ne.left+Ne.right)/2,ft=(Ne.top+Ne.bottom)/2,Ke=se.findMarksAt(se.coordsChar({left:et,top:ft},"client")),rt=[],_e=0;_e<Ke.length;++_e){var Ut=Ke[_e].__annotation;Ut&&rt.push(Ut)}rt.length&&Ae(se,rt,ye)}}t.defineOption("lint",!1,function(se,ye,De){if(De&&De!=t.Init&&(B(se),se.state.lint.options.lintOnChange!==!1&&se.off("change",re),t.off(se.getWrapperElement(),"mouseover",se.state.lint.onMouseOver),clearTimeout(se.state.lint.timeout),delete se.state.lint),ye){for(var Ne=se.getOption("gutters"),et=!1,ft=0;ft<Ne.length;++ft)Ne[ft]==r&&(et=!0);var Ke=se.state.lint=new g(se,ye,et);Ke.options.lintOnChange&&se.on("change",re),Ke.options.tooltips!=!1&&Ke.options.tooltips!="gutter"&&t.on(se.getWrapperElement(),"mouseover",Ke.onMouseOver),q(se)}}),t.defineExtension("performLint",function(){q(this)})})})();(function(e,n){(function(t){t(z5())})(function(t){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=t.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function s(k){return k&&k.bracketRegex||/[(){}[\]]/}function a(k,P,U){var Z=k.getLineHandle(P.line),W=P.ch-1,Q=U&&U.afterCursor;Q==null&&(Q=/(^| )cm-fat-cursor($| )/.test(k.getWrapperElement().className));var q=s(U),oe=!Q&&W>=0&&q.test(Z.text.charAt(W))&&o[Z.text.charAt(W)]||q.test(Z.text.charAt(W+1))&&o[Z.text.charAt(++W)];if(!oe)return null;var re=oe.charAt(1)==">"?1:-1;if(U&&U.strict&&re>0!=(W==P.ch))return null;var Ae=k.getTokenTypeAt(i(P.line,W+1)),ae=h(k,i(P.line,W+(re>0?1:0)),re,Ae,U);return ae==null?null:{from:i(P.line,W),to:ae&&ae.pos,match:ae&&ae.ch==oe.charAt(0),forward:re>0}}function h(k,P,U,Z,W){for(var Q=W&&W.maxScanLineLength||1e4,q=W&&W.maxScanLines||1e3,oe=[],re=s(W),Ae=U>0?Math.min(P.line+q,k.lastLine()+1):Math.max(k.firstLine()-1,P.line-q),ae=P.line;ae!=Ae;ae+=U){var se=k.getLine(ae);if(se){var ye=U>0?0:se.length-1,De=U>0?se.length:-1;if(!(se.length>Q))for(ae==P.line&&(ye=P.ch-(U<0?1:0));ye!=De;ye+=U){var Ne=se.charAt(ye);if(re.test(Ne)&&(Z===void 0||(k.getTokenTypeAt(i(ae,ye+1))||"")==(Z||""))){var et=o[Ne];if(et&&et.charAt(1)==">"==U>0)oe.push(Ne);else if(oe.length)oe.pop();else return{pos:i(ae,ye),ch:Ne}}}}}return ae-U==(U>0?k.lastLine():k.firstLine())?!1:null}function g(k,P,U){for(var Z=k.state.matchBrackets.maxHighlightLineLength||1e3,W=U&&U.highlightNonMatching,Q=[],q=k.listSelections(),oe=0;oe<q.length;oe++){var re=q[oe].empty()&&a(k,q[oe].head,U);if(re&&(re.match||W!==!1)&&k.getLine(re.from.line).length<=Z){var Ae=re.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";Q.push(k.markText(re.from,i(re.from.line,re.from.ch+1),{className:Ae})),re.to&&k.getLine(re.to.line).length<=Z&&Q.push(k.markText(re.to,i(re.to.line,re.to.ch+1),{className:Ae}))}}if(Q.length){r&&k.state.focused&&k.focus();var ae=function(){k.operation(function(){for(var se=0;se<Q.length;se++)Q[se].clear()})};if(P)setTimeout(ae,800);else return ae}}function C(k){k.operation(function(){k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null),k.state.matchBrackets.currentlyHighlighted=g(k,!1,k.state.matchBrackets)})}function B(k){k.state.matchBrackets&&k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(k,P,U){U&&U!=t.Init&&(k.off("cursorActivity",C),k.off("focus",C),k.off("blur",B),B(k)),P&&(k.state.matchBrackets=typeof P=="object"?P:{},k.on("cursorActivity",C),k.on("focus",C),k.on("blur",B))}),t.defineExtension("matchBrackets",function(){g(this,!0)}),t.defineExtension("findMatchingBracket",function(k,P,U){return(U||typeof P=="boolean")&&(U?(U.strict=P,P=U):P=P?{strict:!0}:null),a(this,k,P)}),t.defineExtension("scanForBracket",function(k,P,U,Z){return h(this,k,P,U,Z)})})})();var _me=/("(?:[^\\"]|\\.)*")|[:,]/g,Cme=function(n,t){var r,i,o;return t=t||{},r=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),i=r===""?1/0:t.maxLength===void 0?80:t.maxLength,o=t.replacer,function s(a,h,g){var C,B,k,P,U,Z,W,Q,q,oe,re,Ae;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),re=JSON.stringify(a,o),re===void 0)return re;if(W=i-h.length-g,re.length<=W&&(q=re.replace(_me,function(ae,se){return se||ae+" "}),q.length<=W))return q;if(o!=null&&(a=JSON.parse(re),o=void 0),typeof a=="object"&&a!==null){if(Q=h+r,k=[],B=0,Array.isArray(a))for(oe="[",C="]",W=a.length;B<W;B++)k.push(s(a[B],Q,B===W-1?0:1)||"null");else for(oe="{",C="}",Z=Object.keys(a),W=Z.length;B<W;B++)P=Z[B],U=JSON.stringify(P)+": ",Ae=s(a[P],Q,U.length+(B===W-1?0:1)),Ae!==void 0&&k.push(U+Ae);if(k.length>0)return[oe,r+k.join(`,
`+Q),C].join(`
`+h)}return re}(n,"",0)};const HW=oa(Cme);function bme(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ZW={};(function(e){var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,s,a,h,g,C,B){var k=C.length-1;switch(g){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=C[k-1];case 13:this.$={};break;case 14:this.$=C[k-1];break;case 15:this.$=[C[k-2],C[k]];break;case 16:this.$={},this.$[C[k][0]]=C[k][1];break;case 17:this.$=C[k-2],C[k-2][C[k][0]]=C[k][1];break;case 18:this.$=[];break;case 19:this.$=C[k-1];break;case 20:this.$=[C[k]];break;case 21:this.$=C[k-2],C[k-2].push(C[k]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,s){throw new Error(o)},parse:function(o){var s=this,a=[0],h=[null],g=[],C=this.table,B="",k=0,P=0,U=0,Z=2,W=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var Q=this.lexer.yylloc;g.push(Q),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function q(_e){a.length=a.length-2*_e,h.length=h.length-_e,g.length=g.length-_e}function oe(){var _e;return _e=s.lexer.lex()||1,typeof _e!="number"&&(_e=s.symbols_[_e]||_e),_e}for(var re,Ae,ae,se,ye,De={},Ne,et,ft,Ke;;){if(ae=a[a.length-1],this.defaultActions[ae]?se=this.defaultActions[ae]:(re==null&&(re=oe()),se=C[ae]&&C[ae][re]),typeof se>"u"||!se.length||!se[0]){if(!U){Ke=[];for(Ne in C[ae])this.terminals_[Ne]&&Ne>2&&Ke.push("'"+this.terminals_[Ne]+"'");var rt="";this.lexer.showPosition?rt="Parse error on line "+(k+1)+`:
`+this.lexer.showPosition()+`
Expecting `+Ke.join(", ")+", got '"+this.terminals_[re]+"'":rt="Parse error on line "+(k+1)+": Unexpected "+(re==1?"end of input":"'"+(this.terminals_[re]||re)+"'"),this.parseError(rt,{text:this.lexer.match,token:this.terminals_[re]||re,line:this.lexer.yylineno,loc:Q,expected:Ke})}if(U==3){if(re==W)throw new Error(rt||"Parsing halted.");P=this.lexer.yyleng,B=this.lexer.yytext,k=this.lexer.yylineno,Q=this.lexer.yylloc,re=oe()}for(;!(Z.toString()in C[ae]);){if(ae==0)throw new Error(rt||"Parsing halted.");q(1),ae=a[a.length-1]}Ae=re,re=Z,ae=a[a.length-1],se=C[ae]&&C[ae][Z],U=3}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ae+", token: "+re);switch(se[0]){case 1:a.push(re),h.push(this.lexer.yytext),g.push(this.lexer.yylloc),a.push(se[1]),re=null,Ae?(re=Ae,Ae=null):(P=this.lexer.yyleng,B=this.lexer.yytext,k=this.lexer.yylineno,Q=this.lexer.yylloc,U>0&&U--);break;case 2:if(et=this.productions_[se[1]][1],De.$=h[h.length-et],De._$={first_line:g[g.length-(et||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(et||1)].first_column,last_column:g[g.length-1].last_column},ye=this.performAction.call(De,B,P,k,this.yy,se[1],h,g),typeof ye<"u")return ye;et&&(a=a.slice(0,-1*et*2),h=h.slice(0,-1*et),g=g.slice(0,-1*et)),a.push(this.productions_[se[1]][0]),h.push(De.$),g.push(De._$),ft=C[a[a.length-2]][a[a.length-1]],a.push(ft);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(s,a){if(this.yy.parseError)this.yy.parseError(s,a);else throw new Error(s)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var s=o.match(/\n/);return s&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),s=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+s+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,s,a,h,g;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),B=0;B<C.length&&(a=this._input.match(this.rules[C[B]]),!(a&&(!s||a[0].length>s[0].length)&&(s=a,h=B,!this.options.flex)));B++);if(s)return g=s[0].match(/\n.*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-1:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],o=this.performAction.call(this,this.yy,this,C[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var s=this.next();return typeof s<"u"?s:this.lex()},begin:function(s){this.conditionStack.push(s)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(s){this.begin(s)}};return i.options={},i.performAction=function(s,a,h,g){switch(h){case 0:break;case 1:return 6;case 2:return a.yytext=a.yytext.substr(1,a.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return t.lexer=r,t}();typeof bme<"u"&&(e.parser=n,e.parse=n.parse.bind(n))})(ZW);const ZE=oa(ZW);var XW={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(ch,function(){var t=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(he,be){return be={exports:{}},he(be,be.exports),be.exports}var i=r(function(he){function be(){var Pe=0,Ze=1,nt=2,xt=3,Ft=4,Dt=5,pt=6,nr=7,pn=8,bn=9,Jn=10,mr=11,xr=12,Nr=13,_r=14,fi=15,we=16,H=17,Y=0,Be=1,st=2,St=3,Et=4;function Nt(m,Tt){return 55296<=m.charCodeAt(Tt)&&m.charCodeAt(Tt)<=56319&&56320<=m.charCodeAt(Tt+1)&&m.charCodeAt(Tt+1)<=57343}function mn(m,Tt){Tt===void 0&&(Tt=0);var Lr=m.charCodeAt(Tt);if(55296<=Lr&&Lr<=56319&&Tt<m.length-1){var Wn=Lr,Te=m.charCodeAt(Tt+1);return 56320<=Te&&Te<=57343?(Wn-55296)*1024+(Te-56320)+65536:Wn}if(56320<=Lr&&Lr<=57343&&Tt>=1){var Wn=m.charCodeAt(Tt-1),Te=Lr;return 55296<=Wn&&Wn<=56319?(Wn-55296)*1024+(Te-56320)+65536:Te}return Lr}function Kn(m,Tt,Lr){var Wn=[m].concat(Tt).concat([Lr]),Te=Wn[Wn.length-2],de=Lr,ve=Wn.lastIndexOf(_r);if(ve>1&&Wn.slice(1,ve).every(function(Xe){return Xe==xt})&&[xt,Nr,H].indexOf(m)==-1)return st;var Se=Wn.lastIndexOf(Ft);if(Se>0&&Wn.slice(1,Se).every(function(Xe){return Xe==Ft})&&[xr,Ft].indexOf(Te)==-1)return Wn.filter(function(Xe){return Xe==Ft}).length%2==1?St:Et;if(Te==Pe&&de==Ze)return Y;if(Te==nt||Te==Pe||Te==Ze)return de==_r&&Tt.every(function(Xe){return Xe==xt})?st:Be;if(de==nt||de==Pe||de==Ze)return Be;if(Te==pt&&(de==pt||de==nr||de==bn||de==Jn))return Y;if((Te==bn||Te==nr)&&(de==nr||de==pn))return Y;if((Te==Jn||Te==pn)&&de==pn)return Y;if(de==xt||de==fi)return Y;if(de==Dt)return Y;if(Te==xr)return Y;var Ue=Wn.indexOf(xt)!=-1?Wn.lastIndexOf(xt)-1:Wn.length-2;return[Nr,H].indexOf(Wn[Ue])!=-1&&Wn.slice(Ue+1,-1).every(function(Xe){return Xe==xt})&&de==_r||Te==fi&&[we,H].indexOf(de)!=-1?Y:Tt.indexOf(Ft)!=-1?st:Te==Ft&&de==Ft?Y:Be}this.nextBreak=function(m,Tt){if(Tt===void 0&&(Tt=0),Tt<0)return 0;if(Tt>=m.length-1)return m.length;for(var Lr=En(mn(m,Tt)),Wn=[],Te=Tt+1;Te<m.length;Te++)if(!Nt(m,Te-1)){var de=En(mn(m,Te));if(Kn(Lr,Wn,de))return Te;Wn.push(de)}return m.length},this.splitGraphemes=function(m){for(var Tt=[],Lr=0,Wn;(Wn=this.nextBreak(m,Lr))<m.length;)Tt.push(m.slice(Lr,Wn)),Lr=Wn;return Lr<m.length&&Tt.push(m.slice(Lr)),Tt},this.iterateGraphemes=function(m){var Tt=0,Lr={next:(function(){var Wn,Te;return(Te=this.nextBreak(m,Tt))<m.length?(Wn=m.slice(Tt,Te),Tt=Te,{value:Wn,done:!1}):Tt<m.length?(Wn=m.slice(Tt),Tt=m.length,{value:Wn,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(Lr[Symbol.iterator]=function(){return Lr}),Lr},this.countGraphemes=function(m){for(var Tt=0,Lr=0,Wn;(Wn=this.nextBreak(m,Lr))<m.length;)Lr=Wn,Tt++;return Lr<m.length&&Tt++,Tt};function En(m){return 1536<=m&&m<=1541||m==1757||m==1807||m==2274||m==3406||m==69821||70082<=m&&m<=70083||m==72250||72326<=m&&m<=72329||m==73030?xr:m==13?Pe:m==10?Ze:0<=m&&m<=9||11<=m&&m<=12||14<=m&&m<=31||127<=m&&m<=159||m==173||m==1564||m==6158||m==8203||8206<=m&&m<=8207||m==8232||m==8233||8234<=m&&m<=8238||8288<=m&&m<=8292||m==8293||8294<=m&&m<=8303||55296<=m&&m<=57343||m==65279||65520<=m&&m<=65528||65529<=m&&m<=65531||113824<=m&&m<=113827||119155<=m&&m<=119162||m==917504||m==917505||917506<=m&&m<=917535||917632<=m&&m<=917759||918e3<=m&&m<=921599?nt:768<=m&&m<=879||1155<=m&&m<=1159||1160<=m&&m<=1161||1425<=m&&m<=1469||m==1471||1473<=m&&m<=1474||1476<=m&&m<=1477||m==1479||1552<=m&&m<=1562||1611<=m&&m<=1631||m==1648||1750<=m&&m<=1756||1759<=m&&m<=1764||1767<=m&&m<=1768||1770<=m&&m<=1773||m==1809||1840<=m&&m<=1866||1958<=m&&m<=1968||2027<=m&&m<=2035||2070<=m&&m<=2073||2075<=m&&m<=2083||2085<=m&&m<=2087||2089<=m&&m<=2093||2137<=m&&m<=2139||2260<=m&&m<=2273||2275<=m&&m<=2306||m==2362||m==2364||2369<=m&&m<=2376||m==2381||2385<=m&&m<=2391||2402<=m&&m<=2403||m==2433||m==2492||m==2494||2497<=m&&m<=2500||m==2509||m==2519||2530<=m&&m<=2531||2561<=m&&m<=2562||m==2620||2625<=m&&m<=2626||2631<=m&&m<=2632||2635<=m&&m<=2637||m==2641||2672<=m&&m<=2673||m==2677||2689<=m&&m<=2690||m==2748||2753<=m&&m<=2757||2759<=m&&m<=2760||m==2765||2786<=m&&m<=2787||2810<=m&&m<=2815||m==2817||m==2876||m==2878||m==2879||2881<=m&&m<=2884||m==2893||m==2902||m==2903||2914<=m&&m<=2915||m==2946||m==3006||m==3008||m==3021||m==3031||m==3072||3134<=m&&m<=3136||3142<=m&&m<=3144||3146<=m&&m<=3149||3157<=m&&m<=3158||3170<=m&&m<=3171||m==3201||m==3260||m==3263||m==3266||m==3270||3276<=m&&m<=3277||3285<=m&&m<=3286||3298<=m&&m<=3299||3328<=m&&m<=3329||3387<=m&&m<=3388||m==3390||3393<=m&&m<=3396||m==3405||m==3415||3426<=m&&m<=3427||m==3530||m==3535||3538<=m&&m<=3540||m==3542||m==3551||m==3633||3636<=m&&m<=3642||3655<=m&&m<=3662||m==3761||3764<=m&&m<=3769||3771<=m&&m<=3772||3784<=m&&m<=3789||3864<=m&&m<=3865||m==3893||m==3895||m==3897||3953<=m&&m<=3966||3968<=m&&m<=3972||3974<=m&&m<=3975||3981<=m&&m<=3991||3993<=m&&m<=4028||m==4038||4141<=m&&m<=4144||4146<=m&&m<=4151||4153<=m&&m<=4154||4157<=m&&m<=4158||4184<=m&&m<=4185||4190<=m&&m<=4192||4209<=m&&m<=4212||m==4226||4229<=m&&m<=4230||m==4237||m==4253||4957<=m&&m<=4959||5906<=m&&m<=5908||5938<=m&&m<=5940||5970<=m&&m<=5971||6002<=m&&m<=6003||6068<=m&&m<=6069||6071<=m&&m<=6077||m==6086||6089<=m&&m<=6099||m==6109||6155<=m&&m<=6157||6277<=m&&m<=6278||m==6313||6432<=m&&m<=6434||6439<=m&&m<=6440||m==6450||6457<=m&&m<=6459||6679<=m&&m<=6680||m==6683||m==6742||6744<=m&&m<=6750||m==6752||m==6754||6757<=m&&m<=6764||6771<=m&&m<=6780||m==6783||6832<=m&&m<=6845||m==6846||6912<=m&&m<=6915||m==6964||6966<=m&&m<=6970||m==6972||m==6978||7019<=m&&m<=7027||7040<=m&&m<=7041||7074<=m&&m<=7077||7080<=m&&m<=7081||7083<=m&&m<=7085||m==7142||7144<=m&&m<=7145||m==7149||7151<=m&&m<=7153||7212<=m&&m<=7219||7222<=m&&m<=7223||7376<=m&&m<=7378||7380<=m&&m<=7392||7394<=m&&m<=7400||m==7405||m==7412||7416<=m&&m<=7417||7616<=m&&m<=7673||7675<=m&&m<=7679||m==8204||8400<=m&&m<=8412||8413<=m&&m<=8416||m==8417||8418<=m&&m<=8420||8421<=m&&m<=8432||11503<=m&&m<=11505||m==11647||11744<=m&&m<=11775||12330<=m&&m<=12333||12334<=m&&m<=12335||12441<=m&&m<=12442||m==42607||42608<=m&&m<=42610||42612<=m&&m<=42621||42654<=m&&m<=42655||42736<=m&&m<=42737||m==43010||m==43014||m==43019||43045<=m&&m<=43046||43204<=m&&m<=43205||43232<=m&&m<=43249||43302<=m&&m<=43309||43335<=m&&m<=43345||43392<=m&&m<=43394||m==43443||43446<=m&&m<=43449||m==43452||m==43493||43561<=m&&m<=43566||43569<=m&&m<=43570||43573<=m&&m<=43574||m==43587||m==43596||m==43644||m==43696||43698<=m&&m<=43700||43703<=m&&m<=43704||43710<=m&&m<=43711||m==43713||43756<=m&&m<=43757||m==43766||m==44005||m==44008||m==44013||m==64286||65024<=m&&m<=65039||65056<=m&&m<=65071||65438<=m&&m<=65439||m==66045||m==66272||66422<=m&&m<=66426||68097<=m&&m<=68099||68101<=m&&m<=68102||68108<=m&&m<=68111||68152<=m&&m<=68154||m==68159||68325<=m&&m<=68326||m==69633||69688<=m&&m<=69702||69759<=m&&m<=69761||69811<=m&&m<=69814||69817<=m&&m<=69818||69888<=m&&m<=69890||69927<=m&&m<=69931||69933<=m&&m<=69940||m==70003||70016<=m&&m<=70017||70070<=m&&m<=70078||70090<=m&&m<=70092||70191<=m&&m<=70193||m==70196||70198<=m&&m<=70199||m==70206||m==70367||70371<=m&&m<=70378||70400<=m&&m<=70401||m==70460||m==70462||m==70464||m==70487||70502<=m&&m<=70508||70512<=m&&m<=70516||70712<=m&&m<=70719||70722<=m&&m<=70724||m==70726||m==70832||70835<=m&&m<=70840||m==70842||m==70845||70847<=m&&m<=70848||70850<=m&&m<=70851||m==71087||71090<=m&&m<=71093||71100<=m&&m<=71101||71103<=m&&m<=71104||71132<=m&&m<=71133||71219<=m&&m<=71226||m==71229||71231<=m&&m<=71232||m==71339||m==71341||71344<=m&&m<=71349||m==71351||71453<=m&&m<=71455||71458<=m&&m<=71461||71463<=m&&m<=71467||72193<=m&&m<=72198||72201<=m&&m<=72202||72243<=m&&m<=72248||72251<=m&&m<=72254||m==72263||72273<=m&&m<=72278||72281<=m&&m<=72283||72330<=m&&m<=72342||72344<=m&&m<=72345||72752<=m&&m<=72758||72760<=m&&m<=72765||m==72767||72850<=m&&m<=72871||72874<=m&&m<=72880||72882<=m&&m<=72883||72885<=m&&m<=72886||73009<=m&&m<=73014||m==73018||73020<=m&&m<=73021||73023<=m&&m<=73029||m==73031||92912<=m&&m<=92916||92976<=m&&m<=92982||94095<=m&&m<=94098||113821<=m&&m<=113822||m==119141||119143<=m&&m<=119145||119150<=m&&m<=119154||119163<=m&&m<=119170||119173<=m&&m<=119179||119210<=m&&m<=119213||119362<=m&&m<=119364||121344<=m&&m<=121398||121403<=m&&m<=121452||m==121461||m==121476||121499<=m&&m<=121503||121505<=m&&m<=121519||122880<=m&&m<=122886||122888<=m&&m<=122904||122907<=m&&m<=122913||122915<=m&&m<=122916||122918<=m&&m<=122922||125136<=m&&m<=125142||125252<=m&&m<=125258||917536<=m&&m<=917631||917760<=m&&m<=917999?xt:127462<=m&&m<=127487?Ft:m==2307||m==2363||2366<=m&&m<=2368||2377<=m&&m<=2380||2382<=m&&m<=2383||2434<=m&&m<=2435||2495<=m&&m<=2496||2503<=m&&m<=2504||2507<=m&&m<=2508||m==2563||2622<=m&&m<=2624||m==2691||2750<=m&&m<=2752||m==2761||2763<=m&&m<=2764||2818<=m&&m<=2819||m==2880||2887<=m&&m<=2888||2891<=m&&m<=2892||m==3007||3009<=m&&m<=3010||3014<=m&&m<=3016||3018<=m&&m<=3020||3073<=m&&m<=3075||3137<=m&&m<=3140||3202<=m&&m<=3203||m==3262||3264<=m&&m<=3265||3267<=m&&m<=3268||3271<=m&&m<=3272||3274<=m&&m<=3275||3330<=m&&m<=3331||3391<=m&&m<=3392||3398<=m&&m<=3400||3402<=m&&m<=3404||3458<=m&&m<=3459||3536<=m&&m<=3537||3544<=m&&m<=3550||3570<=m&&m<=3571||m==3635||m==3763||3902<=m&&m<=3903||m==3967||m==4145||4155<=m&&m<=4156||4182<=m&&m<=4183||m==4228||m==6070||6078<=m&&m<=6085||6087<=m&&m<=6088||6435<=m&&m<=6438||6441<=m&&m<=6443||6448<=m&&m<=6449||6451<=m&&m<=6456||6681<=m&&m<=6682||m==6741||m==6743||6765<=m&&m<=6770||m==6916||m==6965||m==6971||6973<=m&&m<=6977||6979<=m&&m<=6980||m==7042||m==7073||7078<=m&&m<=7079||m==7082||m==7143||7146<=m&&m<=7148||m==7150||7154<=m&&m<=7155||7204<=m&&m<=7211||7220<=m&&m<=7221||m==7393||7410<=m&&m<=7411||m==7415||43043<=m&&m<=43044||m==43047||43136<=m&&m<=43137||43188<=m&&m<=43203||43346<=m&&m<=43347||m==43395||43444<=m&&m<=43445||43450<=m&&m<=43451||43453<=m&&m<=43456||43567<=m&&m<=43568||43571<=m&&m<=43572||m==43597||m==43755||43758<=m&&m<=43759||m==43765||44003<=m&&m<=44004||44006<=m&&m<=44007||44009<=m&&m<=44010||m==44012||m==69632||m==69634||m==69762||69808<=m&&m<=69810||69815<=m&&m<=69816||m==69932||m==70018||70067<=m&&m<=70069||70079<=m&&m<=70080||70188<=m&&m<=70190||70194<=m&&m<=70195||m==70197||70368<=m&&m<=70370||70402<=m&&m<=70403||m==70463||70465<=m&&m<=70468||70471<=m&&m<=70472||70475<=m&&m<=70477||70498<=m&&m<=70499||70709<=m&&m<=70711||70720<=m&&m<=70721||m==70725||70833<=m&&m<=70834||m==70841||70843<=m&&m<=70844||m==70846||m==70849||71088<=m&&m<=71089||71096<=m&&m<=71099||m==71102||71216<=m&&m<=71218||71227<=m&&m<=71228||m==71230||m==71340||71342<=m&&m<=71343||m==71350||71456<=m&&m<=71457||m==71462||72199<=m&&m<=72200||m==72249||72279<=m&&m<=72280||m==72343||m==72751||m==72766||m==72873||m==72881||m==72884||94033<=m&&m<=94078||m==119142||m==119149?Dt:4352<=m&&m<=4447||43360<=m&&m<=43388?pt:4448<=m&&m<=4519||55216<=m&&m<=55238?nr:4520<=m&&m<=4607||55243<=m&&m<=55291?pn:m==44032||m==44060||m==44088||m==44116||m==44144||m==44172||m==44200||m==44228||m==44256||m==44284||m==44312||m==44340||m==44368||m==44396||m==44424||m==44452||m==44480||m==44508||m==44536||m==44564||m==44592||m==44620||m==44648||m==44676||m==44704||m==44732||m==44760||m==44788||m==44816||m==44844||m==44872||m==44900||m==44928||m==44956||m==44984||m==45012||m==45040||m==45068||m==45096||m==45124||m==45152||m==45180||m==45208||m==45236||m==45264||m==45292||m==45320||m==45348||m==45376||m==45404||m==45432||m==45460||m==45488||m==45516||m==45544||m==45572||m==45600||m==45628||m==45656||m==45684||m==45712||m==45740||m==45768||m==45796||m==45824||m==45852||m==45880||m==45908||m==45936||m==45964||m==45992||m==46020||m==46048||m==46076||m==46104||m==46132||m==46160||m==46188||m==46216||m==46244||m==46272||m==46300||m==46328||m==46356||m==46384||m==46412||m==46440||m==46468||m==46496||m==46524||m==46552||m==46580||m==46608||m==46636||m==46664||m==46692||m==46720||m==46748||m==46776||m==46804||m==46832||m==46860||m==46888||m==46916||m==46944||m==46972||m==47e3||m==47028||m==47056||m==47084||m==47112||m==47140||m==47168||m==47196||m==47224||m==47252||m==47280||m==47308||m==47336||m==47364||m==47392||m==47420||m==47448||m==47476||m==47504||m==47532||m==47560||m==47588||m==47616||m==47644||m==47672||m==47700||m==47728||m==47756||m==47784||m==47812||m==47840||m==47868||m==47896||m==47924||m==47952||m==47980||m==48008||m==48036||m==48064||m==48092||m==48120||m==48148||m==48176||m==48204||m==48232||m==48260||m==48288||m==48316||m==48344||m==48372||m==48400||m==48428||m==48456||m==48484||m==48512||m==48540||m==48568||m==48596||m==48624||m==48652||m==48680||m==48708||m==48736||m==48764||m==48792||m==48820||m==48848||m==48876||m==48904||m==48932||m==48960||m==48988||m==49016||m==49044||m==49072||m==49100||m==49128||m==49156||m==49184||m==49212||m==49240||m==49268||m==49296||m==49324||m==49352||m==49380||m==49408||m==49436||m==49464||m==49492||m==49520||m==49548||m==49576||m==49604||m==49632||m==49660||m==49688||m==49716||m==49744||m==49772||m==49800||m==49828||m==49856||m==49884||m==49912||m==49940||m==49968||m==49996||m==50024||m==50052||m==50080||m==50108||m==50136||m==50164||m==50192||m==50220||m==50248||m==50276||m==50304||m==50332||m==50360||m==50388||m==50416||m==50444||m==50472||m==50500||m==50528||m==50556||m==50584||m==50612||m==50640||m==50668||m==50696||m==50724||m==50752||m==50780||m==50808||m==50836||m==50864||m==50892||m==50920||m==50948||m==50976||m==51004||m==51032||m==51060||m==51088||m==51116||m==51144||m==51172||m==51200||m==51228||m==51256||m==51284||m==51312||m==51340||m==51368||m==51396||m==51424||m==51452||m==51480||m==51508||m==51536||m==51564||m==51592||m==51620||m==51648||m==51676||m==51704||m==51732||m==51760||m==51788||m==51816||m==51844||m==51872||m==51900||m==51928||m==51956||m==51984||m==52012||m==52040||m==52068||m==52096||m==52124||m==52152||m==52180||m==52208||m==52236||m==52264||m==52292||m==52320||m==52348||m==52376||m==52404||m==52432||m==52460||m==52488||m==52516||m==52544||m==52572||m==52600||m==52628||m==52656||m==52684||m==52712||m==52740||m==52768||m==52796||m==52824||m==52852||m==52880||m==52908||m==52936||m==52964||m==52992||m==53020||m==53048||m==53076||m==53104||m==53132||m==53160||m==53188||m==53216||m==53244||m==53272||m==53300||m==53328||m==53356||m==53384||m==53412||m==53440||m==53468||m==53496||m==53524||m==53552||m==53580||m==53608||m==53636||m==53664||m==53692||m==53720||m==53748||m==53776||m==53804||m==53832||m==53860||m==53888||m==53916||m==53944||m==53972||m==54e3||m==54028||m==54056||m==54084||m==54112||m==54140||m==54168||m==54196||m==54224||m==54252||m==54280||m==54308||m==54336||m==54364||m==54392||m==54420||m==54448||m==54476||m==54504||m==54532||m==54560||m==54588||m==54616||m==54644||m==54672||m==54700||m==54728||m==54756||m==54784||m==54812||m==54840||m==54868||m==54896||m==54924||m==54952||m==54980||m==55008||m==55036||m==55064||m==55092||m==55120||m==55148||m==55176?bn:44033<=m&&m<=44059||44061<=m&&m<=44087||44089<=m&&m<=44115||44117<=m&&m<=44143||44145<=m&&m<=44171||44173<=m&&m<=44199||44201<=m&&m<=44227||44229<=m&&m<=44255||44257<=m&&m<=44283||44285<=m&&m<=44311||44313<=m&&m<=44339||44341<=m&&m<=44367||44369<=m&&m<=44395||44397<=m&&m<=44423||44425<=m&&m<=44451||44453<=m&&m<=44479||44481<=m&&m<=44507||44509<=m&&m<=44535||44537<=m&&m<=44563||44565<=m&&m<=44591||44593<=m&&m<=44619||44621<=m&&m<=44647||44649<=m&&m<=44675||44677<=m&&m<=44703||44705<=m&&m<=44731||44733<=m&&m<=44759||44761<=m&&m<=44787||44789<=m&&m<=44815||44817<=m&&m<=44843||44845<=m&&m<=44871||44873<=m&&m<=44899||44901<=m&&m<=44927||44929<=m&&m<=44955||44957<=m&&m<=44983||44985<=m&&m<=45011||45013<=m&&m<=45039||45041<=m&&m<=45067||45069<=m&&m<=45095||45097<=m&&m<=45123||45125<=m&&m<=45151||45153<=m&&m<=45179||45181<=m&&m<=45207||45209<=m&&m<=45235||45237<=m&&m<=45263||45265<=m&&m<=45291||45293<=m&&m<=45319||45321<=m&&m<=45347||45349<=m&&m<=45375||45377<=m&&m<=45403||45405<=m&&m<=45431||45433<=m&&m<=45459||45461<=m&&m<=45487||45489<=m&&m<=45515||45517<=m&&m<=45543||45545<=m&&m<=45571||45573<=m&&m<=45599||45601<=m&&m<=45627||45629<=m&&m<=45655||45657<=m&&m<=45683||45685<=m&&m<=45711||45713<=m&&m<=45739||45741<=m&&m<=45767||45769<=m&&m<=45795||45797<=m&&m<=45823||45825<=m&&m<=45851||45853<=m&&m<=45879||45881<=m&&m<=45907||45909<=m&&m<=45935||45937<=m&&m<=45963||45965<=m&&m<=45991||45993<=m&&m<=46019||46021<=m&&m<=46047||46049<=m&&m<=46075||46077<=m&&m<=46103||46105<=m&&m<=46131||46133<=m&&m<=46159||46161<=m&&m<=46187||46189<=m&&m<=46215||46217<=m&&m<=46243||46245<=m&&m<=46271||46273<=m&&m<=46299||46301<=m&&m<=46327||46329<=m&&m<=46355||46357<=m&&m<=46383||46385<=m&&m<=46411||46413<=m&&m<=46439||46441<=m&&m<=46467||46469<=m&&m<=46495||46497<=m&&m<=46523||46525<=m&&m<=46551||46553<=m&&m<=46579||46581<=m&&m<=46607||46609<=m&&m<=46635||46637<=m&&m<=46663||46665<=m&&m<=46691||46693<=m&&m<=46719||46721<=m&&m<=46747||46749<=m&&m<=46775||46777<=m&&m<=46803||46805<=m&&m<=46831||46833<=m&&m<=46859||46861<=m&&m<=46887||46889<=m&&m<=46915||46917<=m&&m<=46943||46945<=m&&m<=46971||46973<=m&&m<=46999||47001<=m&&m<=47027||47029<=m&&m<=47055||47057<=m&&m<=47083||47085<=m&&m<=47111||47113<=m&&m<=47139||47141<=m&&m<=47167||47169<=m&&m<=47195||47197<=m&&m<=47223||47225<=m&&m<=47251||47253<=m&&m<=47279||47281<=m&&m<=47307||47309<=m&&m<=47335||47337<=m&&m<=47363||47365<=m&&m<=47391||47393<=m&&m<=47419||47421<=m&&m<=47447||47449<=m&&m<=47475||47477<=m&&m<=47503||47505<=m&&m<=47531||47533<=m&&m<=47559||47561<=m&&m<=47587||47589<=m&&m<=47615||47617<=m&&m<=47643||47645<=m&&m<=47671||47673<=m&&m<=47699||47701<=m&&m<=47727||47729<=m&&m<=47755||47757<=m&&m<=47783||47785<=m&&m<=47811||47813<=m&&m<=47839||47841<=m&&m<=47867||47869<=m&&m<=47895||47897<=m&&m<=47923||47925<=m&&m<=47951||47953<=m&&m<=47979||47981<=m&&m<=48007||48009<=m&&m<=48035||48037<=m&&m<=48063||48065<=m&&m<=48091||48093<=m&&m<=48119||48121<=m&&m<=48147||48149<=m&&m<=48175||48177<=m&&m<=48203||48205<=m&&m<=48231||48233<=m&&m<=48259||48261<=m&&m<=48287||48289<=m&&m<=48315||48317<=m&&m<=48343||48345<=m&&m<=48371||48373<=m&&m<=48399||48401<=m&&m<=48427||48429<=m&&m<=48455||48457<=m&&m<=48483||48485<=m&&m<=48511||48513<=m&&m<=48539||48541<=m&&m<=48567||48569<=m&&m<=48595||48597<=m&&m<=48623||48625<=m&&m<=48651||48653<=m&&m<=48679||48681<=m&&m<=48707||48709<=m&&m<=48735||48737<=m&&m<=48763||48765<=m&&m<=48791||48793<=m&&m<=48819||48821<=m&&m<=48847||48849<=m&&m<=48875||48877<=m&&m<=48903||48905<=m&&m<=48931||48933<=m&&m<=48959||48961<=m&&m<=48987||48989<=m&&m<=49015||49017<=m&&m<=49043||49045<=m&&m<=49071||49073<=m&&m<=49099||49101<=m&&m<=49127||49129<=m&&m<=49155||49157<=m&&m<=49183||49185<=m&&m<=49211||49213<=m&&m<=49239||49241<=m&&m<=49267||49269<=m&&m<=49295||49297<=m&&m<=49323||49325<=m&&m<=49351||49353<=m&&m<=49379||49381<=m&&m<=49407||49409<=m&&m<=49435||49437<=m&&m<=49463||49465<=m&&m<=49491||49493<=m&&m<=49519||49521<=m&&m<=49547||49549<=m&&m<=49575||49577<=m&&m<=49603||49605<=m&&m<=49631||49633<=m&&m<=49659||49661<=m&&m<=49687||49689<=m&&m<=49715||49717<=m&&m<=49743||49745<=m&&m<=49771||49773<=m&&m<=49799||49801<=m&&m<=49827||49829<=m&&m<=49855||49857<=m&&m<=49883||49885<=m&&m<=49911||49913<=m&&m<=49939||49941<=m&&m<=49967||49969<=m&&m<=49995||49997<=m&&m<=50023||50025<=m&&m<=50051||50053<=m&&m<=50079||50081<=m&&m<=50107||50109<=m&&m<=50135||50137<=m&&m<=50163||50165<=m&&m<=50191||50193<=m&&m<=50219||50221<=m&&m<=50247||50249<=m&&m<=50275||50277<=m&&m<=50303||50305<=m&&m<=50331||50333<=m&&m<=50359||50361<=m&&m<=50387||50389<=m&&m<=50415||50417<=m&&m<=50443||50445<=m&&m<=50471||50473<=m&&m<=50499||50501<=m&&m<=50527||50529<=m&&m<=50555||50557<=m&&m<=50583||50585<=m&&m<=50611||50613<=m&&m<=50639||50641<=m&&m<=50667||50669<=m&&m<=50695||50697<=m&&m<=50723||50725<=m&&m<=50751||50753<=m&&m<=50779||50781<=m&&m<=50807||50809<=m&&m<=50835||50837<=m&&m<=50863||50865<=m&&m<=50891||50893<=m&&m<=50919||50921<=m&&m<=50947||50949<=m&&m<=50975||50977<=m&&m<=51003||51005<=m&&m<=51031||51033<=m&&m<=51059||51061<=m&&m<=51087||51089<=m&&m<=51115||51117<=m&&m<=51143||51145<=m&&m<=51171||51173<=m&&m<=51199||51201<=m&&m<=51227||51229<=m&&m<=51255||51257<=m&&m<=51283||51285<=m&&m<=51311||51313<=m&&m<=51339||51341<=m&&m<=51367||51369<=m&&m<=51395||51397<=m&&m<=51423||51425<=m&&m<=51451||51453<=m&&m<=51479||51481<=m&&m<=51507||51509<=m&&m<=51535||51537<=m&&m<=51563||51565<=m&&m<=51591||51593<=m&&m<=51619||51621<=m&&m<=51647||51649<=m&&m<=51675||51677<=m&&m<=51703||51705<=m&&m<=51731||51733<=m&&m<=51759||51761<=m&&m<=51787||51789<=m&&m<=51815||51817<=m&&m<=51843||51845<=m&&m<=51871||51873<=m&&m<=51899||51901<=m&&m<=51927||51929<=m&&m<=51955||51957<=m&&m<=51983||51985<=m&&m<=52011||52013<=m&&m<=52039||52041<=m&&m<=52067||52069<=m&&m<=52095||52097<=m&&m<=52123||52125<=m&&m<=52151||52153<=m&&m<=52179||52181<=m&&m<=52207||52209<=m&&m<=52235||52237<=m&&m<=52263||52265<=m&&m<=52291||52293<=m&&m<=52319||52321<=m&&m<=52347||52349<=m&&m<=52375||52377<=m&&m<=52403||52405<=m&&m<=52431||52433<=m&&m<=52459||52461<=m&&m<=52487||52489<=m&&m<=52515||52517<=m&&m<=52543||52545<=m&&m<=52571||52573<=m&&m<=52599||52601<=m&&m<=52627||52629<=m&&m<=52655||52657<=m&&m<=52683||52685<=m&&m<=52711||52713<=m&&m<=52739||52741<=m&&m<=52767||52769<=m&&m<=52795||52797<=m&&m<=52823||52825<=m&&m<=52851||52853<=m&&m<=52879||52881<=m&&m<=52907||52909<=m&&m<=52935||52937<=m&&m<=52963||52965<=m&&m<=52991||52993<=m&&m<=53019||53021<=m&&m<=53047||53049<=m&&m<=53075||53077<=m&&m<=53103||53105<=m&&m<=53131||53133<=m&&m<=53159||53161<=m&&m<=53187||53189<=m&&m<=53215||53217<=m&&m<=53243||53245<=m&&m<=53271||53273<=m&&m<=53299||53301<=m&&m<=53327||53329<=m&&m<=53355||53357<=m&&m<=53383||53385<=m&&m<=53411||53413<=m&&m<=53439||53441<=m&&m<=53467||53469<=m&&m<=53495||53497<=m&&m<=53523||53525<=m&&m<=53551||53553<=m&&m<=53579||53581<=m&&m<=53607||53609<=m&&m<=53635||53637<=m&&m<=53663||53665<=m&&m<=53691||53693<=m&&m<=53719||53721<=m&&m<=53747||53749<=m&&m<=53775||53777<=m&&m<=53803||53805<=m&&m<=53831||53833<=m&&m<=53859||53861<=m&&m<=53887||53889<=m&&m<=53915||53917<=m&&m<=53943||53945<=m&&m<=53971||53973<=m&&m<=53999||54001<=m&&m<=54027||54029<=m&&m<=54055||54057<=m&&m<=54083||54085<=m&&m<=54111||54113<=m&&m<=54139||54141<=m&&m<=54167||54169<=m&&m<=54195||54197<=m&&m<=54223||54225<=m&&m<=54251||54253<=m&&m<=54279||54281<=m&&m<=54307||54309<=m&&m<=54335||54337<=m&&m<=54363||54365<=m&&m<=54391||54393<=m&&m<=54419||54421<=m&&m<=54447||54449<=m&&m<=54475||54477<=m&&m<=54503||54505<=m&&m<=54531||54533<=m&&m<=54559||54561<=m&&m<=54587||54589<=m&&m<=54615||54617<=m&&m<=54643||54645<=m&&m<=54671||54673<=m&&m<=54699||54701<=m&&m<=54727||54729<=m&&m<=54755||54757<=m&&m<=54783||54785<=m&&m<=54811||54813<=m&&m<=54839||54841<=m&&m<=54867||54869<=m&&m<=54895||54897<=m&&m<=54923||54925<=m&&m<=54951||54953<=m&&m<=54979||54981<=m&&m<=55007||55009<=m&&m<=55035||55037<=m&&m<=55063||55065<=m&&m<=55091||55093<=m&&m<=55119||55121<=m&&m<=55147||55149<=m&&m<=55175||55177<=m&&m<=55203?Jn:m==9757||m==9977||9994<=m&&m<=9997||m==127877||127938<=m&&m<=127940||m==127943||127946<=m&&m<=127948||128066<=m&&m<=128067||128070<=m&&m<=128080||m==128110||128112<=m&&m<=128120||m==128124||128129<=m&&m<=128131||128133<=m&&m<=128135||m==128170||128372<=m&&m<=128373||m==128378||m==128400||128405<=m&&m<=128406||128581<=m&&m<=128583||128587<=m&&m<=128591||m==128675||128692<=m&&m<=128694||m==128704||m==128716||129304<=m&&m<=129308||129310<=m&&m<=129311||m==129318||129328<=m&&m<=129337||129341<=m&&m<=129342||129489<=m&&m<=129501?Nr:127995<=m&&m<=127999?_r:m==8205?fi:m==9792||m==9794||9877<=m&&m<=9878||m==9992||m==10084||m==127752||m==127806||m==127859||m==127891||m==127908||m==127912||m==127979||m==127981||m==128139||128187<=m&&m<=128188||m==128295||m==128300||m==128488||m==128640||m==128658?we:128102<=m&&m<=128105?H:mr}return this}he.exports&&(he.exports=be)}),o=new i,s=function(be,Pe,Ze){for(var nt=o.iterateGraphemes(be.substring(Pe)),xt="",Ft=0;Ft<Ze-Pe;Ft++){var Dt=nt.next();if(xt+=Dt.value,Dt.done)break}return xt},a=function(he,be,Pe,Ze,nt,xt,Ft){return{start:{line:he,column:be,offset:Pe},end:{line:Ze,column:nt,offset:xt},source:Ft||null}},h=r(function(he,be){(function(Pe,Ze){he.exports=Ze()})(t,function(){var Pe="",Ze,nt=xt;function xt(Jn,mr){if(typeof Jn!="string")throw new TypeError("expected a string");if(mr===1)return Jn;if(mr===2)return Jn+Jn;var xr=Jn.length*mr;if(Ze!==Jn||typeof Ze>"u")Ze=Jn,Pe="";else if(Pe.length>=xr)return Pe.substr(0,xr);for(;xr>Pe.length&&mr>1;)mr&1&&(Pe+=Jn),mr>>=1,Jn+=Jn;return Pe+=Jn,Pe=Pe.substr(0,xr),Pe}var Ft=function(mr,xr,Nr){if(mr==null||xr==null)return mr;var _r=String(mr),fi=typeof xr=="number"?xr:parseInt(xr,10);if(isNaN(fi)||!isFinite(fi))return _r;var we=_r.length;if(we>=fi)return _r;var H=Nr==null?"":String(Nr);H===""&&(H=" ");for(var Y=fi-we;H.length<Y;)H+=H;var Be=H.length>Y?H.substr(0,Y):H;return Be+_r},Dt=Object.assign||function(Jn){for(var mr=1;mr<arguments.length;mr++){var xr=arguments[mr];for(var Nr in xr)Object.prototype.hasOwnProperty.call(xr,Nr)&&(Jn[Nr]=xr[Nr])}return Jn};function pt(Jn,mr,xr,Nr){var _r=String(mr),fi=Ft(_r,xr," "),we=nt(" ",Nr.tabSize);return fi+" | "+Jn.replace(/\t/g,we)}function nr(Jn,mr,xr,Nr,_r){return Jn.slice(mr,xr).map(function(fi,we){return pt(fi,mr+we+1,Nr,_r)}).join(`
`)}var pn={extraLines:2,tabSize:4},bn=function(mr,xr,Nr,_r){_r=Dt({},pn,_r);var fi=mr.split(/\r\n?|\n|\f/),we=Math.max(1,xr-_r.extraLines)-1,H=Math.min(xr+_r.extraLines,fi.length),Y=String(H).length,Be=nr(fi,we,xr,Y,_r),st=pt(fi[xr-1].substring(0,Nr-1),xr,Y,_r),St=nt(" ",st.length)+"^",Et=nr(fi,xr,H,Y,_r);return[Be,St,Et].filter(Boolean).join(`
`)};return bn})}),g=new Error().stack,C=function(he){var be=Object.create(SyntaxError.prototype);return Object.assign(be,he,{name:"SyntaxError"}),Object.defineProperty(be,"stack",{get:function(){return g?g.replace(/^(.+\n){1,3}/,String(be)+`
`):""}}),be},B=function(he,be,Pe,Ze,nt){throw C({message:Ze?he+`
`+h(be,Ze,nt):he,rawMessage:he,source:Pe,line:Ze,column:nt})},k={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(be){for(var Pe=arguments.length,Ze=Array(Pe>1?Pe-1:0),nt=1;nt<Pe;nt++)Ze[nt-1]=arguments[nt];return"Unexpected token <"+be+"> at "+Ze.filter(Boolean).join(":")}},P={unexpectedSymbol:function(be){for(var Pe=arguments.length,Ze=Array(Pe>1?Pe-1:0),nt=1;nt<Pe;nt++)Ze[nt-1]=arguments[nt];return"Unexpected symbol <"+be+"> at "+Ze.filter(Boolean).join(":")}},U={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},Z={"{":U.LEFT_BRACE,"}":U.RIGHT_BRACE,"[":U.LEFT_BRACKET,"]":U.RIGHT_BRACKET,":":U.COLON,",":U.COMMA},W={true:U.TRUE,false:U.FALSE,null:U.NULL},Q={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},q={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},oe={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function re(he){return he>="1"&&he<="9"}function Ae(he){return he>="0"&&he<="9"}function ae(he){return Ae(he)||he>="a"&&he<="f"||he>="A"&&he<="F"}function se(he){return he==="e"||he==="E"}function ye(he,be,Pe,Ze){var nt=he.charAt(be);if(nt==="\r")be++,Pe++,Ze=1,he.charAt(be)===`
`&&be++;else if(nt===`
`)be++,Pe++,Ze=1;else if(nt==="	"||nt===" ")be++,Ze++;else return null;return{index:be,line:Pe,column:Ze}}function De(he,be,Pe,Ze){var nt=he.charAt(be);return nt in Z?{type:Z[nt],line:Pe,column:Ze+1,index:be+1,value:null}:null}function Ne(he,be,Pe,Ze){for(var nt in W)if(W.hasOwnProperty(nt)&&he.substr(be,nt.length)===nt)return{type:W[nt],line:Pe,column:Ze+nt.length,index:be+nt.length,value:nt};return null}function et(he,be,Pe,Ze){for(var nt=be,xt=Q._START_;be<he.length;){var Ft=he.charAt(be);switch(xt){case Q._START_:{if(Ft==='"')be++,xt=Q.START_QUOTE_OR_CHAR;else return null;break}case Q.START_QUOTE_OR_CHAR:{if(Ft==="\\")be++,xt=Q.ESCAPE;else{if(Ft==='"')return be++,{type:U.STRING,line:Pe,column:Ze+be-nt,index:be,value:he.slice(nt,be)};be++}break}case Q.ESCAPE:{if(Ft in q){if(be++,Ft==="u")for(var Dt=0;Dt<4;Dt++){var pt=he.charAt(be);if(pt&&ae(pt))be++;else return null}xt=Q.START_QUOTE_OR_CHAR}else return null;break}}}}function ft(he,be,Pe,Ze){var nt=be,xt=be,Ft=oe._START_;e:for(;be<he.length;){var Dt=he.charAt(be);switch(Ft){case oe._START_:{if(Dt==="-")Ft=oe.MINUS;else if(Dt==="0")xt=be+1,Ft=oe.ZERO;else if(re(Dt))xt=be+1,Ft=oe.DIGIT;else return null;break}case oe.MINUS:{if(Dt==="0")xt=be+1,Ft=oe.ZERO;else if(re(Dt))xt=be+1,Ft=oe.DIGIT;else return null;break}case oe.ZERO:{if(Dt===".")Ft=oe.POINT;else if(se(Dt))Ft=oe.EXP;else break e;break}case oe.DIGIT:{if(Ae(Dt))xt=be+1;else if(Dt===".")Ft=oe.POINT;else if(se(Dt))Ft=oe.EXP;else break e;break}case oe.POINT:{if(Ae(Dt))xt=be+1,Ft=oe.DIGIT_FRACTION;else break e;break}case oe.DIGIT_FRACTION:{if(Ae(Dt))xt=be+1;else if(se(Dt))Ft=oe.EXP;else break e;break}case oe.EXP:{if(Dt==="+"||Dt==="-")Ft=oe.EXP_DIGIT_OR_SIGN;else if(Ae(Dt))xt=be+1,Ft=oe.EXP_DIGIT_OR_SIGN;else break e;break}case oe.EXP_DIGIT_OR_SIGN:{if(Ae(Dt))xt=be+1;else break e;break}}be++}return xt>0?{type:U.NUMBER,line:Pe,column:Ze+xt-nt,index:xt,value:he.slice(nt,xt)}:null}var Ke=function(be,Pe){for(var Ze=1,nt=1,xt=0,Ft=[];xt<be.length;){var Dt=[be,xt,Ze,nt],pt=ye.apply(void 0,Dt);if(pt){xt=pt.index,Ze=pt.line,nt=pt.column;continue}var nr=De.apply(void 0,Dt)||Ne.apply(void 0,Dt)||et.apply(void 0,Dt)||ft.apply(void 0,Dt);if(nr){var pn={type:nr.type,value:nr.value,loc:a(Ze,nt,xt,nr.line,nr.column,nr.index,Pe.source)};Ft.push(pn),xt=nr.index,Ze=nr.line,nt=nr.column}else B(P.unexpectedSymbol(s(be,xt,xt+1),Pe.source,Ze,nt),be,Pe.source,Ze,nt)}return Ft},rt={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},_e={_START_:0,KEY:1,COLON:2},Ut={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},jt={loc:!0,source:null};function nn(he,be,Pe){var Ze=be.length>0?be[be.length-1].loc.end:{line:1,column:1};B(k.unexpectedEnd(),he,Pe.source,Ze.line,Ze.column)}function Qt(he){for(var be=0,Pe=0;Pe<4;Pe++)be=be*16+parseInt(he[Pe],16);return String.fromCharCode(be)}var He={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Je=['"',"\\","/"];function tt(he){for(var be="",Pe=0;Pe<he.length;Pe++){var Ze=he.charAt(Pe);if(Ze==="\\"){Pe++;var nt=he.charAt(Pe);if(nt==="u")be+=Qt(he.substr(Pe+1,4)),Pe+=4;else if(Je.indexOf(nt)!==-1)be+=nt;else if(nt in He)be+=He[nt];else break}else be+=Ze}return be}function on(he,be,Pe,Ze){for(var nt=void 0,xt={type:"Object",children:[]},Ft=rt._START_;Pe<be.length;){var Dt=be[Pe];switch(Ft){case rt._START_:{if(Dt.type===U.LEFT_BRACE)nt=Dt,Ft=rt.OPEN_OBJECT,Pe++;else return null;break}case rt.OPEN_OBJECT:{if(Dt.type===U.RIGHT_BRACE)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};var pt=mt(he,be,Pe,Ze);xt.children.push(pt.value),Ft=rt.PROPERTY,Pe=pt.index;break}case rt.PROPERTY:{if(Dt.type===U.RIGHT_BRACE)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};Dt.type===U.COMMA?(Ft=rt.COMMA,Pe++):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}case rt.COMMA:{var nr=mt(he,be,Pe,Ze);nr?(Pe=nr.index,xt.children.push(nr.value),Ft=rt.PROPERTY):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}}}nn(he,be,Ze)}function mt(he,be,Pe,Ze){for(var nt=void 0,xt={type:"Property",key:null,value:null},Ft=_e._START_;Pe<be.length;){var Dt=be[Pe];switch(Ft){case _e._START_:{if(Dt.type===U.STRING){var pt={type:"Identifier",value:tt(he.slice(Dt.loc.start.offset+1,Dt.loc.end.offset-1)),raw:Dt.value};Ze.loc&&(pt.loc=Dt.loc),nt=Dt,xt.key=pt,Ft=_e.KEY,Pe++}else return null;break}case _e.KEY:{Dt.type===U.COLON?(Ft=_e.COLON,Pe++):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}case _e.COLON:{var nr=Pt(he,be,Pe,Ze);return xt.value=nr.value,Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,nr.value.loc.end.line,nr.value.loc.end.column,nr.value.loc.end.offset,Ze.source)),{value:xt,index:nr.index}}}}}function dt(he,be,Pe,Ze){for(var nt=void 0,xt={type:"Array",children:[]},Ft=Ut._START_,Dt=void 0;Pe<be.length;)switch(Dt=be[Pe],Ft){case Ut._START_:{if(Dt.type===U.LEFT_BRACKET)nt=Dt,Ft=Ut.OPEN_ARRAY,Pe++;else return null;break}case Ut.OPEN_ARRAY:{if(Dt.type===U.RIGHT_BRACKET)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};var pt=Pt(he,be,Pe,Ze);Pe=pt.index,xt.children.push(pt.value),Ft=Ut.VALUE;break}case Ut.VALUE:{if(Dt.type===U.RIGHT_BRACKET)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};Dt.type===U.COMMA?(Ft=Ut.COMMA,Pe++):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}case Ut.COMMA:{var nr=Pt(he,be,Pe,Ze);Pe=nr.index,xt.children.push(nr.value),Ft=Ut.VALUE;break}}nn(he,be,Ze)}function kt(he,be,Pe,Ze){var nt=be[Pe],xt=null;switch(nt.type){case U.STRING:{xt=tt(he.slice(nt.loc.start.offset+1,nt.loc.end.offset-1));break}case U.NUMBER:{xt=Number(nt.value);break}case U.TRUE:{xt=!0;break}case U.FALSE:{xt=!1;break}case U.NULL:{xt=null;break}default:return null}var Ft={type:"Literal",value:xt,raw:nt.value};return Ze.loc&&(Ft.loc=nt.loc),{value:Ft,index:Pe+1}}function Pt(he,be,Pe,Ze){var nt=be[Pe],xt=kt.apply(void 0,arguments)||on.apply(void 0,arguments)||dt.apply(void 0,arguments);if(xt)return xt;B(k.unexpectedToken(s(he,nt.loc.start.offset,nt.loc.end.offset),Ze.source,nt.loc.start.line,nt.loc.start.column),he,Ze.source,nt.loc.start.line,nt.loc.start.column)}var Me=function(he,be){be=Object.assign({},jt,be);var Pe=Ke(he,be);Pe.length===0&&nn(he,Pe,be);var Ze=Pt(he,Pe,0,be);if(Ze.index===Pe.length)return Ze.value;var nt=Pe[Ze.index];B(k.unexpectedToken(s(he,nt.loc.start.offset,nt.loc.end.offset),be.source,nt.loc.start.line,nt.loc.start.column),he,be.source,nt.loc.start.line,nt.loc.start.column)};return Me})})(XW);var xme=XW.exports;const wme=oa(xme);function Sn(){var e="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",n="a994e12e3e6547813b669a430e6cb42da5d99bba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a994e12e3e6547813b669a430e6cb42da5d99bba"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Sn=function(){return s},s}Sn();Sn().s[0]++;Ic.defineMode("mgl",(e,n)=>(Sn().f[0]++,Sn().s[1]++,Ic.modes.javascript({...e,json:!0},n)));Sn().s[2]++;Ic.registerHelper("lint","json",e=>{Sn().f[1]++;const n=(Sn().s[3]++,[]);Sn().s[4]++,ZE.parser.parseError=(t,r)=>{Sn().f[2]++;const i=(Sn().s[5]++,r.loc);Sn().s[6]++,n.push({from:Ic.Pos(i.first_line-1,i.first_column),to:Ic.Pos(i.last_line-1,i.last_column),message:t})},Sn().s[7]++;try{Sn().s[8]++,ZE.parse(e)}catch{}return Sn().s[9]++,n});Sn().s[10]++;Ic.registerHelper("lint","mgl",(e,n,t)=>{Sn().f[3]++;const r=(Sn().s[11]++,[]),{parser:i}=(Sn().s[12]++,ZE),{context:o}=(Sn().s[13]++,n);Sn().s[14]++,i.parseError=(C,B)=>{Sn().f[4]++;const k=(Sn().s[15]++,B.loc);Sn().s[16]++,r.push({from:Ic.Pos(k.first_line-1,k.first_column),to:Ic.Pos(k.last_line-1,k.last_column),message:C})},Sn().s[17]++;try{Sn().s[18]++,i.parse(e)}catch{}if(Sn().s[19]++,r.length>0)return Sn().b[0][0]++,Sn().s[20]++,r;Sn().b[0][1]++;const s=(Sn().s[21]++,wme(e)),a=(Sn().s[22]++,JSON.parse(e));function h(C,B){if(Sn().f[5]++,Sn().s[23]++,C){if(Sn().b[1][1]++,Sn().s[25]++,B.length<1)return Sn().b[2][0]++,Sn().s[26]++,C;if(Sn().b[2][1]++,Sn().s[27]++,C.children){Sn().b[3][1]++;const k=(Sn().s[29]++,B[0]);let P;return Sn().s[30]++,k.match(/^[0-9]+$/)?(Sn().b[4][0]++,Sn().s[31]++,P=C.children[B[0]]):(Sn().b[4][1]++,Sn().s[32]++,P=C.children.find(U=>(Sn().f[6]++,Sn().s[33]++,Sn().b[5][0]++,U.key&&(Sn().b[5][1]++,U.key.type==="Identifier")&&(Sn().b[5][2]++,U.key.value===k))),Sn().s[34]++,P?(Sn().b[6][0]++,Sn().s[35]++,P=P.value):Sn().b[6][1]++),Sn().s[36]++,h(P,B.slice(1))}else{Sn().b[3][0]++,Sn().s[28]++;return}}else{Sn().b[1][0]++,Sn().s[24]++;return}}let g=(Sn().s[37]++,null);if(Sn().s[38]++,o==="layer"){Sn().b[7][0]++;const C=(Sn().s[39]++,Sd({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[a]}));Sn().s[40]++,C?(Sn().b[8][0]++,Sn().s[41]++,g={result:"error",value:C.filter(B=>(Sn().f[7]++,Sn().s[42]++,!B.message.match(/^layers\[0\]: source ".*" not found$/))).map(B=>{Sn().f[8]++;const k=(Sn().s[43]++,B.message.replace(/^layers\[0\]./,"").split(":"));return Sn().s[44]++,{name:"",key:k[0],message:k[1]}})}):Sn().b[8][1]++}else if(Sn().b[7][1]++,Sn().s[45]++,o==="expression")Sn().b[9][0]++,Sn().s[46]++,g=rJ.createExpression(a,n.spec);else throw Sn().b[9][1]++,Sn().s[47]++,new Error(`Invalid context ${o}`);if(Sn().s[48]++,(g==null?void 0:g.result)==="error"){Sn().b[10][0]++;const C=(Sn().s[49]++,g.value);Sn().s[50]++,C.forEach(B=>{Sn().f[9]++;const{key:k,message:P}=(Sn().s[51]++,B);if(Sn().s[52]++,k)if(Sn().b[11][1]++,Sn().s[56]++,k){Sn().b[12][0]++;const U=(Sn().s[57]++,k.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),Z=(Sn().s[58]++,h(s,U));if(Sn().s[59]++,Z)Sn().b[13][1]++;else{Sn().b[13][0]++,Sn().s[60]++,console.warn("Something went wrong parsing error:",B),Sn().s[61]++;return}const{loc:W}=(Sn().s[62]++,Z),{start:Q,end:q}=(Sn().s[63]++,W);Sn().s[64]++,r.push({from:Ic.Pos(Q.line-1,Q.column),to:Ic.Pos(q.line-1,q.column),message:P})}else Sn().b[12][1]++;else{Sn().b[11][0]++;const U=(Sn().s[53]++,t.getLineHandle(t.lastLine())),Z=(Sn().s[54]++,{from:Ic.Pos(t.firstLine(),0),to:Ic.Pos(t.lastLine(),U.text.length),message:P});Sn().s[55]++,r.push(Z)}})}else Sn().b[10][1]++;return Sn().s[65]++,r});function Pn(){var e="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",n="73341c4954366276bd838a194b53fa026df00a42",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:28,column:3}},1:{start:{line:18,column:6},end:{line:18,column:65}},2:{start:{line:31,column:8},end:{line:31,column:12}},3:{start:{line:32,column:22},end:{line:32,column:27}},4:{start:{line:34,column:4},end:{line:34,column:17}},5:{start:{line:35,column:4},end:{line:35,column:32}},6:{start:{line:36,column:4},end:{line:40,column:6}},7:{start:{line:43,column:4},end:{line:59,column:7}},8:{start:{line:60,column:4},end:{line:60,column:42}},9:{start:{line:61,column:4},end:{line:61,column:40}},10:{start:{line:62,column:4},end:{line:62,column:38}},11:{start:{line:64,column:18},end:{line:66,column:3}},12:{start:{line:65,column:4},end:{line:65,column:31}},13:{start:{line:67,column:12},end:{line:74,column:3}},14:{start:{line:68,column:4},end:{line:69,column:27}},15:{start:{line:69,column:6},end:{line:69,column:27}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:83,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:78,column:26}},20:{start:{line:78,column:6},end:{line:78,column:26}},21:{start:{line:79,column:4},end:{line:82,column:7}},22:{start:{line:85,column:4},end:{line:85,column:43}},23:{start:{line:86,column:4},end:{line:86,column:41}},24:{start:{line:87,column:4},end:{line:87,column:39}},25:{start:{line:90,column:4},end:{line:95,column:5}},26:{start:{line:91,column:6},end:{line:91,column:36}},27:{start:{line:92,column:6},end:{line:94,column:8}},28:{start:{line:97,column:13},end:{line:126,column:3}},29:{start:{line:98,column:4},end:{line:104,column:5}},30:{start:{line:99,column:6},end:{line:99,column:37}},31:{start:{line:100,column:6},end:{line:102,column:9}},32:{start:{line:103,column:6},end:{line:103,column:13}},33:{start:{line:105,column:20},end:{line:105,column:40}},34:{start:{line:106,column:4},end:{line:122,column:5}},35:{start:{line:108,column:6},end:{line:113,column:7}},36:{start:{line:109,column:8},end:{line:109,column:42}},37:{start:{line:111,column:8},end:{line:111,column:19}},38:{start:{line:112,column:8},end:{line:112,column:27}},39:{start:{line:114,column:6},end:{line:121,column:7}},40:{start:{line:115,column:8},end:{line:115,column:35}},41:{start:{line:117,column:8},end:{line:118,column:43}},42:{start:{line:118,column:10},end:{line:118,column:43}},43:{start:{line:119,column:8},end:{line:120,column:35}},44:{start:{line:120,column:10},end:{line:120,column:35}},45:{start:{line:123,column:4},end:{line:125,column:7}},46:{start:{line:128,column:28},end:{line:128,column:38}},47:{start:{line:129,column:18},end:{line:129,column:20}},48:{start:{line:130,column:4},end:{line:132,column:5}},49:{start:{line:131,column:6},end:{line:131,column:45}},50:{start:{line:133,column:4},end:{line:147,column:9}},51:{start:{line:143,column:23},end:{line:143,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:24},end:{line:19,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:13},end:{line:20,column:14}},loc:{start:{line:20,column:19},end:{line:21,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:12},end:{line:22,column:13}},loc:{start:{line:22,column:18},end:{line:23,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:26,column:17},end:{line:26,column:18}},loc:{start:{line:26,column:23},end:{line:27,column:5}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:21},end:{line:41,column:3}},line:33},6:{name:"(anonymous_6)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:22},end:{line:63,column:3}},line:42},7:{name:"(anonymous_7)",decl:{start:{line:64,column:18},end:{line:64,column:19}},loc:{start:{line:64,column:24},end:{line:66,column:3}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:67,column:12},end:{line:67,column:13}},loc:{start:{line:67,column:18},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:83,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:25},end:{line:88,column:3}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:32},end:{line:96,column:3}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:97,column:13},end:{line:97,column:14}},loc:{start:{line:97,column:21},end:{line:126,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:127,column:2},end:{line:127,column:3}},loc:{start:{line:127,column:11},end:{line:148,column:3}},line:127},14:{name:"(anonymous_14)",decl:{start:{line:143,column:15},end:{line:143,column:16}},loc:{start:{line:143,column:23},end:{line:143,column:36}},line:143}},branchMap:{0:{loc:{start:{line:45,column:12},end:{line:47,column:7}},type:"binary-expr",locations:[{start:{line:45,column:12},end:{line:45,column:27}},{start:{line:45,column:31},end:{line:47,column:7}}],line:45},1:{loc:{start:{line:53,column:12},end:{line:55,column:7}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:27}},{start:{line:53,column:31},end:{line:55,column:7}}],line:53},2:{loc:{start:{line:68,column:4},end:{line:69,column:27}},type:"if",locations:[{start:{line:68,column:4},end:{line:69,column:27}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},3:{loc:{start:{line:77,column:4},end:{line:78,column:26}},type:"if",locations:[{start:{line:77,column:4},end:{line:78,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:90,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},5:{loc:{start:{line:90,column:8},end:{line:90,column:69}},type:"binary-expr",locations:[{start:{line:90,column:8},end:{line:90,column:29}},{start:{line:90,column:33},end:{line:90,column:69}}],line:90},6:{loc:{start:{line:98,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:104,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98},7:{loc:{start:{line:106,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:122,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:106},8:{loc:{start:{line:114,column:6},end:{line:121,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:121,column:7}},{start:{line:116,column:13},end:{line:121,column:7}}],line:114},9:{loc:{start:{line:114,column:10},end:{line:114,column:41}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:13}},{start:{line:114,column:17},end:{line:114,column:41}}],line:114},10:{loc:{start:{line:117,column:8},end:{line:118,column:43}},type:"if",locations:[{start:{line:117,column:8},end:{line:118,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},11:{loc:{start:{line:119,column:8},end:{line:120,column:35}},type:"if",locations:[{start:{line:119,column:8},end:{line:120,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119},12:{loc:{start:{line:130,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:130,column:4},end:{line:132,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAqKM,SACQ,KADR;AArKN,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AAErC,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA0BP,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM;AAAQ,WAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM;AAAU,eAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM;AAAa,eAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,2BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GAAG;AAAA;AAAA,QACrF,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"73341c4954366276bd838a194b53fa026df00a42"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Pn=function(){return s},s}Pn();class JW extends xn.Component{constructor(t){Pn().f[5]++,Pn().s[4]++;super(t);rn(this,"_keyEvent");rn(this,"_doc");rn(this,"_el",(Pn().s[2]++,null));rn(this,"_cancelNextChange",(Pn().s[3]++,!1));rn(this,"onPointerDown",(Pn().s[11]++,()=>{Pn().f[7]++,Pn().s[12]++,this._keyEvent="pointer"}));rn(this,"onFocus",(Pn().s[13]++,()=>{Pn().f[8]++,Pn().s[14]++,this.props.onFocus?(Pn().b[2][0]++,Pn().s[15]++,this.props.onFocus()):Pn().b[2][1]++,Pn().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));rn(this,"onBlur",(Pn().s[17]++,()=>{Pn().f[9]++,Pn().s[18]++,this._keyEvent="keyboard",Pn().s[19]++,this.props.onBlur?(Pn().b[3][0]++,Pn().s[20]++,this.props.onBlur()):Pn().b[3][1]++,Pn().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));rn(this,"onChange",(Pn().s[28]++,t=>{if(Pn().f[12]++,Pn().s[29]++,this._cancelNextChange){Pn().b[6][0]++,Pn().s[30]++,this._cancelNextChange=!1,Pn().s[31]++,this.setState({prevValue:this._doc.getValue()}),Pn().s[32]++;return}else Pn().b[6][1]++;const r=(Pn().s[33]++,this._doc.getValue());if(Pn().s[34]++,this.state.prevValue!==r){Pn().b[7][0]++;let i,o;Pn().s[35]++;try{Pn().s[36]++,i=JSON.parse(r)}catch(s){Pn().s[37]++,o=s,Pn().s[38]++,console.warn(s)}Pn().s[39]++,Pn().b[9][0]++,o&&(Pn().b[9][1]++,this.props.onJSONInvalid)?(Pn().b[8][0]++,Pn().s[40]++,this.props.onJSONInvalid()):(Pn().b[8][1]++,Pn().s[41]++,this.props.onChange?(Pn().b[10][0]++,Pn().s[42]++,this.props.onChange(i)):Pn().b[10][1]++,Pn().s[43]++,this.props.onJSONValid?(Pn().b[11][0]++,Pn().s[44]++,this.props.onJSONValid()):Pn().b[11][1]++)}else Pn().b[7][1]++;Pn().s[45]++,this.setState({prevValue:r})}));Pn().s[5]++,this._keyEvent="keyboard",Pn().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){Pn().f[6]++,Pn().s[7]++,this._doc=Ic(this._el,{value:this.props.getValue(this.props.layer),mode:(Pn().b[0][0]++,this.props.mode||(Pn().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(Pn().b[1][0]++,this.props.lint||(Pn().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),Pn().s[8]++,this._doc.on("change",this.onChange),Pn().s[9]++,this._doc.on("focus",this.onFocus),Pn().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){Pn().f[10]++,Pn().s[22]++,this._doc.off("change",this.onChange),Pn().s[23]++,this._doc.off("focus",this.onFocus),Pn().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(t){Pn().f[11]++,Pn().s[25]++,Pn().b[5][0]++,!this.state.isEditing&&(Pn().b[5][1]++,t.layer!==this.props.layer)?(Pn().b[4][0]++,Pn().s[26]++,this._cancelNextChange=!0,Pn().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):Pn().b[4][1]++}render(){Pn().f[13]++;const{showMessage:t}=(Pn().s[46]++,this.state),r=(Pn().s[47]++,{});return Pn().s[48]++,this.props.maxHeight?(Pn().b[12][0]++,Pn().s[49]++,r.maxHeight=this.props.maxHeight):Pn().b[12][1]++,Pn().s[50]++,N.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[N.jsxs("div",{className:bf("JSONEditor__message",{"JSONEditor__message--on":t}),children:["Press ",N.jsx("kbd",{children:"ESC"})," to lose focus"]}),N.jsx("div",{className:bf("codemirror-container",this.props.className),ref:i=>(Pn().f[14]++,Pn().s[51]++,this._el=i),style:r})]})}}rn(JW,"defaultProps",(Pn().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:t=>(Pn().f[0]++,Pn().s[1]++,HW(t,{indent:2,maxLength:40})),onFocus:()=>{Pn().f[1]++},onBlur:()=>{Pn().f[2]++},onJSONInvalid:()=>{Pn().f[3]++},onJSONValid:()=>{Pn().f[4]++}}));function i4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",n="60f4cd40e505c4a9f8de1078b77716b10a4a4264",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f4cd40e505c4a9f8de1078b77716b10a4a4264"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return i4=function(){return s},s}i4();class C8 extends xn.Component{render(){return i4().f[0]++,i4().s[0]++,N.jsx(JW,{...this.props})}}var EC="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",Mme="M7,10L12,15L17,10H7Z",Sme="M7,15L12,10L17,15H7Z",b8="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function n1(){var e="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",n="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return n1=function(){return s},s}n1();const x8=(n1().s[0]++,["all","any","none"]);n1().s[1]++;const Eme=(n1().s[2]++,Object.keys(Hi.filter_operator.values).filter(e=>(n1().f[0]++,n1().s[3]++,x8.indexOf(e)<0)));function Rr(){var e="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",n="3d8bcd70e58647712bf929f9e6ef3e13fde3cd73",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:9,column:13}},1:{start:{line:9,column:4},end:{line:9,column:13}},2:{start:{line:10,column:2},end:{line:11,column:13}},3:{start:{line:11,column:4},end:{line:11,column:13}},4:{start:{line:12,column:2},end:{line:12,column:23}},5:{start:{line:15,column:19},end:{line:15,column:40}},6:{start:{line:16,column:2},end:{line:18,column:3}},7:{start:{line:17,column:4},end:{line:17,column:13}},8:{start:{line:19,column:2},end:{line:25,column:3}},9:{start:{line:20,column:4},end:{line:20,column:16}},10:{start:{line:21,column:9},end:{line:25,column:3}},11:{start:{line:22,column:4},end:{line:22,column:17}},12:{start:{line:24,column:4},end:{line:24,column:13}},13:{start:{line:28,column:2},end:{line:28,column:21}},14:{start:{line:29,column:2},end:{line:29,column:22}},15:{start:{line:30,column:2},end:{line:30,column:11}},16:{start:{line:33,column:24},end:{line:35,column:3}},17:{start:{line:37,column:20},end:{line:37,column:76}},18:{start:{line:38,column:4},end:{line:42,column:5}},19:{start:{line:39,column:6},end:{line:39,column:43}},20:{start:{line:40,column:11},end:{line:42,column:5}},21:{start:{line:41,column:6},end:{line:41,column:47}},22:{start:{line:43,column:4},end:{line:43,column:35}},23:{start:{line:46,column:14},end:{line:46,column:31}},24:{start:{line:47,column:21},end:{line:47,column:25}},25:{start:{line:48,column:25},end:{line:48,column:29}},26:{start:{line:49,column:23},end:{line:49,column:33}},27:{start:{line:50,column:4},end:{line:77,column:9}},28:{start:{line:56,column:72},end:{line:56,column:92}},29:{start:{line:57,column:41},end:{line:57,column:104}},30:{start:{line:65,column:37},end:{line:65,column:100}},31:{start:{line:74,column:27},end:{line:74,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:13,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:14,column:9},end:{line:14,column:21}},loc:{start:{line:14,column:25},end:{line:26,column:1}},line:14},2:{name:"parseFilter",decl:{start:{line:27,column:9},end:{line:27,column:20}},loc:{start:{line:27,column:24},end:{line:31,column:1}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:58},end:{line:44,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:78,column:3}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:56,column:58},end:{line:56,column:59}},loc:{start:{line:56,column:72},end:{line:56,column:92}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:57,column:20},end:{line:57,column:21}},loc:{start:{line:57,column:41},end:{line:57,column:104}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:65,column:20},end:{line:65,column:21}},loc:{start:{line:65,column:37},end:{line:65,column:100}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:74,column:20},end:{line:74,column:21}},loc:{start:{line:74,column:27},end:{line:74,column:89}},line:74}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:9,column:13}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:10,column:2},end:{line:11,column:13}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},2:{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},3:{loc:{start:{line:19,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:25,column:3}},{start:{line:21,column:9},end:{line:25,column:3}}],line:19},4:{loc:{start:{line:21,column:9},end:{line:25,column:3}},type:"if",locations:[{start:{line:21,column:9},end:{line:25,column:3}},{start:{line:23,column:9},end:{line:25,column:3}}],line:21},5:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38},6:{loc:{start:{line:38,column:8},end:{line:38,column:49}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:26}},{start:{line:38,column:30},end:{line:38,column:49}}],line:38},7:{loc:{start:{line:40,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:11},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},8:{loc:{start:{line:69,column:6},end:{line:76,column:10}},type:"binary-expr",locations:[{start:{line:69,column:6},end:{line:69,column:27}},{start:{line:69,column:47},end:{line:76,column:10}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM;AAAI,WAAO;AACrB,MAAI,MAAM,CAAW;AAAG,WAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3d8bcd70e58647712bf929f9e6ef3e13fde3cd73"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Rr=function(){return s},s}Rr();function Ome(e){return Rr().f[0]++,Rr().s[0]++,e===""?(Rr().b[0][0]++,Rr().s[1]++,e):(Rr().b[0][1]++,Rr().s[2]++,isNaN(e)?(Rr().b[1][0]++,Rr().s[3]++,e):(Rr().b[1][1]++,Rr().s[4]++,parseFloat(e)))}function Bme(e){Rr().f[1]++;const n=(Rr().s[5]++,typeof e=="string");if(Rr().s[6]++,n)Rr().b[2][1]++;else return Rr().b[2][0]++,Rr().s[7]++,e;return Rr().s[8]++,e.match(/^\s*true\s*$/)?(Rr().b[3][0]++,Rr().s[9]++,!0):(Rr().b[3][1]++,Rr().s[10]++,e.match(/^\s*false\s*$/)?(Rr().b[4][0]++,Rr().s[11]++,!1):(Rr().b[4][1]++,Rr().s[12]++,e))}function kme(e){return Rr().f[2]++,Rr().s[13]++,e=Ome(e),Rr().s[14]++,e=Bme(e),Rr().s[15]++,e}class eN extends xn.Component{onFilterPartChanged(n,t,r){Rr().f[3]++;let i=(Rr().s[17]++,[n,t,...r.map(kme)]);Rr().s[18]++,Rr().b[6][0]++,n==="has"||(Rr().b[6][1]++,n==="!has")?(Rr().b[5][0]++,Rr().s[19]++,i=[n,t]):(Rr().b[5][1]++,Rr().s[20]++,r.length===0?(Rr().b[7][0]++,Rr().s[21]++,i=[n,t,""]):Rr().b[7][1]++),Rr().s[22]++,this.props.onChange(i)}render(){Rr().f[4]++;const n=(Rr().s[23]++,this.props.filter),t=(Rr().s[24]++,n[0]),r=(Rr().s[25]++,n[1]),i=(Rr().s[26]++,n.slice(2));return Rr().s[27]++,N.jsxs("div",{className:"maputnik-filter-editor-single",children:[N.jsx("div",{className:"maputnik-filter-editor-property",children:N.jsx(Zy,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(Rr().f[5]++,Rr().s[28]++,[o,o])),onChange:o=>(Rr().f[6]++,Rr().s[29]++,this.onFilterPartChanged(t,o,i))})}),N.jsx("div",{className:"maputnik-filter-editor-operator",children:N.jsx(M1,{"aria-label":"function",value:t,onChange:o=>(Rr().f[7]++,Rr().s[30]++,this.onFilterPartChanged(o,r,i)),options:Eme})}),(Rr().b[8][0]++,i.length>0&&(Rr().b[8][1]++,N.jsx("div",{className:"maputnik-filter-editor-args",children:N.jsx(wd,{"aria-label":"value",value:i.join(","),onChange:o=>(Rr().f[8]++,Rr().s[31]++,this.onFilterPartChanged(t,r,o.split(",")))})})))]})}}rn(eN,"defaultProps",(Rr().s[16]++,{properties:{}}));function o4(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",n="de90f2b7c2375daa3c7ce706798711f2e425045c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:18,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:19,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAUW,SAOD,KAPC;AAVX,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAMvB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"de90f2b7c2375daa3c7ce706798711f2e425045c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return o4=function(){return s},s}o4();class Ime extends xn.Component{render(){return o4().f[0]++,o4().s[0]++,N.jsxs("div",{className:"maputnik-filter-editor-block",children:[N.jsx("div",{className:"maputnik-filter-editor-block-action",children:N.jsx(ka,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:"Delete filter block",children:N.jsx(Qy,{})})}),N.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}var Tme=1/0,Kme="[object Symbol]",w8="\\ud800-\\udfff",tN="\\u0300-\\u036f\\ufe20-\\ufe23",nN="\\u20d0-\\u20f0",rN="\\ufe0e\\ufe0f",Pme="["+w8+"]",XE="["+tN+nN+"]",JE="\\ud83c[\\udffb-\\udfff]",Fme="(?:"+XE+"|"+JE+")",iN="[^"+w8+"]",oN="(?:\\ud83c[\\udde6-\\uddff]){2}",aN="[\\ud800-\\udbff][\\udc00-\\udfff]",sN="\\u200d",lN=Fme+"?",uN="["+rN+"]?",Dme="(?:"+sN+"(?:"+[iN,oN,aN].join("|")+")"+uN+lN+")*",Lme=uN+lN+Dme,Ume="(?:"+[iN+XE+"?",XE,oN,aN,Pme].join("|")+")",Rme=RegExp(JE+"(?="+JE+")|"+Ume+Lme,"g"),zme=RegExp("["+sN+w8+tN+nN+rN+"]"),jme=typeof window=="object"&&window&&window.Object===Object&&window,Wme=typeof self=="object"&&self&&self.Object===Object&&self,Nme=jme||Wme||Function("return this")();function Gme(e){return e.split("")}function AN(e){return zme.test(e)}function Qme(e){return AN(e)?$me(e):Gme(e)}function $me(e){return e.match(Rme)||[]}var Yme=Object.prototype,qme=Yme.toString,hK=Nme.Symbol,fK=hK?hK.prototype:void 0,pK=fK?fK.toString:void 0;function Vme(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+n];return o}function Hme(e){if(typeof e=="string")return e;if(e0e(e))return pK?pK.call(e):"";var n=e+"";return n=="0"&&1/e==-Tme?"-0":n}function Zme(e,n,t){var r=e.length;return t=t===void 0?r:t,!n&&t>=r?e:Vme(e,n,t)}function Xme(e){return function(n){n=cN(n);var t=AN(n)?Qme(n):void 0,r=t?t[0]:n.charAt(0),i=t?Zme(t,1).join(""):n.slice(1);return r[e]()+i}}function Jme(e){return!!e&&typeof e=="object"}function e0e(e){return typeof e=="symbol"||Jme(e)&&qme.call(e)==Kme}function cN(e){return e==null?"":Hme(e)}function t0e(e){return n0e(cN(e).toLowerCase())}var n0e=Xme("toUpperCase"),r0e=t0e;const M8=oa(r0e);function Xh(){var e="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",n="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Xh=function(){return s},s}Xh();function j5(e){Xh().f[0]++;let n;const t=(Xh().s[0]++,e.split("-"));return Xh().s[1]++,t.length>1?(Xh().b[0][0]++,Xh().s[2]++,n=e.split("-").slice(1).join(" ")):(Xh().b[0][1]++,Xh().s[3]++,n=e),Xh().s[4]++,M8(n)}function Li(){var e="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",n="aa37ab38c9a5b53df0808e7895b75ac0976599a1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:10,column:24},end:{line:16,column:3}},1:{start:{line:18,column:4},end:{line:18,column:17}},2:{start:{line:19,column:4},end:{line:21,column:6}},3:{start:{line:23,column:18},end:{line:27,column:3}},4:{start:{line:24,column:4},end:{line:26,column:7}},5:{start:{line:28,column:16},end:{line:32,column:3}},6:{start:{line:29,column:4},end:{line:31,column:7}},7:{start:{line:34,column:61},end:{line:34,column:71}},8:{start:{line:35,column:26},end:{line:35,column:36}},9:{start:{line:36,column:25},end:{line:36,column:52}},10:{start:{line:37,column:42},end:{line:59,column:8}},11:{start:{line:60,column:21},end:{line:60,column:83}},12:{start:{line:61,column:23},end:{line:61,column:39}},13:{start:{line:62,column:26},end:{line:62,column:40}},14:{start:{line:63,column:24},end:{line:63,column:26}},15:{start:{line:65,column:6},end:{line:65,column:65}},16:{start:{line:67,column:4},end:{line:78,column:5}},17:{start:{line:68,column:6},end:{line:68,column:52}},18:{start:{line:70,column:6},end:{line:74,column:9}},19:{start:{line:71,column:8},end:{line:71,column:45}},20:{start:{line:73,column:8},end:{line:73,column:39}},21:{start:{line:75,column:6},end:{line:77,column:7}},22:{start:{line:76,column:8},end:{line:76,column:37}},23:{start:{line:79,column:4},end:{line:109,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:18},end:{line:15,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:21},end:{line:22,column:3}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:23,column:18},end:{line:23,column:19}},loc:{start:{line:23,column:28},end:{line:27,column:3}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:28,column:16},end:{line:28,column:17}},loc:{start:{line:28,column:22},end:{line:32,column:3}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:110,column:3}},line:33},6:{name:"getValue",decl:{start:{line:64,column:13},end:{line:64,column:21}},loc:{start:{line:64,column:28},end:{line:66,column:5}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:55},end:{line:72,column:7}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:72,column:17},end:{line:72,column:18}},loc:{start:{line:72,column:36},end:{line:74,column:7}},line:72}},branchMap:{0:{loc:{start:{line:36,column:25},end:{line:36,column:52}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:45}},{start:{line:36,column:48},end:{line:36,column:52}}],line:36},1:{loc:{start:{line:38,column:6},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:38,column:6},end:{line:38,column:23}},{start:{line:38,column:43},end:{line:48,column:7}}],line:38},2:{loc:{start:{line:60,column:21},end:{line:60,column:83}},type:"cond-expr",locations:[{start:{line:60,column:44},end:{line:60,column:53}},{start:{line:60,column:56},end:{line:60,column:83}}],line:60},3:{loc:{start:{line:67,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:78,column:5}},{start:{line:69,column:11},end:{line:78,column:5}}],line:67},4:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA4DM,mBASM,KATN;AA5DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAE5B,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,qBAAqB,2BAA2B,MAAM,UAA4D;AAAA,EAChH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAa,OAA+B;AAC1C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC5D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC9C,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aa37ab38c9a5b53df0808e7895b75ac0976599a1"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Li=function(){return s},s}Li();class S8 extends xn.Component{constructor(t){Li().f[2]++,Li().s[1]++;super(t);rn(this,"onJSONInvalid",(Li().s[3]++,t=>{Li().f[3]++,Li().s[4]++,this.setState({jsonError:!0})}));rn(this,"onJSONValid",(Li().s[5]++,()=>{Li().f[4]++,Li().s[6]++,this.setState({jsonError:!1})}));Li().s[2]++,this.state={jsonError:!1}}render(){Li().f[5]++;const{errors:t,fieldName:r,fieldType:i,value:o,canUndo:s}=(Li().s[7]++,this.props),{jsonError:a}=(Li().s[8]++,this.state),h=(Li().s[9]++,s?(Li().b[0][0]++,!s()):(Li().b[0][1]++,!0)),g=(Li().s[10]++,N.jsxs(N.Fragment,{children:[(Li().b[1][0]++,this.props.onUndo&&(Li().b[1][1]++,N.jsx(ka,{onClick:this.props.onUndo,disabled:h,className:"maputnik-delete-stop",title:"Revert from expression",children:N.jsx(VJ,{})},"undo_action"))),N.jsx(ka,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:"Delete expression",children:N.jsx(Qy,{})},"delete_action")]})),C=(Li().s[11]++,i===void 0?(Li().b[2][0]++,r):(Li().b[2][1]++,`${i}.${r}`)),B=(Li().s[12]++,t[C]),k=(Li().s[13]++,`${C}[`),P=(Li().s[14]++,[]);function U(Z){return Li().f[6]++,Li().s[15]++,HW(Z,{indent:2,maxLength:38})}return Li().s[16]++,a?(Li().b[3][0]++,Li().s[17]++,P.push({message:"Invalid JSON"})):(Li().b[3][1]++,Li().s[18]++,Object.entries(t).filter(([Z,W])=>(Li().f[7]++,Li().s[19]++,Z.startsWith(k))).forEach(([Z,W])=>(Li().f[8]++,Li().s[20]++,P.push(W))),Li().s[21]++,B?(Li().b[4][0]++,Li().s[22]++,P.push(B)):Li().b[4][1]++),Li().s[23]++,N.jsx(Vo,{error:P,fieldSpec:this.props.fieldSpec,label:j5(this.props.fieldName),action:g,wideMode:!0,children:N.jsx(C8,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:o,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:U,onChange:this.props.onChange})})}}rn(S8,"defaultProps",(Li().s[0]++,{errors:{},onFocus:()=>{Li().f[0]++},onBlur:()=>{Li().f[1]++}}));function hn(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",n="539ebaafc62ae27a5559677295475532f297ca46",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:16,column:17},end:{line:16,column:40}},1:{start:{line:17,column:2},end:{line:19,column:3}},2:{start:{line:18,column:4},end:{line:18,column:18}},3:{start:{line:20,column:20},end:{line:20,column:29}},4:{start:{line:21,column:16},end:{line:21,column:31}},5:{start:{line:22,column:2},end:{line:25,column:3}},6:{start:{line:23,column:4},end:{line:23,column:24}},7:{start:{line:24,column:4},end:{line:24,column:32}},8:{start:{line:26,column:2},end:{line:26,column:35}},9:{start:{line:29,column:2},end:{line:29,column:65}},10:{start:{line:32,column:2},end:{line:53,column:4}},11:{start:{line:55,column:19},end:{line:59,column:1}},12:{start:{line:61,column:2},end:{line:63,column:3}},13:{start:{line:62,column:4},end:{line:62,column:16}},14:{start:{line:64,column:21},end:{line:64,column:42}},15:{start:{line:65,column:2},end:{line:65,column:38}},16:{start:{line:68,column:2},end:{line:68,column:52}},17:{start:{line:71,column:2},end:{line:73,column:3}},18:{start:{line:72,column:4},end:{line:72,column:97}},19:{start:{line:72,column:38},end:{line:72,column:59}},20:{start:{line:72,column:75},end:{line:72,column:84}},21:{start:{line:74,column:2},end:{line:74,column:15}},22:{start:{line:77,column:24},end:{line:79,column:3}},23:{start:{line:81,column:4},end:{line:81,column:17}},24:{start:{line:82,column:4},end:{line:85,column:6}},25:{start:{line:89,column:22},end:{line:89,column:58}},26:{start:{line:90,column:4},end:{line:90,column:35}},27:{start:{line:91,column:4},end:{line:91,column:35}},28:{start:{line:94,column:22},end:{line:94,column:58}},29:{start:{line:95,column:4},end:{line:95,column:39}},30:{start:{line:96,column:4},end:{line:96,column:35}},31:{start:{line:98,column:18},end:{line:102,column:3}},32:{start:{line:99,column:26},end:{line:99,column:62}},33:{start:{line:100,column:4},end:{line:100,column:43}},34:{start:{line:101,column:4},end:{line:101,column:39}},35:{start:{line:103,column:16},end:{line:107,column:3}},36:{start:{line:104,column:4},end:{line:106,column:7}},37:{start:{line:108,column:15},end:{line:112,column:3}},38:{start:{line:109,column:4},end:{line:111,column:7}},39:{start:{line:113,column:19},end:{line:119,column:3}},40:{start:{line:114,column:19},end:{line:114,column:46}},41:{start:{line:115,column:4},end:{line:115,column:47}},42:{start:{line:116,column:4},end:{line:118,column:7}},43:{start:{line:121,column:32},end:{line:121,column:75}},44:{start:{line:122,column:4},end:{line:135,column:5}},45:{start:{line:123,column:6},end:{line:126,column:8}},46:{start:{line:127,column:11},end:{line:135,column:5}},47:{start:{line:128,column:6},end:{line:130,column:8}},48:{start:{line:132,column:6},end:{line:134,column:8}},49:{start:{line:138,column:23},end:{line:138,column:33}},50:{start:{line:139,column:36},end:{line:139,column:46}},51:{start:{line:140,column:22},end:{line:142,column:5}},52:{start:{line:143,column:26},end:{line:143,column:33}},53:{start:{line:144,column:36},end:{line:144,column:112}},54:{start:{line:145,column:4},end:{line:265,column:5}},55:{start:{line:146,column:6},end:{line:159,column:11}},56:{start:{line:160,column:11},end:{line:265,column:5}},57:{start:{line:161,column:21},end:{line:161,column:48}},58:{start:{line:162,column:26},end:{line:162,column:35}},59:{start:{line:163,column:22},end:{line:163,column:37}},60:{start:{line:164,column:38},end:{line:172,column:10}},61:{start:{line:173,column:27},end:{line:186,column:8}},62:{start:{line:174,column:22},end:{line:174,column:50}},63:{start:{line:175,column:8},end:{line:185,column:29}},64:{start:{line:187,column:6},end:{line:234,column:11}},65:{start:{line:198,column:33},end:{line:198,column:63}},66:{start:{line:236,column:25},end:{line:236,column:35}},67:{start:{line:237,column:6},end:{line:264,column:11}},68:{start:{line:242,column:14},end:{line:242,column:59}},69:{start:{line:243,column:14},end:{line:243,column:49}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:15,column:9},end:{line:15,column:24}},loc:{start:{line:15,column:32},end:{line:27,column:1}},line:15},1:{name:"migrateFilter",decl:{start:{line:28,column:9},end:{line:28,column:22}},loc:{start:{line:28,column:31},end:{line:30,column:1}},line:28},2:{name:"createStyleFromFilter",decl:{start:{line:31,column:9},end:{line:31,column:30}},loc:{start:{line:31,column:39},end:{line:54,column:1}},line:31},3:{name:"checkIfSimpleFilter",decl:{start:{line:60,column:9},end:{line:60,column:28}},loc:{start:{line:60,column:37},end:{line:66,column:1}},line:60},4:{name:"hasCombiningFilter",decl:{start:{line:67,column:9},end:{line:67,column:27}},loc:{start:{line:67,column:36},end:{line:69,column:1}},line:67},5:{name:"hasNestedCombiningFilter",decl:{start:{line:70,column:9},end:{line:70,column:33}},loc:{start:{line:70,column:42},end:{line:75,column:1}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:72,column:31},end:{line:72,column:32}},loc:{start:{line:72,column:38},end:{line:72,column:59}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:72,column:68},end:{line:72,column:69}},loc:{start:{line:72,column:75},end:{line:72,column:84}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:80,column:2},end:{line:80,column:3}},loc:{start:{line:80,column:21},end:{line:86,column:3}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:42},end:{line:92,column:3}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:30},end:{line:97,column:3}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:18},end:{line:98,column:19}},loc:{start:{line:98,column:24},end:{line:102,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:103,column:16},end:{line:103,column:17}},loc:{start:{line:103,column:25},end:{line:107,column:3}},line:103},13:{name:"(anonymous_13)",decl:{start:{line:108,column:15},end:{line:108,column:16}},loc:{start:{line:108,column:21},end:{line:112,column:3}},line:108},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:25},end:{line:119,column:3}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:55},end:{line:136,column:3}},line:120},16:{name:"(anonymous_16)",decl:{start:{line:137,column:2},end:{line:137,column:3}},loc:{start:{line:137,column:11},end:{line:266,column:3}},line:137},17:{name:"(anonymous_17)",decl:{start:{line:173,column:39},end:{line:173,column:40}},loc:{start:{line:173,column:51},end:{line:186,column:7}},line:173},18:{name:"(anonymous_18)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:63}},line:198},19:{name:"(anonymous_19)",decl:{start:{line:241,column:22},end:{line:241,column:23}},loc:{start:{line:241,column:28},end:{line:244,column:13}},line:241}},branchMap:{0:{loc:{start:{line:16,column:17},end:{line:16,column:40}},type:"binary-expr",locations:[{start:{line:16,column:17},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:40}}],line:16},1:{loc:{start:{line:17,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:19,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},2:{loc:{start:{line:22,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:25,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},4:{loc:{start:{line:61,column:6},end:{line:61,column:59}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:25}},{start:{line:61,column:29},end:{line:61,column:59}}],line:61},5:{loc:{start:{line:71,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:71,column:2},end:{line:73,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},6:{loc:{start:{line:122,column:4},end:{line:135,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:135,column:5}},{start:{line:127,column:11},end:{line:135,column:5}}],line:122},7:{loc:{start:{line:122,column:8},end:{line:122,column:73}},type:"binary-expr",locations:[{start:{line:122,column:8},end:{line:122,column:28}},{start:{line:122,column:32},end:{line:122,column:73}}],line:122},8:{loc:{start:{line:127,column:11},end:{line:135,column:5}},type:"if",locations:[{start:{line:127,column:11},end:{line:135,column:5}},{start:{line:131,column:11},end:{line:135,column:5}}],line:127},9:{loc:{start:{line:127,column:15},end:{line:127,column:80}},type:"binary-expr",locations:[{start:{line:127,column:15},end:{line:127,column:34}},{start:{line:127,column:38},end:{line:127,column:80}}],line:127},10:{loc:{start:{line:144,column:36},end:{line:144,column:112}},type:"binary-expr",locations:[{start:{line:144,column:36},end:{line:144,column:55}},{start:{line:144,column:59},end:{line:144,column:112}}],line:144},11:{loc:{start:{line:145,column:4},end:{line:265,column:5}},type:"if",locations:[{start:{line:145,column:4},end:{line:265,column:5}},{start:{line:160,column:11},end:{line:265,column:5}}],line:145},12:{loc:{start:{line:160,column:11},end:{line:265,column:5}},type:"if",locations:[{start:{line:160,column:11},end:{line:265,column:5}},{start:{line:235,column:11},end:{line:265,column:5}}],line:160},13:{loc:{start:{line:184,column:10},end:{line:184,column:119}},type:"binary-expr",locations:[{start:{line:184,column:10},end:{line:184,column:15}},{start:{line:184,column:35},end:{line:184,column:119}}],line:184},14:{loc:{start:{line:229,column:30},end:{line:229,column:62}},type:"cond-expr",locations:[{start:{line:229,column:51},end:{line:229,column:53}},{start:{line:229,column:56},end:{line:229,column:62}}],line:229},15:{loc:{start:{line:252,column:8},end:{line:263,column:12}},type:"binary-expr",locations:[{start:{line:252,column:8},end:{line:252,column:38}},{start:{line:252,column:58},end:{line:263,column:12}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AA+LQ,SAsDA,UAtDA,KAGA,YAHA;AA/LR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAG/B,SAAS,gBAAgB,OAA+E;AACtG,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAA0B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA0B,cAAiC;AACzF,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,aAAa,wBAAwB,MAAM;AACrE,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,aAAa,wBAAwB,OAAO;AAC1E,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OAAE,+CAEH;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAM;AAAA,YAEN;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cAAM;AAAA;AAAA;AAAA,QAER;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAM;AAAA,UACN,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO;AAAA,YACP,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS,CAAC,CAAC,OAAO,sBAAsB,GAAG,CAAC,QAAQ,mBAAmB,GAAG,CAAC,OAAO,oBAAoB,CAAC;AAAA;AAAA,YACzG;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA;AAAA;AAAA,YACR;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBAAwB;AAAA;AAAA,UACG;AAAA,UACxC;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cACX;AAAA;AAAA,UAED;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"539ebaafc62ae27a5559677295475532f297ca46"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return hn=function(){return s},s}hn();function rm(e){hn().f[0]++;const n=(hn().s[0]++,hn().b[0][0]++,e.filter||(hn().b[0][1]++,["all"]));if(hn().s[1]++,Array.isArray(n))hn().b[1][1]++;else return hn().b[1][0]++,hn().s[2]++,n;let t=(hn().s[3]++,n[0]),r=(hn().s[4]++,n.slice(1));return hn().s[5]++,x8.indexOf(t)<0?(hn().b[2][0]++,hn().s[6]++,t="all",hn().s[7]++,r=[n.slice(0)]):hn().b[2][1]++,hn().s[8]++,[t,...r]}function i0e(e){return hn().f[1]++,hn().s[9]++,nJ(o0e(e)).layers[0].filter}function o0e(e){return hn().f[2]++,hn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:e}]}}const a0e=(hn().s[11]++,["all","any","none"]);function mK(e){if(hn().f[3]++,hn().s[12]++,hn().b[4][0]++,e.length===1&&(hn().b[4][1]++,a0e.includes(e[0])))return hn().b[3][0]++,hn().s[13]++,!0;hn().b[3][1]++;const n=(hn().s[14]++,O_(e));return hn().s[15]++,!V4.isEqual(n,e)}function gK(e){return hn().f[4]++,hn().s[16]++,x8.indexOf(e[0])>=0}function s0e(e){return hn().f[5]++,hn().s[17]++,gK(e)?(hn().b[5][0]++,hn().s[18]++,e.slice(1).map(n=>(hn().f[6]++,hn().s[19]++,gK(n))).filter(n=>(hn().f[7]++,hn().s[20]++,n==!0)).length>0):(hn().b[5][1]++,hn().s[21]++,!1)}class dN extends xn.Component{constructor(t){hn().f[8]++,hn().s[23]++;super(t);rn(this,"addFilterItem",(hn().s[31]++,()=>{hn().f[11]++;const t=(hn().s[32]++,rm(this.props).slice(0));hn().s[33]++,t.push(["==","name",""]),hn().s[34]++,this.props.onChange(t)}));rn(this,"onToggleDoc",(hn().s[35]++,t=>{hn().f[12]++,hn().s[36]++,this.setState({showDoc:t})}));rn(this,"makeFilter",(hn().s[37]++,()=>{hn().f[13]++,hn().s[38]++,this.setState({displaySimpleFilter:!0})}));rn(this,"makeExpression",(hn().s[39]++,()=>{hn().f[14]++;const t=(hn().s[40]++,rm(this.props));hn().s[41]++,this.props.onChange(i0e(t)),hn().s[42]++,this.setState({displaySimpleFilter:!1})}));hn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:mK(rm(t))}}onFilterPartChanged(t,r){hn().f[9]++;const i=(hn().s[25]++,rm(this.props).slice(0));hn().s[26]++,i[t]=r,hn().s[27]++,this.props.onChange(i)}deleteFilterItem(t){hn().f[10]++;const r=(hn().s[28]++,rm(this.props).slice(0));hn().s[29]++,r.splice(t+1,1),hn().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(t,r){hn().f[15]++;const i=(hn().s[43]++,mK(rm(t)));return hn().s[44]++,hn().b[7][0]++,!i&&(hn().b[7][1]++,r.displaySimpleFilter===!0)?(hn().b[6][0]++,hn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(hn().b[6][1]++,hn().s[46]++,hn().b[9][0]++,i&&(hn().b[9][1]++,r.displaySimpleFilter===!1)?(hn().b[8][0]++,hn().s[47]++,{valueIsSimpleFilter:!0}):(hn().b[8][1]++,hn().s[48]++,{valueIsSimpleFilter:!1}))}render(){hn().f[16]++;const{errors:t}=(hn().s[49]++,this.props),{displaySimpleFilter:r}=(hn().s[50]++,this.state),i=(hn().s[51]++,{doc:ma.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),o=(hn().s[52]++,["all"]),s=(hn().s[53]++,hn().b[10][0]++,r&&(hn().b[10][1]++,s0e(rm(this.props))));if(hn().s[54]++,s)return hn().b[11][0]++,hn().s[55]++,N.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[N.jsx("p",{children:"Nested filters are not supported."}),N.jsxs(ka,{onClick:this.makeExpression,title:"Convert to expression",children:[N.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:EC})}),"Upgrade to expression"]})]});if(hn().b[11][1]++,hn().s[56]++,r){hn().b[12][0]++;const a=(hn().s[57]++,rm(this.props)),h=(hn().s[58]++,a[0]),g=(hn().s[59]++,a.slice(1)),C=(hn().s[60]++,N.jsx("div",{children:N.jsx(ka,{onClick:this.makeExpression,title:"Convert to expression",className:"maputnik-make-zoom-function",children:N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:EC})})})})),B=(hn().s[61]++,g.map((k,P)=>{hn().f[17]++;const U=(hn().s[62]++,t[`filter[${P+1}]`]);return hn().s[63]++,N.jsxs("div",{children:[N.jsx(Ime,{onDelete:this.deleteFilterItem.bind(this,P),children:N.jsx(eN,{properties:this.props.properties,filter:k,onChange:this.onFilterPartChanged.bind(this,P+1)})},P),(hn().b[13][0]++,U&&(hn().b[13][1]++,N.jsx("div",{className:"maputnik-inline-error",children:U.message},"error")))]},`block-${P}`)}));return hn().s[64]++,N.jsxs(N.Fragment,{children:[N.jsx(Vo,{fieldSpec:i,label:"Filter",action:C,children:N.jsx(M1,{value:h,onChange:k=>(hn().f[18]++,hn().s[65]++,this.onFilterPartChanged(0,k)),options:[["all","every filter matches"],["none","no filter matches"],["any","any filter matches"]]})},"top"),B,N.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:N.jsxs(ka,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:b8})})," Add filter"]})},"buttons"),N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(hn().b[14][0]++,""):(hn().b[14][1]++,"none")},children:N.jsx(u8,{fieldSpec:i})},"doc")]})}else{hn().b[12][1]++;const{filter:a}=(hn().s[66]++,this.props);return hn().s[67]++,N.jsxs(N.Fragment,{children:[N.jsx(S8,{onDelete:()=>{hn().f[19]++,hn().s[68]++,this.setState({displaySimpleFilter:!0}),hn().s[69]++,this.props.onChange(o)},fieldName:"filter",fieldSpec:i,value:a,errors:t,onChange:this.props.onChange}),(hn().b[15][0]++,this.state.valueIsSimpleFilter&&(hn().b[15][1]++,N.jsxs("div",{className:"maputnik-expr-infobox",children:["You've entered a old style filter,"," ",N.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:"switch to filter editor"})]})))]})}}}rn(dN,"defaultProps",(hn().s[22]++,{filter:["all"]}));var W5={},js={},ib={},l0e=typeof window=="object"&&window&&window.Object===Object&&window,hN=l0e,u0e=hN,A0e=typeof self=="object"&&self&&self.Object===Object&&self,c0e=u0e||A0e||Function("return this")(),ph=c0e,d0e=ph,h0e=d0e.Symbol,ob=h0e,yK=ob,fN=Object.prototype,f0e=fN.hasOwnProperty,p0e=fN.toString,Xv=yK?yK.toStringTag:void 0;function m0e(e){var n=f0e.call(e,Xv),t=e[Xv];try{e[Xv]=void 0;var r=!0}catch{}var i=p0e.call(e);return r&&(n?e[Xv]=t:delete e[Xv]),i}var g0e=m0e,y0e=Object.prototype,v0e=y0e.toString;function _0e(e){return v0e.call(e)}var C0e=_0e,vK=ob,b0e=g0e,x0e=C0e,w0e="[object Null]",M0e="[object Undefined]",_K=vK?vK.toStringTag:void 0;function S0e(e){return e==null?e===void 0?M0e:w0e:_K&&_K in Object(e)?b0e(e):x0e(e)}var S1=S0e,E0e=Array.isArray,jc=E0e;function O0e(e){return e!=null&&typeof e=="object"}var kf=O0e,B0e=S1,k0e=jc,I0e=kf,T0e="[object String]";function K0e(e){return typeof e=="string"||!k0e(e)&&I0e(e)&&B0e(e)==T0e}var P0e=K0e;function F0e(e){return function(n,t,r){for(var i=-1,o=Object(n),s=r(n),a=s.length;a--;){var h=s[e?a:++i];if(t(o[h],h,o)===!1)break}return n}}var D0e=F0e,L0e=D0e,U0e=L0e(),pN=U0e;function R0e(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var z0e=R0e,j0e=S1,W0e=kf,N0e="[object Arguments]";function G0e(e){return W0e(e)&&j0e(e)==N0e}var Q0e=G0e,CK=Q0e,$0e=kf,mN=Object.prototype,Y0e=mN.hasOwnProperty,q0e=mN.propertyIsEnumerable,V0e=CK(function(){return arguments}())?CK:function(e){return $0e(e)&&Y0e.call(e,"callee")&&!q0e.call(e,"callee")},E8=V0e,a4={exports:{}};function H0e(){return!1}var Z0e=H0e;a4.exports;(function(e,n){var t=ph,r=Z0e,i=n&&!n.nodeType&&n,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?t.Buffer:void 0,h=a?a.isBuffer:void 0,g=h||r;e.exports=g})(a4,a4.exports);var N5=a4.exports,X0e=9007199254740991,J0e=/^(?:0|[1-9]\d*)$/;function e1e(e,n){var t=typeof e;return n=n??X0e,!!n&&(t=="number"||t!="symbol"&&J0e.test(e))&&e>-1&&e%1==0&&e<n}var O8=e1e,t1e=9007199254740991;function n1e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t1e}var B8=n1e,r1e=S1,i1e=B8,o1e=kf,a1e="[object Arguments]",s1e="[object Array]",l1e="[object Boolean]",u1e="[object Date]",A1e="[object Error]",c1e="[object Function]",d1e="[object Map]",h1e="[object Number]",f1e="[object Object]",p1e="[object RegExp]",m1e="[object Set]",g1e="[object String]",y1e="[object WeakMap]",v1e="[object ArrayBuffer]",_1e="[object DataView]",C1e="[object Float32Array]",b1e="[object Float64Array]",x1e="[object Int8Array]",w1e="[object Int16Array]",M1e="[object Int32Array]",S1e="[object Uint8Array]",E1e="[object Uint8ClampedArray]",O1e="[object Uint16Array]",B1e="[object Uint32Array]",ss={};ss[C1e]=ss[b1e]=ss[x1e]=ss[w1e]=ss[M1e]=ss[S1e]=ss[E1e]=ss[O1e]=ss[B1e]=!0;ss[a1e]=ss[s1e]=ss[v1e]=ss[l1e]=ss[_1e]=ss[u1e]=ss[A1e]=ss[c1e]=ss[d1e]=ss[h1e]=ss[f1e]=ss[p1e]=ss[m1e]=ss[g1e]=ss[y1e]=!1;function k1e(e){return o1e(e)&&i1e(e.length)&&!!ss[r1e(e)]}var I1e=k1e;function T1e(e){return function(n){return e(n)}}var k8=T1e,s4={exports:{}};s4.exports;(function(e,n){var t=hN,r=n&&!n.nodeType&&n,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&t.process,a=function(){try{var h=i&&i.require&&i.require("util").types;return h||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(s4,s4.exports);var I8=s4.exports,K1e=I1e,P1e=k8,bK=I8,xK=bK&&bK.isTypedArray,F1e=xK?P1e(xK):K1e,T8=F1e,D1e=z0e,L1e=E8,U1e=jc,R1e=N5,z1e=O8,j1e=T8,W1e=Object.prototype,N1e=W1e.hasOwnProperty;function G1e(e,n){var t=U1e(e),r=!t&&L1e(e),i=!t&&!r&&R1e(e),o=!t&&!r&&!i&&j1e(e),s=t||r||i||o,a=s?D1e(e.length,String):[],h=a.length;for(var g in e)(n||N1e.call(e,g))&&!(s&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||z1e(g,h)))&&a.push(g);return a}var gN=G1e,Q1e=Object.prototype;function $1e(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Q1e;return e===t}var K8=$1e;function Y1e(e,n){return function(t){return e(n(t))}}var yN=Y1e,q1e=yN,V1e=q1e(Object.keys,Object),H1e=V1e,Z1e=K8,X1e=H1e,J1e=Object.prototype,ege=J1e.hasOwnProperty;function tge(e){if(!Z1e(e))return X1e(e);var n=[];for(var t in Object(e))ege.call(e,t)&&t!="constructor"&&n.push(t);return n}var nge=tge;function rge(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Ed=rge,ige=S1,oge=Ed,age="[object AsyncFunction]",sge="[object Function]",lge="[object GeneratorFunction]",uge="[object Proxy]";function Age(e){if(!oge(e))return!1;var n=ige(e);return n==sge||n==lge||n==age||n==uge}var P8=Age,cge=P8,dge=B8;function hge(e){return e!=null&&dge(e.length)&&!cge(e)}var Xy=hge,fge=gN,pge=nge,mge=Xy;function gge(e){return mge(e)?fge(e):pge(e)}var ab=gge,yge=pN,vge=ab;function _ge(e,n){return e&&yge(e,n,vge)}var vN=_ge;function Cge(e){return e}var G5=Cge,bge=G5;function xge(e){return typeof e=="function"?e:bge}var _N=xge,wge=vN,Mge=_N;function Sge(e,n){return e&&wge(e,Mge(n))}var F8=Sge,Ege=yN,Oge=Ege(Object.getPrototypeOf,Object),D8=Oge,Bge=S1,kge=D8,Ige=kf,Tge="[object Object]",Kge=Function.prototype,Pge=Object.prototype,CN=Kge.toString,Fge=Pge.hasOwnProperty,Dge=CN.call(Object);function Lge(e){if(!Ige(e)||Bge(e)!=Tge)return!1;var n=kge(e);if(n===null)return!0;var t=Fge.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&CN.call(t)==Dge}var bN=Lge;function Uge(e,n){for(var t=-1,r=e==null?0:e.length,i=Array(r);++t<r;)i[t]=n(e[t],t,e);return i}var xN=Uge;function Rge(){this.__data__=[],this.size=0}var zge=Rge;function jge(e,n){return e===n||e!==e&&n!==n}var sb=jge,Wge=sb;function Nge(e,n){for(var t=e.length;t--;)if(Wge(e[t][0],n))return t;return-1}var Q5=Nge,Gge=Q5,Qge=Array.prototype,$ge=Qge.splice;function Yge(e){var n=this.__data__,t=Gge(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():$ge.call(n,t,1),--this.size,!0}var qge=Yge,Vge=Q5;function Hge(e){var n=this.__data__,t=Vge(n,e);return t<0?void 0:n[t][1]}var Zge=Hge,Xge=Q5;function Jge(e){return Xge(this.__data__,e)>-1}var eye=Jge,tye=Q5;function nye(e,n){var t=this.__data__,r=tye(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}var rye=nye,iye=zge,oye=qge,aye=Zge,sye=eye,lye=rye;function Jy(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Jy.prototype.clear=iye;Jy.prototype.delete=oye;Jy.prototype.get=aye;Jy.prototype.has=sye;Jy.prototype.set=lye;var $5=Jy,uye=$5;function Aye(){this.__data__=new uye,this.size=0}var cye=Aye;function dye(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}var hye=dye;function fye(e){return this.__data__.get(e)}var pye=fye;function mye(e){return this.__data__.has(e)}var gye=mye,yye=ph,vye=yye["__core-js_shared__"],_ye=vye,nS=_ye,wK=function(){var e=/[^.]+$/.exec(nS&&nS.keys&&nS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Cye(e){return!!wK&&wK in e}var bye=Cye,xye=Function.prototype,wye=xye.toString;function Mye(e){if(e!=null){try{return wye.call(e)}catch{}try{return e+""}catch{}}return""}var wN=Mye,Sye=P8,Eye=bye,Oye=Ed,Bye=wN,kye=/[\\^$.*+?()[\]{}|]/g,Iye=/^\[object .+?Constructor\]$/,Tye=Function.prototype,Kye=Object.prototype,Pye=Tye.toString,Fye=Kye.hasOwnProperty,Dye=RegExp("^"+Pye.call(Fye).replace(kye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lye(e){if(!Oye(e)||Eye(e))return!1;var n=Sye(e)?Dye:Iye;return n.test(Bye(e))}var Uye=Lye;function Rye(e,n){return e==null?void 0:e[n]}var zye=Rye,jye=Uye,Wye=zye;function Nye(e,n){var t=Wye(e,n);return jye(t)?t:void 0}var E1=Nye,Gye=E1,Qye=ph,$ye=Gye(Qye,"Map"),L8=$ye,Yye=E1,qye=Yye(Object,"create"),Y5=qye,MK=Y5;function Vye(){this.__data__=MK?MK(null):{},this.size=0}var Hye=Vye;function Zye(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var Xye=Zye,Jye=Y5,eve="__lodash_hash_undefined__",tve=Object.prototype,nve=tve.hasOwnProperty;function rve(e){var n=this.__data__;if(Jye){var t=n[e];return t===eve?void 0:t}return nve.call(n,e)?n[e]:void 0}var ive=rve,ove=Y5,ave=Object.prototype,sve=ave.hasOwnProperty;function lve(e){var n=this.__data__;return ove?n[e]!==void 0:sve.call(n,e)}var uve=lve,Ave=Y5,cve="__lodash_hash_undefined__";function dve(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Ave&&n===void 0?cve:n,this}var hve=dve,fve=Hye,pve=Xye,mve=ive,gve=uve,yve=hve;function ev(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}ev.prototype.clear=fve;ev.prototype.delete=pve;ev.prototype.get=mve;ev.prototype.has=gve;ev.prototype.set=yve;var vve=ev,SK=vve,_ve=$5,Cve=L8;function bve(){this.size=0,this.__data__={hash:new SK,map:new(Cve||_ve),string:new SK}}var xve=bve;function wve(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}var Mve=wve,Sve=Mve;function Eve(e,n){var t=e.__data__;return Sve(n)?t[typeof n=="string"?"string":"hash"]:t.map}var q5=Eve,Ove=q5;function Bve(e){var n=Ove(this,e).delete(e);return this.size-=n?1:0,n}var kve=Bve,Ive=q5;function Tve(e){return Ive(this,e).get(e)}var Kve=Tve,Pve=q5;function Fve(e){return Pve(this,e).has(e)}var Dve=Fve,Lve=q5;function Uve(e,n){var t=Lve(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}var Rve=Uve,zve=xve,jve=kve,Wve=Kve,Nve=Dve,Gve=Rve;function tv(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}tv.prototype.clear=zve;tv.prototype.delete=jve;tv.prototype.get=Wve;tv.prototype.has=Nve;tv.prototype.set=Gve;var U8=tv,Qve=$5,$ve=L8,Yve=U8,qve=200;function Vve(e,n){var t=this.__data__;if(t instanceof Qve){var r=t.__data__;if(!$ve||r.length<qve-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Yve(r)}return t.set(e,n),this.size=t.size,this}var Hve=Vve,Zve=$5,Xve=cye,Jve=hye,e_e=pye,t_e=gye,n_e=Hve;function nv(e){var n=this.__data__=new Zve(e);this.size=n.size}nv.prototype.clear=Xve;nv.prototype.delete=Jve;nv.prototype.get=e_e;nv.prototype.has=t_e;nv.prototype.set=n_e;var V5=nv,r_e="__lodash_hash_undefined__";function i_e(e){return this.__data__.set(e,r_e),this}var o_e=i_e;function a_e(e){return this.__data__.has(e)}var s_e=a_e,l_e=U8,u_e=o_e,A_e=s_e;function l4(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new l_e;++n<t;)this.add(e[n])}l4.prototype.add=l4.prototype.push=u_e;l4.prototype.has=A_e;var c_e=l4;function d_e(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}var h_e=d_e;function f_e(e,n){return e.has(n)}var p_e=f_e,m_e=c_e,g_e=h_e,y_e=p_e,v_e=1,__e=2;function C_e(e,n,t,r,i,o){var s=t&v_e,a=e.length,h=n.length;if(a!=h&&!(s&&h>a))return!1;var g=o.get(e),C=o.get(n);if(g&&C)return g==n&&C==e;var B=-1,k=!0,P=t&__e?new m_e:void 0;for(o.set(e,n),o.set(n,e);++B<a;){var U=e[B],Z=n[B];if(r)var W=s?r(Z,U,B,n,e,o):r(U,Z,B,e,n,o);if(W!==void 0){if(W)continue;k=!1;break}if(P){if(!g_e(n,function(Q,q){if(!y_e(P,q)&&(U===Q||i(U,Q,t,r,o)))return P.push(q)})){k=!1;break}}else if(!(U===Z||i(U,Z,t,r,o))){k=!1;break}}return o.delete(e),o.delete(n),k}var MN=C_e,b_e=ph,x_e=b_e.Uint8Array,SN=x_e;function w_e(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}var M_e=w_e;function S_e(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var E_e=S_e,EK=ob,OK=SN,O_e=sb,B_e=MN,k_e=M_e,I_e=E_e,T_e=1,K_e=2,P_e="[object Boolean]",F_e="[object Date]",D_e="[object Error]",L_e="[object Map]",U_e="[object Number]",R_e="[object RegExp]",z_e="[object Set]",j_e="[object String]",W_e="[object Symbol]",N_e="[object ArrayBuffer]",G_e="[object DataView]",BK=EK?EK.prototype:void 0,rS=BK?BK.valueOf:void 0;function Q_e(e,n,t,r,i,o,s){switch(t){case G_e:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case N_e:return!(e.byteLength!=n.byteLength||!o(new OK(e),new OK(n)));case P_e:case F_e:case U_e:return O_e(+e,+n);case D_e:return e.name==n.name&&e.message==n.message;case R_e:case j_e:return e==n+"";case L_e:var a=k_e;case z_e:var h=r&T_e;if(a||(a=I_e),e.size!=n.size&&!h)return!1;var g=s.get(e);if(g)return g==n;r|=K_e,s.set(e,n);var C=B_e(a(e),a(n),r,i,o,s);return s.delete(e),C;case W_e:if(rS)return rS.call(e)==rS.call(n)}return!1}var $_e=Q_e;function Y_e(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var EN=Y_e,q_e=EN,V_e=jc;function H_e(e,n,t){var r=n(e);return V_e(e)?r:q_e(r,t(e))}var ON=H_e;function Z_e(e,n){for(var t=-1,r=e==null?0:e.length,i=0,o=[];++t<r;){var s=e[t];n(s,t,e)&&(o[i++]=s)}return o}var X_e=Z_e;function J_e(){return[]}var BN=J_e,eCe=X_e,tCe=BN,nCe=Object.prototype,rCe=nCe.propertyIsEnumerable,kK=Object.getOwnPropertySymbols,iCe=kK?function(e){return e==null?[]:(e=Object(e),eCe(kK(e),function(n){return rCe.call(e,n)}))}:tCe,R8=iCe,oCe=ON,aCe=R8,sCe=ab;function lCe(e){return oCe(e,sCe,aCe)}var kN=lCe,IK=kN,uCe=1,ACe=Object.prototype,cCe=ACe.hasOwnProperty;function dCe(e,n,t,r,i,o){var s=t&uCe,a=IK(e),h=a.length,g=IK(n),C=g.length;if(h!=C&&!s)return!1;for(var B=h;B--;){var k=a[B];if(!(s?k in n:cCe.call(n,k)))return!1}var P=o.get(e),U=o.get(n);if(P&&U)return P==n&&U==e;var Z=!0;o.set(e,n),o.set(n,e);for(var W=s;++B<h;){k=a[B];var Q=e[k],q=n[k];if(r)var oe=s?r(q,Q,k,n,e,o):r(Q,q,k,e,n,o);if(!(oe===void 0?Q===q||i(Q,q,t,r,o):oe)){Z=!1;break}W||(W=k=="constructor")}if(Z&&!W){var re=e.constructor,Ae=n.constructor;re!=Ae&&"constructor"in e&&"constructor"in n&&!(typeof re=="function"&&re instanceof re&&typeof Ae=="function"&&Ae instanceof Ae)&&(Z=!1)}return o.delete(e),o.delete(n),Z}var hCe=dCe,fCe=E1,pCe=ph,mCe=fCe(pCe,"DataView"),gCe=mCe,yCe=E1,vCe=ph,_Ce=yCe(vCe,"Promise"),CCe=_Ce,bCe=E1,xCe=ph,wCe=bCe(xCe,"Set"),MCe=wCe,SCe=E1,ECe=ph,OCe=SCe(ECe,"WeakMap"),BCe=OCe,eO=gCe,tO=L8,nO=CCe,rO=MCe,iO=BCe,IN=S1,rv=wN,TK="[object Map]",kCe="[object Object]",KK="[object Promise]",PK="[object Set]",FK="[object WeakMap]",DK="[object DataView]",ICe=rv(eO),TCe=rv(tO),KCe=rv(nO),PCe=rv(rO),FCe=rv(iO),B0=IN;(eO&&B0(new eO(new ArrayBuffer(1)))!=DK||tO&&B0(new tO)!=TK||nO&&B0(nO.resolve())!=KK||rO&&B0(new rO)!=PK||iO&&B0(new iO)!=FK)&&(B0=function(e){var n=IN(e),t=n==kCe?e.constructor:void 0,r=t?rv(t):"";if(r)switch(r){case ICe:return DK;case TCe:return TK;case KCe:return KK;case PCe:return PK;case FCe:return FK}return n});var H5=B0,iS=V5,DCe=MN,LCe=$_e,UCe=hCe,LK=H5,UK=jc,RK=N5,RCe=T8,zCe=1,zK="[object Arguments]",jK="[object Array]",Vx="[object Object]",jCe=Object.prototype,WK=jCe.hasOwnProperty;function WCe(e,n,t,r,i,o){var s=UK(e),a=UK(n),h=s?jK:LK(e),g=a?jK:LK(n);h=h==zK?Vx:h,g=g==zK?Vx:g;var C=h==Vx,B=g==Vx,k=h==g;if(k&&RK(e)){if(!RK(n))return!1;s=!0,C=!1}if(k&&!C)return o||(o=new iS),s||RCe(e)?DCe(e,n,t,r,i,o):LCe(e,n,h,t,r,i,o);if(!(t&zCe)){var P=C&&WK.call(e,"__wrapped__"),U=B&&WK.call(n,"__wrapped__");if(P||U){var Z=P?e.value():e,W=U?n.value():n;return o||(o=new iS),i(Z,W,t,r,o)}}return k?(o||(o=new iS),UCe(e,n,t,r,i,o)):!1}var NCe=WCe,GCe=NCe,NK=kf;function TN(e,n,t,r,i){return e===n?!0:e==null||n==null||!NK(e)&&!NK(n)?e!==e&&n!==n:GCe(e,n,t,r,TN,i)}var KN=TN,QCe=V5,$Ce=KN,YCe=1,qCe=2;function VCe(e,n,t,r){var i=t.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=t[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=t[i];var h=a[0],g=e[h],C=a[1];if(s&&a[2]){if(g===void 0&&!(h in e))return!1}else{var B=new QCe;if(r)var k=r(g,C,h,e,n,B);if(!(k===void 0?$Ce(C,g,YCe|qCe,r,B):k))return!1}}return!0}var HCe=VCe,ZCe=Ed;function XCe(e){return e===e&&!ZCe(e)}var PN=XCe,JCe=PN,ebe=ab;function tbe(e){for(var n=ebe(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,JCe(i)]}return n}var nbe=tbe;function rbe(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}var FN=rbe,ibe=HCe,obe=nbe,abe=FN;function sbe(e){var n=obe(e);return n.length==1&&n[0][2]?abe(n[0][0],n[0][1]):function(t){return t===e||ibe(t,e,n)}}var lbe=sbe,ube=S1,Abe=kf,cbe="[object Symbol]";function dbe(e){return typeof e=="symbol"||Abe(e)&&ube(e)==cbe}var Z5=dbe,hbe=jc,fbe=Z5,pbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mbe=/^\w*$/;function gbe(e,n){if(hbe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||fbe(e)?!0:mbe.test(e)||!pbe.test(e)||n!=null&&e in Object(n)}var z8=gbe,DN=U8,ybe="Expected a function";function j8(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(ybe);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(j8.Cache||DN),t}j8.Cache=DN;var vbe=j8,_be=vbe,Cbe=500;function bbe(e){var n=_be(e,function(r){return t.size===Cbe&&t.clear(),r}),t=n.cache;return n}var xbe=bbe,wbe=xbe,Mbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sbe=/\\(\\)?/g,Ebe=wbe(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Mbe,function(t,r,i,o){n.push(i?o.replace(Sbe,"$1"):r||t)}),n}),Obe=Ebe,GK=ob,Bbe=xN,kbe=jc,Ibe=Z5,Tbe=1/0,QK=GK?GK.prototype:void 0,$K=QK?QK.toString:void 0;function LN(e){if(typeof e=="string")return e;if(kbe(e))return Bbe(e,LN)+"";if(Ibe(e))return $K?$K.call(e):"";var n=e+"";return n=="0"&&1/e==-Tbe?"-0":n}var Kbe=LN,Pbe=Kbe;function Fbe(e){return e==null?"":Pbe(e)}var Dbe=Fbe,Lbe=jc,Ube=z8,Rbe=Obe,zbe=Dbe;function jbe(e,n){return Lbe(e)?e:Ube(e,n)?[e]:Rbe(zbe(e))}var UN=jbe,Wbe=Z5,Nbe=1/0;function Gbe(e){if(typeof e=="string"||Wbe(e))return e;var n=e+"";return n=="0"&&1/e==-Nbe?"-0":n}var X5=Gbe,Qbe=UN,$be=X5;function Ybe(e,n){n=Qbe(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[$be(n[t++])];return t&&t==r?e:void 0}var RN=Ybe,qbe=RN;function Vbe(e,n,t){var r=e==null?void 0:qbe(e,n);return r===void 0?t:r}var Hbe=Vbe;function Zbe(e,n){return e!=null&&n in Object(e)}var Xbe=Zbe,Jbe=UN,exe=E8,txe=jc,nxe=O8,rxe=B8,ixe=X5;function oxe(e,n,t){n=Jbe(n,e);for(var r=-1,i=n.length,o=!1;++r<i;){var s=ixe(n[r]);if(!(o=e!=null&&t(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&rxe(i)&&nxe(s,i)&&(txe(e)||exe(e)))}var axe=oxe,sxe=Xbe,lxe=axe;function uxe(e,n){return e!=null&&lxe(e,n,sxe)}var Axe=uxe,cxe=KN,dxe=Hbe,hxe=Axe,fxe=z8,pxe=PN,mxe=FN,gxe=X5,yxe=1,vxe=2;function _xe(e,n){return fxe(e)&&pxe(n)?mxe(gxe(e),n):function(t){var r=dxe(t,e);return r===void 0&&r===n?hxe(t,e):cxe(n,r,yxe|vxe)}}var Cxe=_xe;function bxe(e){return function(n){return n==null?void 0:n[e]}}var xxe=bxe,wxe=RN;function Mxe(e){return function(n){return wxe(n,e)}}var Sxe=Mxe,Exe=xxe,Oxe=Sxe,Bxe=z8,kxe=X5;function Ixe(e){return Bxe(e)?Exe(kxe(e)):Oxe(e)}var Txe=Ixe,Kxe=lbe,Pxe=Cxe,Fxe=G5,Dxe=jc,Lxe=Txe;function Uxe(e){return typeof e=="function"?e:e==null?Fxe:typeof e=="object"?Dxe(e)?Pxe(e[0],e[1]):Kxe(e):Lxe(e)}var Rxe=Uxe,zxe=Xy;function jxe(e,n){return function(t,r){if(t==null)return t;if(!zxe(t))return e(t,r);for(var i=t.length,o=n?i:-1,s=Object(t);(n?o--:++o<i)&&r(s[o],o,s)!==!1;);return t}}var Wxe=jxe,Nxe=vN,Gxe=Wxe,Qxe=Gxe(Nxe),zN=Qxe,$xe=zN,Yxe=Xy;function qxe(e,n){var t=-1,r=Yxe(e)?Array(e.length):[];return $xe(e,function(i,o,s){r[++t]=n(i,o,s)}),r}var Vxe=qxe,Hxe=xN,Zxe=Rxe,Xxe=Vxe,Jxe=jc;function e2e(e,n){var t=Jxe(e)?Hxe:Xxe;return t(e,Zxe(n))}var t2e=e2e;Object.defineProperty(ib,"__esModule",{value:!0});ib.flattenNames=void 0;var n2e=P0e,r2e=J5(n2e),i2e=F8,o2e=J5(i2e),a2e=bN,s2e=J5(a2e),l2e=t2e,u2e=J5(l2e);function J5(e){return e&&e.__esModule?e:{default:e}}var A2e=ib.flattenNames=function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,u2e.default)(n,function(r){Array.isArray(r)?e(r).map(function(i){return t.push(i)}):(0,s2e.default)(r)?(0,o2e.default)(r,function(i,o){i===!0&&t.push(o),t.push(o+"-"+i)}):(0,r2e.default)(r)&&t.push(r)}),t};ib.default=A2e;var lb={};function c2e(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var jN=c2e,d2e=E1,h2e=function(){try{var e=d2e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WN=h2e,YK=WN;function f2e(e,n,t){n=="__proto__"&&YK?YK(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}var W8=f2e,p2e=W8,m2e=sb,g2e=Object.prototype,y2e=g2e.hasOwnProperty;function v2e(e,n,t){var r=e[n];(!(y2e.call(e,n)&&m2e(r,t))||t===void 0&&!(n in e))&&p2e(e,n,t)}var NN=v2e,_2e=NN,C2e=W8;function b2e(e,n,t,r){var i=!t;t||(t={});for(var o=-1,s=n.length;++o<s;){var a=n[o],h=r?r(t[a],e[a],a,t,e):void 0;h===void 0&&(h=e[a]),i?C2e(t,a,h):_2e(t,a,h)}return t}var ub=b2e,x2e=ub,w2e=ab;function M2e(e,n){return e&&x2e(n,w2e(n),e)}var S2e=M2e;function E2e(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var O2e=E2e,B2e=Ed,k2e=K8,I2e=O2e,T2e=Object.prototype,K2e=T2e.hasOwnProperty;function P2e(e){if(!B2e(e))return I2e(e);var n=k2e(e),t=[];for(var r in e)r=="constructor"&&(n||!K2e.call(e,r))||t.push(r);return t}var F2e=P2e,D2e=gN,L2e=F2e,U2e=Xy;function R2e(e){return U2e(e)?D2e(e,!0):L2e(e)}var Ab=R2e,z2e=ub,j2e=Ab;function W2e(e,n){return e&&z2e(n,j2e(n),e)}var N2e=W2e,u4={exports:{}};u4.exports;(function(e,n){var t=ph,r=n&&!n.nodeType&&n,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function h(g,C){if(C)return g.slice();var B=g.length,k=a?a(B):new g.constructor(B);return g.copy(k),k}e.exports=h})(u4,u4.exports);var GN=u4.exports;function G2e(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var QN=G2e,Q2e=ub,$2e=R8;function Y2e(e,n){return Q2e(e,$2e(e),n)}var q2e=Y2e,V2e=EN,H2e=D8,Z2e=R8,X2e=BN,J2e=Object.getOwnPropertySymbols,e3e=J2e?function(e){for(var n=[];e;)V2e(n,Z2e(e)),e=H2e(e);return n}:X2e,$N=e3e,t3e=ub,n3e=$N;function r3e(e,n){return t3e(e,n3e(e),n)}var i3e=r3e,o3e=ON,a3e=$N,s3e=Ab;function l3e(e){return o3e(e,s3e,a3e)}var u3e=l3e,A3e=Object.prototype,c3e=A3e.hasOwnProperty;function d3e(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&c3e.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var h3e=d3e,qK=SN;function f3e(e){var n=new e.constructor(e.byteLength);return new qK(n).set(new qK(e)),n}var N8=f3e,p3e=N8;function m3e(e,n){var t=n?p3e(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var g3e=m3e,y3e=/\w*$/;function v3e(e){var n=new e.constructor(e.source,y3e.exec(e));return n.lastIndex=e.lastIndex,n}var _3e=v3e,VK=ob,HK=VK?VK.prototype:void 0,ZK=HK?HK.valueOf:void 0;function C3e(e){return ZK?Object(ZK.call(e)):{}}var b3e=C3e,x3e=N8;function w3e(e,n){var t=n?x3e(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var YN=w3e,M3e=N8,S3e=g3e,E3e=_3e,O3e=b3e,B3e=YN,k3e="[object Boolean]",I3e="[object Date]",T3e="[object Map]",K3e="[object Number]",P3e="[object RegExp]",F3e="[object Set]",D3e="[object String]",L3e="[object Symbol]",U3e="[object ArrayBuffer]",R3e="[object DataView]",z3e="[object Float32Array]",j3e="[object Float64Array]",W3e="[object Int8Array]",N3e="[object Int16Array]",G3e="[object Int32Array]",Q3e="[object Uint8Array]",$3e="[object Uint8ClampedArray]",Y3e="[object Uint16Array]",q3e="[object Uint32Array]";function V3e(e,n,t){var r=e.constructor;switch(n){case U3e:return M3e(e);case k3e:case I3e:return new r(+e);case R3e:return S3e(e,t);case z3e:case j3e:case W3e:case N3e:case G3e:case Q3e:case $3e:case Y3e:case q3e:return B3e(e,t);case T3e:return new r;case K3e:case D3e:return new r(e);case P3e:return E3e(e);case F3e:return new r;case L3e:return O3e(e)}}var H3e=V3e,Z3e=Ed,XK=Object.create,X3e=function(){function e(){}return function(n){if(!Z3e(n))return{};if(XK)return XK(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}(),J3e=X3e,e4e=J3e,t4e=D8,n4e=K8;function r4e(e){return typeof e.constructor=="function"&&!n4e(e)?e4e(t4e(e)):{}}var qN=r4e,i4e=H5,o4e=kf,a4e="[object Map]";function s4e(e){return o4e(e)&&i4e(e)==a4e}var l4e=s4e,u4e=l4e,A4e=k8,JK=I8,eP=JK&&JK.isMap,c4e=eP?A4e(eP):u4e,d4e=c4e,h4e=H5,f4e=kf,p4e="[object Set]";function m4e(e){return f4e(e)&&h4e(e)==p4e}var g4e=m4e,y4e=g4e,v4e=k8,tP=I8,nP=tP&&tP.isSet,_4e=nP?v4e(nP):y4e,C4e=_4e,b4e=V5,x4e=jN,w4e=NN,M4e=S2e,S4e=N2e,E4e=GN,O4e=QN,B4e=q2e,k4e=i3e,I4e=kN,T4e=u3e,K4e=H5,P4e=h3e,F4e=H3e,D4e=qN,L4e=jc,U4e=N5,R4e=d4e,z4e=Ed,j4e=C4e,W4e=ab,N4e=Ab,G4e=1,Q4e=2,$4e=4,VN="[object Arguments]",Y4e="[object Array]",q4e="[object Boolean]",V4e="[object Date]",H4e="[object Error]",HN="[object Function]",Z4e="[object GeneratorFunction]",X4e="[object Map]",J4e="[object Number]",ZN="[object Object]",e5e="[object RegExp]",t5e="[object Set]",n5e="[object String]",r5e="[object Symbol]",i5e="[object WeakMap]",o5e="[object ArrayBuffer]",a5e="[object DataView]",s5e="[object Float32Array]",l5e="[object Float64Array]",u5e="[object Int8Array]",A5e="[object Int16Array]",c5e="[object Int32Array]",d5e="[object Uint8Array]",h5e="[object Uint8ClampedArray]",f5e="[object Uint16Array]",p5e="[object Uint32Array]",Ga={};Ga[VN]=Ga[Y4e]=Ga[o5e]=Ga[a5e]=Ga[q4e]=Ga[V4e]=Ga[s5e]=Ga[l5e]=Ga[u5e]=Ga[A5e]=Ga[c5e]=Ga[X4e]=Ga[J4e]=Ga[ZN]=Ga[e5e]=Ga[t5e]=Ga[n5e]=Ga[r5e]=Ga[d5e]=Ga[h5e]=Ga[f5e]=Ga[p5e]=!0;Ga[H4e]=Ga[HN]=Ga[i5e]=!1;function B2(e,n,t,r,i,o){var s,a=n&G4e,h=n&Q4e,g=n&$4e;if(t&&(s=i?t(e,r,i,o):t(e)),s!==void 0)return s;if(!z4e(e))return e;var C=L4e(e);if(C){if(s=P4e(e),!a)return O4e(e,s)}else{var B=K4e(e),k=B==HN||B==Z4e;if(U4e(e))return E4e(e,a);if(B==ZN||B==VN||k&&!i){if(s=h||k?{}:D4e(e),!a)return h?k4e(e,S4e(s,e)):B4e(e,M4e(s,e))}else{if(!Ga[B])return i?e:{};s=F4e(e,B,a)}}o||(o=new b4e);var P=o.get(e);if(P)return P;o.set(e,s),j4e(e)?e.forEach(function(W){s.add(B2(W,n,t,W,e,o))}):R4e(e)&&e.forEach(function(W,Q){s.set(Q,B2(W,n,t,Q,e,o))});var U=g?h?T4e:I4e:h?N4e:W4e,Z=C?void 0:U(e);return x4e(Z||e,function(W,Q){Z&&(Q=W,W=e[Q]),w4e(s,Q,B2(W,n,t,Q,e,o))}),s}var m5e=B2,g5e=m5e,y5e=1,v5e=4;function _5e(e){return g5e(e,y5e|v5e)}var C5e=_5e;Object.defineProperty(lb,"__esModule",{value:!0});lb.mergeClasses=void 0;var b5e=F8,x5e=XN(b5e),w5e=C5e,M5e=XN(w5e),S5e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function XN(e){return e&&e.__esModule?e:{default:e}}var E5e=lb.mergeClasses=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.default&&(0,M5e.default)(n.default)||{};return t.map(function(i){var o=n[i];return o&&(0,x5e.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=S5e({},r[a],o[a])}),i}),r};lb.default=E5e;var cb={};Object.defineProperty(cb,"__esModule",{value:!0});cb.autoprefix=void 0;var O5e=F8,rP=k5e(O5e),B5e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function k5e(e){return e&&e.__esModule?e:{default:e}}var I5e={borderRadius:function(n){return{msBorderRadius:n,MozBorderRadius:n,OBorderRadius:n,WebkitBorderRadius:n,borderRadius:n}},boxShadow:function(n){return{msBoxShadow:n,MozBoxShadow:n,OBoxShadow:n,WebkitBoxShadow:n,boxShadow:n}},userSelect:function(n){return{WebkitTouchCallout:n,KhtmlUserSelect:n,MozUserSelect:n,msUserSelect:n,WebkitUserSelect:n,userSelect:n}},flex:function(n){return{WebkitBoxFlex:n,MozBoxFlex:n,WebkitFlex:n,msFlex:n,flex:n}},flexBasis:function(n){return{WebkitFlexBasis:n,flexBasis:n}},justifyContent:function(n){return{WebkitJustifyContent:n,justifyContent:n}},transition:function(n){return{msTransition:n,MozTransition:n,OTransition:n,WebkitTransition:n,transition:n}},transform:function(n){return{msTransform:n,MozTransform:n,OTransform:n,WebkitTransform:n,transform:n}},absolute:function(n){var t=n&&n.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(n,t){var r=t[n];return r||{extend:n}}},T5e=cb.autoprefix=function(n){var t={};return(0,rP.default)(n,function(r,i){var o={};(0,rP.default)(r,function(s,a){var h=I5e[a];h?o=B5e({},o,h(s)):o[a]=s}),t[i]=o}),t};cb.default=T5e;var db={};Object.defineProperty(db,"__esModule",{value:!0});db.hover=void 0;var K5e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},P5e=Sr,oS=F5e(P5e);function F5e(e){return e&&e.__esModule?e:{default:e}}function D5e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function iP(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function L5e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var U5e=db.hover=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){L5e(i,r);function i(){var o,s,a,h;D5e(this,i);for(var g=arguments.length,C=Array(g),B=0;B<g;B++)C[B]=arguments[B];return h=(s=(a=iP(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return oS.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},oS.default.createElement(n,K5e({},a.props,a.state)))},s),iP(a,h)}return i}(oS.default.Component)};db.default=U5e;var hb={};Object.defineProperty(hb,"__esModule",{value:!0});hb.active=void 0;var R5e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},z5e=Sr,aS=j5e(z5e);function j5e(e){return e&&e.__esModule?e:{default:e}}function W5e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function oP(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function N5e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var G5e=hb.active=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){N5e(i,r);function i(){var o,s,a,h;W5e(this,i);for(var g=arguments.length,C=Array(g),B=0;B<g;B++)C[B]=arguments[B];return h=(s=(a=oP(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return aS.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},aS.default.createElement(n,R5e({},a.props,a.state)))},s),oP(a,h)}return i}(aS.default.Component)};hb.default=G5e;var G8={};Object.defineProperty(G8,"__esModule",{value:!0});var Q5e=function(n,t){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return n===0&&i("first-child"),n===t-1&&i("last-child"),(n===0||n%2===0)&&i("even"),Math.abs(n%2)===1&&i("odd"),i("nth-child",n),r};G8.default=Q5e;Object.defineProperty(js,"__esModule",{value:!0});js.ReactCSS=js.loop=js.handleActive=js.handleHover=js.hover=void 0;var $5e=ib,Y5e=iv($5e),q5e=lb,V5e=iv(q5e),H5e=cb,Z5e=iv(H5e),X5e=db,JN=iv(X5e),J5e=hb,ewe=iv(J5e),twe=G8,nwe=iv(twe);function iv(e){return e&&e.__esModule?e:{default:e}}js.hover=JN.default;js.handleHover=JN.default;js.handleActive=ewe.default;js.loop=nwe.default;var rwe=js.ReactCSS=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=(0,Y5e.default)(r),s=(0,V5e.default)(n,o);return(0,Z5e.default)(s)};js.default=rwe;var iwe=W8,owe=sb;function awe(e,n,t){(t!==void 0&&!owe(e[n],t)||t===void 0&&!(n in e))&&iwe(e,n,t)}var eG=awe,swe=Xy,lwe=kf;function uwe(e){return lwe(e)&&swe(e)}var Awe=uwe;function cwe(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var tG=cwe,dwe=ub,hwe=Ab;function fwe(e){return dwe(e,hwe(e))}var pwe=fwe,aP=eG,mwe=GN,gwe=YN,ywe=QN,vwe=qN,sP=E8,lP=jc,_we=Awe,Cwe=N5,bwe=P8,xwe=Ed,wwe=bN,Mwe=T8,uP=tG,Swe=pwe;function Ewe(e,n,t,r,i,o,s){var a=uP(e,t),h=uP(n,t),g=s.get(h);if(g){aP(e,t,g);return}var C=o?o(a,h,t+"",e,n,s):void 0,B=C===void 0;if(B){var k=lP(h),P=!k&&Cwe(h),U=!k&&!P&&Mwe(h);C=h,k||P||U?lP(a)?C=a:_we(a)?C=ywe(a):P?(B=!1,C=mwe(h,!0)):U?(B=!1,C=gwe(h,!0)):C=[]:wwe(h)||sP(h)?(C=a,sP(a)?C=Swe(a):(!xwe(a)||bwe(a))&&(C=vwe(h))):B=!1}B&&(s.set(h,C),i(C,h,r,o,s),s.delete(h)),aP(e,t,C)}var Owe=Ewe,Bwe=V5,kwe=eG,Iwe=pN,Twe=Owe,Kwe=Ed,Pwe=Ab,Fwe=tG;function nG(e,n,t,r,i){e!==n&&Iwe(n,function(o,s){if(i||(i=new Bwe),Kwe(o))Twe(e,n,s,t,nG,r,i);else{var a=r?r(Fwe(e,s),o,s+"",e,n,i):void 0;a===void 0&&(a=o),kwe(e,s,a)}},Pwe)}var Dwe=nG;function Lwe(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}var Uwe=Lwe,Rwe=Uwe,AP=Math.max;function zwe(e,n,t){return n=AP(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,o=AP(r.length-n,0),s=Array(o);++i<o;)s[i]=r[n+i];i=-1;for(var a=Array(n+1);++i<n;)a[i]=r[i];return a[n]=t(s),Rwe(e,this,a)}}var jwe=zwe;function Wwe(e){return function(){return e}}var Nwe=Wwe,Gwe=Nwe,cP=WN,Qwe=G5,$we=cP?function(e,n){return cP(e,"toString",{configurable:!0,enumerable:!1,value:Gwe(n),writable:!0})}:Qwe,Ywe=$we,qwe=800,Vwe=16,Hwe=Date.now;function Zwe(e){var n=0,t=0;return function(){var r=Hwe(),i=Vwe-(r-t);if(t=r,i>0){if(++n>=qwe)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}var Xwe=Zwe,Jwe=Ywe,eMe=Xwe,tMe=eMe(Jwe),nMe=tMe,rMe=G5,iMe=jwe,oMe=nMe;function aMe(e,n){return oMe(iMe(e,n,rMe),e+"")}var sMe=aMe,lMe=sb,uMe=Xy,AMe=O8,cMe=Ed;function dMe(e,n,t){if(!cMe(t))return!1;var r=typeof n;return(r=="number"?uMe(t)&&AMe(n,t.length):r=="string"&&n in t)?lMe(t[n],e):!1}var hMe=dMe,fMe=sMe,pMe=hMe;function mMe(e){return fMe(function(n,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&pMe(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var a=t[r];a&&e(n,a,r,o)}return n})}var gMe=mMe,yMe=Dwe,vMe=gMe,_Me=vMe(function(e,n,t){yMe(e,n,t)}),rG=_Me,Q8={},fb={},$8={};Object.defineProperty($8,"__esModule",{value:!0});$8.calculateChange=function(n,t,r,i,o){var s=o.clientWidth,a=o.clientHeight,h=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,g=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,C=h-(o.getBoundingClientRect().left+window.pageXOffset),B=g-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var k=void 0;if(B<0?k=0:B>a?k=1:k=Math.round(B*100/a)/100,t.a!==k)return{h:t.h,s:t.s,l:t.l,a:k,source:"rgb"}}else{var P=void 0;if(C<0?P=0:C>s?P=1:P=Math.round(C*100/s)/100,i!==P)return{h:t.h,s:t.s,l:t.l,a:P,source:"rgb"}}return null};var O1={},ew={};Object.defineProperty(ew,"__esModule",{value:!0});var sS={},CMe=ew.render=function(n,t,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=n,s.fillRect(0,0,o.width,o.height),s.fillStyle=t,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null};ew.get=function(n,t,r,i){var o=n+"-"+t+"-"+r+(i?"-server":"");if(sS[o])return sS[o];var s=CMe(n,t,r,i);return sS[o]=s,s};Object.defineProperty(O1,"__esModule",{value:!0});O1.Checkboard=void 0;var dP=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},iG=Sr,hP=oG(iG),bMe=js,xMe=oG(bMe),wMe=ew,MMe=SMe(wMe);function SMe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function oG(e){return e&&e.__esModule?e:{default:e}}var aG=O1.Checkboard=function(n){var t=n.white,r=n.grey,i=n.size,o=n.renderers,s=n.borderRadius,a=n.boxShadow,h=n.children,g=(0,xMe.default)({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+MMe.get(t,r,i,o.canvas)+") center left"}}});return(0,iG.isValidElement)(h)?hP.default.cloneElement(h,dP({},h.props,{style:dP({},h.props.style,g.grid)})):hP.default.createElement("div",{style:g.grid})};aG.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};O1.default=aG;Object.defineProperty(fb,"__esModule",{value:!0});fb.Alpha=void 0;var EMe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},OMe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),oO=Sr,im=Y8(oO),BMe=js,kMe=Y8(BMe),IMe=$8,TMe=FMe(IMe),KMe=O1,PMe=Y8(KMe);function FMe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function Y8(e){return e&&e.__esModule?e:{default:e}}function DMe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fP(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function LMe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var UMe=fb.Alpha=function(e){LMe(n,e);function n(){var t,r,i,o;DMe(this,n);for(var s=arguments.length,a=Array(s),h=0;h<s;h++)a[h]=arguments[h];return o=(r=(i=fP(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),i),i.handleChange=function(g){var C=TMe.calculateChange(g,i.props.hsl,i.props.direction,i.props.a,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),fP(i,o)}return OMe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,kMe.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:EMe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return im.default.createElement("div",{style:o.alpha},im.default.createElement("div",{style:o.checkboard},im.default.createElement(PMe.default,{renderers:this.props.renderers})),im.default.createElement("div",{style:o.gradient}),im.default.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},im.default.createElement("div",{style:o.pointer},this.props.pointer?im.default.createElement(this.props.pointer,this.props):im.default.createElement("div",{style:o.slider}))))}}]),n}(oO.PureComponent||oO.Component);fb.default=UMe;var pb={};Object.defineProperty(pb,"__esModule",{value:!0});pb.EditableInput=void 0;var RMe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),aO=Sr,lS=sG(aO),zMe=js,jMe=sG(zMe);function sG(e){return e&&e.__esModule?e:{default:e}}function WMe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function NMe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GMe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function QMe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var $Me=1,lG=38,YMe=40,qMe=[lG,YMe],VMe=function(n){return qMe.indexOf(n)>-1},HMe=function(n){return Number(String(n).replace(/%/g,""))},ZMe=1,XMe=pb.EditableInput=function(e){QMe(n,e);function n(t){NMe(this,n);var r=GMe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=HMe(i.target.value);if(!isNaN(o)&&VMe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===lG?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+ZMe++,r}return RMe(n,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return WMe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||$Me}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,jMe.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return lS.default.createElement("div",{style:i.wrap},lS.default.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?lS.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),n}(aO.PureComponent||aO.Component);pb.default=XMe;var mb={},q8={};Object.defineProperty(q8,"__esModule",{value:!0});q8.calculateChange=function(n,t,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,h=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,g=a-(i.getBoundingClientRect().left+window.pageXOffset),C=h-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var B=void 0;if(C<0)B=359;else if(C>s)B=0;else{var k=-(C*100/s)+100;B=360*k/100}if(r.h!==B)return{h:B,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var P=void 0;if(g<0)P=0;else if(g>o)P=359;else{var U=g*100/o;P=360*U/100}if(r.h!==P)return{h:P,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(mb,"__esModule",{value:!0});mb.Hue=void 0;var JMe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),sO=Sr,gg=uG(sO),eSe=js,tSe=uG(eSe),nSe=q8,rSe=iSe(nSe);function iSe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function uG(e){return e&&e.__esModule?e:{default:e}}function oSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pP(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function aSe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var sSe=mb.Hue=function(e){aSe(n,e);function n(){var t,r,i,o;oSe(this,n);for(var s=arguments.length,a=Array(s),h=0;h<s;h++)a[h]=arguments[h];return o=(r=(i=pP(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),i),i.handleChange=function(g){var C=rSe.calculateChange(g,i.props.direction,i.props.hsl,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),pP(i,o)}return JMe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=(0,tSe.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return gg.default.createElement("div",{style:s.hue},gg.default.createElement("div",{className:"hue-"+o,style:s.container,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},gg.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),gg.default.createElement("div",{style:s.pointer},this.props.pointer?gg.default.createElement(this.props.pointer,this.props):gg.default.createElement("div",{style:s.slider}))))}}]),n}(sO.PureComponent||sO.Component);mb.default=sSe;var gb={};Object.defineProperty(gb,"__esModule",{value:!0});gb.Raised=void 0;var lSe=Sr,uS=tw(lSe),uSe=hh,Hx=tw(uSe),ASe=js,cSe=tw(ASe),dSe=rG,hSe=tw(dSe);function tw(e){return e&&e.__esModule?e:{default:e}}var V8=gb.Raised=function(n){var t=n.zDepth,r=n.radius,i=n.background,o=n.children,s=n.styles,a=s===void 0?{}:s,h=(0,cSe.default)((0,hSe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return uS.default.createElement("div",{style:h.wrap},uS.default.createElement("div",{style:h.bg}),uS.default.createElement("div",{style:h.content},o))};V8.propTypes={background:Hx.default.string,zDepth:Hx.default.oneOf([0,1,2,3,4,5]),radius:Hx.default.number,styles:Hx.default.object};V8.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};gb.default=V8;var yb={},fSe=ph,pSe=function(){return fSe.Date.now()},mSe=pSe,gSe=/\s/;function ySe(e){for(var n=e.length;n--&&gSe.test(e.charAt(n)););return n}var vSe=ySe,_Se=vSe,CSe=/^\s+/;function bSe(e){return e&&e.slice(0,_Se(e)+1).replace(CSe,"")}var xSe=bSe,wSe=xSe,mP=Ed,MSe=Z5,gP=NaN,SSe=/^[-+]0x[0-9a-f]+$/i,ESe=/^0b[01]+$/i,OSe=/^0o[0-7]+$/i,BSe=parseInt;function kSe(e){if(typeof e=="number")return e;if(MSe(e))return gP;if(mP(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=mP(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=wSe(e);var t=ESe.test(e);return t||OSe.test(e)?BSe(e.slice(2),t?2:8):SSe.test(e)?gP:+e}var ISe=kSe,TSe=Ed,AS=mSe,yP=ISe,KSe="Expected a function",PSe=Math.max,FSe=Math.min;function DSe(e,n,t){var r,i,o,s,a,h,g=0,C=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(KSe);n=yP(n)||0,TSe(t)&&(C=!!t.leading,B="maxWait"in t,o=B?PSe(yP(t.maxWait)||0,n):o,k="trailing"in t?!!t.trailing:k);function P(ae){var se=r,ye=i;return r=i=void 0,g=ae,s=e.apply(ye,se),s}function U(ae){return g=ae,a=setTimeout(Q,n),C?P(ae):s}function Z(ae){var se=ae-h,ye=ae-g,De=n-se;return B?FSe(De,o-ye):De}function W(ae){var se=ae-h,ye=ae-g;return h===void 0||se>=n||se<0||B&&ye>=o}function Q(){var ae=AS();if(W(ae))return q(ae);a=setTimeout(Q,Z(ae))}function q(ae){return a=void 0,k&&r?P(ae):(r=i=void 0,s)}function oe(){a!==void 0&&clearTimeout(a),g=0,r=h=i=a=void 0}function re(){return a===void 0?s:q(AS())}function Ae(){var ae=AS(),se=W(ae);if(r=arguments,i=this,h=ae,se){if(a===void 0)return U(h);if(B)return clearTimeout(a),a=setTimeout(Q,n),P(h)}return a===void 0&&(a=setTimeout(Q,n)),s}return Ae.cancel=oe,Ae.flush=re,Ae}var AG=DSe,LSe=AG,USe=Ed,RSe="Expected a function";function zSe(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(RSe);return USe(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),LSe(e,n,{leading:r,maxWait:n,trailing:i})}var jSe=zSe,H8={};Object.defineProperty(H8,"__esModule",{value:!0});H8.calculateChange=function(n,t,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,h=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,g=a-(r.getBoundingClientRect().left+window.pageXOffset),C=h-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>o&&(g=o),C<0?C=0:C>s&&(C=s);var B=g/o,k=1-C/s;return{h:t.h,s:B,v:k,a:t.a,source:"hsv"}};Object.defineProperty(yb,"__esModule",{value:!0});yb.Saturation=void 0;var WSe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),lO=Sr,w0=Z8(lO),NSe=js,GSe=Z8(NSe),QSe=jSe,$Se=Z8(QSe),YSe=H8,qSe=VSe(YSe);function VSe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function Z8(e){return e&&e.__esModule?e:{default:e}}function HSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ZSe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function XSe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var JSe=yb.Saturation=function(e){XSe(n,e);function n(t){HSe(this,n);var r=ZSe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,qSe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,$Se.default)(function(i,o,s){i(o,s)},50),r}return WSe(n,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,h=i.pointer,g=i.circle,C=(0,GSe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:h,circle:g}},{custom:!!this.props.style});return w0.default.createElement("div",{style:C.color,ref:function(k){return r.container=k},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w0.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),w0.default.createElement("div",{style:C.white,className:"saturation-white"},w0.default.createElement("div",{style:C.black,className:"saturation-black"}),w0.default.createElement("div",{style:C.pointer},this.props.pointer?w0.default.createElement(this.props.pointer,this.props):w0.default.createElement("div",{style:C.circle}))))}}]),n}(lO.PureComponent||lO.Component);yb.default=JSe;var vb={},gA={},e6e=jN,t6e=zN,n6e=_N,r6e=jc;function i6e(e,n){var t=r6e(e)?e6e:t6e;return t(e,n6e(n))}var o6e=i6e,a6e=o6e,cG={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(ch,function(){function t(Me){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},t(Me)}var r=/^\s+/,i=/\s+$/;function o(Me,he){if(Me=Me||"",he=he||{},Me instanceof o)return Me;if(!(this instanceof o))return new o(Me,he);var be=s(Me);this._originalInput=Me,this._r=be.r,this._g=be.g,this._b=be.b,this._a=be.a,this._roundA=Math.round(100*this._a)/100,this._format=he.format||be.format,this._gradientType=he.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=be.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var he=this.toRgb();return(he.r*299+he.g*587+he.b*114)/1e3},getLuminance:function(){var he=this.toRgb(),be,Pe,Ze,nt,xt,Ft;return be=he.r/255,Pe=he.g/255,Ze=he.b/255,be<=.03928?nt=be/12.92:nt=Math.pow((be+.055)/1.055,2.4),Pe<=.03928?xt=Pe/12.92:xt=Math.pow((Pe+.055)/1.055,2.4),Ze<=.03928?Ft=Ze/12.92:Ft=Math.pow((Ze+.055)/1.055,2.4),.2126*nt+.7152*xt+.0722*Ft},setAlpha:function(he){return this._a=rt(he),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var he=C(this._r,this._g,this._b);return{h:he.h*360,s:he.s,v:he.v,a:this._a}},toHsvString:function(){var he=C(this._r,this._g,this._b),be=Math.round(he.h*360),Pe=Math.round(he.s*100),Ze=Math.round(he.v*100);return this._a==1?"hsv("+be+", "+Pe+"%, "+Ze+"%)":"hsva("+be+", "+Pe+"%, "+Ze+"%, "+this._roundA+")"},toHsl:function(){var he=h(this._r,this._g,this._b);return{h:he.h*360,s:he.s,l:he.l,a:this._a}},toHslString:function(){var he=h(this._r,this._g,this._b),be=Math.round(he.h*360),Pe=Math.round(he.s*100),Ze=Math.round(he.l*100);return this._a==1?"hsl("+be+", "+Pe+"%, "+Ze+"%)":"hsla("+be+", "+Pe+"%, "+Ze+"%, "+this._roundA+")"},toHex:function(he){return k(this._r,this._g,this._b,he)},toHexString:function(he){return"#"+this.toHex(he)},toHex8:function(he){return P(this._r,this._g,this._b,this._a,he)},toHex8String:function(he){return"#"+this.toHex8(he)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(_e(this._r,255)*100)+"%",g:Math.round(_e(this._g,255)*100)+"%",b:Math.round(_e(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(_e(this._r,255)*100)+"%, "+Math.round(_e(this._g,255)*100)+"%, "+Math.round(_e(this._b,255)*100)+"%)":"rgba("+Math.round(_e(this._r,255)*100)+"%, "+Math.round(_e(this._g,255)*100)+"%, "+Math.round(_e(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ft[k(this._r,this._g,this._b,!0)]||!1},toFilter:function(he){var be="#"+U(this._r,this._g,this._b,this._a),Pe=be,Ze=this._gradientType?"GradientType = 1, ":"";if(he){var nt=o(he);Pe="#"+U(nt._r,nt._g,nt._b,nt._a)}return"progid:DXImageTransform.Microsoft.gradient("+Ze+"startColorstr="+be+",endColorstr="+Pe+")"},toString:function(he){var be=!!he;he=he||this._format;var Pe=!1,Ze=this._a<1&&this._a>=0,nt=!be&&Ze&&(he==="hex"||he==="hex6"||he==="hex3"||he==="hex4"||he==="hex8"||he==="name");return nt?he==="name"&&this._a===0?this.toName():this.toRgbString():(he==="rgb"&&(Pe=this.toRgbString()),he==="prgb"&&(Pe=this.toPercentageRgbString()),(he==="hex"||he==="hex6")&&(Pe=this.toHexString()),he==="hex3"&&(Pe=this.toHexString(!0)),he==="hex4"&&(Pe=this.toHex8String(!0)),he==="hex8"&&(Pe=this.toHex8String()),he==="name"&&(Pe=this.toName()),he==="hsl"&&(Pe=this.toHslString()),he==="hsv"&&(Pe=this.toHsvString()),Pe||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(he,be){var Pe=he.apply(null,[this].concat([].slice.call(be)));return this._r=Pe._r,this._g=Pe._g,this._b=Pe._b,this.setAlpha(Pe._a),this},lighten:function(){return this._applyModification(q,arguments)},brighten:function(){return this._applyModification(oe,arguments)},darken:function(){return this._applyModification(re,arguments)},desaturate:function(){return this._applyModification(Z,arguments)},saturate:function(){return this._applyModification(W,arguments)},greyscale:function(){return this._applyModification(Q,arguments)},spin:function(){return this._applyModification(Ae,arguments)},_applyCombination:function(he,be){return he.apply(null,[this].concat([].slice.call(be)))},analogous:function(){return this._applyCombination(De,arguments)},complement:function(){return this._applyCombination(ae,arguments)},monochromatic:function(){return this._applyCombination(Ne,arguments)},splitcomplement:function(){return this._applyCombination(ye,arguments)},triad:function(){return this._applyCombination(se,[3])},tetrad:function(){return this._applyCombination(se,[4])}},o.fromRatio=function(Me,he){if(t(Me)=="object"){var be={};for(var Pe in Me)Me.hasOwnProperty(Pe)&&(Pe==="a"?be[Pe]=Me[Pe]:be[Pe]=Je(Me[Pe]));Me=be}return o(Me,he)};function s(Me){var he={r:0,g:0,b:0},be=1,Pe=null,Ze=null,nt=null,xt=!1,Ft=!1;return typeof Me=="string"&&(Me=kt(Me)),t(Me)=="object"&&(dt(Me.r)&&dt(Me.g)&&dt(Me.b)?(he=a(Me.r,Me.g,Me.b),xt=!0,Ft=String(Me.r).substr(-1)==="%"?"prgb":"rgb"):dt(Me.h)&&dt(Me.s)&&dt(Me.v)?(Pe=Je(Me.s),Ze=Je(Me.v),he=B(Me.h,Pe,Ze),xt=!0,Ft="hsv"):dt(Me.h)&&dt(Me.s)&&dt(Me.l)&&(Pe=Je(Me.s),nt=Je(Me.l),he=g(Me.h,Pe,nt),xt=!0,Ft="hsl"),Me.hasOwnProperty("a")&&(be=Me.a)),be=rt(be),{ok:xt,format:Me.format||Ft,r:Math.min(255,Math.max(he.r,0)),g:Math.min(255,Math.max(he.g,0)),b:Math.min(255,Math.max(he.b,0)),a:be}}function a(Me,he,be){return{r:_e(Me,255)*255,g:_e(he,255)*255,b:_e(be,255)*255}}function h(Me,he,be){Me=_e(Me,255),he=_e(he,255),be=_e(be,255);var Pe=Math.max(Me,he,be),Ze=Math.min(Me,he,be),nt,xt,Ft=(Pe+Ze)/2;if(Pe==Ze)nt=xt=0;else{var Dt=Pe-Ze;switch(xt=Ft>.5?Dt/(2-Pe-Ze):Dt/(Pe+Ze),Pe){case Me:nt=(he-be)/Dt+(he<be?6:0);break;case he:nt=(be-Me)/Dt+2;break;case be:nt=(Me-he)/Dt+4;break}nt/=6}return{h:nt,s:xt,l:Ft}}function g(Me,he,be){var Pe,Ze,nt;Me=_e(Me,360),he=_e(he,100),be=_e(be,100);function xt(pt,nr,pn){return pn<0&&(pn+=1),pn>1&&(pn-=1),pn<1/6?pt+(nr-pt)*6*pn:pn<1/2?nr:pn<2/3?pt+(nr-pt)*(2/3-pn)*6:pt}if(he===0)Pe=Ze=nt=be;else{var Ft=be<.5?be*(1+he):be+he-be*he,Dt=2*be-Ft;Pe=xt(Dt,Ft,Me+1/3),Ze=xt(Dt,Ft,Me),nt=xt(Dt,Ft,Me-1/3)}return{r:Pe*255,g:Ze*255,b:nt*255}}function C(Me,he,be){Me=_e(Me,255),he=_e(he,255),be=_e(be,255);var Pe=Math.max(Me,he,be),Ze=Math.min(Me,he,be),nt,xt,Ft=Pe,Dt=Pe-Ze;if(xt=Pe===0?0:Dt/Pe,Pe==Ze)nt=0;else{switch(Pe){case Me:nt=(he-be)/Dt+(he<be?6:0);break;case he:nt=(be-Me)/Dt+2;break;case be:nt=(Me-he)/Dt+4;break}nt/=6}return{h:nt,s:xt,v:Ft}}function B(Me,he,be){Me=_e(Me,360)*6,he=_e(he,100),be=_e(be,100);var Pe=Math.floor(Me),Ze=Me-Pe,nt=be*(1-he),xt=be*(1-Ze*he),Ft=be*(1-(1-Ze)*he),Dt=Pe%6,pt=[be,xt,nt,nt,Ft,be][Dt],nr=[Ft,be,be,xt,nt,nt][Dt],pn=[nt,nt,Ft,be,be,xt][Dt];return{r:pt*255,g:nr*255,b:pn*255}}function k(Me,he,be,Pe){var Ze=[He(Math.round(Me).toString(16)),He(Math.round(he).toString(16)),He(Math.round(be).toString(16))];return Pe&&Ze[0].charAt(0)==Ze[0].charAt(1)&&Ze[1].charAt(0)==Ze[1].charAt(1)&&Ze[2].charAt(0)==Ze[2].charAt(1)?Ze[0].charAt(0)+Ze[1].charAt(0)+Ze[2].charAt(0):Ze.join("")}function P(Me,he,be,Pe,Ze){var nt=[He(Math.round(Me).toString(16)),He(Math.round(he).toString(16)),He(Math.round(be).toString(16)),He(tt(Pe))];return Ze&&nt[0].charAt(0)==nt[0].charAt(1)&&nt[1].charAt(0)==nt[1].charAt(1)&&nt[2].charAt(0)==nt[2].charAt(1)&&nt[3].charAt(0)==nt[3].charAt(1)?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0)+nt[3].charAt(0):nt.join("")}function U(Me,he,be,Pe){var Ze=[He(tt(Pe)),He(Math.round(Me).toString(16)),He(Math.round(he).toString(16)),He(Math.round(be).toString(16))];return Ze.join("")}o.equals=function(Me,he){return!Me||!he?!1:o(Me).toRgbString()==o(he).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Z(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.s-=he/100,be.s=Ut(be.s),o(be)}function W(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.s+=he/100,be.s=Ut(be.s),o(be)}function Q(Me){return o(Me).desaturate(100)}function q(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.l+=he/100,be.l=Ut(be.l),o(be)}function oe(Me,he){he=he===0?0:he||10;var be=o(Me).toRgb();return be.r=Math.max(0,Math.min(255,be.r-Math.round(255*-(he/100)))),be.g=Math.max(0,Math.min(255,be.g-Math.round(255*-(he/100)))),be.b=Math.max(0,Math.min(255,be.b-Math.round(255*-(he/100)))),o(be)}function re(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.l-=he/100,be.l=Ut(be.l),o(be)}function Ae(Me,he){var be=o(Me).toHsl(),Pe=(be.h+he)%360;return be.h=Pe<0?360+Pe:Pe,o(be)}function ae(Me){var he=o(Me).toHsl();return he.h=(he.h+180)%360,o(he)}function se(Me,he){if(isNaN(he)||he<=0)throw new Error("Argument to polyad must be a positive number");for(var be=o(Me).toHsl(),Pe=[o(Me)],Ze=360/he,nt=1;nt<he;nt++)Pe.push(o({h:(be.h+nt*Ze)%360,s:be.s,l:be.l}));return Pe}function ye(Me){var he=o(Me).toHsl(),be=he.h;return[o(Me),o({h:(be+72)%360,s:he.s,l:he.l}),o({h:(be+216)%360,s:he.s,l:he.l})]}function De(Me,he,be){he=he||6,be=be||30;var Pe=o(Me).toHsl(),Ze=360/be,nt=[o(Me)];for(Pe.h=(Pe.h-(Ze*he>>1)+720)%360;--he;)Pe.h=(Pe.h+Ze)%360,nt.push(o(Pe));return nt}function Ne(Me,he){he=he||6;for(var be=o(Me).toHsv(),Pe=be.h,Ze=be.s,nt=be.v,xt=[],Ft=1/he;he--;)xt.push(o({h:Pe,s:Ze,v:nt})),nt=(nt+Ft)%1;return xt}o.mix=function(Me,he,be){be=be===0?0:be||50;var Pe=o(Me).toRgb(),Ze=o(he).toRgb(),nt=be/100,xt={r:(Ze.r-Pe.r)*nt+Pe.r,g:(Ze.g-Pe.g)*nt+Pe.g,b:(Ze.b-Pe.b)*nt+Pe.b,a:(Ze.a-Pe.a)*nt+Pe.a};return o(xt)},o.readability=function(Me,he){var be=o(Me),Pe=o(he);return(Math.max(be.getLuminance(),Pe.getLuminance())+.05)/(Math.min(be.getLuminance(),Pe.getLuminance())+.05)},o.isReadable=function(Me,he,be){var Pe=o.readability(Me,he),Ze,nt;switch(nt=!1,Ze=Pt(be),Ze.level+Ze.size){case"AAsmall":case"AAAlarge":nt=Pe>=4.5;break;case"AAlarge":nt=Pe>=3;break;case"AAAsmall":nt=Pe>=7;break}return nt},o.mostReadable=function(Me,he,be){var Pe=null,Ze=0,nt,xt,Ft,Dt;be=be||{},xt=be.includeFallbackColors,Ft=be.level,Dt=be.size;for(var pt=0;pt<he.length;pt++)nt=o.readability(Me,he[pt]),nt>Ze&&(Ze=nt,Pe=o(he[pt]));return o.isReadable(Me,Pe,{level:Ft,size:Dt})||!xt?Pe:(be.includeFallbackColors=!1,o.mostReadable(Me,["#fff","#000"],be))};var et=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ft=o.hexNames=Ke(et);function Ke(Me){var he={};for(var be in Me)Me.hasOwnProperty(be)&&(he[Me[be]]=be);return he}function rt(Me){return Me=parseFloat(Me),(isNaN(Me)||Me<0||Me>1)&&(Me=1),Me}function _e(Me,he){nn(Me)&&(Me="100%");var be=Qt(Me);return Me=Math.min(he,Math.max(0,parseFloat(Me))),be&&(Me=parseInt(Me*he,10)/100),Math.abs(Me-he)<1e-6?1:Me%he/parseFloat(he)}function Ut(Me){return Math.min(1,Math.max(0,Me))}function jt(Me){return parseInt(Me,16)}function nn(Me){return typeof Me=="string"&&Me.indexOf(".")!=-1&&parseFloat(Me)===1}function Qt(Me){return typeof Me=="string"&&Me.indexOf("%")!=-1}function He(Me){return Me.length==1?"0"+Me:""+Me}function Je(Me){return Me<=1&&(Me=Me*100+"%"),Me}function tt(Me){return Math.round(parseFloat(Me)*255).toString(16)}function on(Me){return jt(Me)/255}var mt=function(){var Me="[-\\+]?\\d+%?",he="[-\\+]?\\d*\\.\\d+%?",be="(?:"+he+")|(?:"+Me+")",Pe="[\\s|\\(]+("+be+")[,|\\s]+("+be+")[,|\\s]+("+be+")\\s*\\)?",Ze="[\\s|\\(]+("+be+")[,|\\s]+("+be+")[,|\\s]+("+be+")[,|\\s]+("+be+")\\s*\\)?";return{CSS_UNIT:new RegExp(be),rgb:new RegExp("rgb"+Pe),rgba:new RegExp("rgba"+Ze),hsl:new RegExp("hsl"+Pe),hsla:new RegExp("hsla"+Ze),hsv:new RegExp("hsv"+Pe),hsva:new RegExp("hsva"+Ze),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function dt(Me){return!!mt.CSS_UNIT.exec(Me)}function kt(Me){Me=Me.replace(r,"").replace(i,"").toLowerCase();var he=!1;if(et[Me])Me=et[Me],he=!0;else if(Me=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var be;return(be=mt.rgb.exec(Me))?{r:be[1],g:be[2],b:be[3]}:(be=mt.rgba.exec(Me))?{r:be[1],g:be[2],b:be[3],a:be[4]}:(be=mt.hsl.exec(Me))?{h:be[1],s:be[2],l:be[3]}:(be=mt.hsla.exec(Me))?{h:be[1],s:be[2],l:be[3],a:be[4]}:(be=mt.hsv.exec(Me))?{h:be[1],s:be[2],v:be[3]}:(be=mt.hsva.exec(Me))?{h:be[1],s:be[2],v:be[3],a:be[4]}:(be=mt.hex8.exec(Me))?{r:jt(be[1]),g:jt(be[2]),b:jt(be[3]),a:on(be[4]),format:he?"name":"hex8"}:(be=mt.hex6.exec(Me))?{r:jt(be[1]),g:jt(be[2]),b:jt(be[3]),format:he?"name":"hex"}:(be=mt.hex4.exec(Me))?{r:jt(be[1]+""+be[1]),g:jt(be[2]+""+be[2]),b:jt(be[3]+""+be[3]),a:on(be[4]+""+be[4]),format:he?"name":"hex8"}:(be=mt.hex3.exec(Me))?{r:jt(be[1]+""+be[1]),g:jt(be[2]+""+be[2]),b:jt(be[3]+""+be[3]),format:he?"name":"hex"}:!1}function Pt(Me){var he,be;return Me=Me||{level:"AA",size:"small"},he=(Me.level||"AA").toUpperCase(),be=(Me.size||"small").toLowerCase(),he!=="AA"&&he!=="AAA"&&(he="AA"),be!=="small"&&be!=="large"&&(be="small"),{level:he,size:be}}return o})})(cG);var s6e=cG.exports;Object.defineProperty(gA,"__esModule",{value:!0});gA.isvalidColorString=gA.red=gA.getContrastingColor=gA.isValidHex=gA.toState=gA.simpleCheckForValidColor=void 0;var l6e=a6e,u6e=dG(l6e),A6e=s6e,A4=dG(A6e);function dG(e){return e&&e.__esModule?e:{default:e}}gA.simpleCheckForValidColor=function(n){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,u6e.default)(t,function(o){if(n[o]&&(r+=1,isNaN(n[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(n[o])&&(i+=1)}}),r===i?n:!1};var c6e=gA.toState=function(n,t){var r=n.hex?(0,A4.default)(n.hex):(0,A4.default)(n),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,o.h=t||0);var h=a==="000000"&&s.a===0;return{hsl:i,hex:h?"transparent":"#"+a,rgb:s,hsv:o,oldHue:n.h||t||i.h,source:n.source}};gA.isValidHex=function(n){if(n==="transparent")return!0;var t=String(n).charAt(0)==="#"?1:0;return n.length!==4+t&&n.length<7+t&&(0,A4.default)(n).isValid()};gA.getContrastingColor=function(n){if(!n)return"#fff";var t=c6e(n);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};gA.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};gA.isvalidColorString=function(n,t){var r=n.replace("","");return(0,A4.default)(t+" ("+r+")")._ok};Object.defineProperty(vb,"__esModule",{value:!0});vb.ColorWrap=void 0;var Jv=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d6e=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),uO=Sr,h6e=hG(uO),f6e=AG,p6e=hG(f6e),m6e=gA,yg=g6e(m6e);function g6e(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function hG(e){return e&&e.__esModule?e:{default:e}}function y6e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function v6e(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function _6e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var C6e=vb.ColorWrap=function(n){var t=function(r){_6e(i,r);function i(o){y6e(this,i);var s=v6e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,h){var g=yg.simpleCheckForValidColor(a);if(g){var C=yg.toState(a,a.h||s.state.oldHue);s.setState(C),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,C,h),s.props.onChange&&s.props.onChange(C,h)}},s.handleSwatchHover=function(a,h){var g=yg.simpleCheckForValidColor(a);if(g){var C=yg.toState(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(C,h)}},s.state=Jv({},yg.toState(o.color,0)),s.debounce=(0,p6e.default)(function(a,h,g){a(h,g)},100),s}return d6e(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),h6e.default.createElement(n,Jv({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Jv({},yg.toState(s.color,a.oldHue))}}]),i}(uO.PureComponent||uO.Component);return t.propTypes=Jv({},n.propTypes),t.defaultProps=Jv({},n.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};vb.default=C6e;var _b={},nw={};Object.defineProperty(nw,"__esModule",{value:!0});nw.handleFocus=void 0;var b6e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},x6e=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),w6e=Sr,cS=M6e(w6e);function M6e(e){return e&&e.__esModule?e:{default:e}}function S6e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vP(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function E6e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}nw.handleFocus=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){E6e(i,r);function i(){var o,s,a,h;S6e(this,i);for(var g=arguments.length,C=Array(g),B=0;B<g;B++)C[B]=arguments[B];return h=(s=(a=vP(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),vP(a,h)}return x6e(i,[{key:"render",value:function(){return cS.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},cS.default.createElement(n,b6e({},this.props,this.state)))}}]),i}(cS.default.Component)};Object.defineProperty(_b,"__esModule",{value:!0});_b.Swatch=void 0;var _P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O6e=Sr,CP=X8(O6e),B6e=js,k6e=X8(B6e),I6e=nw,T6e=O1,K6e=X8(T6e);function X8(e){return e&&e.__esModule?e:{default:e}}var P6e=13,F6e=_b.Swatch=function(n){var t=n.color,r=n.style,i=n.onClick,o=i===void 0?function(){}:i,s=n.onHover,a=n.title,h=a===void 0?t:a,g=n.children,C=n.focus,B=n.focusStyle,k=B===void 0?{}:B,P=t==="transparent",U=(0,k6e.default)({default:{swatch:_P({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,C?k:{})}}),Z=function(re){return o(t,re)},W=function(re){return re.keyCode===P6e&&o(t,re)},Q=function(re){return s(t,re)},q={};return s&&(q.onMouseOver=Q),CP.default.createElement("div",_P({style:U.swatch,onClick:Z,title:h,tabIndex:0,onKeyDown:W},q),g,P&&CP.default.createElement(K6e.default,{borderRadius:U.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};_b.default=(0,I6e.handleFocus)(F6e);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=fb;Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return g(n).default}});var t=O1;Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return g(t).default}});var r=pb;Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return g(r).default}});var i=mb;Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return g(i).default}});var o=gb;Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return g(o).default}});var s=yb;Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return g(s).default}});var a=vb;Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return g(a).default}});var h=_b;Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return g(h).default}});function g(C){return C&&C.__esModule?C:{default:C}}})(Q8);var Cb={};function D6e(e){return e===void 0}var L6e=D6e,J8={};Object.defineProperty(J8,"__esModule",{value:!0});var bP=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U6e=Sr,xP=R6e(U6e);function R6e(e){return e&&e.__esModule?e:{default:e}}function z6e(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Zx=24;J8.default=function(e){var n=e.fill,t=n===void 0?"currentColor":n,r=e.width,i=r===void 0?Zx:r,o=e.height,s=o===void 0?Zx:o,a=e.style,h=a===void 0?{}:a,g=z6e(e,["fill","width","height","style"]);return xP.default.createElement("svg",bP({viewBox:"0 0 "+Zx+" "+Zx,style:bP({fill:t,width:i,height:s},h)},g),xP.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(Cb,"__esModule",{value:!0});Cb.ChromeFields=void 0;var j6e=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),W6e=Sr,ja=rw(W6e),N6e=js,G6e=rw(N6e),Q6e=gA,$6e=H6e(Q6e),Y6e=L6e,wP=rw(Y6e),rp=Q8,q6e=J8,V6e=rw(q6e);function H6e(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function rw(e){return e&&e.__esModule?e:{default:e}}function Z6e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function X6e(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function J6e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var fG=Cb.ChromeFields=function(e){J6e(n,e);function n(t){Z6e(this,n);var r=X6e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?$6e.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,wP.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,wP.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return j6e(n,[{key:"render",value:function(){var r=this,i=(0,G6e.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=ja.default.createElement("div",{style:i.fields,className:"flexbox-fix"},ja.default.createElement("div",{style:i.field},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=ja.default.createElement("div",{style:i.fields,className:"flexbox-fix"},ja.default.createElement("div",{style:i.field},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),ja.default.createElement("div",{style:i.field},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),ja.default.createElement("div",{style:i.field},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),ja.default.createElement("div",{style:i.alpha},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=ja.default.createElement("div",{style:i.fields,className:"flexbox-fix"},ja.default.createElement("div",{style:i.field},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),ja.default.createElement("div",{style:i.field},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),ja.default.createElement("div",{style:i.field},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),ja.default.createElement("div",{style:i.alpha},ja.default.createElement(rp.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),ja.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,ja.default.createElement("div",{style:i.toggle},ja.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},ja.default.createElement(V6e.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),n}(ja.default.Component);fG.defaultProps={view:"hex"};Cb.default=fG;var bb={};Object.defineProperty(bb,"__esModule",{value:!0});bb.ChromePointer=void 0;var eEe=Sr,tEe=pG(eEe),nEe=js,rEe=pG(nEe);function pG(e){return e&&e.__esModule?e:{default:e}}var iEe=bb.ChromePointer=function(){var n=(0,rEe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return tEe.default.createElement("div",{style:n.picker})};bb.default=iEe;var xb={};Object.defineProperty(xb,"__esModule",{value:!0});xb.ChromePointerCircle=void 0;var oEe=Sr,aEe=mG(oEe),sEe=js,lEe=mG(sEe);function mG(e){return e&&e.__esModule?e:{default:e}}var uEe=xb.ChromePointerCircle=function(){var n=(0,lEe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return aEe.default.createElement("div",{style:n.picker})};xb.default=uEe;Object.defineProperty(W5,"__esModule",{value:!0});W5.Chrome=void 0;var AEe=Sr,mA=B1(AEe),cEe=hh,vg=B1(cEe),dEe=js,hEe=B1(dEe),fEe=rG,pEe=B1(fEe),y_=Q8,mEe=Cb,gEe=B1(mEe),yEe=bb,MP=B1(yEe),vEe=xb,_Ee=B1(vEe);function B1(e){return e&&e.__esModule?e:{default:e}}var ek=W5.Chrome=function(n){var t=n.width,r=n.onChange,i=n.disableAlpha,o=n.rgb,s=n.hsl,a=n.hsv,h=n.hex,g=n.renderers,C=n.styles,B=C===void 0?{}:C,k=n.className,P=k===void 0?"":k,U=n.defaultView,Z=(0,hEe.default)((0,pEe.default)({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},B),{disableAlpha:i});return mA.default.createElement("div",{style:Z.picker,className:"chrome-picker "+P},mA.default.createElement("div",{style:Z.saturation},mA.default.createElement(y_.Saturation,{style:Z.Saturation,hsl:s,hsv:a,pointer:_Ee.default,onChange:r})),mA.default.createElement("div",{style:Z.body},mA.default.createElement("div",{style:Z.controls,className:"flexbox-fix"},mA.default.createElement("div",{style:Z.color},mA.default.createElement("div",{style:Z.swatch},mA.default.createElement("div",{style:Z.active}),mA.default.createElement(y_.Checkboard,{renderers:g}))),mA.default.createElement("div",{style:Z.toggles},mA.default.createElement("div",{style:Z.hue},mA.default.createElement(y_.Hue,{style:Z.Hue,hsl:s,pointer:MP.default,onChange:r})),mA.default.createElement("div",{style:Z.alpha},mA.default.createElement(y_.Alpha,{style:Z.Alpha,rgb:o,hsl:s,pointer:MP.default,renderers:g,onChange:r})))),mA.default.createElement(gEe.default,{rgb:o,hsl:s,hex:h,view:U,onChange:r,disableAlpha:i})))};ek.propTypes={width:vg.default.oneOfType([vg.default.string,vg.default.number]),disableAlpha:vg.default.bool,styles:vg.default.object,defaultView:vg.default.oneOf(["hex","rgb","hsl"])};ek.defaultProps={width:225,disableAlpha:!1,styles:{}};var CEe=W5.default=(0,y_.ColorWrap)(ek);function ci(){var e="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",n="cb6d03ea084207ffce2f89af246bc26074c13af7",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cb6d03ea084207ffce2f89af246bc26074c13af7"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ci=function(){return s},s}ci();function bEe(e){ci().f[0]++;const n=(ci().s[0]++,e.rgb);return ci().s[1]++,`rgba(${n.r}, ${n.g}, ${n.b}, ${n.a})`}class gG extends xn.Component{constructor(t){ci().f[1]++,ci().s[4]++;super(t);rn(this,"state",(ci().s[2]++,{pickerOpened:!1}));rn(this,"colorInput",(ci().s[3]++,null));rn(this,"calcPickerOffset",(ci().s[7]++,()=>{ci().f[3]++;const t=(ci().s[8]++,this.colorInput);if(ci().s[9]++,t){ci().b[0][0]++;const r=(ci().s[10]++,t.getBoundingClientRect());return ci().s[11]++,{top:r.top,left:r.left+196}}else return ci().b[0][1]++,ci().s[12]++,{top:160,left:555}}));rn(this,"togglePicker",(ci().s[13]++,()=>{ci().f[4]++,ci().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));ci().s[5]++,this.onChangeNoCheck=x6.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(t){ci().f[2]++,ci().s[6]++,this.props.onChange(t)}get color(){ci().f[5]++,ci().s[15]++;try{return ci().s[16]++,G6(this.props.value).rgb()}catch(t){return ci().s[17]++,console.warn("Error parsing color: ",t),ci().s[18]++,G6("rgb(255,255,255)")}}onChange(t){ci().f[6]++,ci().s[19]++,this.props.onChange(t===""?(ci().b[1][0]++,void 0):(ci().b[1][1]++,t))}render(){ci().f[7]++;const t=(ci().s[20]++,this.calcPickerOffset()),r=(ci().s[21]++,this.color.object()),i=(ci().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(ci().s[23]++,N.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:t.left,top:t.top},children:[N.jsx(CEe,{color:i,onChange:a=>(ci().f[8]++,ci().s[24]++,this.onChangeNoCheck(bEe(a)))}),N.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),s=(ci().s[25]++,{backgroundColor:this.props.value});return ci().s[26]++,N.jsxs("div",{className:"maputnik-color-wrapper",children:[(ci().b[2][0]++,this.state.pickerOpened&&(ci().b[2][1]++,o)),N.jsx("div",{className:"maputnik-color-swatch",style:s}),N.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:a=>(ci().f[9]++,ci().s[27]++,this.colorInput=a),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(ci().b[3][0]++,this.props.value):(ci().b[3][1]++,""),onChange:a=>(ci().f[10]++,ci().s[28]++,this.onChange(a.target.value))})]})}}function zt(){var e="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",n="055427b59351edaed6ac0381ee689923477adaa1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:40,column:5}},10:{start:{line:31,column:6},end:{line:32,column:35}},11:{start:{line:32,column:8},end:{line:32,column:35}},12:{start:{line:33,column:6},end:{line:35,column:9}},13:{start:{line:36,column:11},end:{line:40,column:5}},14:{start:{line:37,column:6},end:{line:39,column:9}},15:{start:{line:41,column:4},end:{line:43,column:7}},16:{start:{line:46,column:4},end:{line:48,column:5}},17:{start:{line:47,column:6},end:{line:47,column:18}},18:{start:{line:49,column:18},end:{line:49,column:20}},19:{start:{line:50,column:4},end:{line:52,column:5}},20:{start:{line:51,column:6},end:{line:51,column:19}},21:{start:{line:53,column:4},end:{line:55,column:5}},22:{start:{line:54,column:6},end:{line:54,column:19}},23:{start:{line:56,column:4},end:{line:58,column:5}},24:{start:{line:57,column:6},end:{line:57,column:19}},25:{start:{line:59,column:4},end:{line:59,column:16}},26:{start:{line:61,column:15},end:{line:75,column:3}},27:{start:{line:62,column:4},end:{line:62,column:38}},28:{start:{line:63,column:4},end:{line:65,column:5}},29:{start:{line:64,column:6},end:{line:64,column:13}},30:{start:{line:66,column:4},end:{line:74,column:5}},31:{start:{line:67,column:6},end:{line:73,column:7}},32:{start:{line:68,column:8},end:{line:68,column:43}},33:{start:{line:69,column:8},end:{line:69,column:56}},34:{start:{line:71,column:8},end:{line:71,column:33}},35:{start:{line:72,column:8},end:{line:72,column:46}},36:{start:{line:76,column:18},end:{line:102,column:3}},37:{start:{line:77,column:16},end:{line:77,column:42}},38:{start:{line:78,column:17},end:{line:78,column:37}},39:{start:{line:79,column:21},end:{line:79,column:26}},40:{start:{line:80,column:4},end:{line:96,column:5}},41:{start:{line:81,column:19},end:{line:81,column:31}},42:{start:{line:82,column:6},end:{line:95,column:7}},43:{start:{line:83,column:8},end:{line:87,column:9}},44:{start:{line:84,column:10},end:{line:84,column:42}},45:{start:{line:86,column:10},end:{line:86,column:42}},46:{start:{line:88,column:8},end:{line:88,column:27}},47:{start:{line:90,column:8},end:{line:94,column:9}},48:{start:{line:91,column:10},end:{line:91,column:31}},49:{start:{line:93,column:10},end:{line:93,column:40}},50:{start:{line:97,column:4},end:{line:97,column:32}},51:{start:{line:98,column:4},end:{line:98,column:70}},52:{start:{line:99,column:4},end:{line:99,column:41}},53:{start:{line:100,column:4},end:{line:101,column:33}},54:{start:{line:101,column:6},end:{line:101,column:33}},55:{start:{line:104,column:4},end:{line:187,column:5}},56:{start:{line:105,column:20},end:{line:105,column:81}},57:{start:{line:106,column:27},end:{line:106,column:82}},58:{start:{line:108,column:6},end:{line:112,column:7}},59:{start:{line:109,column:8},end:{line:109,column:38}},60:{start:{line:111,column:8},end:{line:111,column:27}},61:{start:{line:113,column:6},end:{line:167,column:11}},62:{start:{line:126,column:14},end:{line:126,column:41}},63:{start:{line:129,column:14},end:{line:129,column:67}},64:{start:{line:132,column:14},end:{line:132,column:69}},65:{start:{line:135,column:14},end:{line:139,column:17}},66:{start:{line:154,column:14},end:{line:154,column:47}},67:{start:{line:157,column:14},end:{line:157,column:47}},68:{start:{line:160,column:14},end:{line:160,column:48}},69:{start:{line:161,column:14},end:{line:161,column:32}},70:{start:{line:169,column:20},end:{line:169,column:81}},71:{start:{line:170,column:6},end:{line:186,column:8}},72:{start:{line:178,column:27},end:{line:178,column:59}},73:{start:{line:180,column:12},end:{line:180,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:44,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:13},end:{line:60,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:21},end:{line:75,column:3}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:76,column:18},end:{line:76,column:19}},loc:{start:{line:76,column:25},end:{line:102,column:3}},line:76},6:{name:"(anonymous_6)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:11},end:{line:188,column:3}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:125,column:23},end:{line:125,column:24}},loc:{start:{line:125,column:29},end:{line:127,column:13}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:33},end:{line:130,column:13}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:31},end:{line:133,column:13}},line:131},10:{name:"(anonymous_10)",decl:{start:{line:134,column:20},end:{line:134,column:21}},loc:{start:{line:134,column:26},end:{line:140,column:13}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:153,column:21},end:{line:153,column:22}},loc:{start:{line:153,column:29},end:{line:155,column:13}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:156,column:22},end:{line:156,column:23}},loc:{start:{line:156,column:29},end:{line:158,column:13}},line:156},13:{name:"(anonymous_13)",decl:{start:{line:159,column:20},end:{line:159,column:21}},loc:{start:{line:159,column:28},end:{line:162,column:13}},line:159},14:{name:"(anonymous_14)",decl:{start:{line:178,column:20},end:{line:178,column:21}},loc:{start:{line:178,column:27},end:{line:178,column:59}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:179,column:19},end:{line:179,column:20}},loc:{start:{line:179,column:25},end:{line:181,column:11}},line:179}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:40,column:5}},{start:{line:36,column:11},end:{line:40,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:32,column:35}},type:"if",locations:[{start:{line:31,column:6},end:{line:32,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:36,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},8:{loc:{start:{line:36,column:15},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:15},end:{line:36,column:35}},{start:{line:36,column:39},end:{line:36,column:49}}],line:36},9:{loc:{start:{line:42,column:18},end:{line:42,column:53}},type:"cond-expr",locations:[{start:{line:42,column:36},end:{line:42,column:42}},{start:{line:42,column:45},end:{line:42,column:53}}],line:42},10:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},11:{loc:{start:{line:50,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},12:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},13:{loc:{start:{line:53,column:8},end:{line:53,column:56}},type:"binary-expr",locations:[{start:{line:53,column:8},end:{line:53,column:30}},{start:{line:53,column:34},end:{line:53,column:56}}],line:53},14:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},15:{loc:{start:{line:56,column:8},end:{line:56,column:56}},type:"binary-expr",locations:[{start:{line:56,column:8},end:{line:56,column:30}},{start:{line:56,column:34},end:{line:56,column:56}}],line:56},16:{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},17:{loc:{start:{line:66,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:66,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},18:{loc:{start:{line:67,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:73,column:7}},{start:{line:70,column:13},end:{line:73,column:7}}],line:67},19:{loc:{start:{line:80,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},20:{loc:{start:{line:82,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:95,column:7}},{start:{line:89,column:13},end:{line:95,column:7}}],line:82},21:{loc:{start:{line:83,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:87,column:9}},{start:{line:85,column:15},end:{line:87,column:9}}],line:83},22:{loc:{start:{line:90,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:94,column:9}},{start:{line:92,column:15},end:{line:94,column:9}}],line:90},23:{loc:{start:{line:100,column:4},end:{line:101,column:33}},type:"if",locations:[{start:{line:100,column:4},end:{line:101,column:33}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},24:{loc:{start:{line:104,column:4},end:{line:187,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:187,column:5}},{start:{line:168,column:11},end:{line:187,column:5}}],line:104},25:{loc:{start:{line:104,column:8},end:{line:104,column:205}},type:"binary-expr",locations:[{start:{line:104,column:8},end:{line:104,column:63}},{start:{line:104,column:67},end:{line:104,column:122}},{start:{line:104,column:126},end:{line:104,column:151}},{start:{line:104,column:155},end:{line:104,column:180}},{start:{line:104,column:184},end:{line:104,column:205}}],line:104},26:{loc:{start:{line:105,column:20},end:{line:105,column:81}},type:"cond-expr",locations:[{start:{line:105,column:41},end:{line:105,column:62}},{start:{line:105,column:65},end:{line:105,column:81}}],line:105},27:{loc:{start:{line:106,column:27},end:{line:106,column:82}},type:"cond-expr",locations:[{start:{line:106,column:59},end:{line:106,column:61}},{start:{line:106,column:64},end:{line:106,column:82}}],line:106},28:{loc:{start:{line:108,column:6},end:{line:112,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:112,column:7}},{start:{line:110,column:13},end:{line:112,column:7}}],line:108},29:{loc:{start:{line:123,column:19},end:{line:123,column:58}},type:"cond-expr",locations:[{start:{line:123,column:38},end:{line:123,column:50}},{start:{line:123,column:53},end:{line:123,column:58}}],line:123},30:{loc:{start:{line:152,column:19},end:{line:152,column:58}},type:"cond-expr",locations:[{start:{line:152,column:43},end:{line:152,column:45}},{start:{line:152,column:48},end:{line:152,column:58}}],line:152},31:{loc:{start:{line:169,column:20},end:{line:169,column:81}},type:"cond-expr",locations:[{start:{line:169,column:41},end:{line:169,column:62}},{start:{line:169,column:65},end:{line:169,column:81}}],line:169},32:{loc:{start:{line:177,column:17},end:{line:177,column:46}},type:"cond-expr",locations:[{start:{line:177,column:36},end:{line:177,column:38}},{start:{line:177,column:41},end:{line:177,column:46}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM;AAAU,aAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"055427b59351edaed6ac0381ee689923477adaa1"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return zt=function(){return s},s}zt();class wf extends xn.Component{constructor(t){zt().f[0]++,zt().s[2]++;super(t);rn(this,"_keyboardEvent",(zt().s[1]++,!1));rn(this,"resetValue",(zt().s[26]++,()=>{if(zt().f[4]++,zt().s[27]++,this.setState({editing:!1}),zt().s[28]++,this.state.value)zt().b[16][1]++;else{zt().b[16][0]++,zt().s[29]++;return}zt().s[30]++,this.isValid(this.state.value)?zt().b[17][1]++:(zt().b[17][0]++,zt().s[31]++,this.isValid(this.props.value)?(zt().b[18][0]++,zt().s[32]++,this.changeValue(this.props.value),zt().s[33]++,this.setState({dirtyValue:this.props.value})):(zt().b[18][1]++,zt().s[34]++,this.changeValue(void 0),zt().s[35]++,this.setState({dirtyValue:void 0})))}));rn(this,"onChangeRange",(zt().s[36]++,t=>{zt().f[5]++;let r=(zt().s[37]++,parseFloat(t.target.value));const i=(zt().s[38]++,this.props.rangeStep);let o=(zt().s[39]++,r);if(zt().s[40]++,i){zt().b[19][0]++;const s=(zt().s[41]++,r%i);zt().s[42]++,this._keyboardEvent?(zt().b[20][0]++,zt().s[43]++,r<+this.state.dirtyValue?(zt().b[21][0]++,zt().s[44]++,r=this.state.value-i):(zt().b[21][1]++,zt().s[45]++,r=this.state.value+i),zt().s[46]++,o=r):(zt().b[20][1]++,zt().s[47]++,s<i/2?(zt().b[22][0]++,zt().s[48]++,r=r-s):(zt().b[22][1]++,zt().s[49]++,r=r+(i-s)))}else zt().b[19][1]++;zt().s[50]++,this._keyboardEvent=!1,zt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),zt().s[52]++,this.setState({value:r,dirtyValue:o}),zt().s[53]++,this.props.onChange?(zt().b[23][0]++,zt().s[54]++,this.props.onChange(r)):zt().b[23][1]++}));zt().s[3]++,this.state={uuid:+Py(),editing:!1,value:t.value,dirtyValue:t.value}}static getDerivedStateFromProps(t,r){return zt().f[1]++,zt().s[4]++,zt().b[1][0]++,!r.editing&&(zt().b[1][1]++,t.value!==r.value)?(zt().b[0][0]++,zt().s[5]++,{value:t.value,dirtyValue:t.value}):(zt().b[0][1]++,zt().s[6]++,null)}changeValue(t){zt().f[2]++;const r=(zt().s[7]++,zt().b[3][0]++,t===""||(zt().b[3][1]++,t===void 0)?(zt().b[2][0]++,void 0):(zt().b[2][1]++,+t)),i=(zt().s[8]++,this.props.value!==r);zt().s[9]++,zt().b[5][0]++,this.isValid(r)&&(zt().b[5][1]++,i)?(zt().b[4][0]++,zt().s[10]++,this.props.onChange?(zt().b[6][0]++,zt().s[11]++,this.props.onChange(r)):zt().b[6][1]++,zt().s[12]++,this.setState({value:r})):(zt().b[4][1]++,zt().s[13]++,zt().b[8][0]++,!this.isValid(r)&&(zt().b[8][1]++,i)?(zt().b[7][0]++,zt().s[14]++,this.setState({value:void 0})):zt().b[7][1]++),zt().s[15]++,this.setState({dirtyValue:t===""?(zt().b[9][0]++,void 0):(zt().b[9][1]++,t)})}isValid(t){if(zt().f[3]++,zt().s[16]++,t===void 0)return zt().b[10][0]++,zt().s[17]++,!0;zt().b[10][1]++;const r=(zt().s[18]++,+t);return zt().s[19]++,isNaN(r)?(zt().b[11][0]++,zt().s[20]++,!1):(zt().b[11][1]++,zt().s[21]++,zt().b[13][0]++,!isNaN(this.props.min)&&(zt().b[13][1]++,r<this.props.min)?(zt().b[12][0]++,zt().s[22]++,!1):(zt().b[12][1]++,zt().s[23]++,zt().b[15][0]++,!isNaN(this.props.max)&&(zt().b[15][1]++,r>this.props.max)?(zt().b[14][0]++,zt().s[24]++,!1):(zt().b[14][1]++,zt().s[25]++,!0)))}render(){var t,r;if(zt().f[6]++,zt().s[55]++,zt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(zt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(zt().b[25][2]++,this.props.min!==void 0)&&(zt().b[25][3]++,this.props.max!==void 0)&&(zt().b[25][4]++,this.props.allowRange)){zt().b[24][0]++;const i=(zt().s[56]++,this.state.editing?(zt().b[26][0]++,this.state.dirtyValue):(zt().b[26][1]++,this.state.value)),o=(zt().s[57]++,this.props.default===void 0?(zt().b[27][0]++,""):(zt().b[27][1]++,this.props.default));let s;return zt().s[58]++,this.state.editingRange?(zt().b[28][0]++,zt().s[59]++,s=this.state.value):(zt().b[28][1]++,zt().s[60]++,s=i),zt().s[61]++,N.jsxs("div",{className:"maputnik-number-container",children:[N.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(zt().b[29][0]++,o):(zt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{zt().f[7]++,zt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{zt().f[8]++,zt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{zt().f[9]++,zt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{zt().f[10]++,zt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),N.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(t=this.props.default)==null?void 0:t.toString(),value:s===void 0?(zt().b[30][0]++,""):(zt().b[30][1]++,s),onFocus:a=>{zt().f[11]++,zt().s[66]++,this.setState({editing:!0})},onChange:a=>{zt().f[12]++,zt().s[67]++,this.changeValue(a.target.value)},onBlur:a=>{zt().f[13]++,zt().s[68]++,this.setState({editing:!1}),zt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{zt().b[24][1]++;const i=(zt().s[70]++,this.state.editing?(zt().b[31][0]++,this.state.dirtyValue):(zt().b[31][1]++,this.state.value));return zt().s[71]++,N.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(zt().b[32][0]++,""):(zt().b[32][1]++,i),onChange:o=>(zt().f[14]++,zt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{zt().f[15]++,zt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}rn(wf,"defaultProps",(zt().s[0]++,{rangeStep:1}));function Jh(){var e="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",n="e85f7924976070cbab7795bce9cf0e191e4a6b5e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Jh=function(){return s},s}Jh();class tk extends xn.Component{constructor(){super(...arguments);rn(this,"onChange",(Jh().s[1]++,()=>{Jh().f[0]++,Jh().s[2]++,this.props.onChange(!this.props.value)}))}render(){return Jh().f[1]++,Jh().s[3]++,N.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[N.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),N.jsx("div",{className:"maputnik-checkbox-box",children:N.jsx("svg",{style:{display:this.props.value?(Jh().b[0][0]++,"inline"):(Jh().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:N.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}rn(tk,"defaultProps",(Jh().s[0]++,{value:!1}));function fr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",n="b22e3e5f460e97aba4bdc54843ce7e77423f5b07",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAwB,OAAwB;AAC9E,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b22e3e5f460e97aba4bdc54843ce7e77423f5b07"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return fr=function(){return s},s}fr();var ES;let yG=(ES=class extends xn.Component{constructor(n){fr().f[0]++,fr().s[1]++,super(n),fr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(n,t){fr().f[1]++;const r=(fr().s[3]++,[]),i=(fr().s[4]++,t.initialPropsValue.slice(0));return fr().s[5]++,Array(n.length).fill(null).map((o,s)=>{fr().f[2]++,fr().s[6]++,n.value[s]===t.initialPropsValue[s]?(fr().b[0][0]++,fr().s[7]++,r[s]=t.value[s]):(fr().b[0][1]++,fr().s[8]++,r[s]=t.value[s],fr().s[9]++,i[s]=t.value[s])}),fr().s[10]++,{value:r,initialPropsValue:i}}isComplete(n){return fr().f[3]++,fr().s[11]++,Array(this.props.length).fill(null).every((t,r)=>{fr().f[4]++;const i=(fr().s[12]++,n[r]);return fr().s[13]++,fr().b[1][0]++,!(i===void 0||(fr().b[1][1]++,i===""))})}changeValue(n,t){fr().f[5]++;const r=(fr().s[14]++,this.state.value.slice(0));fr().s[15]++,r[n]=t,fr().s[16]++,this.setState({value:r},()=>{fr().f[6]++,fr().s[17]++,fr().b[3][0]++,this.isComplete(r)&&(fr().b[3][1]++,this.props.onChange)?(fr().b[2][0]++,fr().s[18]++,this.props.onChange(r)):(fr().b[2][1]++,fr().s[19]++,this.props.onChange?(fr().b[4][0]++,fr().s[20]++,this.props.onChange(void 0)):fr().b[4][1]++)})}render(){fr().f[7]++;const{value:n}=(fr().s[21]++,this.state),t=(fr().s[22]++,fr().b[5][0]++,n.length>0&&(fr().b[5][1]++,!n.every(i=>(fr().f[8]++,fr().s[23]++,fr().b[6][0]++,i===""||(fr().b[6][1]++,i===void 0))))),r=(fr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(fr().f[9]++,fr().s[25]++,this.props.type==="number"?(fr().b[7][0]++,fr().s[26]++,N.jsx(wf,{default:(fr().b[9][0]++,t||(fr().b[9][1]++,!this.props.default)?(fr().b[8][0]++,void 0):(fr().b[8][1]++,this.props.default[o])),value:n[o],required:t?(fr().b[10][0]++,!0):(fr().b[10][1]++,!1),onChange:s=>(fr().f[10]++,fr().s[27]++,this.changeValue(o,s)),"aria-label":(fr().b[11][0]++,this.props["aria-label"]||(fr().b[11][1]++,this.props.label))},o)):(fr().b[7][1]++,fr().s[28]++,N.jsx(wd,{default:(fr().b[13][0]++,t||(fr().b[13][1]++,!this.props.default)?(fr().b[12][0]++,void 0):(fr().b[12][1]++,this.props.default[o])),value:n[o],required:t?(fr().b[14][0]++,!0):(fr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(fr().b[15][0]++,this.props["aria-label"]||(fr().b[15][1]++,this.props.label))},o)))));return fr().s[29]++,N.jsx("div",{className:"maputnik-array",children:r})}},rn(ES,"defaultProps",(fr().s[0]++,{value:[],default:[]})),ES);function ul(){var e="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",n="c4660c9ecb80d9f1ce71e70441154e1e765b77ab",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4660c9ecb80d9f1ce71e70441154e1e765b77ab"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ul=function(){return s},s}ul();class xEe extends xn.Component{render(){ul().f[0]++;let n=(ul().s[0]++,this.props.options);ul().s[1]++,ul().b[1][0]++,n.length>0&&(ul().b[1][1]++,!Array.isArray(n[0]))?(ul().b[0][0]++,ul().s[2]++,n=n.map(i=>(ul().f[1]++,ul().s[3]++,[i,i]))):ul().b[0][1]++;const t=(ul().s[4]++,ul().b[2][0]++,this.props.value||(ul().b[2][1]++,n[0][0])),r=(ul().s[5]++,n.map(([i,o])=>(ul().f[2]++,ul().s[6]++,N.jsxs("label",{className:bf("maputnik-radio-as-button",{"maputnik-button-selected":i===t}),children:[N.jsx("input",{type:"radio",name:this.props.name,onChange:s=>(ul().f[3]++,ul().s[7]++,this.props.onChange(i)),value:i,checked:i===t}),o]},i))));return ul().s[8]++,N.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function as(){var e="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",n="d905b5da4422f2b84d44f87b04fda3de421542f5",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return as=function(){return s},s}as();function wEe(e){as().f[0]++;let n=(as().s[0]++,0);return as().s[1]++,e.forEach(([t,r])=>{as().f[1]++,as().s[2]++,n+=r.length}),as().s[3]++,n}class nk extends xn.Component{render(){as().f[2]++;const{options:n,value:t,onChange:r,name:i,label:o}=(as().s[4]++,this.props);return as().s[5]++,as().b[1][0]++,n.length<=3&&(as().b[1][1]++,wEe(n)<=20)?(as().b[0][0]++,as().s[6]++,N.jsx(xEe,{name:i,options:n,value:(as().b[2][0]++,t||(as().b[2][1]++,this.props.default)),onChange:r,"aria-label":(as().b[3][0]++,this.props["aria-label"]||(as().b[3][1]++,o))})):(as().b[0][1]++,as().s[7]++,N.jsx(M1,{options:n,value:(as().b[4][0]++,t||(as().b[4][1]++,this.props.default)),onChange:r,"aria-label":(as().b[5][0]++,this.props["aria-label"]||(as().b[5][1]++,o))}))}}function c4(){var e="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",n="74f20da146753d9876d7a8eb2810e9f5402ba306",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:9,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:10,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO;AAQP,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAU;AACR,WACE,qBAAC,SAAI,WAAU,cAAa;AAAA;AAAA,MAClB,KAAK,MAAM;AAAA,OACrB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"74f20da146753d9876d7a8eb2810e9f5402ba306"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return c4=function(){return s},s}c4();class SP extends xn.Component{render(){return c4().f[0]++,c4().s[0]++,N.jsxs("div",{className:"SmallError",children:["Error: ",this.props.children]})}}function Mi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",n="a46ad84e5c054cc551de3c721f37ad4b7c2acd0b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:8,column:3}},1:{start:{line:7,column:4},end:{line:7,column:11}},2:{start:{line:10,column:22},end:{line:17,column:3}},3:{start:{line:11,column:4},end:{line:16,column:5}},4:{start:{line:12,column:21},end:{line:12,column:34}},5:{start:{line:13,column:6},end:{line:13,column:29}},6:{start:{line:15,column:6},end:{line:15,column:20}},7:{start:{line:18,column:19},end:{line:18,column:35}},8:{start:{line:19,column:16},end:{line:19,column:53}},9:{start:{line:20,column:2},end:{line:35,column:3}},10:{start:{line:21,column:4},end:{line:28,column:9}},11:{start:{line:29,column:9},end:{line:35,column:3}},12:{start:{line:30,column:4},end:{line:34,column:9}},13:{start:{line:36,column:2},end:{line:36,column:15}},14:{start:{line:39,column:24},end:{line:42,column:3}},15:{start:{line:44,column:4},end:{line:44,column:17}},16:{start:{line:45,column:4},end:{line:47,column:6}},17:{start:{line:49,column:12},end:{line:55,column:3}},18:{start:{line:50,column:4},end:{line:52,column:7}},19:{start:{line:53,column:4},end:{line:54,column:30}},20:{start:{line:54,column:6},end:{line:54,column:30}},21:{start:{line:56,column:13},end:{line:61,column:3}},22:{start:{line:57,column:4},end:{line:59,column:7}},23:{start:{line:60,column:4},end:{line:60,column:29}},24:{start:{line:63,column:4},end:{line:74,column:9}}},fnMap:{0:{name:"validate",decl:{start:{line:5,column:9},end:{line:5,column:17}},loc:{start:{line:5,column:23},end:{line:37,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:32},end:{line:17,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:19},end:{line:41,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:21},end:{line:48,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:49,column:12},end:{line:49,column:13}},loc:{start:{line:49,column:21},end:{line:55,column:3}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:56,column:13},end:{line:56,column:14}},loc:{start:{line:56,column:22},end:{line:61,column:3}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:11},end:{line:75,column:3}},line:62}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:20,column:2},end:{line:35,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:35,column:3}},{start:{line:29,column:9},end:{line:35,column:3}}],line:20},2:{loc:{start:{line:23,column:6},end:{line:27,column:10}},type:"cond-expr",locations:[{start:{line:23,column:30},end:{line:23,column:67}},{start:{line:23,column:86},end:{line:27,column:10}}],line:23},3:{loc:{start:{line:29,column:9},end:{line:35,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:35,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},4:{loc:{start:{line:29,column:13},end:{line:29,column:86}},type:"binary-expr",locations:[{start:{line:29,column:13},end:{line:29,column:21}},{start:{line:29,column:25},end:{line:29,column:45}},{start:{line:29,column:49},end:{line:29,column:86}}],line:29},5:{loc:{start:{line:53,column:4},end:{line:54,column:30}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4Bc,SACA,UADA,KACA,YADA;AA5Bd,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAGvB,SAAS,SAAS,KAAa;AAC7B,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,YACE,qBAAC,cAAW;AAAA;AAAA,MAER,QACI,oBAAC,UAAK,sBAAQ,IACd,iCAAE;AAAA,4BAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO;AAAA,OAEvD;AAAA,EAEJ,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,qBAAC,cAAW;AAAA;AAAA,MACyE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G;AAAA,EAEJ;AAEA,SAAO;AACT;AAoBA,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,KAAK;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a46ad84e5c054cc551de3c721f37ad4b7c2acd0b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Mi=function(){return s},s}Mi();function dS(e){if(Mi().f[0]++,Mi().s[0]++,e===""){Mi().b[0][0]++,Mi().s[1]++;return}else Mi().b[0][1]++;let n;Mi().s[2]++;const t=o=>{Mi().f[1]++,Mi().s[3]++;try{const s=(Mi().s[4]++,new URL(o));return Mi().s[5]++,s.protocol}catch{Mi().s[6]++;return}},r=(Mi().s[7]++,t(e)),i=(Mi().s[8]++,window.location.protocol==="https:");return Mi().s[9]++,r?(Mi().b[1][1]++,Mi().s[11]++,Mi().b[4][0]++,r&&(Mi().b[4][1]++,r==="http:")&&(Mi().b[4][2]++,window.location.protocol==="https:")?(Mi().b[3][0]++,Mi().s[12]++,n=N.jsxs(SP,{children:["CORS policy won't allow fetching resources served over http from https, use a ",N.jsx("code",{children:"https://"})," domain"]})):Mi().b[3][1]++):(Mi().b[1][0]++,Mi().s[10]++,n=N.jsxs(SP,{children:["Must provide protocol ",i?(Mi().b[2][0]++,N.jsx("code",{children:"https://"})):(Mi().b[2][1]++,N.jsxs(N.Fragment,{children:[N.jsx("code",{children:"http://"})," or ",N.jsx("code",{children:"https://"})]}))]})),Mi().s[13]++,n}var OS;let rk=(OS=class extends xn.Component{constructor(t){Mi().f[3]++,Mi().s[15]++;super(t);rn(this,"onInput",(Mi().s[17]++,t=>{Mi().f[4]++,Mi().s[18]++,this.setState({error:dS(t)}),Mi().s[19]++,this.props.onInput?(Mi().b[5][0]++,Mi().s[20]++,this.props.onInput(t)):Mi().b[5][1]++}));rn(this,"onChange",(Mi().s[21]++,t=>{Mi().f[5]++,Mi().s[22]++,this.setState({error:dS(t)}),Mi().s[23]++,this.props.onChange(t)}));Mi().s[16]++,this.state={error:dS(t.value)}}render(){return Mi().f[6]++,Mi().s[24]++,N.jsxs("div",{children:[N.jsx(wd,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}},rn(OS,"defaultProps",(Mi().s[14]++,{onInput:()=>{Mi().f[2]++}})),OS);function lr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",n="a9b629853605b137778e6e7df9c6ca743543c2f4",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:13,column:19},end:{line:13,column:39}},1:{start:{line:14,column:4},end:{line:14,column:27}},2:{start:{line:15,column:4},end:{line:16,column:34}},3:{start:{line:16,column:6},end:{line:16,column:34}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:36,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:35,column:34}},17:{start:{line:35,column:6},end:{line:35,column:34}},18:{start:{line:38,column:19},end:{line:38,column:39}},19:{start:{line:39,column:4},end:{line:39,column:31}},20:{start:{line:40,column:4},end:{line:41,column:63}},21:{start:{line:41,column:6},end:{line:41,column:63}},22:{start:{line:44,column:19},end:{line:98,column:6}},23:{start:{line:45,column:45},end:{line:45,column:117}},24:{start:{line:47,column:6},end:{line:85,column:7}},25:{start:{line:48,column:8},end:{line:55,column:10}},26:{start:{line:56,column:13},end:{line:85,column:7}},27:{start:{line:57,column:8},end:{line:64,column:10}},28:{start:{line:65,column:13},end:{line:85,column:7}},29:{start:{line:66,column:24},end:{line:66,column:99}},30:{start:{line:66,column:78},end:{line:66,column:98}},31:{start:{line:67,column:8},end:{line:75,column:10}},32:{start:{line:77,column:8},end:{line:84,column:10}},33:{start:{line:86,column:6},end:{line:97,column:8}},34:{start:{line:99,column:4},end:{line:109,column:9}},35:{start:{line:114,column:4},end:{line:127,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:29},end:{line:17,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:36,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:24},end:{line:42,column:3}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:110,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:98,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:66,column:70},end:{line:66,column:71}},loc:{start:{line:66,column:78},end:{line:66,column:98}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:11},end:{line:128,column:3}},line:113}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:16,column:34}},type:"if",locations:[{start:{line:15,column:4},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:35,column:34}},type:"if",locations:[{start:{line:34,column:4},end:{line:35,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:40,column:4},end:{line:41,column:63}},type:"if",locations:[{start:{line:40,column:4},end:{line:41,column:63}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},7:{loc:{start:{line:41,column:26},end:{line:41,column:61}},type:"cond-expr",locations:[{start:{line:41,column:46},end:{line:41,column:52}},{start:{line:41,column:55},end:{line:41,column:61}}],line:41},8:{loc:{start:{line:47,column:6},end:{line:85,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:85,column:7}},{start:{line:56,column:13},end:{line:85,column:7}}],line:47},9:{loc:{start:{line:53,column:26},end:{line:53,column:70}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:50}},{start:{line:53,column:54},end:{line:53,column:70}}],line:53},10:{loc:{start:{line:56,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:56,column:13},end:{line:85,column:7}},{start:{line:65,column:13},end:{line:85,column:7}}],line:56},11:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},12:{loc:{start:{line:65,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:85,column:7}},{start:{line:76,column:13},end:{line:85,column:7}}],line:65},13:{loc:{start:{line:73,column:26},end:{line:73,column:70}},type:"binary-expr",locations:[{start:{line:73,column:26},end:{line:73,column:50}},{start:{line:73,column:54},end:{line:73,column:70}}],line:73},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAiE4B,cAiCf,YAjCe;AAjE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AAEvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAiBrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB,oBAAC,0BAAuB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC,GAAG;AACvF,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EAEJ;AACF;AAMA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAM;AAAA,QAEN;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9b629853605b137778e6e7df9c6ca743543c2f4"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return lr=function(){return s},s}lr();let vG=class extends xn.Component{constructor(){super(...arguments);rn(this,"addValue",(lr().s[5]++,()=>{lr().f[2]++;const t=(lr().s[6]++,this.values.slice(0));if(lr().s[7]++,this.props.type==="number")lr().b[2][0]++,lr().s[8]++,t.push(0);else if(lr().b[2][1]++,lr().s[9]++,this.props.type==="url")lr().b[3][0]++,lr().s[10]++,t.push("");else if(lr().b[3][1]++,lr().s[11]++,this.props.type==="enum"){lr().b[4][0]++;const{fieldSpec:r}=(lr().s[12]++,this.props),i=(lr().s[13]++,Object.keys(r.values)[0]);lr().s[14]++,t.push(i)}else lr().b[4][1]++,lr().s[15]++,t.push("");lr().s[16]++,this.props.onChange?(lr().b[5][0]++,lr().s[17]++,this.props.onChange(t)):lr().b[5][1]++}))}changeValue(t,r){lr().f[0]++;const i=(lr().s[0]++,this.values.slice(0));lr().s[1]++,i[t]=r,lr().s[2]++,this.props.onChange?(lr().b[0][0]++,lr().s[3]++,this.props.onChange(i)):lr().b[0][1]++}get values(){return lr().f[1]++,lr().s[4]++,lr().b[1][0]++,this.props.value||(lr().b[1][1]++,this.props.default)||(lr().b[1][2]++,[])}deleteValue(t){lr().f[3]++;const r=(lr().s[18]++,this.values.slice(0));lr().s[19]++,r.splice(t,1),lr().s[20]++,this.props.onChange?(lr().b[6][0]++,lr().s[21]++,this.props.onChange(r.length>0?(lr().b[7][0]++,r):(lr().b[7][1]++,void 0))):lr().b[6][1]++}render(){lr().f[4]++;const t=(lr().s[22]++,this.values.map((r,i)=>{var a;lr().f[5]++;const o=(lr().s[23]++,N.jsx(MEe,{onClick:this.deleteValue.bind(this,i)}));let s;if(lr().s[24]++,this.props.type==="url")lr().b[8][0]++,lr().s[25]++,s=N.jsx(rk,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[9][0]++,this.props["aria-label"]||(lr().b[9][1]++,this.props.label))});else if(lr().b[8][1]++,lr().s[26]++,this.props.type==="number")lr().b[10][0]++,lr().s[27]++,s=N.jsx(wf,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[11][0]++,this.props["aria-label"]||(lr().b[11][1]++,this.props.label))});else if(lr().b[10][1]++,lr().s[28]++,this.props.type==="enum"){lr().b[12][0]++;const h=(lr().s[29]++,Object.keys((a=this.props.fieldSpec)==null?void 0:a.values).map(g=>(lr().f[6]++,lr().s[30]++,[g,M8(g)])));lr().s[31]++,s=N.jsx(nk,{options:h,value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[13][0]++,this.props["aria-label"]||(lr().b[13][1]++,this.props.label))})}else lr().b[12][1]++,lr().s[32]++,s=N.jsx(wd,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[14][0]++,this.props["aria-label"]||(lr().b[14][1]++,this.props.label))});return lr().s[33]++,N.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[N.jsx("div",{className:"maputnik-array-block-action",children:o}),N.jsx("div",{className:"maputnik-array-block-content",children:s})]},i)}));return lr().s[34]++,N.jsxs("div",{className:"maputnik-array",children:[t,N.jsx(ka,{className:"maputnik-array-add-value",onClick:this.addValue,children:"Add value"})]})}};class MEe extends xn.Component{render(){return lr().f[7]++,lr().s[35]++,N.jsx(ka,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove array item",children:N.jsx(l8,{label:N.jsx(Qy,{})})})}}function Yo(){var e="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",n="cd16dc68fc42c219caf080518fd74984d4f8d81e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Yo=function(){return s},s}Yo();class _G extends xn.Component{get values(){Yo().f[0]++;const n=(Yo().s[1]++,Yo().b[0][0]++,this.props.value||(Yo().b[0][1]++,this.props.default)||(Yo().b[0][2]++,[]));return Yo().s[2]++,n[n.length-1]!==""?(Yo().b[1][0]++,Yo().s[3]++,n.concat("")):(Yo().b[1][1]++,Yo().s[4]++,n)}changeFont(n,t){Yo().f[1]++;const r=(Yo().s[5]++,this.values.slice(0));Yo().s[6]++,r[n]=t;const i=(Yo().s[7]++,r.filter(o=>(Yo().f[2]++,Yo().s[8]++,o!==void 0)).filter(o=>(Yo().f[3]++,Yo().s[9]++,o!=="")));Yo().s[10]++,this.props.onChange(i)}render(){Yo().f[4]++;const n=(Yo().s[11]++,this.values.map((t,r)=>{var i;return Yo().f[5]++,Yo().s[12]++,N.jsx("li",{children:N.jsx(Zy,{"aria-label":(Yo().b[2][0]++,this.props["aria-label"]||(Yo().b[2][1]++,this.props.name)),value:t,options:(i=this.props.fonts)==null?void 0:i.map(o=>(Yo().f[6]++,Yo().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return Yo().s[14]++,N.jsx("ul",{className:"maputnik-font",children:n})}}rn(_G,"defaultProps",(Yo().s[0]++,{fonts:[]}));function yi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",n="8a7e9c26497bbcdc9141a7bf10d3ed50f729d679",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:115,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:114,column:20}},21:{start:{line:118,column:4},end:{line:118,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:116,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:117,column:2},end:{line:117,column:3}},loc:{start:{line:117,column:11},end:{line:119,column:3}},line:117}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:115,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:114,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAyDM;AAzDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8a7e9c26497bbcdc9141a7bf10d3ed50f729d679"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return yi=function(){return s},s}yi();const SEe=(yi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let yy=class extends xn.Component{childNodes(){var t,r;yi().f[0]++;const n=(yi().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(t=this.props.fieldSpec)==null?void 0:t.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:i=>(yi().f[1]++,yi().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(yi().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return yi().b[0][0]++,yi().s[4]++,N.jsx(wf,{...n,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":yi().b[0][1]++;{const i=(yi().s[5]++,Object.keys((yi().b[1][0]++,this.props.fieldSpec.values||(yi().b[1][1]++,[]))).map(o=>(yi().f[2]++,yi().s[6]++,[o,M8(o)])));return yi().s[7]++,N.jsx(nk,{...n,options:i})}case"resolvedImage":yi().b[0][2]++;case"formatted":yi().b[0][3]++;case"string":if(yi().b[0][4]++,yi().s[8]++,SEe.indexOf(this.props.fieldName)>=0){yi().b[2][0]++;const i=(yi().s[9]++,yi().b[3][0]++,this.props.fieldSpec.values||(yi().b[3][1]++,[]));return yi().s[10]++,N.jsx(Zy,{...n,options:i.map(o=>(yi().f[3]++,yi().s[11]++,[o,o]))})}else return yi().b[2][1]++,yi().s[12]++,N.jsx(wd,{...n});case"color":return yi().b[0][5]++,yi().s[13]++,N.jsx(gG,{...n});case"boolean":return yi().b[0][6]++,yi().s[14]++,N.jsx(tk,{...n});case"array":return yi().b[0][7]++,yi().s[15]++,this.props.fieldName==="text-font"?(yi().b[4][0]++,yi().s[16]++,N.jsx(_G,{...n,fonts:this.props.fieldSpec.values})):(yi().b[4][1]++,yi().s[17]++,this.props.fieldSpec.length?(yi().b[5][0]++,yi().s[18]++,N.jsx(yG,{...n,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(yi().b[5][1]++,yi().s[19]++,N.jsx(vG,{...n,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return yi().b[0][8]++,yi().s[20]++,null}}render(){return yi().f[4]++,yi().s[21]++,N.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function Rl(){var e="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",n="c96d18417df19ff6c7361e6bbaa2c1e3e999a238",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAA6B;AACpC,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c96d18417df19ff6c7361e6bbaa2c1e3e999a238"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Rl=function(){return s},s}Rl();class OC extends xn.Component{constructor(t){Rl().f[0]++,Rl().s[0]++;super(t);rn(this,"_labelId");rn(this,"onToggleDoc",(Rl().s[3]++,t=>{Rl().f[1]++,Rl().s[4]++,this.setState({showDoc:t})}));Rl().s[1]++,this._labelId=Py("fieldset_label_"),Rl().s[2]++,this.state={showDoc:!1}}render(){return Rl().f[2]++,Rl().s[5]++,N.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(Rl().b[0][0]++,this.props.fieldSpec&&(Rl().b[0][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:N.jsx(l8,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(Rl().b[1][0]++,!this.props.fieldSpec&&(Rl().b[1][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),N.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),N.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(Rl().b[2][0]++,this.props.fieldSpec&&(Rl().b[2][1]++,N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Rl().b[3][0]++,""):(Rl().b[3][1]++,"none")},children:N.jsx(u8,{fieldSpec:this.props.fieldSpec})})))]})}}function Uo(){var e="/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",n="adadf49dc291f98804cd53f74e320ed51f276886",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adadf49dc291f98804cd53f74e320ed51f276886"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Uo=function(){return s},s}Uo();const EEe=(Uo().s[0]++,{color:()=>(Uo().f[0]++,Uo().s[1]++,Vo),enum:({fieldSpec:e})=>(Uo().f[1]++,Uo().s[2]++,Object.keys(e.values).length<=3?(Uo().b[0][0]++,OC):(Uo().b[0][1]++,Vo)),boolean:()=>(Uo().f[2]++,Uo().s[3]++,Vo),array:()=>(Uo().f[3]++,Uo().s[4]++,OC),resolvedImage:()=>(Uo().f[4]++,Uo().s[5]++,Vo),number:()=>(Uo().f[5]++,Uo().s[6]++,Vo),string:()=>(Uo().f[6]++,Uo().s[7]++,Vo),formatted:()=>(Uo().f[7]++,Uo().s[8]++,Vo),padding:()=>(Uo().f[8]++,Uo().s[9]++,Vo)});class OEe extends xn.Component{render(){var i;Uo().f[9]++;const n=(Uo().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),t=(Uo().s[11]++,EEe[n]);let r;return Uo().s[12]++,t?(Uo().b[1][0]++,Uo().s[13]++,r=t(this.props)):(Uo().b[1][1]++,Uo().s[14]++,console.warn("No such type for '%s'",n),Uo().s[15]++,r=Vo),Uo().s[16]++,N.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:N.jsx(yy,{...this.props})})}}function YA(){var e="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",n="fb167a16b2bc613f08e633cf4dc0232cee30b68f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:46,column:5}},1:{start:{line:10,column:6},end:{line:18,column:8}},2:{start:{line:19,column:6},end:{line:27,column:8}},3:{start:{line:28,column:6},end:{line:38,column:7}},4:{start:{line:29,column:8},end:{line:37,column:10}},5:{start:{line:39,column:6},end:{line:43,column:11}},6:{start:{line:45,column:6},end:{line:45,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:47,column:3}},line:7}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:46,column:5}},{start:{line:44,column:11},end:{line:46,column:5}}],line:9},1:{loc:{start:{line:28,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:38,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AAyBY,cAsBC,YAtBD;AAzBZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AASjC,qBAAqB,6BAA6B,MAAM,UAAqC;AAAA,EAC3F,SAAS;AACP,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAM;AAAA,YAEN,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb167a16b2bc613f08e633cf4dc0232cee30b68f"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return YA=function(){return s},s}YA();class BEe extends xn.Component{render(){YA().f[0]++;let n,t,r;return YA().s[0]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(YA().b[0][0]++,YA().s[1]++,r=N.jsx(ka,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:"Convert to expression",children:N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:EC})})}),YA().s[2]++,n=N.jsx(ka,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:"Convert property into a zoom function",children:N.jsx(HJ,{})}),YA().s[3]++,this.props.fieldSpec["property-type"]==="data-driven"?(YA().b[1][0]++,YA().s[4]++,t=N.jsx(ka,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:"Convert property to data function",children:N.jsx(ZJ,{})})):YA().b[1][1]++,YA().s[5]++,N.jsxs("div",{children:[r,t,n]})):(YA().b[0][1]++,YA().s[6]++,N.jsx("div",{children:r}))}}function ef(){var e="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",n="60f6f0f35f3e44d7e7f08e2966cfff09ee69557d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f6f0f35f3e44d7e7f08e2966cfff09ee69557d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ef=function(){return s},s}ef();class CG extends xn.Component{render(){ef().f[0]++;const{errors:n,fieldName:t,fieldType:r}=(ef().s[1]++,this.props),i=(ef().s[2]++,N.jsx(BEe,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(ef().s[3]++,n[r+"."+t]);return ef().s[4]++,N.jsx(OEe,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:j5((ef().b[0][0]++,this.props.fieldName||(ef().b[0][1]++,""))),action:i})}}rn(CG,"defaultProps",(ef().s[0]++,{errors:{}}));function qA(){var e="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",n="e8906f642b33ab7d7a780fc0db870f7e4872d29c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qA=function(){return s},s}qA();function bG(e,n){qA().f[0]++;const t=(qA().s[0]++,+e),r=(qA().s[1]++,+n);return qA().s[2]++,t<r?(qA().b[0][0]++,qA().s[3]++,-1):(qA().b[0][1]++,qA().s[4]++,t>r?(qA().b[1][0]++,qA().s[5]++,1):(qA().b[1][1]++,qA().s[6]++,0))}function ih(){var e="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",n="2f98128f0f990b67a049c58486c1fab4310fbcfa",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ih=function(){return s},s}ih();function cd(e){if(ih().f[0]++,ih().s[0]++,Object.prototype.hasOwnProperty.call(e,"default"))return ih().b[0][0]++,ih().s[1]++,e.default;ih().b[0][1]++;const n=(ih().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return ih().s[3]++,ih().b[1][0]++,n[e.type]||(ih().b[1][1]++,"")}function d4(){var e="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",n="7dda8ab95b7fe1e03f2205def4590751728cfeac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:15,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:16,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAQvB,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO;AAAA,QAEP,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7dda8ab95b7fe1e03f2205def4590751728cfeac"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return d4=function(){return s},s}d4();class xG extends xn.Component{render(){return d4().f[0]++,d4().s[0]++,N.jsx(ka,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove zoom level from stop",children:N.jsx(Qy,{})})}}function Wt(){var e="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",n="232a59a4721428f6ea1780ae642f941986fcb93c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:27,column:3}},1:{start:{line:19,column:4},end:{line:26,column:7}},2:{start:{line:20,column:6},end:{line:25,column:7}},3:{start:{line:21,column:8},end:{line:23,column:9}},4:{start:{line:22,column:10},end:{line:22,column:33}},5:{start:{line:24,column:8},end:{line:24,column:39}},6:{start:{line:28,column:2},end:{line:28,column:17}},7:{start:{line:31,column:10},end:{line:33,column:3}},8:{start:{line:35,column:20},end:{line:35,column:55}},9:{start:{line:36,column:4},end:{line:40,column:5}},10:{start:{line:37,column:6},end:{line:39,column:9}},11:{start:{line:43,column:20},end:{line:43,column:45}},12:{start:{line:44,column:4},end:{line:48,column:5}},13:{start:{line:45,column:6},end:{line:47,column:8}},14:{start:{line:49,column:4},end:{line:49,column:16}},15:{start:{line:52,column:4},end:{line:54,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:4},end:{line:57,column:5}},18:{start:{line:56,column:6},end:{line:56,column:24}},19:{start:{line:58,column:4},end:{line:58,column:25}},20:{start:{line:61,column:4},end:{line:65,column:5}},21:{start:{line:62,column:6},end:{line:62,column:83}},22:{start:{line:64,column:6},end:{line:64,column:53}},23:{start:{line:69,column:26},end:{line:74,column:70}},24:{start:{line:70,column:6},end:{line:73,column:8}},25:{start:{line:74,column:22},end:{line:74,column:69}},26:{start:{line:75,column:20},end:{line:75,column:22}},27:{start:{line:76,column:4},end:{line:78,column:7}},28:{start:{line:77,column:6},end:{line:77,column:30}},29:{start:{line:79,column:4},end:{line:81,column:7}},30:{start:{line:82,column:4},end:{line:82,column:50}},31:{start:{line:82,column:39},end:{line:82,column:48}},32:{start:{line:84,column:13},end:{line:104,column:3}},33:{start:{line:85,column:4},end:{line:102,column:5}},34:{start:{line:86,column:6},end:{line:89,column:8}},35:{start:{line:91,column:24},end:{line:91,column:61}},36:{start:{line:92,column:6},end:{line:101,column:8}},37:{start:{line:103,column:4},end:{line:103,column:42}},38:{start:{line:106,column:18},end:{line:106,column:56}},39:{start:{line:107,column:4},end:{line:113,column:6}},40:{start:{line:114,column:25},end:{line:114,column:53}},41:{start:{line:115,column:25},end:{line:118,column:5}},42:{start:{line:119,column:4},end:{line:119,column:54}},43:{start:{line:122,column:25},end:{line:125,column:5}},44:{start:{line:126,column:4},end:{line:128,column:5}},45:{start:{line:127,column:6},end:{line:127,column:34}},46:{start:{line:129,column:4},end:{line:129,column:60}},47:{start:{line:132,column:4},end:{line:139,column:5}},48:{start:{line:133,column:6},end:{line:133,column:42}},49:{start:{line:135,column:6},end:{line:138,column:9}},50:{start:{line:142,column:4},end:{line:146,column:5}},51:{start:{line:143,column:6},end:{line:143,column:43}},52:{start:{line:145,column:6},end:{line:145,column:40}},53:{start:{line:147,column:4},end:{line:147,column:58}},54:{start:{line:150,column:4},end:{line:152,column:5}},55:{start:{line:151,column:6},end:{line:151,column:78}},56:{start:{line:154,column:4},end:{line:202,column:5}},57:{start:{line:155,column:6},end:{line:201,column:9}},58:{start:{line:156,column:26},end:{line:156,column:77}},59:{start:{line:157,column:20},end:{line:157,column:40}},60:{start:{line:158,column:26},end:{line:158,column:79}},61:{start:{line:159,column:22},end:{line:159,column:29}},62:{start:{line:160,column:46},end:{line:160,column:122}},63:{start:{line:161,column:26},end:{line:166,column:9}},64:{start:{line:165,column:33},end:{line:165,column:97}},65:{start:{line:168,column:8},end:{line:172,column:9}},66:{start:{line:169,column:10},end:{line:169,column:73}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:24},end:{line:173,column:28}},69:{start:{line:174,column:8},end:{line:185,column:9}},70:{start:{line:175,column:10},end:{line:184,column:15}},71:{start:{line:180,column:37},end:{line:180,column:101}},72:{start:{line:186,column:8},end:{line:200,column:18}},73:{start:{line:196,column:41},end:{line:196,column:110}},74:{start:{line:203,column:4},end:{line:303,column:12}},75:{start:{line:214,column:39},end:{line:214,column:67}},76:{start:{line:232,column:43},end:{line:232,column:68}},77:{start:{line:247,column:39},end:{line:247,column:83}},78:{start:{line:263,column:42},end:{line:263,column:85}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:29,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:26,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:22},end:{line:41,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:48},end:{line:50,column:3}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:34},end:{line:59,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:34},end:{line:66,column:3}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:26},end:{line:83,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:69,column:36},end:{line:69,column:37}},loc:{start:{line:69,column:51},end:{line:74,column:5}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:74,column:69}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:26},end:{line:76,column:27}},loc:{start:{line:76,column:41},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:82,column:29},end:{line:82,column:30}},loc:{start:{line:82,column:39},end:{line:82,column:48}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:84,column:13},end:{line:84,column:14}},loc:{start:{line:84,column:35},end:{line:104,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:41},end:{line:120,column:3}},line:105},13:{name:"(anonymous_13)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:23},end:{line:130,column:3}},line:121},14:{name:"(anonymous_14)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:26},end:{line:140,column:3}},line:131},15:{name:"(anonymous_15)",decl:{start:{line:141,column:2},end:{line:141,column:3}},loc:{start:{line:141,column:40},end:{line:148,column:3}},line:141},16:{name:"(anonymous_16)",decl:{start:{line:149,column:2},end:{line:149,column:3}},loc:{start:{line:149,column:11},end:{line:304,column:3}},line:149},17:{name:"(anonymous_17)",decl:{start:{line:155,column:46},end:{line:155,column:47}},loc:{start:{line:155,column:61},end:{line:201,column:7}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:33},end:{line:165,column:97}},line:165},19:{name:"(anonymous_19)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:37},end:{line:180,column:101}},line:180},20:{name:"(anonymous_20)",decl:{start:{line:196,column:24},end:{line:196,column:25}},loc:{start:{line:196,column:41},end:{line:196,column:110}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:214,column:26},end:{line:214,column:27}},loc:{start:{line:214,column:39},end:{line:214,column:67}},line:214},22:{name:"(anonymous_22)",decl:{start:{line:232,column:26},end:{line:232,column:27}},loc:{start:{line:232,column:43},end:{line:232,column:68}},line:232},23:{name:"(anonymous_23)",decl:{start:{line:247,column:26},end:{line:247,column:27}},loc:{start:{line:247,column:39},end:{line:247,column:83}},line:247},24:{name:"(anonymous_24)",decl:{start:{line:263,column:26},end:{line:263,column:27}},loc:{start:{line:263,column:42},end:{line:263,column:85}},line:263}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:25,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},5:{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},6:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},9:{loc:{start:{line:85,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:102,column:5}},{start:{line:90,column:11},end:{line:102,column:5}}],line:85},10:{loc:{start:{line:91,column:24},end:{line:91,column:61}},type:"cond-expr",locations:[{start:{line:91,column:55},end:{line:91,column:57}},{start:{line:91,column:60},end:{line:91,column:61}}],line:91},11:{loc:{start:{line:106,column:18},end:{line:106,column:56}},type:"binary-expr",locations:[{start:{line:106,column:18},end:{line:106,column:50}},{start:{line:106,column:54},end:{line:106,column:56}}],line:106},12:{loc:{start:{line:110,column:14},end:{line:110,column:58}},type:"cond-expr",locations:[{start:{line:110,column:41},end:{line:110,column:42}},{start:{line:110,column:45},end:{line:110,column:58}}],line:110},13:{loc:{start:{line:126,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:128,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:126},14:{loc:{start:{line:132,column:4},end:{line:139,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:139,column:5}},{start:{line:134,column:11},end:{line:139,column:5}}],line:132},15:{loc:{start:{line:132,column:8},end:{line:132,column:70}},type:"binary-expr",locations:[{start:{line:132,column:8},end:{line:132,column:33}},{start:{line:132,column:37},end:{line:132,column:70}}],line:132},16:{loc:{start:{line:142,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:142,column:4},end:{line:146,column:5}},{start:{line:144,column:11},end:{line:146,column:5}}],line:142},17:{loc:{start:{line:150,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:150},18:{loc:{start:{line:154,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:202,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154},19:{loc:{start:{line:156,column:26},end:{line:156,column:77}},type:"cond-expr",locations:[{start:{line:156,column:56},end:{line:156,column:68}},{start:{line:156,column:71},end:{line:156,column:77}}],line:156},20:{loc:{start:{line:158,column:26},end:{line:158,column:79}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:69}},{start:{line:158,column:72},end:{line:158,column:79}}],line:158},21:{loc:{start:{line:168,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:172,column:9}},{start:{line:170,column:15},end:{line:172,column:9}}],line:168},22:{loc:{start:{line:174,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:174,column:8},end:{line:185,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},23:{loc:{start:{line:222,column:8},end:{line:237,column:9}},type:"binary-expr",locations:[{start:{line:222,column:8},end:{line:222,column:45}},{start:{line:222,column:65},end:{line:237,column:9}}],line:222},24:{loc:{start:{line:253,column:8},end:{line:268,column:9}},type:"binary-expr",locations:[{start:{line:253,column:8},end:{line:253,column:18}},{start:{line:253,column:38},end:{line:268,column:9}}],line:253},25:{loc:{start:{line:269,column:8},end:{line:277,column:15}},type:"binary-expr",locations:[{start:{line:269,column:8},end:{line:269,column:18}},{start:{line:269,column:38},end:{line:277,column:15}}],line:269},26:{loc:{start:{line:279,column:10},end:{line:289,column:11}},type:"binary-expr",locations:[{start:{line:279,column:10},end:{line:279,column:20}},{start:{line:279,column:40},end:{line:289,column:11}}],line:279}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAkO8B,cA8Bf,YA9Be;AAlO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAElC,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc;AAAA,UACd,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO;AAAA,gBACP,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,yBAAW;AAAA,YACf,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"232a59a4721428f6ea1780ae642f941986fcb93c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Wt=function(){return s},s}Wt();function EP(e,n){Wt().f[0]++;let t;return Wt().s[0]++,Wt().b[1][0]++,e.value&&(Wt().b[1][1]++,e.value.stops)?(Wt().b[0][0]++,Wt().s[1]++,e.value.stops.forEach((r,i)=>{Wt().f[1]++,Wt().s[2]++,Object.prototype.hasOwnProperty.call(n.refs,i)?Wt().b[2][1]++:(Wt().b[2][0]++,Wt().s[3]++,t?Wt().b[3][1]++:(Wt().b[3][0]++,Wt().s[4]++,t={...n}),Wt().s[5]++,t[i]=Py("stop-"))})):Wt().b[0][1]++,Wt().s[6]++,t}class kEe extends xn.Component{constructor(){super(...arguments);rn(this,"state",(Wt().s[7]++,{refs:{}}));rn(this,"onChange",(Wt().s[32]++,(t,r)=>{if(Wt().f[11]++,Wt().s[33]++,r.type==="identity")Wt().b[9][0]++,Wt().s[34]++,r={type:r.type,property:r.property};else{Wt().b[9][1]++;const i=(Wt().s[35]++,r.type==="categorical"?(Wt().b[10][0]++,""):(Wt().b[10][1]++,0));Wt().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},cd(this.props.fieldSpec)],[{zoom:10,value:i},cd(this.props.fieldSpec)]],...r}}Wt().s[37]++,this.props.onChange(t,r)}))}componentDidMount(){Wt().f[2]++;const t=(Wt().s[8]++,EP(this.props,this.state));Wt().s[9]++,t?(Wt().b[4][0]++,Wt().s[10]++,this.setState({refs:t})):Wt().b[4][1]++}static getDerivedStateFromProps(t,r){Wt().f[3]++;const i=(Wt().s[11]++,EP(t,r));return Wt().s[12]++,i?(Wt().b[5][0]++,Wt().s[13]++,{refs:i}):(Wt().b[5][1]++,Wt().s[14]++,null)}getFieldFunctionType(t){return Wt().f[4]++,Wt().s[15]++,t.expression.interpolated?(Wt().b[6][0]++,Wt().s[16]++,"exponential"):(Wt().b[6][1]++,Wt().s[17]++,t.type==="number"?(Wt().b[7][0]++,Wt().s[18]++,"interval"):(Wt().b[7][1]++,Wt().s[19]++,"categorical"))}getDataFunctionTypes(t){return Wt().f[5]++,Wt().s[20]++,t.expression.interpolated?(Wt().b[8][0]++,Wt().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(Wt().b[8][1]++,Wt().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(t){Wt().f[6]++;const r=(Wt().s[23]++,t.map((o,s)=>(Wt().f[7]++,Wt().s[24]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Wt().f[8]++,Wt().s[25]++,bG(o.data[0].zoom,s.data[0].zoom)))),i=(Wt().s[26]++,{});return Wt().s[27]++,r.forEach((o,s)=>{Wt().f[9]++,Wt().s[28]++,i[s]=o.ref}),Wt().s[29]++,this.setState({refs:i}),Wt().s[30]++,r.map(o=>(Wt().f[10]++,Wt().s[31]++,o.data))}changeStop(t,r,i){var h;Wt().f[12]++;const o=(Wt().s[38]++,Wt().b[11][0]++,((h=this.props.value)==null?void 0:h.stops.slice(0))||(Wt().b[11][1]++,[]));Wt().s[39]++,o[t]=[{value:r.value,zoom:r.zoom===void 0?(Wt().b[12][0]++,0):(Wt().b[12][1]++,r.zoom)},i];const s=(Wt().s[40]++,this.orderStopsByZoom(o)),a=(Wt().s[41]++,{...this.props.value,stops:s});Wt().s[42]++,this.onChange(this.props.fieldName,a)}changeBase(t){Wt().f[13]++;const r=(Wt().s[43]++,{...this.props.value,base:t});Wt().s[44]++,r.base===void 0?(Wt().b[13][0]++,Wt().s[45]++,delete r.base):Wt().b[13][1]++,Wt().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(t){Wt().f[14]++,Wt().s[47]++,Wt().b[15][0]++,t==="interpolate"&&(Wt().b[15][1]++,this.props.onChangeToZoomFunction)?(Wt().b[14][0]++,Wt().s[48]++,this.props.onChangeToZoomFunction()):(Wt().b[14][1]++,Wt().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:t}))}changeDataProperty(t,r){Wt().f[15]++,Wt().s[50]++,r?(Wt().b[16][0]++,Wt().s[51]++,this.props.value[t]=r):(Wt().b[16][1]++,Wt().s[52]++,delete this.props.value[t]),Wt().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var r,i,o,s,a,h,g,C;Wt().f[16]++,Wt().s[54]++,typeof((r=this.props.value)==null?void 0:r.type)>"u"?(Wt().b[17][0]++,Wt().s[55]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):Wt().b[17][1]++;let t;return Wt().s[56]++,(i=this.props.value)!=null&&i.stops?(Wt().b[18][0]++,Wt().s[57]++,t=this.props.value.stops.map((B,k)=>{var Ae,ae;Wt().f[17]++;const P=(Wt().s[58]++,typeof B[0]=="object"?(Wt().b[19][0]++,B[0].zoom):(Wt().b[19][1]++,void 0)),U=(Wt().s[59]++,this.state.refs[k]),Z=(Wt().s[60]++,typeof B[0]=="object"?(Wt().b[20][0]++,B[0].value):(Wt().b[20][1]++,B[0])),W=(Wt().s[61]++,B[1]),Q=(Wt().s[62]++,N.jsx(xG,{onClick:(Ae=this.props.onDeleteStop)==null?void 0:Ae.bind(this,k)})),q=(Wt().s[63]++,{"aria-label":"Input value",label:"Data value",value:Z,onChange:se=>(Wt().f[18]++,Wt().s[64]++,this.changeStop(k,{zoom:P,value:se},W))});let oe;Wt().s[65]++,((ae=this.props.value)==null?void 0:ae.type)==="categorical"?(Wt().b[21][0]++,Wt().s[66]++,oe=N.jsx(wd,{...q})):(Wt().b[21][1]++,Wt().s[67]++,oe=N.jsx(wf,{...q}));let re=(Wt().s[68]++,null);return Wt().s[69]++,P!==void 0?(Wt().b[22][0]++,Wt().s[70]++,re=N.jsx("div",{children:N.jsx(wf,{"aria-label":"Zoom",value:P,onChange:se=>(Wt().f[19]++,Wt().s[71]++,this.changeStop(k,{zoom:se,value:Z},W)),min:0,max:22})})):Wt().b[22][1]++,Wt().s[72]++,N.jsxs("tr",{children:[N.jsx("td",{children:re}),N.jsx("td",{children:oe}),N.jsx("td",{children:N.jsx(yy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:W,onChange:(se,ye)=>(Wt().f[20]++,Wt().s[73]++,this.changeStop(k,{zoom:P,value:Z},ye))})}),N.jsx("td",{children:Q})]},U)})):Wt().b[18][1]++,Wt().s[74]++,N.jsx("div",{className:"maputnik-data-spec-block",children:N.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[N.jsx("legend",{children:j5(this.props.fieldName)}),N.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[N.jsx(Vo,{label:"Function",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(M1,{value:this.props.value.type,onChange:B=>(Wt().f[21]++,Wt().s[75]++,this.changeDataType(B)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(Wt().b[23][0]++,((o=this.props.value)==null?void 0:o.type)!=="identity"&&(Wt().b[23][1]++,N.jsx(Vo,{label:"Base",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(yy,{fieldName:"base",fieldSpec:Hi.function.base,value:(s=this.props.value)==null?void 0:s.base,onChange:(B,k)=>(Wt().f[22]++,Wt().s[76]++,this.changeBase(k))})})},"base"))),N.jsx(Vo,{label:"Property",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(wd,{value:(a=this.props.value)==null?void 0:a.property,title:"Input a data property to base styles off of.",onChange:B=>(Wt().f[23]++,Wt().s[77]++,this.changeDataProperty("property",B))})})},"property"),(Wt().b[24][0]++,t&&(Wt().b[24][1]++,N.jsx(Vo,{label:"Default",children:N.jsx(yy,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(h=this.props.value)==null?void 0:h.default,onChange:(B,k)=>(Wt().f[24]++,Wt().s[78]++,this.changeDataProperty("default",k))})},"default"))),(Wt().b[25][0]++,t&&(Wt().b[25][1]++,N.jsx("div",{className:"maputnik-function-stop",children:N.jsxs("table",{className:"maputnik-function-stop-table",children:[N.jsx("caption",{children:"Stops"}),N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Zoom"}),N.jsx("th",{children:"Input value"}),N.jsx("th",{rowSpan:2,children:"Output value"})]})}),N.jsx("tbody",{children:t})]})}))),N.jsxs("div",{className:"maputnik-toolbox",children:[(Wt().b[26][0]++,t&&(Wt().b[26][1]++,N.jsxs(ka,{className:"maputnik-add-stop",onClick:(g=this.props.onAddStop)==null?void 0:g.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:b8})})," Add stop"]}))),N.jsxs(ka,{className:"maputnik-add-stop",onClick:(C=this.props.onExpressionClick)==null?void 0:C.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:EC})})," Convert to expression"]})]})]})]})})}}function Un(){var e="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",n="b293261b8db082101e4d8e26898ce3be8cd692d2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:15,column:16},end:{line:15,column:18}},1:{start:{line:16,column:2},end:{line:27,column:3}},2:{start:{line:17,column:4},end:{line:26,column:7}},3:{start:{line:18,column:6},end:{line:25,column:7}},4:{start:{line:19,column:8},end:{line:21,column:9}},5:{start:{line:20,column:10},end:{line:20,column:33}},6:{start:{line:22,column:8},end:{line:22,column:39}},7:{start:{line:24,column:8},end:{line:24,column:39}},8:{start:{line:28,column:2},end:{line:28,column:17}},9:{start:{line:31,column:24},end:{line:33,column:3}},10:{start:{line:34,column:10},end:{line:36,column:3}},11:{start:{line:38,column:20},end:{line:38,column:55}},12:{start:{line:39,column:4},end:{line:43,column:5}},13:{start:{line:40,column:6},end:{line:42,column:9}},14:{start:{line:46,column:20},end:{line:46,column:45}},15:{start:{line:47,column:4},end:{line:51,column:5}},16:{start:{line:48,column:6},end:{line:50,column:8}},17:{start:{line:52,column:4},end:{line:52,column:16}},18:{start:{line:56,column:26},end:{line:61,column:60}},19:{start:{line:57,column:6},end:{line:60,column:8}},20:{start:{line:61,column:22},end:{line:61,column:59}},21:{start:{line:62,column:20},end:{line:62,column:22}},22:{start:{line:63,column:4},end:{line:65,column:7}},23:{start:{line:64,column:6},end:{line:64,column:30}},24:{start:{line:66,column:4},end:{line:68,column:7}},25:{start:{line:69,column:4},end:{line:69,column:50}},26:{start:{line:69,column:39},end:{line:69,column:48}},27:{start:{line:72,column:18},end:{line:72,column:49}},28:{start:{line:73,column:4},end:{line:73,column:41}},29:{start:{line:74,column:25},end:{line:74,column:53}},30:{start:{line:75,column:25},end:{line:78,column:5}},31:{start:{line:79,column:4},end:{line:79,column:60}},32:{start:{line:82,column:25},end:{line:85,column:5}},33:{start:{line:86,column:4},end:{line:88,column:5}},34:{start:{line:87,column:6},end:{line:87,column:34}},35:{start:{line:89,column:4},end:{line:89,column:60}},36:{start:{line:91,column:19},end:{line:95,column:3}},37:{start:{line:92,column:4},end:{line:94,column:5}},38:{start:{line:93,column:6},end:{line:93,column:46}},39:{start:{line:97,column:23},end:{line:131,column:6}},40:{start:{line:98,column:24},end:{line:98,column:31}},41:{start:{line:99,column:18},end:{line:99,column:38}},42:{start:{line:100,column:20},end:{line:100,column:27}},43:{start:{line:101,column:44},end:{line:101,column:120}},44:{start:{line:102,column:6},end:{line:130,column:8}},45:{start:{line:111,column:43},end:{line:111,column:87}},46:{start:{line:123,column:43},end:{line:123,column:88}},47:{start:{line:132,column:4},end:{line:198,column:12}},48:{start:{line:143,column:39},end:{line:143,column:67}},49:{start:{line:160,column:43},end:{line:160,column:68}},50:{start:{line:201,column:4},end:{line:205,column:5}},51:{start:{line:202,column:6},end:{line:202,column:83}},52:{start:{line:204,column:6},end:{line:204,column:29}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:14,column:9},end:{line:14,column:20}},loc:{start:{line:14,column:35},end:{line:29,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:17,column:30},end:{line:17,column:31}},loc:{start:{line:17,column:45},end:{line:26,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:22},end:{line:44,column:3}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:48},end:{line:53,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:26},end:{line:70,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:36},end:{line:56,column:37}},loc:{start:{line:56,column:51},end:{line:61,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:61,column:12},end:{line:61,column:13}},loc:{start:{line:61,column:22},end:{line:61,column:59}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:41},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:69,column:29},end:{line:69,column:30}},loc:{start:{line:69,column:39},end:{line:69,column:48}},line:69},9:{name:"(anonymous_9)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:45},end:{line:80,column:3}},line:71},10:{name:"(anonymous_10)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:23},end:{line:90,column:3}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:91,column:19},end:{line:91,column:20}},loc:{start:{line:91,column:29},end:{line:95,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:11},end:{line:199,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:97,column:51},end:{line:97,column:52}},loc:{start:{line:97,column:66},end:{line:131,column:5}},line:97},14:{name:"(anonymous_14)",decl:{start:{line:111,column:26},end:{line:111,column:27}},loc:{start:{line:111,column:43},end:{line:111,column:87}},line:111},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:43},end:{line:123,column:88}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:143,column:26},end:{line:143,column:27}},loc:{start:{line:143,column:39},end:{line:143,column:67}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:160,column:26},end:{line:160,column:27}},loc:{start:{line:160,column:43},end:{line:160,column:68}},line:160},18:{name:"(anonymous_18)",decl:{start:{line:200,column:2},end:{line:200,column:3}},loc:{start:{line:200,column:34},end:{line:206,column:3}},line:200}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:16,column:6},end:{line:16,column:38}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:17}},{start:{line:16,column:21},end:{line:16,column:38}}],line:16},2:{loc:{start:{line:18,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:25,column:7}},{start:{line:23,column:13},end:{line:25,column:7}}],line:18},3:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},4:{loc:{start:{line:39,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:43,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},5:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},7:{loc:{start:{line:92,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},8:{loc:{start:{line:92,column:8},end:{line:92,column:67}},type:"binary-expr",locations:[{start:{line:92,column:8},end:{line:92,column:30}},{start:{line:92,column:34},end:{line:92,column:67}}],line:92},9:{loc:{start:{line:201,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:201,column:4},end:{line:205,column:5}},{start:{line:203,column:11},end:{line:205,column:5}}],line:201}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA8J2B,cACd,YADc;AA9J3B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAe,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC1F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK;AAAA,MAuBP;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b293261b8db082101e4d8e26898ce3be8cd692d2"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Un=function(){return s},s}Un();function OP(e,n){Un().f[0]++;let t=(Un().s[0]++,{});return Un().s[1]++,Un().b[1][0]++,e.value&&(Un().b[1][1]++,e.value.stops)?(Un().b[0][0]++,Un().s[2]++,e.value.stops.forEach((r,i)=>{Un().f[1]++,Un().s[3]++,Object.prototype.hasOwnProperty.call(!n.refs,i)?(Un().b[2][0]++,Un().s[4]++,t?Un().b[3][1]++:(Un().b[3][0]++,Un().s[5]++,t={...n}),Un().s[6]++,t[i]=Py("stop-")):(Un().b[2][1]++,Un().s[7]++,t[i]=n.refs[i])})):Un().b[0][1]++,Un().s[8]++,t}class wG extends xn.Component{constructor(){super(...arguments);rn(this,"state",(Un().s[10]++,{refs:{}}));rn(this,"changeDataType",(Un().s[36]++,t=>{Un().f[11]++,Un().s[37]++,Un().b[8][0]++,t!=="interpolate"&&(Un().b[8][1]++,this.props.onChangeToDataFunction)?(Un().b[7][0]++,Un().s[38]++,this.props.onChangeToDataFunction(t)):Un().b[7][1]++}))}componentDidMount(){Un().f[2]++;const t=(Un().s[11]++,OP(this.props,this.state));Un().s[12]++,t?(Un().b[4][0]++,Un().s[13]++,this.setState({refs:t})):Un().b[4][1]++}static getDerivedStateFromProps(t,r){Un().f[3]++;const i=(Un().s[14]++,OP(t,r));return Un().s[15]++,i?(Un().b[5][0]++,Un().s[16]++,{refs:i}):(Un().b[5][1]++,Un().s[17]++,null)}orderStopsByZoom(t){Un().f[4]++;const r=(Un().s[18]++,t.map((o,s)=>(Un().f[5]++,Un().s[19]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Un().f[6]++,Un().s[20]++,bG(o.data[0],s.data[0])))),i=(Un().s[21]++,{});return Un().s[22]++,r.forEach((o,s)=>{Un().f[7]++,Un().s[23]++,i[s]=o.ref}),Un().s[24]++,this.setState({refs:i}),Un().s[25]++,r.map(o=>(Un().f[8]++,Un().s[26]++,o.data))}changeZoomStop(t,r,i){Un().f[9]++;const o=(Un().s[27]++,this.props.value.stops.slice(0));Un().s[28]++,o[t]=[r,i];const s=(Un().s[29]++,this.orderStopsByZoom(o)),a=(Un().s[30]++,{...this.props.value,stops:s});Un().s[31]++,this.props.onChange(this.props.fieldName,a)}changeBase(t){Un().f[10]++;const r=(Un().s[32]++,{...this.props.value,base:t});Un().s[33]++,r.base===void 0?(Un().b[6][0]++,Un().s[34]++,delete r.base):Un().b[6][1]++,Un().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var r,i,o,s;Un().f[12]++;const t=(Un().s[39]++,(r=this.props.value)==null?void 0:r.stops.map((a,h)=>{var P;Un().f[13]++;const g=(Un().s[40]++,a[0]),C=(Un().s[41]++,this.state.refs[h]),B=(Un().s[42]++,a[1]),k=(Un().s[43]++,N.jsx(xG,{onClick:(P=this.props.onDeleteStop)==null?void 0:P.bind(this,h)}));return Un().s[44]++,N.jsxs("tr",{children:[N.jsx("td",{children:N.jsx(wf,{"aria-label":"Zoom",value:g,onChange:U=>(Un().f[14]++,Un().s[45]++,this.changeZoomStop(h,U,B)),min:0,max:22})}),N.jsx("td",{children:N.jsx(yy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:B,onChange:(U,Z)=>(Un().f[15]++,Un().s[46]++,this.changeZoomStop(h,g,Z))})}),N.jsx("td",{children:k})]},C)}));return Un().s[47]++,N.jsx("div",{className:"maputnik-data-spec-block",children:N.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[N.jsx("legend",{children:j5(this.props.fieldName)}),N.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[N.jsx(Vo,{label:"Function",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(M1,{value:"interpolate",onChange:a=>(Un().f[16]++,Un().s[48]++,this.changeDataType(a)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),N.jsx(Vo,{label:"Base",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(yy,{fieldName:"base",fieldSpec:Hi.function.base,value:(i=this.props.value)==null?void 0:i.base,onChange:(a,h)=>(Un().f[17]++,Un().s[49]++,this.changeBase(h))})})}),N.jsx("div",{className:"maputnik-function-stop",children:N.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[N.jsx("caption",{children:"Stops"}),N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Zoom"}),N.jsx("th",{rowSpan:2,children:"Output value"})]})}),N.jsx("tbody",{children:t})]})}),N.jsxs("div",{className:"maputnik-toolbox",children:[N.jsxs(ka,{className:"maputnik-add-stop",onClick:(o=this.props.onAddStop)==null?void 0:o.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:b8})})," Add stop"]}),N.jsxs(ka,{className:"maputnik-add-stop",onClick:(s=this.props.onExpressionClick)==null?void 0:s.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:EC})})," Convert to expression"]})]})]})]})})}getDataFunctionTypes(t){return Un().f[18]++,Un().s[50]++,t["property-type"]==="data-driven"?(Un().b[9][0]++,Un().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(Un().b[9][1]++,Un().s[52]++,["interpolate"])}}rn(wG,"defaultProps",(Un().s[9]++,{errors:{}}));function ut(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",n="435f90d980cace940b69ce8c0aa30d2fab175109",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA2B,OAA2B;AAEpF,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"435f90d980cace940b69ce8c0aa30d2fab175109"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ut=function(){return s},s}ut();function BP(e){return ut().f[0]++,ut().s[0]++,ut().b[0][0]++,Array.isArray(e)&&(ut().b[0][1]++,e.length===2)&&(ut().b[0][2]++,e[0]==="literal")}function kP(e){return ut().f[1]++,ut().s[1]++,ut().b[1][0]++,Array.isArray(e)&&(ut().b[1][1]++,e.length===2)&&(ut().b[1][2]++,e[0]==="get")}function IEe(e){return ut().f[2]++,ut().s[2]++,ut().b[2][0]++,typeof e=="object"&&(ut().b[2][1]++,e.stops)&&(ut().b[2][2]++,typeof e.property>"u")&&(ut().b[2][3]++,Array.isArray(e.stops))&&(ut().b[2][4]++,e.stops.length>1)&&(ut().b[2][5]++,e.stops.every(n=>(ut().f[3]++,ut().s[3]++,ut().b[3][0]++,Array.isArray(n)&&(ut().b[3][1]++,n.length===2))))}function MG(e){return ut().f[4]++,ut().s[4]++,ut().b[4][0]++,typeof e=="object"&&(ut().b[4][1]++,e.type==="identity")&&(ut().b[4][2]++,Object.prototype.hasOwnProperty.call(e,"property"))}function TEe(e){return ut().f[5]++,ut().s[5]++,ut().b[5][0]++,typeof e=="object"&&(ut().b[5][1]++,e.stops)&&(ut().b[5][2]++,typeof e.property<"u")&&(ut().b[5][3]++,e.stops.length>1)&&(ut().b[5][4]++,Array.isArray(e.stops))&&(ut().b[5][5]++,e.stops.every(n=>(ut().f[6]++,ut().s[6]++,ut().b[6][0]++,Array.isArray(n)&&(ut().b[6][1]++,n.length===2)&&(ut().b[6][2]++,typeof n[0]=="object"))))}function KEe(e){return ut().f[7]++,ut().s[7]++,ut().b[7][0]++,MG(e)||(ut().b[7][1]++,TEe(e))}function ik(e){ut().f[8]++;const n=(ut().s[8]++,["string","boolean","number"]);return ut().s[9]++,n.includes(typeof e)}function PEe(e){return ut().f[9]++,ut().s[10]++,Array.isArray(e)?(ut().b[8][0]++,ut().s[11]++,e.every(ik)):(ut().b[8][1]++,ut().s[12]++,!1)}function IP(e,n=(ut().b[9][0]++,{})){return ut().f[10]++,ut().s[13]++,e===void 0?(ut().b[10][0]++,ut().s[14]++,"value"):(ut().b[10][1]++,ut().s[15]++,ik(e)?(ut().b[11][0]++,ut().s[16]++,"value"):(ut().b[11][1]++,ut().s[17]++,ut().b[13][0]++,n.type==="array"&&(ut().b[13][1]++,PEe(e))?(ut().b[12][0]++,ut().s[18]++,"value"):(ut().b[12][1]++,ut().s[19]++,IEe(e)?(ut().b[14][0]++,ut().s[20]++,"zoom_function"):(ut().b[14][1]++,ut().s[21]++,KEe(e)?(ut().b[15][0]++,ut().s[22]++,"data_function"):(ut().b[15][1]++,ut().s[23]++,"expression")))))}class FEe extends xn.Component{constructor(t){ut().f[11]++,ut().s[24]++;super(t);rn(this,"addStop",(ut().s[34]++,()=>{ut().f[14]++;const t=(ut().s[35]++,this.props.value.stops.slice(0)),r=(ut().s[36]++,t[t.length-1]);ut().s[37]++,typeof r[0]=="object"?(ut().b[19][0]++,ut().s[38]++,t.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(ut().b[19][1]++,ut().s[39]++,t.push([r[0]+1,r[1]]));const i=(ut().s[40]++,{...this.props.value,stops:t});ut().s[41]++,this.props.onChange(this.props.fieldName,i)}));rn(this,"deleteExpression",(ut().s[42]++,()=>{ut().f[15]++;const{fieldSpec:t,fieldName:r}=(ut().s[43]++,this.props);ut().s[44]++,this.props.onChange(r,t.default),ut().s[45]++,this.setState({dataType:"value"})}));rn(this,"deleteStop",(ut().s[46]++,t=>{ut().f[16]++;const r=(ut().s[47]++,this.props.value.stops.slice(0));ut().s[48]++,r.splice(t,1);let i=(ut().s[49]++,{...this.props.value,stops:r});ut().s[50]++,r.length===1?(ut().b[20][0]++,ut().s[51]++,i=r[0][1]):ut().b[20][1]++,ut().s[52]++,this.props.onChange(this.props.fieldName,i)}));rn(this,"makeZoomFunction",(ut().s[53]++,()=>{ut().f[17]++;const{value:t}=(ut().s[54]++,this.props);let r;ut().s[55]++,typeof t=="object"?(ut().b[21][0]++,ut().s[56]++,t.stops?(ut().b[22][0]++,ut().s[57]++,r={base:t.base,stops:t.stops.map(i=>(ut().f[18]++,ut().s[58]++,[i[0].zoom,(ut().b[23][0]++,i[1]||(ut().b[23][1]++,cd(this.props.fieldSpec)))]))}):(ut().b[22][1]++,ut().s[59]++,r={base:t.base,stops:[[6,cd(this.props.fieldSpec)],[10,cd(this.props.fieldSpec)]]})):(ut().b[21][1]++,ut().s[60]++,r={stops:[[6,(ut().b[24][0]++,t||(ut().b[24][1]++,cd(this.props.fieldSpec)))],[10,(ut().b[25][0]++,t||(ut().b[25][1]++,cd(this.props.fieldSpec)))]]}),ut().s[61]++,this.props.onChange(this.props.fieldName,r)}));rn(this,"undoExpression",(ut().s[62]++,()=>{ut().f[19]++;const{value:t,fieldName:r}=(ut().s[63]++,this.props);ut().s[64]++,kP(t)?(ut().b[26][0]++,ut().s[65]++,this.props.onChange(r,{type:"identity",property:t[1]}),ut().s[66]++,this.setState({dataType:"value"})):(ut().b[26][1]++,ut().s[67]++,BP(t)?(ut().b[27][0]++,ut().s[68]++,this.props.onChange(r,t[1]),ut().s[69]++,this.setState({dataType:"value"})):ut().b[27][1]++)}));rn(this,"canUndo",(ut().s[70]++,()=>{ut().f[20]++;const{value:t,fieldSpec:r}=(ut().s[71]++,this.props);return ut().s[72]++,ut().b[28][0]++,kP(t)||(ut().b[28][1]++,BP(t))||(ut().b[28][2]++,ik(t))||(ut().b[28][3]++,Array.isArray(t)&&(ut().b[28][4]++,r.type==="array"))}));rn(this,"makeExpression",(ut().s[73]++,()=>{ut().f[21]++;const{value:t,fieldSpec:r}=(ut().s[74]++,this.props);let i;ut().s[75]++,ut().b[30][0]++,typeof t=="object"&&(ut().b[30][1]++,"stops"in t)?(ut().b[29][0]++,ut().s[76]++,i=iJ.convertFunction(t,r)):(ut().b[29][1]++,ut().s[77]++,MG(t)?(ut().b[31][0]++,ut().s[78]++,i=["get",t.property]):(ut().b[31][1]++,ut().s[79]++,i=["literal",(ut().b[32][0]++,t||(ut().b[32][1]++,this.props.fieldSpec.default))])),ut().s[80]++,this.props.onChange(this.props.fieldName,i)}));rn(this,"makeDataFunction",(ut().s[81]++,()=>{ut().f[22]++;const t=(ut().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(ut().s[83]++,t==="categorical"?(ut().b[33][0]++,""):(ut().b[33][1]++,0)),{value:i}=(ut().s[84]++,this.props);let o;ut().s[85]++,typeof i=="object"?(ut().b[34][0]++,ut().s[86]++,i.stops?(ut().b[35][0]++,ut().s[87]++,o={property:"",type:t,base:i.base,stops:i.stops.map(s=>(ut().f[23]++,ut().s[88]++,[{zoom:s[0],value:r},(ut().b[36][0]++,s[1]||(ut().b[36][1]++,cd(this.props.fieldSpec)))]))}):(ut().b[35][1]++,ut().s[89]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},cd(this.props.fieldSpec)],[{zoom:10,value:r},cd(this.props.fieldSpec)]]})):(ut().b[34][1]++,ut().s[90]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},(ut().b[37][0]++,this.props.value||(ut().b[37][1]++,cd(this.props.fieldSpec)))],[{zoom:10,value:r},(ut().b[38][0]++,this.props.value||(ut().b[38][1]++,cd(this.props.fieldSpec)))]]}),ut().s[91]++,this.props.onChange(this.props.fieldName,o)}));rn(this,"onMarkEditing",(ut().s[92]++,()=>{ut().f[24]++,ut().s[93]++,this.setState({isEditing:!0})}));rn(this,"onUnmarkEditing",(ut().s[94]++,()=>{ut().f[25]++,ut().s[95]++,this.setState({isEditing:!1})}));ut().s[25]++,this.state={dataType:IP(t.value,t.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(t,r){return ut().f[12]++,ut().s[26]++,r.isEditing?(ut().b[16][0]++,ut().s[27]++,{}):(ut().b[16][1]++,ut().s[28]++,{isEditing:!1,dataType:IP(t.value,t.fieldSpec)})}getFieldFunctionType(t){return ut().f[13]++,ut().s[29]++,t.expression.interpolated?(ut().b[17][0]++,ut().s[30]++,"exponential"):(ut().b[17][1]++,ut().s[31]++,t.type==="number"?(ut().b[18][0]++,ut().s[32]++,"interval"):(ut().b[18][1]++,ut().s[33]++,"categorical"))}render(){ut().f[26]++;const{dataType:t}=(ut().s[96]++,this.state),r=(ut().s[97]++,this.props.fieldSpec.default===this.props.value?(ut().b[39][0]++,"maputnik-default-property"):(ut().b[39][1]++,"maputnik-modified-property"));let i;return ut().s[98]++,t==="expression"?(ut().b[40][0]++,ut().s[99]++,i=N.jsx(S8,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(ut().b[40][1]++,ut().s[100]++,t==="zoom_function"?(ut().b[41][0]++,ut().s[101]++,i=N.jsx(wG,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(ut().b[41][1]++,ut().s[102]++,t==="data_function"?(ut().b[42][0]++,ut().s[103]++,i=N.jsx(kEe,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(ut().b[42][1]++,ut().s[104]++,i=N.jsx(CG,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),ut().s[105]++,N.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function vi(){var e="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",n="411d3be261f729b266d6cb26884b34616b925c83",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"411d3be261f729b266d6cb26884b34616b925c83"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return vi=function(){return s},s}vi();const DEe=(vi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function LEe(e,n,t){vi().f[0]++;const r=(vi().s[1]++,SG(e,n,t)),i=(vi().s[2]++,e[r+"_"+n]),o=(vi().s[3]++,i[t]);return vi().s[4]++,DEe.indexOf(t)>=0?(vi().b[0][0]++,vi().s[5]++,{...o,values:e.$root.sprite.values}):(vi().b[0][1]++,vi().s[6]++,t==="text-font"?(vi().b[1][0]++,vi().s[7]++,{...o,values:e.$root.glyphs.values}):(vi().b[1][1]++,vi().s[8]++,o))}function SG(e,n,t){vi().f[1]++;const r=(vi().s[9]++,vi().b[2][0]++,e["paint_"+n]||(vi().b[2][1]++,{}));return vi().s[10]++,t in r?(vi().b[3][0]++,vi().s[11]++,"paint"):(vi().b[3][1]++,vi().s[12]++,"layout")}class UEe extends xn.Component{constructor(){super(...arguments);rn(this,"onPropertyChange",(vi().s[13]++,(t,r)=>{vi().f[2]++;const i=(vi().s[14]++,SG(this.props.spec,this.props.layer.type,t));vi().s[15]++,this.props.onChange(i,t,r)}))}render(){vi().f[3]++;const{errors:t}=(vi().s[16]++,this.props),r=(vi().s[17]++,this.props.groupFields.map(i=>{vi().f[4]++;const o=(vi().s[18]++,LEe(this.props.spec,this.props.layer.type,i)),s=(vi().s[19]++,vi().b[4][0]++,this.props.layer.paint||(vi().b[4][1]++,{})),a=(vi().s[20]++,vi().b[5][0]++,this.props.layer.layout||(vi().b[5][1]++,{})),h=(vi().s[21]++,i in s?(vi().b[6][0]++,s[i]):(vi().b[6][1]++,a[i])),g=(vi().s[22]++,i in s?(vi().b[7][0]++,"paint"):(vi().b[7][1]++,"layout"));return vi().s[23]++,N.jsx(FEe,{errors:t,onChange:this.onPropertyChange,fieldName:i,value:h,fieldType:g,fieldSpec:o},i)}));return vi().s[24]++,N.jsx("div",{className:"maputnik-property-group",children:r})}}var REe=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)t.d(o,s,(function(a){return r[a]}).bind(null,s));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=2)}([function(e,n){e.exports=hh},function(e,n){e.exports=Sr},function(e,n,t){t.r(n);var r=t(1),i=t(0),o=function(){return(o=Object.assign||function(U){for(var Z,W=1,Q=arguments.length;W<Q;W++)for(var q in Z=arguments[W])Object.prototype.hasOwnProperty.call(Z,q)&&(U[q]=Z[q]);return U}).apply(this,arguments)},s=function(U,Z){var W={};for(var Q in U)Object.prototype.hasOwnProperty.call(U,Q)&&Z.indexOf(Q)<0&&(W[Q]=U[Q]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function"){var q=0;for(Q=Object.getOwnPropertySymbols(U);q<Q.length;q++)Z.indexOf(Q[q])<0&&Object.prototype.propertyIsEnumerable.call(U,Q[q])&&(W[Q[q]]=U[Q[q]])}return W},a=0,h=r.forwardRef(function(U,Z){var W=U.title,Q=W===void 0?null:W,q=U.description,oe=q===void 0?null:q,re=U.size,Ae=re===void 0?null:re,ae=U.color,se=ae===void 0?"currentColor":ae,ye=U.horizontal,De=ye===void 0?null:ye,Ne=U.vertical,et=Ne===void 0?null:Ne,ft=U.rotate,Ke=ft===void 0?null:ft,rt=U.spin,_e=rt===void 0?null:rt,Ut=U.style,jt=Ut===void 0?{}:Ut,nn=U.children,Qt=s(U,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var He,Je=_e!==null&&_e,tt=r.Children.map(nn,function(kt){var Pt=kt;Je!==!0&&(Je=(_e===null?Pt.props.spin:_e)===!0);var Me=Pt.props.size;typeof Ae=="number"&&typeof Pt.props.size=="number"&&(Me=Pt.props.size/Ae);var he={size:Me,color:se===null?Pt.props.color:se,horizontal:De===null?Pt.props.horizontal:De,vertical:et===null?Pt.props.vertical:et,rotate:Ke===null?Pt.props.rotate:Ke,spin:_e===null?Pt.props.spin:_e,inStack:!0};return r.cloneElement(Pt,he)});Ae!==null&&(jt.width=typeof Ae=="string"?Ae:1.5*Ae+"rem");var on,mt="stack_labelledby_"+a,dt="stack_describedby_"+a;if(Q)He=oe?mt+" "+dt:mt;else if(on="presentation",oe)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:Z,viewBox:"0 0 24 24",style:jt,role:on,"aria-labelledby":He},Qt),Q&&r.createElement("title",{id:mt},Q),oe&&r.createElement("desc",{id:dt},oe),Je&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),tt)});h.displayName="Stack",h.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},h.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=h;t.d(n,"Icon",function(){return P}),t.d(n,"Stack",function(){return g});var C=function(){return(C=Object.assign||function(U){for(var Z,W=1,Q=arguments.length;W<Q;W++)for(var q in Z=arguments[W])Object.prototype.hasOwnProperty.call(Z,q)&&(U[q]=Z[q]);return U}).apply(this,arguments)},B=function(U,Z){var W={};for(var Q in U)Object.prototype.hasOwnProperty.call(U,Q)&&Z.indexOf(Q)<0&&(W[Q]=U[Q]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function"){var q=0;for(Q=Object.getOwnPropertySymbols(U);q<Q.length;q++)Z.indexOf(Q[q])<0&&Object.prototype.propertyIsEnumerable.call(U,Q[q])&&(W[Q[q]]=U[Q[q]])}return W},k=0,P=r.forwardRef(function(U,Z){var W=U.path,Q=U.id,q=Q===void 0?++k:Q,oe=U.title,re=oe===void 0?null:oe,Ae=U.description,ae=Ae===void 0?null:Ae,se=U.size,ye=se===void 0?null:se,De=U.color,Ne=De===void 0?"currentColor":De,et=U.horizontal,ft=et!==void 0&&et,Ke=U.vertical,rt=Ke!==void 0&&Ke,_e=U.rotate,Ut=_e===void 0?0:_e,jt=U.spin,nn=jt!==void 0&&jt,Qt=U.style,He=Qt===void 0?{}:Qt,Je=U.inStack,tt=Je!==void 0&&Je,on=B(U,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),mt={},dt=[];ye!==null&&(tt?dt.push("scale("+ye+")"):(He.width=typeof ye=="string"?ye:1.5*ye+"rem",He.height=He.width)),ft&&dt.push("scaleX(-1)"),rt&&dt.push("scaleY(-1)"),Ut!==0&&dt.push("rotate("+Ut+"deg)"),Ne!==null&&(mt.fill=Ne);var kt=r.createElement("path",C({d:W,style:mt},tt?on:{})),Pt=kt;dt.length>0&&(He.transform=dt.join(" "),He.transformOrigin="center",tt&&(Pt=r.createElement("g",{style:He},kt,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Me,he=Pt,be=nn===!0||typeof nn!="number"?2:nn,Pe=!tt&&(ft||rt);if(be<0&&(Pe=!Pe),nn&&(he=r.createElement("g",{style:{animation:"spin"+(Pe?"-inverse":"")+" linear "+Math.abs(be)+"s infinite",transformOrigin:"center"}},Pt,!(ft||rt||Ut!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),tt)return he;var Ze,nt="icon_labelledby_"+q,xt="icon_describedby_"+q;if(re)Me=ae?nt+" "+xt:nt;else if(Ze="presentation",ae)throw new Error("title attribute required when description is set");return r.createElement("svg",C({ref:Z,viewBox:"0 0 24 24",style:He,role:Ze,"aria-labelledby":Me},on),re&&r.createElement("title",{id:nt},re),ae&&r.createElement("desc",{id:xt},ae),!tt&&nn&&(Pe?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),he)});P.displayName="Icon",P.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},P.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},n.default=P}]);const TP=oa(REe);function qg(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",n="2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qg=function(){return s},s}qg();class zEe extends xn.Component{render(){return qg().f[0]++,qg().s[0]++,N.jsxs($W,{uuid:this.props.id,children:[N.jsx(VW,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:n=>(qg().f[1]++,qg().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:N.jsxs(pme,{className:"maputnik-layer-editor-group__button",children:[N.jsx("span",{style:{flexGrow:1},children:this.props.title}),N.jsx(TP,{path:Sme,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),N.jsx(TP,{path:Mme,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),N.jsx(yme,{children:this.props.children})]})}}function h4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",n="1854bc9345eba3b5ee508193a6378533df537e7e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1854bc9345eba3b5ee508193a6378533df537e7e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return h4=function(){return s},s}h4();class jEe extends xn.Component{render(){return h4().f[0]++,h4().s[0]++,N.jsx(Vo,{label:"Min Zoom",fieldSpec:Hi.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:N.jsx(wf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:Hi.layer.minzoom.minimum,max:Hi.layer.minzoom.maximum,default:Hi.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}function f4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",n="8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return f4=function(){return s},s}f4();class WEe extends xn.Component{render(){return f4().f[0]++,f4().s[0]++,N.jsx(Vo,{label:"Max Zoom",fieldSpec:Hi.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:N.jsx(wf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:Hi.layer.maxzoom.minimum,max:Hi.layer.maxzoom.maximum,default:Hi.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}function z_(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",n="78f2f7c5d70fb12fc1126c8cf454a217776b6a18",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:7,column:22},end:{line:9,column:5}},1:{start:{line:10,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:29,column:3}},line:6}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAuBM;AAvBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,KAAK;AAAA,IACP;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAQ;AAAA,YACR,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"78f2f7c5d70fb12fc1126c8cf454a217776b6a18"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return z_=function(){return s},s}z_();class NEe extends xn.Component{render(){z_().f[0]++;const n=(z_().s[0]++,{doc:"Comments for the current layer. This is non-standard and not in the spec."});return z_().s[1]++,N.jsx(Vo,{label:"Comments",fieldSpec:n,"data-wd-key":"layer-comment",error:this.props.error,children:N.jsx(wd,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:"Comment...","data-wd-key":"layer-comment.input"})})}}const GEe={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},QEe={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},$Ee={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},YEe={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},qEe={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},VEe={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},HEe={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},ZEe={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},XEe={groups:[]},hS={line:GEe,background:QEe,fill:$Ee,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:YEe,symbol:qEe,raster:VEe,hillshade:HEe,heatmap:ZEe,invalid:XEe};function Vg(){var e="/home/runner/work/maputnik/maputnik/src/libs/format.ts",n="c45fbfac66e994b59070a295e5a7f219cd5d66ac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Vg=function(){return s},s}Vg();function EG(e){return Vg().f[0]++,Vg().s[0]++,e===""?(Vg().b[0][0]++,"[empty_string]"):(Vg().b[0][1]++,`'${e}'`)}function sn(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",n="13cf530347fd66324a92f0d1d210d94f3d2129c4",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:54}},1:{start:{line:25,column:21},end:{line:28,column:3}},2:{start:{line:29,column:22},end:{line:32,column:3}},3:{start:{line:33,column:22},end:{line:36,column:3}},4:{start:{line:37,column:2},end:{line:37,column:100}},5:{start:{line:40,column:24},end:{line:47,column:3}},6:{start:{line:48,column:29},end:{line:50,column:3}},7:{start:{line:52,column:4},end:{line:52,column:17}},8:{start:{line:53,column:25},end:{line:53,column:27}},9:{start:{line:54,column:4},end:{line:56,column:7}},10:{start:{line:55,column:6},end:{line:55,column:39}},11:{start:{line:57,column:4},end:{line:57,column:34}},12:{start:{line:60,column:29},end:{line:60,column:54}},13:{start:{line:61,column:4},end:{line:65,column:7}},14:{start:{line:62,column:6},end:{line:64,column:7}},15:{start:{line:63,column:8},end:{line:63,column:45}},16:{start:{line:66,column:4},end:{line:68,column:6}},17:{start:{line:71,column:4},end:{line:76,column:6}},18:{start:{line:79,column:4},end:{line:82,column:6}},19:{start:{line:85,column:32},end:{line:88,column:5}},20:{start:{line:89,column:4},end:{line:91,column:7}},21:{start:{line:94,column:18},end:{line:94,column:20}},22:{start:{line:95,column:4},end:{line:97,column:5}},23:{start:{line:96,column:6},end:{line:96,column:62}},24:{start:{line:98,column:35},end:{line:98,column:45}},25:{start:{line:99,column:22},end:{line:99,column:24}},26:{start:{line:100,column:4},end:{line:106,column:7}},27:{start:{line:101,column:6},end:{line:105,column:7}},28:{start:{line:102,column:8},end:{line:104,column:10}},29:{start:{line:108,column:18},end:{line:108,column:34}},30:{start:{line:109,column:4},end:{line:111,column:5}},31:{start:{line:110,column:6},end:{line:110,column:63}},32:{start:{line:112,column:4},end:{line:215,column:5}},33:{start:{line:114,column:8},end:{line:178,column:13}},34:{start:{line:121,column:35},end:{line:121,column:112}},35:{start:{line:130,column:37},end:{line:133,column:15}},36:{start:{line:142,column:31},end:{line:142,column:69}},37:{start:{line:151,column:31},end:{line:151,column:75}},38:{start:{line:159,column:31},end:{line:159,column:70}},39:{start:{line:167,column:31},end:{line:167,column:70}},40:{start:{line:175,column:31},end:{line:175,column:104}},41:{start:{line:180,column:8},end:{line:188,column:16}},42:{start:{line:186,column:29},end:{line:186,column:67}},43:{start:{line:190,column:8},end:{line:199,column:10}},44:{start:{line:201,column:8},end:{line:212,column:10}},45:{start:{line:206,column:14},end:{line:209,column:16}},46:{start:{line:214,column:8},end:{line:214,column:49}},47:{start:{line:218,column:4},end:{line:221,column:7}},48:{start:{line:224,column:21},end:{line:224,column:23}},49:{start:{line:225,column:22},end:{line:225,column:43}},50:{start:{line:226,column:19},end:{line:243,column:6}},51:{start:{line:227,column:6},end:{line:227,column:70}},52:{start:{line:229,column:22},end:{line:229,column:52}},53:{start:{line:230,column:6},end:{line:230,column:29}},54:{start:{line:231,column:6},end:{line:242,column:8}},55:{start:{line:244,column:20},end:{line:244,column:49}},56:{start:{line:245,column:18},end:{line:270,column:5}},57:{start:{line:248,column:23},end:{line:248,column:71}},58:{start:{line:252,column:23},end:{line:252,column:68}},59:{start:{line:256,column:23},end:{line:256,column:80}},60:{start:{line:262,column:23},end:{line:262,column:41}},61:{start:{line:268,column:23},end:{line:268,column:40}},62:{start:{line:272,column:6},end:{line:272,column:30}},63:{start:{line:273,column:6},end:{line:273,column:26}},64:{start:{line:275,column:4},end:{line:314,column:6}},65:{start:{line:296,column:33},end:{line:296,column:42}},66:{start:{line:297,column:20},end:{line:297,column:174}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:21,column:9},end:{line:21,column:25}},loc:{start:{line:21,column:32},end:{line:23,column:1}},line:21},1:{name:"layoutGroups",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:33},end:{line:38,column:1}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:41,column:20},end:{line:41,column:21}},loc:{start:{line:41,column:26},end:{line:42,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:43,column:21},end:{line:43,column:22}},loc:{start:{line:43,column:27},end:{line:44,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:45,column:22},end:{line:45,column:23}},loc:{start:{line:45,column:28},end:{line:46,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:21},end:{line:58,column:3}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:54,column:48},end:{line:54,column:49}},loc:{start:{line:54,column:59},end:{line:56,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:48},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:61,column:54},end:{line:61,column:55}},loc:{start:{line:61,column:65},end:{line:65,column:5}},line:61},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:77,column:3}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:44},end:{line:83,column:3}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:36},end:{line:92,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:32},end:{line:216,column:3}},line:93},13:{name:"(anonymous_13)",decl:{start:{line:100,column:19},end:{line:100,column:20}},loc:{start:{line:100,column:30},end:{line:106,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:121,column:24},end:{line:121,column:25}},loc:{start:{line:121,column:35},end:{line:121,column:112}},line:121},15:{name:"(anonymous_15)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:37},end:{line:133,column:15}},line:130},16:{name:"(anonymous_16)",decl:{start:{line:142,column:24},end:{line:142,column:25}},loc:{start:{line:142,column:31},end:{line:142,column:69}},line:142},17:{name:"(anonymous_17)",decl:{start:{line:151,column:24},end:{line:151,column:25}},loc:{start:{line:151,column:31},end:{line:151,column:75}},line:151},18:{name:"(anonymous_18)",decl:{start:{line:159,column:24},end:{line:159,column:25}},loc:{start:{line:159,column:31},end:{line:159,column:70}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:167,column:24},end:{line:167,column:25}},loc:{start:{line:167,column:31},end:{line:167,column:70}},line:167},20:{name:"(anonymous_20)",decl:{start:{line:175,column:24},end:{line:175,column:25}},loc:{start:{line:175,column:31},end:{line:175,column:104}},line:175},21:{name:"(anonymous_21)",decl:{start:{line:186,column:22},end:{line:186,column:23}},loc:{start:{line:186,column:29},end:{line:186,column:67}},line:186},22:{name:"(anonymous_22)",decl:{start:{line:205,column:22},end:{line:205,column:23}},loc:{start:{line:205,column:34},end:{line:210,column:13}},line:205},23:{name:"(anonymous_23)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:20},end:{line:222,column:3}},line:217},24:{name:"(anonymous_24)",decl:{start:{line:223,column:2},end:{line:223,column:3}},loc:{start:{line:223,column:11},end:{line:315,column:3}},line:223},25:{name:"(anonymous_25)",decl:{start:{line:226,column:50},end:{line:226,column:51}},loc:{start:{line:226,column:61},end:{line:228,column:5}},line:226},26:{name:"(anonymous_26)",decl:{start:{line:228,column:11},end:{line:228,column:12}},loc:{start:{line:228,column:22},end:{line:243,column:5}},line:228},27:{name:"(anonymous_27)",decl:{start:{line:248,column:17},end:{line:248,column:18}},loc:{start:{line:248,column:23},end:{line:248,column:71}},line:248},28:{name:"(anonymous_28)",decl:{start:{line:252,column:17},end:{line:252,column:18}},loc:{start:{line:252,column:23},end:{line:252,column:68}},line:252},29:{name:"(anonymous_29)",decl:{start:{line:256,column:17},end:{line:256,column:18}},loc:{start:{line:256,column:23},end:{line:256,column:80}},line:256},30:{name:"(anonymous_30)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:41}},line:262},31:{name:"(anonymous_31)",decl:{start:{line:268,column:17},end:{line:268,column:18}},loc:{start:{line:268,column:23},end:{line:268,column:40}},line:268},32:{name:"handleSelection",decl:{start:{line:271,column:13},end:{line:271,column:28}},loc:{start:{line:271,column:40},end:{line:274,column:5}},line:271},33:{name:"(anonymous_33)",decl:{start:{line:295,column:147},end:{line:295,column:148}},loc:{start:{line:295,column:155},end:{line:298,column:19}},line:295}},branchMap:{0:{loc:{start:{line:22,column:9},end:{line:22,column:53}},type:"cond-expr",locations:[{start:{line:22,column:24},end:{line:22,column:36}},{start:{line:22,column:39},end:{line:22,column:53}}],line:22},1:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},2:{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},3:{loc:{start:{line:101,column:6},end:{line:105,column:7}},type:"if",locations:[{start:{line:101,column:6},end:{line:105,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:101},4:{loc:{start:{line:101,column:10},end:{line:101,column:96}},type:"binary-expr",locations:[{start:{line:101,column:10},end:{line:101,column:22}},{start:{line:101,column:26},end:{line:101,column:55}},{start:{line:101,column:59},end:{line:101,column:96}}],line:101},5:{loc:{start:{line:109,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:109,column:4},end:{line:111,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:109},6:{loc:{start:{line:112,column:4},end:{line:215,column:5}},type:"switch",locations:[{start:{line:113,column:6},end:{line:178,column:13}},{start:{line:179,column:6},end:{line:188,column:16}},{start:{line:189,column:6},end:{line:199,column:10}},{start:{line:200,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:214,column:49}}],line:112},7:{loc:{start:{line:136,column:10},end:{line:144,column:11}},type:"binary-expr",locations:[{start:{line:136,column:10},end:{line:136,column:48}},{start:{line:136,column:68},end:{line:144,column:11}}],line:136},8:{loc:{start:{line:145,column:10},end:{line:153,column:11}},type:"binary-expr",locations:[{start:{line:145,column:10},end:{line:145,column:93}},{start:{line:145,column:113},end:{line:153,column:11}}],line:145},9:{loc:{start:{line:175,column:83},end:{line:175,column:103}},type:"cond-expr",locations:[{start:{line:175,column:93},end:{line:175,column:99}},{start:{line:175,column:102},end:{line:175,column:103}}],line:175},10:{loc:{start:{line:227,column:15},end:{line:227,column:68}},type:"binary-expr",locations:[{start:{line:227,column:15},end:{line:227,column:41}},{start:{line:227,column:45},end:{line:227,column:68}}],line:227},11:{loc:{start:{line:244,column:20},end:{line:244,column:49}},type:"binary-expr",locations:[{start:{line:244,column:20},end:{line:244,column:43}},{start:{line:244,column:47},end:{line:244,column:49}}],line:244},12:{loc:{start:{line:255,column:14},end:{line:255,column:61}},type:"cond-expr",locations:[{start:{line:255,column:46},end:{line:255,column:52}},{start:{line:255,column:55},end:{line:255,column:61}}],line:255}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA6JyB,SA2EL,UA1Ed,KADmB;AA7JzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAG5B,SAAS,iBAAiB,MAAkC;AAC1D,SAAO,OAAO,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO;AAC9C;AAEA,SAAS,aAAa,WAA2F;AAC/G,QAAM,aAAa;AAAA,IACjB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,SAAS,EAAE,MAAM,EACzC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,IAAI,EAAE,QAAQ,WAAS;AACnD,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,IAAI,EAAE,OAAO,QAAQ,WAAS;AACzD,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,SAAS,EAAE,OAAO,WAAS;AACrD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM,MAAM,QAAQ,MAAM,GAAG;AAC7C,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC,MAAM;AAAA,MAMb;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,SAAS;AAAA,QAChD,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAW;AAAA,QAEX;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,iCAAC,QAAG,WAAU,uBAAsB;AAAA;AAAA,cAC1B,cAAc,KAAK,MAAM,MAAM,EAAE;AAAA,eAC3C;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA,sCAAC,UAAO,IAAG,4BAA2B,eAAY,4BAA2B,WAAU,qBAAoB,OAAM,iBAC/G,8BAAC,cAAW,WAAU,0BAAyB,GACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13cf530347fd66324a92f0d1d210d94f3d2129c4"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return sn=function(){return s},s}sn();function OG(e){return sn().f[0]++,sn().s[0]++,hS[e]?(sn().b[0][0]++,hS[e]):(sn().b[0][1]++,hS.invalid)}function KP(e){sn().f[1]++;const n=(sn().s[1]++,{title:"Layer",type:"layer"}),t=(sn().s[2]++,{title:"Filter",type:"filter"}),r=(sn().s[3]++,{title:"JSON Editor",type:"jsoneditor"});return sn().s[4]++,[n,t].concat(OG(e).groups).concat([r])}class AO extends xn.Component{constructor(n){sn().f[5]++,sn().s[7]++,super(n);const t=(sn().s[8]++,{});sn().s[9]++,KP(this.props.layer.type).forEach(r=>{sn().f[6]++,sn().s[10]++,t[r.title]=!0}),sn().s[11]++,this.state={editorGroups:t}}static getDerivedStateFromProps(n,t){sn().f[7]++;const r=(sn().s[12]++,{...t.editorGroups});return sn().s[13]++,OG(n.layer.type).groups.forEach(i=>{sn().f[8]++,sn().s[14]++,i.title in r?sn().b[1][1]++:(sn().b[1][0]++,sn().s[15]++,r[i.title]=!0)}),sn().s[16]++,{editorGroups:r}}getChildContext(){return sn().f[9]++,sn().s[17]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(n,t,r){sn().f[10]++,sn().s[18]++,this.props.onLayerChanged(this.props.layerIndex,Zfe(this.props.layer,n,t,r))}onGroupToggle(n,t){sn().f[11]++;const r=(sn().s[19]++,{...this.state.editorGroups,[n]:t});sn().s[20]++,this.setState({editorGroups:r})}renderGroupType(n,t){sn().f[12]++;let r=(sn().s[21]++,"");sn().s[22]++,this.props.layer.metadata?(sn().b[2][0]++,sn().s[23]++,r=this.props.layer.metadata["maputnik:comment"]):sn().b[2][1]++;const{errors:i,layerIndex:o}=(sn().s[24]++,this.props),s=(sn().s[25]++,{});sn().s[26]++,i.forEach(g=>{sn().f[13]++,sn().s[27]++,sn().b[4][0]++,g.parsed&&(sn().b[4][1]++,g.parsed.type==="layer")&&(sn().b[4][2]++,g.parsed.data.index==o)?(sn().b[3][0]++,sn().s[28]++,s[g.parsed.data.key]={message:g.parsed.data.message}):sn().b[3][1]++});let a;const h=(sn().s[29]++,this.props.layer);switch(sn().s[30]++,Object.prototype.hasOwnProperty.call(this.props.sources,h.source)?(sn().b[5][0]++,sn().s[31]++,a=this.props.sources[h.source].layers):sn().b[5][1]++,sn().s[32]++,n){case"layer":return sn().b[6][0]++,sn().s[33]++,N.jsxs("div",{children:[N.jsx(OW,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:s.id,onChange:g=>(sn().f[14]++,sn().s[34]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,g))}),N.jsx(A8,{disabled:!0,error:s.type,value:this.props.layer.type,onChange:g=>(sn().f[15]++,sn().s[35]++,this.props.onLayerChanged(this.props.layerIndex,Hfe(this.props.layer,g)))}),(sn().b[7][0]++,this.props.layer.type!=="background"&&(sn().b[7][1]++,N.jsx(d8,{error:s.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:g=>(sn().f[16]++,sn().s[36]++,this.changeProperty(null,"source",g))}))),(sn().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(sn().b[8][1]++,N.jsx(h8,{error:s["source-layer"],sourceLayerIds:a,value:this.props.layer["source-layer"],onChange:g=>(sn().f[17]++,sn().s[37]++,this.changeProperty(null,"source-layer",g))}))),N.jsx(jEe,{error:s.minzoom,value:this.props.layer.minzoom,onChange:g=>(sn().f[18]++,sn().s[38]++,this.changeProperty(null,"minzoom",g))}),N.jsx(WEe,{error:s.maxzoom,value:this.props.layer.maxzoom,onChange:g=>(sn().f[19]++,sn().s[39]++,this.changeProperty(null,"maxzoom",g))}),N.jsx(NEe,{error:s.comment,value:r,onChange:g=>(sn().f[20]++,sn().s[40]++,this.changeProperty("metadata","maputnik:comment",g==""?(sn().b[9][0]++,void 0):(sn().b[9][1]++,g)))})]});case"filter":return sn().b[6][1]++,sn().s[41]++,N.jsx("div",{children:N.jsx("div",{className:"maputnik-filter-editor-wrapper",children:N.jsx(dN,{errors:s,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:g=>(sn().f[21]++,sn().s[42]++,this.changeProperty(null,"filter",g))})})});case"properties":return sn().b[6][2]++,sn().s[43]++,N.jsx(UEe,{errors:s,layer:this.props.layer,groupFields:t,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return sn().b[6][3]++,sn().s[44]++,N.jsx(C8,{layer:this.props.layer,onChange:g=>{sn().f[22]++,sn().s[45]++,this.props.onLayerChanged(this.props.layerIndex,g)}});default:return sn().b[6][4]++,sn().s[46]++,N.jsx(N.Fragment,{})}}moveLayer(n){sn().f[23]++,sn().s[47]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+n})}render(){sn().f[24]++;const n=(sn().s[48]++,[]),t=(sn().s[49]++,this.props.layer.type),r=(sn().s[50]++,KP(t).filter(a=>(sn().f[25]++,sn().s[51]++,sn().b[10][0]++,!(t==="background"&&(sn().b[10][1]++,a.type==="source")))).map(a=>{sn().f[26]++;const h=(sn().s[52]++,a.title.replace(/ /g,"_"));return sn().s[53]++,n.push(h),sn().s[54]++,N.jsx(zEe,{"data-wd-key":a.title,id:h,title:a.title,isActive:this.state.editorGroups[a.title],onActiveToggle:this.onGroupToggle.bind(this,a.title),children:this.renderGroupType(a.type,a.fields)},a.title)})),i=(sn().s[55]++,sn().b[11][0]++,this.props.layer.layout||(sn().b[11][1]++,{})),o=(sn().s[56]++,{delete:{text:"Delete",handler:()=>(sn().f[27]++,sn().s[57]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:"Duplicate",handler:()=>(sn().f[28]++,sn().s[58]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:i.visibility==="none"?(sn().b[12][0]++,"Show"):(sn().b[12][1]++,"Hide"),handler:()=>(sn().f[29]++,sn().s[59]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:"Move layer up",disabled:this.props.isFirstLayer,handler:()=>(sn().f[30]++,sn().s[60]++,this.moveLayer(-1))},moveLayerDown:{text:"Move layer down",disabled:this.props.isLastLayer,handler:()=>(sn().f[31]++,sn().s[61]++,this.moveLayer(1))}});function s(a,h){sn().f[32]++,sn().s[62]++,h.stopPropagation(),sn().s[63]++,o[a].handler()}return sn().s[64]++,N.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":"Layer editor",children:[N.jsx("header",{children:N.jsxs("div",{className:"layer-header",children:[N.jsxs("h2",{className:"layer-header__title",children:["Layer: ",EG(this.props.layer.id)]}),N.jsx("div",{className:"layer-header__info",children:N.jsxs(qx.Wrapper,{className:"more-menu",onSelection:s,closeOnSelection:!1,children:[N.jsx(qx.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:N.jsx(ree,{className:"more-menu__button__svg"})}),N.jsx(qx.Menu,{children:N.jsx("ul",{className:"more-menu__menu",children:Object.keys(o).map(a=>{sn().f[33]++;const h=(sn().s[65]++,o[a]);return sn().s[66]++,N.jsx("li",{children:N.jsx(qx.MenuItem,{value:a,className:"more-menu__menu__item",children:h.text})},a)})})})]})})]})}),N.jsx(ime,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:n,children:r})]})}}rn(AO,"defaultProps",(sn().s[5]++,{onLayerChanged:()=>{sn().f[2]++},onLayerIdChange:()=>{sn().f[3]++},onLayerDestroyed:()=>{sn().f[4]++}})),rn(AO,"childContextTypes",(sn().s[6]++,{reactIconBase:Kr.object}));var PP=function(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))},JEe=function(){function e(n,t,r){this.name=n,this.version=t,this.os=r,this.type="browser"}return e}(),eOe=function(){function e(n){this.version=n,this.type="node",this.name="node",this.os=process.platform}return e}(),tOe=function(){function e(n,t,r,i){this.name=n,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return e}(),nOe=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),rOe=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),iOe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,oOe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,FP=3,aOe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",iOe]],DP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function sOe(e){return e?LP(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new rOe:typeof navigator<"u"?LP(navigator.userAgent):AOe()}function lOe(e){return e!==""&&aOe.reduce(function(n,t){var r=t[0],i=t[1];if(n)return n;var o=i.exec(e);return!!o&&[r,o]},!1)}function LP(e){var n=lOe(e);if(!n)return null;var t=n[0],r=n[1];if(t==="searchbot")return new nOe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<FP&&(i=PP(PP([],i,!0),cOe(FP-i.length),!0)):i=[];var o=i.join("."),s=uOe(e),a=oOe.exec(e);return a&&a[1]?new tOe(t,o,s,a[1]):new JEe(t,o,s)}function uOe(e){for(var n=0,t=DP.length;n<t;n++){var r=DP[n],i=r[0],o=r[1],s=o.exec(e);if(s)return i}return null}function AOe(){var e=typeof process<"u"&&process.version;return e?new eOe(process.version.slice(1)):null}function cOe(e){for(var n=[],t=0;t<e;t++)n.push("0");return n}const dOe="maputnik",hOe="2.0.0",fOe="A MapLibre GL visual style editor",pOe="module",mOe="''",gOe={start:"vite",build:"tsc && vite build --base=/maputnik/",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"',install:"patch-package"},yOe={type:"git",url:"https://github.com/maplibre/maputnik"},vOe="Lukas Martinelli",_Oe="MIT",COe="https://github.com/maplibre/maputnik#readme",bOe={"@mapbox/mapbox-gl-rtl-text":"^0.2.3","@maplibre/maplibre-gl-geocoder":"^1.5.0","@maplibre/maplibre-gl-style-spec":"^20.1.0","@mdi/js":"^6.6.96","@mdi/react":"^1.5.0","@typescript-eslint/eslint-plugin":"^6.16.0","@typescript-eslint/parser":"^6.16.0","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.3.1",codemirror:"^5.65.2",color:"^4.2.3","detect-browser":"^5.3.0","file-saver":"^2.0.5","json-stringify-pretty-compact":"^3.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","mapbox-gl-inspect":"^1.3.1","maplibre-gl":"^4.0.0","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1","patch-package":"^8.0.0","prop-types":"^15.8.1",react:"^16.0.0","react-accessible-accordion":"^4.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^4.0.1","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^16.0.0","react-file-reader-input":"^2.0.0","react-icon-base":"^2.1.2","react-icons":"^4.3.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.50.0",slugify:"^1.6.5","string-hash":"^1.1.3",url:"^0.11.0"},xOe={esversion:6},wOe={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},MOe={"@cypress/code-coverage":"^3.12.15","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.0.17","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.13","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/react":"^16.14.52","@types/react-aria-menubutton":"^6.2.13","@types/react-aria-modal":"^4.0.9","@types/react-autocomplete":"^1.8.9","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.10","@types/react-dom":"^16.9.24","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.7","@vitejs/plugin-react":"^4.2.0",cors:"^2.8.5",cypress:"^13.6.1",eslint:"^8.56.0","eslint-plugin-react":"^7.33.2","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.5",express:"^4.17.3",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.0",mocha:"^9.2.2",postcss:"^8.4.12","react-hot-loader":"^4.13.0",stylelint:"^14.6.1","stylelint-config-recommended-scss":"^6.0.0","stylelint-scss":"^4.2.0",typescript:"^5.3.3",uuid:"^8.3.2",vite:"^5.0.12","vite-plugin-istanbul":"^5.0.0"},UP={name:dOe,version:hOe,description:fOe,type:pOe,main:mOe,scripts:gOe,repository:yOe,author:vOe,license:_Oe,homepage:COe,dependencies:bOe,jshintConfig:xOe,stylelint:wOe,devDependencies:MOe},SOe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function Ui(){var e="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",n="0db82fbe81362fe89bc1026468f1e8ab5376993d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:8,column:16},end:{line:8,column:24}},1:{start:{line:9,column:41},end:{line:9,column:89}},2:{start:{line:12,column:4},end:{line:12,column:107}},3:{start:{line:17,column:4},end:{line:27,column:6}},4:{start:{line:32,column:4},end:{line:39,column:6}},5:{start:{line:44,column:4},end:{line:52,column:6}},6:{start:{line:56,column:10},end:{line:64,column:3}},7:{start:{line:66,column:4},end:{line:66,column:34}},8:{start:{line:68,column:11},end:{line:75,column:3}},9:{start:{line:69,column:4},end:{line:74,column:5}},10:{start:{line:70,column:6},end:{line:70,column:59}},11:{start:{line:72,column:17},end:{line:72,column:65}},12:{start:{line:73,column:6},end:{line:73,column:17}},13:{start:{line:77,column:18},end:{line:113,column:5}},14:{start:{line:114,column:24},end:{line:116,column:6}},15:{start:{line:115,column:6},end:{line:115,column:45}},16:{start:{line:117,column:4},end:{line:217,column:12}},17:{start:{line:128,column:33},end:{line:128,column:58}},18:{start:{line:137,column:33},end:{line:137,column:60}},19:{start:{line:146,column:33},end:{line:146,column:51}},20:{start:{line:198,column:33},end:{line:198,column:69}},21:{start:{line:201,column:38},end:{line:201,column:59}},22:{start:{line:202,column:20},end:{line:202,column:157}},23:{start:{line:204,column:112},end:{line:204,column:145}},24:{start:{line:205,column:20},end:{line:205,column:133}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:13,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:11},end:{line:28,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:11},end:{line:40,column:3}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:53,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:23},end:{line:67,column:3}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:68,column:11},end:{line:68,column:12}},loc:{start:{line:68,column:23},end:{line:75,column:3}},line:68},6:{name:"(anonymous_6)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:11},end:{line:218,column:3}},line:76},7:{name:"(anonymous_7)",decl:{start:{line:114,column:35},end:{line:114,column:36}},loc:{start:{line:114,column:45},end:{line:116,column:5}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:128,column:25},end:{line:128,column:26}},loc:{start:{line:128,column:33},end:{line:128,column:58}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:137,column:25},end:{line:137,column:26}},loc:{start:{line:137,column:33},end:{line:137,column:60}},line:137},10:{name:"(anonymous_10)",decl:{start:{line:146,column:25},end:{line:146,column:26}},loc:{start:{line:146,column:33},end:{line:146,column:51}},line:146},11:{name:"(anonymous_11)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:69}},line:198},12:{name:"(anonymous_12)",decl:{start:{line:201,column:31},end:{line:201,column:32}},loc:{start:{line:201,column:38},end:{line:201,column:59}},line:201},13:{name:"(anonymous_13)",decl:{start:{line:201,column:65},end:{line:201,column:66}},loc:{start:{line:201,column:75},end:{line:203,column:19}},line:201},14:{name:"(anonymous_14)",decl:{start:{line:204,column:105},end:{line:204,column:106}},loc:{start:{line:204,column:112},end:{line:204,column:145}},line:204},15:{name:"(anonymous_15)",decl:{start:{line:204,column:151},end:{line:204,column:152}},loc:{start:{line:204,column:161},end:{line:206,column:19}},line:204}},branchMap:{0:{loc:{start:{line:69,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:74,column:5}},{start:{line:71,column:11},end:{line:74,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAqBW,cAoLG,YApLH;AArBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB,SAAQ,gBAAgB,iBAAiB,YAAY,UAAU,eAAe,oBAAmB;AACjG,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AAGzB,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBACxC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAC1C;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBACjC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAK,cAAc,KAAI,sBAAqB;AAAA,kBACjD,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE;AAAA,6BAAC,iBAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF;AAAA,8BAAC,mBAAgB;AAAA,UACjB,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,QACA,qBAAC,iBAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF;AAAA,8BAAC,kBAAe;AAAA,UAChB,oBAAC,YAAS,oBAAM;AAAA,WAClB;AAAA,QACA,qBAAC,iBAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF;AAAA,8BAAC,YAAS;AAAA,UACV,oBAAC,YAAS,0BAAY;AAAA,WACxB;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAS,4BAAc;AAAA,WAC1B;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,WAAM;AAAA;AAAA,YACL;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAM,uBACb,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,6CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0db82fbe81362fe89bc1026468f1e8ab5376993d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ui=function(){return s},s}Ui();const EOe=(Ui().s[0]++,sOe()),Xx=(Ui().s[1]++,["chrome","firefox"].indexOf(EOe.name)>-1);class e_ extends xn.Component{render(){return Ui().f[0]++,Ui().s[2]++,N.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class OOe extends xn.Component{render(){return Ui().f[1]++,Ui().s[3]++,N.jsx("a",{className:bf("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class BOe extends xn.Component{render(){return Ui().f[2]++,Ui().s[4]++,N.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class Jx extends xn.Component{render(){return Ui().f[3]++,Ui().s[5]++,N.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class kOe extends xn.Component{constructor(){super(...arguments);rn(this,"state",(Ui().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));rn(this,"onSkip",(Ui().s[8]++,t=>{if(Ui().f[5]++,Ui().s[9]++,t==="map")Ui().b[0][0]++,Ui().s[10]++,document.querySelector(".maplibregl-canvas").focus();else{Ui().b[0][1]++;const r=(Ui().s[11]++,document.querySelector("#skip-target-"+t));Ui().s[12]++,r.focus()}}))}handleSelection(t){Ui().f[4]++,Ui().s[7]++,this.props.onSetMapState(t)}render(){Ui().f[6]++;const t=(Ui().s[13]++,[{id:"map",group:"general",title:"Map"},{id:"inspect",group:"general",title:"Inspect",disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:"Deuteranopia filter",disabled:!Xx},{id:"filter-protanopia",group:"color-accessibility",title:"Protanopia filter",disabled:!Xx},{id:"filter-tritanopia",group:"color-accessibility",title:"Tritanopia filter",disabled:!Xx},{id:"filter-achromatopsia",group:"color-accessibility",title:"Achromatopsia filter",disabled:!Xx}]),r=(Ui().s[14]++,t.find(i=>(Ui().f[7]++,Ui().s[15]++,i.id===this.props.mapState)));return Ui().s[16]++,N.jsx("nav",{className:"maputnik-toolbar",children:N.jsxs("div",{className:"maputnik-toolbar__inner",children:[N.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[N.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:i=>(Ui().f[8]++,Ui().s[17]++,this.onSkip("layer-list")),children:"Layers list"}),N.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:i=>(Ui().f[9]++,Ui().s[18]++,this.onSkip("layer-editor")),children:"Layer editor"}),N.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:i=>(Ui().f[10]++,Ui().s[19]++,this.onSkip("map")),children:"Map view"}),N.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[N.jsx("img",{src:SOe,alt:"Maputnik on GitHub"}),N.jsxs("h1",{children:[N.jsx("span",{className:"maputnik-toolbar-name",children:UP.name}),N.jsxs("span",{className:"maputnik-toolbar-version",children:["v",UP.version]})]})]})]}),N.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[N.jsxs(Jx,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[N.jsx(GJ,{}),N.jsx(e_,{children:"Open"})]}),N.jsxs(Jx,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[N.jsx(z6,{}),N.jsx(e_,{children:"Export"})]}),N.jsxs(Jx,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[N.jsx(JJ,{}),N.jsx(e_,{children:"Data Sources"})]}),N.jsxs(Jx,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[N.jsx(QJ,{}),N.jsx(e_,{children:"Style Settings"})]}),N.jsxs(BOe,{wdKey:"nav:inspect",children:[N.jsx(zJ,{}),N.jsxs("label",{children:["View",N.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:i=>(Ui().f[11]++,Ui().s[20]++,this.handleSelection(i.target.value)),value:r==null?void 0:r.id,children:[t.filter(i=>(Ui().f[12]++,Ui().s[21]++,i.group==="general")).map(i=>(Ui().f[13]++,Ui().s[22]++,N.jsx("option",{value:i.id,disabled:i.disabled,"data-wd-key":i.id,children:i.title},i.id))),N.jsx("optgroup",{label:"Color accessibility",children:t.filter(i=>(Ui().f[14]++,Ui().s[23]++,i.group==="color-accessibility")).map(i=>(Ui().f[15]++,Ui().s[24]++,N.jsx("option",{value:i.id,disabled:i.disabled,children:i.title},i.id)))})]})]})]}),N.jsxs(OOe,{href:"https://github.com/maplibre/maputnik/wiki",children:[N.jsx(jJ,{}),N.jsx(e_,{children:"Help"})]})]})]})})}}function p4(){var e="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",n="d17a642b15310eb6111b086bd920c67ec86a8271",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return p4=function(){return s},s}p4();class IOe extends xn.Component{render(){return p4().f[0]++,p4().s[0]++,N.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function Ap(){var e="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",n="d25fdb432b603b186bd9e2fc84ff27ac61d9521e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:8,column:3}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:22,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:13,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:23,column:3}},line:14}},branchMap:{0:{loc:{start:{line:20,column:6},end:{line:20,column:123}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:23}},{start:{line:20,column:43},end:{line:20,column:123}}],line:20}},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAyBW,SAEL,KAFK;AAzBX,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAW5B,MAAM,kBAAkB,MAAM,UAA0B;AAAA,EACtD,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,oBAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,MACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,MACC,KAAK,MAAM;AAAA,MACX,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d25fdb432b603b186bd9e2fc84ff27ac61d9521e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ap=function(){return s},s}Ap();class BG extends xn.Component{getChildContext(){return Ap().f[0]++,Ap().s[1]++,{reactIconBase:{size:14}}}render(){return Ap().f[1]++,Ap().s[2]++,N.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,N.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),N.jsx("div",{className:"maputnik-layout-drawer",children:N.jsx(IOe,{children:this.props.layerEditor})}),this.props.map,(Ap().b[0][0]++,this.props.bottom&&(Ap().b[0][1]++,N.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}rn(BG,"childContextTypes",(Ap().s[0]++,{reactIconBase:Kr.object}));function Wa(){var e="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",n="e5f88535075aece22d8ac3a6577a6cf140d2a75b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:8,column:3}},1:{start:{line:10,column:35},end:{line:10,column:45}},2:{start:{line:11,column:19},end:{line:37,column:6}},3:{start:{line:13,column:6},end:{line:35,column:7}},4:{start:{line:14,column:27},end:{line:14,column:32}},5:{start:{line:15,column:24},end:{line:15,column:73}},6:{start:{line:16,column:8},end:{line:32,column:13}},7:{start:{line:27,column:31},end:{line:27,column:74}},8:{start:{line:34,column:8},end:{line:34,column:32}},9:{start:{line:36,column:6},end:{line:36,column:120}},10:{start:{line:38,column:18},end:{line:40,column:6}},11:{start:{line:39,column:6},end:{line:39,column:68}},12:{start:{line:41,column:4},end:{line:44,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:19},end:{line:6,column:20}},loc:{start:{line:6,column:25},end:{line:7,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:45,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:58},end:{line:37,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:31},end:{line:27,column:74}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:38,column:40},end:{line:38,column:41}},loc:{start:{line:38,column:50},end:{line:40,column:5}},line:38}},branchMap:{0:{loc:{start:{line:13,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:13,column:6},end:{line:35,column:7}},{start:{line:33,column:13},end:{line:35,column:7}}],line:13},1:{loc:{start:{line:13,column:10},end:{line:13,column:55}},type:"binary-expr",locations:[{start:{line:13,column:10},end:{line:13,column:22}},{start:{line:13,column:26},end:{line:13,column:55}}],line:13},2:{loc:{start:{line:21,column:10},end:{line:31,column:14}},type:"binary-expr",locations:[{start:{line:21,column:10},end:{line:21,column:50}},{start:{line:21,column:70},end:{line:31,column:14}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA2BkB,SAEJ,UAFI,KAEJ,YAFI;AA3BlB,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAY5B,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCAAE;AAAA;AAAA,UACM,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,UAAO;AAAA,UAAG,OAAO,KAAK;AAAA,UACzD,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAC3D;AAAA;AAAA,YAED;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e5f88535075aece22d8ac3a6577a6cf140d2a75b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Wa=function(){return s},s}Wa();class kG extends xn.Component{render(){var i,o;Wa().f[1]++;const{selectedLayerIndex:n}=(Wa().s[1]++,this.props),t=(Wa().s[2]++,(i=this.props.errors)==null?void 0:i.map((s,a)=>{var g;Wa().f[2]++;let h;if(Wa().s[3]++,Wa().b[1][0]++,s.parsed&&(Wa().b[1][1]++,s.parsed.type==="layer")){Wa().b[0][0]++;const{parsed:C}=(Wa().s[4]++,s),B=(Wa().s[5]++,(g=this.props.mapStyle)==null?void 0:g.layers[C.data.index].id);Wa().s[6]++,h=N.jsxs(N.Fragment,{children:["Layer ",N.jsx("span",{children:EG(B)}),": ",C.data.message,(Wa().b[2][0]++,n!==C.data.index&&(Wa().b[2][1]++,N.jsxs(N.Fragment,{children:["",N.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(Wa().f[3]++,Wa().s[7]++,this.props.onLayerSelect(C.data.index)),children:"switch to layer"})]})))]})}else Wa().b[0][1]++,Wa().s[8]++,h=s.message;return Wa().s[9]++,N.jsx("p",{className:"maputnik-message-panel-error",children:h},"error-"+a)})),r=(Wa().s[10]++,(o=this.props.infos)==null?void 0:o.map((s,a)=>(Wa().f[4]++,Wa().s[11]++,N.jsx("p",{children:s},"info-"+a))));return Wa().s[12]++,N.jsxs("div",{className:"maputnik-message-panel",children:[t,r]})}}rn(kG,"defaultProps",(Wa().s[0]++,{onLayerSelect:()=>{Wa().f[0]++}}));function m4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",n="a416dfabb7eaa48bd0505cf98cb9c66326bca3ec",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a416dfabb7eaa48bd0505cf98cb9c66326bca3ec"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return m4=function(){return s},s}m4();class g4 extends xn.Component{render(){return m4().f[0]++,m4().s[0]++,N.jsx(OC,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(yG,{...this.props})})}}function y4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",n="4931f85d3ebf1a60a85ac9883e78e028b7a388d8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4931f85d3ebf1a60a85ac9883e78e028b7a388d8"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return y4=function(){return s},s}y4();class cp extends xn.Component{render(){return y4().f[0]++,y4().s[0]++,N.jsx(Vo,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(wf,{...this.props})})}}function v4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",n="37d7b9547efb8875177dbe7a186e7965cd9eb1c0",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37d7b9547efb8875177dbe7a186e7965cd9eb1c0"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return v4=function(){return s},s}v4();class fm extends xn.Component{render(){return v4().f[0]++,v4().s[0]++,N.jsx(Vo,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(wd,{...this.props})})}}function _4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",n="a176a83ddcea7ca7f45b0bf957355a9e0c40a3af",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a176a83ddcea7ca7f45b0bf957355a9e0c40a3af"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return _4=function(){return s},s}_4();class BC extends xn.Component{render(){return _4().f[0]++,_4().s[0]++,N.jsx(Vo,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(rk,{...this.props})})}}function C4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",n="ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return C4=function(){return s},s}C4();class ok extends xn.Component{render(){return C4().f[0]++,C4().s[0]++,N.jsx(Vo,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(M1,{...this.props})})}}function b4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",n="5745e67ee75c0f352c022256ef8bf31e8fa7367f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5745e67ee75c0f352c022256ef8bf31e8fa7367f"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return b4=function(){return s},s}b4();class TOe extends xn.Component{render(){return b4().f[0]++,b4().s[0]++,N.jsx(OC,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(nk,{...this.props})})}}function x4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",n="4d9e98bd5e7819496a7ef6b66981b81e318fe1bf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d9e98bd5e7819496a7ef6b66981b81e318fe1bf"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return x4=function(){return s},s}x4();class KOe extends xn.Component{render(){return x4().f[0]++,x4().s[0]++,N.jsx(Vo,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(gG,{...this.props})})}}function ak(){var e="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",n="97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:16,column:1}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAAA,MAAM,OAAO;AAAA,EACX,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ak=function(){return s},s}ak();const nf=(ak().s[0]++,{maputnik:{maptiler_access_token:{label:"MapTiler Access Token",doc:"Public access token for MapTiler Cloud."},thunderforest_access_token:{label:"Thunderforest Access Token",doc:"Public access token for Thunderforest services."},style_renderer:{label:"Style Renderer",doc:"Choose the default Maputnik renderer for this style."}}});function ti(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",n="b694e94f243a11fbdf621abee61c98955da7068f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:15,column:23},end:{line:17,column:5}},1:{start:{line:18,column:4},end:{line:22,column:5}},2:{start:{line:19,column:6},end:{line:19,column:34}},3:{start:{line:21,column:6},end:{line:21,column:35}},4:{start:{line:23,column:4},end:{line:26,column:7}},5:{start:{line:29,column:18},end:{line:31,column:5}},6:{start:{line:32,column:4},end:{line:36,column:5}},7:{start:{line:33,column:6},end:{line:33,column:29}},8:{start:{line:35,column:6},end:{line:35,column:30}},9:{start:{line:37,column:4},end:{line:40,column:7}},10:{start:{line:43,column:20},end:{line:45,column:5}},11:{start:{line:46,column:4},end:{line:50,column:5}},12:{start:{line:47,column:6},end:{line:47,column:31}},13:{start:{line:49,column:6},end:{line:49,column:32}},14:{start:{line:51,column:4},end:{line:54,column:7}},15:{start:{line:57,column:25},end:{line:59,column:5}},16:{start:{line:60,column:4},end:{line:64,column:5}},17:{start:{line:61,column:6},end:{line:61,column:36}},18:{start:{line:63,column:6},end:{line:63,column:37}},19:{start:{line:65,column:4},end:{line:65,column:44}},20:{start:{line:68,column:21},end:{line:68,column:55}},21:{start:{line:69,column:51},end:{line:69,column:61}},22:{start:{line:70,column:18},end:{line:70,column:49}},23:{start:{line:71,column:23},end:{line:71,column:59}},24:{start:{line:72,column:20},end:{line:72,column:53}},25:{start:{line:73,column:4},end:{line:283,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:44},end:{line:27,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:39},end:{line:41,column:3}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:41},end:{line:55,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:39},end:{line:66,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:284,column:3}},line:67}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:20,column:11},end:{line:22,column:5}}],line:18},1:{loc:{start:{line:32,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},2:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:48,column:11},end:{line:50,column:5}}],line:46},3:{loc:{start:{line:60,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:64,column:5}},{start:{line:62,column:11},end:{line:64,column:5}}],line:60},4:{loc:{start:{line:68,column:21},end:{line:68,column:55}},type:"binary-expr",locations:[{start:{line:68,column:21},end:{line:68,column:49}},{start:{line:68,column:53},end:{line:68,column:55}}],line:68},5:{loc:{start:{line:70,column:18},end:{line:70,column:49}},type:"binary-expr",locations:[{start:{line:70,column:18},end:{line:70,column:43}},{start:{line:70,column:47},end:{line:70,column:49}}],line:70},6:{loc:{start:{line:71,column:23},end:{line:71,column:59}},type:"binary-expr",locations:[{start:{line:71,column:23},end:{line:71,column:53}},{start:{line:71,column:57},end:{line:71,column:59}}],line:71},7:{loc:{start:{line:72,column:20},end:{line:72,column:53}},type:"binary-expr",locations:[{start:{line:72,column:20},end:{line:72,column:47}},{start:{line:72,column:51},end:{line:72,column:53}}],line:72},8:{loc:{start:{line:148,column:21},end:{line:148,column:42}},type:"binary-expr",locations:[{start:{line:148,column:21},end:{line:148,column:36}},{start:{line:148,column:40},end:{line:148,column:42}}],line:148},9:{loc:{start:{line:277,column:21},end:{line:277,column:62}},type:"binary-expr",locations:[{start:{line:277,column:21},end:{line:277,column:50}},{start:{line:277,column:54},end:{line:277,column:62}}],line:277}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AA6GM,SACE,KADF;AA7GN,OAAO,WAAW;AAClB,OAAO,YAAY;AAGnB,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,0BAA0B,SAAQ,IAAI,KAAK;AAElD,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAEhD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,EAAC,KAAK,8DAA6D;AAAA,cAC9E,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAM;AAAA,cACN,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,cAC1D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,cAC/D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,eAAe;AAAA,cACnD,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,4BAA4B;AAAA,cACrC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b694e94f243a11fbdf621abee61c98955da7068f"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ti=function(){return s},s}ti();class POe extends xn.Component{changeTransitionProperty(n,t){ti().f[0]++;const r=(ti().s[0]++,{...this.props.mapStyle.transition});ti().s[1]++,t===void 0?(ti().b[0][0]++,ti().s[2]++,delete r[n]):(ti().b[0][1]++,ti().s[3]++,r[n]=t),ti().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(n,t){ti().f[1]++;const r=(ti().s[5]++,{...this.props.mapStyle.light});ti().s[6]++,t===void 0?(ti().b[1][0]++,ti().s[7]++,delete r[n]):(ti().b[1][1]++,ti().s[8]++,r[n]=t),ti().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeTerrainProperty(n,t){ti().f[2]++;const r=(ti().s[10]++,{...this.props.mapStyle.terrain});ti().s[11]++,t===void 0?(ti().b[2][0]++,ti().s[12]++,delete r[n]):(ti().b[2][1]++,ti().s[13]++,r[n]=t),ti().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:r})}changeStyleProperty(n,t){ti().f[3]++;const r=(ti().s[15]++,{...this.props.mapStyle});ti().s[16]++,t===void 0?(ti().b[3][0]++,ti().s[17]++,delete r[n]):(ti().b[3][1]++,ti().s[18]++,r[n]=t),ti().s[19]++,this.props.onStyleChanged(r)}render(){ti().f[4]++;const n=(ti().s[20]++,ti().b[4][0]++,this.props.mapStyle.metadata||(ti().b[4][1]++,{})),{onChangeMetadataProperty:t,mapStyle:r}=(ti().s[21]++,this.props),i=(ti().s[22]++,ti().b[5][0]++,this.props.mapStyle.light||(ti().b[5][1]++,{})),o=(ti().s[23]++,ti().b[6][0]++,this.props.mapStyle.transition||(ti().b[6][1]++,{})),s=(ti().s[24]++,ti().b[7][0]++,this.props.mapStyle.terrain||(ti().b[7][1]++,{}));return ti().s[25]++,N.jsx(Bf,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Style Settings",children:N.jsxs("div",{className:"modal:settings",children:[N.jsx(fm,{label:"Name",fieldSpec:Hi.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),N.jsx(fm,{label:"Owner",fieldSpec:{doc:"Owner ID of the style. Used by Mapbox or future style APIs."},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),N.jsx(BC,{fieldSpec:Hi.$root.sprite,label:"Sprite URL","data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),N.jsx(BC,{label:"Glyphs URL",fieldSpec:Hi.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),N.jsx(fm,{label:nf.maputnik.maptiler_access_token.label,fieldSpec:nf.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:n["maputnik:openmaptiles_access_token"],onChange:t.bind(this,"maputnik:openmaptiles_access_token")}),N.jsx(fm,{label:nf.maputnik.thunderforest_access_token.label,fieldSpec:nf.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:n["maputnik:thunderforest_access_token"],onChange:t.bind(this,"maputnik:thunderforest_access_token")}),N.jsx(g4,{label:"Center",fieldSpec:Hi.$root.center,length:2,type:"number",value:(ti().b[8][0]++,r.center||(ti().b[8][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),N.jsx(cp,{label:"Zoom",fieldSpec:Hi.$root.zoom,value:r.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),N.jsx(cp,{label:"Bearing",fieldSpec:Hi.$root.bearing,value:r.bearing,default:Hi.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),N.jsx(cp,{label:"Pitch",fieldSpec:Hi.$root.pitch,value:r.pitch,default:Hi.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),N.jsx(TOe,{label:"Light anchor",fieldSpec:Hi.light.anchor,name:"light-anchor",value:i.anchor,options:Object.keys(Hi.light.anchor.values),default:Hi.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),N.jsx(KOe,{label:"Light color",fieldSpec:Hi.light.color,value:i.color,default:Hi.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),N.jsx(cp,{label:"Light intensity",fieldSpec:Hi.light.intensity,value:i.intensity,default:Hi.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),N.jsx(g4,{label:"Light position",fieldSpec:Hi.light.position,type:"number",length:Hi.light.position.length,value:i.position,default:Hi.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),N.jsx(fm,{label:"Terrain source",fieldSpec:Hi.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:s.source,onChange:this.changeTerrainProperty.bind(this,"source")}),N.jsx(cp,{label:"Terrain exaggeration",fieldSpec:Hi.terrain.exaggeration,value:s.exaggeration,default:Hi.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),N.jsx(cp,{label:"Transition delay",fieldSpec:Hi.transition.delay,value:o.delay,default:Hi.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),N.jsx(cp,{label:"Transition duration",fieldSpec:Hi.transition.duration,value:o.duration,default:Hi.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),N.jsx(ok,{label:nf.maputnik.style_renderer.label,fieldSpec:nf.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol","Open Layers (experimental)"]],value:(ti().b[9][0]++,n["maputnik:renderer"]||(ti().b[9][1]++,"mlgljs")),onChange:t.bind(this,"maputnik:renderer")})]})})}}var IG={exports:{}};(function(e,n){(function(t,r,i){e.exports=i(),e.exports.default=i()})("slugify",ch,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),r=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function i(o,s){if(typeof o!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var a=r[s.locale]||{},h=s.replacement===void 0?"-":s.replacement,g=s.trim===void 0?!0:s.trim,C=o.normalize().split("").reduce(function(B,k){var P=a[k];return P===void 0&&(P=t[k]),P===void 0&&(P=k),P===h&&(P=" "),B+P.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(C=C.replace(/[^A-Za-z0-9\s]/g,"")),g&&(C=C.trim()),C=C.replace(/\s+/g,h),s.lower&&(C=C.toLowerCase()),C}return i.extend=function(o){Object.assign(t,o)},i})})(IG);var FOe=IG.exports;const DOe=oa(FOe);var TG={exports:{}};(function(e,n){(function(t,r){r()})(ch,function(){function t(g,C){return typeof C>"u"?C={autoBom:!1}:typeof C!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),C={autoBom:!C}),C.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function r(g,C,B){var k=new XMLHttpRequest;k.open("GET",g),k.responseType="blob",k.onload=function(){h(k.response,C,B)},k.onerror=function(){console.error("could not download file")},k.send()}function i(g){var C=new XMLHttpRequest;C.open("HEAD",g,!1);try{C.send()}catch{}return 200<=C.status&&299>=C.status}function o(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(C)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(g,C,B){var k=s.URL||s.webkitURL,P=document.createElement("a");C=C||g.name||"download",P.download=C,P.rel="noopener",typeof g=="string"?(P.href=g,P.origin===location.origin?o(P):i(P.href)?r(g,C,B):o(P,P.target="_blank")):(P.href=k.createObjectURL(g),setTimeout(function(){k.revokeObjectURL(P.href)},4e4),setTimeout(function(){o(P)},0))}:"msSaveOrOpenBlob"in navigator?function(g,C,B){if(C=C||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,B),C);else if(i(g))r(g,C,B);else{var k=document.createElement("a");k.href=g,k.target="_blank",setTimeout(function(){o(k)})}}:function(g,C,B,k){if(k=k||open("","_blank"),k&&(k.document.title=k.document.body.innerText="downloading..."),typeof g=="string")return r(g,C,B);var P=g.type==="application/octet-stream",U=/constructor/i.test(s.HTMLElement)||s.safari,Z=/CriOS\/[\d]+/.test(navigator.userAgent);if((Z||P&&U||a)&&typeof FileReader<"u"){var W=new FileReader;W.onloadend=function(){var oe=W.result;oe=Z?oe:oe.replace(/^data:[^;]*;/,"data:attachment/file;"),k?k.location.href=oe:location=oe,k=null},W.readAsDataURL(g)}else{var Q=s.URL||s.webkitURL,q=Q.createObjectURL(g);k?k.location=q:location.href=q,k=null,setTimeout(function(){Q.revokeObjectURL(q)},4e4)}});s.saveAs=h.saveAs=h,e.exports=h})})(TG);var RP=TG.exports;const LOe="4.0.0",UOe="get_your_own_OpIi9ZULNHzrESv6T2vL",ROe="b71f7f0ba4064f5eb9e903859a9cf5c6",KG={openmaptiles:UOe,thunderforest:ROe};function Rn(){var e="/home/runner/work/maputnik/maputnik/src/libs/style.ts",n="90dcc82dd58ae44e1faf5283c5a3a70c09f07bf2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:2},end:{line:49,column:3}},19:{start:{line:48,column:4},end:{line:48,column:33}},20:{start:{line:50,column:19},end:{line:50,column:42}},21:{start:{line:51,column:20},end:{line:51,column:67}},22:{start:{line:52,column:2},end:{line:54,column:3}},23:{start:{line:53,column:4},end:{line:53,column:37}},24:{start:{line:55,column:2},end:{line:55,column:21}},25:{start:{line:58,column:17},end:{line:58,column:45}},26:{start:{line:59,column:2},end:{line:60,column:20}},27:{start:{line:60,column:4},end:{line:60,column:20}},28:{start:{line:61,column:2},end:{line:62,column:20}},29:{start:{line:62,column:4},end:{line:62,column:20}},30:{start:{line:63,column:22},end:{line:63,column:64}},31:{start:{line:64,column:2},end:{line:66,column:3}},32:{start:{line:65,column:4},end:{line:65,column:20}},33:{start:{line:67,column:25},end:{line:73,column:3}},34:{start:{line:74,column:23},end:{line:77,column:3}},35:{start:{line:78,column:2},end:{line:78,column:22}},36:{start:{line:81,column:21},end:{line:81,column:29}},37:{start:{line:82,column:2},end:{line:84,column:5}},38:{start:{line:83,column:4},end:{line:83,column:76}},39:{start:{line:85,column:2},end:{line:93,column:3}},40:{start:{line:86,column:27},end:{line:86,column:73}},41:{start:{line:87,column:4},end:{line:92,column:5}},42:{start:{line:88,column:6},end:{line:91,column:8}},43:{start:{line:94,column:2},end:{line:94,column:22}},44:{start:{line:97,column:26},end:{line:99,column:3}},45:{start:{line:100,column:2},end:{line:100,column:63}},46:{start:{line:101,column:2},end:{line:104,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:56,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:57,column:9},end:{line:57,column:33}},loc:{start:{line:57,column:67},end:{line:79,column:1}},line:57},9:{name:"replaceAccessTokens",decl:{start:{line:80,column:9},end:{line:80,column:28}},loc:{start:{line:80,column:50},end:{line:95,column:1}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:82,column:40},end:{line:82,column:41}},loc:{start:{line:82,column:56},end:{line:84,column:3}},line:82},11:{name:"stripAccessTokens",decl:{start:{line:96,column:9},end:{line:96,column:26}},loc:{start:{line:96,column:37},end:{line:105,column:1}},line:96}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:47,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:47,column:6},end:{line:47,column:89}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:46}},{start:{line:47,column:50},end:{line:47,column:89}}],line:47},5:{loc:{start:{line:50,column:19},end:{line:50,column:42}},type:"binary-expr",locations:[{start:{line:50,column:19},end:{line:50,column:36}},{start:{line:50,column:40},end:{line:50,column:42}}],line:50},6:{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:52,column:6},end:{line:52,column:40}},type:"binary-expr",locations:[{start:{line:52,column:6},end:{line:52,column:24}},{start:{line:52,column:28},end:{line:52,column:40}}],line:52},8:{loc:{start:{line:57,column:56},end:{line:57,column:65}},type:"default-arg",locations:[{start:{line:57,column:63},end:{line:57,column:65}}],line:57},9:{loc:{start:{line:59,column:2},end:{line:60,column:20}},type:"if",locations:[{start:{line:59,column:2},end:{line:60,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:61,column:2},end:{line:62,column:20}},type:"if",locations:[{start:{line:61,column:2},end:{line:62,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},11:{loc:{start:{line:61,column:6},end:{line:61,column:39}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:24}},{start:{line:61,column:28},end:{line:61,column:39}}],line:61},12:{loc:{start:{line:64,column:2},end:{line:66,column:3}},type:"if",locations:[{start:{line:64,column:2},end:{line:66,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},13:{loc:{start:{line:80,column:39},end:{line:80,column:48}},type:"default-arg",locations:[{start:{line:80,column:46},end:{line:80,column:48}}],line:80},14:{loc:{start:{line:85,column:2},end:{line:93,column:3}},type:"if",locations:[{start:{line:85,column:2},end:{line:93,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},15:{loc:{start:{line:85,column:6},end:{line:85,column:114}},type:"binary-expr",locations:[{start:{line:85,column:6},end:{line:85,column:21}},{start:{line:85,column:26},end:{line:85,column:69}},{start:{line:85,column:73},end:{line:85,column:113}}],line:85},16:{loc:{start:{line:87,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:92,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0,0],16:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,iBAAa;AAAA,EACf;AAEA,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC;AAAQ,WAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO;AAAK,WAAO;AAE7C,QAAM,cAAc,eAAe,YAAY,UAAU,IAAI;AAE7D,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IAC9C;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90dcc82dd58ae44e1faf5283c5a3a70c09f07bf2"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Rn=function(){return s},s}Rn();const zOe=(Rn().s[0]++,FG({version:8,sources:{},layers:[]}));function PG(){return Rn().f[0]++,Rn().s[1]++,Math.random().toString(36).substring(2,9)}function jOe(e){return Rn().f[1]++,Rn().s[2]++,Rn().b[1][0]++,!("id"in e)||(Rn().b[1][1]++,!e.id)?(Rn().b[0][0]++,Rn().s[3]++,e.id=PG(),Rn().s[4]++,e):(Rn().b[0][1]++,Rn().s[5]++,e)}function WOe(e){Rn().f[2]++;const n=(Rn().s[6]++,e.layers.map(t=>{Rn().f[3]++;const r=(Rn().s[7]++,{...t});return Rn().s[8]++,delete r.interactive,Rn().s[9]++,r}));return Rn().s[10]++,{...e,layers:n}}function NOe(e){return Rn().f[4]++,Rn().s[11]++,{...e,layers:AZ(e.layers)}}function FG(e){return Rn().f[5]++,Rn().s[12]++,WOe(NOe(jOe(e)))}function GOe(e,n){Rn().f[6]++,Rn().s[13]++;for(let t=(Rn().s[14]++,0);t<e.length;t++){if(Rn().s[15]++,e[t].id===n)return Rn().b[2][0]++,Rn().s[16]++,t;Rn().b[2][1]++}return Rn().s[17]++,null}function sk(e,n,t){Rn().f[7]++,Rn().s[18]++,Rn().b[4][0]++,e==="thunderforest_transport"||(Rn().b[4][1]++,e==="thunderforest_outdoors")?(Rn().b[3][0]++,Rn().s[19]++,e="thunderforest"):Rn().b[3][1]++;const r=(Rn().s[20]++,Rn().b[5][0]++,n.metadata||(Rn().b[5][1]++,{}));let i=(Rn().s[21]++,r[`maputnik:${e}_access_token`]);return Rn().s[22]++,Rn().b[7][0]++,t.allowFallback&&(Rn().b[7][1]++,!i)?(Rn().b[6][0]++,Rn().s[23]++,i=KG[e]):Rn().b[6][1]++,Rn().s[24]++,i}function QOe(e,n,t=(Rn().b[8][0]++,{})){Rn().f[8]++;const r=(Rn().s[25]++,e.sources[n]);if(Rn().s[26]++,r)Rn().b[9][1]++;else return Rn().b[9][0]++,Rn().s[27]++,e;if(Rn().s[28]++,Rn().b[11][0]++,!("url"in r)||(Rn().b[11][1]++,!r.url))return Rn().b[10][0]++,Rn().s[29]++,e;Rn().b[10][1]++;const i=(Rn().s[30]++,sk(n,e,t));if(Rn().s[31]++,i)Rn().b[12][1]++;else return Rn().b[12][0]++,Rn().s[32]++,e;const o=(Rn().s[33]++,{...e.sources,[n]:{...r,url:r.url.replace("{key}",i)}}),s=(Rn().s[34]++,{...e,sources:o});return Rn().s[35]++,s}function $Oe(e,n=(Rn().b[13][0]++,{})){Rn().f[9]++;let t=(Rn().s[36]++,e);if(Rn().s[37]++,Object.keys(e.sources).forEach(r=>{Rn().f[10]++,Rn().s[38]++,t=QOe(t,r,n)}),Rn().s[39]++,Rn().b[15][0]++,e.glyphs&&(Rn().b[15][1]++,e.glyphs.match(/\.tilehosting\.com/)||(Rn().b[15][2]++,e.glyphs.match(/\.maptiler\.com/)))){Rn().b[14][0]++;const r=(Rn().s[40]++,sk("openmaptiles",e,n));Rn().s[41]++,r?(Rn().b[16][0]++,Rn().s[42]++,t={...t,glyphs:e.glyphs.replace("{key}",r)}):Rn().b[16][1]++}else Rn().b[14][1]++;return Rn().s[43]++,t}function YOe(e){Rn().f[11]++;const n=(Rn().s[44]++,{...e.metadata});return Rn().s[45]++,delete n["maputnik:openmaptiles_access_token"],Rn().s[46]++,{...e,metadata:n}}const Mu={ensureStyleValidity:FG,emptyStyle:zOe,indexOfLayer:GOe,generateId:PG,getAccessToken:sk,replaceAccessTokens:$Oe,stripAccessTokens:YOe};function Io(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",n="5ede43596afbfd1204f65c6c1bd54e16d6b65a8a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:13,column:28},end:{line:13,column:35}},1:{start:{line:16,column:4},end:{line:20,column:6}},2:{start:{line:23,column:4},end:{line:31,column:5}},3:{start:{line:24,column:6},end:{line:28,column:9}},4:{start:{line:30,column:6},end:{line:30,column:36}},5:{start:{line:34,column:23},end:{line:34,column:44}},6:{start:{line:35,column:22},end:{line:35,column:55}},7:{start:{line:36,column:17},end:{line:60,column:1}},8:{start:{line:61,column:17},end:{line:61,column:70}},9:{start:{line:62,column:23},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:39}},11:{start:{line:66,column:23},end:{line:66,column:44}},12:{start:{line:67,column:17},end:{line:67,column:83}},13:{start:{line:68,column:23},end:{line:68,column:40}},14:{start:{line:69,column:4},end:{line:69,column:39}},15:{start:{line:72,column:25},end:{line:78,column:5}},16:{start:{line:79,column:4},end:{line:79,column:44}},17:{start:{line:82,column:4},end:{line:137,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:19},end:{line:21,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:15},end:{line:32,column:3}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:17},end:{line:64,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:18},end:{line:70,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:42},end:{line:80,column:3}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:11},end:{line:138,column:3}},line:81}},branchMap:{0:{loc:{start:{line:23,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:31,column:5}},{start:{line:29,column:11},end:{line:31,column:5}}],line:23},1:{loc:{start:{line:35,column:22},end:{line:35,column:55}},type:"binary-expr",locations:[{start:{line:35,column:22},end:{line:35,column:46}},{start:{line:35,column:50},end:{line:35,column:55}}],line:35},2:{loc:{start:{line:99,column:24},end:{line:99,column:58}},type:"binary-expr",locations:[{start:{line:99,column:24},end:{line:99,column:52}},{start:{line:99,column:56},end:{line:99,column:58}}],line:99},3:{loc:{start:{line:108,column:24},end:{line:108,column:58}},type:"binary-expr",locations:[{start:{line:108,column:24},end:{line:108,column:52}},{start:{line:108,column:56},end:{line:108,column:58}}],line:108}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AA+GQ,cAKA,YALA;AA/GR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,sBAAqB;AAE7B,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAGhC,MAAM,sBAAsB;AAW5B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EAEzE,iBAAkB;AAChB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAc;AACZ,QAAG,KAAK,MAAM,SAAS,MAAM;AAC3B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,eAAe;AACb,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ;AAC9C,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,gBAAgB;AACd,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAG,4BAAc;AAAA,UAClB,oBAAC,OAAE,qDAEH;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,gBAC1D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,gBAC/D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,cAAc,KAAK,IAAI;AAAA,gBAErC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,aAAa,KAAK,IAAI;AAAA,gBAEpC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5ede43596afbfd1204f65c6c1bd54e16d6b65a8a"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Io=function(){return s},s}Io();const zP=(Io().s[0]++,LOe);class qOe extends xn.Component{tokenizedStyle(){return Io().f[0]++,Io().s[1]++,rR(Mu.stripAccessTokens(Mu.replaceAccessTokens(this.props.mapStyle)))}exportName(){return Io().f[1]++,Io().s[2]++,this.props.mapStyle.name?(Io().b[0][0]++,Io().s[3]++,DOe(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(Io().b[0][1]++,Io().s[4]++,this.props.mapStyle.id)}downloadHtml(){Io().f[2]++;const n=(Io().s[5]++,this.tokenizedStyle()),t=(Io().s[6]++,Io().b[1][0]++,this.props.mapStyle.name||(Io().b[1][1]++,"Map")),r=(Io().s[7]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${t}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${zP}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${zP}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${n},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(Io().s[8]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(Io().s[9]++,this.exportName());Io().s[10]++,RP.saveAs(i,o+".html")}downloadStyle(){Io().f[3]++;const n=(Io().s[11]++,this.tokenizedStyle()),t=(Io().s[12]++,new Blob([n],{type:"application/json;charset=utf-8"})),r=(Io().s[13]++,this.exportName());Io().s[14]++,RP.saveAs(t,r+".json")}changeMetadataProperty(n,t){Io().f[4]++;const r=(Io().s[15]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[n]:t}});Io().s[16]++,this.props.onStyleChanged(r)}render(){return Io().f[5]++,Io().s[17]++,N.jsx(Bf,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Export Style",className:"maputnik-export-modal",children:N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Download Style"}),N.jsx("p",{children:"Download a JSON style to your computer."}),N.jsxs("div",{children:[N.jsx(fm,{label:nf.maputnik.maptiler_access_token.label,fieldSpec:nf.maputnik.maptiler_access_token,value:(Io().b[2][0]++,this.props.mapStyle.metadata||(Io().b[2][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),N.jsx(fm,{label:nf.maputnik.thunderforest_access_token.label,fieldSpec:nf.maputnik.thunderforest_access_token,value:(Io().b[3][0]++,this.props.mapStyle.metadata||(Io().b[3][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")})]}),N.jsxs("div",{className:"maputnik-modal-export-buttons",children:[N.jsxs(ka,{onClick:this.downloadStyle.bind(this),children:[N.jsx(z6,{}),"Download Style"]}),N.jsxs(ka,{onClick:this.downloadHtml.bind(this),children:[N.jsx(z6,{}),"Download HTML"]})]})]})})}}function w4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",n="950dd35e62562a3439b74678b95f406e749c6958",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"950dd35e62562a3439b74678b95f406e749c6958"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return w4=function(){return s},s}w4();class DG extends xn.Component{render(){return w4().f[0]++,w4().s[0]++,N.jsx(OC,{label:this.props.label,children:N.jsx(vG,{...this.props})})}}function M4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",n="a27c35e986d22656fa80c276efb67df518853ac2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a27c35e986d22656fa80c276efb67df518853ac2"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return M4=function(){return s},s}M4();class VOe extends xn.Component{render(){return M4().f[0]++,M4().s[0]++,N.jsx(Vo,{label:this.props.label,children:N.jsx(tk,{...this.props})})}}function qn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",n="bd3e4d09ce7131c28fb23a5fc0245fe57c891028",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:28,column:9}},1:{start:{line:21,column:29},end:{line:24,column:12}},2:{start:{line:33,column:4},end:{line:36,column:7}},3:{start:{line:39,column:18},end:{line:39,column:47}},4:{start:{line:40,column:4},end:{line:49,column:6}},5:{start:{line:52,column:4},end:{line:79,column:9}},6:{start:{line:60,column:33},end:{line:63,column:12}},7:{start:{line:72,column:33},end:{line:75,column:12}},8:{start:{line:84,column:24},end:{line:91,column:5}},9:{start:{line:85,column:26},end:{line:85,column:64}},10:{start:{line:86,column:6},end:{line:86,column:29}},11:{start:{line:87,column:6},end:{line:90,column:9}},12:{start:{line:92,column:4},end:{line:119,column:9}},13:{start:{line:99,column:29},end:{line:102,column:12}},14:{start:{line:106,column:8},end:{line:117,column:10}},15:{start:{line:114,column:31},end:{line:114,column:52}},16:{start:{line:124,column:24},end:{line:131,column:5}},17:{start:{line:125,column:26},end:{line:125,column:64}},18:{start:{line:126,column:6},end:{line:126,column:29}},19:{start:{line:127,column:6},end:{line:130,column:9}},20:{start:{line:132,column:23},end:{line:137,column:5}},21:{start:{line:133,column:6},end:{line:136,column:9}},22:{start:{line:138,column:4},end:{line:164,column:9}},23:{start:{line:151,column:8},end:{line:162,column:10}},24:{start:{line:159,column:31},end:{line:159,column:52}},25:{start:{line:169,column:4},end:{line:180,column:6}},26:{start:{line:175,column:28},end:{line:178,column:10}},27:{start:{line:185,column:4},end:{line:217,column:9}},28:{start:{line:197,column:12},end:{line:200,column:15}},29:{start:{line:210,column:12},end:{line:213,column:15}},30:{start:{line:222,column:24},end:{line:225,column:5}},31:{start:{line:226,column:4},end:{line:261,column:5}},32:{start:{line:228,column:8},end:{line:228,column:79}},33:{start:{line:230,column:8},end:{line:230,column:85}},34:{start:{line:232,column:8},end:{line:232,column:77}},35:{start:{line:234,column:8},end:{line:234,column:76}},36:{start:{line:236,column:8},end:{line:236,column:77}},37:{start:{line:238,column:8},end:{line:238,column:76}},38:{start:{line:240,column:8},end:{line:240,column:77}},39:{start:{line:242,column:8},end:{line:254,column:13}},40:{start:{line:248,column:36},end:{line:251,column:14}},41:{start:{line:256,column:8},end:{line:256,column:74}},42:{start:{line:258,column:8},end:{line:258,column:74}},43:{start:{line:260,column:8},end:{line:260,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:29,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:29},end:{line:24,column:12}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:24},end:{line:37,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:19},end:{line:50,column:3}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:11},end:{line:80,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:20},end:{line:60,column:21}},loc:{start:{line:60,column:33},end:{line:63,column:12}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:33},end:{line:75,column:12}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:11},end:{line:120,column:3}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:84,column:24},end:{line:84,column:25}},loc:{start:{line:84,column:38},end:{line:91,column:5}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:99,column:20},end:{line:99,column:21}},loc:{start:{line:99,column:29},end:{line:102,column:12}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:105,column:67},end:{line:105,column:68}},loc:{start:{line:105,column:83},end:{line:118,column:7}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:114,column:22},end:{line:114,column:23}},loc:{start:{line:114,column:31},end:{line:114,column:52}},line:114},12:{name:"(anonymous_12)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:11},end:{line:165,column:3}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:124,column:24},end:{line:124,column:25}},loc:{start:{line:124,column:38},end:{line:131,column:5}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:132,column:23},end:{line:132,column:24}},loc:{start:{line:132,column:33},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:150,column:67},end:{line:150,column:68}},loc:{start:{line:150,column:83},end:{line:163,column:7}},line:150},16:{name:"(anonymous_16)",decl:{start:{line:159,column:22},end:{line:159,column:23}},loc:{start:{line:159,column:31},end:{line:159,column:52}},line:159},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:181,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:175,column:18},end:{line:175,column:19}},loc:{start:{line:175,column:28},end:{line:178,column:10}},line:175},19:{name:"(anonymous_19)",decl:{start:{line:184,column:2},end:{line:184,column:3}},loc:{start:{line:184,column:11},end:{line:218,column:3}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:196,column:20},end:{line:196,column:21}},loc:{start:{line:196,column:30},end:{line:201,column:11}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:209,column:20},end:{line:209,column:21}},loc:{start:{line:209,column:33},end:{line:214,column:11}},line:209},22:{name:"(anonymous_22)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:11},end:{line:262,column:3}},line:221},23:{name:"(anonymous_23)",decl:{start:{line:248,column:22},end:{line:248,column:23}},loc:{start:{line:248,column:36},end:{line:251,column:14}},line:248}},branchMap:{0:{loc:{start:{line:39,column:18},end:{line:39,column:47}},type:"binary-expr",locations:[{start:{line:39,column:18},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:39,column:47}}],line:39},1:{loc:{start:{line:59,column:17},end:{line:59,column:47}},type:"binary-expr",locations:[{start:{line:59,column:17},end:{line:59,column:42}},{start:{line:59,column:46},end:{line:59,column:47}}],line:59},2:{loc:{start:{line:71,column:17},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:17},end:{line:71,column:42}},{start:{line:71,column:46},end:{line:71,column:48}}],line:71},3:{loc:{start:{line:226,column:4},end:{line:261,column:5}},type:"switch",locations:[{start:{line:227,column:6},end:{line:228,column:79}},{start:{line:229,column:6},end:{line:230,column:85}},{start:{line:231,column:6},end:{line:232,column:77}},{start:{line:233,column:6},end:{line:234,column:76}},{start:{line:235,column:6},end:{line:236,column:77}},{start:{line:237,column:6},end:{line:238,column:76}},{start:{line:239,column:6},end:{line:240,column:77}},{start:{line:241,column:6},end:{line:254,column:13}},{start:{line:255,column:6},end:{line:256,column:74}},{start:{line:257,column:6},end:{line:258,column:74}},{start:{line:259,column:6},end:{line:260,column:20}}],line:226},4:{loc:{start:{line:252,column:19},end:{line:252,column:90}},type:"binary-expr",locations:[{start:{line:252,column:19},end:{line:252,column:45}},{start:{line:252,column:49},end:{line:252,column:90}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AAwBW,SACL,KADK;AAxBX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAa1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAYA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,WAAW,WAAW,OAAO,eAAe,MACxD;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,qBAAqB,+BAA+B,MAAM,UAAuC;AAAA,EAC/F,SAAS;AACP,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,IACvB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,oBAAC,uBAAqB,GAAG,aACzD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,WAAW,OAAO,kBAAkB;AAAA,YACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,YAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,QACzE,GACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bd3e4d09ce7131c28fb23a5fc0245fe57c891028"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qn=function(){return s},s}qn();class fS extends xn.Component{render(){return qn().f[0]++,qn().s[0]++,N.jsxs("div",{children:[N.jsx(BC,{label:"TileJSON URL",fieldSpec:ma.source_vector.url,value:this.props.source.url,onChange:n=>(qn().f[1]++,qn().s[1]++,this.props.onChange({...this.props.source,url:n}))}),this.props.children]})}}class pS extends xn.Component{changeTileUrls(n){qn().f[2]++,qn().s[2]++,this.props.onChange({...this.props.source,tiles:n})}renderTileUrls(){qn().f[3]++;const n=(qn().s[3]++,qn().b[0][0]++,this.props.source.tiles||(qn().b[0][1]++,[]));return qn().s[4]++,N.jsx(DG,{label:"Tile URL",fieldSpec:ma.source_vector.tiles,type:"url",value:n,onChange:this.changeTileUrls.bind(this)})}render(){return qn().f[4]++,qn().s[5]++,N.jsxs("div",{children:[this.renderTileUrls(),N.jsx(cp,{label:"Min Zoom",fieldSpec:ma.source_vector.minzoom,value:(qn().b[1][0]++,this.props.source.minzoom||(qn().b[1][1]++,0)),onChange:n=>(qn().f[5]++,qn().s[6]++,this.props.onChange({...this.props.source,minzoom:n}))}),N.jsx(cp,{label:"Max Zoom",fieldSpec:ma.source_vector.maxzoom,value:(qn().b[2][0]++,this.props.source.maxzoom||(qn().b[2][1]++,22)),onChange:n=>(qn().f[6]++,qn().s[7]++,this.props.onChange({...this.props.source,maxzoom:n}))}),this.props.children]})}}class HOe extends xn.Component{render(){qn().f[7]++,qn().s[8]++;const n=(t,r)=>{qn().f[8]++;const i=(qn().s[9]++,this.props.source.coordinates.slice(0));qn().s[10]++,i[t]=r,qn().s[11]++,this.props.onChange({...this.props.source,coordinates:i})};return qn().s[12]++,N.jsxs("div",{children:[N.jsx(BC,{label:"Image URL",fieldSpec:ma.source_image.url,value:this.props.source.url,onChange:t=>(qn().f[9]++,qn().s[13]++,this.props.onChange({...this.props.source,url:t}))}),["top left","top right","bottom right","bottom left"].map((t,r)=>(qn().f[10]++,qn().s[14]++,N.jsx(g4,{label:`Coord ${t}`,length:2,type:"number",value:this.props.source.coordinates[r],default:[0,0],onChange:i=>(qn().f[11]++,qn().s[15]++,n(r,i))},t)))]})}}class ZOe extends xn.Component{render(){qn().f[12]++,qn().s[16]++;const n=(r,i)=>{qn().f[13]++;const o=(qn().s[17]++,this.props.source.coordinates.slice(0));qn().s[18]++,o[r]=i,qn().s[19]++,this.props.onChange({...this.props.source,coordinates:o})};qn().s[20]++;const t=r=>{qn().f[14]++,qn().s[21]++,this.props.onChange({...this.props.source,urls:r})};return qn().s[22]++,N.jsxs("div",{children:[N.jsx(DG,{label:"Video URL",fieldSpec:ma.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:t}),["top left","top right","bottom right","bottom left"].map((r,i)=>(qn().f[15]++,qn().s[23]++,N.jsx(g4,{label:`Coord ${r}`,length:2,type:"number",value:this.props.source.coordinates[i],default:[0,0],onChange:o=>(qn().f[16]++,qn().s[24]++,n(i,o))},r)))]})}}class XOe extends xn.Component{render(){return qn().f[17]++,qn().s[25]++,N.jsx(BC,{label:"GeoJSON URL",fieldSpec:ma.source_geojson.data,value:this.props.source.data,onChange:n=>(qn().f[18]++,qn().s[26]++,this.props.onChange({...this.props.source,data:n}))})}}class JOe extends xn.Component{render(){return qn().f[19]++,qn().s[27]++,N.jsxs("div",{children:[N.jsx(Vo,{label:"GeoJSON",fieldSpec:ma.source_geojson.data,children:N.jsx(C8,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:n=>{qn().f[20]++,qn().s[28]++,this.props.onChange({...this.props.source,data:n})}})}),N.jsx(VOe,{label:"Cluster",value:this.props.source.cluster,onChange:n=>{qn().f[21]++,qn().s[29]++,this.props.onChange({...this.props.source,cluster:n})}})]})}}class LG extends xn.Component{render(){qn().f[22]++;const n=(qn().s[30]++,{source:this.props.source,onChange:this.props.onChange});switch(qn().s[31]++,this.props.mode){case"geojson_url":return qn().b[3][0]++,qn().s[32]++,N.jsx(XOe,{...n});case"geojson_json":return qn().b[3][1]++,qn().s[33]++,N.jsx(JOe,{...n});case"tilejson_vector":return qn().b[3][2]++,qn().s[34]++,N.jsx(fS,{...n});case"tilexyz_vector":return qn().b[3][3]++,qn().s[35]++,N.jsx(pS,{...n});case"tilejson_raster":return qn().b[3][4]++,qn().s[36]++,N.jsx(fS,{...n});case"tilexyz_raster":return qn().b[3][5]++,qn().s[37]++,N.jsx(pS,{...n});case"tilejson_raster-dem":return qn().b[3][6]++,qn().s[38]++,N.jsx(fS,{...n});case"tilexyz_raster-dem":return qn().b[3][7]++,qn().s[39]++,N.jsx(pS,{...n,children:N.jsx(ok,{label:"Encoding",fieldSpec:ma.source_raster_dem.encoding,options:Object.keys(ma.source_raster_dem.encoding.values),onChange:t=>(qn().f[23]++,qn().s[40]++,this.props.onChange({...this.props.source,encoding:t})),value:(qn().b[4][0]++,this.props.source.encoding||(qn().b[4][1]++,ma.source_raster_dem.encoding.default))})});case"image":return qn().b[3][8]++,qn().s[41]++,N.jsx(HOe,{...n});case"video":return qn().b[3][9]++,qn().s[42]++,N.jsx(ZOe,{...n});default:return qn().b[3][10]++,qn().s[43]++,null}}}function sh(){var e="/home/runner/work/maputnik/maputnik/src/libs/source.ts",n="315b9927ffd3b5bf51669bb9e53779783a451930",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"315b9927ffd3b5bf51669bb9e53779783a451930"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return sh=function(){return s},s}sh();function eBe(e,n){sh().f[0]++;const t=(sh().s[0]++,{...e.sources});return sh().s[1]++,delete t[n],sh().s[2]++,{...e,sources:t}}function jP(e,n,t){return sh().f[1]++,sh().s[3]++,UG(e,n,t)}function UG(e,n,t){sh().f[2]++;const r=(sh().s[4]++,{...e.sources,[n]:t});return sh().s[5]++,{...e,sources:r}}const tBe={type:"vector",url:"https://api.maptiler.com/tiles/v3/tiles.json?key={key}",title:"OpenMapTiles v3"},nBe={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},rBe={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},iBe={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},WP={openmaptiles:tBe,thunderforest_transport:nBe,thunderforest_outdoors:rBe,open_zoomstack:iBe};function Vt(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",n="0cdb4eacb2560c191df467eefb0fb2a3bf6cb962",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:32,column:9}},1:{start:{line:19,column:23},end:{line:19,column:57}},2:{start:{line:36,column:2},end:{line:40,column:3}},3:{start:{line:37,column:4},end:{line:38,column:30}},4:{start:{line:38,column:6},end:{line:38,column:30}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:45,column:3}},7:{start:{line:42,column:4},end:{line:43,column:34}},8:{start:{line:43,column:6},end:{line:43,column:34}},9:{start:{line:44,column:4},end:{line:44,column:33}},10:{start:{line:46,column:2},end:{line:50,column:3}},11:{start:{line:47,column:4},end:{line:48,column:30}},12:{start:{line:48,column:6},end:{line:48,column:30}},13:{start:{line:49,column:4},end:{line:49,column:29}},14:{start:{line:51,column:2},end:{line:57,column:3}},15:{start:{line:52,column:4},end:{line:56,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:6},end:{line:55,column:28}},18:{start:{line:58,column:2},end:{line:60,column:3}},19:{start:{line:59,column:4},end:{line:59,column:19}},20:{start:{line:61,column:2},end:{line:63,column:3}},21:{start:{line:62,column:4},end:{line:62,column:19}},22:{start:{line:64,column:2},end:{line:64,column:14}},23:{start:{line:68,column:4},end:{line:94,column:9}},24:{start:{line:80,column:27},end:{line:80,column:67}},25:{start:{line:99,column:4},end:{line:99,column:17}},26:{start:{line:100,column:4},end:{line:104,column:6}},27:{start:{line:107,column:19},end:{line:107,column:50}},28:{start:{line:108,column:25},end:{line:108,column:40}},29:{start:{line:109,column:4},end:{line:183,column:5}},30:{start:{line:111,column:8},end:{line:114,column:10}},31:{start:{line:116,column:8},end:{line:120,column:10}},32:{start:{line:122,column:8},end:{line:125,column:10}},33:{start:{line:127,column:8},end:{line:132,column:10}},34:{start:{line:134,column:8},end:{line:137,column:10}},35:{start:{line:139,column:8},end:{line:144,column:10}},36:{start:{line:146,column:8},end:{line:149,column:10}},37:{start:{line:151,column:8},end:{line:156,column:10}},38:{start:{line:158,column:8},end:{line:167,column:10}},39:{start:{line:169,column:8},end:{line:180,column:10}},40:{start:{line:182,column:8},end:{line:182,column:18}},41:{start:{line:185,column:10},end:{line:188,column:3}},42:{start:{line:186,column:33},end:{line:186,column:43}},43:{start:{line:187,column:4},end:{line:187,column:39}},44:{start:{line:189,column:19},end:{line:191,column:3}},45:{start:{line:190,column:4},end:{line:190,column:30}},46:{start:{line:193,column:32},end:{line:195,column:5}},47:{start:{line:196,column:4},end:{line:243,column:9}},48:{start:{line:203,column:27},end:{line:203,column:57}},49:{start:{line:223,column:30},end:{line:223,column:87}},50:{start:{line:248,column:27},end:{line:248,column:40}},51:{start:{line:249,column:4},end:{line:249,column:35}},52:{start:{line:250,column:4},end:{line:250,column:26}},53:{start:{line:253,column:21},end:{line:253,column:40}},54:{start:{line:254,column:26},end:{line:266,column:6}},55:{start:{line:255,column:21},end:{line:255,column:47}},56:{start:{line:256,column:6},end:{line:265,column:8}},57:{start:{line:261,column:29},end:{line:261,column:93}},58:{start:{line:262,column:26},end:{line:262,column:85}},59:{start:{line:267,column:27},end:{line:279,column:6}},60:{start:{line:267,column:75},end:{line:267,column:106}},61:{start:{line:268,column:21},end:{line:268,column:44}},62:{start:{line:269,column:6},end:{line:278,column:8}},63:{start:{line:275,column:26},end:{line:275,column:107}},64:{start:{line:280,column:4},end:{line:309,column:6}},65:{start:{line:303,column:45},end:{line:303,column:109}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:33,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:57}},line:19},2:{name:"editorMode",decl:{start:{line:35,column:9},end:{line:35,column:19}},loc:{start:{line:35,column:28},end:{line:65,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:95,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:184,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:185,column:10},end:{line:185,column:11}},loc:{start:{line:185,column:16},end:{line:188,column:3}},line:185},8:{name:"(anonymous_8)",decl:{start:{line:189,column:19},end:{line:189,column:20}},loc:{start:{line:189,column:31},end:{line:191,column:3}},line:189},9:{name:"(anonymous_9)",decl:{start:{line:192,column:2},end:{line:192,column:3}},loc:{start:{line:192,column:11},end:{line:244,column:3}},line:192},10:{name:"(anonymous_10)",decl:{start:{line:203,column:20},end:{line:203,column:21}},loc:{start:{line:203,column:27},end:{line:203,column:57}},line:203},11:{name:"(anonymous_11)",decl:{start:{line:223,column:20},end:{line:223,column:21}},loc:{start:{line:223,column:30},end:{line:223,column:87}},line:223},12:{name:"(anonymous_12)",decl:{start:{line:247,column:2},end:{line:247,column:3}},loc:{start:{line:247,column:21},end:{line:251,column:3}},line:247},13:{name:"(anonymous_13)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:11},end:{line:310,column:3}},line:252},14:{name:"(anonymous_14)",decl:{start:{line:254,column:60},end:{line:254,column:61}},loc:{start:{line:254,column:74},end:{line:266,column:5}},line:254},15:{name:"(anonymous_15)",decl:{start:{line:261,column:20},end:{line:261,column:21}},loc:{start:{line:261,column:29},end:{line:261,column:93}},line:261},16:{name:"(anonymous_16)",decl:{start:{line:262,column:20},end:{line:262,column:21}},loc:{start:{line:262,column:26},end:{line:262,column:85}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:267,column:61},end:{line:267,column:62}},loc:{start:{line:267,column:75},end:{line:267,column:106}},line:267},18:{name:"(anonymous_18)",decl:{start:{line:267,column:112},end:{line:267,column:113}},loc:{start:{line:267,column:126},end:{line:279,column:5}},line:267},19:{name:"(anonymous_19)",decl:{start:{line:275,column:20},end:{line:275,column:21}},loc:{start:{line:275,column:26},end:{line:275,column:107}},line:275},20:{name:"(anonymous_20)",decl:{start:{line:303,column:23},end:{line:303,column:24}},loc:{start:{line:303,column:45},end:{line:303,column:109}},line:303}},branchMap:{0:{loc:{start:{line:36,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},1:{loc:{start:{line:37,column:4},end:{line:38,column:30}},type:"if",locations:[{start:{line:37,column:4},end:{line:38,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:41,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:43,column:34}},type:"if",locations:[{start:{line:42,column:4},end:{line:43,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:46,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:46,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},5:{loc:{start:{line:47,column:4},end:{line:48,column:30}},type:"if",locations:[{start:{line:47,column:4},end:{line:48,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:51,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:57,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},7:{loc:{start:{line:52,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:56,column:5}},{start:{line:54,column:11},end:{line:56,column:5}}],line:52},8:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},9:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},10:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},11:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},12:{loc:{start:{line:109,column:4},end:{line:183,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:120,column:10}},{start:{line:121,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:144,column:10}},{start:{line:145,column:6},end:{line:149,column:10}},{start:{line:150,column:6},end:{line:156,column:10}},{start:{line:157,column:6},end:{line:167,column:10}},{start:{line:168,column:6},end:{line:180,column:10}},{start:{line:181,column:6},end:{line:182,column:18}}],line:109},13:{loc:{start:{line:118,column:19},end:{line:118,column:42}},type:"binary-expr",locations:[{start:{line:118,column:19},end:{line:118,column:33}},{start:{line:118,column:37},end:{line:118,column:42}}],line:118},14:{loc:{start:{line:124,column:15},end:{line:124,column:72}},type:"binary-expr",locations:[{start:{line:124,column:15},end:{line:124,column:25}},{start:{line:124,column:29},end:{line:124,column:72}}],line:124},15:{loc:{start:{line:129,column:17},end:{line:129,column:80}},type:"binary-expr",locations:[{start:{line:129,column:17},end:{line:129,column:29}},{start:{line:129,column:33},end:{line:129,column:80}}],line:129},16:{loc:{start:{line:130,column:19},end:{line:130,column:38}},type:"binary-expr",locations:[{start:{line:130,column:19},end:{line:130,column:33}},{start:{line:130,column:37},end:{line:130,column:38}}],line:130},17:{loc:{start:{line:131,column:19},end:{line:131,column:39}},type:"binary-expr",locations:[{start:{line:131,column:19},end:{line:131,column:33}},{start:{line:131,column:37},end:{line:131,column:39}}],line:131},18:{loc:{start:{line:136,column:15},end:{line:136,column:72}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:25}},{start:{line:136,column:29},end:{line:136,column:72}}],line:136},19:{loc:{start:{line:141,column:17},end:{line:141,column:80}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:29}},{start:{line:141,column:33},end:{line:141,column:80}}],line:141},20:{loc:{start:{line:142,column:19},end:{line:142,column:38}},type:"binary-expr",locations:[{start:{line:142,column:19},end:{line:142,column:33}},{start:{line:142,column:37},end:{line:142,column:38}}],line:142},21:{loc:{start:{line:143,column:19},end:{line:143,column:39}},type:"binary-expr",locations:[{start:{line:143,column:19},end:{line:143,column:33}},{start:{line:143,column:37},end:{line:143,column:39}}],line:143},22:{loc:{start:{line:148,column:15},end:{line:148,column:72}},type:"binary-expr",locations:[{start:{line:148,column:15},end:{line:148,column:25}},{start:{line:148,column:29},end:{line:148,column:72}}],line:148},23:{loc:{start:{line:153,column:17},end:{line:153,column:80}},type:"binary-expr",locations:[{start:{line:153,column:17},end:{line:153,column:29}},{start:{line:153,column:33},end:{line:153,column:80}}],line:153},24:{loc:{start:{line:154,column:19},end:{line:154,column:38}},type:"binary-expr",locations:[{start:{line:154,column:19},end:{line:154,column:33}},{start:{line:154,column:37},end:{line:154,column:38}}],line:154},25:{loc:{start:{line:155,column:19},end:{line:155,column:39}},type:"binary-expr",locations:[{start:{line:155,column:19},end:{line:155,column:33}},{start:{line:155,column:37},end:{line:155,column:39}}],line:155}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AA+BU,cACA,YADA;AA/BV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAGnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,WAAW,KAAK,MAAM,QAAQ;AAAA,YAC1C,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,QAC/D;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AAQP,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,EAAC,KAAK,yFAAwF;AAAA,UACzG,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,gBAAgB;AAAA,YACjC,CAAC,eAAe,eAAe;AAAA,YAC/B,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,mBAAmB;AAAA,YACtC,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,kBAAkB;AAAA,YACrC,CAAC,uBAAuB,2BAA2B;AAAA,YACnD,CAAC,sBAAsB,uBAAuB;AAAA,YAC9C,CAAC,SAAS,OAAO;AAAA,YACjB,CAAC,SAAS,OAAO;AAAA,UACnB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA;AAAA,MACpB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EACF;AACF;AASA,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM;AAC5B,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA;AAAA,QAJrE;AAAA,MAKP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YACjB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,kCAAoB;AAAA,YACxB,oBAAC,OAAE,sEAEH;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YAClB,oBAAC,OAAE,0GAA4F;AAAA,YAC/F;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA;AAAA,YAC3H;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0cdb4eacb2560c191df467eefb0fb2a3bf6cb962"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Vt=function(){return s},s}Vt();class oBe extends xn.Component{render(){return Vt().f[0]++,Vt().s[0]++,N.jsx("div",{className:"maputnik-public-source",children:N.jsxs(ka,{className:"maputnik-public-source-select",onClick:()=>(Vt().f[1]++,Vt().s[1]++,this.props.onSelect(this.props.id)),children:[N.jsxs("div",{className:"maputnik-public-source-info",children:[N.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),N.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),N.jsx("span",{className:"maputnik-space"}),N.jsx(cR,{})]})})}}function aBe(e){return Vt().f[2]++,Vt().s[2]++,e.type==="raster"?(Vt().b[0][0]++,Vt().s[3]++,e.tiles?(Vt().b[1][0]++,Vt().s[4]++,"tilexyz_raster"):(Vt().b[1][1]++,Vt().s[5]++,"tilejson_raster")):(Vt().b[0][1]++,Vt().s[6]++,e.type==="raster-dem"?(Vt().b[2][0]++,Vt().s[7]++,e.tiles?(Vt().b[3][0]++,Vt().s[8]++,"tilexyz_raster-dem"):(Vt().b[3][1]++,Vt().s[9]++,"tilejson_raster-dem")):(Vt().b[2][1]++,Vt().s[10]++,e.type==="vector"?(Vt().b[4][0]++,Vt().s[11]++,e.tiles?(Vt().b[5][0]++,Vt().s[12]++,"tilexyz_vector"):(Vt().b[5][1]++,Vt().s[13]++,"tilejson_vector")):(Vt().b[4][1]++,Vt().s[14]++,e.type==="geojson"?(Vt().b[6][0]++,Vt().s[15]++,typeof e.data=="string"?(Vt().b[7][0]++,Vt().s[16]++,"geojson_url"):(Vt().b[7][1]++,Vt().s[17]++,"geojson_json")):(Vt().b[6][1]++,Vt().s[18]++,e.type==="image"?(Vt().b[8][0]++,Vt().s[19]++,"image"):(Vt().b[8][1]++,Vt().s[20]++,e.type==="video"?(Vt().b[9][0]++,Vt().s[21]++,"video"):(Vt().b[9][1]++,Vt().s[22]++,null))))))}class sBe extends xn.Component{render(){return Vt().f[3]++,Vt().s[23]++,N.jsxs("div",{className:"maputnik-active-source-type-editor",children:[N.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[N.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),N.jsx("span",{className:"maputnik-space"}),N.jsx(ka,{"aria-label":`Remove '${this.props.sourceId}' source`,className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(Vt().f[4]++,Vt().s[24]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:N.jsx(Qy,{})})]}),N.jsx("div",{className:"maputnik-active-source-type-editor-content",children:N.jsx(LG,{onChange:this.props.onChange,mode:aBe(this.props.source),source:this.props.source})})]})}}class lBe extends xn.Component{constructor(t){Vt().f[5]++,Vt().s[25]++;super(t);rn(this,"onAdd",(Vt().s[41]++,()=>{Vt().f[7]++;const{source:t,sourceId:r}=(Vt().s[42]++,this.state);Vt().s[43]++,this.props.onAdd(r,t)}));rn(this,"onChangeSource",(Vt().s[44]++,t=>{Vt().f[8]++,Vt().s[45]++,this.setState({source:t})}));Vt().s[26]++,this.state={mode:"tilejson_vector",sourceId:Mu.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(t){Vt().f[6]++;const r=(Vt().s[27]++,Vt().b[10][0]++,(Vt().b[11][0]++,this.state||(Vt().b[11][1]++,{})).source||(Vt().b[10][1]++,{})),{protocol:i}=(Vt().s[28]++,window.location);switch(Vt().s[29]++,t){case"geojson_url":return Vt().b[12][0]++,Vt().s[30]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return Vt().b[12][1]++,Vt().s[31]++,{type:"geojson",cluster:(Vt().b[13][0]++,r.cluster||(Vt().b[13][1]++,!1)),data:""};case"tilejson_vector":return Vt().b[12][2]++,Vt().s[32]++,{type:"vector",url:(Vt().b[14][0]++,r.url||(Vt().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_vector":return Vt().b[12][3]++,Vt().s[33]++,{type:"vector",tiles:(Vt().b[15][0]++,r.tiles||(Vt().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Vt().b[16][0]++,r.minzoom||(Vt().b[16][1]++,0)),maxzoom:(Vt().b[17][0]++,r.maxzoom||(Vt().b[17][1]++,14))};case"tilejson_raster":return Vt().b[12][4]++,Vt().s[34]++,{type:"raster",url:(Vt().b[18][0]++,r.url||(Vt().b[18][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster":return Vt().b[12][5]++,Vt().s[35]++,{type:"raster",tiles:(Vt().b[19][0]++,r.tiles||(Vt().b[19][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Vt().b[20][0]++,r.minzoom||(Vt().b[20][1]++,0)),maxzoom:(Vt().b[21][0]++,r.maxzoom||(Vt().b[21][1]++,14))};case"tilejson_raster-dem":return Vt().b[12][6]++,Vt().s[36]++,{type:"raster-dem",url:(Vt().b[22][0]++,r.url||(Vt().b[22][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return Vt().b[12][7]++,Vt().s[37]++,{type:"raster-dem",tiles:(Vt().b[23][0]++,r.tiles||(Vt().b[23][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Vt().b[24][0]++,r.minzoom||(Vt().b[24][1]++,0)),maxzoom:(Vt().b[25][0]++,r.maxzoom||(Vt().b[25][1]++,14))};case"image":return Vt().b[12][8]++,Vt().s[38]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return Vt().b[12][9]++,Vt().s[39]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return Vt().b[12][10]++,Vt().s[40]++,{}}}render(){Vt().f[9]++;const t=(Vt().s[46]++,{doc:Hi.source_vector.type.doc});return Vt().s[47]++,N.jsxs("div",{className:"maputnik-add-source",children:[N.jsx(fm,{label:"Source ID",fieldSpec:{doc:"Unique ID that identifies the source and is used in the layer to reference the source."},value:this.state.sourceId,onChange:r=>(Vt().f[10]++,Vt().s[48]++,this.setState({sourceId:r}))}),N.jsx(ok,{label:"Source Type",fieldSpec:t,options:[["geojson_json","GeoJSON (JSON)"],["geojson_url","GeoJSON (URL)"],["tilejson_vector","Vector (TileJSON URL)"],["tilexyz_vector","Vector (XYZ URLs)"],["tilejson_raster","Raster (TileJSON URL)"],["tilexyz_raster","Raster (XYZ URL)"],["tilejson_raster-dem","Raster DEM (TileJSON URL)"],["tilexyz_raster-dem","Raster DEM (XYZ URLs)"],["image","Image"],["video","Video"]],onChange:r=>(Vt().f[11]++,Vt().s[49]++,this.setState({mode:r,source:this.defaultSource(r)})),value:this.state.mode}),N.jsx(LG,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),N.jsx(ka,{className:"maputnik-add-source-button",onClick:this.onAdd,children:"Add Source"})]})}}class uBe extends xn.Component{stripTitle(n){Vt().f[12]++;const t=(Vt().s[50]++,{...n});return Vt().s[51]++,delete t.title,Vt().s[52]++,t}render(){Vt().f[13]++;const n=(Vt().s[53]++,this.props.mapStyle),t=(Vt().s[54]++,Object.keys(n.sources).map(i=>{Vt().f[14]++;const o=(Vt().s[55]++,n.sources[i]);return Vt().s[56]++,N.jsx(sBe,{sourceId:i,source:o,onChange:s=>(Vt().f[15]++,Vt().s[57]++,this.props.onStyleChanged(UG(n,i,s))),onDelete:()=>(Vt().f[16]++,Vt().s[58]++,this.props.onStyleChanged(eBe(n,i)))},i)})),r=(Vt().s[59]++,Object.keys(WP).filter(i=>(Vt().f[17]++,Vt().s[60]++,!(i in n.sources))).map(i=>{Vt().f[18]++;const o=(Vt().s[61]++,WP[i]);return Vt().s[62]++,N.jsx(oBe,{id:i,type:o.type,title:o.title,onSelect:()=>(Vt().f[19]++,Vt().s[63]++,this.props.onStyleChanged(jP(n,i,this.stripTitle(o))))},i)}));return Vt().s[64]++,N.jsxs(Bf,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Sources",children:[N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Active Sources"}),t]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Choose Public Source"}),N.jsx("p",{children:"Add one of the publicly available sources to your style."}),N.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:r})]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Add New Source"}),N.jsx("p",{children:"Add a new source to your style. You can only choose the source type and id at creation time!"}),N.jsx(lBe,{onAdd:(i,o)=>(Vt().f[20]++,Vt().s[65]++,this.props.onStyleChanged(jP(n,i,o)))})]})]})}}var RG={};Object.defineProperty(RG,"__esModule",{value:!0});var ABe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cBe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dBe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),hBe=Sr,mS=gBe(hBe),fBe=Ym,pBe=mBe(fBe);function mBe(e){return e&&e.__esModule?e:{default:e}}function gBe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function yBe(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function vBe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _Be(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function CBe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var bBe=function(e){CBe(n,e);function n(t){vBe(this,n);var r=_Be(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));r.handleChange=function(o){var s=Array.prototype.slice.call(o.target.files),a=(r.props.as||"url").toLowerCase();Promise.all(s.map(function(h){return new Promise(function(g,C){var B=new FileReader;switch(B.onload=function(k){g([k,h])},a){case"binary":{B.readAsBinaryString(h);break}case"buffer":{B.readAsArrayBuffer(h);break}case"text":{B.readAsText(h);break}case"url":{B.readAsDataURL(h);break}}})})).then(function(h){r.props.onChange(o,h)})},r.triggerInput=function(){var o=pBe.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":cBe(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return dBe(n,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,s=i.style,a=yBe(i,["as","children","style"]),h=o?{position:"absolute",top:"-9999px"}:{};return mS.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:s},mS.createElement("input",ABe({},a,{type:"file",ref:function(C){r._reactFileReaderInput=C},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:h})),o)}}]),n}(mS.Component),xBe=RG.default=bBe;function dd(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",n="c730187d836bc577ee534587d8c8df17ae09966b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:27,column:6}},2:{start:{line:18,column:26},end:{line:18,column:42}},3:{start:{line:21,column:28},end:{line:21,column:49}},4:{start:{line:24,column:137},end:{line:24,column:159}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:21},end:{line:8,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:28,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:26},end:{line:18,column:42}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:22},end:{line:21,column:23}},loc:{start:{line:21,column:28},end:{line:21,column:49}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:24,column:130},end:{line:24,column:131}},loc:{start:{line:24,column:137},end:{line:24,column:159}},line:24}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAqBW,SAWL,KAXK;AArBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAAG,oBAErD,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c730187d836bc577ee534587d8c8df17ae09966b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return dd=function(){return s},s}dd();class wBe extends xn.Component{underlayOnClick(n){dd().f[0]++,dd().s[0]++,n.stopPropagation()}render(){return dd().f[1]++,dd().s[1]++,N.jsxs(Bf,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:n=>(dd().f[2]++,dd().s[2]++,underlayProps(n))},title:this.props.title,onOpenToggle:()=>(dd().f[3]++,dd().s[3]++,this.props.onCancel()),children:[N.jsx("p",{children:this.props.message}),N.jsx("p",{className:"maputnik-dialog__buttons",children:N.jsx(ka,{onClick:n=>(dd().f[4]++,dd().s[4]++,this.props.onCancel(n)),children:"Cancel"})})]})}}const zG=[{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"maptiler-basic-gl-style",title:"Maptiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.8/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.8/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@339e5b7/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"os-zoomstack-outdoor",title:"Zoomstack Outdoor",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{id:"os-zoomstack-road",title:"Zoomstack Road",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{id:"os-zoomstack-light",title:"Zoomstack Light",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{id:"os-zoomstack-night",title:"Zoomstack Night",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="}];function Yn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",n="6f55b81c74a9657afee47a2c5820a136d93a0f65",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:37,column:9}},1:{start:{line:19,column:23},end:{line:19,column:58}},2:{start:{line:42,column:4},end:{line:42,column:17}},3:{start:{line:43,column:4},end:{line:45,column:6}},4:{start:{line:48,column:4},end:{line:50,column:7}},5:{start:{line:53,column:4},end:{line:54,column:26}},6:{start:{line:54,column:6},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:13},end:{line:125,column:3}},31:{start:{line:106,column:21},end:{line:106,column:29}},32:{start:{line:107,column:19},end:{line:107,column:35}},33:{start:{line:108,column:4},end:{line:108,column:22}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:110,column:4},end:{line:123,column:6}},36:{start:{line:112,column:6},end:{line:119,column:7}},37:{start:{line:113,column:8},end:{line:113,column:48}},38:{start:{line:115,column:8},end:{line:117,column:11}},39:{start:{line:118,column:8},end:{line:118,column:15}},40:{start:{line:120,column:6},end:{line:120,column:53}},41:{start:{line:121,column:6},end:{line:121,column:39}},42:{start:{line:122,column:6},end:{line:122,column:26}},43:{start:{line:124,column:4},end:{line:124,column:50}},44:{start:{line:124,column:28},end:{line:124,column:49}},45:{start:{line:127,column:4},end:{line:129,column:7}},46:{start:{line:130,column:4},end:{line:130,column:22}},47:{start:{line:131,column:4},end:{line:131,column:30}},48:{start:{line:133,column:16},end:{line:137,column:3}},49:{start:{line:134,column:4},end:{line:136,column:7}},50:{start:{line:139,column:25},end:{line:150,column:6}},51:{start:{line:140,column:6},end:{line:149,column:8}},52:{start:{line:152,column:4},end:{line:157,column:5}},53:{start:{line:153,column:6},end:{line:156,column:11}},54:{start:{line:155,column:61},end:{line:155,column:78}},55:{start:{line:158,column:4},end:{line:224,column:9}},56:{start:{line:164,column:30},end:{line:164,column:49}},57:{start:{line:220,column:27},end:{line:220,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:38,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:58}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:21},end:{line:46,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:15},end:{line:51,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:27},end:{line:62,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:13},end:{line:105,column:14}},loc:{start:{line:105,column:27},end:{line:125,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:110,column:20},end:{line:110,column:21}},loc:{start:{line:110,column:27},end:{line:123,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:124,column:21},end:{line:124,column:22}},loc:{start:{line:124,column:28},end:{line:124,column:49}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:17},end:{line:132,column:3}},line:126},15:{name:"(anonymous_15)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:25},end:{line:137,column:3}},line:133},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:225,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:139,column:42},end:{line:139,column:43}},loc:{start:{line:139,column:54},end:{line:150,column:5}},line:139},18:{name:"(anonymous_18)",decl:{start:{line:155,column:55},end:{line:155,column:56}},loc:{start:{line:155,column:61},end:{line:155,column:78}},line:155},19:{name:"(anonymous_19)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:30},end:{line:164,column:49}},line:164},20:{name:"(anonymous_20)",decl:{start:{line:220,column:20},end:{line:220,column:21}},loc:{start:{line:220,column:27},end:{line:220,column:56}},line:220}},branchMap:{0:{loc:{start:{line:53,column:4},end:{line:54,column:26}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:152,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:157,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA4BQ,SACE,KADF;AA5BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AAExC,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAeA,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG;AAAG,QAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,WAAW,CAAC,GAAQ,UAAoB;AACtC,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAE9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO;AAAA,UAEN;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAG,0BAAY;AAAA,cAChB,oBAAC,OAAE,qDAAuC;AAAA,cAC1C,oBAAC,mBAAgB,UAAU,KAAK,UAAU,UAAU,IAAI,cAAW,cACjE,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,iBAAO,GACzE;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAG,2BAAa;AAAA,cACjB,qBAAC,OAAE;AAAA;AAAA,gBAC4C,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAW;AAAA,kBACX,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAQ;AAAA,kBACR,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAG,4BAAc;AAAA,cAClB,oBAAC,OAAE,sEAEH;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,cAAY,KAAK,MAAM;AAAA;AAAA,MAClC;AAAA,OACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6f55b81c74a9657afee47a2c5820a136d93a0f65"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Yn=function(){return s},s}Yn();class MBe extends xn.Component{render(){return Yn().f[0]++,Yn().s[0]++,N.jsx("div",{className:"maputnik-public-style",children:N.jsxs(ka,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(Yn().f[1]++,Yn().s[1]++,this.props.onSelect(this.props.url)),children:[N.jsxs("div",{className:"maputnik-public-style-header",children:[N.jsx("div",{children:this.props.title}),N.jsx("span",{className:"maputnik-space"}),N.jsx(cR,{})]}),N.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class SBe extends xn.Component{constructor(t){Yn().f[2]++,Yn().s[2]++;super(t);rn(this,"onStyleSelect",(Yn().s[10]++,t=>{Yn().f[5]++,Yn().s[11]++,this.clearError();let r=(Yn().s[12]++,!1);Yn().s[13]++,fetch(t,{mode:"cors",credentials:"same-origin"}).then(function(i){return Yn().f[6]++,Yn().s[14]++,i.json()}).then(i=>{if(Yn().f[7]++,Yn().s[15]++,r){Yn().b[2][0]++,Yn().s[16]++;return}else Yn().b[2][1]++;Yn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(Yn().s[18]++,Mu.ensureStyleValidity(i));Yn().s[19]++,console.log("Loaded style ",o.id),Yn().s[20]++,this.props.onStyleOpen(o),Yn().s[21]++,this.onOpenToggle()}).catch(i=>{Yn().f[8]++,Yn().s[22]++,this.setState({error:`Failed to load: '${t}'`,activeRequest:null,activeRequestUrl:null}),Yn().s[23]++,console.error(i),Yn().s[24]++,console.warn("Could not open the style URL",t)}),Yn().s[25]++,this.setState({activeRequest:{abort:function(){Yn().f[9]++,Yn().s[26]++,r=!0}},activeRequestUrl:t})}));rn(this,"onSubmitUrl",(Yn().s[27]++,t=>{Yn().f[10]++,Yn().s[28]++,t.preventDefault(),Yn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));rn(this,"onUpload",(Yn().s[30]++,(t,r)=>{Yn().f[11]++;const[,i]=(Yn().s[31]++,r[0]),o=(Yn().s[32]++,new FileReader);Yn().s[33]++,this.clearError(),Yn().s[34]++,o.readAsText(i,"UTF-8"),Yn().s[35]++,o.onload=s=>{var h;Yn().f[12]++;let a;Yn().s[36]++;try{Yn().s[37]++,a=JSON.parse((h=s.target)==null?void 0:h.result)}catch(g){Yn().s[38]++,this.setState({error:g.toString()}),Yn().s[39]++;return}Yn().s[40]++,a=Mu.ensureStyleValidity(a),Yn().s[41]++,this.props.onStyleOpen(a),Yn().s[42]++,this.onOpenToggle()},Yn().s[43]++,o.onerror=s=>(Yn().f[13]++,Yn().s[44]++,console.log(s.target))}));rn(this,"onChangeUrl",(Yn().s[48]++,t=>{Yn().f[15]++,Yn().s[49]++,this.setState({styleUrl:t})}));Yn().s[3]++,this.state={styleUrl:""}}clearError(){Yn().f[3]++,Yn().s[4]++,this.setState({error:null})}onCancelActiveRequest(t){Yn().f[4]++,Yn().s[5]++,t?(Yn().b[0][0]++,Yn().s[6]++,t.stopPropagation()):Yn().b[0][1]++,Yn().s[7]++,this.state.activeRequest?(Yn().b[1][0]++,Yn().s[8]++,this.state.activeRequest.abort(),Yn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):Yn().b[1][1]++}onOpenToggle(){Yn().f[14]++,Yn().s[45]++,this.setState({styleUrl:""}),Yn().s[46]++,this.clearError(),Yn().s[47]++,this.props.onOpenToggle()}render(){Yn().f[16]++;const t=(Yn().s[50]++,zG.map(i=>(Yn().f[17]++,Yn().s[51]++,N.jsx(MBe,{url:i.url,title:i.title,thumbnailUrl:i.thumbnail,onSelect:this.onStyleSelect},i.id))));let r;return Yn().s[52]++,this.state.error?(Yn().b[3][0]++,Yn().s[53]++,r=N.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,N.jsx("a",{href:"#",onClick:()=>(Yn().f[18]++,Yn().s[54]++,this.clearError()),className:"maputnik-modal-error-close",children:""})]})):Yn().b[3][1]++,Yn().s[55]++,N.jsxs("div",{children:[N.jsxs(Bf,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(Yn().f[19]++,Yn().s[56]++,this.onOpenToggle()),title:"Open Style",children:[r,N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Upload Style"}),N.jsx("p",{children:"Upload a JSON style from your computer."}),N.jsx(xBe,{onChange:this.onUpload,tabIndex:-1,"aria-label":"Style file",children:N.jsxs(ka,{className:"maputnik-upload-button",children:[N.jsx(XJ,{})," Upload"]})})]}),N.jsx("section",{className:"maputnik-modal-section",children:N.jsxs("form",{onSubmit:this.onSubmitUrl,children:[N.jsx("h1",{children:"Load from URL"}),N.jsxs("p",{children:["Load from a URL. Note that the URL must have ",N.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]}),N.jsx(rk,{"aria-label":"Style URL","data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:"Enter URL...",value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),N.jsx("div",{children:N.jsx(ka,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[N.jsx("h1",{children:"Gallery Styles"}),N.jsx("p",{children:"Open one of the publicly available styles to start from."}),N.jsx("div",{className:"maputnik-style-gallery-container",children:t})]})]}),N.jsx(wBe,{isOpen:!!this.state.activeRequest,title:"Loading style",onCancel:i=>(Yn().f[20]++,Yn().s[57]++,this.onCancelActiveRequest(i)),message:"Loading: "+this.state.activeRequestUrl})]})}}function tf(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",n="5c6b0b4c3c3cced12e6393d9679f373c813a1e88",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:39,column:5}},1:{start:{line:40,column:25},end:{line:113,column:5}},2:{start:{line:114,column:4},end:{line:143,column:6}},3:{start:{line:128,column:12},end:{line:131,column:22}},4:{start:{line:135,column:12},end:{line:139,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:144,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:127,column:57},end:{line:127,column:58}},loc:{start:{line:127,column:72},end:{line:132,column:11}},line:127},2:{name:"(anonymous_2)",decl:{start:{line:134,column:65},end:{line:134,column:66}},loc:{start:{line:134,column:80},end:{line:140,column:11}},line:134}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAea,SAwCA,UAxCA,KAwCA,YAxCA;AAfb,OAAO,WAAW;AAElB,OAAO,WAAW;AASlB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,aAAQ,WAAU,mDACjB;AAAA,+BAAC,OAAE;AAAA;AAAA,YACK,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAE,0EAA4D;AAAA,UAC/D,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5c6b0b4c3c3cced12e6393d9679f373c813a1e88"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return tf=function(){return s},s}tf();class EBe extends xn.Component{render(){tf().f[0]++;const n=(tf().s[0]++,[{key:N.jsx("kbd",{children:"?"}),text:"Shortcuts menu"},{key:N.jsx("kbd",{children:"o"}),text:"Open modal"},{key:N.jsx("kbd",{children:"e"}),text:"Export modal"},{key:N.jsx("kbd",{children:"d"}),text:"Data Sources modal"},{key:N.jsx("kbd",{children:"s"}),text:"Style Settings modal"},{key:N.jsx("kbd",{children:"i"}),text:"Toggle inspect"},{key:N.jsx("kbd",{children:"m"}),text:"Focus map"},{key:N.jsx("kbd",{children:"!"}),text:"Debug modal"}]),t=(tf().s[1]++,[{key:N.jsx("kbd",{children:"+"}),text:"Increase the zoom level by 1."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"+"})]}),text:"Increase the zoom level by 2."},{key:N.jsx("kbd",{children:"-"}),text:"Decrease the zoom level by 1."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"-"})]}),text:"Decrease the zoom level by 2."},{key:N.jsx("kbd",{children:"Up"}),text:"Pan up by 100 pixels."},{key:N.jsx("kbd",{children:"Down"}),text:"Pan down by 100 pixels."},{key:N.jsx("kbd",{children:"Left"}),text:"Pan left by 100 pixels."},{key:N.jsx("kbd",{children:"Right"}),text:"Pan right by 100 pixels."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Right"})]}),text:"Increase the rotation by 15 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Left"})]}),text:"Decrease the rotation by 15 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Up"})]}),text:"Increase the pitch by 10 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Down"})]}),text:"Decrease the pitch by 10 degrees."}]);return tf().s[2]++,N.jsx(Bf,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Shortcuts",children:N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[N.jsxs("p",{children:["Press ",N.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]}),N.jsx("dl",{children:n.map((r,i)=>(tf().f[1]++,tf().s[3]++,N.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[N.jsx("dt",{children:r.key},"dt"+i),N.jsx("dd",{children:r.text},"dd"+i)]},i)))}),N.jsx("p",{children:"If the Map is in focused you can use the following shortcuts"}),N.jsx("ul",{children:t.map((r,i)=>(tf().f[2]++,tf().s[4]++,N.jsxs("li",{children:[N.jsx("span",{children:r.key})," ",r.text]},i)))})]})})}}const OBe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function dm(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",n="61657e6b288c15c4507475083ae2151817c1dbb9",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",statementMap:{0:{start:{line:7,column:12},end:{line:10,column:3}},1:{start:{line:8,column:4},end:{line:8,column:76}},2:{start:{line:9,column:4},end:{line:9,column:30}},3:{start:{line:12,column:4},end:{line:27,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:12},end:{line:7,column:13}},loc:{start:{line:7,column:18},end:{line:10,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx"],names:[],mappings:"AA2BM,SACE,KADF;AA3BN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAGlB,OAAO,eAAe;AAOtB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,UAAU,MAAM;AACd,WAAO,KAAK,kDAAkD,QAAQ;AAEtE,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAM;AAAA,QAEN,+BAAC,SAAI,WAAU,yBACb;AAAA,8BAAC,SAAI,KAAK,WAAW,WAAU,+BAA8B;AAAA,UAC7D,oBAAC,QAAG,sDAAwC;AAAA,UAC5C,oBAAC,OAAE,WAAU,sCAAqC,uLAAyK;AAAA,UAC3N,oBAAC,eAAY,SAAS,KAAK,SAAS,WAAU,kEAAiE,sCAAwB;AAAA,UACvI,oBAAC,OAAE,WAAU,mCAAkC,mEAAqD;AAAA,WACtG;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61657e6b288c15c4507475083ae2151817c1dbb9"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return dm=function(){return s},s}dm();class BBe extends xn.Component{constructor(){super(...arguments);rn(this,"onClick",(dm().s[0]++,()=>{dm().f[0]++,dm().s[1]++,window.open("https://gregorywolanski.typeform.com/to/cPgaSY","_blank"),dm().s[2]++,this.props.onOpenToggle()}))}render(){return dm().f[1]++,dm().s[3]++,N.jsx(Bf,{"data-wd-key":"modal:survey",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Maputnik Survey",children:N.jsxs("div",{className:"maputnik-modal-survey",children:[N.jsx("img",{src:OBe,className:"maputnik-modal-survey__logo"}),N.jsx("h1",{children:"You + Maputnik = Maputnik better for you"}),N.jsx("p",{className:"maputnik-modal-survey__description",children:"We dont track you, so we dont know how you use Maputnik. Help us make Maputnik better for you by completing a 7minute survey carried out by our contributing designer."}),N.jsx(ka,{onClick:this.onClick,className:"maputnik-big-button maputnik-white-button maputnik-wide-button",children:"Take the Maputnik Survey"}),N.jsx("p",{className:"maputnik-modal-survey__footnote",children:"It takes 7 minutes, tops! Every question is optional."})]})})}}function Bl(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",n="3e2ef17c22ea77c711c82e681a7c05add06fcb64",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:6,column:34}},1:{start:{line:7,column:20},end:{line:7,column:48}},2:{start:{line:8,column:19},end:{line:8,column:49}},3:{start:{line:9,column:19},end:{line:9,column:49}},4:{start:{line:10,column:4},end:{line:52,column:6}},5:{start:{line:21,column:14},end:{line:25,column:27}},6:{start:{line:22,column:96},end:{line:22,column:153}},7:{start:{line:28,column:14},end:{line:32,column:27}},8:{start:{line:29,column:96},end:{line:29,column:153}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:53,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:20,column:140},end:{line:20,column:141}},loc:{start:{line:20,column:156},end:{line:26,column:13}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:89},end:{line:22,column:90}},loc:{start:{line:22,column:96},end:{line:22,column:153}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:27,column:136},end:{line:27,column:137}},loc:{start:{line:27,column:152},end:{line:33,column:13}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:29,column:89},end:{line:29,column:90}},loc:{start:{line:29,column:96},end:{line:29,column:153}},line:29}},branchMap:{0:{loc:{start:{line:20,column:12},end:{line:26,column:17}},type:"binary-expr",locations:[{start:{line:20,column:12},end:{line:20,column:44}},{start:{line:20,column:64},end:{line:26,column:17}}],line:20},1:{loc:{start:{line:27,column:12},end:{line:33,column:17}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:40}},{start:{line:27,column:60},end:{line:33,column:17}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAsCQ,cAKQ,YALR;AAtCR,OAAO,WAAW;AAElB,OAAO,WAAW;AAqBlB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,UAAM,EAAC,QAAO,IAAI,KAAK;AAEvB,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAG,qBAAO;AAAA,YACV,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,qBAAC,OACC;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3e2ef17c22ea77c711c82e681a7c05add06fcb64"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Bl=function(){return s},s}Bl();class kBe extends xn.Component{render(){Bl().f[0]++;const{mapView:n}=(Bl().s[0]++,this.props),t=(Bl().s[1]++,Math.round(n.zoom)+1),r=(Bl().s[2]++,+n.center.lng.toFixed(5)),i=(Bl().s[3]++,+n.center.lat.toFixed(5));return Bl().s[4]++,N.jsxs(Bf,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Debug",children:[N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[N.jsx("h1",{children:"Options"}),(Bl().b[0][0]++,this.props.renderer==="mlgljs"&&(Bl().b[0][1]++,N.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([o,s])=>(Bl().f[1]++,Bl().s[5]++,N.jsx("li",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",checked:s,onChange:a=>(Bl().f[2]++,Bl().s[6]++,this.props.onChangeMaplibreGlDebug(o,a.target.checked))})," ",o]})},o)))}))),(Bl().b[1][0]++,this.props.renderer==="ol"&&(Bl().b[1][1]++,N.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([o,s])=>(Bl().f[3]++,Bl().s[7]++,N.jsx("li",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",checked:s,onChange:a=>(Bl().f[4]++,Bl().s[8]++,this.props.onChangeOpenlayersDebug(o,a.target.checked))})," ",o]})},o)))})))]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Links"}),N.jsxs("p",{children:[N.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${t}/${i}/${r}`,children:"Open in OSM"}),"  Opens the current view on openstreetmap.org"]})]})]})}}var y1={},S4={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */S4.exports;(function(e,n){(function(t){var r=n&&!n.nodeType&&n,i=e&&!e.nodeType&&e,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,h=36,g=1,C=26,B=38,k=700,P=72,U=128,Z="-",W=/^xn--/,Q=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=h-g,Ae=Math.floor,ae=String.fromCharCode,se;function ye(He){throw new RangeError(oe[He])}function De(He,Je){for(var tt=He.length,on=[];tt--;)on[tt]=Je(He[tt]);return on}function Ne(He,Je){var tt=He.split("@"),on="";tt.length>1&&(on=tt[0]+"@",He=tt[1]),He=He.replace(q,".");var mt=He.split("."),dt=De(mt,Je).join(".");return on+dt}function et(He){for(var Je=[],tt=0,on=He.length,mt,dt;tt<on;)mt=He.charCodeAt(tt++),mt>=55296&&mt<=56319&&tt<on?(dt=He.charCodeAt(tt++),(dt&64512)==56320?Je.push(((mt&1023)<<10)+(dt&1023)+65536):(Je.push(mt),tt--)):Je.push(mt);return Je}function ft(He){return De(He,function(Je){var tt="";return Je>65535&&(Je-=65536,tt+=ae(Je>>>10&1023|55296),Je=56320|Je&1023),tt+=ae(Je),tt}).join("")}function Ke(He){return He-48<10?He-22:He-65<26?He-65:He-97<26?He-97:h}function rt(He,Je){return He+22+75*(He<26)-((Je!=0)<<5)}function _e(He,Je,tt){var on=0;for(He=tt?Ae(He/k):He>>1,He+=Ae(He/Je);He>re*C>>1;on+=h)He=Ae(He/re);return Ae(on+(re+1)*He/(He+B))}function Ut(He){var Je=[],tt=He.length,on,mt=0,dt=U,kt=P,Pt,Me,he,be,Pe,Ze,nt,xt,Ft;for(Pt=He.lastIndexOf(Z),Pt<0&&(Pt=0),Me=0;Me<Pt;++Me)He.charCodeAt(Me)>=128&&ye("not-basic"),Je.push(He.charCodeAt(Me));for(he=Pt>0?Pt+1:0;he<tt;){for(be=mt,Pe=1,Ze=h;he>=tt&&ye("invalid-input"),nt=Ke(He.charCodeAt(he++)),(nt>=h||nt>Ae((a-mt)/Pe))&&ye("overflow"),mt+=nt*Pe,xt=Ze<=kt?g:Ze>=kt+C?C:Ze-kt,!(nt<xt);Ze+=h)Ft=h-xt,Pe>Ae(a/Ft)&&ye("overflow"),Pe*=Ft;on=Je.length+1,kt=_e(mt-be,on,be==0),Ae(mt/on)>a-dt&&ye("overflow"),dt+=Ae(mt/on),mt%=on,Je.splice(mt++,0,dt)}return ft(Je)}function jt(He){var Je,tt,on,mt,dt,kt,Pt,Me,he,be,Pe,Ze=[],nt,xt,Ft,Dt;for(He=et(He),nt=He.length,Je=U,tt=0,dt=P,kt=0;kt<nt;++kt)Pe=He[kt],Pe<128&&Ze.push(ae(Pe));for(on=mt=Ze.length,mt&&Ze.push(Z);on<nt;){for(Pt=a,kt=0;kt<nt;++kt)Pe=He[kt],Pe>=Je&&Pe<Pt&&(Pt=Pe);for(xt=on+1,Pt-Je>Ae((a-tt)/xt)&&ye("overflow"),tt+=(Pt-Je)*xt,Je=Pt,kt=0;kt<nt;++kt)if(Pe=He[kt],Pe<Je&&++tt>a&&ye("overflow"),Pe==Je){for(Me=tt,he=h;be=he<=dt?g:he>=dt+C?C:he-dt,!(Me<be);he+=h)Dt=Me-be,Ft=h-be,Ze.push(ae(rt(be+Dt%Ft,0))),Me=Ae(Dt/Ft);Ze.push(ae(rt(Me,0))),dt=_e(tt,xt,on==mt),tt=0,++on}++tt,++Je}return Ze.join("")}function nn(He){return Ne(He,function(Je){return W.test(Je)?Ut(Je.slice(4).toLowerCase()):Je})}function Qt(He){return Ne(He,function(Je){return Q.test(Je)?"xn--"+jt(Je):Je})}if(s={version:"1.4.1",ucs2:{decode:et,encode:ft},decode:Ut,encode:jt,toASCII:Qt,toUnicode:nn},r&&i)if(e.exports==r)i.exports=s;else for(se in s)s.hasOwnProperty(se)&&(r[se]=s[se]);else t.punycode=s})(ch)})(S4,S4.exports);var IBe=S4.exports,TBe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;n[t]=i;for(t in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var o=Object.getOwnPropertySymbols(n);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(n,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(n,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0},NP=typeof Symbol<"u"&&Symbol,KBe=TBe,PBe=function(){return typeof NP!="function"||typeof Symbol!="function"||typeof NP("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:KBe()},GP={foo:{}},FBe=Object,DBe=function(){return{__proto__:GP}.foo===GP.foo&&!({__proto__:null}instanceof FBe)},LBe="Function.prototype.bind called on incompatible ",UBe=Object.prototype.toString,RBe=Math.max,zBe="[object Function]",QP=function(n,t){for(var r=[],i=0;i<n.length;i+=1)r[i]=n[i];for(var o=0;o<t.length;o+=1)r[o+n.length]=t[o];return r},jBe=function(n,t){for(var r=[],i=t||0,o=0;i<n.length;i+=1,o+=1)r[o]=n[i];return r},WBe=function(e,n){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=n);return t},NBe=function(n){var t=this;if(typeof t!="function"||UBe.apply(t)!==zBe)throw new TypeError(LBe+t);for(var r=jBe(arguments,1),i,o=function(){if(this instanceof i){var C=t.apply(this,QP(r,arguments));return Object(C)===C?C:this}return t.apply(n,QP(r,arguments))},s=RBe(0,t.length-r.length),a=[],h=0;h<s;h++)a[h]="$"+h;if(i=Function("binder","return function ("+WBe(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var g=function(){};g.prototype=t.prototype,i.prototype=new g,g.prototype=null}return i},GBe=NBe,lk=Function.prototype.bind||GBe,QBe=Function.prototype.call,$Be=Object.prototype.hasOwnProperty,YBe=lk,qBe=YBe.call(QBe,$Be),Co,Fy=SyntaxError,jG=Function,vy=TypeError,gS=function(e){try{return jG('"use strict"; return ('+e+").constructor;")()}catch{}},r1=Object.getOwnPropertyDescriptor;if(r1)try{r1({},"")}catch{r1=null}var yS=function(){throw new vy},VBe=r1?function(){try{return arguments.callee,yS}catch{try{return r1(arguments,"callee").get}catch{return yS}}}():yS,_g=PBe(),HBe=DBe(),iu=Object.getPrototypeOf||(HBe?function(e){return e.__proto__}:null),Tg={},ZBe=typeof Uint8Array>"u"||!iu?Co:iu(Uint8Array),i1={"%AggregateError%":typeof AggregateError>"u"?Co:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Co:ArrayBuffer,"%ArrayIteratorPrototype%":_g&&iu?iu([][Symbol.iterator]()):Co,"%AsyncFromSyncIteratorPrototype%":Co,"%AsyncFunction%":Tg,"%AsyncGenerator%":Tg,"%AsyncGeneratorFunction%":Tg,"%AsyncIteratorPrototype%":Tg,"%Atomics%":typeof Atomics>"u"?Co:Atomics,"%BigInt%":typeof BigInt>"u"?Co:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Co:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Co:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Co:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Co:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Co:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Co:FinalizationRegistry,"%Function%":jG,"%GeneratorFunction%":Tg,"%Int8Array%":typeof Int8Array>"u"?Co:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Co:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Co:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_g&&iu?iu(iu([][Symbol.iterator]())):Co,"%JSON%":typeof JSON=="object"?JSON:Co,"%Map%":typeof Map>"u"?Co:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_g||!iu?Co:iu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Co:Promise,"%Proxy%":typeof Proxy>"u"?Co:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Co:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Co:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_g||!iu?Co:iu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Co:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_g&&iu?iu(""[Symbol.iterator]()):Co,"%Symbol%":_g?Symbol:Co,"%SyntaxError%":Fy,"%ThrowTypeError%":VBe,"%TypedArray%":ZBe,"%TypeError%":vy,"%Uint8Array%":typeof Uint8Array>"u"?Co:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Co:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Co:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Co:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Co:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Co:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Co:WeakSet};if(iu)try{null.error}catch(e){var XBe=iu(iu(e));i1["%Error.prototype%"]=XBe}var JBe=function e(n){var t;if(n==="%AsyncFunction%")t=gS("async function () {}");else if(n==="%GeneratorFunction%")t=gS("function* () {}");else if(n==="%AsyncGeneratorFunction%")t=gS("async function* () {}");else if(n==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(n==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&iu&&(t=iu(i.prototype))}return i1[n]=t,t},$P={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wb=lk,E4=qBe,e7e=wb.call(Function.call,Array.prototype.concat),t7e=wb.call(Function.apply,Array.prototype.splice),YP=wb.call(Function.call,String.prototype.replace),O4=wb.call(Function.call,String.prototype.slice),n7e=wb.call(Function.call,RegExp.prototype.exec),r7e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,i7e=/\\(\\)?/g,o7e=function(n){var t=O4(n,0,1),r=O4(n,-1);if(t==="%"&&r!=="%")throw new Fy("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Fy("invalid intrinsic syntax, expected opening `%`");var i=[];return YP(n,r7e,function(o,s,a,h){i[i.length]=a?YP(h,i7e,"$1"):s||o}),i},a7e=function(n,t){var r=n,i;if(E4($P,r)&&(i=$P[r],r="%"+i[0]+"%"),E4(i1,r)){var o=i1[r];if(o===Tg&&(o=JBe(r)),typeof o>"u"&&!t)throw new vy("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Fy("intrinsic "+n+" does not exist!")},k1=function(n,t){if(typeof n!="string"||n.length===0)throw new vy("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new vy('"allowMissing" argument must be a boolean');if(n7e(/^%?[^%]*%?$/,n)===null)throw new Fy("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=o7e(n),i=r.length>0?r[0]:"",o=a7e("%"+i+"%",t),s=o.name,a=o.value,h=!1,g=o.alias;g&&(i=g[0],t7e(r,e7e([0,1],g)));for(var C=1,B=!0;C<r.length;C+=1){var k=r[C],P=O4(k,0,1),U=O4(k,-1);if((P==='"'||P==="'"||P==="`"||U==='"'||U==="'"||U==="`")&&P!==U)throw new Fy("property names with quotes must have matching quotes");if((k==="constructor"||!B)&&(h=!0),i+="."+k,s="%"+i+"%",E4(i1,s))a=i1[s];else if(a!=null){if(!(k in a)){if(!t)throw new vy("base intrinsic for "+n+" exists, but the property is not available.");return}if(r1&&C+1>=r.length){var Z=r1(a,k);B=!!Z,B&&"get"in Z&&!("originalValue"in Z.get)?a=Z.get:a=a[k]}else B=E4(a,k),a=a[k];B&&!h&&(i1[s]=a)}}return a},WG={exports:{}},s7e=k1,cO=s7e("%Object.defineProperty%",!0),dO=function(){if(cO)try{return cO({},"a",{value:1}),!0}catch{return!1}return!1};dO.hasArrayLengthDefineBug=function(){if(!dO())return null;try{return cO([],"length",{value:1}).length!==1}catch{return!0}};var NG=dO,l7e=k1,k2=l7e("%Object.getOwnPropertyDescriptor%",!0);if(k2)try{k2([],"length")}catch{k2=null}var GG=k2,u7e=NG(),uk=k1,j_=u7e&&uk("%Object.defineProperty%",!0);if(j_)try{j_({},"a",{value:1})}catch{j_=!1}var A7e=uk("%SyntaxError%"),Cg=uk("%TypeError%"),qP=GG,c7e=function(n,t,r){if(!n||typeof n!="object"&&typeof n!="function")throw new Cg("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Cg("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Cg("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Cg("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Cg("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Cg("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,h=!!qP&&qP(n,t);if(j_)j_(n,t,{configurable:s===null&&h?h.configurable:!s,enumerable:i===null&&h?h.enumerable:!i,value:r,writable:o===null&&h?h.writable:!o});else if(a||!i&&!o&&!s)n[t]=r;else throw new A7e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},QG=k1,VP=c7e,d7e=NG(),HP=GG,ZP=QG("%TypeError%"),h7e=QG("%Math.floor%"),f7e=function(n,t){if(typeof n!="function")throw new ZP("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||h7e(t)!==t)throw new ZP("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in n&&HP){var s=HP(n,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(d7e?VP(n,"length",t,!0,!0):VP(n,"length",t)),n};(function(e){var n=lk,t=k1,r=f7e,i=t("%TypeError%"),o=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||n.call(s,o),h=t("%Object.defineProperty%",!0),g=t("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}e.exports=function(k){if(typeof k!="function")throw new i("a function is required");var P=a(n,s,arguments);return r(P,1+g(0,k.length-(arguments.length-1)),!0)};var C=function(){return a(n,o,arguments)};h?h(e.exports,"apply",{value:C}):e.exports.apply=C})(WG);var p7e=WG.exports,$G=k1,YG=p7e,m7e=YG($G("String.prototype.indexOf")),g7e=function(n,t){var r=$G(n,!!t);return typeof r=="function"&&m7e(n,".prototype.")>-1?YG(r):r};const y7e={},v7e=Object.freeze(Object.defineProperty({__proto__:null,default:y7e},Symbol.toStringTag,{value:"Module"})),_7e=xO(v7e);var Ak=typeof Map=="function"&&Map.prototype,vS=Object.getOwnPropertyDescriptor&&Ak?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,B4=Ak&&vS&&typeof vS.get=="function"?vS.get:null,XP=Ak&&Map.prototype.forEach,ck=typeof Set=="function"&&Set.prototype,_S=Object.getOwnPropertyDescriptor&&ck?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,k4=ck&&_S&&typeof _S.get=="function"?_S.get:null,JP=ck&&Set.prototype.forEach,C7e=typeof WeakMap=="function"&&WeakMap.prototype,W_=C7e?WeakMap.prototype.has:null,b7e=typeof WeakSet=="function"&&WeakSet.prototype,N_=b7e?WeakSet.prototype.has:null,x7e=typeof WeakRef=="function"&&WeakRef.prototype,eF=x7e?WeakRef.prototype.deref:null,w7e=Boolean.prototype.valueOf,M7e=Object.prototype.toString,S7e=Function.prototype.toString,E7e=String.prototype.match,dk=String.prototype.slice,Mm=String.prototype.replace,O7e=String.prototype.toUpperCase,tF=String.prototype.toLowerCase,qG=RegExp.prototype.test,nF=Array.prototype.concat,rf=Array.prototype.join,B7e=Array.prototype.slice,rF=Math.floor,hO=typeof BigInt=="function"?BigInt.prototype.valueOf:null,CS=Object.getOwnPropertySymbols,fO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ju=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Dy||!0)?Symbol.toStringTag:null,VG=Object.prototype.propertyIsEnumerable,iF=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function oF(e,n){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||qG.call(/e/,n))return n;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-rF(-e):rF(e);if(r!==e){var i=String(r),o=dk.call(n,i.length+1);return Mm.call(i,t,"$&_")+"."+Mm.call(Mm.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Mm.call(n,t,"$&_")}var pO=_7e,aF=pO.custom,sF=ZG(aF)?aF:null,k7e=function e(n,t,r,i){var o=t||{};if(hm(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hm(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=hm(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hm(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hm(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof n>"u")return"undefined";if(n===null)return"null";if(typeof n=="boolean")return n?"true":"false";if(typeof n=="string")return JG(n,o);if(typeof n=="number"){if(n===0)return 1/0/n>0?"0":"-0";var h=String(n);return a?oF(n,h):h}if(typeof n=="bigint"){var g=String(n)+"n";return a?oF(n,g):g}var C=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=C&&C>0&&typeof n=="object")return mO(n)?"[Array]":"[Object]";var B=q7e(o,r);if(typeof i>"u")i=[];else if(XG(i,n)>=0)return"[Circular]";function k(Ke,rt,_e){if(rt&&(i=B7e.call(i),i.push(rt)),_e){var Ut={depth:o.depth};return hm(o,"quoteStyle")&&(Ut.quoteStyle=o.quoteStyle),e(Ke,Ut,r+1,i)}return e(Ke,o,r+1,i)}if(typeof n=="function"&&!lF(n)){var P=R7e(n),U=e2(n,k);return"[Function"+(P?": "+P:" (anonymous)")+"]"+(U.length>0?" { "+rf.call(U,", ")+" }":"")}if(ZG(n)){var Z=Dy?Mm.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):fO.call(n);return typeof n=="object"&&!Dy?t_(Z):Z}if(Q7e(n)){for(var W="<"+tF.call(String(n.nodeName)),Q=n.attributes||[],q=0;q<Q.length;q++)W+=" "+Q[q].name+"="+HG(I7e(Q[q].value),"double",o);return W+=">",n.childNodes&&n.childNodes.length&&(W+="..."),W+="</"+tF.call(String(n.nodeName))+">",W}if(mO(n)){if(n.length===0)return"[]";var oe=e2(n,k);return B&&!Y7e(oe)?"["+gO(oe,B)+"]":"[ "+rf.call(oe,", ")+" ]"}if(K7e(n)){var re=e2(n,k);return!("cause"in Error.prototype)&&"cause"in n&&!VG.call(n,"cause")?"{ ["+String(n)+"] "+rf.call(nF.call("[cause]: "+k(n.cause),re),", ")+" }":re.length===0?"["+String(n)+"]":"{ ["+String(n)+"] "+rf.call(re,", ")+" }"}if(typeof n=="object"&&s){if(sF&&typeof n[sF]=="function"&&pO)return pO(n,{depth:C-r});if(s!=="symbol"&&typeof n.inspect=="function")return n.inspect()}if(z7e(n)){var Ae=[];return XP&&XP.call(n,function(Ke,rt){Ae.push(k(rt,n,!0)+" => "+k(Ke,n))}),uF("Map",B4.call(n),Ae,B)}if(N7e(n)){var ae=[];return JP&&JP.call(n,function(Ke){ae.push(k(Ke,n))}),uF("Set",k4.call(n),ae,B)}if(j7e(n))return bS("WeakMap");if(G7e(n))return bS("WeakSet");if(W7e(n))return bS("WeakRef");if(F7e(n))return t_(k(Number(n)));if(L7e(n))return t_(k(hO.call(n)));if(D7e(n))return t_(w7e.call(n));if(P7e(n))return t_(k(String(n)));if(typeof window<"u"&&n===window)return"{ [object Window] }";if(n===window)return"{ [object globalThis] }";if(!T7e(n)&&!lF(n)){var se=e2(n,k),ye=iF?iF(n)===Object.prototype:n instanceof Object||n.constructor===Object,De=n instanceof Object?"":"null prototype",Ne=!ye&&Ju&&Object(n)===n&&Ju in n?dk.call(Vm(n),8,-1):De?"Object":"",et=ye||typeof n.constructor!="function"?"":n.constructor.name?n.constructor.name+" ":"",ft=et+(Ne||De?"["+rf.call(nF.call([],Ne||[],De||[]),": ")+"] ":"");return se.length===0?ft+"{}":B?ft+"{"+gO(se,B)+"}":ft+"{ "+rf.call(se,", ")+" }"}return String(n)};function HG(e,n,t){var r=(t.quoteStyle||n)==="double"?'"':"'";return r+e+r}function I7e(e){return Mm.call(String(e),/"/g,"&quot;")}function mO(e){return Vm(e)==="[object Array]"&&(!Ju||!(typeof e=="object"&&Ju in e))}function T7e(e){return Vm(e)==="[object Date]"&&(!Ju||!(typeof e=="object"&&Ju in e))}function lF(e){return Vm(e)==="[object RegExp]"&&(!Ju||!(typeof e=="object"&&Ju in e))}function K7e(e){return Vm(e)==="[object Error]"&&(!Ju||!(typeof e=="object"&&Ju in e))}function P7e(e){return Vm(e)==="[object String]"&&(!Ju||!(typeof e=="object"&&Ju in e))}function F7e(e){return Vm(e)==="[object Number]"&&(!Ju||!(typeof e=="object"&&Ju in e))}function D7e(e){return Vm(e)==="[object Boolean]"&&(!Ju||!(typeof e=="object"&&Ju in e))}function ZG(e){if(Dy)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!fO)return!1;try{return fO.call(e),!0}catch{}return!1}function L7e(e){if(!e||typeof e!="object"||!hO)return!1;try{return hO.call(e),!0}catch{}return!1}var U7e=Object.prototype.hasOwnProperty||function(e){return e in this};function hm(e,n){return U7e.call(e,n)}function Vm(e){return M7e.call(e)}function R7e(e){if(e.name)return e.name;var n=E7e.call(S7e.call(e),/^function\s*([\w$]+)/);return n?n[1]:null}function XG(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}function z7e(e){if(!B4||!e||typeof e!="object")return!1;try{B4.call(e);try{k4.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function j7e(e){if(!W_||!e||typeof e!="object")return!1;try{W_.call(e,W_);try{N_.call(e,N_)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function W7e(e){if(!eF||!e||typeof e!="object")return!1;try{return eF.call(e),!0}catch{}return!1}function N7e(e){if(!k4||!e||typeof e!="object")return!1;try{k4.call(e);try{B4.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function G7e(e){if(!N_||!e||typeof e!="object")return!1;try{N_.call(e,N_);try{W_.call(e,W_)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Q7e(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function JG(e,n){if(e.length>n.maxStringLength){var t=e.length-n.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return JG(dk.call(e,0,n.maxStringLength),n)+r}var i=Mm.call(Mm.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$7e);return HG(i,"single",n)}function $7e(e){var n=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return t?"\\"+t:"\\x"+(n<16?"0":"")+O7e.call(n.toString(16))}function t_(e){return"Object("+e+")"}function bS(e){return e+" { ? }"}function uF(e,n,t,r){var i=r?gO(t,r):rf.call(t,", ");return e+" ("+n+") {"+i+"}"}function Y7e(e){for(var n=0;n<e.length;n++)if(XG(e[n],`
`)>=0)return!1;return!0}function q7e(e,n){var t;if(e.indent==="	")t="	";else if(typeof e.indent=="number"&&e.indent>0)t=rf.call(Array(e.indent+1)," ");else return null;return{base:t,prev:rf.call(Array(n+1),t)}}function gO(e,n){if(e.length===0)return"";var t=`
`+n.prev+n.base;return t+rf.call(e,","+t)+`
`+n.prev}function e2(e,n){var t=mO(e),r=[];if(t){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=hm(e,i)?n(e[i],e):""}var o=typeof CS=="function"?CS(e):[],s;if(Dy){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var h in e)hm(e,h)&&(t&&String(Number(h))===h&&h<e.length||Dy&&s["$"+h]instanceof Symbol||(qG.call(/[^\w$]/,h)?r.push(n(h,e)+": "+n(e[h],e)):r.push(h+": "+n(e[h],e))));if(typeof CS=="function")for(var g=0;g<o.length;g++)VG.call(e,o[g])&&r.push("["+n(o[g])+"]: "+n(e[o[g]],e));return r}var hk=k1,ov=g7e,V7e=k7e,H7e=hk("%TypeError%"),t2=hk("%WeakMap%",!0),n2=hk("%Map%",!0),Z7e=ov("WeakMap.prototype.get",!0),X7e=ov("WeakMap.prototype.set",!0),J7e=ov("WeakMap.prototype.has",!0),e8e=ov("Map.prototype.get",!0),t8e=ov("Map.prototype.set",!0),n8e=ov("Map.prototype.has",!0),fk=function(e,n){for(var t=e,r;(r=t.next)!==null;t=r)if(r.key===n)return t.next=r.next,r.next=e.next,e.next=r,r},r8e=function(e,n){var t=fk(e,n);return t&&t.value},i8e=function(e,n,t){var r=fk(e,n);r?r.value=t:e.next={key:n,next:e.next,value:t}},o8e=function(e,n){return!!fk(e,n)},a8e=function(){var n,t,r,i={assert:function(o){if(!i.has(o))throw new H7e("Side channel does not contain "+V7e(o))},get:function(o){if(t2&&o&&(typeof o=="object"||typeof o=="function")){if(n)return Z7e(n,o)}else if(n2){if(t)return e8e(t,o)}else if(r)return r8e(r,o)},has:function(o){if(t2&&o&&(typeof o=="object"||typeof o=="function")){if(n)return J7e(n,o)}else if(n2){if(t)return n8e(t,o)}else if(r)return o8e(r,o);return!1},set:function(o,s){t2&&o&&(typeof o=="object"||typeof o=="function")?(n||(n=new t2),X7e(n,o,s)):n2?(t||(t=new n2),t8e(t,o,s)):(r||(r={key:{},next:null}),i8e(r,o,s))}};return i},s8e=String.prototype.replace,l8e=/%20/g,xS={RFC1738:"RFC1738",RFC3986:"RFC3986"},pk={default:xS.RFC3986,formatters:{RFC1738:function(e){return s8e.call(e,l8e,"+")},RFC3986:function(e){return String(e)}},RFC1738:xS.RFC1738,RFC3986:xS.RFC3986},u8e=pk,wS=Object.prototype.hasOwnProperty,D0=Array.isArray,Zh=function(){for(var e=[],n=0;n<256;++n)e.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return e}(),A8e=function(n){for(;n.length>1;){var t=n.pop(),r=t.obj[t.prop];if(D0(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);t.obj[t.prop]=i}}},eQ=function(n,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<n.length;++i)typeof n[i]<"u"&&(r[i]=n[i]);return r},c8e=function e(n,t,r){if(!t)return n;if(typeof t!="object"){if(D0(n))n.push(t);else if(n&&typeof n=="object")(r&&(r.plainObjects||r.allowPrototypes)||!wS.call(Object.prototype,t))&&(n[t]=!0);else return[n,t];return n}if(!n||typeof n!="object")return[n].concat(t);var i=n;return D0(n)&&!D0(t)&&(i=eQ(n,r)),D0(n)&&D0(t)?(t.forEach(function(o,s){if(wS.call(n,s)){var a=n[s];a&&typeof a=="object"&&o&&typeof o=="object"?n[s]=e(a,o,r):n.push(o)}else n[s]=o}),n):Object.keys(t).reduce(function(o,s){var a=t[s];return wS.call(o,s)?o[s]=e(o[s],a,r):o[s]=a,o},i)},d8e=function(n,t){return Object.keys(t).reduce(function(r,i){return r[i]=t[i],r},n)},h8e=function(e,n,t){var r=e.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},f8e=function(n,t,r,i,o){if(n.length===0)return n;var s=n;if(typeof n=="symbol"?s=Symbol.prototype.toString.call(n):typeof n!="string"&&(s=String(n)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(C){return"%26%23"+parseInt(C.slice(2),16)+"%3B"});for(var a="",h=0;h<s.length;++h){var g=s.charCodeAt(h);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||o===u8e.RFC1738&&(g===40||g===41)){a+=s.charAt(h);continue}if(g<128){a=a+Zh[g];continue}if(g<2048){a=a+(Zh[192|g>>6]+Zh[128|g&63]);continue}if(g<55296||g>=57344){a=a+(Zh[224|g>>12]+Zh[128|g>>6&63]+Zh[128|g&63]);continue}h+=1,g=65536+((g&1023)<<10|s.charCodeAt(h)&1023),a+=Zh[240|g>>18]+Zh[128|g>>12&63]+Zh[128|g>>6&63]+Zh[128|g&63]}return a},p8e=function(n){for(var t=[{obj:{o:n},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],a=Object.keys(s),h=0;h<a.length;++h){var g=a[h],C=s[g];typeof C=="object"&&C!==null&&r.indexOf(C)===-1&&(t.push({obj:s,prop:g}),r.push(C))}return A8e(t),n},m8e=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},g8e=function(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},y8e=function(n,t){return[].concat(n,t)},v8e=function(n,t){if(D0(n)){for(var r=[],i=0;i<n.length;i+=1)r.push(t(n[i]));return r}return t(n)},tQ={arrayToObject:eQ,assign:d8e,combine:y8e,compact:p8e,decode:h8e,encode:f8e,isBuffer:g8e,isRegExp:m8e,maybeMap:v8e,merge:c8e},nQ=a8e,I2=tQ,G_=pk,_8e=Object.prototype.hasOwnProperty,AF={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,t){return n+"["+t+"]"},repeat:function(n){return n}},pp=Array.isArray,C8e=Array.prototype.push,rQ=function(e,n){C8e.apply(e,pp(n)?n:[n])},b8e=Date.prototype.toISOString,cF=G_.default,Vu={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:I2.encode,encodeValuesOnly:!1,format:cF,formatter:G_.formatters[cF],indices:!1,serializeDate:function(n){return b8e.call(n)},skipNulls:!1,strictNullHandling:!1},x8e=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},MS={},w8e=function e(n,t,r,i,o,s,a,h,g,C,B,k,P,U,Z,W){for(var Q=n,q=W,oe=0,re=!1;(q=q.get(MS))!==void 0&&!re;){var Ae=q.get(n);if(oe+=1,typeof Ae<"u"){if(Ae===oe)throw new RangeError("Cyclic object value");re=!0}typeof q.get(MS)>"u"&&(oe=0)}if(typeof h=="function"?Q=h(t,Q):Q instanceof Date?Q=B(Q):r==="comma"&&pp(Q)&&(Q=I2.maybeMap(Q,function(Ut){return Ut instanceof Date?B(Ut):Ut})),Q===null){if(o)return a&&!U?a(t,Vu.encoder,Z,"key",k):t;Q=""}if(x8e(Q)||I2.isBuffer(Q)){if(a){var ae=U?t:a(t,Vu.encoder,Z,"key",k);return[P(ae)+"="+P(a(Q,Vu.encoder,Z,"value",k))]}return[P(t)+"="+P(String(Q))]}var se=[];if(typeof Q>"u")return se;var ye;if(r==="comma"&&pp(Q))U&&a&&(Q=I2.maybeMap(Q,a)),ye=[{value:Q.length>0?Q.join(",")||null:void 0}];else if(pp(h))ye=h;else{var De=Object.keys(Q);ye=g?De.sort(g):De}for(var Ne=i&&pp(Q)&&Q.length===1?t+"[]":t,et=0;et<ye.length;++et){var ft=ye[et],Ke=typeof ft=="object"&&typeof ft.value<"u"?ft.value:Q[ft];if(!(s&&Ke===null)){var rt=pp(Q)?typeof r=="function"?r(Ne,ft):Ne:Ne+(C?"."+ft:"["+ft+"]");W.set(n,oe);var _e=nQ();_e.set(MS,W),rQ(se,e(Ke,rt,r,i,o,s,r==="comma"&&U&&pp(Q)?null:a,h,g,C,B,k,P,U,Z,_e))}}return se},M8e=function(n){if(!n)return Vu;if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=n.charset||Vu.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=G_.default;if(typeof n.format<"u"){if(!_8e.call(G_.formatters,n.format))throw new TypeError("Unknown format option provided.");r=n.format}var i=G_.formatters[r],o=Vu.filter;return(typeof n.filter=="function"||pp(n.filter))&&(o=n.filter),{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:Vu.addQueryPrefix,allowDots:typeof n.allowDots>"u"?Vu.allowDots:!!n.allowDots,charset:t,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:Vu.charsetSentinel,delimiter:typeof n.delimiter>"u"?Vu.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:Vu.encode,encoder:typeof n.encoder=="function"?n.encoder:Vu.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:Vu.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:Vu.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:Vu.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:Vu.strictNullHandling}},S8e=function(e,n){var t=e,r=M8e(n),i,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):pp(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof t!="object"||t===null)return"";var a;n&&n.arrayFormat in AF?a=n.arrayFormat:n&&"indices"in n?a=n.indices?"indices":"repeat":a="indices";var h=AF[a];if(n&&"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g=h==="comma"&&n&&n.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);for(var C=nQ(),B=0;B<i.length;++B){var k=i[B];r.skipNulls&&t[k]===null||rQ(s,w8e(t[k],k,h,g,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,C))}var P=s.join(r.delimiter),U=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?U+="utf8=%26%2310003%3B&":U+="utf8=%E2%9C%93&"),P.length>0?U+P:""},Ly=tQ,yO=Object.prototype.hasOwnProperty,E8e=Array.isArray,ru={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ly.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},O8e=function(e){return e.replace(/&#(\d+);/g,function(n,t){return String.fromCharCode(parseInt(t,10))})},iQ=function(e,n){return e&&typeof e=="string"&&n.comma&&e.indexOf(",")>-1?e.split(","):e},B8e="utf8=%26%2310003%3B",k8e="utf8=%E2%9C%93",I8e=function(n,t){var r={__proto__:null},i=t.ignoreQueryPrefix?n.replace(/^\?/,""):n,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),a=-1,h,g=t.charset;if(t.charsetSentinel)for(h=0;h<s.length;++h)s[h].indexOf("utf8=")===0&&(s[h]===k8e?g="utf-8":s[h]===B8e&&(g="iso-8859-1"),a=h,h=s.length);for(h=0;h<s.length;++h)if(h!==a){var C=s[h],B=C.indexOf("]="),k=B===-1?C.indexOf("="):B+1,P,U;k===-1?(P=t.decoder(C,ru.decoder,g,"key"),U=t.strictNullHandling?null:""):(P=t.decoder(C.slice(0,k),ru.decoder,g,"key"),U=Ly.maybeMap(iQ(C.slice(k+1),t),function(Z){return t.decoder(Z,ru.decoder,g,"value")})),U&&t.interpretNumericEntities&&g==="iso-8859-1"&&(U=O8e(U)),C.indexOf("[]=")>-1&&(U=E8e(U)?[U]:U),yO.call(r,P)?r[P]=Ly.combine(r[P],U):r[P]=U}return r},T8e=function(e,n,t,r){for(var i=r?n:iQ(n,t),o=e.length-1;o>=0;--o){var s,a=e[o];if(a==="[]"&&t.parseArrays)s=[].concat(i);else{s=t.plainObjects?Object.create(null):{};var h=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,g=parseInt(h,10);!t.parseArrays&&h===""?s={0:i}:!isNaN(g)&&a!==h&&String(g)===h&&g>=0&&t.parseArrays&&g<=t.arrayLimit?(s=[],s[g]=i):h!=="__proto__"&&(s[h]=i)}i=s}return i},K8e=function(n,t,r,i){if(n){var o=r.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,h=r.depth>0&&s.exec(o),g=h?o.slice(0,h.index):o,C=[];if(g){if(!r.plainObjects&&yO.call(Object.prototype,g)&&!r.allowPrototypes)return;C.push(g)}for(var B=0;r.depth>0&&(h=a.exec(o))!==null&&B<r.depth;){if(B+=1,!r.plainObjects&&yO.call(Object.prototype,h[1].slice(1,-1))&&!r.allowPrototypes)return;C.push(h[1])}return h&&C.push("["+o.slice(h.index)+"]"),T8e(C,t,r,i)}},P8e=function(n){if(!n)return ru;if(n.decoder!==null&&n.decoder!==void 0&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof n.charset>"u"?ru.charset:n.charset;return{allowDots:typeof n.allowDots>"u"?ru.allowDots:!!n.allowDots,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:ru.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:ru.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:ru.arrayLimit,charset:t,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:ru.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:ru.comma,decoder:typeof n.decoder=="function"?n.decoder:ru.decoder,delimiter:typeof n.delimiter=="string"||Ly.isRegExp(n.delimiter)?n.delimiter:ru.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:ru.depth,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:ru.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:ru.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:ru.plainObjects,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:ru.strictNullHandling}},F8e=function(e,n){var t=P8e(n);if(e===""||e===null||typeof e>"u")return t.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?I8e(e,t):e,i=t.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],h=K8e(a,r[a],t,typeof e=="string");i=Ly.merge(i,h,t)}return t.allowSparse===!0?i:Ly.compact(i)},D8e=S8e,L8e=F8e,U8e=pk,R8e={formats:U8e,parse:L8e,stringify:D8e},z8e=IBe;function Cd(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var j8e=/^([a-z0-9.+-]+:)/i,W8e=/:[0-9]*$/,N8e=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,G8e=["<",">",'"',"`"," ","\r",`
`,"	"],Q8e=["{","}","|","\\","^","`"].concat(G8e),vO=["'"].concat(Q8e),dF=["%","/","?",";","#"].concat(vO),hF=["/","?","#"],$8e=255,fF=/^[+a-z0-9A-Z_-]{0,63}$/,Y8e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q8e={javascript:!0,"javascript:":!0},_O={javascript:!0,"javascript:":!0},_y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},CO=R8e;function Mb(e,n,t){if(e&&typeof e=="object"&&e instanceof Cd)return e;var r=new Cd;return r.parse(e,n,t),r}Cd.prototype.parse=function(e,n,t){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!t&&e.split("#").length===1){var h=N8e.exec(a);if(h)return this.path=a,this.href=a,this.pathname=h[1],h[2]?(this.search=h[2],n?this.query=CO.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var g=j8e.exec(a);if(g){g=g[0];var C=g.toLowerCase();this.protocol=C,a=a.substr(g.length)}if(t||g||a.match(/^\/\/[^@/]+@[^@/]+/)){var B=a.substr(0,2)==="//";B&&!(g&&_O[g])&&(a=a.substr(2),this.slashes=!0)}if(!_O[g]&&(B||g&&!_y[g])){for(var k=-1,P=0;P<hF.length;P++){var U=a.indexOf(hF[P]);U!==-1&&(k===-1||U<k)&&(k=U)}var Z,W;k===-1?W=a.lastIndexOf("@"):W=a.lastIndexOf("@",k),W!==-1&&(Z=a.slice(0,W),a=a.slice(W+1),this.auth=decodeURIComponent(Z)),k=-1;for(var P=0;P<dF.length;P++){var U=a.indexOf(dF[P]);U!==-1&&(k===-1||U<k)&&(k=U)}k===-1&&(k=a.length),this.host=a.slice(0,k),a=a.slice(k),this.parseHost(),this.hostname=this.hostname||"";var Q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Q)for(var q=this.hostname.split(/\./),P=0,oe=q.length;P<oe;P++){var re=q[P];if(re&&!re.match(fF)){for(var Ae="",ae=0,se=re.length;ae<se;ae++)re.charCodeAt(ae)>127?Ae+="x":Ae+=re[ae];if(!Ae.match(fF)){var ye=q.slice(0,P),De=q.slice(P+1),Ne=re.match(Y8e);Ne&&(ye.push(Ne[1]),De.unshift(Ne[2])),De.length&&(a="/"+De.join(".")+a),this.hostname=ye.join(".");break}}}this.hostname.length>$8e?this.hostname="":this.hostname=this.hostname.toLowerCase(),Q||(this.hostname=z8e.toASCII(this.hostname));var et=this.port?":"+this.port:"",ft=this.hostname||"";this.host=ft+et,this.href+=this.host,Q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!q8e[C])for(var P=0,oe=vO.length;P<oe;P++){var Ke=vO[P];if(a.indexOf(Ke)!==-1){var rt=encodeURIComponent(Ke);rt===Ke&&(rt=escape(Ke)),a=a.split(Ke).join(rt)}}var _e=a.indexOf("#");_e!==-1&&(this.hash=a.substr(_e),a=a.slice(0,_e));var Ut=a.indexOf("?");if(Ut!==-1?(this.search=a.substr(Ut),this.query=a.substr(Ut+1),n&&(this.query=CO.parse(this.query)),a=a.slice(0,Ut)):n&&(this.search="",this.query={}),a&&(this.pathname=a),_y[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var et=this.pathname||"",jt=this.search||"";this.path=et+jt}return this.href=this.format(),this};function V8e(e){return typeof e=="string"&&(e=Mb(e)),e instanceof Cd?e.format():Cd.prototype.format.call(e)}Cd.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var n=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=CO.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||_y[n])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),n+i+t+s+r};function H8e(e,n){return Mb(e,!1,!0).resolve(n)}Cd.prototype.resolve=function(e){return this.resolveObject(Mb(e,!1,!0)).format()};function Z8e(e,n){return e?Mb(e,!1,!0).resolveObject(n):n}Cd.prototype.resolveObject=function(e){if(typeof e=="string"){var n=new Cd;n.parse(e,!1,!0),e=n}for(var t=new Cd,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var h=s[a];h!=="protocol"&&(t[h]=e[h])}return _y[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!_y[e.protocol]){for(var g=Object.keys(e),C=0;C<g.length;C++){var B=g[C];t[B]=e[B]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!_O[e.protocol]){for(var oe=(e.pathname||"").split("/");oe.length&&!(e.host=oe.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),oe[0]!==""&&oe.unshift(""),oe.length<2&&oe.unshift(""),t.pathname=oe.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var k=t.pathname||"",P=t.search||"";t.path=k+P}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var U=t.pathname&&t.pathname.charAt(0)==="/",Z=e.host||e.pathname&&e.pathname.charAt(0)==="/",W=Z||U||t.host&&e.pathname,Q=W,q=t.pathname&&t.pathname.split("/")||[],oe=e.pathname&&e.pathname.split("/")||[],re=t.protocol&&!_y[t.protocol];if(re&&(t.hostname="",t.port=null,t.host&&(q[0]===""?q[0]=t.host:q.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(oe[0]===""?oe[0]=e.host:oe.unshift(e.host)),e.host=null),W=W&&(oe[0]===""||q[0]==="")),Z)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,q=oe;else if(oe.length)q||(q=[]),q.pop(),q=q.concat(oe),t.search=e.search,t.query=e.query;else if(e.search!=null){if(re){t.host=q.shift(),t.hostname=t.host;var Ae=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;Ae&&(t.auth=Ae.shift(),t.hostname=Ae.shift(),t.host=t.hostname)}return t.search=e.search,t.query=e.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!q.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var ae=q.slice(-1)[0],se=(t.host||e.host||q.length>1)&&(ae==="."||ae==="..")||ae==="",ye=0,De=q.length;De>=0;De--)ae=q[De],ae==="."?q.splice(De,1):ae===".."?(q.splice(De,1),ye++):ye&&(q.splice(De,1),ye--);if(!W&&!Q)for(;ye--;ye)q.unshift("..");W&&q[0]!==""&&(!q[0]||q[0].charAt(0)!=="/")&&q.unshift(""),se&&q.join("/").substr(-1)!=="/"&&q.push("");var Ne=q[0]===""||q[0]&&q[0].charAt(0)==="/";if(re){t.hostname=Ne?"":q.length?q.shift():"",t.host=t.hostname;var Ae=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;Ae&&(t.auth=Ae.shift(),t.hostname=Ae.shift(),t.host=t.hostname)}return W=W||t.host&&q.length,W&&!Ne&&q.unshift(""),q.length>0?t.pathname=q.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t};Cd.prototype.parseHost=function(){var e=this.host,n=W8e.exec(e);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)};y1.parse=Mb;y1.resolve=H8e;y1.resolveObject=Z8e;y1.format=V8e;y1.Url=Cd;function To(){var e="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",n="19e47c652b47a74a8fe842dad1f0616429ed3097",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:17,column:18}},6:{start:{line:17,column:4},end:{line:17,column:18}},7:{start:{line:18,column:17},end:{line:18,column:42}},8:{start:{line:19,column:23},end:{line:19,column:57}},9:{start:{line:20,column:2},end:{line:24,column:3}},10:{start:{line:21,column:4},end:{line:21,column:41}},11:{start:{line:23,column:4},end:{line:23,column:69}},12:{start:{line:25,column:14},end:{line:25,column:35}},13:{start:{line:26,column:2},end:{line:26,column:24}},14:{start:{line:29,column:2},end:{line:30,column:18}},15:{start:{line:30,column:4},end:{line:30,column:18}},16:{start:{line:31,column:14},end:{line:31,column:31}},17:{start:{line:32,column:2},end:{line:32,column:57}},18:{start:{line:32,column:32},end:{line:32,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:27,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:28,column:16},end:{line:28,column:38}},loc:{start:{line:28,column:52},end:{line:33,column:1}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:20},end:{line:32,column:21}},loc:{start:{line:32,column:32},end:{line:32,column:55}},line:32}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:17,column:18}},type:"if",locations:[{start:{line:16,column:2},end:{line:17,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:20,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:24,column:3}},{start:{line:22,column:9},end:{line:24,column:3}}],line:20},2:{loc:{start:{line:29,column:2},end:{line:30,column:18}},type:"if",locations:[{start:{line:29,column:2},end:{line:30,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC;AAAa,WAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC;AAAS,WAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"19e47c652b47a74a8fe842dad1f0616429ed3097"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return To=function(){return s},s}To();function oQ(e,n,t){To().f[0]++,To().s[0]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(r){return To().f[1]++,To().s[1]++,r.json()}).then(function(r){To().f[2]++,To().s[2]++,t(r)}).catch(function(){To().f[3]++,To().s[3]++,console.warn("Can not metadata for "+e),To().s[4]++,t(n)})}function X8e(e,n){if(To().f[4]++,To().s[5]++,e)To().b[0][1]++;else return To().b[0][0]++,To().s[6]++,n([]);const t=(To().s[7]++,y1.parse(e)),r=(To().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");To().s[9]++,t.pathname===r?(To().b[1][0]++,To().s[10]++,t.pathname="/fontstacks.json"):(To().b[1][1]++,To().s[11]++,t.pathname=t.pathname.replace(r,".json"));const i=(To().s[12]++,y1.format(t));To().s[13]++,oQ(i,[],n)}function J8e(e,n){if(To().f[5]++,To().s[14]++,e)To().b[2][1]++;else return To().b[2][0]++,To().s[15]++,n([]);const t=(To().s[16]++,e+".json");To().s[17]++,oQ(t,{},r=>(To().f[6]++,To().s[18]++,n(Object.keys(r))))}function zl(){var e="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",n="5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return zl=function(){return s},s}zl();function eke(){zl().f[0]++;const e=(zl().s[0]++,new URL(window.location.href));return zl().s[1]++,e.searchParams.get("style")}function aQ(e,n){zl().f[1]++,zl().s[2]++,console.log("Loading style",e),zl().s[3]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(t){return zl().f[2]++,zl().s[4]++,t.json()}).then(function(t){zl().f[3]++,zl().s[5]++,n(Mu.ensureStyleValidity(t))}).catch(function(){zl().f[4]++,zl().s[6]++,console.warn("Could not fetch default style",e),zl().s[7]++,n(Mu.emptyStyle)})}function pF(){zl().f[5]++;const e=(zl().s[8]++,new URL(window.location.href));zl().s[9]++,e.searchParams.delete("style"),zl().s[10]++,window.history.replaceState({},document.title,e.toString())}function vA(){var e="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",n="f92fa2abb31199d99fd3ae02d967dc6702faf862",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return vA=function(){return s},s}vA();function sQ(e,n){vA().f[0]++;const t=(vA().s[0]++,pZ(e,n));return vA().s[1]++,t.map(r=>(vA().f[1]++,vA().s[2]++,r.command+" "+r.args.join(" ")))}function tke(e,n){return vA().f[2]++,vA().s[3]++,sQ(e,n).map(t=>(vA().f[3]++,vA().s[4]++,"Undo "+t))}function nke(e,n){return vA().f[4]++,vA().s[5]++,sQ(e,n).map(t=>(vA().f[5]++,vA().s[6]++,"Redo "+t))}function Pr(){var e="/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",n="dfd07f747cd43002e646758ee096fc67f1f8153d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:64,column:34}},28:{start:{line:64,column:6},end:{line:64,column:34}},29:{start:{line:65,column:20},end:{line:65,column:67}},30:{start:{line:66,column:22},end:{line:66,column:68}},31:{start:{line:67,column:4},end:{line:68,column:39}},32:{start:{line:68,column:6},end:{line:68,column:39}},33:{start:{line:69,column:4},end:{line:69,column:25}},34:{start:{line:73,column:4},end:{line:73,column:51}},35:{start:{line:74,column:16},end:{line:74,column:37}},36:{start:{line:75,column:4},end:{line:75,column:63}},37:{start:{line:76,column:4},end:{line:76,column:65}},38:{start:{line:77,column:4},end:{line:77,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:70,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:17},end:{line:78,column:3}},line:72}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:64,column:34}},type:"if",locations:[{start:{line:63,column:4},end:{line:64,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:67,column:4},end:{line:68,column:39}},type:"if",locations:[{start:{line:67,column:4},end:{line:68,column:39}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW;AAAG,aAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG;AAAW,aAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dfd07f747cd43002e646758ee096fc67f1f8153d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Pr=function(){return s},s}Pr();const kC=(Pr().s[0]++,"maputnik"),lQ=(Pr().s[1]++,"style"),mF=(Pr().s[2]++,{latest:[kC,"latest_style"].join(":"),accessToken:[kC,"access_token"].join(":")}),rke=(Pr().s[3]++,zG[0].url);function gF(e){Pr().f[0]++,Pr().s[4]++,aQ(rke,e)}function ike(){Pr().f[1]++;const e=(Pr().s[5]++,[]);Pr().s[6]++;for(let n=(Pr().s[7]++,0);n<window.localStorage.length;n++){const t=(Pr().s[8]++,window.localStorage.key(n));Pr().s[9]++,uQ(t)?(Pr().b[0][0]++,Pr().s[10]++,e.push(oke(t))):Pr().b[0][1]++}return Pr().s[11]++,e}function uQ(e){Pr().f[2]++;const n=(Pr().s[12]++,e.split(":"));return Pr().s[13]++,Pr().b[1][0]++,n.length===3&&(Pr().b[1][1]++,n[0]===kC)&&(Pr().b[1][2]++,n[1]===lQ)}function oke(e){if(Pr().f[3]++,Pr().s[14]++,uQ(e))Pr().b[2][1]++;else throw Pr().b[2][0]++,Pr().s[15]++,"Key is not a valid style key";const n=(Pr().s[16]++,e.split(":")),t=(Pr().s[17]++,n[2]);return Pr().s[18]++,t}function yF(e){return Pr().f[4]++,Pr().s[19]++,[kC,lQ,e].join(":")}class vF{constructor(){rn(this,"mapStyles");Pr().f[5]++,Pr().s[20]++,this.mapStyles=ike()}init(n){Pr().f[6]++,Pr().s[21]++,n(null)}purge(){Pr().f[7]++,Pr().s[22]++;for(let n=(Pr().s[23]++,0);n<window.localStorage.length;n++){const t=(Pr().s[24]++,window.localStorage.key(n));Pr().s[25]++,t.startsWith(kC)?(Pr().b[3][0]++,Pr().s[26]++,window.localStorage.removeItem(t)):Pr().b[3][1]++}}latestStyle(n){if(Pr().f[8]++,Pr().s[27]++,this.mapStyles.length===0)return Pr().b[4][0]++,Pr().s[28]++,gF(n);Pr().b[4][1]++;const t=(Pr().s[29]++,window.localStorage.getItem(mF.latest)),r=(Pr().s[30]++,window.localStorage.getItem(yF(t)));if(Pr().s[31]++,r)return Pr().b[5][0]++,Pr().s[32]++,n(JSON.parse(r));Pr().b[5][1]++,Pr().s[33]++,gF(n)}save(n){Pr().f[9]++,Pr().s[34]++,n=Mu.ensureStyleValidity(n);const t=(Pr().s[35]++,yF(n.id));return Pr().s[36]++,window.localStorage.setItem(t,JSON.stringify(n)),Pr().s[37]++,window.localStorage.setItem(mF.latest,n.id),Pr().s[38]++,n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bO=function(e,n){return bO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},bO(e,n)};function AQ(e,n){bO(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function ake(e){var n=typeof Symbol=="function"&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}function ske(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function lke(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(ske(arguments[n]));return e}var cQ=function(){function e(n,t){this.target=t,this.type=n}return e}(),uke=function(e){AQ(n,e);function n(t,r){var i=e.call(this,"error",r)||this;return i.message=t.message,i.error=t,i}return n}(cQ),Ake=function(e){AQ(n,e);function n(t,r,i){t===void 0&&(t=1e3),r===void 0&&(r="");var o=e.call(this,"close",i)||this;return o.wasClean=!0,o.code=t,o.reason=r,o}return n}(cQ);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var cke=function(){if(typeof WebSocket<"u")return WebSocket},dke=function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},M0={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},hke=function(){function e(n,t,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var s=i._options.minUptime,a=s===void 0?M0.minUptime:s;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},a),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(h){return i._ws.send(h)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(h){return i._callEventListener(o,h)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(s){return i._callEventListener(o,s)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(s){return i._callEventListener(o,s)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(s){return i._callEventListener(o,s)})},this._url=n,this._protocols=t,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var n=this._messageQueue.reduce(function(t,r){return typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t},0);return n+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(n,t){if(n===void 0&&(n=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,t)},e.prototype.reconnect=function(n,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,t),this._connect())},e.prototype.send=function(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{var t=this._options.maxEnqueuedMessages,r=t===void 0?M0.maxEnqueuedMessages:t;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}},e.prototype.addEventListener=function(n,t){this._listeners[n]&&this._listeners[n].push(t)},e.prototype.dispatchEvent=function(n){var t,r,i=this._listeners[n.type];if(i)try{for(var o=ake(i),s=o.next();!s.done;s=o.next()){var a=s.value;this._callEventListener(n,a)}}catch(h){t={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0},e.prototype.removeEventListener=function(n,t){this._listeners[n]&&(this._listeners[n]=this._listeners[n].filter(function(r){return r!==t}))},e.prototype._debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._options.debug&&console.log.apply(console,lke(["RWS>"],n))},e.prototype._getNextDelay=function(){var n=this._options,t=n.reconnectionDelayGrowFactor,r=t===void 0?M0.reconnectionDelayGrowFactor:t,i=n.minReconnectionDelay,o=i===void 0?M0.minReconnectionDelay:i,s=n.maxReconnectionDelay,a=s===void 0?M0.maxReconnectionDelay:s,h=0;return this._retryCount>0&&(h=o*Math.pow(r,this._retryCount-1),h>a&&(h=a)),this._debug("next delay",h),h},e.prototype._wait=function(){var n=this;return new Promise(function(t){setTimeout(t,n._getNextDelay())})},e.prototype._getNextUrl=function(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){var t=n();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var n=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var t=this._options,r=t.maxRetries,i=r===void 0?M0.maxRetries:r,o=t.connectionTimeout,s=o===void 0?M0.connectionTimeout:o,a=t.WebSocket,h=a===void 0?cke():a;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!dke(h))throw Error("No valid WebSocket class provided");this._wait().then(function(){return n._getNextUrl(n._url)}).then(function(g){n._closeCalled||(n._debug("connect",{url:g,protocols:n._protocols}),n._ws=n._protocols?new h(g,n._protocols):new h(g),n._ws.binaryType=n._binaryType,n._connectLock=!1,n._addListeners(),n._connectTimeout=setTimeout(function(){return n._handleTimeout()},s))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new uke(Error("TIMEOUT"),this))},e.prototype._disconnect=function(n,t){if(n===void 0&&(n=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(n,t),this._handleClose(new Ake(n,t,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(n,t){"handleEvent"in t?t.handleEvent(n):t(n)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();function Fr(){var e="/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",n="affc9a723ceb39c9f38866dab538bc0c9774f995",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:46,column:6}},16:{start:{line:35,column:6},end:{line:36,column:15}},17:{start:{line:36,column:8},end:{line:36,column:15}},18:{start:{line:37,column:6},end:{line:37,column:52}},19:{start:{line:38,column:24},end:{line:38,column:40}},20:{start:{line:39,column:6},end:{line:43,column:7}},21:{start:{line:40,column:8},end:{line:40,column:41}},22:{start:{line:42,column:8},end:{line:42,column:27}},23:{start:{line:44,column:27},end:{line:44,column:65}},24:{start:{line:45,column:6},end:{line:45,column:44}},25:{start:{line:49,column:4},end:{line:59,column:5}},26:{start:{line:50,column:6},end:{line:56,column:9}},27:{start:{line:53,column:8},end:{line:53,column:31}},28:{start:{line:55,column:8},end:{line:55,column:44}},29:{start:{line:58,column:6},end:{line:58,column:92}},30:{start:{line:63,column:22},end:{line:67,column:5}},31:{start:{line:68,column:15},end:{line:68,column:26}},32:{start:{line:69,column:4},end:{line:79,column:7}},33:{start:{line:77,column:6},end:{line:78,column:29}},34:{start:{line:78,column:8},end:{line:78,column:29}},35:{start:{line:80,column:4},end:{line:80,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:47,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:46,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:18},end:{line:60,column:3}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:52,column:14},end:{line:52,column:15}},loc:{start:{line:52,column:33},end:{line:54,column:7}},line:52},10:{name:"(anonymous_10)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:29},end:{line:56,column:7}},line:54},11:{name:"(anonymous_11)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:17},end:{line:81,column:3}},line:62},12:{name:"(anonymous_12)",decl:{start:{line:76,column:13},end:{line:76,column:14}},loc:{start:{line:76,column:29},end:{line:79,column:5}},line:76}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:36,column:15}},type:"if",locations:[{start:{line:35,column:6},end:{line:36,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:49,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:59,column:5}},{start:{line:57,column:11},end:{line:59,column:5}}],line:49},5:{loc:{start:{line:77,column:6},end:{line:78,column:29}},type:"if",locations:[{start:{line:77,column:6},end:{line:78,column:29}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE;AAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG;AAAO,gBAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"affc9a723ceb39c9f38866dab538bc0c9774f995"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Fr=function(){return s},s}Fr();class fke{constructor(n){rn(this,"localUrl");rn(this,"websocketUrl");rn(this,"latestStyleId",(Fr().s[0]++,void 0));rn(this,"onLocalStyleChange");Fr().f[0]++,Fr().s[1]++,this.onLocalStyleChange=(Fr().b[0][0]++,n.onLocalStyleChange||(Fr().b[0][1]++,()=>{Fr().f[1]++}));const t=(Fr().s[2]++,Fr().b[1][0]++,n.port||(Fr().b[1][1]++,"8000")),r=(Fr().s[3]++,Fr().b[2][0]++,n.host||(Fr().b[2][1]++,"localhost"));Fr().s[4]++,this.localUrl=`http://${r}:${t}`,Fr().s[5]++,this.websocketUrl=`ws://${r}:${t}/ws`,Fr().s[6]++,this.init=this.init.bind(this)}init(n){Fr().f[2]++,Fr().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(t=>(Fr().f[3]++,Fr().s[8]++,t.json())).then(t=>{Fr().f[4]++;const r=(Fr().s[9]++,t);Fr().s[10]++,this.latestStyleId=r[0],Fr().s[11]++,this.notifyLocalChanges(),Fr().s[12]++,n(null)}).catch(()=>{Fr().f[5]++,Fr().s[13]++,n(new Error("Can not connect to style API"))})}notifyLocalChanges(){Fr().f[6]++;const n=(Fr().s[14]++,new hke(this.websocketUrl));Fr().s[15]++,n.onmessage=t=>{if(Fr().f[7]++,Fr().s[16]++,t.data)Fr().b[3][1]++;else{Fr().b[3][0]++,Fr().s[17]++;return}Fr().s[18]++,console.log("Received style update from API");let r=(Fr().s[19]++,Mu.emptyStyle);Fr().s[20]++;try{Fr().s[21]++,r=JSON.parse(t.data)}catch(o){Fr().s[22]++,console.error(o)}const i=(Fr().s[23]++,Mu.ensureStyleValidity(r));Fr().s[24]++,this.onLocalStyleChange(i)}}latestStyle(n){if(Fr().f[8]++,Fr().s[25]++,this.latestStyleId)Fr().b[4][0]++,Fr().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(t){return Fr().f[9]++,Fr().s[27]++,t.json()}).then(function(t){Fr().f[10]++,Fr().s[28]++,n(Mu.ensureStyleValidity(t))});else throw Fr().b[4][1]++,Fr().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(n){Fr().f[11]++;const t=(Fr().s[30]++,rR(Mu.stripAccessTokens(Mu.replaceAccessTokens(n)))),r=(Fr().s[31]++,n.id);return Fr().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:t}).catch(function(i){Fr().f[12]++,Fr().s[33]++,i?(Fr().b[5][0]++,Fr().s[34]++,console.error(i)):Fr().b[5][1]++}),Fr().s[35]++,n}}function Na(){var e="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",n="9277d165d3b1fd7c235a1faab33cf41596d9966e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9277d165d3b1fd7c235a1faab33cf41596d9966e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Na=function(){return s},s}Na();class pke{constructor(n=(Na().b[0][0]++,[])){rn(this,"revisions");rn(this,"currentIdx");Na().f[0]++,Na().s[0]++,this.revisions=n,Na().s[1]++,this.currentIdx=n.length-1}get latest(){return Na().f[1]++,Na().s[2]++,this.revisions[this.revisions.length-1]}get current(){return Na().f[2]++,Na().s[3]++,this.revisions[this.currentIdx]}addRevision(n){Na().f[3]++,Na().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),Na().s[5]++,this.revisions.push(n),Na().s[6]++,this.currentIdx++}undo(){return Na().f[4]++,Na().s[7]++,this.currentIdx>0?(Na().b[1][0]++,Na().s[8]++,this.currentIdx--):Na().b[1][1]++,Na().s[9]++,this.current}redo(){return Na().f[5]++,Na().s[10]++,this.currentIdx<this.revisions.length-1?(Na().b[2][0]++,Na().s[11]++,this.currentIdx++):Na().b[2][1]++,Na().s[12]++,this.current}}var dQ="Expected a function",_F=NaN,mke="[object Symbol]",gke=/^\s+|\s+$/g,yke=/^[-+]0x[0-9a-f]+$/i,vke=/^0b[01]+$/i,_ke=/^0o[0-7]+$/i,Cke=parseInt,bke=typeof window=="object"&&window&&window.Object===Object&&window,xke=typeof self=="object"&&self&&self.Object===Object&&self,wke=bke||xke||Function("return this")(),Mke=Object.prototype,Ske=Mke.toString,Eke=Math.max,Oke=Math.min,SS=function(){return wke.Date.now()};function Bke(e,n,t){var r,i,o,s,a,h,g=0,C=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(dQ);n=CF(n)||0,I4(t)&&(C=!!t.leading,B="maxWait"in t,o=B?Eke(CF(t.maxWait)||0,n):o,k="trailing"in t?!!t.trailing:k);function P(ae){var se=r,ye=i;return r=i=void 0,g=ae,s=e.apply(ye,se),s}function U(ae){return g=ae,a=setTimeout(Q,n),C?P(ae):s}function Z(ae){var se=ae-h,ye=ae-g,De=n-se;return B?Oke(De,o-ye):De}function W(ae){var se=ae-h,ye=ae-g;return h===void 0||se>=n||se<0||B&&ye>=o}function Q(){var ae=SS();if(W(ae))return q(ae);a=setTimeout(Q,Z(ae))}function q(ae){return a=void 0,k&&r?P(ae):(r=i=void 0,s)}function oe(){a!==void 0&&clearTimeout(a),g=0,r=h=i=a=void 0}function re(){return a===void 0?s:q(SS())}function Ae(){var ae=SS(),se=W(ae);if(r=arguments,i=this,h=ae,se){if(a===void 0)return U(h);if(B)return a=setTimeout(Q,n),P(h)}return a===void 0&&(a=setTimeout(Q,n)),s}return Ae.cancel=oe,Ae.flush=re,Ae}function kke(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(dQ);return I4(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Bke(e,n,{leading:r,maxWait:n,trailing:i})}function I4(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function Ike(e){return!!e&&typeof e=="object"}function Tke(e){return typeof e=="symbol"||Ike(e)&&Ske.call(e)==mke}function CF(e){if(typeof e=="number")return e;if(Tke(e))return _F;if(I4(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=I4(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(gke,"");var t=vke.test(e);return t||_ke.test(e)?Cke(e.slice(2),t?2:8):yke.test(e)?_F:+e}var Kke=kke;const Pke=oa(Kke);function Vr(){var e="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",n="77d2098743f5a64765174c6e14fc4dc25f900f6c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Vr=function(){return s},s}Vr();class Fke{constructor(n=(Vr().b[0][0]++,{})){rn(this,"onSourcesChange");rn(this,"onVectorLayersChange");rn(this,"throttledAnalyzeVectorLayerFields");rn(this,"_sources");rn(this,"_vectorLayers");Vr().f[0]++,Vr().s[0]++,this.onSourcesChange=(Vr().b[1][0]++,n.onSourcesChange||(Vr().b[1][1]++,()=>{Vr().f[1]++})),Vr().s[1]++,this.onVectorLayersChange=(Vr().b[2][0]++,n.onVectorLayersChange||(Vr().b[2][1]++,()=>{Vr().f[2]++})),Vr().s[2]++,this._sources={},Vr().s[3]++,this._vectorLayers={},Vr().s[4]++,this.throttledAnalyzeVectorLayerFields=Pke(this.analyzeVectorLayerFields,5e3)}analyzeMap(n){Vr().f[3]++;const t=(Vr().s[5]++,{...this._sources});Vr().s[6]++,Object.keys(n.style.sourceCaches).forEach(r=>{Vr().f[4]++,Vr().s[7]++,this._sources[r]=n.style.sourceCaches[r]._source.vectorLayerIds}),Vr().s[8]++,U6(t,this._sources)?Vr().b[3][1]++:(Vr().b[3][0]++,Vr().s[9]++,this.onSourcesChange(this._sources)),Vr().s[10]++,this.throttledAnalyzeVectorLayerFields(n)}analyzeVectorLayerFields(n){Vr().f[5]++;const t=(Vr().s[11]++,{...this._vectorLayers});Vr().s[12]++,Object.keys(this._sources).forEach(r=>{Vr().f[6]++,Vr().s[13]++,(Vr().b[4][0]++,this._sources[r]||(Vr().b[4][1]++,[])).forEach(i=>{Vr().f[7]++;const o=(Vr().s[14]++,Vr().b[5][0]++,this._vectorLayers[i]||(Vr().b[5][1]++,{})),s=(Vr().s[15]++,{sourceLayer:i});Vr().s[16]++,n.querySourceFeatures(r,s).forEach(a=>{Vr().f[8]++,Vr().s[17]++,Object.keys(a.properties).forEach(h=>{Vr().f[9]++;const g=(Vr().s[18]++,Vr().b[6][0]++,o[h]||(Vr().b[6][1]++,{}));Vr().s[19]++,g[a.properties[h]]={},Vr().s[20]++,o[h]=g})}),Vr().s[21]++,this._vectorLayers[i]=o})}),Vr().s[22]++,U6(t,this._vectorLayers)?Vr().b[7][1]++:(Vr().b[7][0]++,Vr().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return Vr().f[10]++,Vr().s[24]++,this._sources}get vectorLayers(){return Vr().f[11]++,Vr().s[25]++,this._vectorLayers}}function Ro(){var e="/home/runner/work/maputnik/maputnik/src/libs/debug.ts",n="f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ro=function(){return s},s}Ro();const Q_=(Ro().s[0]++,{});function mk(){Ro().f[0]++;const e=(Ro().s[1]++,new URL(window.location.href).searchParams),n=(Ro().s[2]++,e.get("debug"));return Ro().s[3]++,n?(Ro().b[0][0]++,Ro().s[4]++,!!n.match(/^(|1|true)$/)):(Ro().b[0][1]++,Ro().s[5]++,!1)}function hQ(){return Ro().f[1]++,Ro().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function Dke(e,n,t){if(Ro().f[2]++,Ro().s[7]++,mk())Ro().b[1][1]++;else throw Ro().b[1][0]++,Ro().s[8]++,hQ();Ro().s[9]++,Q_[e]=(Ro().b[2][0]++,Q_[e]||(Ro().b[2][1]++,{})),Ro().s[10]++,Q_[e][n]=t}function Lke(e,n){if(Ro().f[3]++,Ro().s[11]++,mk())Ro().b[3][1]++;else throw Ro().b[3][0]++,Ro().s[12]++,hQ();if(Ro().s[13]++,Object.prototype.hasOwnProperty.call(Q_,e))return Ro().b[4][0]++,Ro().s[14]++,Q_[e][n];Ro().b[4][1]++}const k0=(Ro().s[15]++,{enabled:mk,get:Lke,set:Dke});Ro().s[16]++;window.debug=k0;function ie(){var e="/home/runner/work/maputnik/maputnik/src/components/App.tsx",n="89c068ca942382ab4384d9496905567c46b1fd10",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:37,column:0},end:{line:37,column:30}},1:{start:{line:39,column:29},end:{line:39,column:60}},2:{start:{line:40,column:26},end:{line:40,column:54}},3:{start:{line:41,column:31},end:{line:41,column:64}},4:{start:{line:42,column:2},end:{line:54,column:3}},5:{start:{line:43,column:24},end:{line:43,column:95}},6:{start:{line:44,column:4},end:{line:46,column:5}},7:{start:{line:45,column:6},end:{line:45,column:47}},8:{start:{line:47,column:9},end:{line:54,column:3}},9:{start:{line:48,column:24},end:{line:48,column:96}},10:{start:{line:49,column:4},end:{line:51,column:5}},11:{start:{line:50,column:6},end:{line:50,column:47}},12:{start:{line:53,column:4},end:{line:53,column:15}},13:{start:{line:57,column:2},end:{line:66,column:4}},14:{start:{line:72,column:15},end:{line:72,column:19}},15:{start:{line:74,column:4},end:{line:74,column:17}},16:{start:{line:75,column:4},end:{line:75,column:19}},17:{start:{line:76,column:4},end:{line:76,column:45}},18:{start:{line:77,column:19},end:{line:77,column:75}},19:{start:{line:78,column:15},end:{line:78,column:38}},20:{start:{line:79,column:4},end:{line:81,column:5}},21:{start:{line:80,column:6},end:{line:80,column:34}},22:{start:{line:82,column:4},end:{line:86,column:7}},23:{start:{line:83,column:40},end:{line:83,column:86}},24:{start:{line:87,column:22},end:{line:138,column:5}},25:{start:{line:91,column:10},end:{line:91,column:40}},26:{start:{line:97,column:10},end:{line:97,column:35}},27:{start:{line:103,column:10},end:{line:103,column:37}},28:{start:{line:109,column:10},end:{line:109,column:38}},29:{start:{line:115,column:10},end:{line:115,column:39}},30:{start:{line:121,column:10},end:{line:123,column:12}},31:{start:{line:129,column:10},end:{line:129,column:63}},32:{start:{line:135,column:10},end:{line:135,column:36}},33:{start:{line:139,column:4},end:{line:152,column:7}},34:{start:{line:140,column:6},end:{line:151,column:7}},35:{start:{line:141,column:8},end:{line:141,column:24}},36:{start:{line:142,column:8},end:{line:142,column:30}},37:{start:{line:143,column:13},end:{line:151,column:7}},38:{start:{line:144,column:25},end:{line:146,column:10}},39:{start:{line:145,column:10},end:{line:145,column:41}},40:{start:{line:147,column:8},end:{line:150,column:9}},41:{start:{line:148,column:10},end:{line:148,column:44}},42:{start:{line:149,column:10},end:{line:149,column:29}},43:{start:{line:153,column:21},end:{line:153,column:38}},44:{start:{line:154,column:4},end:{line:173,column:5}},45:{start:{line:155,column:6},end:{line:155,column:41}},46:{start:{line:156,column:6},end:{line:156,column:74}},47:{start:{line:156,column:43},end:{line:156,column:72}},48:{start:{line:157,column:6},end:{line:157,column:31}},49:{start:{line:159,column:6},end:{line:161,column:7}},50:{start:{line:160,column:8},end:{line:160,column:33}},51:{start:{line:162,column:6},end:{line:172,column:9}},52:{start:{line:163,column:8},end:{line:166,column:9}},53:{start:{line:164,column:10},end:{line:164,column:74}},54:{start:{line:165,column:10},end:{line:165,column:45}},55:{start:{line:167,column:8},end:{line:167,column:104}},56:{start:{line:167,column:50},end:{line:167,column:102}},57:{start:{line:168,column:8},end:{line:171,column:9}},58:{start:{line:169,column:10},end:{line:169,column:63}},59:{start:{line:170,column:10},end:{line:170,column:69}},60:{start:{line:174,column:4},end:{line:177,column:5}},61:{start:{line:175,column:6},end:{line:175,column:65}},62:{start:{line:176,column:6},end:{line:176,column:59}},63:{start:{line:178,column:4},end:{line:212,column:6}},64:{start:{line:213,column:4},end:{line:215,column:7}},65:{start:{line:214,column:35},end:{line:214,column:69}},66:{start:{line:217,column:19},end:{line:235,column:3}},67:{start:{line:218,column:4},end:{line:234,column:5}},68:{start:{line:219,column:6},end:{line:225,column:7}},69:{start:{line:220,column:8},end:{line:220,column:27}},70:{start:{line:221,column:8},end:{line:221,column:22}},71:{start:{line:222,column:13},end:{line:225,column:7}},72:{start:{line:223,column:8},end:{line:223,column:27}},73:{start:{line:224,column:8},end:{line:224,column:22}},74:{start:{line:227,column:6},end:{line:233,column:7}},75:{start:{line:228,column:8},end:{line:228,column:27}},76:{start:{line:229,column:8},end:{line:229,column:22}},77:{start:{line:230,column:13},end:{line:233,column:7}},78:{start:{line:231,column:8},end:{line:231,column:27}},79:{start:{line:232,column:8},end:{line:232,column:22}},80:{start:{line:237,column:4},end:{line:237,column:60}},81:{start:{line:240,column:4},end:{line:240,column:63}},82:{start:{line:243,column:4},end:{line:243,column:40}},83:{start:{line:246,column:21},end:{line:246,column:55}},84:{start:{line:247,column:24},end:{line:247,column:93}},85:{start:{line:248,column:21},end:{line:248,column:110}},86:{start:{line:249,column:4},end:{line:251,column:7}},87:{start:{line:250,column:6},end:{line:250,column:80}},88:{start:{line:254,column:4},end:{line:256,column:7}},89:{start:{line:255,column:6},end:{line:255,column:80}},90:{start:{line:258,column:29},end:{line:272,column:3}},91:{start:{line:259,column:4},end:{line:263,column:5}},92:{start:{line:260,column:6},end:{line:262,column:9}},93:{start:{line:264,column:25},end:{line:270,column:5}},94:{start:{line:271,column:4},end:{line:271,column:38}},95:{start:{line:273,column:19},end:{line:385,column:3}},96:{start:{line:274,column:4},end:{line:279,column:6}},97:{start:{line:280,column:4},end:{line:282,column:5}},98:{start:{line:281,column:6},end:{line:281,column:44}},99:{start:{line:283,column:19},end:{line:283,column:51}},100:{start:{line:284,column:24},end:{line:284,column:26}},101:{start:{line:285,column:4},end:{line:296,column:5}},102:{start:{line:286,column:26},end:{line:286,column:42}},103:{start:{line:287,column:6},end:{line:295,column:9}},104:{start:{line:288,column:8},end:{line:293,column:9}},105:{start:{line:289,column:24},end:{line:291,column:11}},106:{start:{line:292,column:10},end:{line:292,column:34}},107:{start:{line:294,column:8},end:{line:294,column:40}},108:{start:{line:297,column:25},end:{line:348,column:6}},109:{start:{line:298,column:23},end:{line:298,column:109}},110:{start:{line:299,column:6},end:{line:312,column:7}},111:{start:{line:300,column:35},end:{line:300,column:43}},112:{start:{line:301,column:8},end:{line:311,column:10}},113:{start:{line:313,column:33},end:{line:313,column:100}},114:{start:{line:314,column:6},end:{line:327,column:7}},115:{start:{line:315,column:35},end:{line:315,column:53}},116:{start:{line:316,column:8},end:{line:326,column:10}},117:{start:{line:328,column:25},end:{line:328,column:88}},118:{start:{line:329,column:6},end:{line:347,column:7}},119:{start:{line:330,column:52},end:{line:330,column:62}},120:{start:{line:331,column:20},end:{line:331,column:78}},121:{start:{line:332,column:8},end:{line:342,column:10}},122:{start:{line:344,column:8},end:{line:346,column:10}},123:{start:{line:349,column:24},end:{line:349,column:30}},124:{start:{line:350,column:4},end:{line:364,column:5}},125:{start:{line:351,column:6},end:{line:351,column:42}},126:{start:{line:352,column:6},end:{line:363,column:9}},127:{start:{line:353,column:28},end:{line:353,column:33}},128:{start:{line:354,column:8},end:{line:362,column:9}},129:{start:{line:355,column:10},end:{line:361,column:11}},130:{start:{line:356,column:28},end:{line:356,column:49}},131:{start:{line:357,column:30},end:{line:357,column:69}},132:{start:{line:358,column:12},end:{line:358,column:44}},133:{start:{line:360,column:12},end:{line:360,column:30}},134:{start:{line:365,column:4},end:{line:367,column:5}},135:{start:{line:366,column:6},end:{line:366,column:40}},136:{start:{line:368,column:4},end:{line:370,column:5}},137:{start:{line:369,column:6},end:{line:369,column:40}},138:{start:{line:371,column:4},end:{line:373,column:5}},139:{start:{line:372,column:6},end:{line:372,column:47}},140:{start:{line:374,column:4},end:{line:376,column:5}},141:{start:{line:375,column:6},end:{line:375,column:31}},142:{start:{line:377,column:4},end:{line:384,column:7}},143:{start:{line:382,column:6},end:{line:382,column:26}},144:{start:{line:383,column:6},end:{line:383,column:27}},145:{start:{line:386,column:11},end:{line:393,column:3}},146:{start:{line:387,column:24},end:{line:387,column:49}},147:{start:{line:388,column:21},end:{line:388,column:67}},148:{start:{line:389,column:4},end:{line:389,column:61}},149:{start:{line:390,column:4},end:{line:392,column:7}},150:{start:{line:394,column:11},end:{line:401,column:3}},151:{start:{line:395,column:24},end:{line:395,column:49}},152:{start:{line:396,column:21},end:{line:396,column:67}},153:{start:{line:397,column:4},end:{line:397,column:61}},154:{start:{line:398,column:4},end:{line:400,column:7}},155:{start:{line:402,column:16},end:{line:417,column:3}},156:{start:{line:403,column:33},end:{line:403,column:37}},157:{start:{line:404,column:17},end:{line:404,column:43}},158:{start:{line:405,column:4},end:{line:405,column:53}},159:{start:{line:406,column:4},end:{line:406,column:53}},160:{start:{line:407,column:4},end:{line:408,column:13}},161:{start:{line:408,column:6},end:{line:408,column:13}},162:{start:{line:409,column:4},end:{line:413,column:5}},163:{start:{line:410,column:6},end:{line:412,column:9}},164:{start:{line:414,column:4},end:{line:414,column:29}},165:{start:{line:415,column:4},end:{line:415,column:49}},166:{start:{line:416,column:4},end:{line:416,column:32}},167:{start:{line:418,column:19},end:{line:424,column:3}},168:{start:{line:419,column:25},end:{line:422,column:5}},169:{start:{line:423,column:4},end:{line:423,column:38}},170:{start:{line:425,column:19},end:{line:430,column:3}},171:{start:{line:426,column:19},end:{line:426,column:45}},172:{start:{line:427,column:28},end:{line:427,column:43}},173:{start:{line:428,column:4},end:{line:428,column:37}},174:{start:{line:429,column:4},end:{line:429,column:41}},175:{start:{line:431,column:16},end:{line:438,column:3}},176:{start:{line:432,column:19},end:{line:432,column:45}},177:{start:{line:433,column:26},end:{line:433,column:41}},178:{start:{line:434,column:24},end:{line:434,column:55}},179:{start:{line:435,column:4},end:{line:435,column:46}},180:{start:{line:436,column:4},end:{line:436,column:48}},181:{start:{line:437,column:4},end:{line:437,column:39}},182:{start:{line:439,column:28},end:{line:448,column:3}},183:{start:{line:440,column:19},end:{line:440,column:45}},184:{start:{line:441,column:26},end:{line:441,column:41}},185:{start:{line:442,column:18},end:{line:442,column:45}},186:{start:{line:443,column:26},end:{line:443,column:70}},187:{start:{line:444,column:4},end:{line:444,column:88}},188:{start:{line:445,column:4},end:{line:445,column:33}},189:{start:{line:446,column:4},end:{line:446,column:33}},190:{start:{line:447,column:4},end:{line:447,column:39}},191:{start:{line:449,column:20},end:{line:456,column:3}},192:{start:{line:450,column:26},end:{line:450,column:61}},193:{start:{line:451,column:4},end:{line:454,column:6}},194:{start:{line:455,column:4},end:{line:455,column:39}},195:{start:{line:457,column:19},end:{line:461,column:3}},196:{start:{line:458,column:26},end:{line:458,column:61}},197:{start:{line:459,column:4},end:{line:459,column:33}},198:{start:{line:460,column:4},end:{line:460,column:39}},199:{start:{line:462,column:16},end:{line:466,column:3}},200:{start:{line:463,column:4},end:{line:465,column:27}},201:{start:{line:467,column:21},end:{line:481,column:3}},202:{start:{line:468,column:21},end:{line:468,column:44}},203:{start:{line:469,column:4},end:{line:480,column:5}},204:{start:{line:470,column:27},end:{line:476,column:7}},205:{start:{line:477,column:6},end:{line:477,column:26}},206:{start:{line:479,column:6},end:{line:479,column:22}},207:{start:{line:482,column:14},end:{line:485,column:3}},208:{start:{line:483,column:4},end:{line:483,column:47}},209:{start:{line:484,column:4},end:{line:484,column:34}},210:{start:{line:487,column:23},end:{line:487,column:25}},211:{start:{line:488,column:4},end:{line:522,column:5}},212:{start:{line:489,column:6},end:{line:521,column:7}},213:{start:{line:490,column:8},end:{line:493,column:10}},214:{start:{line:494,column:18},end:{line:494,column:25}},215:{start:{line:495,column:8},end:{line:499,column:9}},216:{start:{line:496,column:10},end:{line:496,column:62}},217:{start:{line:498,column:10},end:{line:498,column:63}},218:{start:{line:500,column:8},end:{line:518,column:11}},219:{start:{line:502,column:30},end:{line:502,column:45}},220:{start:{line:503,column:10},end:{line:505,column:11}},221:{start:{line:504,column:12},end:{line:504,column:19}},222:{start:{line:506,column:26},end:{line:508,column:12}},223:{start:{line:509,column:10},end:{line:511,column:11}},224:{start:{line:510,column:12},end:{line:510,column:47}},225:{start:{line:512,column:10},end:{line:512,column:51}},226:{start:{line:513,column:10},end:{line:515,column:13}},227:{start:{line:517,column:10},end:{line:517,column:72}},228:{start:{line:520,column:8},end:{line:520,column:86}},229:{start:{line:523,column:4},end:{line:528,column:5}},230:{start:{line:524,column:6},end:{line:524,column:39}},231:{start:{line:525,column:6},end:{line:527,column:9}},232:{start:{line:531,column:21},end:{line:531,column:55}},233:{start:{line:532,column:4},end:{line:532,column:53}},234:{start:{line:534,column:16},end:{line:538,column:3}},235:{start:{line:535,column:4},end:{line:537,column:7}},236:{start:{line:540,column:40},end:{line:540,column:50}},237:{start:{line:541,column:21},end:{line:552,column:5}},238:{start:{line:544,column:8},end:{line:546,column:11}},239:{start:{line:549,column:8},end:{line:549,column:44}},240:{start:{line:550,column:8},end:{line:550,column:28}},241:{start:{line:553,column:21},end:{line:553,column:40}},242:{start:{line:555,column:4},end:{line:577,column:5}},243:{start:{line:556,column:6},end:{line:564,column:8}},244:{start:{line:566,column:6},end:{line:576,column:8}},245:{start:{line:579,column:4},end:{line:581,column:5}},246:{start:{line:580,column:6},end:{line:580,column:63}},247:{start:{line:582,column:25},end:{line:582,column:27}},248:{start:{line:583,column:4},end:{line:585,column:5}},249:{start:{line:584,column:6},end:{line:584,column:52}},250:{start:{line:586,column:4},end:{line:586,column:160}},251:{start:{line:588,column:18},end:{line:606,column:3}},252:{start:{line:589,column:43},end:{line:589,column:53}},253:{start:{line:590,column:35},end:{line:590,column:45}},254:{start:{line:591,column:16},end:{line:591,column:38}},255:{start:{line:592,column:20},end:{line:592,column:50}},256:{start:{line:593,column:4},end:{line:593,column:70}},257:{start:{line:594,column:23},end:{line:594,column:122}},258:{start:{line:594,column:66},end:{line:594,column:91}},259:{start:{line:594,column:109},end:{line:594,column:121}},260:{start:{line:595,column:4},end:{line:599,column:5}},261:{start:{line:596,column:6},end:{line:596,column:58}},262:{start:{line:598,column:6},end:{line:598,column:39}},263:{start:{line:600,column:4},end:{line:604,column:5}},264:{start:{line:601,column:6},end:{line:601,column:38}},265:{start:{line:602,column:11},end:{line:604,column:5}},266:{start:{line:603,column:6},end:{line:603,column:46}},267:{start:{line:605,column:4},end:{line:605,column:71}},268:{start:{line:607,column:27},end:{line:652,column:3}},269:{start:{line:608,column:16},end:{line:608,column:38}},270:{start:{line:609,column:23},end:{line:609,column:52}},271:{start:{line:610,column:4},end:{line:622,column:5}},272:{start:{line:611,column:21},end:{line:611,column:42}},273:{start:{line:612,column:23},end:{line:612,column:25}},274:{start:{line:613,column:6},end:{line:615,column:9}},275:{start:{line:614,column:8},end:{line:614,column:35}},276:{start:{line:616,column:6},end:{line:621,column:9}},277:{start:{line:623,column:17},end:{line:623,column:45}},278:{start:{line:624,column:4},end:{line:626,column:5}},279:{start:{line:625,column:6},end:{line:625,column:29}},280:{start:{line:627,column:17},end:{line:627,column:46}},281:{start:{line:628,column:4},end:{line:651,column:5}},282:{start:{line:629,column:6},end:{line:650,column:7}},283:{start:{line:630,column:22},end:{line:630,column:37}},284:{start:{line:631,column:46},end:{line:634,column:9}},285:{start:{line:635,column:20},end:{line:635,column:24}},286:{start:{line:636,column:8},end:{line:641,column:9}},287:{start:{line:637,column:33},end:{line:637,column:63}},288:{start:{line:638,column:10},end:{line:640,column:11}},289:{start:{line:639,column:12},end:{line:639,column:26}},290:{start:{line:642,column:8},end:{line:647,column:9}},291:{start:{line:643,column:10},end:{line:646,column:13}},292:{start:{line:649,column:8},end:{line:649,column:26}},293:{start:{line:653,column:18},end:{line:658,column:3}},294:{start:{line:654,column:4},end:{line:657,column:27}},295:{start:{line:660,column:4},end:{line:662,column:5}},296:{start:{line:661,column:6},end:{line:661,column:41}},297:{start:{line:663,column:4},end:{line:668,column:27}},298:{start:{line:671,column:4},end:{line:671,column:60}},299:{start:{line:673,column:28},end:{line:680,column:3}},300:{start:{line:674,column:4},end:{line:679,column:7}},301:{start:{line:681,column:28},end:{line:688,column:3}},302:{start:{line:682,column:4},end:{line:687,column:7}},303:{start:{line:690,column:19},end:{line:690,column:51}},304:{start:{line:691,column:26},end:{line:691,column:92}},305:{start:{line:692,column:36},end:{line:705,column:5}},306:{start:{line:706,column:38},end:{line:720,column:5}},307:{start:{line:721,column:24},end:{line:740,column:14}},308:{start:{line:741,column:24},end:{line:751,column:14}},309:{start:{line:752,column:35},end:{line:817,column:8}},310:{start:{line:769,column:23},end:{line:769,column:43}},311:{start:{line:818,column:4},end:{line:828,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:38,column:9},end:{line:38,column:28}},loc:{start:{line:38,column:44},end:{line:55,column:1}},line:38},1:{name:"updateRootSpec",decl:{start:{line:56,column:9},end:{line:56,column:23}},loc:{start:{line:56,column:52},end:{line:67,column:1}},line:56},2:{name:"(anonymous_2)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:21},end:{line:216,column:3}},line:73},3:{name:"(anonymous_3)",decl:{start:{line:83,column:26},end:{line:83,column:27}},loc:{start:{line:83,column:40},end:{line:83,column:86}},line:83},4:{name:"(anonymous_4)",decl:{start:{line:90,column:17},end:{line:90,column:18}},loc:{start:{line:90,column:23},end:{line:92,column:9}},line:90},5:{name:"(anonymous_5)",decl:{start:{line:96,column:17},end:{line:96,column:18}},loc:{start:{line:96,column:23},end:{line:98,column:9}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:102,column:17},end:{line:102,column:18}},loc:{start:{line:102,column:23},end:{line:104,column:9}},line:102},7:{name:"(anonymous_7)",decl:{start:{line:108,column:17},end:{line:108,column:18}},loc:{start:{line:108,column:23},end:{line:110,column:9}},line:108},8:{name:"(anonymous_8)",decl:{start:{line:114,column:17},end:{line:114,column:18}},loc:{start:{line:114,column:23},end:{line:116,column:9}},line:114},9:{name:"(anonymous_9)",decl:{start:{line:120,column:17},end:{line:120,column:18}},loc:{start:{line:120,column:23},end:{line:124,column:9}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:128,column:17},end:{line:128,column:18}},loc:{start:{line:128,column:23},end:{line:130,column:9}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:134,column:17},end:{line:134,column:18}},loc:{start:{line:134,column:23},end:{line:136,column:9}},line:134},12:{name:"(anonymous_12)",decl:{start:{line:139,column:44},end:{line:139,column:45}},loc:{start:{line:139,column:51},end:{line:152,column:5}},line:139},13:{name:"(anonymous_13)",decl:{start:{line:144,column:40},end:{line:144,column:41}},loc:{start:{line:144,column:55},end:{line:146,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:156,column:29},end:{line:156,column:30}},loc:{start:{line:156,column:43},end:{line:156,column:72}},line:156},15:{name:"(anonymous_15)",decl:{start:{line:162,column:27},end:{line:162,column:28}},loc:{start:{line:162,column:36},end:{line:172,column:7}},line:162},16:{name:"(anonymous_16)",decl:{start:{line:167,column:36},end:{line:167,column:37}},loc:{start:{line:167,column:50},end:{line:167,column:102}},line:167},17:{name:"(anonymous_17)",decl:{start:{line:214,column:28},end:{line:214,column:29}},loc:{start:{line:214,column:35},end:{line:214,column:69}},line:214},18:{name:"(anonymous_18)",decl:{start:{line:217,column:19},end:{line:217,column:20}},loc:{start:{line:217,column:26},end:{line:235,column:3}},line:217},19:{name:"(anonymous_19)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:22},end:{line:238,column:3}},line:236},20:{name:"(anonymous_20)",decl:{start:{line:239,column:2},end:{line:239,column:3}},loc:{start:{line:239,column:25},end:{line:241,column:3}},line:239},21:{name:"(anonymous_21)",decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:27},end:{line:244,column:3}},line:242},22:{name:"(anonymous_22)",decl:{start:{line:245,column:2},end:{line:245,column:3}},loc:{start:{line:245,column:27},end:{line:252,column:3}},line:245},23:{name:"(anonymous_23)",decl:{start:{line:249,column:37},end:{line:249,column:38}},loc:{start:{line:249,column:48},end:{line:251,column:5}},line:249},24:{name:"(anonymous_24)",decl:{start:{line:253,column:2},end:{line:253,column:3}},loc:{start:{line:253,column:23},end:{line:257,column:3}},line:253},25:{name:"(anonymous_25)",decl:{start:{line:254,column:36},end:{line:254,column:37}},loc:{start:{line:254,column:47},end:{line:256,column:5}},line:254},26:{name:"(anonymous_26)",decl:{start:{line:258,column:29},end:{line:258,column:30}},loc:{start:{line:258,column:50},end:{line:272,column:3}},line:258},27:{name:"(anonymous_27)",decl:{start:{line:273,column:19},end:{line:273,column:20}},loc:{start:{line:273,column:44},end:{line:385,column:3}},line:273},28:{name:"(anonymous_28)",decl:{start:{line:287,column:30},end:{line:287,column:31}},loc:{start:{line:287,column:48},end:{line:295,column:7}},line:287},29:{name:"(anonymous_29)",decl:{start:{line:297,column:56},end:{line:297,column:57}},loc:{start:{line:297,column:67},end:{line:348,column:5}},line:297},30:{name:"(anonymous_30)",decl:{start:{line:352,column:21},end:{line:352,column:22}},loc:{start:{line:352,column:32},end:{line:363,column:7}},line:352},31:{name:"(anonymous_31)",decl:{start:{line:381,column:7},end:{line:381,column:8}},loc:{start:{line:381,column:13},end:{line:384,column:5}},line:381},32:{name:"(anonymous_32)",decl:{start:{line:386,column:11},end:{line:386,column:12}},loc:{start:{line:386,column:17},end:{line:393,column:3}},line:386},33:{name:"(anonymous_33)",decl:{start:{line:394,column:11},end:{line:394,column:12}},loc:{start:{line:394,column:17},end:{line:401,column:3}},line:394},34:{name:"(anonymous_34)",decl:{start:{line:402,column:16},end:{line:402,column:17}},loc:{start:{line:402,column:26},end:{line:417,column:3}},line:402},35:{name:"(anonymous_35)",decl:{start:{line:418,column:19},end:{line:418,column:20}},loc:{start:{line:418,column:38},end:{line:424,column:3}},line:418},36:{name:"(anonymous_36)",decl:{start:{line:425,column:19},end:{line:425,column:20}},loc:{start:{line:425,column:30},end:{line:430,column:3}},line:425},37:{name:"(anonymous_37)",decl:{start:{line:431,column:16},end:{line:431,column:17}},loc:{start:{line:431,column:27},end:{line:438,column:3}},line:431},38:{name:"(anonymous_38)",decl:{start:{line:439,column:28},end:{line:439,column:29}},loc:{start:{line:439,column:39},end:{line:448,column:3}},line:439},39:{name:"(anonymous_39)",decl:{start:{line:449,column:20},end:{line:449,column:21}},loc:{start:{line:449,column:46},end:{line:456,column:3}},line:449},40:{name:"(anonymous_40)",decl:{start:{line:457,column:19},end:{line:457,column:20}},loc:{start:{line:457,column:37},end:{line:461,column:3}},line:457},41:{name:"(anonymous_41)",decl:{start:{line:462,column:16},end:{line:462,column:17}},loc:{start:{line:462,column:30},end:{line:466,column:3}},line:462},42:{name:"(anonymous_42)",decl:{start:{line:467,column:21},end:{line:467,column:22}},loc:{start:{line:467,column:35},end:{line:481,column:3}},line:467},43:{name:"(anonymous_43)",decl:{start:{line:482,column:14},end:{line:482,column:15}},loc:{start:{line:482,column:28},end:{line:485,column:3}},line:482},44:{name:"(anonymous_44)",decl:{start:{line:486,column:2},end:{line:486,column:3}},loc:{start:{line:486,column:17},end:{line:529,column:3}},line:486},45:{name:"(anonymous_45)",decl:{start:{line:502,column:16},end:{line:502,column:17}},loc:{start:{line:502,column:30},end:{line:502,column:45}},line:502},46:{name:"(anonymous_46)",decl:{start:{line:502,column:52},end:{line:502,column:53}},loc:{start:{line:502,column:62},end:{line:516,column:9}},line:502},47:{name:"(anonymous_47)",decl:{start:{line:516,column:17},end:{line:516,column:18}},loc:{start:{line:516,column:26},end:{line:518,column:9}},line:516},48:{name:"(anonymous_48)",decl:{start:{line:530,column:2},end:{line:530,column:3}},loc:{start:{line:530,column:17},end:{line:533,column:3}},line:530},49:{name:"(anonymous_49)",decl:{start:{line:534,column:16},end:{line:534,column:17}},loc:{start:{line:534,column:29},end:{line:538,column:3}},line:534},50:{name:"(anonymous_50)",decl:{start:{line:539,column:2},end:{line:539,column:3}},loc:{start:{line:539,column:16},end:{line:587,column:3}},line:539},51:{name:"(anonymous_51)",decl:{start:{line:543,column:27},end:{line:543,column:28}},loc:{start:{line:543,column:42},end:{line:547,column:7}},line:543},52:{name:"(anonymous_52)",decl:{start:{line:548,column:20},end:{line:548,column:21}},loc:{start:{line:548,column:27},end:{line:551,column:7}},line:548},53:{name:"(anonymous_53)",decl:{start:{line:588,column:18},end:{line:588,column:19}},loc:{start:{line:588,column:24},end:{line:606,column:3}},line:588},54:{name:"(anonymous_54)",decl:{start:{line:594,column:50},end:{line:594,column:51}},loc:{start:{line:594,column:66},end:{line:594,column:91}},line:594},55:{name:"(anonymous_55)",decl:{start:{line:594,column:100},end:{line:594,column:101}},loc:{start:{line:594,column:109},end:{line:594,column:121}},line:594},56:{name:"(anonymous_56)",decl:{start:{line:607,column:27},end:{line:607,column:28}},loc:{start:{line:607,column:41},end:{line:652,column:3}},line:607},57:{name:"(anonymous_57)",decl:{start:{line:613,column:21},end:{line:613,column:22}},loc:{start:{line:613,column:36},end:{line:615,column:7}},line:613},58:{name:"(anonymous_58)",decl:{start:{line:653,column:18},end:{line:653,column:19}},loc:{start:{line:653,column:29},end:{line:658,column:3}},line:653},59:{name:"(anonymous_59)",decl:{start:{line:659,column:2},end:{line:659,column:3}},loc:{start:{line:659,column:29},end:{line:669,column:3}},line:659},60:{name:"(anonymous_60)",decl:{start:{line:670,column:2},end:{line:670,column:3}},loc:{start:{line:670,column:25},end:{line:672,column:3}},line:670},61:{name:"(anonymous_61)",decl:{start:{line:673,column:28},end:{line:673,column:29}},loc:{start:{line:673,column:44},end:{line:680,column:3}},line:673},62:{name:"(anonymous_62)",decl:{start:{line:681,column:28},end:{line:681,column:29}},loc:{start:{line:681,column:44},end:{line:688,column:3}},line:681},63:{name:"(anonymous_63)",decl:{start:{line:689,column:2},end:{line:689,column:3}},loc:{start:{line:689,column:11},end:{line:829,column:3}},line:689},64:{name:"(anonymous_64)",decl:{start:{line:769,column:15},end:{line:769,column:16}},loc:{start:{line:769,column:23},end:{line:769,column:43}},line:769}},branchMap:{0:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:47,column:9},end:{line:54,column:3}}],line:42},1:{loc:{start:{line:42,column:6},end:{line:42,column:43}},type:"binary-expr",locations:[{start:{line:42,column:6},end:{line:42,column:24}},{start:{line:42,column:28},end:{line:42,column:43}}],line:42},2:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},3:{loc:{start:{line:47,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:47,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:47},4:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},5:{loc:{start:{line:79,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:81,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},6:{loc:{start:{line:79,column:8},end:{line:79,column:89}},type:"binary-expr",locations:[{start:{line:79,column:8},end:{line:79,column:20}},{start:{line:79,column:25},end:{line:79,column:54}},{start:{line:79,column:58},end:{line:79,column:88}}],line:79},7:{loc:{start:{line:122,column:12},end:{line:122,column:61}},type:"cond-expr",locations:[{start:{line:122,column:44},end:{line:122,column:53}},{start:{line:122,column:56},end:{line:122,column:61}}],line:122},8:{loc:{start:{line:140,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:140,column:6},end:{line:151,column:7}},{start:{line:143,column:13},end:{line:151,column:7}}],line:140},9:{loc:{start:{line:143,column:13},end:{line:151,column:7}},type:"if",locations:[{start:{line:143,column:13},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:143},10:{loc:{start:{line:143,column:17},end:{line:143,column:88}},type:"binary-expr",locations:[{start:{line:143,column:17},end:{line:143,column:44}},{start:{line:143,column:48},end:{line:143,column:88}}],line:143},11:{loc:{start:{line:147,column:8},end:{line:150,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:150,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},12:{loc:{start:{line:154,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:173,column:5}},{start:{line:158,column:11},end:{line:173,column:5}}],line:154},13:{loc:{start:{line:154,column:8},end:{line:154,column:104}},type:"binary-expr",locations:[{start:{line:154,column:8},end:{line:154,column:16}},{start:{line:154,column:20},end:{line:154,column:104}}],line:154},14:{loc:{start:{line:159,column:6},end:{line:161,column:7}},type:"if",locations:[{start:{line:159,column:6},end:{line:161,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},15:{loc:{start:{line:163,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:166,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:163},16:{loc:{start:{line:168,column:8},end:{line:171,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:171,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:168},17:{loc:{start:{line:174,column:4},end:{line:177,column:5}},type:"if",locations:[{start:{line:174,column:4},end:{line:177,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},18:{loc:{start:{line:218,column:4},end:{line:234,column:5}},type:"if",locations:[{start:{line:218,column:4},end:{line:234,column:5}},{start:{line:226,column:11},end:{line:234,column:5}}],line:218},19:{loc:{start:{line:219,column:6},end:{line:225,column:7}},type:"if",locations:[{start:{line:219,column:6},end:{line:225,column:7}},{start:{line:222,column:13},end:{line:225,column:7}}],line:219},20:{loc:{start:{line:219,column:10},end:{line:219,column:53}},type:"binary-expr",locations:[{start:{line:219,column:10},end:{line:219,column:19}},{start:{line:219,column:23},end:{line:219,column:33}},{start:{line:219,column:37},end:{line:219,column:53}}],line:219},21:{loc:{start:{line:222,column:13},end:{line:225,column:7}},type:"if",locations:[{start:{line:222,column:13},end:{line:225,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:222},22:{loc:{start:{line:222,column:17},end:{line:222,column:46}},type:"binary-expr",locations:[{start:{line:222,column:17},end:{line:222,column:26}},{start:{line:222,column:30},end:{line:222,column:46}}],line:222},23:{loc:{start:{line:227,column:6},end:{line:233,column:7}},type:"if",locations:[{start:{line:227,column:6},end:{line:233,column:7}},{start:{line:230,column:13},end:{line:233,column:7}}],line:227},24:{loc:{start:{line:227,column:10},end:{line:227,column:39}},type:"binary-expr",locations:[{start:{line:227,column:10},end:{line:227,column:19}},{start:{line:227,column:23},end:{line:227,column:39}}],line:227},25:{loc:{start:{line:230,column:13},end:{line:233,column:7}},type:"if",locations:[{start:{line:230,column:13},end:{line:233,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:230},26:{loc:{start:{line:230,column:17},end:{line:230,column:46}},type:"binary-expr",locations:[{start:{line:230,column:17},end:{line:230,column:26}},{start:{line:230,column:30},end:{line:230,column:46}}],line:230},27:{loc:{start:{line:246,column:21},end:{line:246,column:55}},type:"binary-expr",locations:[{start:{line:246,column:21},end:{line:246,column:49}},{start:{line:246,column:53},end:{line:246,column:55}}],line:246},28:{loc:{start:{line:247,column:24},end:{line:247,column:93}},type:"binary-expr",locations:[{start:{line:247,column:24},end:{line:247,column:70}},{start:{line:247,column:74},end:{line:247,column:93}}],line:247},29:{loc:{start:{line:248,column:21},end:{line:248,column:110}},type:"cond-expr",locations:[{start:{line:248,column:55},end:{line:248,column:96}},{start:{line:248,column:99},end:{line:248,column:110}}],line:248},30:{loc:{start:{line:259,column:4},end:{line:263,column:5}},type:"if",locations:[{start:{line:259,column:4},end:{line:263,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:259},31:{loc:{start:{line:259,column:8},end:{line:259,column:123}},type:"binary-expr",locations:[{start:{line:259,column:8},end:{line:259,column:40}},{start:{line:259,column:44},end:{line:259,column:123}}],line:259},32:{loc:{start:{line:273,column:30},end:{line:273,column:39}},type:"default-arg",locations:[{start:{line:273,column:37},end:{line:273,column:39}}],line:273},33:{loc:{start:{line:280,column:4},end:{line:282,column:5}},type:"if",locations:[{start:{line:280,column:4},end:{line:282,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:280},34:{loc:{start:{line:283,column:19},end:{line:283,column:51}},type:"binary-expr",locations:[{start:{line:283,column:19},end:{line:283,column:45}},{start:{line:283,column:49},end:{line:283,column:51}}],line:283},35:{loc:{start:{line:285,column:4},end:{line:296,column:5}},type:"if",locations:[{start:{line:285,column:4},end:{line:296,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},36:{loc:{start:{line:285,column:8},end:{line:285,column:35}},type:"binary-expr",locations:[{start:{line:285,column:8},end:{line:285,column:16}},{start:{line:285,column:20},end:{line:285,column:35}}],line:285},37:{loc:{start:{line:288,column:8},end:{line:293,column:9}},type:"if",locations:[{start:{line:288,column:8},end:{line:293,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:288},38:{loc:{start:{line:288,column:12},end:{line:288,column:56}},type:"binary-expr",locations:[{start:{line:288,column:12},end:{line:288,column:27}},{start:{line:288,column:31},end:{line:288,column:56}}],line:288},39:{loc:{start:{line:299,column:6},end:{line:312,column:7}},type:"if",locations:[{start:{line:299,column:6},end:{line:312,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:299},40:{loc:{start:{line:314,column:6},end:{line:327,column:7}},type:"if",locations:[{start:{line:314,column:6},end:{line:327,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:314},41:{loc:{start:{line:329,column:6},end:{line:347,column:7}},type:"if",locations:[{start:{line:329,column:6},end:{line:347,column:7}},{start:{line:343,column:13},end:{line:347,column:7}}],line:329},42:{loc:{start:{line:331,column:20},end:{line:331,column:78}},type:"cond-expr",locations:[{start:{line:331,column:40},end:{line:331,column:67}},{start:{line:331,column:70},end:{line:331,column:78}}],line:331},43:{loc:{start:{line:331,column:20},end:{line:331,column:37}},type:"binary-expr",locations:[{start:{line:331,column:20},end:{line:331,column:25}},{start:{line:331,column:29},end:{line:331,column:37}}],line:331},44:{loc:{start:{line:350,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:350,column:4},end:{line:364,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:350},45:{loc:{start:{line:354,column:8},end:{line:362,column:9}},type:"if",locations:[{start:{line:354,column:8},end:{line:362,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:354},46:{loc:{start:{line:365,column:4},end:{line:367,column:5}},type:"if",locations:[{start:{line:365,column:4},end:{line:367,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:365},47:{loc:{start:{line:368,column:4},end:{line:370,column:5}},type:"if",locations:[{start:{line:368,column:4},end:{line:370,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:368},48:{loc:{start:{line:371,column:4},end:{line:373,column:5}},type:"if",locations:[{start:{line:371,column:4},end:{line:373,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:371},49:{loc:{start:{line:374,column:4},end:{line:376,column:5}},type:"if",locations:[{start:{line:374,column:4},end:{line:376,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:374},50:{loc:{start:{line:407,column:4},end:{line:408,column:13}},type:"if",locations:[{start:{line:407,column:4},end:{line:408,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:407},51:{loc:{start:{line:409,column:4},end:{line:413,column:5}},type:"if",locations:[{start:{line:409,column:4},end:{line:413,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:409},52:{loc:{start:{line:443,column:26},end:{line:443,column:70}},type:"cond-expr",locations:[{start:{line:443,column:46},end:{line:443,column:65}},{start:{line:443,column:68},end:{line:443,column:70}}],line:443},53:{loc:{start:{line:444,column:31},end:{line:444,column:87}},type:"cond-expr",locations:[{start:{line:444,column:69},end:{line:444,column:78}},{start:{line:444,column:81},end:{line:444,column:87}}],line:444},54:{loc:{start:{line:468,column:21},end:{line:468,column:44}},type:"binary-expr",locations:[{start:{line:468,column:21},end:{line:468,column:38}},{start:{line:468,column:42},end:{line:468,column:44}}],line:468},55:{loc:{start:{line:469,column:4},end:{line:480,column:5}},type:"if",locations:[{start:{line:469,column:4},end:{line:480,column:5}},{start:{line:478,column:11},end:{line:480,column:5}}],line:469},56:{loc:{start:{line:489,column:6},end:{line:521,column:7}},type:"if",locations:[{start:{line:489,column:6},end:{line:521,column:7}},{start:{line:519,column:13},end:{line:521,column:7}}],line:489},57:{loc:{start:{line:489,column:10},end:{line:489,column:149}},type:"binary-expr",locations:[{start:{line:489,column:10},end:{line:489,column:72}},{start:{line:489,column:76},end:{line:489,column:97}},{start:{line:489,column:101},end:{line:489,column:149}}],line:489},58:{loc:{start:{line:503,column:10},end:{line:505,column:11}},type:"if",locations:[{start:{line:503,column:10},end:{line:505,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:503},59:{loc:{start:{line:520,column:26},end:{line:520,column:85}},type:"binary-expr",locations:[{start:{line:520,column:26},end:{line:520,column:49}},{start:{line:520,column:53},end:{line:520,column:85}}],line:520},60:{loc:{start:{line:523,column:4},end:{line:528,column:5}},type:"if",locations:[{start:{line:523,column:4},end:{line:528,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:523},61:{loc:{start:{line:531,column:21},end:{line:531,column:55}},type:"binary-expr",locations:[{start:{line:531,column:21},end:{line:531,column:49}},{start:{line:531,column:53},end:{line:531,column:55}}],line:531},62:{loc:{start:{line:532,column:11},end:{line:532,column:52}},type:"binary-expr",locations:[{start:{line:532,column:11},end:{line:532,column:40}},{start:{line:532,column:44},end:{line:532,column:52}}],line:532},63:{loc:{start:{line:542,column:16},end:{line:542,column:41}},type:"binary-expr",locations:[{start:{line:542,column:16},end:{line:542,column:29}},{start:{line:542,column:33},end:{line:542,column:41}}],line:542},64:{loc:{start:{line:555,column:4},end:{line:577,column:5}},type:"if",locations:[{start:{line:555,column:4},end:{line:577,column:5}},{start:{line:565,column:11},end:{line:577,column:5}}],line:555},65:{loc:{start:{line:579,column:4},end:{line:581,column:5}},type:"if",locations:[{start:{line:579,column:4},end:{line:581,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:579},66:{loc:{start:{line:583,column:4},end:{line:585,column:5}},type:"if",locations:[{start:{line:583,column:4},end:{line:585,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:583},67:{loc:{start:{line:594,column:66},end:{line:594,column:91}},type:"cond-expr",locations:[{start:{line:594,column:81},end:{line:594,column:84}},{start:{line:594,column:87},end:{line:594,column:91}}],line:594},68:{loc:{start:{line:595,column:4},end:{line:599,column:5}},type:"if",locations:[{start:{line:595,column:4},end:{line:599,column:5}},{start:{line:597,column:11},end:{line:599,column:5}}],line:595},69:{loc:{start:{line:600,column:4},end:{line:604,column:5}},type:"if",locations:[{start:{line:600,column:4},end:{line:604,column:5}},{start:{line:602,column:11},end:{line:604,column:5}}],line:600},70:{loc:{start:{line:602,column:11},end:{line:604,column:5}},type:"if",locations:[{start:{line:602,column:11},end:{line:604,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:602},71:{loc:{start:{line:610,column:4},end:{line:622,column:5}},type:"if",locations:[{start:{line:610,column:4},end:{line:622,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:610},72:{loc:{start:{line:610,column:8},end:{line:610,column:39}},type:"binary-expr",locations:[{start:{line:610,column:8},end:{line:610,column:18}},{start:{line:610,column:22},end:{line:610,column:39}}],line:610},73:{loc:{start:{line:624,column:4},end:{line:626,column:5}},type:"if",locations:[{start:{line:624,column:4},end:{line:626,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:624},74:{loc:{start:{line:624,column:8},end:{line:624,column:27}},type:"binary-expr",locations:[{start:{line:624,column:8},end:{line:624,column:12}},{start:{line:624,column:16},end:{line:624,column:27}}],line:624},75:{loc:{start:{line:628,column:4},end:{line:651,column:5}},type:"if",locations:[{start:{line:628,column:4},end:{line:651,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:628},76:{loc:{start:{line:636,column:8},end:{line:641,column:9}},type:"if",locations:[{start:{line:636,column:8},end:{line:641,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:636},77:{loc:{start:{line:638,column:10},end:{line:640,column:11}},type:"if",locations:[{start:{line:638,column:10},end:{line:640,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:638},78:{loc:{start:{line:642,column:8},end:{line:647,column:9}},type:"if",locations:[{start:{line:642,column:8},end:{line:647,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:642},79:{loc:{start:{line:660,column:4},end:{line:662,column:5}},type:"if",locations:[{start:{line:660,column:4},end:{line:662,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:660},80:{loc:{start:{line:660,column:8},end:{line:660,column:49}},type:"binary-expr",locations:[{start:{line:660,column:8},end:{line:660,column:30}},{start:{line:660,column:34},end:{line:660,column:49}}],line:660},81:{loc:{start:{line:690,column:19},end:{line:690,column:51}},type:"binary-expr",locations:[{start:{line:690,column:19},end:{line:690,column:45}},{start:{line:690,column:49},end:{line:690,column:51}}],line:690},82:{loc:{start:{line:691,column:26},end:{line:691,column:92}},type:"cond-expr",locations:[{start:{line:691,column:46},end:{line:691,column:83}},{start:{line:691,column:86},end:{line:691,column:92}}],line:691},83:{loc:{start:{line:721,column:24},end:{line:740,column:14}},type:"cond-expr",locations:[{start:{line:721,column:56},end:{line:740,column:5}},{start:{line:740,column:8},end:{line:740,column:14}}],line:721},84:{loc:{start:{line:741,column:24},end:{line:751,column:14}},type:"cond-expr",locations:[{start:{line:741,column:97},end:{line:751,column:5}},{start:{line:751,column:8},end:{line:751,column:14}}],line:741}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAotBmB,SAAA,KAgNA,YAhNA;AAntBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,wBAAuB;AAEvC,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,qBAAqB,IAAI,MAAM,oBAAoB;AACnD,QAAA,kBAAkB,IAAI,MAAM,iBAAiB;AAC7C,QAAA,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,MAAI,sBAAsB,iBAAiB;AACnC,UAAA,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AACvB,UAAA,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAyDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EACA,aAAoC;AAAA,EAEpC,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AACK,aAAA,WAAW,YAAY,CAAA,aAAY,KAAK,eAAe,UAAU,EAAC,aAAa,KAAI,CAAC,CAAC;AAEvF,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,IACF;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAEvE,UAAA,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAIjE,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa;AAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,aAAgD;AAChD,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AACzD,QAAA,cAAc,YAAY,UAAU,OAAO;AAC/B,mBAAA,QAAQ,UAAU,EAAE;AAAA,IACnC;AAEA,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK,CAAC,OAAO,KAAK,aAAa;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89c068ca942382ab4384d9496905567c46b1fd10"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ie=function(){return s},s}ie();ie().s[0]++;window.Buffer=CV.Buffer;function Uke(e,n){ie().f[0]++;const t=(ie().s[1]++,e.match(/\.tilehosting\.com/)),r=(ie().s[2]++,e.match(/\.maptiler\.com/)),i=(ie().s[3]++,e.match(/\.thunderforest\.com/));if(ie().s[4]++,ie().b[1][0]++,t||(ie().b[1][1]++,r)){ie().b[0][0]++;const o=(ie().s[5]++,Mu.getAccessToken("openmaptiles",n,{allowFallback:!0}));if(ie().s[6]++,o)return ie().b[2][0]++,ie().s[7]++,e.replace("{key}",o);ie().b[2][1]++}else if(ie().b[0][1]++,ie().s[8]++,i){ie().b[3][0]++;const o=(ie().s[9]++,Mu.getAccessToken("thunderforest",n,{allowFallback:!0}));if(ie().s[10]++,o)return ie().b[4][0]++,ie().s[11]++,e.replace("{key}",o);ie().b[4][1]++}else return ie().b[3][1]++,ie().s[12]++,e}function bF(e,n,t){return ie().f[1]++,ie().s[13]++,{...e,$root:{...e.$root,[n]:{...e.$root[n],values:t}}}}class Rke extends xn.Component{constructor(t){ie().f[2]++,ie().s[15]++;super(t);rn(this,"revisionStore");rn(this,"styleStore");rn(this,"layerWatcher");rn(this,"shortcutEl",(ie().s[14]++,null));rn(this,"handleKeyPress",(ie().s[66]++,t=>{ie().f[18]++,ie().s[67]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(ie().b[18][0]++,ie().s[68]++,ie().b[20][0]++,t.metaKey&&(ie().b[20][1]++,t.shiftKey)&&(ie().b[20][2]++,t.keyCode===90)?(ie().b[19][0]++,ie().s[69]++,t.preventDefault(),ie().s[70]++,this.onRedo()):(ie().b[19][1]++,ie().s[71]++,ie().b[22][0]++,t.metaKey&&(ie().b[22][1]++,t.keyCode===90)?(ie().b[21][0]++,ie().s[72]++,t.preventDefault(),ie().s[73]++,this.onUndo()):ie().b[21][1]++)):(ie().b[18][1]++,ie().s[74]++,ie().b[24][0]++,t.ctrlKey&&(ie().b[24][1]++,t.keyCode===90)?(ie().b[23][0]++,ie().s[75]++,t.preventDefault(),ie().s[76]++,this.onUndo()):(ie().b[23][1]++,ie().s[77]++,ie().b[26][0]++,t.ctrlKey&&(ie().b[26][1]++,t.keyCode===89)?(ie().b[25][0]++,ie().s[78]++,t.preventDefault(),ie().s[79]++,this.onRedo()):ie().b[25][1]++))}));rn(this,"onChangeMetadataProperty",(ie().s[90]++,(t,r)=>{ie().f[26]++,ie().s[91]++,ie().b[31][0]++,t==="maputnik:renderer"&&(ie().b[31][1]++,r!==vH(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(ie().b[30][0]++,ie().s[92]++,this.setState({mapState:"map"})):ie().b[30][1]++;const i=(ie().s[93]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[t]:r}});ie().s[94]++,this.onStyleChanged(i)}));rn(this,"onStyleChanged",(ie().s[95]++,(t,r=(ie().b[32][0]++,{}))=>{ie().f[27]++,ie().s[96]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},ie().s[97]++,r.initialLoad?(ie().b[33][0]++,ie().s[98]++,this.getInitialStateFromUrl(t)):ie().b[33][1]++;const i=(ie().s[99]++,ie().b[34][0]++,Sd(t)||(ie().b[34][1]++,[])),o=(ie().s[100]++,[]);if(ie().s[101]++,ie().b[36][0]++,t&&(ie().b[36][1]++,t.layers)){ie().b[35][0]++;const h=(ie().s[102]++,new window.Map);ie().s[103]++,t.layers.forEach((g,C)=>{if(ie().f[28]++,ie().s[104]++,ie().b[38][0]++,g.id===""&&(ie().b[38][1]++,h.has(g.id))){ie().b[37][0]++;const B=(ie().s[105]++,new Error(`layers[${C}]: duplicate layer id [empty_string], previously used`));ie().s[106]++,o.push(B)}else ie().b[37][1]++;ie().s[107]++,h.set(g.id,!0)})}else ie().b[35][1]++;const s=(ie().s[108]++,o.concat(i).map(h=>{ie().f[29]++;const g=(ie().s[109]++,h.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(ie().s[110]++,g){ie().b[39][0]++;const[,k,P]=(ie().s[111]++,g);return ie().s[112]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:"id",message:P}}}}else ie().b[39][1]++;const C=(ie().s[113]++,h.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(ie().s[114]++,C){ie().b[40][0]++;const[,k,P]=(ie().s[115]++,C);return ie().s[116]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:"source",message:P}}}}else ie().b[40][1]++;const B=(ie().s[117]++,h.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(ie().s[118]++,B){ie().b[41][0]++;const[,k,P,U,Z]=(ie().s[119]++,B),W=(ie().s[120]++,ie().b[43][0]++,P&&(ie().b[43][1]++,U)?(ie().b[42][0]++,[P,U].join(".")):(ie().b[42][1]++,U));return ie().s[121]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:W,message:Z}}}}else return ie().b[41][1]++,ie().s[122]++,{message:h.message}}));let a=(ie().s[123]++,void 0);ie().s[124]++,i.length>0?(ie().b[44][0]++,ie().s[125]++,a=TI(t),ie().s[126]++,i.forEach(h=>{ie().f[30]++;const{message:g}=(ie().s[127]++,h);if(ie().s[128]++,g){ie().b[45][0]++,ie().s[129]++;try{const C=(ie().s[130]++,g.split(":")[0]),B=(ie().s[131]++,C.match(/^\S+?\[\d+\]\.[^[]+/)[0]);ie().s[132]++,V4.unset(a,B)}catch(C){ie().s[133]++,console.warn(C)}}else ie().b[45][1]++})):ie().b[44][1]++,ie().s[134]++,t.glyphs!==this.state.mapStyle.glyphs?(ie().b[46][0]++,ie().s[135]++,this.updateFonts(t.glyphs)):ie().b[46][1]++,ie().s[136]++,t.sprite!==this.state.mapStyle.sprite?(ie().b[47][0]++,ie().s[137]++,this.updateIcons(t.sprite)):ie().b[47][1]++,ie().s[138]++,r.addRevision?(ie().b[48][0]++,ie().s[139]++,this.revisionStore.addRevision(t)):ie().b[48][1]++,ie().s[140]++,r.save?(ie().b[49][0]++,ie().s[141]++,this.saveStyle(t)):ie().b[49][1]++,ie().s[142]++,this.setState({mapStyle:t,dirtyMapStyle:a,errors:s},()=>{ie().f[31]++,ie().s[143]++,this.fetchSources(),ie().s[144]++,this.setStateInUrl()})}));rn(this,"onUndo",(ie().s[145]++,()=>{ie().f[32]++;const t=(ie().s[146]++,this.revisionStore.undo()),r=(ie().s[147]++,tke(this.state.mapStyle,t));ie().s[148]++,this.onStyleChanged(t,{addRevision:!1}),ie().s[149]++,this.setState({infos:r})}));rn(this,"onRedo",(ie().s[150]++,()=>{ie().f[33]++;const t=(ie().s[151]++,this.revisionStore.redo()),r=(ie().s[152]++,nke(this.state.mapStyle,t));ie().s[153]++,this.onStyleChanged(t,{addRevision:!1}),ie().s[154]++,this.setState({infos:r})}));rn(this,"onMoveLayer",(ie().s[155]++,t=>{ie().f[34]++;let{oldIndex:r,newIndex:i}=(ie().s[156]++,t),o=(ie().s[157]++,this.state.mapStyle.layers);if(ie().s[158]++,r=FI(r,0,o.length-1),ie().s[159]++,i=FI(i,0,o.length-1),ie().s[160]++,r===i){ie().b[50][0]++,ie().s[161]++;return}else ie().b[50][1]++;ie().s[162]++,r===this.state.selectedLayerIndex?(ie().b[51][0]++,ie().s[163]++,this.setState({selectedLayerIndex:i})):ie().b[51][1]++,ie().s[164]++,o=o.slice(0),ie().s[165]++,_H(o,r,i),ie().s[166]++,this.onLayersChange(o)}));rn(this,"onLayersChange",(ie().s[167]++,t=>{ie().f[35]++;const r=(ie().s[168]++,{...this.state.mapStyle,layers:t});ie().s[169]++,this.onStyleChanged(r)}));rn(this,"onLayerDestroy",(ie().s[170]++,t=>{ie().f[36]++;const r=(ie().s[171]++,this.state.mapStyle.layers),i=(ie().s[172]++,r.slice(0));ie().s[173]++,i.splice(t,1),ie().s[174]++,this.onLayersChange(i)}));rn(this,"onLayerCopy",(ie().s[175]++,t=>{ie().f[37]++;const r=(ie().s[176]++,this.state.mapStyle.layers),i=(ie().s[177]++,r.slice(0)),o=(ie().s[178]++,TI(i[t]));ie().s[179]++,o.id=o.id+"-copy",ie().s[180]++,i.splice(t,0,o),ie().s[181]++,this.onLayersChange(i)}));rn(this,"onLayerVisibilityToggle",(ie().s[182]++,t=>{ie().f[38]++;const r=(ie().s[183]++,this.state.mapStyle.layers),i=(ie().s[184]++,r.slice(0)),o=(ie().s[185]++,{...i[t]}),s=(ie().s[186]++,"layout"in o?(ie().b[52][0]++,{...o.layout}):(ie().b[52][1]++,{}));ie().s[187]++,s.visibility=s.visibility==="none"?(ie().b[53][0]++,"visible"):(ie().b[53][1]++,"none"),ie().s[188]++,o.layout=s,ie().s[189]++,i[t]=o,ie().s[190]++,this.onLayersChange(i)}));rn(this,"onLayerIdChange",(ie().s[191]++,(t,r,i)=>{ie().f[39]++;const o=(ie().s[192]++,this.state.mapStyle.layers.slice(0));ie().s[193]++,o[t]={...o[t],id:i},ie().s[194]++,this.onLayersChange(o)}));rn(this,"onLayerChanged",(ie().s[195]++,(t,r)=>{ie().f[40]++;const i=(ie().s[196]++,this.state.mapStyle.layers.slice(0));ie().s[197]++,i[t]=r,ie().s[198]++,this.onLayersChange(i)}));rn(this,"setMapState",(ie().s[199]++,t=>{ie().f[41]++,ie().s[200]++,this.setState({mapState:t},this.setStateInUrl)}));rn(this,"setDefaultValues",(ie().s[201]++,t=>{ie().f[42]++;const r=(ie().s[202]++,ie().b[54][0]++,t.metadata||(ie().b[54][1]++,{}));if(ie().s[203]++,r["maputnik:renderer"]===void 0){ie().b[55][0]++;const i=(ie().s[204]++,{...t,metadata:{...t.metadata,"maputnik:renderer":"mlgljs"}});return ie().s[205]++,i}else return ie().b[55][1]++,ie().s[206]++,t}));rn(this,"openStyle",(ie().s[207]++,t=>{ie().f[43]++,ie().s[208]++,t=this.setDefaultValues(t),ie().s[209]++,this.onStyleChanged(t)}));rn(this,"onMapChange",(ie().s[234]++,t=>{ie().f[49]++,ie().s[235]++,this.setState({mapView:t})}));rn(this,"setStateInUrl",(ie().s[251]++,()=>{ie().f[53]++;const{mapState:t,mapStyle:r,isOpen:i}=(ie().s[252]++,this.state),{selectedLayerIndex:o}=(ie().s[253]++,this.state),s=(ie().s[254]++,new URL(location.href)),a=(ie().s[255]++,zI(JSON.stringify(r)));ie().s[256]++,s.searchParams.set("layer",`${a}~${o}`);const h=(ie().s[257]++,Object.entries(i).map(([g,C])=>(ie().f[54]++,ie().s[258]++,C===!0?(ie().b[67][0]++,g):(ie().b[67][1]++,null))).filter(g=>(ie().f[55]++,ie().s[259]++,g!==null)));ie().s[260]++,h.length>0?(ie().b[68][0]++,ie().s[261]++,s.searchParams.set("modal",h.join(","))):(ie().b[68][1]++,ie().s[262]++,s.searchParams.delete("modal")),ie().s[263]++,t==="map"?(ie().b[69][0]++,ie().s[264]++,s.searchParams.delete("view")):(ie().b[69][1]++,ie().s[265]++,t==="inspect"?(ie().b[70][0]++,ie().s[266]++,s.searchParams.set("view","inspect")):ie().b[70][1]++),ie().s[267]++,history.replaceState({selectedLayerIndex:o},"Maputnik",s.href)}));rn(this,"getInitialStateFromUrl",(ie().s[268]++,t=>{ie().f[56]++;const r=(ie().s[269]++,new URL(location.href)),i=(ie().s[270]++,r.searchParams.get("modal"));if(ie().s[271]++,ie().b[72][0]++,i&&(ie().b[72][1]++,i!=="")){ie().b[71][0]++;const a=(ie().s[272]++,i.split(",")),h=(ie().s[273]++,{});ie().s[274]++,a.forEach(g=>{ie().f[57]++,ie().s[275]++,h[g]=!0}),ie().s[276]++,this.setState({isOpen:{...this.state.isOpen,...h}})}else ie().b[71][1]++;const o=(ie().s[277]++,r.searchParams.get("view"));ie().s[278]++,ie().b[74][0]++,o&&(ie().b[74][1]++,o!=="")?(ie().b[73][0]++,ie().s[279]++,this.setMapState(o)):ie().b[73][1]++;const s=(ie().s[280]++,r.searchParams.get("layer"));if(ie().s[281]++,s){ie().b[75][0]++,ie().s[282]++;try{const a=(ie().s[283]++,s.split("~")),[h,g]=(ie().s[284]++,[a[0],parseInt(a[1],10)]);let C=(ie().s[285]++,!0);if(ie().s[286]++,h!=="-"){ie().b[76][0]++;const B=(ie().s[287]++,zI(JSON.stringify(t)));ie().s[288]++,B!==parseInt(h,10)?(ie().b[77][0]++,ie().s[289]++,C=!1):ie().b[77][1]++}else ie().b[76][1]++;ie().s[290]++,C?(ie().b[78][0]++,ie().s[291]++,this.setState({selectedLayerIndex:g,selectedLayerOriginalId:t.layers[g].id})):ie().b[78][1]++}catch(a){ie().s[292]++,console.warn(a)}}else ie().b[75][1]++}));rn(this,"onLayerSelect",(ie().s[293]++,t=>{ie().f[58]++,ie().s[294]++,this.setState({selectedLayerIndex:t,selectedLayerOriginalId:this.state.mapStyle.layers[t].id},this.setStateInUrl)}));rn(this,"onChangeOpenlayersDebug",(ie().s[299]++,(t,r)=>{ie().f[61]++,ie().s[300]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[t]:r}})}));rn(this,"onChangeMaplibreGlDebug",(ie().s[301]++,(t,r)=>{ie().f[62]++,ie().s[302]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[t]:r}})}));ie().s[16]++,Xq(this),ie().s[17]++,this.revisionStore=new pke;const r=(ie().s[18]++,new URLSearchParams(window.location.search.substring(1)));let i=(ie().s[19]++,r.get("localport"));ie().s[20]++,ie().b[6][0]++,i==null&&(ie().b[6][1]++,window.location.port!=="80")&&(ie().b[6][2]++,window.location.port!=="443")?(ie().b[5][0]++,ie().s[21]++,i=window.location.port):ie().b[5][1]++,ie().s[22]++,this.styleStore=new fke({onLocalStyleChange:a=>(ie().f[3]++,ie().s[23]++,this.onStyleChanged(a,{save:!1})),port:i,host:r.get("localhost")});const o=(ie().s[24]++,[{key:"?",handler:()=>{ie().f[4]++,ie().s[25]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{ie().f[5]++,ie().s[26]++,this.toggleModal("open")}},{key:"e",handler:()=>{ie().f[6]++,ie().s[27]++,this.toggleModal("export")}},{key:"d",handler:()=>{ie().f[7]++,ie().s[28]++,this.toggleModal("sources")}},{key:"s",handler:()=>{ie().f[8]++,ie().s[29]++,this.toggleModal("settings")}},{key:"i",handler:()=>{ie().f[9]++,ie().s[30]++,this.setMapState(this.state.mapState==="map"?(ie().b[7][0]++,"inspect"):(ie().b[7][1]++,"map"))}},{key:"m",handler:()=>{ie().f[10]++,ie().s[31]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{ie().f[11]++,ie().s[32]++,this.toggleModal("debug")}}]);ie().s[33]++,document.body.addEventListener("keyup",a=>{if(ie().f[12]++,ie().s[34]++,a.key==="Escape")ie().b[8][0]++,ie().s[35]++,a.target.blur(),ie().s[36]++,document.body.focus();else if(ie().b[8][1]++,ie().s[37]++,ie().b[10][0]++,this.state.isOpen.shortcuts||(ie().b[10][1]++,document.activeElement===document.body)){ie().b[9][0]++;const h=(ie().s[38]++,o.find(g=>(ie().f[13]++,ie().s[39]++,g.key===a.key)));ie().s[40]++,h?(ie().b[11][0]++,ie().s[41]++,this.setModal("shortcuts",!1),ie().s[42]++,h.handler()):ie().b[11][1]++}else ie().b[9][1]++});const s=(ie().s[43]++,eke());ie().s[44]++,ie().b[13][0]++,s&&(ie().b[13][1]++,window.confirm("Load style from URL: "+s+" and discard current changes?"))?(ie().b[12][0]++,ie().s[45]++,this.styleStore=new vF,ie().s[46]++,aQ(s,a=>(ie().f[14]++,ie().s[47]++,this.onStyleChanged(a))),ie().s[48]++,pF()):(ie().b[12][1]++,ie().s[49]++,s?(ie().b[14][0]++,ie().s[50]++,pF()):ie().b[14][1]++,ie().s[51]++,this.styleStore.init(a=>{ie().f[15]++,ie().s[52]++,a?(ie().b[15][0]++,ie().s[53]++,console.log("Falling back to local storage for storing styles"),ie().s[54]++,this.styleStore=new vF):ie().b[15][1]++,ie().s[55]++,this.styleStore.latestStyle(h=>(ie().f[16]++,ie().s[56]++,this.onStyleChanged(h,{initialLoad:!0}))),ie().s[57]++,k0.enabled()?(ie().b[16][0]++,ie().s[58]++,k0.set("maputnik","styleStore",this.styleStore),ie().s[59]++,k0.set("maputnik","revisionStore",this.revisionStore)):ie().b[16][1]++})),ie().s[60]++,k0.enabled()?(ie().b[17][0]++,ie().s[61]++,k0.set("maputnik","revisionStore",this.revisionStore),ie().s[62]++,k0.set("maputnik","styleStore",this.styleStore)):ie().b[17][1]++,ie().s[63]++,this.state={errors:[],infos:[],mapStyle:Mu.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:ma,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,survey:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1}},ie().s[64]++,this.layerWatcher=new Fke({onVectorLayersChange:a=>(ie().f[17]++,ie().s[65]++,this.setState({vectorLayers:a}))})}componentDidMount(){ie().f[19]++,ie().s[80]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){ie().f[20]++,ie().s[81]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(t){ie().f[21]++,ie().s[82]++,this.styleStore.save(t)}updateFonts(t){ie().f[22]++;const r=(ie().s[83]++,ie().b[27][0]++,this.state.mapStyle.metadata||(ie().b[27][1]++,{})),i=(ie().s[84]++,ie().b[28][0]++,r["maputnik:openmaptiles_access_token"]||(ie().b[28][1]++,KG.openmaptiles)),o=(ie().s[85]++,typeof t=="string"?(ie().b[29][0]++,t.replace("{key}",i)):(ie().b[29][1]++,t));ie().s[86]++,X8e(o,s=>{ie().f[23]++,ie().s[87]++,this.setState({spec:bF(this.state.spec,"glyphs",s)})})}updateIcons(t){ie().f[24]++,ie().s[88]++,J8e(t,r=>{ie().f[25]++,ie().s[89]++,this.setState({spec:bF(this.state.spec,"sprite",r)})})}fetchSources(){ie().f[44]++;const t=(ie().s[210]++,{});ie().s[211]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(ie().s[212]++,ie().b[57][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(ie().b[57][1]++,i.type==="vector")&&(ie().b[57][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){ie().b[56][0]++,ie().s[213]++,t[r]={type:i.type,layers:[]};let o=(ie().s[214]++,i.url);ie().s[215]++;try{ie().s[216]++,o=Uke(o,this.state.mapStyle)}catch(s){ie().s[217]++,console.warn("Failed to setFetchAccessToken: ",s)}ie().s[218]++,fetch(o,{mode:"cors"}).then(s=>(ie().f[45]++,ie().s[219]++,s.json())).then(s=>{if(ie().f[46]++,ie().s[220]++,Object.prototype.hasOwnProperty.call(s,"vector_layers"))ie().b[58][1]++;else{ie().b[58][0]++,ie().s[221]++;return}const a=(ie().s[222]++,Object.assign({},{[r]:this.state.sources[r]}));ie().s[223]++;for(const h of s.vector_layers)ie().s[224]++,a[r].layers.push(h.id);ie().s[225]++,console.debug("Updating source: "+r),ie().s[226]++,this.setState({sources:a})}).catch(s=>{ie().f[47]++,ie().s[227]++,console.error("Failed to process sources for '%s'",o,s)})}else ie().b[56][1]++,ie().s[228]++,t[r]=(ie().b[59][0]++,this.state.sources[r]||(ie().b[59][1]++,this.state.mapStyle.sources[r]));ie().s[229]++,U6(this.state.sources,t)?ie().b[60][1]++:(ie().b[60][0]++,ie().s[230]++,console.debug("Setting sources"),ie().s[231]++,this.setState({sources:t}))}_getRenderer(){ie().f[48]++;const t=(ie().s[232]++,ie().b[61][0]++,this.state.mapStyle.metadata||(ie().b[61][1]++,{}));return ie().s[233]++,ie().b[62][0]++,t["maputnik:renderer"]||(ie().b[62][1]++,"mlgljs")}mapRenderer(){ie().f[50]++;const{mapStyle:t,dirtyMapStyle:r}=(ie().s[236]++,this.state),i=(ie().s[237]++,{mapStyle:(ie().b[63][0]++,r||(ie().b[63][1]++,t)),replaceAccessTokens:g=>(ie().f[51]++,ie().s[238]++,Mu.replaceAccessTokens(g,{allowFallback:!0})),onDataChange:g=>{ie().f[52]++,ie().s[239]++,this.layerWatcher.analyzeMap(g.map),ie().s[240]++,this.fetchSources()}}),o=(ie().s[241]++,this._getRenderer());let s;ie().s[242]++,o==="ol"?(ie().b[64][0]++,ie().s[243]++,s=N.jsx(oW,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(ie().b[64][1]++,ie().s[244]++,s=N.jsx(PR,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let a;ie().s[245]++,this.state.mapState.match(/^filter-/)?(ie().b[65][0]++,ie().s[246]++,a=this.state.mapState.replace(/^filter-/,"")):ie().b[65][1]++;const h=(ie().s[247]++,{});return ie().s[248]++,a?(ie().b[66][0]++,ie().s[249]++,h.filter=`url('#${a}')`):ie().b[66][1]++,ie().s[250]++,N.jsx("div",{style:h,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:s})}setModal(t,r){ie().f[59]++,ie().s[295]++,ie().b[80][0]++,t==="survey"&&(ie().b[80][1]++,r===!1)?(ie().b[79][0]++,ie().s[296]++,localStorage.setItem("survey","")):ie().b[79][1]++,ie().s[297]++,this.setState({isOpen:{...this.state.isOpen,[t]:r}},this.setStateInUrl)}toggleModal(t){ie().f[60]++,ie().s[298]++,this.setModal(t,!this.state.isOpen[t])}render(){ie().f[63]++;const t=(ie().s[303]++,ie().b[81][0]++,this.state.mapStyle.layers||(ie().b[81][1]++,[])),r=(ie().s[304]++,t.length>0?(ie().b[82][0]++,t[this.state.selectedLayerIndex]):(ie().b[82][1]++,void 0)),i=(ie().s[305]++,N.jsx(kOe,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(ie().s[306]++,N.jsx(epe,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:t,sources:this.state.sources,errors:this.state.errors})),s=(ie().s[307]++,r?(ie().b[83][0]++,N.jsx(AO,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(ie().b[83][1]++,void 0)),a=(ie().s[308]++,this.state.errors.length+this.state.infos.length>0?(ie().b[84][0]++,N.jsx(kG,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(ie().b[84][1]++,void 0)),h=(ie().s[309]++,N.jsxs("div",{children:[N.jsx(kBe,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),N.jsx(EBe,{ref:g=>(ie().f[64]++,ie().s[310]++,this.shortcutEl=g),isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),N.jsx(POe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),N.jsx(qOe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export")}),N.jsx(SBe,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open")}),N.jsx(uBe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")}),N.jsx(BBe,{isOpen:this.state.isOpen.survey,onOpenToggle:this.toggleModal.bind(this,"survey")})]}));return ie().s[311]++,N.jsx(BG,{toolbar:i,layerList:o,layerEditor:s,map:this.mapRenderer(),bottom:a,modals:h})}}UL.render(N.jsx(TS.Provider,{value:{className:"react-icons"},children:N.jsx(Rke,{})}),document.querySelector("#app"));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-Qq7nMHrp.js.map
