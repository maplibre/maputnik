var s$=Object.defineProperty;var l$=(t,n,e)=>n in t?s$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var rn=(t,n,e)=>(l$(t,typeof n!="symbol"?n+"":n,e),e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var tf=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Qo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DE(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var e=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),e}var kP={exports:{}},s_={},TP={exports:{}},ca={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var R8=Object.getOwnPropertySymbols,u$=Object.prototype.hasOwnProperty,A$=Object.prototype.propertyIsEnumerable;function c$(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function d$(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var n={},e=0;e<10;e++)n["_"+String.fromCharCode(e)]=e;var r=Object.getOwnPropertyNames(n).map(function(o){return n[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var KP=d$()?Object.assign:function(t,n){for(var e,r=c$(t),i,o=1;o<arguments.length;o++){e=Object(arguments[o]);for(var s in e)u$.call(e,s)&&(r[s]=e[s]);if(R8){i=R8(e);for(var a=0;a<i.length;a++)A$.call(e,i[a])&&(r[i[a]]=e[i[a]])}}return r};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=KP,ih=typeof Symbol=="function"&&Symbol.for,l_=ih?Symbol.for("react.element"):60103,h$=ih?Symbol.for("react.portal"):60106,f$=ih?Symbol.for("react.fragment"):60107,p$=ih?Symbol.for("react.strict_mode"):60108,m$=ih?Symbol.for("react.profiler"):60114,g$=ih?Symbol.for("react.provider"):60109,y$=ih?Symbol.for("react.context"):60110,v$=ih?Symbol.for("react.forward_ref"):60112,C$=ih?Symbol.for("react.suspense"):60113,_$=ih?Symbol.for("react.memo"):60115,b$=ih?Symbol.for("react.lazy"):60116,z8=typeof Symbol=="function"&&Symbol.iterator;function u_(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,e=1;e<arguments.length;e++)n+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UP={};function yy(t,n,e){this.props=t,this.context=n,this.refs=UP,this.updater=e||PP}yy.prototype.isReactComponent={};yy.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(u_(85));this.updater.enqueueSetState(this,t,n,"setState")};yy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DP(){}DP.prototype=yy.prototype;function LE(t,n,e){this.props=t,this.context=n,this.refs=UP,this.updater=e||PP}var RE=LE.prototype=new DP;RE.constructor=LE;FE(RE,yy.prototype);RE.isPureReactComponent=!0;var zE={current:null},FP=Object.prototype.hasOwnProperty,LP={key:!0,ref:!0,__self:!0,__source:!0};function RP(t,n,e){var r,i={},o=null,s=null;if(n!=null)for(r in n.ref!==void 0&&(s=n.ref),n.key!==void 0&&(o=""+n.key),n)FP.call(n,r)&&!LP.hasOwnProperty(r)&&(i[r]=n[r]);var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){for(var f=Array(a),g=0;g<a;g++)f[g]=arguments[g+2];i.children=f}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:l_,type:t,key:o,ref:s,props:i,_owner:zE.current}}function x$(t,n){return{$$typeof:l_,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function jE(t){return typeof t=="object"&&t!==null&&t.$$typeof===l_}function w$(t){var n={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(e){return n[e]})}var zP=/\/+/g,e2=[];function jP(t,n,e,r){if(e2.length){var i=e2.pop();return i.result=t,i.keyPrefix=n,i.func=e,i.context=r,i.count=0,i}return{result:t,keyPrefix:n,func:e,context:r,count:0}}function WP(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>e2.length&&e2.push(t)}function NM(t,n,e,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case l_:case h$:o=!0}}if(o)return e(r,t,n===""?"."+J5(t,0):n),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){i=t[s];var a=n+J5(i,s);o+=NM(i,a,e,r)}else if(t===null||typeof t!="object"?a=null:(a=z8&&t[z8]||t["@@iterator"],a=typeof a=="function"?a:null),typeof a=="function")for(t=a.call(t),s=0;!(i=t.next()).done;)i=i.value,a=n+J5(i,s++),o+=NM(i,a,e,r);else if(i==="object")throw e=""+t,Error(u_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e,""));return o}function GM(t,n,e){return t==null?0:NM(t,"",n,e)}function J5(t,n){return typeof t=="object"&&t!==null&&t.key!=null?w$(t.key):n.toString(36)}function M$(t,n){t.func.call(t.context,n,t.count++)}function S$(t,n,e){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,n,t.count++),Array.isArray(t)?QM(t,r,e,function(o){return o}):t!=null&&(jE(t)&&(t=x$(t,i+(!t.key||n&&n.key===t.key?"":(""+t.key).replace(zP,"$&/")+"/")+e)),r.push(t))}function QM(t,n,e,r,i){var o="";e!=null&&(o=(""+e).replace(zP,"$&/")+"/"),n=jP(n,o,r,i),GM(t,S$,n),WP(n)}var NP={current:null};function hp(){var t=NP.current;if(t===null)throw Error(u_(321));return t}var E$={ReactCurrentDispatcher:NP,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:zE,IsSomeRendererActing:{current:!1},assign:FE};ca.Children={map:function(t,n,e){if(t==null)return t;var r=[];return QM(t,r,null,n,e),r},forEach:function(t,n,e){if(t==null)return t;n=jP(null,null,n,e),GM(t,M$,n),WP(n)},count:function(t){return GM(t,function(){return null},null)},toArray:function(t){var n=[];return QM(t,n,null,function(e){return e}),n},only:function(t){if(!jE(t))throw Error(u_(143));return t}};ca.Component=yy;ca.Fragment=f$;ca.Profiler=m$;ca.PureComponent=LE;ca.StrictMode=p$;ca.Suspense=C$;ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E$;ca.cloneElement=function(t,n,e){if(t==null)throw Error(u_(267,t));var r=FE({},t.props),i=t.key,o=t.ref,s=t._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,s=zE.current),n.key!==void 0&&(i=""+n.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(f in n)FP.call(n,f)&&!LP.hasOwnProperty(f)&&(r[f]=n[f]===void 0&&a!==void 0?a[f]:n[f])}var f=arguments.length-2;if(f===1)r.children=e;else if(1<f){a=Array(f);for(var g=0;g<f;g++)a[g]=arguments[g+2];r.children=a}return{$$typeof:l_,type:t.type,key:i,ref:o,props:r,_owner:s}};ca.createContext=function(t,n){return n===void 0&&(n=null),t={$$typeof:y$,_calculateChangedBits:n,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:g$,_context:t},t.Consumer=t};ca.createElement=RP;ca.createFactory=function(t){var n=RP.bind(null,t);return n.type=t,n};ca.createRef=function(){return{current:null}};ca.forwardRef=function(t){return{$$typeof:v$,render:t}};ca.isValidElement=jE;ca.lazy=function(t){return{$$typeof:b$,_ctor:t,_status:-1,_result:null}};ca.memo=function(t,n){return{$$typeof:_$,type:t,compare:n===void 0?null:n}};ca.useCallback=function(t,n){return hp().useCallback(t,n)};ca.useContext=function(t,n){return hp().useContext(t,n)};ca.useDebugValue=function(){};ca.useEffect=function(t,n){return hp().useEffect(t,n)};ca.useImperativeHandle=function(t,n,e){return hp().useImperativeHandle(t,n,e)};ca.useLayoutEffect=function(t,n){return hp().useLayoutEffect(t,n)};ca.useMemo=function(t,n){return hp().useMemo(t,n)};ca.useReducer=function(t,n,e){return hp().useReducer(t,n,e)};ca.useRef=function(t){return hp().useRef(t)};ca.useState=function(t){return hp().useState(t)};ca.version="16.14.0";TP.exports=ca;var Or=TP.exports;const gn=Qo(Or);/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O$=Or,GP=60103;s_.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var j8=Symbol.for;GP=j8("react.element"),s_.Fragment=j8("react.fragment")}var B$=O$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I$=Object.prototype.hasOwnProperty,k$={key:!0,ref:!0,__self:!0,__source:!0};function QP(t,n,e){var r,i={},o=null,s=null;e!==void 0&&(o=""+e),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(s=n.ref);for(r in n)I$.call(n,r)&&!k$.hasOwnProperty(r)&&(i[r]=n[r]);if(t&&t.defaultProps)for(r in n=t.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:GP,type:t,key:o,ref:s,props:i,_owner:B$.current}}s_.jsx=QP;s_.jsxs=QP;kP.exports=s_;var N=kP.exports,$P={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$M=gn.createContext&&gn.createContext($P),gm=function(){return gm=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gm.apply(this,arguments)},T$=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function YP(t){return t&&t.map(function(n,e){return gn.createElement(n.tag,gm({key:e},n.attr),YP(n.child))})}function Bs(t){return function(n){return gn.createElement(K$,gm({attr:gm({},t.attr)},n),YP(t.child))}}function K$(t){var n=function(e){var r=t.attr,i=t.size,o=t.title,s=T$(t,["attr","size","title"]),a=i||e.size||"1em",f;return e.className&&(f=e.className),t.className&&(f=(f?f+" ":"")+t.className),gn.createElement("svg",gm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,s,{className:f,style:gm(gm({color:t.color||e.color},e.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&gn.createElement("title",null,o),t.children)};return $M!==void 0?gn.createElement($M.Consumer,null,function(e){return n(e)}):n($P)}var qP={exports:{}},Od={},VP={exports:{}},HP={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var n,e,r,i,o;if(typeof window>"u"||typeof MessageChannel!="function"){var s=null,a=null,f=function(){if(s!==null)try{var dt=t.unstable_now();s(!0,dt),s=null}catch(ot){throw setTimeout(f,0),ot}},g=Date.now();t.unstable_now=function(){return Date.now()-g},n=function(dt){s!==null?setTimeout(n,0,dt):(s=dt,setTimeout(f,0))},e=function(dt,ot){a=setTimeout(dt,ot)},r=function(){clearTimeout(a)},i=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var x=window.performance,I=window.Date,B=window.setTimeout,D=window.clearTimeout;if(typeof console<"u"){var L=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof L!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof x=="object"&&typeof x.now=="function")t.unstable_now=function(){return x.now()};else{var V=I.now();t.unstable_now=function(){return I.now()-V}}var W=!1,j=null,G=-1,ee=5,re=0;i=function(){return t.unstable_now()>=re},o=function(){},t.unstable_forceFrameRate=function(dt){0>dt||125<dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ee=0<dt?Math.floor(1e3/dt):5};var se=new MessageChannel,oe=se.port2;se.port1.onmessage=function(){if(j!==null){var dt=t.unstable_now();re=dt+ee;try{j(!0,dt)?oe.postMessage(null):(W=!1,j=null)}catch(ot){throw oe.postMessage(null),ot}}else W=!1},n=function(dt){j=dt,W||(W=!0,oe.postMessage(null))},e=function(dt,ot){G=B(function(){dt(t.unstable_now())},ot)},r=function(){D(G),G=-1}}function ue(dt,ot){var Et=dt.length;dt.push(ot);e:for(;;){var Kt=Et-1>>>1,xe=dt[Kt];if(xe!==void 0&&0<Re(xe,ot))dt[Kt]=ot,dt[Et]=xe,Et=Kt;else break e}}function me(dt){return dt=dt[0],dt===void 0?null:dt}function De(dt){var ot=dt[0];if(ot!==void 0){var Et=dt.pop();if(Et!==ot){dt[0]=Et;e:for(var Kt=0,xe=dt.length;Kt<xe;){var ce=2*(Kt+1)-1,_e=dt[ce],Ke=ce+1,Ve=dt[Ke];if(_e!==void 0&&0>Re(_e,Et))Ve!==void 0&&0>Re(Ve,_e)?(dt[Kt]=Ve,dt[Ke]=Et,Kt=Ke):(dt[Kt]=_e,dt[ce]=Et,Kt=ce);else if(Ve!==void 0&&0>Re(Ve,Et))dt[Kt]=Ve,dt[Ke]=Et,Kt=Ke;else break e}}return ot}return null}function Re(dt,ot){var Et=dt.sortIndex-ot.sortIndex;return Et!==0?Et:dt.id-ot.id}var et=[],ht=[],ke=1,Je=null,ve=3,ft=!1,Ft=!1,tn=!1;function St(dt){for(var ot=me(ht);ot!==null;){if(ot.callback===null)De(ht);else if(ot.startTime<=dt)De(ht),ot.sortIndex=ot.expirationTime,ue(et,ot);else break;ot=me(ht)}}function Ne(dt){if(tn=!1,St(dt),!Ft)if(me(et)!==null)Ft=!0,n(qe);else{var ot=me(ht);ot!==null&&e(Ne,ot.startTime-dt)}}function qe(dt,ot){Ft=!1,tn&&(tn=!1,r()),ft=!0;var Et=ve;try{for(St(ot),Je=me(et);Je!==null&&(!(Je.expirationTime>ot)||dt&&!i());){var Kt=Je.callback;if(Kt!==null){Je.callback=null,ve=Je.priorityLevel;var xe=Kt(Je.expirationTime<=ot);ot=t.unstable_now(),typeof xe=="function"?Je.callback=xe:Je===me(et)&&De(et),St(ot)}else De(et);Je=me(et)}if(Je!==null)var ce=!0;else{var _e=me(ht);_e!==null&&e(Ne,_e.startTime-ot),ce=!1}return ce}finally{Je=null,ve=Et,ft=!1}}function tt(dt){switch(dt){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Jt=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(dt){dt.callback=null},t.unstable_continueExecution=function(){Ft||ft||(Ft=!0,n(qe))},t.unstable_getCurrentPriorityLevel=function(){return ve},t.unstable_getFirstCallbackNode=function(){return me(et)},t.unstable_next=function(dt){switch(ve){case 1:case 2:case 3:var ot=3;break;default:ot=ve}var Et=ve;ve=ot;try{return dt()}finally{ve=Et}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Jt,t.unstable_runWithPriority=function(dt,ot){switch(dt){case 1:case 2:case 3:case 4:case 5:break;default:dt=3}var Et=ve;ve=dt;try{return ot()}finally{ve=Et}},t.unstable_scheduleCallback=function(dt,ot,Et){var Kt=t.unstable_now();if(typeof Et=="object"&&Et!==null){var xe=Et.delay;xe=typeof xe=="number"&&0<xe?Kt+xe:Kt,Et=typeof Et.timeout=="number"?Et.timeout:tt(dt)}else Et=tt(dt),xe=Kt;return Et=xe+Et,dt={id:ke++,callback:ot,priorityLevel:dt,startTime:xe,expirationTime:Et,sortIndex:-1},xe>Kt?(dt.sortIndex=xe,ue(ht,dt),me(et)===null&&dt===me(ht)&&(tn?r():tn=!0,e(Ne,xe-Kt))):(dt.sortIndex=Et,ue(et,dt),Ft||ft||(Ft=!0,n(qe))),dt},t.unstable_shouldYield=function(){var dt=t.unstable_now();St(dt);var ot=me(et);return ot!==Je&&Je!==null&&ot!==null&&ot.callback!==null&&ot.startTime<=dt&&ot.expirationTime<Je.expirationTime||i()},t.unstable_wrapCallback=function(dt){var ot=ve;return function(){var Et=ve;ve=ot;try{return dt.apply(this,arguments)}finally{ve=Et}}}})(HP);VP.exports=HP;var P$=VP.exports;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e4=Or,xA=KP,xu=P$;function Tn(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,e=1;e<arguments.length;e++)n+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e4)throw Error(Tn(227));function U$(t,n,e,r,i,o,s,a,f){var g=Array.prototype.slice.call(arguments,3);try{n.apply(e,g)}catch(x){this.onError(x)}}var Yv=!1,t2=null,n2=!1,YM=null,D$={onError:function(t){Yv=!0,t2=t}};function F$(t,n,e,r,i,o,s,a,f){Yv=!1,t2=null,U$.apply(D$,arguments)}function L$(t,n,e,r,i,o,s,a,f){if(F$.apply(this,arguments),Yv){if(Yv){var g=t2;Yv=!1,t2=null}else throw Error(Tn(198));n2||(n2=!0,YM=g)}}var WE=null,ZP=null,XP=null;function W8(t,n,e){var r=t.type||"unknown-event";t.currentTarget=XP(e),L$(r,n,void 0,t),t.currentTarget=null}var r2=null,pg={};function JP(){if(r2)for(var t in pg){var n=pg[t],e=r2.indexOf(t);if(!(-1<e))throw Error(Tn(96,t));if(!i2[e]){if(!n.extractEvents)throw Error(Tn(97,t));i2[e]=n,e=n.eventTypes;for(var r in e){var i=void 0,o=e[r],s=n,a=r;if(qM.hasOwnProperty(a))throw Error(Tn(99,a));qM[a]=o;var f=o.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&N8(f[i],s,a);i=!0}else o.registrationName?(N8(o.registrationName,s,a),i=!0):i=!1;if(!i)throw Error(Tn(98,r,t))}}}}function N8(t,n,e){if(ty[t])throw Error(Tn(100,t));ty[t]=n,NE[t]=n.eventTypes[e].dependencies}var i2=[],qM={},ty={},NE={};function eU(t){var n=!1,e;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!pg.hasOwnProperty(e)||pg[e]!==r){if(pg[e])throw Error(Tn(102,e));pg[e]=r,n=!0}}n&&JP()}var Lm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VM=null,Tg=null,Kg=null;function G8(t){if(t=ZP(t)){if(typeof VM!="function")throw Error(Tn(280));var n=t.stateNode;n&&(n=WE(n),VM(t.stateNode,t.type,n))}}function tU(t){Tg?Kg?Kg.push(t):Kg=[t]:Tg=t}function nU(){if(Tg){var t=Tg,n=Kg;if(Kg=Tg=null,G8(t),n)for(t=0;t<n.length;t++)G8(n[t])}}function GE(t,n){return t(n)}function rU(t,n,e,r,i){return t(n,e,r,i)}function QE(){}var iU=GE,E0=!1,ew=!1;function $E(){(Tg!==null||Kg!==null)&&(QE(),nU())}function oU(t,n,e){if(ew)return t(n,e);ew=!0;try{return iU(t,n,e)}finally{ew=!1,$E()}}var R$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q8=Object.prototype.hasOwnProperty,$8={},Y8={};function z$(t){return Q8.call(Y8,t)?!0:Q8.call($8,t)?!1:R$.test(t)?Y8[t]=!0:($8[t]=!0,!1)}function j$(t,n,e,r){if(e!==null&&e.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W$(t,n,e,r){if(n===null||typeof n>"u"||j$(t,n,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function wA(t,n,e,r,i,o){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=t,this.type=n,this.sanitizeURL=o}var wu={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wu[t]=new wA(t,0,!1,t,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];wu[n]=new wA(n,1,!1,t[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wu[t]=new wA(t,2,!1,t.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wu[t]=new wA(t,2,!1,t,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wu[t]=new wA(t,3,!1,t.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(t){wu[t]=new wA(t,3,!0,t,null,!1)});["capture","download"].forEach(function(t){wu[t]=new wA(t,4,!1,t,null,!1)});["cols","rows","size","span"].forEach(function(t){wu[t]=new wA(t,6,!1,t,null,!1)});["rowSpan","start"].forEach(function(t){wu[t]=new wA(t,5,!1,t.toLowerCase(),null,!1)});var YE=/[\-:]([a-z])/g;function qE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(YE,qE);wu[n]=new wA(n,1,!1,t,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(YE,qE);wu[n]=new wA(n,1,!1,t,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(YE,qE);wu[n]=new wA(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(t){wu[t]=new wA(t,1,!1,t.toLowerCase(),null,!1)});wu.xlinkHref=new wA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(t){wu[t]=new wA(t,1,!1,t.toLowerCase(),null,!0)});var th=e4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;th.hasOwnProperty("ReactCurrentDispatcher")||(th.ReactCurrentDispatcher={current:null});th.hasOwnProperty("ReactCurrentBatchConfig")||(th.ReactCurrentBatchConfig={suspense:null});function VE(t,n,e,r){var i=wu.hasOwnProperty(n)?wu[n]:null,o=i!==null?i.type===0:r?!1:!(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N");o||(W$(n,e,i,r)&&(e=null),r||i===null?z$(n)&&(e===null?t.removeAttribute(n):t.setAttribute(n,""+e)):i.mustUseProperty?t[i.propertyName]=e===null?i.type===3?!1:"":e:(n=i.attributeName,r=i.attributeNamespace,e===null?t.removeAttribute(n):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?t.setAttributeNS(r,n,e):t.setAttribute(n,e))))}var N$=/^(.*)[\\\/]/,ec=typeof Symbol=="function"&&Symbol.for,Ib=ec?Symbol.for("react.element"):60103,mg=ec?Symbol.for("react.portal"):60106,_0=ec?Symbol.for("react.fragment"):60107,aU=ec?Symbol.for("react.strict_mode"):60108,Ex=ec?Symbol.for("react.profiler"):60114,sU=ec?Symbol.for("react.provider"):60109,lU=ec?Symbol.for("react.context"):60110,G$=ec?Symbol.for("react.concurrent_mode"):60111,HE=ec?Symbol.for("react.forward_ref"):60112,Ox=ec?Symbol.for("react.suspense"):60113,HM=ec?Symbol.for("react.suspense_list"):60120,ZE=ec?Symbol.for("react.memo"):60115,uU=ec?Symbol.for("react.lazy"):60116,AU=ec?Symbol.for("react.block"):60121,q8=typeof Symbol=="function"&&Symbol.iterator;function lv(t){return t===null||typeof t!="object"?null:(t=q8&&t[q8]||t["@@iterator"],typeof t=="function"?t:null)}function Q$(t){if(t._status===-1){t._status=0;var n=t._ctor;n=n(),t._result=n,n.then(function(e){t._status===0&&(e=e.default,t._status=1,t._result=e)},function(e){t._status===0&&(t._status=2,t._result=e)})}}function op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _0:return"Fragment";case mg:return"Portal";case Ex:return"Profiler";case aU:return"StrictMode";case Ox:return"Suspense";case HM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lU:return"Context.Consumer";case sU:return"Context.Provider";case HE:var n=t.render;return n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case ZE:return op(t.type);case AU:return op(t.render);case uU:if(t=t._status===1?t._result:null)return op(t)}return null}function XE(t){var n="";do{e:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var e="";break e;default:var r=t._debugOwner,i=t._debugSource,o=op(t.type);e=null,r&&(e=op(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(N$,"")+":"+i.lineNumber+")":e&&(o=" (created by "+e+")"),e=`
    in `+(r||"Unknown")+o}n+=e,t=t.return}while(t);return n}function km(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function cU(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $$(t){var n=cU(t)?"checked":"value",e=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,o=e.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,n,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function kb(t){t._valueTracker||(t._valueTracker=$$(t))}function dU(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var e=n.getValue(),r="";return t&&(r=cU(t)?t.checked?"true":"false":t.value),t=r,t!==e?(n.setValue(t),!0):!1}function ZM(t,n){var e=n.checked;return xA({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??t._wrapperState.initialChecked})}function V8(t,n){var e=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;e=km(n.value!=null?n.value:e),t._wrapperState={initialChecked:r,initialValue:e,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function hU(t,n){n=n.checked,n!=null&&VE(t,"checked",n,!1)}function XM(t,n){hU(t,n);var e=km(n.value),r=n.type;if(e!=null)r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+e):t.value!==""+e&&(t.value=""+e);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?JM(t,n.type,e):n.hasOwnProperty("defaultValue")&&JM(t,n.type,km(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function H8(t,n,e){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,e||n===t.value||(t.value=n),t.defaultValue=n}e=t.name,e!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,e!==""&&(t.name=e)}function JM(t,n,e){(n!=="number"||t.ownerDocument.activeElement!==t)&&(e==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+e&&(t.defaultValue=""+e))}function Y$(t){var n="";return e4.Children.forEach(t,function(e){e!=null&&(n+=e)}),n}function eS(t,n){return t=xA({children:void 0},n),(n=Y$(n.children))&&(t.children=n),t}function Pg(t,n,e,r){if(t=t.options,n){n={};for(var i=0;i<e.length;i++)n["$"+e[i]]=!0;for(e=0;e<t.length;e++)i=n.hasOwnProperty("$"+t[e].value),t[e].selected!==i&&(t[e].selected=i),i&&r&&(t[e].defaultSelected=!0)}else{for(e=""+km(e),n=null,i=0;i<t.length;i++){if(t[i].value===e){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}n!==null||t[i].disabled||(n=t[i])}n!==null&&(n.selected=!0)}}function tS(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Tn(91));return xA({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Z8(t,n){var e=n.value;if(e==null){if(e=n.children,n=n.defaultValue,e!=null){if(n!=null)throw Error(Tn(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(Tn(93));e=e[0]}n=e}n==null&&(n=""),e=n}t._wrapperState={initialValue:km(e)}}function fU(t,n){var e=km(n.value),r=km(n.defaultValue);e!=null&&(e=""+e,e!==t.value&&(t.value=e),n.defaultValue==null&&t.defaultValue!==e&&(t.defaultValue=e)),r!=null&&(t.defaultValue=""+r)}function X8(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}var pU={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function mU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nS(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?mU(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tb,gU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,e,r,i){MSApp.execUnsafeLocalFunction(function(){return t(n,e,r,i)})}:t}(function(t,n){if(t.namespaceURI!==pU.svg||"innerHTML"in t)t.innerHTML=n;else{for(Tb=Tb||document.createElement("div"),Tb.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Tb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function xC(t,n){if(n){var e=t.firstChild;if(e&&e===t.lastChild&&e.nodeType===3){e.nodeValue=n;return}}t.textContent=n}function Kb(t,n){var e={};return e[t.toLowerCase()]=n.toLowerCase(),e["Webkit"+t]="webkit"+n,e["Moz"+t]="moz"+n,e}var gg={animationend:Kb("Animation","AnimationEnd"),animationiteration:Kb("Animation","AnimationIteration"),animationstart:Kb("Animation","AnimationStart"),transitionend:Kb("Transition","TransitionEnd")},tw={},yU={};Lm&&(yU=document.createElement("div").style,"AnimationEvent"in window||(delete gg.animationend.animation,delete gg.animationiteration.animation,delete gg.animationstart.animation),"TransitionEvent"in window||delete gg.transitionend.transition);function t4(t){if(tw[t])return tw[t];if(!gg[t])return t;var n=gg[t],e;for(e in n)if(n.hasOwnProperty(e)&&e in yU)return tw[t]=n[e];return t}var vU=t4("animationend"),CU=t4("animationiteration"),_U=t4("animationstart"),bU=t4("transitionend"),Bv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J8=new(typeof WeakMap=="function"?WeakMap:Map);function JE(t){var n=J8.get(t);return n===void 0&&(n=new Map,J8.set(t,n)),n}function s1(t){var n=t,e=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.effectTag&1026&&(e=n.return),t=n.return;while(t)}return n.tag===3?e:null}function xU(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function eI(t){if(s1(t)!==t)throw Error(Tn(188))}function q$(t){var n=t.alternate;if(!n){if(n=s1(t),n===null)throw Error(Tn(188));return n!==t?null:t}for(var e=t,r=n;;){var i=e.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===e)return eI(i),t;if(o===r)return eI(i),n;o=o.sibling}throw Error(Tn(188))}if(e.return!==r.return)e=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===e){s=!0,e=i,r=o;break}if(a===r){s=!0,r=i,e=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===e){s=!0,e=o,r=i;break}if(a===r){s=!0,r=o,e=i;break}a=a.sibling}if(!s)throw Error(Tn(189))}}if(e.alternate!==r)throw Error(Tn(190))}if(e.tag!==3)throw Error(Tn(188));return e.stateNode.current===e?t:n}function wU(t){if(t=q$(t),!t)return null;for(var n=t;;){if(n.tag===5||n.tag===6)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)break;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function ny(t,n){if(n==null)throw Error(Tn(30));return t==null?n:Array.isArray(t)?Array.isArray(n)?(t.push.apply(t,n),t):(t.push(n),t):Array.isArray(n)?[t].concat(n):[t,n]}function eO(t,n,e){Array.isArray(t)?t.forEach(n,e):t&&n.call(e,t)}var uv=null;function V$(t){if(t){var n=t._dispatchListeners,e=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)W8(t,n[r],e[r]);else n&&W8(t,n,e);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function n4(t){if(t!==null&&(uv=ny(uv,t)),t=uv,uv=null,t){if(eO(t,V$),uv)throw Error(Tn(95));if(n2)throw t=YM,n2=!1,YM=null,t}}function tO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}function MU(t){if(!Lm)return!1;t="on"+t;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n=typeof n[t]=="function"),n}var o2=[];function SU(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>o2.length&&o2.push(t)}function EU(t,n,e,r){if(o2.length){var i=o2.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=n,i.targetInst=e,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:n,targetInst:e,ancestors:[]}}function OU(t){var n=t.targetInst,e=n;do{if(!e){t.ancestors.push(e);break}var r=e;if(r.tag===3)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=r.tag!==3?null:r.stateNode.containerInfo}if(!r)break;n=e.tag,n!==5&&n!==6||t.ancestors.push(e),e=c_(r)}while(e);for(e=0;e<t.ancestors.length;e++){n=t.ancestors[e];var i=tO(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,s=t.eventSystemFlags;e===0&&(s|=64);for(var a=null,f=0;f<i2.length;f++){var g=i2[f];g&&(g=g.extractEvents(r,n,o,i,s))&&(a=ny(a,g))}n4(a)}}function rS(t,n,e){if(!e.has(t)){switch(t){case"scroll":Iv(n,"scroll",!0);break;case"focus":case"blur":Iv(n,"focus",!0),Iv(n,"blur",!0),e.set("blur",null),e.set("focus",null);break;case"cancel":case"close":MU(t)&&Iv(n,t,!0);break;case"invalid":case"submit":case"reset":break;default:Bv.indexOf(t)===-1&&Ss(t,n)}e.set(t,null)}}var BU,nO,IU,iS=!1,zh=[],ym=null,vm=null,Cm=null,wC=new Map,MC=new Map,Av=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),H$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Z$(t,n){var e=JE(n);oS.forEach(function(r){rS(r,n,e)}),H$.forEach(function(r){rS(r,n,e)})}function aS(t,n,e,r,i){return{blockedOn:t,topLevelType:n,eventSystemFlags:e|32,nativeEvent:i,container:r}}function tI(t,n){switch(t){case"focus":case"blur":ym=null;break;case"dragenter":case"dragleave":vm=null;break;case"mouseover":case"mouseout":Cm=null;break;case"pointerover":case"pointerout":wC.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":MC.delete(n.pointerId)}}function cv(t,n,e,r,i,o){return t===null||t.nativeEvent!==o?(t=aS(n,e,r,i,o),n!==null&&(n=d_(n),n!==null&&nO(n)),t):(t.eventSystemFlags|=r,t)}function X$(t,n,e,r,i){switch(n){case"focus":return ym=cv(ym,t,n,e,r,i),!0;case"dragenter":return vm=cv(vm,t,n,e,r,i),!0;case"mouseover":return Cm=cv(Cm,t,n,e,r,i),!0;case"pointerover":var o=i.pointerId;return wC.set(o,cv(wC.get(o)||null,t,n,e,r,i)),!0;case"gotpointercapture":return o=i.pointerId,MC.set(o,cv(MC.get(o)||null,t,n,e,r,i)),!0}return!1}function J$(t){var n=c_(t.target);if(n!==null){var e=s1(n);if(e!==null){if(n=e.tag,n===13){if(n=xU(e),n!==null){t.blockedOn=n,xu.unstable_runWithPriority(t.priority,function(){IU(e)});return}}else if(n===3&&e.stateNode.hydrate){t.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bx(t){if(t.blockedOn!==null)return!1;var n=oO(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(n!==null){var e=d_(n);return e!==null&&nO(e),t.blockedOn=n,!1}return!0}function nI(t,n,e){Bx(t)&&e.delete(n)}function eY(){for(iS=!1;0<zh.length;){var t=zh[0];if(t.blockedOn!==null){t=d_(t.blockedOn),t!==null&&BU(t);break}var n=oO(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);n!==null?t.blockedOn=n:zh.shift()}ym!==null&&Bx(ym)&&(ym=null),vm!==null&&Bx(vm)&&(vm=null),Cm!==null&&Bx(Cm)&&(Cm=null),wC.forEach(nI),MC.forEach(nI)}function dv(t,n){t.blockedOn===n&&(t.blockedOn=null,iS||(iS=!0,xu.unstable_scheduleCallback(xu.unstable_NormalPriority,eY)))}function kU(t){function n(i){return dv(i,t)}if(0<zh.length){dv(zh[0],t);for(var e=1;e<zh.length;e++){var r=zh[e];r.blockedOn===t&&(r.blockedOn=null)}}for(ym!==null&&dv(ym,t),vm!==null&&dv(vm,t),Cm!==null&&dv(Cm,t),wC.forEach(n),MC.forEach(n),e=0;e<Av.length;e++)r=Av[e],r.blockedOn===t&&(r.blockedOn=null);for(;0<Av.length&&(e=Av[0],e.blockedOn===null);)J$(e),e.blockedOn===null&&Av.shift()}var TU={},KU=new Map,rO=new Map,tY=["abort","abort",vU,"animationEnd",CU,"animationIteration",_U,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",bU,"transitionEnd","waiting","waiting"];function iO(t,n){for(var e=0;e<t.length;e+=2){var r=t[e],i=t[e+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:n},rO.set(r,n),KU.set(r,o),TU[i]=o}}iO("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);iO("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);iO(tY,2);for(var rI="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nw=0;nw<rI.length;nw++)rO.set(rI[nw],0);var nY=xu.unstable_UserBlockingPriority,rY=xu.unstable_runWithPriority,Ix=!0;function Ss(t,n){Iv(n,t,!1)}function Iv(t,n,e){var r=rO.get(n);switch(r===void 0?2:r){case 0:r=iY.bind(null,n,1,t);break;case 1:r=oY.bind(null,n,1,t);break;default:r=r4.bind(null,n,1,t)}e?t.addEventListener(n,r,!0):t.addEventListener(n,r,!1)}function iY(t,n,e,r){E0||QE();var i=r4,o=E0;E0=!0;try{rU(i,t,n,e,r)}finally{(E0=o)||$E()}}function oY(t,n,e,r){rY(nY,r4.bind(null,t,n,e,r))}function r4(t,n,e,r){if(Ix)if(0<zh.length&&-1<oS.indexOf(t))t=aS(null,t,n,e,r),zh.push(t);else{var i=oO(t,n,e,r);if(i===null)tI(t,r);else if(-1<oS.indexOf(t))t=aS(i,t,n,e,r),zh.push(t);else if(!X$(i,t,n,e,r)){tI(t,r),t=EU(t,r,null,n);try{oU(OU,t)}finally{SU(t)}}}}function oO(t,n,e,r){if(e=tO(r),e=c_(e),e!==null){var i=s1(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=xU(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}t=EU(t,r,e,n);try{oU(OU,t)}finally{SU(t)}return null}var qv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aY=["Webkit","ms","Moz","O"];Object.keys(qv).forEach(function(t){aY.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),qv[n]=qv[t]})});function PU(t,n,e){return n==null||typeof n=="boolean"||n===""?"":e||typeof n!="number"||n===0||qv.hasOwnProperty(t)&&qv[t]?(""+n).trim():n+"px"}function UU(t,n){t=t.style;for(var e in n)if(n.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=PU(e,n[e],r);e==="float"&&(e="cssFloat"),r?t.setProperty(e,i):t[e]=i}}var sY=xA({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sS(t,n){if(n){if(sY[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Tn(137,t,""));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Tn(60));if(!(typeof n.dangerouslySetInnerHTML=="object"&&"__html"in n.dangerouslySetInnerHTML))throw Error(Tn(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Tn(62,""))}}function lS(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iI=pU.html;function Wf(t,n){t=t.nodeType===9||t.nodeType===11?t:t.ownerDocument;var e=JE(t);n=NE[n];for(var r=0;r<n.length;r++)rS(n[r],t,e)}function a2(){}function uS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aI(t,n){var e=oI(t);t=0;for(var r;e;){if(e.nodeType===3){if(r=t+e.textContent.length,t<=n&&r>=n)return{node:e,offset:n-t};t=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=oI(e)}}function DU(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?DU(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sI(){for(var t=window,n=uS();n instanceof t.HTMLIFrameElement;){try{var e=typeof n.contentWindow.location.href=="string"}catch{e=!1}if(e)t=n.contentWindow;else break;n=uS(t.document)}return n}function AS(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var FU="$",LU="/$",aO="$?",sO="$!",rw=null,iw=null;function RU(t,n){switch(t){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function cS(t,n){return t==="textarea"||t==="option"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ow=typeof setTimeout=="function"?setTimeout:void 0,lY=typeof clearTimeout=="function"?clearTimeout:void 0;function Ug(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break}return t}function lI(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var e=t.data;if(e===FU||e===sO||e===aO){if(n===0)return t;n--}else e===LU&&n++}t=t.previousSibling}return null}var lO=Math.random().toString(36).slice(2),am="__reactInternalInstance$"+lO,s2="__reactEventHandlers$"+lO,A_="__reactContainere$"+lO;function c_(t){var n=t[am];if(n)return n;for(var e=t.parentNode;e;){if(n=e[A_]||e[am]){if(e=n.alternate,n.child!==null||e!==null&&e.child!==null)for(t=lI(t);t!==null;){if(e=t[am])return e;t=lI(t)}return n}t=e,e=t.parentNode}return null}function d_(t){return t=t[am]||t[A_],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function q0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Tn(33))}function uO(t){return t[s2]||null}function Nf(t){do t=t.return;while(t&&t.tag!==5);return t||null}function zU(t,n){var e=t.stateNode;if(!e)return null;var r=WE(e);if(!r)return null;e=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(e&&typeof e!="function")throw Error(Tn(231,n,typeof e));return e}function uI(t,n,e){(n=zU(t,e.dispatchConfig.phasedRegistrationNames[n]))&&(e._dispatchListeners=ny(e._dispatchListeners,n),e._dispatchInstances=ny(e._dispatchInstances,t))}function uY(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var n=t._targetInst,e=[];n;)e.push(n),n=Nf(n);for(n=e.length;0<n--;)uI(e[n],"captured",t);for(n=0;n<e.length;n++)uI(e[n],"bubbled",t)}}function dS(t,n,e){t&&e&&e.dispatchConfig.registrationName&&(n=zU(t,e.dispatchConfig.registrationName))&&(e._dispatchListeners=ny(e._dispatchListeners,n),e._dispatchInstances=ny(e._dispatchInstances,t))}function AY(t){t&&t.dispatchConfig.registrationName&&dS(t._targetInst,null,t)}function ry(t){eO(t,uY)}var sm=null,AO=null,kx=null;function jU(){if(kx)return kx;var t,n=AO,e=n.length,r,i="value"in sm?sm.value:sm.textContent,o=i.length;for(t=0;t<e&&n[t]===i[t];t++);var s=e-t;for(r=1;r<=s&&n[e-r]===i[o-r];r++);return kx=i.slice(t,1<r?1-r:void 0)}function Tx(){return!0}function l2(){return!1}function Lc(t,n,e,r){this.dispatchConfig=t,this._targetInst=n,this.nativeEvent=e,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((n=t[i])?this[i]=n(e):i==="target"?this.target=r:this[i]=e[i]);return this.isDefaultPrevented=(e.defaultPrevented!=null?e.defaultPrevented:e.returnValue===!1)?Tx:l2,this.isPropagationStopped=l2,this}xA(Lc.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Tx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Tx)},persist:function(){this.isPersistent=Tx},isPersistent:l2,destructor:function(){var t=this.constructor.Interface,n;for(n in t)this[n]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=l2,this._dispatchInstances=this._dispatchListeners=null}});Lc.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Lc.extend=function(t){function n(){}function e(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var i=new n;return xA(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=xA({},r.Interface,t),e.extend=r.extend,WU(e),e};WU(Lc);function cY(t,n,e,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,n,e,r),i}return new this(t,n,e,r)}function dY(t){if(!(t instanceof this))throw Error(Tn(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function WU(t){t.eventPool=[],t.getPooled=cY,t.release=dY}var hY=Lc.extend({data:null}),fY=Lc.extend({data:null}),pY=[9,13,27,32],cO=Lm&&"CompositionEvent"in window,Vv=null;Lm&&"documentMode"in document&&(Vv=document.documentMode);var mY=Lm&&"TextEvent"in window&&!Vv,NU=Lm&&(!cO||Vv&&8<Vv&&11>=Vv),AI=" ",Df={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cI=!1;function GU(t,n){switch(t){case"keyup":return pY.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function QU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yg=!1;function gY(t,n){switch(t){case"compositionend":return QU(n);case"keypress":return n.which!==32?null:(cI=!0,AI);case"textInput":return t=n.data,t===AI&&cI?null:t;default:return null}}function yY(t,n){if(yg)return t==="compositionend"||!cO&&GU(t,n)?(t=jU(),kx=AO=sm=null,yg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return NU&&n.locale!=="ko"?null:n.data;default:return null}}var vY={eventTypes:Df,extractEvents:function(t,n,e,r){var i;if(cO)e:{switch(t){case"compositionstart":var o=Df.compositionStart;break e;case"compositionend":o=Df.compositionEnd;break e;case"compositionupdate":o=Df.compositionUpdate;break e}o=void 0}else yg?GU(t,e)&&(o=Df.compositionEnd):t==="keydown"&&e.keyCode===229&&(o=Df.compositionStart);return o?(NU&&e.locale!=="ko"&&(yg||o!==Df.compositionStart?o===Df.compositionEnd&&yg&&(i=jU()):(sm=r,AO="value"in sm?sm.value:sm.textContent,yg=!0)),o=hY.getPooled(o,n,e,r),i?o.data=i:(i=QU(e),i!==null&&(o.data=i)),ry(o),i=o):i=null,(t=mY?gY(t,e):yY(t,e))?(n=fY.getPooled(Df.beforeInput,n,e,r),n.data=t,ry(n)):n=null,i===null?n:n===null?i:[i,n]}},CY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $U(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!CY[t.type]:n==="textarea"}var YU={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function qU(t,n,e){return t=Lc.getPooled(YU.change,t,n,e),t.type="change",tU(e),ry(t),t}var Hv=null,SC=null;function _Y(t){n4(t)}function i4(t){var n=q0(t);if(dU(n))return t}function bY(t,n){if(t==="change")return n}var hS=!1;Lm&&(hS=MU("input")&&(!document.documentMode||9<document.documentMode));function dI(){Hv&&(Hv.detachEvent("onpropertychange",VU),SC=Hv=null)}function VU(t){if(t.propertyName==="value"&&i4(SC))if(t=qU(SC,t,tO(t)),E0)n4(t);else{E0=!0;try{GE(_Y,t)}finally{E0=!1,$E()}}}function xY(t,n,e){t==="focus"?(dI(),Hv=n,SC=e,Hv.attachEvent("onpropertychange",VU)):t==="blur"&&dI()}function wY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return i4(SC)}function MY(t,n){if(t==="click")return i4(n)}function SY(t,n){if(t==="input"||t==="change")return i4(n)}var EY={eventTypes:YU,_isInputEventSupported:hS,extractEvents:function(t,n,e,r){var i=n?q0(n):window,o=i.nodeName&&i.nodeName.toLowerCase();if(o==="select"||o==="input"&&i.type==="file")var s=bY;else if($U(i))if(hS)s=SY;else{s=wY;var a=xY}else(o=i.nodeName)&&o.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(s=MY);if(s&&(s=s(t,n)))return qU(s,e,r);a&&a(t,i,n),t==="blur"&&(t=i._wrapperState)&&t.controlled&&i.type==="number"&&JM(i,"number",i.value)}},h_=Lc.extend({view:null,detail:null}),OY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BY(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=OY[t])?!!n[t]:!1}function dO(){return BY}var hI=0,fI=0,pI=!1,mI=!1,f_=h_.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:dO,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var n=hI;return hI=t.screenX,pI?t.type==="mousemove"?t.screenX-n:0:(pI=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var n=fI;return fI=t.screenY,mI?t.type==="mousemove"?t.screenY-n:0:(mI=!0,0)}}),HU=f_.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),hv={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},IY={eventTypes:hv,extractEvents:function(t,n,e,r,i){var o=t==="mouseover"||t==="pointerover",s=t==="mouseout"||t==="pointerout";if(o&&!(i&32)&&(e.relatedTarget||e.fromElement)||!s&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s){if(s=n,n=(n=e.relatedTarget||e.toElement)?c_(n):null,n!==null){var a=s1(n);(n!==a||n.tag!==5&&n.tag!==6)&&(n=null)}}else s=null;if(s===n)return null;if(t==="mouseout"||t==="mouseover")var f=f_,g=hv.mouseLeave,x=hv.mouseEnter,I="mouse";else(t==="pointerout"||t==="pointerover")&&(f=HU,g=hv.pointerLeave,x=hv.pointerEnter,I="pointer");if(t=s==null?o:q0(s),o=n==null?o:q0(n),g=f.getPooled(g,s,e,r),g.type=I+"leave",g.target=t,g.relatedTarget=o,e=f.getPooled(x,n,e,r),e.type=I+"enter",e.target=o,e.relatedTarget=t,r=s,I=n,r&&I)e:{for(f=r,x=I,s=0,t=f;t;t=Nf(t))s++;for(t=0,n=x;n;n=Nf(n))t++;for(;0<s-t;)f=Nf(f),s--;for(;0<t-s;)x=Nf(x),t--;for(;s--;){if(f===x||f===x.alternate)break e;f=Nf(f),x=Nf(x)}f=null}else f=null;for(x=f,f=[];r&&r!==x&&(s=r.alternate,!(s!==null&&s===x));)f.push(r),r=Nf(r);for(r=[];I&&I!==x&&(s=I.alternate,!(s!==null&&s===x));)r.push(I),I=Nf(I);for(I=0;I<f.length;I++)dS(f[I],"bubbled",g);for(I=r.length;0<I--;)dS(r[I],"captured",e);return i&64?[g,e]:[g]}};function kY(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var V0=typeof Object.is=="function"?Object.is:kY,TY=Object.prototype.hasOwnProperty;function EC(t,n){if(V0(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var e=Object.keys(t),r=Object.keys(n);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++)if(!TY.call(n,e[r])||!V0(t[e[r]],n[e[r]]))return!1;return!0}var KY=Lm&&"documentMode"in document&&11>=document.documentMode,ZU={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},vg=null,fS=null,Zv=null,pS=!1;function gI(t,n){var e=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;return pS||vg==null||vg!==uS(e)?null:(e=vg,"selectionStart"in e&&AS(e)?e={start:e.selectionStart,end:e.selectionEnd}:(e=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection(),e={anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}),Zv&&EC(Zv,e)?null:(Zv=e,t=Lc.getPooled(ZU.select,fS,t,n),t.type="select",t.target=vg,ry(t),t))}var PY={eventTypes:ZU,extractEvents:function(t,n,e,r,i,o){if(i=o||(r.window===r?r.document:r.nodeType===9?r:r.ownerDocument),!(o=!i)){e:{i=JE(i),o=NE.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=n?q0(n):window,t){case"focus":($U(i)||i.contentEditable==="true")&&(vg=i,fS=n,Zv=null);break;case"blur":Zv=fS=vg=null;break;case"mousedown":pS=!0;break;case"contextmenu":case"mouseup":case"dragend":return pS=!1,gI(e,r);case"selectionchange":if(KY)break;case"keydown":case"keyup":return gI(e,r)}return null}},UY=Lc.extend({animationName:null,elapsedTime:null,pseudoElement:null}),DY=Lc.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FY=h_.extend({relatedTarget:null});function Kx(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}var LY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zY=h_.extend({key:function(t){if(t.key){var n=LY[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RY[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:dO,charCode:function(t){return t.type==="keypress"?Kx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jY=f_.extend({dataTransfer:null}),WY=h_.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:dO}),NY=Lc.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),GY=f_.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),QY={eventTypes:TU,extractEvents:function(t,n,e,r){var i=KU.get(t);if(!i)return null;switch(t){case"keypress":if(Kx(e)===0)return null;case"keydown":case"keyup":t=zY;break;case"blur":case"focus":t=FY;break;case"click":if(e.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=f_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=jY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=WY;break;case vU:case CU:case _U:t=UY;break;case bU:t=NY;break;case"scroll":t=h_;break;case"wheel":t=GY;break;case"copy":case"cut":case"paste":t=DY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=HU;break;default:t=Lc}return n=t.getPooled(i,n,e,r),ry(n),n}};if(r2)throw Error(Tn(101));r2=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));JP();var $Y=d_;WE=uO;ZP=$Y;XP=q0;eU({SimpleEventPlugin:QY,EnterLeaveEventPlugin:IY,ChangeEventPlugin:EY,SelectEventPlugin:PY,BeforeInputEventPlugin:vY});var mS=[],Cg=-1;function cs(t){0>Cg||(t.current=mS[Cg],mS[Cg]=null,Cg--)}function ll(t,n){Cg++,mS[Cg]=t.current,t.current=n}var Tm={},Vu={current:Tm},qA={current:!1},H0=Tm;function iy(t,n){var e=t.type.contextTypes;if(!e)return Tm;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in e)i[o]=n[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=i),i}function VA(t){return t=t.childContextTypes,t!=null}function u2(){cs(qA),cs(Vu)}function yI(t,n,e){if(Vu.current!==Tm)throw Error(Tn(168));ll(Vu,n),ll(qA,e)}function XU(t,n,e){var r=t.stateNode;if(t=n.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Tn(108,op(n)||"Unknown",i));return xA({},e,{},r)}function Px(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tm,H0=Vu.current,ll(Vu,t),ll(qA,qA.current),!0}function vI(t,n,e){var r=t.stateNode;if(!r)throw Error(Tn(169));e?(t=XU(t,n,H0),r.__reactInternalMemoizedMergedChildContext=t,cs(qA),cs(Vu),ll(Vu,t)):cs(qA),ll(qA,e)}var YY=xu.unstable_runWithPriority,hO=xu.unstable_scheduleCallback,JU=xu.unstable_cancelCallback,CI=xu.unstable_requestPaint,gS=xu.unstable_now,qY=xu.unstable_getCurrentPriorityLevel,o4=xu.unstable_ImmediatePriority,eD=xu.unstable_UserBlockingPriority,tD=xu.unstable_NormalPriority,nD=xu.unstable_LowPriority,rD=xu.unstable_IdlePriority,iD={},VY=xu.unstable_shouldYield,HY=CI!==void 0?CI:function(){},Vf=null,Ux=null,aw=!1,_I=gS(),vd=1e4>_I?gS:function(){return gS()-_I};function a4(){switch(qY()){case o4:return 99;case eD:return 98;case tD:return 97;case nD:return 96;case rD:return 95;default:throw Error(Tn(332))}}function oD(t){switch(t){case 99:return o4;case 98:return eD;case 97:return tD;case 96:return nD;case 95:return rD;default:throw Error(Tn(332))}}function Km(t,n){return t=oD(t),YY(t,n)}function aD(t,n,e){return t=oD(t),hO(t,n,e)}function bI(t){return Vf===null?(Vf=[t],Ux=hO(o4,sD)):Vf.push(t),iD}function nf(){if(Ux!==null){var t=Ux;Ux=null,JU(t)}sD()}function sD(){if(!aw&&Vf!==null){aw=!0;var t=0;try{var n=Vf;Km(99,function(){for(;t<n.length;t++){var e=n[t];do e=e(!0);while(e!==null)}}),Vf=null}catch(e){throw Vf!==null&&(Vf=Vf.slice(t+1)),hO(o4,nf),e}finally{aw=!1}}}function Dx(t,n,e){return e/=10,1073741821-(((1073741821-t+n/10)/e|0)+1)*e}function Zd(t,n){if(t&&t.defaultProps){n=xA({},n),t=t.defaultProps;for(var e in t)n[e]===void 0&&(n[e]=t[e])}return n}var A2={current:null},c2=null,_g=null,d2=null;function fO(){d2=_g=c2=null}function pO(t){var n=A2.current;cs(A2),t.type._context._currentValue=n}function lD(t,n){for(;t!==null;){var e=t.alternate;if(t.childExpirationTime<n)t.childExpirationTime=n,e!==null&&e.childExpirationTime<n&&(e.childExpirationTime=n);else if(e!==null&&e.childExpirationTime<n)e.childExpirationTime=n;else break;t=t.return}}function Dg(t,n){c2=t,d2=_g=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.expirationTime>=n&&(jh=!0),t.firstContext=null)}function Md(t,n){if(d2!==t&&n!==!1&&n!==0)if((typeof n!="number"||n===1073741823)&&(d2=t,n=1073741823),n={context:t,observedBits:n,next:null},_g===null){if(c2===null)throw Error(Tn(308));_g=n,c2.dependencies={expirationTime:0,firstContext:n,responders:null}}else _g=_g.next=n;return t._currentValue}var Xp=!1;function mO(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function gO(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function _m(t,n){return t={expirationTime:t,suspenseConfig:n,tag:0,payload:null,callback:null,next:null},t.next=t}function bm(t,n){if(t=t.updateQueue,t!==null){t=t.shared;var e=t.pending;e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n}}function xI(t,n){var e=t.alternate;e!==null&&gO(e,t),t=t.updateQueue,e=t.baseQueue,e===null?(t.baseQueue=n.next=n,n.next=n):(n.next=e.next,e.next=n)}function OC(t,n,e,r){var i=t.updateQueue;Xp=!1;var o=i.baseQueue,s=i.shared.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}o=s,i.shared.pending=null,a=t.alternate,a!==null&&(a=a.updateQueue,a!==null&&(a.baseQueue=s))}if(o!==null){a=o.next;var f=i.baseState,g=0,x=null,I=null,B=null;if(a!==null){var D=a;do{if(s=D.expirationTime,s<r){var L={expirationTime:D.expirationTime,suspenseConfig:D.suspenseConfig,tag:D.tag,payload:D.payload,callback:D.callback,next:null};B===null?(I=B=L,x=f):B=B.next=L,s>g&&(g=s)}else{B!==null&&(B=B.next={expirationTime:1073741823,suspenseConfig:D.suspenseConfig,tag:D.tag,payload:D.payload,callback:D.callback,next:null}),LD(s,D.suspenseConfig);e:{var V=t,W=D;switch(s=n,L=e,W.tag){case 1:if(V=W.payload,typeof V=="function"){f=V.call(L,f,s);break e}f=V;break e;case 3:V.effectTag=V.effectTag&-4097|64;case 0:if(V=W.payload,s=typeof V=="function"?V.call(L,f,s):V,s==null)break e;f=xA({},f,s);break e;case 2:Xp=!0}}D.callback!==null&&(t.effectTag|=32,s=i.effects,s===null?i.effects=[D]:s.push(D))}if(D=D.next,D===null||D===a){if(s=i.shared.pending,s===null)break;D=o.next=s.next,s.next=a,i.baseQueue=o=s,i.shared.pending=null}}while(!0)}B===null?x=f:B.next=I,i.baseState=x,i.baseQueue=B,c4(g),t.expirationTime=g,t.memoizedState=f}}function wI(t,n,e){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var r=t[n],i=r.callback;if(i!==null){if(r.callback=null,r=i,i=e,typeof r!="function")throw Error(Tn(191,r));r.call(i)}}}var Xv=th.ReactCurrentBatchConfig,uD=new e4.Component().refs;function h2(t,n,e,r){n=t.memoizedState,e=e(r,n),e=e==null?n:xA({},n,e),t.memoizedState=e,t.expirationTime===0&&(t.updateQueue.baseState=e)}var s4={isMounted:function(t){return(t=t._reactInternalFiber)?s1(t)===t:!1},enqueueSetState:function(t,n,e){t=t._reactInternalFiber;var r=Yh(),i=Xv.suspense;r=z0(r,t,i),i=_m(r,i),i.payload=n,e!=null&&(i.callback=e),bm(t,i),wm(t,r)},enqueueReplaceState:function(t,n,e){t=t._reactInternalFiber;var r=Yh(),i=Xv.suspense;r=z0(r,t,i),i=_m(r,i),i.tag=1,i.payload=n,e!=null&&(i.callback=e),bm(t,i),wm(t,r)},enqueueForceUpdate:function(t,n){t=t._reactInternalFiber;var e=Yh(),r=Xv.suspense;e=z0(e,t,r),r=_m(e,r),r.tag=2,n!=null&&(r.callback=n),bm(t,r),wm(t,e)}};function MI(t,n,e,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):n.prototype&&n.prototype.isPureReactComponent?!EC(e,r)||!EC(i,o):!0}function AD(t,n,e){var r=!1,i=Tm,o=n.contextType;return typeof o=="object"&&o!==null?o=Md(o):(i=VA(n)?H0:Vu.current,r=n.contextTypes,o=(r=r!=null)?iy(t,i):Tm),n=new n(e,o),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=s4,t.stateNode=n,n._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),n}function SI(t,n,e,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(e,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(e,r),n.state!==t&&s4.enqueueReplaceState(n,n.state,null)}function yS(t,n,e,r){var i=t.stateNode;i.props=e,i.state=t.memoizedState,i.refs=uD,mO(t);var o=n.contextType;typeof o=="object"&&o!==null?i.context=Md(o):(o=VA(n)?H0:Vu.current,i.context=iy(t,o)),OC(t,e,i,r),i.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(h2(t,n,o,e),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&s4.enqueueReplaceState(i,i.state,null),OC(t,e,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.effectTag|=4)}var Pb=Array.isArray;function fv(t,n,e){if(t=e.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Tn(309));var r=e.stateNode}if(!r)throw Error(Tn(147,t));var i=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(o){var s=r.refs;s===uD&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},n._stringRef=i,n)}if(typeof t!="string")throw Error(Tn(284));if(!e._owner)throw Error(Tn(290,t))}return t}function Ub(t,n){if(t.type!=="textarea")throw Error(Tn(31,Object.prototype.toString.call(n)==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":n,""))}function cD(t){function n(W,j){if(t){var G=W.lastEffect;G!==null?(G.nextEffect=j,W.lastEffect=j):W.firstEffect=W.lastEffect=j,j.nextEffect=null,j.effectTag=8}}function e(W,j){if(!t)return null;for(;j!==null;)n(W,j),j=j.sibling;return null}function r(W,j){for(W=new Map;j!==null;)j.key!==null?W.set(j.key,j):W.set(j.index,j),j=j.sibling;return W}function i(W,j){return W=Z0(W,j),W.index=0,W.sibling=null,W}function o(W,j,G){return W.index=G,t?(G=W.alternate,G!==null?(G=G.index,G<j?(W.effectTag=2,j):G):(W.effectTag=2,j)):j}function s(W){return t&&W.alternate===null&&(W.effectTag=2),W}function a(W,j,G,ee){return j===null||j.tag!==6?(j=dw(G,W.mode,ee),j.return=W,j):(j=i(j,G),j.return=W,j)}function f(W,j,G,ee){return j!==null&&j.elementType===G.type?(ee=i(j,G.props),ee.ref=fv(W,j,G),ee.return=W,ee):(ee=zx(G.type,G.key,G.props,null,W.mode,ee),ee.ref=fv(W,j,G),ee.return=W,ee)}function g(W,j,G,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=hw(G,W.mode,ee),j.return=W,j):(j=i(j,G.children||[]),j.return=W,j)}function x(W,j,G,ee,re){return j===null||j.tag!==7?(j=Am(G,W.mode,ee,re),j.return=W,j):(j=i(j,G),j.return=W,j)}function I(W,j,G){if(typeof j=="string"||typeof j=="number")return j=dw(""+j,W.mode,G),j.return=W,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ib:return G=zx(j.type,j.key,j.props,null,W.mode,G),G.ref=fv(W,null,j),G.return=W,G;case mg:return j=hw(j,W.mode,G),j.return=W,j}if(Pb(j)||lv(j))return j=Am(j,W.mode,G,null),j.return=W,j;Ub(W,j)}return null}function B(W,j,G,ee){var re=j!==null?j.key:null;if(typeof G=="string"||typeof G=="number")return re!==null?null:a(W,j,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Ib:return G.key===re?G.type===_0?x(W,j,G.props.children,ee,re):f(W,j,G,ee):null;case mg:return G.key===re?g(W,j,G,ee):null}if(Pb(G)||lv(G))return re!==null?null:x(W,j,G,ee,null);Ub(W,G)}return null}function D(W,j,G,ee,re){if(typeof ee=="string"||typeof ee=="number")return W=W.get(G)||null,a(j,W,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ib:return W=W.get(ee.key===null?G:ee.key)||null,ee.type===_0?x(j,W,ee.props.children,re,ee.key):f(j,W,ee,re);case mg:return W=W.get(ee.key===null?G:ee.key)||null,g(j,W,ee,re)}if(Pb(ee)||lv(ee))return W=W.get(G)||null,x(j,W,ee,re,null);Ub(j,ee)}return null}function L(W,j,G,ee){for(var re=null,se=null,oe=j,ue=j=0,me=null;oe!==null&&ue<G.length;ue++){oe.index>ue?(me=oe,oe=null):me=oe.sibling;var De=B(W,oe,G[ue],ee);if(De===null){oe===null&&(oe=me);break}t&&oe&&De.alternate===null&&n(W,oe),j=o(De,j,ue),se===null?re=De:se.sibling=De,se=De,oe=me}if(ue===G.length)return e(W,oe),re;if(oe===null){for(;ue<G.length;ue++)oe=I(W,G[ue],ee),oe!==null&&(j=o(oe,j,ue),se===null?re=oe:se.sibling=oe,se=oe);return re}for(oe=r(W,oe);ue<G.length;ue++)me=D(oe,W,ue,G[ue],ee),me!==null&&(t&&me.alternate!==null&&oe.delete(me.key===null?ue:me.key),j=o(me,j,ue),se===null?re=me:se.sibling=me,se=me);return t&&oe.forEach(function(Re){return n(W,Re)}),re}function V(W,j,G,ee){var re=lv(G);if(typeof re!="function")throw Error(Tn(150));if(G=re.call(G),G==null)throw Error(Tn(151));for(var se=re=null,oe=j,ue=j=0,me=null,De=G.next();oe!==null&&!De.done;ue++,De=G.next()){oe.index>ue?(me=oe,oe=null):me=oe.sibling;var Re=B(W,oe,De.value,ee);if(Re===null){oe===null&&(oe=me);break}t&&oe&&Re.alternate===null&&n(W,oe),j=o(Re,j,ue),se===null?re=Re:se.sibling=Re,se=Re,oe=me}if(De.done)return e(W,oe),re;if(oe===null){for(;!De.done;ue++,De=G.next())De=I(W,De.value,ee),De!==null&&(j=o(De,j,ue),se===null?re=De:se.sibling=De,se=De);return re}for(oe=r(W,oe);!De.done;ue++,De=G.next())De=D(oe,W,ue,De.value,ee),De!==null&&(t&&De.alternate!==null&&oe.delete(De.key===null?ue:De.key),j=o(De,j,ue),se===null?re=De:se.sibling=De,se=De);return t&&oe.forEach(function(et){return n(W,et)}),re}return function(W,j,G,ee){var re=typeof G=="object"&&G!==null&&G.type===_0&&G.key===null;re&&(G=G.props.children);var se=typeof G=="object"&&G!==null;if(se)switch(G.$$typeof){case Ib:e:{for(se=G.key,re=j;re!==null;){if(re.key===se){switch(re.tag){case 7:if(G.type===_0){e(W,re.sibling),j=i(re,G.props.children),j.return=W,W=j;break e}break;default:if(re.elementType===G.type){e(W,re.sibling),j=i(re,G.props),j.ref=fv(W,re,G),j.return=W,W=j;break e}}e(W,re);break}else n(W,re);re=re.sibling}G.type===_0?(j=Am(G.props.children,W.mode,ee,G.key),j.return=W,W=j):(ee=zx(G.type,G.key,G.props,null,W.mode,ee),ee.ref=fv(W,j,G),ee.return=W,W=ee)}return s(W);case mg:e:{for(re=G.key;j!==null;){if(j.key===re)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){e(W,j.sibling),j=i(j,G.children||[]),j.return=W,W=j;break e}else{e(W,j);break}else n(W,j);j=j.sibling}j=hw(G,W.mode,ee),j.return=W,W=j}return s(W)}if(typeof G=="string"||typeof G=="number")return G=""+G,j!==null&&j.tag===6?(e(W,j.sibling),j=i(j,G),j.return=W,W=j):(e(W,j),j=dw(G,W.mode,ee),j.return=W,W=j),s(W);if(Pb(G))return L(W,j,G,ee);if(lv(G))return V(W,j,G,ee);if(se&&Ub(W,G),typeof G>"u"&&!re)switch(W.tag){case 1:case 0:throw W=W.type,Error(Tn(152,W.displayName||W.name||"Component"))}return e(W,j)}}var oy=cD(!0),yO=cD(!1),p_={},$h={current:p_},BC={current:p_},IC={current:p_};function O0(t){if(t===p_)throw Error(Tn(174));return t}function vS(t,n){switch(ll(IC,n),ll(BC,t),ll($h,p_),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:nS(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=nS(n,t)}cs($h),ll($h,n)}function ay(){cs($h),cs(BC),cs(IC)}function EI(t){O0(IC.current);var n=O0($h.current),e=nS(n,t.type);n!==e&&(ll(BC,t),ll($h,e))}function vO(t){BC.current===t&&(cs($h),cs(BC))}var js={current:0};function f2(t){for(var n=t;n!==null;){if(n.tag===13){var e=n.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data===aO||e.data===sO))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.effectTag&64)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function CO(t,n){return{responder:t,props:n}}var Fx=th.ReactCurrentDispatcher,bd=th.ReactCurrentBatchConfig,lm=0,Ll=null,Yu=null,qu=null,p2=!1;function Oc(){throw Error(Tn(321))}function _O(t,n){if(n===null)return!1;for(var e=0;e<n.length&&e<t.length;e++)if(!V0(t[e],n[e]))return!1;return!0}function bO(t,n,e,r,i,o){if(lm=o,Ll=n,n.memoizedState=null,n.updateQueue=null,n.expirationTime=0,Fx.current=t===null||t.memoizedState===null?ZY:XY,t=e(r,i),n.expirationTime===lm){o=0;do{if(n.expirationTime=0,!(25>o))throw Error(Tn(301));o+=1,qu=Yu=null,n.updateQueue=null,Fx.current=JY,t=e(r,i)}while(n.expirationTime===lm)}if(Fx.current=y2,n=Yu!==null&&Yu.next!==null,lm=0,qu=Yu=Ll=null,p2=!1,n)throw Error(Tn(300));return t}function Fg(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qu===null?Ll.memoizedState=qu=t:qu=qu.next=t,qu}function vy(){if(Yu===null){var t=Ll.alternate;t=t!==null?t.memoizedState:null}else t=Yu.next;var n=qu===null?Ll.memoizedState:qu.next;if(n!==null)qu=n,Yu=t;else{if(t===null)throw Error(Tn(310));Yu=t,t={memoizedState:Yu.memoizedState,baseState:Yu.baseState,baseQueue:Yu.baseQueue,queue:Yu.queue,next:null},qu===null?Ll.memoizedState=qu=t:qu=qu.next=t}return qu}function F0(t,n){return typeof n=="function"?n(t):n}function Db(t){var n=vy(),e=n.queue;if(e===null)throw Error(Tn(311));e.lastRenderedReducer=t;var r=Yu,i=r.baseQueue,o=e.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,e.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,f=i;do{var g=f.expirationTime;if(g<lm){var x={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};a===null?(s=a=x,o=r):a=a.next=x,g>Ll.expirationTime&&(Ll.expirationTime=g,c4(g))}else a!==null&&(a=a.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),LD(g,f.suspenseConfig),r=f.eagerReducer===t?f.eagerState:t(r,f.action);f=f.next}while(f!==null&&f!==i);a===null?o=r:a.next=s,V0(r,n.memoizedState)||(jh=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=a,e.lastRenderedState=r}return[n.memoizedState,e.dispatch]}function Fb(t){var n=vy(),e=n.queue;if(e===null)throw Error(Tn(311));e.lastRenderedReducer=t;var r=e.dispatch,i=e.pending,o=n.memoizedState;if(i!==null){e.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);V0(o,n.memoizedState)||(jh=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),e.lastRenderedState=o}return[o,r]}function sw(t){var n=Fg();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:F0,lastRenderedState:t},t=t.dispatch=gD.bind(null,Ll,t),[n.memoizedState,t]}function CS(t,n,e,r){return t={tag:t,create:n,destroy:e,deps:r,next:null},n=Ll.updateQueue,n===null?(n={lastEffect:null},Ll.updateQueue=n,n.lastEffect=t.next=t):(e=n.lastEffect,e===null?n.lastEffect=t.next=t:(r=e.next,e.next=t,t.next=r,n.lastEffect=t)),t}function dD(){return vy().memoizedState}function _S(t,n,e,r){var i=Fg();Ll.effectTag|=t,i.memoizedState=CS(1|n,e,void 0,r===void 0?null:r)}function xO(t,n,e,r){var i=vy();r=r===void 0?null:r;var o=void 0;if(Yu!==null){var s=Yu.memoizedState;if(o=s.destroy,r!==null&&_O(r,s.deps)){CS(n,e,o,r);return}}Ll.effectTag|=t,i.memoizedState=CS(1|n,e,o,r)}function OI(t,n){return _S(516,4,t,n)}function m2(t,n){return xO(516,4,t,n)}function hD(t,n){return xO(4,2,t,n)}function fD(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pD(t,n,e){return e=e!=null?e.concat([t]):null,xO(4,2,fD.bind(null,n,t),e)}function wO(){}function BI(t,n){return Fg().memoizedState=[t,n===void 0?null:n],t}function g2(t,n){var e=vy();n=n===void 0?null:n;var r=e.memoizedState;return r!==null&&n!==null&&_O(n,r[1])?r[0]:(e.memoizedState=[t,n],t)}function mD(t,n){var e=vy();n=n===void 0?null:n;var r=e.memoizedState;return r!==null&&n!==null&&_O(n,r[1])?r[0]:(t=t(),e.memoizedState=[t,n],t)}function MO(t,n,e){var r=a4();Km(98>r?98:r,function(){t(!0)}),Km(97<r?97:r,function(){var i=bd.suspense;bd.suspense=n===void 0?null:n;try{t(!1),e()}finally{bd.suspense=i}})}function gD(t,n,e){var r=Yh(),i=Xv.suspense;r=z0(r,t,i),i={expirationTime:r,suspenseConfig:i,action:e,eagerReducer:null,eagerState:null,next:null};var o=n.pending;if(o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i,o=t.alternate,t===Ll||o!==null&&o===Ll)p2=!0,i.expirationTime=lm,Ll.expirationTime=lm;else{if(t.expirationTime===0&&(o===null||o.expirationTime===0)&&(o=n.lastRenderedReducer,o!==null))try{var s=n.lastRenderedState,a=o(s,e);if(i.eagerReducer=o,i.eagerState=a,V0(a,s))return}catch{}finally{}wm(t,r)}}var y2={readContext:Md,useCallback:Oc,useContext:Oc,useEffect:Oc,useImperativeHandle:Oc,useLayoutEffect:Oc,useMemo:Oc,useReducer:Oc,useRef:Oc,useState:Oc,useDebugValue:Oc,useResponder:Oc,useDeferredValue:Oc,useTransition:Oc},ZY={readContext:Md,useCallback:BI,useContext:Md,useEffect:OI,useImperativeHandle:function(t,n,e){return e=e!=null?e.concat([t]):null,_S(4,2,fD.bind(null,n,t),e)},useLayoutEffect:function(t,n){return _S(4,2,t,n)},useMemo:function(t,n){var e=Fg();return n=n===void 0?null:n,t=t(),e.memoizedState=[t,n],t},useReducer:function(t,n,e){var r=Fg();return n=e!==void 0?e(n):n,r.memoizedState=r.baseState=n,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},t=t.dispatch=gD.bind(null,Ll,t),[r.memoizedState,t]},useRef:function(t){var n=Fg();return t={current:t},n.memoizedState=t},useState:sw,useDebugValue:wO,useResponder:CO,useDeferredValue:function(t,n){var e=sw(t),r=e[0],i=e[1];return OI(function(){var o=bd.suspense;bd.suspense=n===void 0?null:n;try{i(t)}finally{bd.suspense=o}},[t,n]),r},useTransition:function(t){var n=sw(!1),e=n[0];return n=n[1],[BI(MO.bind(null,n,t),[n,t]),e]}},XY={readContext:Md,useCallback:g2,useContext:Md,useEffect:m2,useImperativeHandle:pD,useLayoutEffect:hD,useMemo:mD,useReducer:Db,useRef:dD,useState:function(){return Db(F0)},useDebugValue:wO,useResponder:CO,useDeferredValue:function(t,n){var e=Db(F0),r=e[0],i=e[1];return m2(function(){var o=bd.suspense;bd.suspense=n===void 0?null:n;try{i(t)}finally{bd.suspense=o}},[t,n]),r},useTransition:function(t){var n=Db(F0),e=n[0];return n=n[1],[g2(MO.bind(null,n,t),[n,t]),e]}},JY={readContext:Md,useCallback:g2,useContext:Md,useEffect:m2,useImperativeHandle:pD,useLayoutEffect:hD,useMemo:mD,useReducer:Fb,useRef:dD,useState:function(){return Fb(F0)},useDebugValue:wO,useResponder:CO,useDeferredValue:function(t,n){var e=Fb(F0),r=e[0],i=e[1];return m2(function(){var o=bd.suspense;bd.suspense=n===void 0?null:n;try{i(t)}finally{bd.suspense=o}},[t,n]),r},useTransition:function(t){var n=Fb(F0),e=n[0];return n=n[1],[g2(MO.bind(null,n,t),[n,t]),e]}},rp=null,um=null,L0=!1;function yD(t,n){var e=Wh(5,null,null,0);e.elementType="DELETED",e.type="DELETED",e.stateNode=n,e.return=t,e.effectTag=8,t.lastEffect!==null?(t.lastEffect.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e}function II(t,n){switch(t.tag){case 5:var e=t.type;return n=n.nodeType!==1||e.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,!0):!1;case 13:return!1;default:return!1}}function bS(t){if(L0){var n=um;if(n){var e=n;if(!II(t,n)){if(n=Ug(e.nextSibling),!n||!II(t,n)){t.effectTag=t.effectTag&-1025|2,L0=!1,rp=t;return}yD(rp,e)}rp=t,um=Ug(n.firstChild)}else t.effectTag=t.effectTag&-1025|2,L0=!1,rp=t}}function kI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rp=t}function Lb(t){if(t!==rp)return!1;if(!L0)return kI(t),L0=!0,!1;var n=t.type;if(t.tag!==5||n!=="head"&&n!=="body"&&!cS(n,t.memoizedProps))for(n=um;n;)yD(t,n),n=Ug(n.nextSibling);if(kI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Tn(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var e=t.data;if(e===LU){if(n===0){um=Ug(t.nextSibling);break e}n--}else e!==FU&&e!==sO&&e!==aO||n++}t=t.nextSibling}um=null}}else um=rp?Ug(t.stateNode.nextSibling):null;return!0}function lw(){um=rp=null,L0=!1}var eq=th.ReactCurrentOwner,jh=!1;function Bc(t,n,e,r){n.child=t===null?yO(n,null,e,r):oy(n,t.child,e,r)}function TI(t,n,e,r,i){e=e.render;var o=n.ref;return Dg(n,i),r=bO(t,n,e,r,o,i),t!==null&&!jh?(n.updateQueue=t.updateQueue,n.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ip(t,n,i)):(n.effectTag|=1,Bc(t,n,r,i),n.child)}function KI(t,n,e,r,i,o){if(t===null){var s=e.type;return typeof s=="function"&&!IO(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(n.tag=15,n.type=s,vD(t,n,s,r,i,o)):(t=zx(e.type,null,r,null,n.mode,o),t.ref=n.ref,t.return=n,n.child=t)}return s=t.child,i<o&&(i=s.memoizedProps,e=e.compare,e=e!==null?e:EC,e(i,r)&&t.ref===n.ref)?ip(t,n,o):(n.effectTag|=1,t=Z0(s,r),t.ref=n.ref,t.return=n,n.child=t)}function vD(t,n,e,r,i,o){return t!==null&&EC(t.memoizedProps,r)&&t.ref===n.ref&&(jh=!1,i<o)?(n.expirationTime=t.expirationTime,ip(t,n,o)):xS(t,n,e,r,o)}function CD(t,n){var e=n.ref;(t===null&&e!==null||t!==null&&t.ref!==e)&&(n.effectTag|=128)}function xS(t,n,e,r,i){var o=VA(e)?H0:Vu.current;return o=iy(n,o),Dg(n,i),e=bO(t,n,e,r,o,i),t!==null&&!jh?(n.updateQueue=t.updateQueue,n.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ip(t,n,i)):(n.effectTag|=1,Bc(t,n,e,i),n.child)}function PI(t,n,e,r,i){if(VA(e)){var o=!0;Px(n)}else o=!1;if(Dg(n,i),n.stateNode===null)t!==null&&(t.alternate=null,n.alternate=null,n.effectTag|=2),AD(n,e,r),yS(n,e,r,i),r=!0;else if(t===null){var s=n.stateNode,a=n.memoizedProps;s.props=a;var f=s.context,g=e.contextType;typeof g=="object"&&g!==null?g=Md(g):(g=VA(e)?H0:Vu.current,g=iy(n,g));var x=e.getDerivedStateFromProps,I=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function";I||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==g)&&SI(n,s,r,g),Xp=!1;var B=n.memoizedState;s.state=B,OC(n,r,s,i),f=n.memoizedState,a!==r||B!==f||qA.current||Xp?(typeof x=="function"&&(h2(n,e,x,r),f=n.memoizedState),(a=Xp||MI(n,e,a,r,B,f,g))?(I||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(n.effectTag|=4)):(typeof s.componentDidMount=="function"&&(n.effectTag|=4),n.memoizedProps=r,n.memoizedState=f),s.props=r,s.state=f,s.context=g,r=a):(typeof s.componentDidMount=="function"&&(n.effectTag|=4),r=!1)}else s=n.stateNode,gO(t,n),a=n.memoizedProps,s.props=n.type===n.elementType?a:Zd(n.type,a),f=s.context,g=e.contextType,typeof g=="object"&&g!==null?g=Md(g):(g=VA(e)?H0:Vu.current,g=iy(n,g)),x=e.getDerivedStateFromProps,(I=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==g)&&SI(n,s,r,g),Xp=!1,f=n.memoizedState,s.state=f,OC(n,r,s,i),B=n.memoizedState,a!==r||f!==B||qA.current||Xp?(typeof x=="function"&&(h2(n,e,x,r),B=n.memoizedState),(x=Xp||MI(n,e,a,r,f,B,g))?(I||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,B,g),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,B,g)),typeof s.componentDidUpdate=="function"&&(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(n.effectTag|=256)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(n.effectTag|=256),n.memoizedProps=r,n.memoizedState=B),s.props=r,s.state=B,s.context=g,r=x):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(n.effectTag|=256),r=!1);return wS(t,n,e,r,o,i)}function wS(t,n,e,r,i,o){CD(t,n);var s=(n.effectTag&64)!==0;if(!r&&!s)return i&&vI(n,e,!1),ip(t,n,o);r=n.stateNode,eq.current=n;var a=s&&typeof e.getDerivedStateFromError!="function"?null:r.render();return n.effectTag|=1,t!==null&&s?(n.child=oy(n,t.child,null,o),n.child=oy(n,null,a,o)):Bc(t,n,a,o),n.memoizedState=r.state,i&&vI(n,e,!0),n.child}function UI(t){var n=t.stateNode;n.pendingContext?yI(t,n.pendingContext,n.pendingContext!==n.context):n.context&&yI(t,n.context,!1),vS(t,n.containerInfo)}var uw={dehydrated:null,retryTime:0};function DI(t,n,e){var r=n.mode,i=n.pendingProps,o=js.current,s=!1,a;if((a=(n.effectTag&64)!==0)||(a=(o&2)!==0&&(t===null||t.memoizedState!==null)),a?(s=!0,n.effectTag&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(o|=1),ll(js,o&1),t===null){if(i.fallback!==void 0&&bS(n),s){if(s=i.fallback,i=Am(null,r,0,null),i.return=n,!(n.mode&2))for(t=n.memoizedState!==null?n.child.child:n.child,i.child=t;t!==null;)t.return=i,t=t.sibling;return e=Am(s,r,e,null),e.return=n,i.sibling=e,n.memoizedState=uw,n.child=i,e}return r=i.children,n.memoizedState=null,n.child=yO(n,null,r,e)}if(t.memoizedState!==null){if(t=t.child,r=t.sibling,s){if(i=i.fallback,e=Z0(t,t.pendingProps),e.return=n,!(n.mode&2)&&(s=n.memoizedState!==null?n.child.child:n.child,s!==t.child))for(e.child=s;s!==null;)s.return=e,s=s.sibling;return r=Z0(r,i),r.return=n,e.sibling=r,e.childExpirationTime=0,n.memoizedState=uw,n.child=e,r}return e=oy(n,t.child,i.children,e),n.memoizedState=null,n.child=e}if(t=t.child,s){if(s=i.fallback,i=Am(null,r,0,null),i.return=n,i.child=t,t!==null&&(t.return=i),!(n.mode&2))for(t=n.memoizedState!==null?n.child.child:n.child,i.child=t;t!==null;)t.return=i,t=t.sibling;return e=Am(s,r,e,null),e.return=n,i.sibling=e,e.effectTag|=2,i.childExpirationTime=0,n.memoizedState=uw,n.child=i,e}return n.memoizedState=null,n.child=oy(n,t,i.children,e)}function FI(t,n){t.expirationTime<n&&(t.expirationTime=n);var e=t.alternate;e!==null&&e.expirationTime<n&&(e.expirationTime=n),lD(t.return,n)}function Aw(t,n,e,r,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:e,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=e,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function LI(t,n,e){var r=n.pendingProps,i=r.revealOrder,o=r.tail;if(Bc(t,n,r.children,e),r=js.current,r&2)r=r&1|2,n.effectTag|=64;else{if(t!==null&&t.effectTag&64)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FI(t,e);else if(t.tag===19)FI(t,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ll(js,r),!(n.mode&2))n.memoizedState=null;else switch(i){case"forwards":for(e=n.child,i=null;e!==null;)t=e.alternate,t!==null&&f2(t)===null&&(i=e),e=e.sibling;e=i,e===null?(i=n.child,n.child=null):(i=e.sibling,e.sibling=null),Aw(n,!1,i,e,o,n.lastEffect);break;case"backwards":for(e=null,i=n.child,n.child=null;i!==null;){if(t=i.alternate,t!==null&&f2(t)===null){n.child=i;break}t=i.sibling,i.sibling=e,e=i,i=t}Aw(n,!0,e,null,o,n.lastEffect);break;case"together":Aw(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function ip(t,n,e){t!==null&&(n.dependencies=t.dependencies);var r=n.expirationTime;if(r!==0&&c4(r),n.childExpirationTime<e)return null;if(t!==null&&n.child!==t.child)throw Error(Tn(153));if(n.child!==null){for(t=n.child,e=Z0(t,t.pendingProps),n.child=e,e.return=n;t.sibling!==null;)t=t.sibling,e=e.sibling=Z0(t,t.pendingProps),e.return=n;e.sibling=null}return n.child}var _D,MS,bD,xD;_D=function(t,n){for(var e=n.child;e!==null;){if(e.tag===5||e.tag===6)t.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};MS=function(){};bD=function(t,n,e,r,i){var o=t.memoizedProps;if(o!==r){var s=n.stateNode;switch(O0($h.current),t=null,e){case"input":o=ZM(s,o),r=ZM(s,r),t=[];break;case"option":o=eS(s,o),r=eS(s,r),t=[];break;case"select":o=xA({},o,{value:void 0}),r=xA({},r,{value:void 0}),t=[];break;case"textarea":o=tS(s,o),r=tS(s,r),t=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(s.onclick=a2)}sS(e,r);var a,f;e=null;for(a in o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&o[a]!=null)if(a==="style")for(f in s=o[a],s)s.hasOwnProperty(f)&&(e||(e={}),e[f]="");else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ty.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var g=r[a];if(s=o!=null?o[a]:void 0,r.hasOwnProperty(a)&&g!==s&&(g!=null||s!=null))if(a==="style")if(s){for(f in s)!s.hasOwnProperty(f)||g&&g.hasOwnProperty(f)||(e||(e={}),e[f]="");for(f in g)g.hasOwnProperty(f)&&s[f]!==g[f]&&(e||(e={}),e[f]=g[f])}else e||(t||(t=[]),t.push(a,e)),e=g;else a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,s=s?s.__html:void 0,g!=null&&s!==g&&(t=t||[]).push(a,g)):a==="children"?s===g||typeof g!="string"&&typeof g!="number"||(t=t||[]).push(a,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(ty.hasOwnProperty(a)?(g!=null&&Wf(i,a),t||s===g||(t=[])):(t=t||[]).push(a,g))}e&&(t=t||[]).push("style",e),i=t,(n.updateQueue=i)&&(n.effectTag|=4)}};xD=function(t,n,e,r){e!==r&&(n.effectTag|=4)};function Rb(t,n){switch(t.tailMode){case"hidden":n=t.tail;for(var e=null;n!==null;)n.alternate!==null&&(e=n),n=n.sibling;e===null?t.tail=null:e.sibling=null;break;case"collapsed":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tq(t,n,e){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return VA(n.type)&&u2(),null;case 3:return ay(),cs(qA),cs(Vu),e=n.stateNode,e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),t!==null&&t.child!==null||!Lb(n)||(n.effectTag|=4),MS(n),null;case 5:vO(n),e=O0(IC.current);var i=n.type;if(t!==null&&n.stateNode!=null)bD(t,n,i,r,e),t.ref!==n.ref&&(n.effectTag|=128);else{if(!r){if(n.stateNode===null)throw Error(Tn(166));return null}if(t=O0($h.current),Lb(n)){r=n.stateNode,i=n.type;var o=n.memoizedProps;switch(r[am]=n,r[s2]=o,i){case"iframe":case"object":case"embed":Ss("load",r);break;case"video":case"audio":for(t=0;t<Bv.length;t++)Ss(Bv[t],r);break;case"source":Ss("error",r);break;case"img":case"image":case"link":Ss("error",r),Ss("load",r);break;case"form":Ss("reset",r),Ss("submit",r);break;case"details":Ss("toggle",r);break;case"input":V8(r,o),Ss("invalid",r),Wf(e,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ss("invalid",r),Wf(e,"onChange");break;case"textarea":Z8(r,o),Ss("invalid",r),Wf(e,"onChange")}sS(i,o),t=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(t=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(t=["children",""+a]):ty.hasOwnProperty(s)&&a!=null&&Wf(e,s)}switch(i){case"input":kb(r),H8(r,o,!0);break;case"textarea":kb(r),X8(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=a2)}e=t,n.updateQueue=e,e!==null&&(n.effectTag|=4)}else{switch(s=e.nodeType===9?e:e.ownerDocument,t===iI&&(t=mU(i)),t===iI?i==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(i,{is:r.is}):(t=s.createElement(i),i==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,i),t[am]=n,t[s2]=r,_D(t,n,!1,!1),n.stateNode=t,s=lS(i,r),i){case"iframe":case"object":case"embed":Ss("load",t),a=r;break;case"video":case"audio":for(a=0;a<Bv.length;a++)Ss(Bv[a],t);a=r;break;case"source":Ss("error",t),a=r;break;case"img":case"image":case"link":Ss("error",t),Ss("load",t),a=r;break;case"form":Ss("reset",t),Ss("submit",t),a=r;break;case"details":Ss("toggle",t),a=r;break;case"input":V8(t,r),a=ZM(t,r),Ss("invalid",t),Wf(e,"onChange");break;case"option":a=eS(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=xA({},r,{value:void 0}),Ss("invalid",t),Wf(e,"onChange");break;case"textarea":Z8(t,r),a=tS(t,r),Ss("invalid",t),Wf(e,"onChange");break;default:a=r}sS(i,a);var f=a;for(o in f)if(f.hasOwnProperty(o)){var g=f[o];o==="style"?UU(t,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&gU(t,g)):o==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&xC(t,g):typeof g=="number"&&xC(t,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ty.hasOwnProperty(o)?g!=null&&Wf(e,o):g!=null&&VE(t,o,g,s))}switch(i){case"input":kb(t),H8(t,r,!1);break;case"textarea":kb(t),X8(t);break;case"option":r.value!=null&&t.setAttribute("value",""+km(r.value));break;case"select":t.multiple=!!r.multiple,e=r.value,e!=null?Pg(t,!!r.multiple,e,!1):r.defaultValue!=null&&Pg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=a2)}RU(i,r)&&(n.effectTag|=4)}n.ref!==null&&(n.effectTag|=128)}return null;case 6:if(t&&n.stateNode!=null)xD(t,n,t.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(Tn(166));e=O0(IC.current),O0($h.current),Lb(n)?(e=n.stateNode,r=n.memoizedProps,e[am]=n,e.nodeValue!==r&&(n.effectTag|=4)):(e=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),e[am]=n,n.stateNode=e)}return null;case 13:return cs(js),r=n.memoizedState,n.effectTag&64?(n.expirationTime=e,n):(e=r!==null,r=!1,t===null?n.memoizedProps.fallback!==void 0&&Lb(n):(i=t.memoizedState,r=i!==null,e||i===null||(i=t.child.sibling,i!==null&&(o=n.firstEffect,o!==null?(n.firstEffect=i,i.nextEffect=o):(n.firstEffect=n.lastEffect=i,i.nextEffect=null),i.effectTag=8))),e&&!r&&n.mode&2&&(t===null&&n.memoizedProps.unstable_avoidThisFallback!==!0||js.current&1?au===R0&&(au=_2):((au===R0||au===_2)&&(au=l4),TC!==0&&Uc!==null&&(k0(Uc,HA),ND(Uc,TC)))),(e||r)&&(n.effectTag|=4),null);case 4:return ay(),MS(n),null;case 10:return pO(n),null;case 17:return VA(n.type)&&u2(),null;case 19:if(cs(js),r=n.memoizedState,r===null)return null;if(i=(n.effectTag&64)!==0,o=r.rendering,o===null){if(i)Rb(r,!1);else if(au!==R0||t!==null&&t.effectTag&64)for(o=n.child;o!==null;){if(t=f2(o),t!==null){for(n.effectTag|=64,Rb(r,!1),i=t.updateQueue,i!==null&&(n.updateQueue=i,n.effectTag|=4),r.lastEffect===null&&(n.firstEffect=null),n.lastEffect=r.lastEffect,r=n.child;r!==null;)i=r,o=e,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,t=i.alternate,t===null?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,o=t.dependencies,i.dependencies=o===null?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return ll(js,js.current&1|2),n.child}o=o.sibling}}else{if(!i)if(t=f2(o),t!==null){if(n.effectTag|=64,i=!0,e=t.updateQueue,e!==null&&(n.updateQueue=e,n.effectTag|=4),Rb(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate)return n=n.lastEffect=r.lastEffect,n!==null&&(n.nextEffect=null),null}else 2*vd()-r.renderingStartTime>r.tailExpiration&&1<e&&(n.effectTag|=64,i=!0,Rb(r,!1),n.expirationTime=n.childExpirationTime=e-1);r.isBackwards?(o.sibling=n.child,n.child=o):(e=r.last,e!==null?e.sibling=o:n.child=o,r.last=o)}return r.tail!==null?(r.tailExpiration===0&&(r.tailExpiration=vd()+500),e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=vd(),e.sibling=null,n=js.current,ll(js,i?n&1|2:n&1),e):null}throw Error(Tn(156,n.tag))}function nq(t){switch(t.tag){case 1:VA(t.type)&&u2();var n=t.effectTag;return n&4096?(t.effectTag=n&-4097|64,t):null;case 3:if(ay(),cs(qA),cs(Vu),n=t.effectTag,n&64)throw Error(Tn(285));return t.effectTag=n&-4097|64,t;case 5:return vO(t),null;case 13:return cs(js),n=t.effectTag,n&4096?(t.effectTag=n&-4097|64,t):null;case 19:return cs(js),null;case 4:return ay(),null;case 10:return pO(t),null;default:return null}}function SO(t,n){return{value:t,source:n,stack:XE(n)}}var rq=typeof WeakSet=="function"?WeakSet:Set;function SS(t,n){var e=n.source,r=n.stack;r===null&&e!==null&&(r=XE(e)),e!==null&&op(e.type),n=n.value,t!==null&&t.tag===1&&op(t.type);try{console.error(n)}catch(i){setTimeout(function(){throw i})}}function iq(t,n){try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(e){j0(t,e)}}function RI(t){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(e){j0(t,e)}else n.current=null}function oq(t,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(n.effectTag&256&&t!==null){var e=t.memoizedProps,r=t.memoizedState;t=n.stateNode,n=t.getSnapshotBeforeUpdate(n.elementType===n.type?e:Zd(n.type,e),r),t.__reactInternalSnapshotBeforeUpdate=n}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Tn(163))}function wD(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var e=n=n.next;do{if((e.tag&t)===t){var r=e.destroy;e.destroy=void 0,r!==void 0&&r()}e=e.next}while(e!==n)}}function MD(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var e=n=n.next;do{if((e.tag&t)===t){var r=e.create;e.destroy=r()}e=e.next}while(e!==n)}}function aq(t,n,e){switch(e.tag){case 0:case 11:case 15:case 22:MD(3,e);return;case 1:if(t=e.stateNode,e.effectTag&4)if(n===null)t.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Zd(e.type,n.memoizedProps);t.componentDidUpdate(r,n.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}n=e.updateQueue,n!==null&&wI(e,n,t);return;case 3:if(n=e.updateQueue,n!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}wI(e,n,t)}return;case 5:t=e.stateNode,n===null&&e.effectTag&4&&RU(e.type,e.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:e.memoizedState===null&&(e=e.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&kU(e))));return;case 19:case 17:case 20:case 21:return}throw Error(Tn(163))}function zI(t,n,e){switch(typeof PS=="function"&&PS(n),n.tag){case 0:case 11:case 14:case 15:case 22:if(t=n.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t.next;Km(97<e?97:e,function(){var i=r;do{var o=i.destroy;if(o!==void 0){var s=n;try{o()}catch(a){j0(s,a)}}i=i.next}while(i!==r)})}break;case 1:RI(n),e=n.stateNode,typeof e.componentWillUnmount=="function"&&iq(n,e);break;case 5:RI(n);break;case 4:ED(t,n,e)}}function SD(t){var n=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,n!==null&&SD(n)}function jI(t){return t.tag===5||t.tag===3||t.tag===4}function WI(t){e:{for(var n=t.return;n!==null;){if(jI(n)){var e=n;break e}n=n.return}throw Error(Tn(160))}switch(n=e.stateNode,e.tag){case 5:var r=!1;break;case 3:n=n.containerInfo,r=!0;break;case 4:n=n.containerInfo,r=!0;break;default:throw Error(Tn(161))}e.effectTag&16&&(xC(n,""),e.effectTag&=-17);e:t:for(e=t;;){for(;e.sibling===null;){if(e.return===null||jI(e.return)){e=null;break e}e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.effectTag&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.effectTag&2)){e=e.stateNode;break e}}r?ES(t,e,n):OS(t,e,n)}function ES(t,n,e){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,n?e.nodeType===8?e.parentNode.insertBefore(t,n):e.insertBefore(t,n):(e.nodeType===8?(n=e.parentNode,n.insertBefore(t,e)):(n=e,n.appendChild(t)),e=e._reactRootContainer,e!=null||n.onclick!==null||(n.onclick=a2));else if(r!==4&&(t=t.child,t!==null))for(ES(t,n,e),t=t.sibling;t!==null;)ES(t,n,e),t=t.sibling}function OS(t,n,e){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,n?e.insertBefore(t,n):e.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(OS(t,n,e),t=t.sibling;t!==null;)OS(t,n,e),t=t.sibling}function ED(t,n,e){for(var r=n,i=!1,o,s;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(Tn(160));switch(o=i.stateNode,i.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var a=t,f=r,g=e,x=f;;)if(zI(a,x,g),x.child!==null&&x.tag!==4)x.child.return=x,x=x.child;else{if(x===f)break e;for(;x.sibling===null;){if(x.return===null||x.return===f)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s?(a=o,f=r.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):o.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){o=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(zI(t,r,e),r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function cw(t,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:wD(3,n);return;case 1:return;case 5:var e=n.stateNode;if(e!=null){var r=n.memoizedProps,i=t!==null?t.memoizedProps:r;t=n.type;var o=n.updateQueue;if(n.updateQueue=null,o!==null){for(e[s2]=r,t==="input"&&r.type==="radio"&&r.name!=null&&hU(e,r),lS(t,i),n=lS(t,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?UU(e,a):s==="dangerouslySetInnerHTML"?gU(e,a):s==="children"?xC(e,a):VE(e,s,a,n)}switch(t){case"input":XM(e,r);break;case"textarea":fU(e,r);break;case"select":n=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,t=r.value,t!=null?Pg(e,!!r.multiple,t,!1):n!==!!r.multiple&&(r.defaultValue!=null?Pg(e,!!r.multiple,r.defaultValue,!0):Pg(e,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(n.stateNode===null)throw Error(Tn(162));n.stateNode.nodeValue=n.memoizedProps;return;case 3:n=n.stateNode,n.hydrate&&(n.hydrate=!1,kU(n.containerInfo));return;case 12:return;case 13:if(e=n,n.memoizedState===null?r=!1:(r=!0,e=n.child,BO=vd()),e!==null)e:for(t=e;;){if(t.tag===5)o=t.stateNode,r?(o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(o=t.stateNode,i=t.memoizedProps.style,i=i!=null&&i.hasOwnProperty("display")?i.display:null,o.style.display=PU("display",i));else if(t.tag===6)t.stateNode.nodeValue=r?"":t.memoizedProps;else if(t.tag===13&&t.memoizedState!==null&&t.memoizedState.dehydrated===null){o=t.child.sibling,o.return=t,t=o;continue}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}NI(n);return;case 19:NI(n);return;case 17:return}throw Error(Tn(163))}function NI(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var e=t.stateNode;e===null&&(e=t.stateNode=new rq),n.forEach(function(r){var i=mq.bind(null,t,r);e.has(r)||(e.add(r),r.then(i,i))})}}var sq=typeof WeakMap=="function"?WeakMap:Map;function OD(t,n,e){e=_m(e,null),e.tag=3,e.payload={element:null};var r=n.value;return e.callback=function(){w2||(w2=!0,BS=r),SS(t,n)},e}function BD(t,n,e){e=_m(e,null),e.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;e.payload=function(){return SS(t,n),r(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){typeof r!="function"&&(xm===null?xm=new Set([this]):xm.add(this),SS(t,n));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})}),e}var lq=Math.ceil,v2=th.ReactCurrentDispatcher,ID=th.ReactCurrentOwner,su=0,EO=8,nh=16,Vh=32,R0=0,C2=1,kD=2,_2=3,l4=4,OO=5,Fi=su,Uc=null,to=null,HA=0,au=R0,u4=null,Jf=1073741823,kC=1073741823,b2=null,TC=0,x2=!1,BO=0,TD=500,Yr=null,w2=!1,BS=null,xm=null,M2=!1,Jv=null,kv=90,B0=null,eC=0,IS=null,Lx=0;function Yh(){return(Fi&(nh|Vh))!==su?1073741821-(vd()/10|0):Lx!==0?Lx:Lx=1073741821-(vd()/10|0)}function z0(t,n,e){if(n=n.mode,!(n&2))return 1073741823;var r=a4();if(!(n&4))return r===99?1073741823:1073741822;if((Fi&nh)!==su)return HA;if(e!==null)t=Dx(t,e.timeoutMs|0||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Dx(t,150,100);break;case 97:case 96:t=Dx(t,5e3,250);break;case 95:t=2;break;default:throw Error(Tn(326))}return Uc!==null&&t===HA&&--t,t}function wm(t,n){if(50<eC)throw eC=0,IS=null,Error(Tn(185));if(t=A4(t,n),t!==null){var e=a4();n===1073741823?(Fi&EO)!==su&&(Fi&(nh|Vh))===su?kS(t):(Dc(t),Fi===su&&nf()):Dc(t),(Fi&4)===su||e!==98&&e!==99||(B0===null?B0=new Map([[t,n]]):(e=B0.get(t),(e===void 0||e>n)&&B0.set(t,n)))}}function A4(t,n){t.expirationTime<n&&(t.expirationTime=n);var e=t.alternate;e!==null&&e.expirationTime<n&&(e.expirationTime=n);var r=t.return,i=null;if(r===null&&t.tag===3)i=t.stateNode;else for(;r!==null;){if(e=r.alternate,r.childExpirationTime<n&&(r.childExpirationTime=n),e!==null&&e.childExpirationTime<n&&(e.childExpirationTime=n),r.return===null&&r.tag===3){i=r.stateNode;break}r=r.return}return i!==null&&(Uc===i&&(c4(n),au===l4&&k0(i,HA)),ND(i,n)),i}function Rx(t){var n=t.lastExpiredTime;if(n!==0||(n=t.firstPendingTime,!WD(t,n)))return n;var e=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=e>t?e:t,2>=t&&n!==t?0:t}function Dc(t){if(t.lastExpiredTime!==0)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=bI(kS.bind(null,t));else{var n=Rx(t),e=t.callbackNode;if(n===0)e!==null&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Yh();if(n===1073741823?r=99:n===1||n===2?r=95:(r=10*(1073741821-n)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),e!==null){var i=t.callbackPriority;if(t.callbackExpirationTime===n&&i>=r)return;e!==iD&&JU(e)}t.callbackExpirationTime=n,t.callbackPriority=r,n=n===1073741823?bI(kS.bind(null,t)):aD(r,KD.bind(null,t),{timeout:10*(1073741821-n)-vd()}),t.callbackNode=n}}}function KD(t,n){if(Lx=0,n)return n=Yh(),US(t,n),Dc(t),null;var e=Rx(t);if(e!==0){if(n=t.callbackNode,(Fi&(nh|Vh))!==su)throw Error(Tn(327));if(Cy(),t===Uc&&e===HA||I0(t,e),to!==null){var r=Fi;Fi|=nh;var i=FD();do try{cq();break}catch(a){DD(t,a)}while(!0);if(fO(),Fi=r,v2.current=i,au===C2)throw n=u4,I0(t,e),k0(t,e),Dc(t),n;if(to===null)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,r=au,Uc=null,r){case R0:case C2:throw Error(Tn(345));case kD:US(t,2<e?2:e);break;case _2:if(k0(t,e),r=t.lastSuspendedTime,e===r&&(t.nextKnownPendingLevel=TS(i)),Jf===1073741823&&(i=BO+TD-vd(),10<i)){if(x2){var o=t.lastPingedTime;if(o===0||o>=e){t.lastPingedTime=e,I0(t,e);break}}if(o=Rx(t),o!==0&&o!==e)break;if(r!==0&&r!==e){t.lastPingedTime=r;break}t.timeoutHandle=ow(m0.bind(null,t),i);break}m0(t);break;case l4:if(k0(t,e),r=t.lastSuspendedTime,e===r&&(t.nextKnownPendingLevel=TS(i)),x2&&(i=t.lastPingedTime,i===0||i>=e)){t.lastPingedTime=e,I0(t,e);break}if(i=Rx(t),i!==0&&i!==e)break;if(r!==0&&r!==e){t.lastPingedTime=r;break}if(kC!==1073741823?r=10*(1073741821-kC)-vd():Jf===1073741823?r=0:(r=10*(1073741821-Jf)-5e3,i=vd(),e=10*(1073741821-e)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lq(r/1960))-r,e<r&&(r=e)),10<r){t.timeoutHandle=ow(m0.bind(null,t),r);break}m0(t);break;case OO:if(Jf!==1073741823&&b2!==null){o=Jf;var s=b2;if(r=s.busyMinDurationMs|0,0>=r?r=0:(i=s.busyDelayMs|0,o=vd()-(10*(1073741821-o)-(s.timeoutMs|0||5e3)),r=o<=i?0:i+r-o),10<r){k0(t,e),t.timeoutHandle=ow(m0.bind(null,t),r);break}}m0(t);break;default:throw Error(Tn(329))}if(Dc(t),t.callbackNode===n)return KD.bind(null,t)}}return null}function kS(t){var n=t.lastExpiredTime;if(n=n!==0?n:1073741823,(Fi&(nh|Vh))!==su)throw Error(Tn(327));if(Cy(),t===Uc&&n===HA||I0(t,n),to!==null){var e=Fi;Fi|=nh;var r=FD();do try{Aq();break}catch(i){DD(t,i)}while(!0);if(fO(),Fi=e,v2.current=r,au===C2)throw e=u4,I0(t,n),k0(t,n),Dc(t),e;if(to!==null)throw Error(Tn(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,Uc=null,m0(t),Dc(t)}return null}function uq(){if(B0!==null){var t=B0;B0=null,t.forEach(function(n,e){US(e,n),Dc(e)}),nf()}}function PD(t,n){var e=Fi;Fi|=1;try{return t(n)}finally{Fi=e,Fi===su&&nf()}}function UD(t,n){var e=Fi;Fi&=-2,Fi|=EO;try{return t(n)}finally{Fi=e,Fi===su&&nf()}}function I0(t,n){t.finishedWork=null,t.finishedExpirationTime=0;var e=t.timeoutHandle;if(e!==-1&&(t.timeoutHandle=-1,lY(e)),to!==null)for(e=to.return;e!==null;){var r=e;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&u2();break;case 3:ay(),cs(qA),cs(Vu);break;case 5:vO(r);break;case 4:ay();break;case 13:cs(js);break;case 19:cs(js);break;case 10:pO(r)}e=e.return}Uc=t,to=Z0(t.current,null),HA=n,au=R0,u4=null,kC=Jf=1073741823,b2=null,TC=0,x2=!1}function DD(t,n){do{try{if(fO(),Fx.current=y2,p2)for(var e=Ll.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}if(lm=0,qu=Yu=Ll=null,p2=!1,to===null||to.return===null)return au=C2,u4=n,to=null;e:{var i=t,o=to.return,s=to,a=n;if(n=HA,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var f=a;if(!(s.mode&2)){var g=s.alternate;g?(s.updateQueue=g.updateQueue,s.memoizedState=g.memoizedState,s.expirationTime=g.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var x=(js.current&1)!==0,I=o;do{var B;if(B=I.tag===13){var D=I.memoizedState;if(D!==null)B=D.dehydrated!==null;else{var L=I.memoizedProps;B=L.fallback===void 0?!1:L.unstable_avoidThisFallback!==!0?!0:!x}}if(B){var V=I.updateQueue;if(V===null){var W=new Set;W.add(f),I.updateQueue=W}else V.add(f);if(!(I.mode&2)){if(I.effectTag|=64,s.effectTag&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var j=_m(1073741823,null);j.tag=2,bm(s,j)}s.expirationTime=1073741823;break e}a=void 0,s=n;var G=i.pingCache;if(G===null?(G=i.pingCache=new sq,a=new Set,G.set(f,a)):(a=G.get(f),a===void 0&&(a=new Set,G.set(f,a))),!a.has(s)){a.add(s);var ee=pq.bind(null,i,f,s);f.then(ee,ee)}I.effectTag|=4096,I.expirationTime=n;break e}I=I.return}while(I!==null);a=Error((op(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+XE(s))}au!==OO&&(au=kD),a=SO(a,s),I=o;do{switch(I.tag){case 3:f=a,I.effectTag|=4096,I.expirationTime=n;var re=OD(I,f,n);xI(I,re);break e;case 1:f=a;var se=I.type,oe=I.stateNode;if(!(I.effectTag&64)&&(typeof se.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(xm===null||!xm.has(oe)))){I.effectTag|=4096,I.expirationTime=n;var ue=BD(I,f,n);xI(I,ue);break e}}I=I.return}while(I!==null)}to=zD(to)}catch(me){n=me;continue}break}while(!0)}function FD(){var t=v2.current;return v2.current=y2,t===null?y2:t}function LD(t,n){t<Jf&&2<t&&(Jf=t),n!==null&&t<kC&&2<t&&(kC=t,b2=n)}function c4(t){t>TC&&(TC=t)}function Aq(){for(;to!==null;)to=RD(to)}function cq(){for(;to!==null&&!VY();)to=RD(to)}function RD(t){var n=jD(t.alternate,t,HA);return t.memoizedProps=t.pendingProps,n===null&&(n=zD(t)),ID.current=null,n}function zD(t){to=t;do{var n=to.alternate;if(t=to.return,to.effectTag&2048){if(n=nq(to),n!==null)return n.effectTag&=2047,n;t!==null&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}else{if(n=tq(n,to,HA),HA===1||to.childExpirationTime!==1){for(var e=0,r=to.child;r!==null;){var i=r.expirationTime,o=r.childExpirationTime;i>e&&(e=i),o>e&&(e=o),r=r.sibling}to.childExpirationTime=e}if(n!==null)return n;t!==null&&!(t.effectTag&2048)&&(t.firstEffect===null&&(t.firstEffect=to.firstEffect),to.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=to.firstEffect),t.lastEffect=to.lastEffect),1<to.effectTag&&(t.lastEffect!==null?t.lastEffect.nextEffect=to:t.firstEffect=to,t.lastEffect=to))}if(n=to.sibling,n!==null)return n;to=t}while(to!==null);return au===R0&&(au=OO),null}function TS(t){var n=t.expirationTime;return t=t.childExpirationTime,n>t?n:t}function m0(t){var n=a4();return Km(99,dq.bind(null,t,n)),null}function dq(t,n){do Cy();while(Jv!==null);if((Fi&(nh|Vh))!==su)throw Error(Tn(327));var e=t.finishedWork,r=t.finishedExpirationTime;if(e===null)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,e===t.current)throw Error(Tn(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=TS(e);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Uc&&(to=Uc=null,HA=0),1<e.effectTag?e.lastEffect!==null?(e.lastEffect.nextEffect=e,i=e.firstEffect):i=e:i=e.firstEffect,i!==null){var o=Fi;Fi|=Vh,ID.current=null,rw=Ix;var s=sI();if(AS(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var I=0,B=-1,D=-1,L=0,V=0,W=s,j=null;t:for(;;){for(var G;W!==a||g!==0&&W.nodeType!==3||(B=I+g),W!==x||f!==0&&W.nodeType!==3||(D=I+f),W.nodeType===3&&(I+=W.nodeValue.length),(G=W.firstChild)!==null;)j=W,W=G;for(;;){if(W===s)break t;if(j===a&&++L===g&&(B=I),j===x&&++V===f&&(D=I),(G=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=G}a=B===-1||D===-1?null:{start:B,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;iw={activeElementDetached:null,focusedElem:s,selectionRange:a},Ix=!1,Yr=i;do try{hq()}catch(De){if(Yr===null)throw Error(Tn(330));j0(Yr,De),Yr=Yr.nextEffect}while(Yr!==null);Yr=i;do try{for(s=t,a=n;Yr!==null;){var ee=Yr.effectTag;if(ee&16&&xC(Yr.stateNode,""),ee&128){var re=Yr.alternate;if(re!==null){var se=re.ref;se!==null&&(typeof se=="function"?se(null):se.current=null)}}switch(ee&1038){case 2:WI(Yr),Yr.effectTag&=-3;break;case 6:WI(Yr),Yr.effectTag&=-3,cw(Yr.alternate,Yr);break;case 1024:Yr.effectTag&=-1025;break;case 1028:Yr.effectTag&=-1025,cw(Yr.alternate,Yr);break;case 4:cw(Yr.alternate,Yr);break;case 8:g=Yr,ED(s,g,a),SD(g)}Yr=Yr.nextEffect}}catch(De){if(Yr===null)throw Error(Tn(330));j0(Yr,De),Yr=Yr.nextEffect}while(Yr!==null);if(se=iw,re=sI(),ee=se.focusedElem,a=se.selectionRange,re!==ee&&ee&&ee.ownerDocument&&DU(ee.ownerDocument.documentElement,ee)){for(a!==null&&AS(ee)&&(re=a.start,se=a.end,se===void 0&&(se=re),"selectionStart"in ee?(ee.selectionStart=re,ee.selectionEnd=Math.min(se,ee.value.length)):(se=(re=ee.ownerDocument||document)&&re.defaultView||window,se.getSelection&&(se=se.getSelection(),g=ee.textContent.length,s=Math.min(a.start,g),a=a.end===void 0?s:Math.min(a.end,g),!se.extend&&s>a&&(g=a,a=s,s=g),g=aI(ee,s),x=aI(ee,a),g&&x&&(se.rangeCount!==1||se.anchorNode!==g.node||se.anchorOffset!==g.offset||se.focusNode!==x.node||se.focusOffset!==x.offset)&&(re=re.createRange(),re.setStart(g.node,g.offset),se.removeAllRanges(),s>a?(se.addRange(re),se.extend(x.node,x.offset)):(re.setEnd(x.node,x.offset),se.addRange(re)))))),re=[],se=ee;se=se.parentNode;)se.nodeType===1&&re.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<re.length;ee++)se=re[ee],se.element.scrollLeft=se.left,se.element.scrollTop=se.top}Ix=!!rw,iw=rw=null,t.current=e,Yr=i;do try{for(ee=t;Yr!==null;){var oe=Yr.effectTag;if(oe&36&&aq(ee,Yr.alternate,Yr),oe&128){re=void 0;var ue=Yr.ref;if(ue!==null){var me=Yr.stateNode;switch(Yr.tag){case 5:re=me;break;default:re=me}typeof ue=="function"?ue(re):ue.current=re}}Yr=Yr.nextEffect}}catch(De){if(Yr===null)throw Error(Tn(330));j0(Yr,De),Yr=Yr.nextEffect}while(Yr!==null);Yr=null,HY(),Fi=o}else t.current=e;if(M2)M2=!1,Jv=t,kv=n;else for(Yr=i;Yr!==null;)n=Yr.nextEffect,Yr.nextEffect=null,Yr=n;if(n=t.firstPendingTime,n===0&&(xm=null),n===1073741823?t===IS?eC++:(eC=0,IS=t):eC=0,typeof KS=="function"&&KS(e.stateNode,r),Dc(t),w2)throw w2=!1,t=BS,BS=null,t;return(Fi&EO)!==su||nf(),null}function hq(){for(;Yr!==null;){var t=Yr.effectTag;t&256&&oq(Yr.alternate,Yr),!(t&512)||M2||(M2=!0,aD(97,function(){return Cy(),null})),Yr=Yr.nextEffect}}function Cy(){if(kv!==90){var t=97<kv?97:kv;return kv=90,Km(t,fq)}}function fq(){if(Jv===null)return!1;var t=Jv;if(Jv=null,(Fi&(nh|Vh))!==su)throw Error(Tn(331));var n=Fi;for(Fi|=Vh,t=t.current.firstEffect;t!==null;){try{var e=t;if(e.effectTag&512)switch(e.tag){case 0:case 11:case 15:case 22:wD(5,e),MD(5,e)}}catch(r){if(t===null)throw Error(Tn(330));j0(t,r)}e=t.nextEffect,t.nextEffect=null,t=e}return Fi=n,nf(),!0}function GI(t,n,e){n=SO(e,n),n=OD(t,n,1073741823),bm(t,n),t=A4(t,1073741823),t!==null&&Dc(t)}function j0(t,n){if(t.tag===3)GI(t,t,n);else for(var e=t.return;e!==null;){if(e.tag===3){GI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xm===null||!xm.has(r))){t=SO(n,t),t=BD(e,t,1073741823),bm(e,t),e=A4(e,1073741823),e!==null&&Dc(e);break}}e=e.return}}function pq(t,n,e){var r=t.pingCache;r!==null&&r.delete(n),Uc===t&&HA===e?au===l4||au===_2&&Jf===1073741823&&vd()-BO<TD?I0(t,HA):x2=!0:WD(t,e)&&(n=t.lastPingedTime,n!==0&&n<e||(t.lastPingedTime=e,Dc(t)))}function mq(t,n){var e=t.stateNode;e!==null&&e.delete(n),n=0,n===0&&(n=Yh(),n=z0(n,t,null)),t=A4(t,n),t!==null&&Dc(t)}var jD;jD=function(t,n,e){var r=n.expirationTime;if(t!==null){var i=n.pendingProps;if(t.memoizedProps!==i||qA.current)jh=!0;else{if(r<e){switch(jh=!1,n.tag){case 3:UI(n),lw();break;case 5:if(EI(n),n.mode&4&&e!==1&&i.hidden)return n.expirationTime=n.childExpirationTime=1,null;break;case 1:VA(n.type)&&Px(n);break;case 4:vS(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value,i=n.type._context,ll(A2,i._currentValue),i._currentValue=r;break;case 13:if(n.memoizedState!==null)return r=n.child.childExpirationTime,r!==0&&r>=e?DI(t,n,e):(ll(js,js.current&1),n=ip(t,n,e),n!==null?n.sibling:null);ll(js,js.current&1);break;case 19:if(r=n.childExpirationTime>=e,t.effectTag&64){if(r)return LI(t,n,e);n.effectTag|=64}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null),ll(js,js.current),!r)return null}return ip(t,n,e)}jh=!1}}else jh=!1;switch(n.expirationTime=0,n.tag){case 2:if(r=n.type,t!==null&&(t.alternate=null,n.alternate=null,n.effectTag|=2),t=n.pendingProps,i=iy(n,Vu.current),Dg(n,e),i=bO(null,n,r,t,i,e),n.effectTag|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,VA(r)){var o=!0;Px(n)}else o=!1;n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mO(n);var s=r.getDerivedStateFromProps;typeof s=="function"&&h2(n,r,s,t),i.updater=s4,n.stateNode=i,i._reactInternalFiber=n,yS(n,r,t,e),n=wS(null,n,r,!0,o,e)}else n.tag=0,Bc(null,n,i,e),n=n.child;return n;case 16:e:{if(i=n.elementType,t!==null&&(t.alternate=null,n.alternate=null,n.effectTag|=2),t=n.pendingProps,Q$(i),i._status!==1)throw i._result;switch(i=i._result,n.type=i,o=n.tag=vq(i),t=Zd(i,t),o){case 0:n=xS(null,n,i,t,e);break e;case 1:n=PI(null,n,i,t,e);break e;case 11:n=TI(null,n,i,t,e);break e;case 14:n=KI(null,n,i,Zd(i.type,t),r,e);break e}throw Error(Tn(306,i,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Zd(r,i),xS(t,n,r,i,e);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Zd(r,i),PI(t,n,r,i,e);case 3:if(UI(n),r=n.updateQueue,t===null||r===null)throw Error(Tn(282));if(r=n.pendingProps,i=n.memoizedState,i=i!==null?i.element:null,gO(t,n),OC(n,r,null,e),r=n.memoizedState.element,r===i)lw(),n=ip(t,n,e);else{if((i=n.stateNode.hydrate)&&(um=Ug(n.stateNode.containerInfo.firstChild),rp=n,i=L0=!0),i)for(e=yO(n,null,r,e),n.child=e;e;)e.effectTag=e.effectTag&-3|1024,e=e.sibling;else Bc(t,n,r,e),lw();n=n.child}return n;case 5:return EI(n),t===null&&bS(n),r=n.type,i=n.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,cS(r,i)?s=null:o!==null&&cS(r,o)&&(n.effectTag|=16),CD(t,n),n.mode&4&&e!==1&&i.hidden?(n.expirationTime=n.childExpirationTime=1,n=null):(Bc(t,n,s,e),n=n.child),n;case 6:return t===null&&bS(n),null;case 13:return DI(t,n,e);case 4:return vS(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=oy(n,null,r,e):Bc(t,n,r,e),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Zd(r,i),TI(t,n,r,i,e);case 7:return Bc(t,n,n.pendingProps,e),n.child;case 8:return Bc(t,n,n.pendingProps.children,e),n.child;case 12:return Bc(t,n,n.pendingProps.children,e),n.child;case 10:e:{r=n.type._context,i=n.pendingProps,s=n.memoizedProps,o=i.value;var a=n.type._context;if(ll(A2,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=V0(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!qA.current){n=ip(t,n,e);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var f=a.dependencies;if(f!==null){s=a.child;for(var g=f.firstContext;g!==null;){if(g.context===r&&g.observedBits&o){a.tag===1&&(g=_m(e,null),g.tag=2,bm(a,g)),a.expirationTime<e&&(a.expirationTime=e),g=a.alternate,g!==null&&g.expirationTime<e&&(g.expirationTime=e),lD(a.return,e),f.expirationTime<e&&(f.expirationTime=e);break}g=g.next}}else s=a.tag===10&&a.type===n.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===n){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Bc(t,n,i.children,e),n=n.child}return n;case 9:return i=n.type,o=n.pendingProps,r=o.children,Dg(n,e),i=Md(i,o.unstable_observedBits),r=r(i),n.effectTag|=1,Bc(t,n,r,e),n.child;case 14:return i=n.type,o=Zd(i,n.pendingProps),o=Zd(i.type,o),KI(t,n,i,o,r,e);case 15:return vD(t,n,n.type,n.pendingProps,r,e);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Zd(r,i),t!==null&&(t.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,VA(r)?(t=!0,Px(n)):t=!1,Dg(n,e),AD(n,r,i),yS(n,r,i,e),wS(null,n,r,!0,t,e);case 19:return LI(t,n,e)}throw Error(Tn(156,n.tag))};var KS=null,PS=null;function gq(t){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var e=n.inject(t);KS=function(r){try{n.onCommitFiberRoot(e,r,void 0,(r.current.effectTag&64)===64)}catch{}},PS=function(r){try{n.onCommitFiberUnmount(e,r)}catch{}}}catch{}return!0}function yq(t,n,e,r){this.tag=t,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Wh(t,n,e,r){return new yq(t,n,e,r)}function IO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vq(t){if(typeof t=="function")return IO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===HE)return 11;if(t===ZE)return 14}return 2}function Z0(t,n){var e=t.alternate;return e===null?(e=Wh(t.tag,n,t.key,t.mode),e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.alternate=t,t.alternate=e):(e.pendingProps=n,e.effectTag=0,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null),e.childExpirationTime=t.childExpirationTime,e.expirationTime=t.expirationTime,e.child=t.child,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,n=t.dependencies,e.dependencies=n===null?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders},e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e}function zx(t,n,e,r,i,o){var s=2;if(r=t,typeof t=="function")IO(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _0:return Am(e.children,i,o,n);case G$:s=8,i|=7;break;case aU:s=8,i|=1;break;case Ex:return t=Wh(12,e,n,i|8),t.elementType=Ex,t.type=Ex,t.expirationTime=o,t;case Ox:return t=Wh(13,e,n,i),t.type=Ox,t.elementType=Ox,t.expirationTime=o,t;case HM:return t=Wh(19,e,n,i),t.elementType=HM,t.expirationTime=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sU:s=10;break e;case lU:s=9;break e;case HE:s=11;break e;case ZE:s=14;break e;case uU:s=16,r=null;break e;case AU:s=22;break e}throw Error(Tn(130,t==null?t:typeof t,""))}return n=Wh(s,e,n,i),n.elementType=t,n.type=r,n.expirationTime=o,n}function Am(t,n,e,r){return t=Wh(7,t,r,n),t.expirationTime=e,t}function dw(t,n,e){return t=Wh(6,t,null,n),t.expirationTime=e,t}function hw(t,n,e){return n=Wh(4,t.children!==null?t.children:[],t.key,n),n.expirationTime=e,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Cq(t,n,e){this.tag=n,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=e,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function WD(t,n){var e=t.firstSuspendedTime;return t=t.lastSuspendedTime,e!==0&&e>=n&&t<=n}function k0(t,n){var e=t.firstSuspendedTime,r=t.lastSuspendedTime;e<n&&(t.firstSuspendedTime=n),(r>n||e===0)&&(t.lastSuspendedTime=n),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function ND(t,n){n>t.firstPendingTime&&(t.firstPendingTime=n);var e=t.firstSuspendedTime;e!==0&&(n>=e?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n>=t.lastSuspendedTime&&(t.lastSuspendedTime=n+1),n>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=n))}function US(t,n){var e=t.lastExpiredTime;(e===0||e>n)&&(t.lastExpiredTime=n)}function S2(t,n,e,r){var i=n.current,o=Yh(),s=Xv.suspense;o=z0(o,i,s);e:if(e){e=e._reactInternalFiber;t:{if(s1(e)!==e||e.tag!==1)throw Error(Tn(170));var a=e;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(VA(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(Tn(171))}if(e.tag===1){var f=e.type;if(VA(f)){e=XU(e,f,a);break e}}e=a}else e=Tm;return n.context===null?n.context=e:n.pendingContext=e,n=_m(o,s),n.payload={element:t},r=r===void 0?null:r,r!==null&&(n.callback=r),bm(i,n),wm(i,o),o}function fw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function QI(t,n){t=t.memoizedState,t!==null&&t.dehydrated!==null&&t.retryTime<n&&(t.retryTime=n)}function kO(t,n){QI(t,n),(t=t.alternate)&&QI(t,n)}function TO(t,n,e){e=e!=null&&e.hydrate===!0;var r=new Cq(t,n,e),i=Wh(3,null,null,n===2?7:n===1?3:0);r.current=i,i.stateNode=r,mO(i),t[A_]=r.current,e&&n!==0&&Z$(t,t.nodeType===9?t:t.ownerDocument),this._internalRoot=r}TO.prototype.render=function(t){S2(t,this._internalRoot,null,null)};TO.prototype.unmount=function(){var t=this._internalRoot,n=t.containerInfo;S2(null,t,null,function(){n[A_]=null})};function m_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _q(t,n){if(n||(n=t?t.nodeType===9?t.documentElement:t.firstChild:null,n=!(!n||n.nodeType!==1||!n.hasAttribute("data-reactroot"))),!n)for(var e;e=t.lastChild;)t.removeChild(e);return new TO(t,0,n?{hydrate:!0}:void 0)}function d4(t,n,e,r,i){var o=e._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var g=fw(s);a.call(g)}}S2(n,s,t,i)}else{if(o=e._reactRootContainer=_q(e,r),s=o._internalRoot,typeof i=="function"){var f=i;i=function(){var g=fw(s);f.call(g)}}UD(function(){S2(n,s,t,i)})}return fw(s)}function bq(t,n,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mg,key:r==null?null:""+r,children:t,containerInfo:n,implementation:e}}BU=function(t){if(t.tag===13){var n=Dx(Yh(),150,100);wm(t,n),kO(t,n)}};nO=function(t){t.tag===13&&(wm(t,3),kO(t,3))};IU=function(t){if(t.tag===13){var n=Yh();n=z0(n,t,null),wm(t,n),kO(t,n)}};VM=function(t,n,e){switch(n){case"input":if(XM(t,e),n=e.name,e.type==="radio"&&n!=null){for(e=t;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<e.length;n++){var r=e[n];if(r!==t&&r.form===t.form){var i=uO(r);if(!i)throw Error(Tn(90));dU(r),XM(r,i)}}}break;case"textarea":fU(t,e);break;case"select":n=e.value,n!=null&&Pg(t,!!e.multiple,n,!1)}};GE=PD;rU=function(t,n,e,r,i){var o=Fi;Fi|=4;try{return Km(98,t.bind(null,n,e,r,i))}finally{Fi=o,Fi===su&&nf()}};QE=function(){(Fi&(1|nh|Vh))===su&&(uq(),Cy())};iU=function(t,n){var e=Fi;Fi|=2;try{return t(n)}finally{Fi=e,Fi===su&&nf()}};function GD(t,n){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m_(n))throw Error(Tn(200));return bq(t,n,null,e)}var xq={Events:[d_,q0,uO,eU,qM,ry,function(t){eO(t,AY)},tU,nU,r4,n4,Cy,{current:!1}]};(function(t){var n=t.findFiberByHostInstance;return gq(xA({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:th.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wU(e),e===null?null:e.stateNode},findFiberByHostInstance:function(e){return n?n(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:c_,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});Od.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xq;Od.createPortal=GD;Od.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternalFiber;if(n===void 0)throw typeof t.render=="function"?Error(Tn(188)):Error(Tn(268,Object.keys(t)));return t=wU(n),t=t===null?null:t.stateNode,t};Od.flushSync=function(t,n){if((Fi&(nh|Vh))!==su)throw Error(Tn(187));var e=Fi;Fi|=1;try{return Km(99,t.bind(null,n))}finally{Fi=e,nf()}};Od.hydrate=function(t,n,e){if(!m_(n))throw Error(Tn(200));return d4(null,t,n,!0,e)};Od.render=function(t,n,e){if(!m_(n))throw Error(Tn(200));return d4(null,t,n,!1,e)};Od.unmountComponentAtNode=function(t){if(!m_(t))throw Error(Tn(40));return t._reactRootContainer?(UD(function(){d4(null,null,t,!1,function(){t._reactRootContainer=null,t[A_]=null})}),!0):!1};Od.unstable_batchedUpdates=PD;Od.unstable_createPortal=function(t,n){return GD(t,n,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Od.unstable_renderSubtreeIntoContainer=function(t,n,e,r){if(!m_(e))throw Error(Tn(200));if(t==null||t._reactInternalFiber===void 0)throw Error(Tn(38));return d4(t,n,e,!1,r)};Od.version="16.14.0";function QD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QD)}catch(t){console.error(t)}}QD(),qP.exports=Od;var Rm=qP.exports;const $D=Qo(Rm);var DS={exports:{}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var e=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(s){if(s===void 0){console.error("Autobind error: No context provided.");return}var a=Object.getPrototypeOf(s);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(a),r.forEach(function(f){var g=Object.getOwnPropertyDescriptor(a,f);if(g===void 0){console.warn('Autobind: "'+f+'" method not found in class.');return}e.indexOf(f)!==-1||typeof g.value!="function"||Object.defineProperty(a,f,o(a,f,g))})}function o(s,a,f){var g=f.value;return{configurable:!0,get:function(){if(this===s||this.hasOwnProperty(a))return g;var I=g.bind(this);return Object.defineProperty(this,a,{value:I,configurable:!0,writable:!0}),I}}}t.exports=n.default})(DS,DS.exports);var wq=DS.exports,Mq=wq;const Sq=Qo(Mq);var E2={exports:{}};E2.exports;(function(t,n){var e=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",f="[object Date]",g="[object Error]",x="[object Function]",I="[object GeneratorFunction]",B="[object Map]",D="[object Number]",L="[object Object]",V="[object Promise]",W="[object RegExp]",j="[object Set]",G="[object String]",ee="[object Symbol]",re="[object WeakMap]",se="[object ArrayBuffer]",oe="[object DataView]",ue="[object Float32Array]",me="[object Float64Array]",De="[object Int8Array]",Re="[object Int16Array]",et="[object Int32Array]",ht="[object Uint8Array]",ke="[object Uint8ClampedArray]",Je="[object Uint16Array]",ve="[object Uint32Array]",ft=/[\\^$.*+?()[\]{}|]/g,Ft=/\w*$/,tn=/^\[object .+?Constructor\]$/,St=/^(?:0|[1-9]\d*)$/,Ne={};Ne[o]=Ne[s]=Ne[se]=Ne[oe]=Ne[a]=Ne[f]=Ne[ue]=Ne[me]=Ne[De]=Ne[Re]=Ne[et]=Ne[B]=Ne[D]=Ne[L]=Ne[W]=Ne[j]=Ne[G]=Ne[ee]=Ne[ht]=Ne[ke]=Ne[Je]=Ne[ve]=!0,Ne[g]=Ne[x]=Ne[re]=!1;var qe=typeof window=="object"&&window&&window.Object===Object&&window,tt=typeof self=="object"&&self&&self.Object===Object&&self,Jt=qe||tt||Function("return this")(),dt=n&&!n.nodeType&&n,ot=dt&&!0&&t&&!t.nodeType&&t,Et=ot&&ot.exports===dt;function Kt(ne,Ie){return ne.set(Ie[0],Ie[1]),ne}function xe(ne,Ie){return ne.add(Ie),ne}function ce(ne,Ie){for(var lt=-1,en=ne?ne.length:0;++lt<en&&Ie(ne[lt],lt,ne)!==!1;);return ne}function _e(ne,Ie){for(var lt=-1,en=Ie.length,Vr=ne.length;++lt<en;)ne[Vr+lt]=Ie[lt];return ne}function Ke(ne,Ie,lt,en){var Vr=-1,_r=ne?ne.length:0;for(en&&_r&&(lt=ne[++Vr]);++Vr<_r;)lt=Ie(lt,ne[Vr],Vr,ne);return lt}function Ve(ne,Ie){for(var lt=-1,en=Array(ne);++lt<ne;)en[lt]=Ie(lt);return en}function Ze(ne,Ie){return ne==null?void 0:ne[Ie]}function bt(ne){var Ie=!1;if(ne!=null&&typeof ne.toString!="function")try{Ie=!!(ne+"")}catch{}return Ie}function Gt(ne){var Ie=-1,lt=Array(ne.size);return ne.forEach(function(en,Vr){lt[++Ie]=[Vr,en]}),lt}function Lt(ne,Ie){return function(lt){return ne(Ie(lt))}}function Un(ne){var Ie=-1,lt=Array(ne.size);return ne.forEach(function(en){lt[++Ie]=en}),lt}var rr=Array.prototype,qt=Function.prototype,$n=Object.prototype,lr=Jt["__core-js_shared__"],gr=function(){var ne=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),Mr=qt.toString,Dr=$n.hasOwnProperty,ur=$n.toString,yi=RegExp("^"+Mr.call(Dr).replace(ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=Et?Jt.Buffer:void 0,z=Jt.Symbol,q=Jt.Uint8Array,Oe=Lt(Object.getPrototypeOf,Object),st=Object.create,ct=$n.propertyIsEnumerable,wt=rr.splice,Vn=Object.getOwnPropertySymbols,qn=be?be.isBuffer:void 0,Qr=Lt(Object.keys,Object),It=Ho(Jt,"DataView"),p=Ho(Jt,"Map"),Pt=Ho(Jt,"Promise"),yr=Ho(Jt,"Set"),Jn=Ho(Jt,"WeakMap"),un=Ho(Object,"create"),pr=qa(It),Zr=qa(p),ki=qa(Pt),Ai=qa(yr),Fr=qa(Jn),Wr=z?z.prototype:void 0,Zi=Wr?Wr.valueOf:void 0;function Wi(ne){var Ie=-1,lt=ne?ne.length:0;for(this.clear();++Ie<lt;){var en=ne[Ie];this.set(en[0],en[1])}}function da(){this.__data__=un?un(null):{}}function zo(ne){return this.has(ne)&&delete this.__data__[ne]}function os(ne){var Ie=this.__data__;if(un){var lt=Ie[ne];return lt===r?void 0:lt}return Dr.call(Ie,ne)?Ie[ne]:void 0}function _a(ne){var Ie=this.__data__;return un?Ie[ne]!==void 0:Dr.call(Ie,ne)}function Pe(ne,Ie){var lt=this.__data__;return lt[ne]=un&&Ie===void 0?r:Ie,this}Wi.prototype.clear=da,Wi.prototype.delete=zo,Wi.prototype.get=os,Wi.prototype.has=_a,Wi.prototype.set=Pe;function ie(ne){var Ie=-1,lt=ne?ne.length:0;for(this.clear();++Ie<lt;){var en=ne[Ie];this.set(en[0],en[1])}}function he(){this.__data__=[]}function Ee(ne){var Ie=this.__data__,lt=Lr(Ie,ne);if(lt<0)return!1;var en=Ie.length-1;return lt==en?Ie.pop():wt.call(Ie,lt,1),!0}function Te(ne){var Ie=this.__data__,lt=Lr(Ie,ne);return lt<0?void 0:Ie[lt][1]}function Qe(ne){return Lr(this.__data__,ne)>-1}function rt(ne,Ie){var lt=this.__data__,en=Lr(lt,ne);return en<0?lt.push([ne,Ie]):lt[en][1]=Ie,this}ie.prototype.clear=he,ie.prototype.delete=Ee,ie.prototype.get=Te,ie.prototype.has=Qe,ie.prototype.set=rt;function Xe(ne){var Ie=-1,lt=ne?ne.length:0;for(this.clear();++Ie<lt;){var en=ne[Ie];this.set(en[0],en[1])}}function Ge(){this.__data__={hash:new Wi,map:new(p||ie),string:new Wi}}function ut(ne){return Is(this,ne).delete(ne)}function Tt(ne){return Is(this,ne).get(ne)}function nn(ne){return Is(this,ne).has(ne)}function Dt(ne,Ie){return Is(this,ne).set(ne,Ie),this}Xe.prototype.clear=Ge,Xe.prototype.delete=ut,Xe.prototype.get=Tt,Xe.prototype.has=nn,Xe.prototype.set=Dt;function wn(ne){this.__data__=new ie(ne)}function Kn(){this.__data__=new ie}function xn(ne){return this.__data__.delete(ne)}function Zn(ne){return this.__data__.get(ne)}function Cr(ne){return this.__data__.has(ne)}function qr(ne,Ie){var lt=this.__data__;if(lt instanceof ie){var en=lt.__data__;if(!p||en.length<e-1)return en.push([ne,Ie]),this;lt=this.__data__=new Xe(en)}return lt.set(ne,Ie),this}wn.prototype.clear=Kn,wn.prototype.delete=xn,wn.prototype.get=Zn,wn.prototype.has=Cr,wn.prototype.set=qr;function In(ne,Ie){var lt=Bu(ne)||Zu(ne)?Ve(ne.length,String):[],en=lt.length,Vr=!!en;for(var _r in ne)(Ie||Dr.call(ne,_r))&&!(Vr&&(_r=="length"||uu(_r,en)))&&lt.push(_r);return lt}function dn(ne,Ie,lt){var en=ne[Ie];(!(Dr.call(ne,Ie)&&Ou(en,lt))||lt===void 0&&!(Ie in ne))&&(ne[Ie]=lt)}function Lr(ne,Ie){for(var lt=ne.length;lt--;)if(Ou(ne[lt][0],Ie))return lt;return-1}function Xr(ne,Ie){return ne&&Gs(Ie,rc(Ie),ne)}function Oi(ne,Ie,lt,en,Vr,_r,Bi){var Ti;if(en&&(Ti=_r?en(ne,Vr,_r,Bi):en(ne)),Ti!==void 0)return Ti;if(!ai(ne))return ne;var Hr=Bu(ne);if(Hr){if(Ti=wl(ne),!Ie)return bl(ne,Ti)}else{var $i=ks(ne),Ko=$i==x||$i==I;if(Iu(ne))return Cn(ne,Ie);if($i==L||$i==o||Ko&&!_r){if(bt(ne))return _r?ne:{};if(Ti=$s(Ko?{}:ne),!Ie)return Qs(ne,Xr(Ti,ne))}else{if(!Ne[$i])return _r?ne:{};Ti=Su(ne,$i,Oi,Ie)}}Bi||(Bi=new wn);var Ta=Bi.get(ne);if(Ta)return Ta;if(Bi.set(ne,Ti),!Hr)var $o=lt?xl(ne):rc(ne);return ce($o||ne,function(vi,ha){$o&&(ha=vi,vi=ne[ha]),dn(Ti,ha,Oi(vi,Ie,lt,en,ha,ne,Bi))}),Ti}function ge(ne){return ai(ne)?st(ne):{}}function je(ne,Ie,lt){var en=Ie(ne);return Bu(ne)?en:_e(en,lt(ne))}function Yt(ne){return ur.call(ne)}function hn(ne){if(!ai(ne)||Eu(ne))return!1;var Ie=Xu(ne)||bt(ne)?yi:tn;return Ie.test(qa(ne))}function Ct(ne){if(!tc(ne))return Qr(ne);var Ie=[];for(var lt in Object(ne))Dr.call(ne,lt)&&lt!="constructor"&&Ie.push(lt);return Ie}function Cn(ne,Ie){if(Ie)return ne.slice();var lt=new ne.constructor(ne.length);return ne.copy(lt),lt}function ti(ne){var Ie=new ne.constructor(ne.byteLength);return new q(Ie).set(new q(ne)),Ie}function Ni(ne,Ie){var lt=Ie?ti(ne.buffer):ne.buffer;return new ne.constructor(lt,ne.byteOffset,ne.byteLength)}function Xi(ne,Ie,lt){var en=Ie?lt(Gt(ne),!0):Gt(ne);return Ke(en,Kt,new ne.constructor)}function ba(ne){var Ie=new ne.constructor(ne.source,Ft.exec(ne));return Ie.lastIndex=ne.lastIndex,Ie}function Mu(ne,Ie,lt){var en=Ie?lt(Un(ne),!0):Un(ne);return Ke(en,xe,new ne.constructor)}function kr(ne){return Zi?Object(Zi.call(ne)):{}}function Ns(ne,Ie){var lt=Ie?ti(ne.buffer):ne.buffer;return new ne.constructor(lt,ne.byteOffset,ne.length)}function bl(ne,Ie){var lt=-1,en=ne.length;for(Ie||(Ie=Array(en));++lt<en;)Ie[lt]=ne[lt];return Ie}function Gs(ne,Ie,lt,en){lt||(lt={});for(var Vr=-1,_r=Ie.length;++Vr<_r;){var Bi=Ie[Vr],Ti=en?en(lt[Bi],ne[Bi],Bi,lt,ne):void 0;dn(lt,Bi,Ti===void 0?ne[Bi]:Ti)}return lt}function Qs(ne,Ie){return Gs(ne,xa(ne),Ie)}function xl(ne){return je(ne,rc,xa)}function Is(ne,Ie){var lt=ne.__data__;return po(Ie)?lt[typeof Ie=="string"?"string":"hash"]:lt.map}function Ho(ne,Ie){var lt=Ze(ne,Ie);return hn(lt)?lt:void 0}var xa=Vn?Lt(Vn,Object):no,ks=Yt;(It&&ks(new It(new ArrayBuffer(1)))!=oe||p&&ks(new p)!=B||Pt&&ks(Pt.resolve())!=V||yr&&ks(new yr)!=j||Jn&&ks(new Jn)!=re)&&(ks=function(ne){var Ie=ur.call(ne),lt=Ie==L?ne.constructor:void 0,en=lt?qa(lt):void 0;if(en)switch(en){case pr:return oe;case Zr:return B;case ki:return V;case Ai:return j;case Fr:return re}return Ie});function wl(ne){var Ie=ne.length,lt=ne.constructor(Ie);return Ie&&typeof ne[0]=="string"&&Dr.call(ne,"index")&&(lt.index=ne.index,lt.input=ne.input),lt}function $s(ne){return typeof ne.constructor=="function"&&!tc(ne)?ge(Oe(ne)):{}}function Su(ne,Ie,lt,en){var Vr=ne.constructor;switch(Ie){case se:return ti(ne);case a:case f:return new Vr(+ne);case oe:return Ni(ne,en);case ue:case me:case De:case Re:case et:case ht:case ke:case Je:case ve:return Ns(ne,en);case B:return Xi(ne,en,lt);case D:case G:return new Vr(ne);case W:return ba(ne);case j:return Mu(ne,en,lt);case ee:return kr(ne)}}function uu(ne,Ie){return Ie=Ie??i,!!Ie&&(typeof ne=="number"||St.test(ne))&&ne>-1&&ne%1==0&&ne<Ie}function po(ne){var Ie=typeof ne;return Ie=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?ne!=="__proto__":ne===null}function Eu(ne){return!!gr&&gr in ne}function tc(ne){var Ie=ne&&ne.constructor,lt=typeof Ie=="function"&&Ie.prototype||$n;return ne===lt}function qa(ne){if(ne!=null){try{return Mr.call(ne)}catch{}try{return ne+""}catch{}}return""}function Ts(ne){return Oi(ne,!0,!0)}function Ou(ne,Ie){return ne===Ie||ne!==ne&&Ie!==Ie}function Zu(ne){return nc(ne)&&Dr.call(ne,"callee")&&(!ct.call(ne,"callee")||ur.call(ne)==o)}var Bu=Array.isArray;function zl(ne){return ne!=null&&MA(ne.length)&&!Xu(ne)}function nc(ne){return SA(ne)&&zl(ne)}var Iu=qn||Ji;function Xu(ne){var Ie=ai(ne)?ur.call(ne):"";return Ie==x||Ie==I}function MA(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=i}function ai(ne){var Ie=typeof ne;return!!ne&&(Ie=="object"||Ie=="function")}function SA(ne){return!!ne&&typeof ne=="object"}function rc(ne){return zl(ne)?In(ne):Ct(ne)}function no(){return[]}function Ji(){return!1}t.exports=Ts})(E2,E2.exports);var Eq=E2.exports;const $I=Qo(Eq);var YI=NaN,Oq="[object Symbol]",Bq=/^\s+|\s+$/g,Iq=/^[-+]0x[0-9a-f]+$/i,kq=/^0b[01]+$/i,Tq=/^0o[0-7]+$/i,Kq=parseInt,Pq=Object.prototype,Uq=Pq.toString;function Dq(t,n,e){return t===t&&(e!==void 0&&(t=t<=e?t:e),n!==void 0&&(t=t>=n?t:n)),t}function qI(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function Fq(t){return!!t&&typeof t=="object"}function Lq(t){return typeof t=="symbol"||Fq(t)&&Uq.call(t)==Oq}function pw(t){if(typeof t=="number")return t;if(Lq(t))return YI;if(qI(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=qI(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=t.replace(Bq,"");var e=kq.test(t);return e||Tq.test(t)?Kq(t.slice(2),e?2:8):Iq.test(t)?YI:+t}function Rq(t,n,e){return e===void 0&&(e=n,n=void 0),e!==void 0&&(e=pw(e),e=e===e?e:0),n!==void 0&&(n=pw(n),n=n===n?n:0),Dq(pw(t),n,e)}var zq=Rq;const VI=Qo(zq);var YD={},h4={};h4.byteLength=Nq;h4.toByteArray=Qq;h4.fromByteArray=qq;var Fh=[],md=[],jq=typeof Uint8Array<"u"?Uint8Array:Array,mw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var G1=0,Wq=mw.length;G1<Wq;++G1)Fh[G1]=mw[G1],md[mw.charCodeAt(G1)]=G1;md[45]=62;md[95]=63;function qD(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");e===-1&&(e=n);var r=e===n?0:4-e%4;return[e,r]}function Nq(t){var n=qD(t),e=n[0],r=n[1];return(e+r)*3/4-r}function Gq(t,n,e){return(n+e)*3/4-e}function Qq(t){var n,e=qD(t),r=e[0],i=e[1],o=new jq(Gq(t,r,i)),s=0,a=i>0?r-4:r,f;for(f=0;f<a;f+=4)n=md[t.charCodeAt(f)]<<18|md[t.charCodeAt(f+1)]<<12|md[t.charCodeAt(f+2)]<<6|md[t.charCodeAt(f+3)],o[s++]=n>>16&255,o[s++]=n>>8&255,o[s++]=n&255;return i===2&&(n=md[t.charCodeAt(f)]<<2|md[t.charCodeAt(f+1)]>>4,o[s++]=n&255),i===1&&(n=md[t.charCodeAt(f)]<<10|md[t.charCodeAt(f+1)]<<4|md[t.charCodeAt(f+2)]>>2,o[s++]=n>>8&255,o[s++]=n&255),o}function $q(t){return Fh[t>>18&63]+Fh[t>>12&63]+Fh[t>>6&63]+Fh[t&63]}function Yq(t,n,e){for(var r,i=[],o=n;o<e;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push($q(r));return i.join("")}function qq(t){for(var n,e=t.length,r=e%3,i=[],o=16383,s=0,a=e-r;s<a;s+=o)i.push(Yq(t,s,s+o>a?a:s+o));return r===1?(n=t[e-1],i.push(Fh[n>>2]+Fh[n<<4&63]+"==")):r===2&&(n=(t[e-2]<<8)+t[e-1],i.push(Fh[n>>10]+Fh[n>>4&63]+Fh[n<<2&63]+"=")),i.join("")}var f4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */f4.read=function(t,n,e,r,i){var o,s,a=i*8-r-1,f=(1<<a)-1,g=f>>1,x=-7,I=e?i-1:0,B=e?-1:1,D=t[n+I];for(I+=B,o=D&(1<<-x)-1,D>>=-x,x+=a;x>0;o=o*256+t[n+I],I+=B,x-=8);for(s=o&(1<<-x)-1,o>>=-x,x+=r;x>0;s=s*256+t[n+I],I+=B,x-=8);if(o===0)o=1-g;else{if(o===f)return s?NaN:(D?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-g}return(D?-1:1)*s*Math.pow(2,o-r)};f4.write=function(t,n,e,r,i,o){var s,a,f,g=o*8-i-1,x=(1<<g)-1,I=x>>1,B=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=r?0:o-1,L=r?1:-1,V=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,s=x):(s=Math.floor(Math.log(n)/Math.LN2),n*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+I>=1?n+=B/f:n+=B*Math.pow(2,1-I),n*f>=2&&(s++,f/=2),s+I>=x?(a=0,s=x):s+I>=1?(a=(n*f-1)*Math.pow(2,i),s=s+I):(a=n*Math.pow(2,I-1)*Math.pow(2,i),s=0));i>=8;t[e+D]=a&255,D+=L,a/=256,i-=8);for(s=s<<i|a,g+=i;g>0;t[e+D]=s&255,D+=L,s/=256,g-=8);t[e+D-L]|=V*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const n=h4,e=f4,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=G,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const be=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(be,z),be.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(be){if(be>i)throw new RangeError('The value "'+be+'" is invalid for option "size"');const z=new Uint8Array(be);return Object.setPrototypeOf(z,a.prototype),z}function a(be,z,q){if(typeof be=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(be)}return f(be,z,q)}a.poolSize=8192;function f(be,z,q){if(typeof be=="string")return B(be,z);if(ArrayBuffer.isView(be))return L(be);if(be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be);if(gr(be,ArrayBuffer)||be&&gr(be.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(gr(be,SharedArrayBuffer)||be&&gr(be.buffer,SharedArrayBuffer)))return V(be,z,q);if(typeof be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Oe=be.valueOf&&be.valueOf();if(Oe!=null&&Oe!==be)return a.from(Oe,z,q);const st=W(be);if(st)return st;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof be[Symbol.toPrimitive]=="function")return a.from(be[Symbol.toPrimitive]("string"),z,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be)}a.from=function(be,z,q){return f(be,z,q)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(be){if(typeof be!="number")throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function x(be,z,q){return g(be),be<=0?s(be):z!==void 0?typeof q=="string"?s(be).fill(z,q):s(be).fill(z):s(be)}a.alloc=function(be,z,q){return x(be,z,q)};function I(be){return g(be),s(be<0?0:j(be)|0)}a.allocUnsafe=function(be){return I(be)},a.allocUnsafeSlow=function(be){return I(be)};function B(be,z){if((typeof z!="string"||z==="")&&(z="utf8"),!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const q=ee(be,z)|0;let Oe=s(q);const st=Oe.write(be,z);return st!==q&&(Oe=Oe.slice(0,st)),Oe}function D(be){const z=be.length<0?0:j(be.length)|0,q=s(z);for(let Oe=0;Oe<z;Oe+=1)q[Oe]=be[Oe]&255;return q}function L(be){if(gr(be,Uint8Array)){const z=new Uint8Array(be);return V(z.buffer,z.byteOffset,z.byteLength)}return D(be)}function V(be,z,q){if(z<0||be.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<z+(q||0))throw new RangeError('"length" is outside of buffer bounds');let Oe;return z===void 0&&q===void 0?Oe=new Uint8Array(be):q===void 0?Oe=new Uint8Array(be,z):Oe=new Uint8Array(be,z,q),Object.setPrototypeOf(Oe,a.prototype),Oe}function W(be){if(a.isBuffer(be)){const z=j(be.length)|0,q=s(z);return q.length===0||be.copy(q,0,0,z),q}if(be.length!==void 0)return typeof be.length!="number"||Mr(be.length)?s(0):D(be);if(be.type==="Buffer"&&Array.isArray(be.data))return D(be.data)}function j(be){if(be>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return be|0}function G(be){return+be!=be&&(be=0),a.alloc(+be)}a.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==a.prototype},a.compare=function(z,q){if(gr(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),gr(q,Uint8Array)&&(q=a.from(q,q.offset,q.byteLength)),!a.isBuffer(z)||!a.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===q)return 0;let Oe=z.length,st=q.length;for(let ct=0,wt=Math.min(Oe,st);ct<wt;++ct)if(z[ct]!==q[ct]){Oe=z[ct],st=q[ct];break}return Oe<st?-1:st<Oe?1:0},a.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(z,q){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return a.alloc(0);let Oe;if(q===void 0)for(q=0,Oe=0;Oe<z.length;++Oe)q+=z[Oe].length;const st=a.allocUnsafe(q);let ct=0;for(Oe=0;Oe<z.length;++Oe){let wt=z[Oe];if(gr(wt,Uint8Array))ct+wt.length>st.length?(a.isBuffer(wt)||(wt=a.from(wt)),wt.copy(st,ct)):Uint8Array.prototype.set.call(st,wt,ct);else if(a.isBuffer(wt))wt.copy(st,ct);else throw new TypeError('"list" argument must be an Array of Buffers');ct+=wt.length}return st};function ee(be,z){if(a.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||gr(be,ArrayBuffer))return be.byteLength;if(typeof be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof be);const q=be.length,Oe=arguments.length>2&&arguments[2]===!0;if(!Oe&&q===0)return 0;let st=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return Un(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return $n(be).length;default:if(st)return Oe?-1:Un(be).length;z=(""+z).toLowerCase(),st=!0}}a.byteLength=ee;function re(be,z,q){let Oe=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,z>>>=0,q<=z))return"";for(be||(be="utf8");;)switch(be){case"hex":return St(this,z,q);case"utf8":case"utf-8":return Je(this,z,q);case"ascii":return Ft(this,z,q);case"latin1":case"binary":return tn(this,z,q);case"base64":return ke(this,z,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,z,q);default:if(Oe)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),Oe=!0}}a.prototype._isBuffer=!0;function se(be,z,q){const Oe=be[z];be[z]=be[q],be[q]=Oe}a.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<z;q+=2)se(this,q,q+1);return this},a.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<z;q+=4)se(this,q,q+3),se(this,q+1,q+2);return this},a.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<z;q+=8)se(this,q,q+7),se(this,q+1,q+6),se(this,q+2,q+5),se(this,q+3,q+4);return this},a.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?Je(this,0,z):re.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(z){if(!a.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:a.compare(this,z)===0},a.prototype.inspect=function(){let z="";const q=t.INSPECT_MAX_BYTES;return z=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(z+=" ... "),"<Buffer "+z+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(z,q,Oe,st,ct){if(gr(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(q===void 0&&(q=0),Oe===void 0&&(Oe=z?z.length:0),st===void 0&&(st=0),ct===void 0&&(ct=this.length),q<0||Oe>z.length||st<0||ct>this.length)throw new RangeError("out of range index");if(st>=ct&&q>=Oe)return 0;if(st>=ct)return-1;if(q>=Oe)return 1;if(q>>>=0,Oe>>>=0,st>>>=0,ct>>>=0,this===z)return 0;let wt=ct-st,Vn=Oe-q;const qn=Math.min(wt,Vn),Qr=this.slice(st,ct),It=z.slice(q,Oe);for(let p=0;p<qn;++p)if(Qr[p]!==It[p]){wt=Qr[p],Vn=It[p];break}return wt<Vn?-1:Vn<wt?1:0};function oe(be,z,q,Oe,st){if(be.length===0)return-1;if(typeof q=="string"?(Oe=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Mr(q)&&(q=st?0:be.length-1),q<0&&(q=be.length+q),q>=be.length){if(st)return-1;q=be.length-1}else if(q<0)if(st)q=0;else return-1;if(typeof z=="string"&&(z=a.from(z,Oe)),a.isBuffer(z))return z.length===0?-1:ue(be,z,q,Oe,st);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?st?Uint8Array.prototype.indexOf.call(be,z,q):Uint8Array.prototype.lastIndexOf.call(be,z,q):ue(be,[z],q,Oe,st);throw new TypeError("val must be string, number or Buffer")}function ue(be,z,q,Oe,st){let ct=1,wt=be.length,Vn=z.length;if(Oe!==void 0&&(Oe=String(Oe).toLowerCase(),Oe==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(be.length<2||z.length<2)return-1;ct=2,wt/=2,Vn/=2,q/=2}function qn(It,p){return ct===1?It[p]:It.readUInt16BE(p*ct)}let Qr;if(st){let It=-1;for(Qr=q;Qr<wt;Qr++)if(qn(be,Qr)===qn(z,It===-1?0:Qr-It)){if(It===-1&&(It=Qr),Qr-It+1===Vn)return It*ct}else It!==-1&&(Qr-=Qr-It),It=-1}else for(q+Vn>wt&&(q=wt-Vn),Qr=q;Qr>=0;Qr--){let It=!0;for(let p=0;p<Vn;p++)if(qn(be,Qr+p)!==qn(z,p)){It=!1;break}if(It)return Qr}return-1}a.prototype.includes=function(z,q,Oe){return this.indexOf(z,q,Oe)!==-1},a.prototype.indexOf=function(z,q,Oe){return oe(this,z,q,Oe,!0)},a.prototype.lastIndexOf=function(z,q,Oe){return oe(this,z,q,Oe,!1)};function me(be,z,q,Oe){q=Number(q)||0;const st=be.length-q;Oe?(Oe=Number(Oe),Oe>st&&(Oe=st)):Oe=st;const ct=z.length;Oe>ct/2&&(Oe=ct/2);let wt;for(wt=0;wt<Oe;++wt){const Vn=parseInt(z.substr(wt*2,2),16);if(Mr(Vn))return wt;be[q+wt]=Vn}return wt}function De(be,z,q,Oe){return lr(Un(z,be.length-q),be,q,Oe)}function Re(be,z,q,Oe){return lr(rr(z),be,q,Oe)}function et(be,z,q,Oe){return lr($n(z),be,q,Oe)}function ht(be,z,q,Oe){return lr(qt(z,be.length-q),be,q,Oe)}a.prototype.write=function(z,q,Oe,st){if(q===void 0)st="utf8",Oe=this.length,q=0;else if(Oe===void 0&&typeof q=="string")st=q,Oe=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(Oe)?(Oe=Oe>>>0,st===void 0&&(st="utf8")):(st=Oe,Oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ct=this.length-q;if((Oe===void 0||Oe>ct)&&(Oe=ct),z.length>0&&(Oe<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");st||(st="utf8");let wt=!1;for(;;)switch(st){case"hex":return me(this,z,q,Oe);case"utf8":case"utf-8":return De(this,z,q,Oe);case"ascii":case"latin1":case"binary":return Re(this,z,q,Oe);case"base64":return et(this,z,q,Oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ht(this,z,q,Oe);default:if(wt)throw new TypeError("Unknown encoding: "+st);st=(""+st).toLowerCase(),wt=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ke(be,z,q){return z===0&&q===be.length?n.fromByteArray(be):n.fromByteArray(be.slice(z,q))}function Je(be,z,q){q=Math.min(be.length,q);const Oe=[];let st=z;for(;st<q;){const ct=be[st];let wt=null,Vn=ct>239?4:ct>223?3:ct>191?2:1;if(st+Vn<=q){let qn,Qr,It,p;switch(Vn){case 1:ct<128&&(wt=ct);break;case 2:qn=be[st+1],(qn&192)===128&&(p=(ct&31)<<6|qn&63,p>127&&(wt=p));break;case 3:qn=be[st+1],Qr=be[st+2],(qn&192)===128&&(Qr&192)===128&&(p=(ct&15)<<12|(qn&63)<<6|Qr&63,p>2047&&(p<55296||p>57343)&&(wt=p));break;case 4:qn=be[st+1],Qr=be[st+2],It=be[st+3],(qn&192)===128&&(Qr&192)===128&&(It&192)===128&&(p=(ct&15)<<18|(qn&63)<<12|(Qr&63)<<6|It&63,p>65535&&p<1114112&&(wt=p))}}wt===null?(wt=65533,Vn=1):wt>65535&&(wt-=65536,Oe.push(wt>>>10&1023|55296),wt=56320|wt&1023),Oe.push(wt),st+=Vn}return ft(Oe)}const ve=4096;function ft(be){const z=be.length;if(z<=ve)return String.fromCharCode.apply(String,be);let q="",Oe=0;for(;Oe<z;)q+=String.fromCharCode.apply(String,be.slice(Oe,Oe+=ve));return q}function Ft(be,z,q){let Oe="";q=Math.min(be.length,q);for(let st=z;st<q;++st)Oe+=String.fromCharCode(be[st]&127);return Oe}function tn(be,z,q){let Oe="";q=Math.min(be.length,q);for(let st=z;st<q;++st)Oe+=String.fromCharCode(be[st]);return Oe}function St(be,z,q){const Oe=be.length;(!z||z<0)&&(z=0),(!q||q<0||q>Oe)&&(q=Oe);let st="";for(let ct=z;ct<q;++ct)st+=Dr[be[ct]];return st}function Ne(be,z,q){const Oe=be.slice(z,q);let st="";for(let ct=0;ct<Oe.length-1;ct+=2)st+=String.fromCharCode(Oe[ct]+Oe[ct+1]*256);return st}a.prototype.slice=function(z,q){const Oe=this.length;z=~~z,q=q===void 0?Oe:~~q,z<0?(z+=Oe,z<0&&(z=0)):z>Oe&&(z=Oe),q<0?(q+=Oe,q<0&&(q=0)):q>Oe&&(q=Oe),q<z&&(q=z);const st=this.subarray(z,q);return Object.setPrototypeOf(st,a.prototype),st};function qe(be,z,q){if(be%1!==0||be<0)throw new RangeError("offset is not uint");if(be+z>q)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(z,q,Oe){z=z>>>0,q=q>>>0,Oe||qe(z,q,this.length);let st=this[z],ct=1,wt=0;for(;++wt<q&&(ct*=256);)st+=this[z+wt]*ct;return st},a.prototype.readUintBE=a.prototype.readUIntBE=function(z,q,Oe){z=z>>>0,q=q>>>0,Oe||qe(z,q,this.length);let st=this[z+--q],ct=1;for(;q>0&&(ct*=256);)st+=this[z+--q]*ct;return st},a.prototype.readUint8=a.prototype.readUInt8=function(z,q){return z=z>>>0,q||qe(z,1,this.length),this[z]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(z,q){return z=z>>>0,q||qe(z,2,this.length),this[z]|this[z+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(z,q){return z=z>>>0,q||qe(z,2,this.length),this[z]<<8|this[z+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(z,q){return z=z>>>0,q||qe(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(z,q){return z=z>>>0,q||qe(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},a.prototype.readBigUInt64LE=ur(function(z){z=z>>>0,Ze(z,"offset");const q=this[z],Oe=this[z+7];(q===void 0||Oe===void 0)&&bt(z,this.length-8);const st=q+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,ct=this[++z]+this[++z]*2**8+this[++z]*2**16+Oe*2**24;return BigInt(st)+(BigInt(ct)<<BigInt(32))}),a.prototype.readBigUInt64BE=ur(function(z){z=z>>>0,Ze(z,"offset");const q=this[z],Oe=this[z+7];(q===void 0||Oe===void 0)&&bt(z,this.length-8);const st=q*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],ct=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+Oe;return(BigInt(st)<<BigInt(32))+BigInt(ct)}),a.prototype.readIntLE=function(z,q,Oe){z=z>>>0,q=q>>>0,Oe||qe(z,q,this.length);let st=this[z],ct=1,wt=0;for(;++wt<q&&(ct*=256);)st+=this[z+wt]*ct;return ct*=128,st>=ct&&(st-=Math.pow(2,8*q)),st},a.prototype.readIntBE=function(z,q,Oe){z=z>>>0,q=q>>>0,Oe||qe(z,q,this.length);let st=q,ct=1,wt=this[z+--st];for(;st>0&&(ct*=256);)wt+=this[z+--st]*ct;return ct*=128,wt>=ct&&(wt-=Math.pow(2,8*q)),wt},a.prototype.readInt8=function(z,q){return z=z>>>0,q||qe(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},a.prototype.readInt16LE=function(z,q){z=z>>>0,q||qe(z,2,this.length);const Oe=this[z]|this[z+1]<<8;return Oe&32768?Oe|4294901760:Oe},a.prototype.readInt16BE=function(z,q){z=z>>>0,q||qe(z,2,this.length);const Oe=this[z+1]|this[z]<<8;return Oe&32768?Oe|4294901760:Oe},a.prototype.readInt32LE=function(z,q){return z=z>>>0,q||qe(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},a.prototype.readInt32BE=function(z,q){return z=z>>>0,q||qe(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},a.prototype.readBigInt64LE=ur(function(z){z=z>>>0,Ze(z,"offset");const q=this[z],Oe=this[z+7];(q===void 0||Oe===void 0)&&bt(z,this.length-8);const st=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(Oe<<24);return(BigInt(st)<<BigInt(32))+BigInt(q+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),a.prototype.readBigInt64BE=ur(function(z){z=z>>>0,Ze(z,"offset");const q=this[z],Oe=this[z+7];(q===void 0||Oe===void 0)&&bt(z,this.length-8);const st=(q<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(st)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+Oe)}),a.prototype.readFloatLE=function(z,q){return z=z>>>0,q||qe(z,4,this.length),e.read(this,z,!0,23,4)},a.prototype.readFloatBE=function(z,q){return z=z>>>0,q||qe(z,4,this.length),e.read(this,z,!1,23,4)},a.prototype.readDoubleLE=function(z,q){return z=z>>>0,q||qe(z,8,this.length),e.read(this,z,!0,52,8)},a.prototype.readDoubleBE=function(z,q){return z=z>>>0,q||qe(z,8,this.length),e.read(this,z,!1,52,8)};function tt(be,z,q,Oe,st,ct){if(!a.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>st||z<ct)throw new RangeError('"value" argument is out of bounds');if(q+Oe>be.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(z,q,Oe,st){if(z=+z,q=q>>>0,Oe=Oe>>>0,!st){const Vn=Math.pow(2,8*Oe)-1;tt(this,z,q,Oe,Vn,0)}let ct=1,wt=0;for(this[q]=z&255;++wt<Oe&&(ct*=256);)this[q+wt]=z/ct&255;return q+Oe},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(z,q,Oe,st){if(z=+z,q=q>>>0,Oe=Oe>>>0,!st){const Vn=Math.pow(2,8*Oe)-1;tt(this,z,q,Oe,Vn,0)}let ct=Oe-1,wt=1;for(this[q+ct]=z&255;--ct>=0&&(wt*=256);)this[q+ct]=z/wt&255;return q+Oe},a.prototype.writeUint8=a.prototype.writeUInt8=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,1,255,0),this[q]=z&255,q+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,2,65535,0),this[q]=z&255,this[q+1]=z>>>8,q+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,2,65535,0),this[q]=z>>>8,this[q+1]=z&255,q+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,4,4294967295,0),this[q+3]=z>>>24,this[q+2]=z>>>16,this[q+1]=z>>>8,this[q]=z&255,q+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,4,4294967295,0),this[q]=z>>>24,this[q+1]=z>>>16,this[q+2]=z>>>8,this[q+3]=z&255,q+4};function Jt(be,z,q,Oe,st){Ve(z,Oe,st,be,q,7);let ct=Number(z&BigInt(4294967295));be[q++]=ct,ct=ct>>8,be[q++]=ct,ct=ct>>8,be[q++]=ct,ct=ct>>8,be[q++]=ct;let wt=Number(z>>BigInt(32)&BigInt(4294967295));return be[q++]=wt,wt=wt>>8,be[q++]=wt,wt=wt>>8,be[q++]=wt,wt=wt>>8,be[q++]=wt,q}function dt(be,z,q,Oe,st){Ve(z,Oe,st,be,q,7);let ct=Number(z&BigInt(4294967295));be[q+7]=ct,ct=ct>>8,be[q+6]=ct,ct=ct>>8,be[q+5]=ct,ct=ct>>8,be[q+4]=ct;let wt=Number(z>>BigInt(32)&BigInt(4294967295));return be[q+3]=wt,wt=wt>>8,be[q+2]=wt,wt=wt>>8,be[q+1]=wt,wt=wt>>8,be[q]=wt,q+8}a.prototype.writeBigUInt64LE=ur(function(z,q=0){return Jt(this,z,q,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ur(function(z,q=0){return dt(this,z,q,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(z,q,Oe,st){if(z=+z,q=q>>>0,!st){const qn=Math.pow(2,8*Oe-1);tt(this,z,q,Oe,qn-1,-qn)}let ct=0,wt=1,Vn=0;for(this[q]=z&255;++ct<Oe&&(wt*=256);)z<0&&Vn===0&&this[q+ct-1]!==0&&(Vn=1),this[q+ct]=(z/wt>>0)-Vn&255;return q+Oe},a.prototype.writeIntBE=function(z,q,Oe,st){if(z=+z,q=q>>>0,!st){const qn=Math.pow(2,8*Oe-1);tt(this,z,q,Oe,qn-1,-qn)}let ct=Oe-1,wt=1,Vn=0;for(this[q+ct]=z&255;--ct>=0&&(wt*=256);)z<0&&Vn===0&&this[q+ct+1]!==0&&(Vn=1),this[q+ct]=(z/wt>>0)-Vn&255;return q+Oe},a.prototype.writeInt8=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,1,127,-128),z<0&&(z=255+z+1),this[q]=z&255,q+1},a.prototype.writeInt16LE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,2,32767,-32768),this[q]=z&255,this[q+1]=z>>>8,q+2},a.prototype.writeInt16BE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,2,32767,-32768),this[q]=z>>>8,this[q+1]=z&255,q+2},a.prototype.writeInt32LE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,4,2147483647,-2147483648),this[q]=z&255,this[q+1]=z>>>8,this[q+2]=z>>>16,this[q+3]=z>>>24,q+4},a.prototype.writeInt32BE=function(z,q,Oe){return z=+z,q=q>>>0,Oe||tt(this,z,q,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[q]=z>>>24,this[q+1]=z>>>16,this[q+2]=z>>>8,this[q+3]=z&255,q+4},a.prototype.writeBigInt64LE=ur(function(z,q=0){return Jt(this,z,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ur(function(z,q=0){return dt(this,z,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ot(be,z,q,Oe,st,ct){if(q+Oe>be.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Et(be,z,q,Oe,st){return z=+z,q=q>>>0,st||ot(be,z,q,4),e.write(be,z,q,Oe,23,4),q+4}a.prototype.writeFloatLE=function(z,q,Oe){return Et(this,z,q,!0,Oe)},a.prototype.writeFloatBE=function(z,q,Oe){return Et(this,z,q,!1,Oe)};function Kt(be,z,q,Oe,st){return z=+z,q=q>>>0,st||ot(be,z,q,8),e.write(be,z,q,Oe,52,8),q+8}a.prototype.writeDoubleLE=function(z,q,Oe){return Kt(this,z,q,!0,Oe)},a.prototype.writeDoubleBE=function(z,q,Oe){return Kt(this,z,q,!1,Oe)},a.prototype.copy=function(z,q,Oe,st){if(!a.isBuffer(z))throw new TypeError("argument should be a Buffer");if(Oe||(Oe=0),!st&&st!==0&&(st=this.length),q>=z.length&&(q=z.length),q||(q=0),st>0&&st<Oe&&(st=Oe),st===Oe||z.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(Oe<0||Oe>=this.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("sourceEnd out of bounds");st>this.length&&(st=this.length),z.length-q<st-Oe&&(st=z.length-q+Oe);const ct=st-Oe;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(q,Oe,st):Uint8Array.prototype.set.call(z,this.subarray(Oe,st),q),ct},a.prototype.fill=function(z,q,Oe,st){if(typeof z=="string"){if(typeof q=="string"?(st=q,q=0,Oe=this.length):typeof Oe=="string"&&(st=Oe,Oe=this.length),st!==void 0&&typeof st!="string")throw new TypeError("encoding must be a string");if(typeof st=="string"&&!a.isEncoding(st))throw new TypeError("Unknown encoding: "+st);if(z.length===1){const wt=z.charCodeAt(0);(st==="utf8"&&wt<128||st==="latin1")&&(z=wt)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(q<0||this.length<q||this.length<Oe)throw new RangeError("Out of range index");if(Oe<=q)return this;q=q>>>0,Oe=Oe===void 0?this.length:Oe>>>0,z||(z=0);let ct;if(typeof z=="number")for(ct=q;ct<Oe;++ct)this[ct]=z;else{const wt=a.isBuffer(z)?z:a.from(z,st),Vn=wt.length;if(Vn===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(ct=0;ct<Oe-q;++ct)this[ct+q]=wt[ct%Vn]}return this};const xe={};function ce(be,z,q){xe[be]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${be}]`,this.stack,delete this.name}get code(){return be}set code(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}toString(){return`${this.name} [${be}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(be){return be?`${be} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(be,z){return`The "${be}" argument must be of type number. Received type ${typeof z}`},TypeError),ce("ERR_OUT_OF_RANGE",function(be,z,q){let Oe=`The value of "${be}" is out of range.`,st=q;return Number.isInteger(q)&&Math.abs(q)>2**32?st=_e(String(q)):typeof q=="bigint"&&(st=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(st=_e(st)),st+="n"),Oe+=` It must be ${z}. Received ${st}`,Oe},RangeError);function _e(be){let z="",q=be.length;const Oe=be[0]==="-"?1:0;for(;q>=Oe+4;q-=3)z=`_${be.slice(q-3,q)}${z}`;return`${be.slice(0,q)}${z}`}function Ke(be,z,q){Ze(z,"offset"),(be[z]===void 0||be[z+q]===void 0)&&bt(z,be.length-(q+1))}function Ve(be,z,q,Oe,st,ct){if(be>q||be<z){const wt=typeof z=="bigint"?"n":"";let Vn;throw ct>3?z===0||z===BigInt(0)?Vn=`>= 0${wt} and < 2${wt} ** ${(ct+1)*8}${wt}`:Vn=`>= -(2${wt} ** ${(ct+1)*8-1}${wt}) and < 2 ** ${(ct+1)*8-1}${wt}`:Vn=`>= ${z}${wt} and <= ${q}${wt}`,new xe.ERR_OUT_OF_RANGE("value",Vn,be)}Ke(Oe,st,ct)}function Ze(be,z){if(typeof be!="number")throw new xe.ERR_INVALID_ARG_TYPE(z,"number",be)}function bt(be,z,q){throw Math.floor(be)!==be?(Ze(be,q),new xe.ERR_OUT_OF_RANGE(q||"offset","an integer",be)):z<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${z}`,be)}const Gt=/[^+/0-9A-Za-z-_]/g;function Lt(be){if(be=be.split("=")[0],be=be.trim().replace(Gt,""),be.length<2)return"";for(;be.length%4!==0;)be=be+"=";return be}function Un(be,z){z=z||1/0;let q;const Oe=be.length;let st=null;const ct=[];for(let wt=0;wt<Oe;++wt){if(q=be.charCodeAt(wt),q>55295&&q<57344){if(!st){if(q>56319){(z-=3)>-1&&ct.push(239,191,189);continue}else if(wt+1===Oe){(z-=3)>-1&&ct.push(239,191,189);continue}st=q;continue}if(q<56320){(z-=3)>-1&&ct.push(239,191,189),st=q;continue}q=(st-55296<<10|q-56320)+65536}else st&&(z-=3)>-1&&ct.push(239,191,189);if(st=null,q<128){if((z-=1)<0)break;ct.push(q)}else if(q<2048){if((z-=2)<0)break;ct.push(q>>6|192,q&63|128)}else if(q<65536){if((z-=3)<0)break;ct.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((z-=4)<0)break;ct.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return ct}function rr(be){const z=[];for(let q=0;q<be.length;++q)z.push(be.charCodeAt(q)&255);return z}function qt(be,z){let q,Oe,st;const ct=[];for(let wt=0;wt<be.length&&!((z-=2)<0);++wt)q=be.charCodeAt(wt),Oe=q>>8,st=q%256,ct.push(st),ct.push(Oe);return ct}function $n(be){return n.toByteArray(Lt(be))}function lr(be,z,q,Oe){let st;for(st=0;st<Oe&&!(st+q>=z.length||st>=be.length);++st)z[st+q]=be[st];return st}function gr(be,z){return be instanceof z||be!=null&&be.constructor!=null&&be.constructor.name!=null&&be.constructor.name===z.name}function Mr(be){return be!==be}const Dr=function(){const be="0123456789abcdef",z=new Array(256);for(let q=0;q<16;++q){const Oe=q*16;for(let st=0;st<16;++st)z[Oe+st]=be[q]+be[st]}return z}();function ur(be){return typeof BigInt>"u"?yi:be}function yi(){throw new Error("BigInt not supported")}})(YD);const Vq=Qo(YD);var Hq="Expected a function",VD="__lodash_hash_undefined__",HD=1/0,Zq="[object Function]",Xq="[object GeneratorFunction]",Jq="[object Symbol]",eV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tV=/^\w*$/,nV=/^\./,rV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iV=/[\\^$.*+?()[\]{}|]/g,oV=/\\(\\)?/g,aV=/^\[object .+?Constructor\]$/,sV=typeof window=="object"&&window&&window.Object===Object&&window,lV=typeof self=="object"&&self&&self.Object===Object&&self,KO=sV||lV||Function("return this")();function uV(t,n){return t==null?void 0:t[n]}function AV(t){var n=!1;if(t!=null&&typeof t.toString!="function")try{n=!!(t+"")}catch{}return n}var cV=Array.prototype,dV=Function.prototype,ZD=Object.prototype,gw=KO["__core-js_shared__"],HI=function(){var t=/[^.]+$/.exec(gw&&gw.keys&&gw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),XD=dV.toString,PO=ZD.hasOwnProperty,JD=ZD.toString,hV=RegExp("^"+XD.call(PO).replace(iV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ZI=KO.Symbol,fV=cV.splice,pV=eF(KO,"Map"),KC=eF(Object,"create"),XI=ZI?ZI.prototype:void 0,JI=XI?XI.toString:void 0;function X0(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function mV(){this.__data__=KC?KC(null):{}}function gV(t){return this.has(t)&&delete this.__data__[t]}function yV(t){var n=this.__data__;if(KC){var e=n[t];return e===VD?void 0:e}return PO.call(n,t)?n[t]:void 0}function vV(t){var n=this.__data__;return KC?n[t]!==void 0:PO.call(n,t)}function CV(t,n){var e=this.__data__;return e[t]=KC&&n===void 0?VD:n,this}X0.prototype.clear=mV;X0.prototype.delete=gV;X0.prototype.get=yV;X0.prototype.has=vV;X0.prototype.set=CV;function _y(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function _V(){this.__data__=[]}function bV(t){var n=this.__data__,e=p4(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():fV.call(n,e,1),!0}function xV(t){var n=this.__data__,e=p4(n,t);return e<0?void 0:n[e][1]}function wV(t){return p4(this.__data__,t)>-1}function MV(t,n){var e=this.__data__,r=p4(e,t);return r<0?e.push([t,n]):e[r][1]=n,this}_y.prototype.clear=_V;_y.prototype.delete=bV;_y.prototype.get=xV;_y.prototype.has=wV;_y.prototype.set=MV;function l1(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function SV(){this.__data__={hash:new X0,map:new(pV||_y),string:new X0}}function EV(t){return m4(this,t).delete(t)}function OV(t){return m4(this,t).get(t)}function BV(t){return m4(this,t).has(t)}function IV(t,n){return m4(this,t).set(t,n),this}l1.prototype.clear=SV;l1.prototype.delete=EV;l1.prototype.get=OV;l1.prototype.has=BV;l1.prototype.set=IV;function p4(t,n){for(var e=t.length;e--;)if(jV(t[e][0],n))return e;return-1}function kV(t,n){n=UV(n,t)?[n]:PV(n);for(var e=0,r=n.length;t!=null&&e<r;)t=t[RV(n[e++])];return e&&e==r?t:void 0}function TV(t){if(!nF(t)||FV(t))return!1;var n=WV(t)||AV(t)?hV:aV;return n.test(zV(t))}function KV(t){if(typeof t=="string")return t;if(DO(t))return JI?JI.call(t):"";var n=t+"";return n=="0"&&1/t==-HD?"-0":n}function PV(t){return tF(t)?t:LV(t)}function m4(t,n){var e=t.__data__;return DV(n)?e[typeof n=="string"?"string":"hash"]:e.map}function eF(t,n){var e=uV(t,n);return TV(e)?e:void 0}function UV(t,n){if(tF(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||DO(t)?!0:tV.test(t)||!eV.test(t)||n!=null&&t in Object(n)}function DV(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function FV(t){return!!HI&&HI in t}var LV=UO(function(t){t=GV(t);var n=[];return nV.test(t)&&n.push(""),t.replace(rV,function(e,r,i,o){n.push(i?o.replace(oV,"$1"):r||e)}),n});function RV(t){if(typeof t=="string"||DO(t))return t;var n=t+"";return n=="0"&&1/t==-HD?"-0":n}function zV(t){if(t!=null){try{return XD.call(t)}catch{}try{return t+""}catch{}}return""}function UO(t,n){if(typeof t!="function"||n&&typeof n!="function")throw new TypeError(Hq);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return e.cache=o.set(i,s),s};return e.cache=new(UO.Cache||l1),e}UO.Cache=l1;function jV(t,n){return t===n||t!==t&&n!==n}var tF=Array.isArray;function WV(t){var n=nF(t)?JD.call(t):"";return n==Zq||n==Xq}function nF(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function NV(t){return!!t&&typeof t=="object"}function DO(t){return typeof t=="symbol"||NV(t)&&JD.call(t)==Jq}function GV(t){return t==null?"":KV(t)}function QV(t,n,e){var r=t==null?void 0:kV(t,n);return r===void 0?e:r}var $V=QV;const YV=Qo($V);var O2={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */O2.exports;(function(t,n){(function(){var e,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",g=500,x="__lodash_placeholder__",I=1,B=2,D=4,L=1,V=2,W=1,j=2,G=4,ee=8,re=16,se=32,oe=64,ue=128,me=256,De=512,Re=30,et="...",ht=800,ke=16,Je=1,ve=2,ft=3,Ft=1/0,tn=9007199254740991,St=17976931348623157e292,Ne=NaN,qe=4294967295,tt=qe-1,Jt=qe>>>1,dt=[["ary",ue],["bind",W],["bindKey",j],["curry",ee],["curryRight",re],["flip",De],["partial",se],["partialRight",oe],["rearg",me]],ot="[object Arguments]",Et="[object Array]",Kt="[object AsyncFunction]",xe="[object Boolean]",ce="[object Date]",_e="[object DOMException]",Ke="[object Error]",Ve="[object Function]",Ze="[object GeneratorFunction]",bt="[object Map]",Gt="[object Number]",Lt="[object Null]",Un="[object Object]",rr="[object Promise]",qt="[object Proxy]",$n="[object RegExp]",lr="[object Set]",gr="[object String]",Mr="[object Symbol]",Dr="[object Undefined]",ur="[object WeakMap]",yi="[object WeakSet]",be="[object ArrayBuffer]",z="[object DataView]",q="[object Float32Array]",Oe="[object Float64Array]",st="[object Int8Array]",ct="[object Int16Array]",wt="[object Int32Array]",Vn="[object Uint8Array]",qn="[object Uint8ClampedArray]",Qr="[object Uint16Array]",It="[object Uint32Array]",p=/\b__p \+= '';/g,Pt=/\b(__p \+=) '' \+/g,yr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jn=/&(?:amp|lt|gt|quot|#39);/g,un=/[&<>"']/g,pr=RegExp(Jn.source),Zr=RegExp(un.source),ki=/<%-([\s\S]+?)%>/g,Ai=/<%([\s\S]+?)%>/g,Fr=/<%=([\s\S]+?)%>/g,Wr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zi=/^\w*$/,Wi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,da=/[\\^$.*+?()[\]{}|]/g,zo=RegExp(da.source),os=/^\s+/,_a=/\s/,Pe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,he=/,? & /,Ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Te=/[()=,{}\[\]\/\s]/,Qe=/\\(\\)?/g,rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xe=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,Tt=/^\[object .+?Constructor\]$/,nn=/^0o[0-7]+$/i,Dt=/^(?:0|[1-9]\d*)$/,wn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,xn=/['\n\r\u2028\u2029\\]/g,Zn="\\ud800-\\udfff",Cr="\\u0300-\\u036f",qr="\\ufe20-\\ufe2f",In="\\u20d0-\\u20ff",dn=Cr+qr+In,Lr="\\u2700-\\u27bf",Xr="a-z\\xdf-\\xf6\\xf8-\\xff",Oi="\\xac\\xb1\\xd7\\xf7",ge="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",je="\\u2000-\\u206f",Yt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hn="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Cn=Oi+ge+je+Yt,ti="[']",Ni="["+Zn+"]",Xi="["+Cn+"]",ba="["+dn+"]",Mu="\\d+",kr="["+Lr+"]",Ns="["+Xr+"]",bl="[^"+Zn+Cn+Mu+Lr+Xr+hn+"]",Gs="\\ud83c[\\udffb-\\udfff]",Qs="(?:"+ba+"|"+Gs+")",xl="[^"+Zn+"]",Is="(?:\\ud83c[\\udde6-\\uddff]){2}",Ho="[\\ud800-\\udbff][\\udc00-\\udfff]",xa="["+hn+"]",ks="\\u200d",wl="(?:"+Ns+"|"+bl+")",$s="(?:"+xa+"|"+bl+")",Su="(?:"+ti+"(?:d|ll|m|re|s|t|ve))?",uu="(?:"+ti+"(?:D|LL|M|RE|S|T|VE))?",po=Qs+"?",Eu="["+Ct+"]?",tc="(?:"+ks+"(?:"+[xl,Is,Ho].join("|")+")"+Eu+po+")*",qa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ts="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ou=Eu+po+tc,Zu="(?:"+[kr,Is,Ho].join("|")+")"+Ou,Bu="(?:"+[xl+ba+"?",ba,Is,Ho,Ni].join("|")+")",zl=RegExp(ti,"g"),nc=RegExp(ba,"g"),Iu=RegExp(Gs+"(?="+Gs+")|"+Bu+Ou,"g"),Xu=RegExp([xa+"?"+Ns+"+"+Su+"(?="+[Xi,xa,"$"].join("|")+")",$s+"+"+uu+"(?="+[Xi,xa+wl,"$"].join("|")+")",xa+"?"+wl+"+"+Su,xa+"+"+uu,Ts,qa,Mu,Zu].join("|"),"g"),MA=RegExp("["+ks+Zn+dn+Ct+"]"),ai=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SA=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rc=-1,no={};no[q]=no[Oe]=no[st]=no[ct]=no[wt]=no[Vn]=no[qn]=no[Qr]=no[It]=!0,no[ot]=no[Et]=no[be]=no[xe]=no[z]=no[ce]=no[Ke]=no[Ve]=no[bt]=no[Gt]=no[Un]=no[$n]=no[lr]=no[gr]=no[ur]=!1;var Ji={};Ji[ot]=Ji[Et]=Ji[be]=Ji[z]=Ji[xe]=Ji[ce]=Ji[q]=Ji[Oe]=Ji[st]=Ji[ct]=Ji[wt]=Ji[bt]=Ji[Gt]=Ji[Un]=Ji[$n]=Ji[lr]=Ji[gr]=Ji[Mr]=Ji[Vn]=Ji[qn]=Ji[Qr]=Ji[It]=!0,Ji[Ke]=Ji[Ve]=Ji[ur]=!1;var ne={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vr=parseFloat,_r=parseInt,Bi=typeof window=="object"&&window&&window.Object===Object&&window,Ti=typeof self=="object"&&self&&self.Object===Object&&self,Hr=Bi||Ti||Function("return this")(),$i=n&&!n.nodeType&&n,Ko=$i&&!0&&t&&!t.nodeType&&t,Ta=Ko&&Ko.exports===$i,$o=Ta&&Bi.process,vi=function(){try{var gt=Ko&&Ko.require&&Ko.require("util").types;return gt||$o&&$o.binding&&$o.binding("util")}catch{}}(),ha=vi&&vi.isArrayBuffer,Va=vi&&vi.isDate,Ys=vi&&vi.isMap,jl=vi&&vi.isRegExp,ku=vi&&vi.isSet,ic=vi&&vi.isTypedArray;function Ka(gt,on,Rt){switch(Rt.length){case 0:return gt.call(on);case 1:return gt.call(on,Rt[0]);case 2:return gt.call(on,Rt[0],Rt[1]);case 3:return gt.call(on,Rt[0],Rt[1],Rt[2])}return gt.apply(on,Rt)}function lh(gt,on,Rt,Ar){for(var Nr=-1,Gi=gt==null?0:gt.length;++Nr<Gi;){var fa=gt[Nr];on(Ar,fa,Rt(fa),gt)}return Ar}function Al(gt,on){for(var Rt=-1,Ar=gt==null?0:gt.length;++Rt<Ar&&on(gt[Rt],Rt,gt)!==!1;);return gt}function uh(gt,on){for(var Rt=gt==null?0:gt.length;Rt--&&on(gt[Rt],Rt,gt)!==!1;);return gt}function EA(gt,on){for(var Rt=-1,Ar=gt==null?0:gt.length;++Rt<Ar;)if(!on(gt[Rt],Rt,gt))return!1;return!0}function Ju(gt,on){for(var Rt=-1,Ar=gt==null?0:gt.length,Nr=0,Gi=[];++Rt<Ar;){var fa=gt[Rt];on(fa,Rt,gt)&&(Gi[Nr++]=fa)}return Gi}function Id(gt,on){var Rt=gt==null?0:gt.length;return!!Rt&&xo(gt,on,0)>-1}function zc(gt,on,Rt){for(var Ar=-1,Nr=gt==null?0:gt.length;++Ar<Nr;)if(Rt(on,gt[Ar]))return!0;return!1}function vo(gt,on){for(var Rt=-1,Ar=gt==null?0:gt.length,Nr=Array(Ar);++Rt<Ar;)Nr[Rt]=on(gt[Rt],Rt,gt);return Nr}function Tu(gt,on){for(var Rt=-1,Ar=on.length,Nr=gt.length;++Rt<Ar;)gt[Nr+Rt]=on[Rt];return gt}function OA(gt,on,Rt,Ar){var Nr=-1,Gi=gt==null?0:gt.length;for(Ar&&Gi&&(Rt=gt[++Nr]);++Nr<Gi;)Rt=on(Rt,gt[Nr],Nr,gt);return Rt}function Po(gt,on,Rt,Ar){var Nr=gt==null?0:gt.length;for(Ar&&Nr&&(Rt=gt[--Nr]);Nr--;)Rt=on(Rt,gt[Nr],Nr,gt);return Rt}function oc(gt,on){for(var Rt=-1,Ar=gt==null?0:gt.length;++Rt<Ar;)if(on(gt[Rt],Rt,gt))return!0;return!1}var ci=uf("length");function so(gt){return gt.split("")}function Uo(gt){return gt.match(Ee)||[]}function jo(gt,on,Rt){var Ar;return Rt(gt,function(Nr,Gi,fa){if(on(Nr,Gi,fa))return Ar=Gi,!1}),Ar}function Wl(gt,on,Rt,Ar){for(var Nr=gt.length,Gi=Rt+(Ar?1:-1);Ar?Gi--:++Gi<Nr;)if(on(gt[Gi],Gi,gt))return Gi;return-1}function xo(gt,on,Rt){return on===on?cf(gt,on,Rt):Wl(gt,lf,Rt)}function Wm(gt,on,Rt,Ar){for(var Nr=Rt-1,Gi=gt.length;++Nr<Gi;)if(Ar(gt[Nr],on))return Nr;return-1}function lf(gt){return gt!==gt}function ac(gt,on){var Rt=gt==null?0:gt.length;return Rt?BA(gt,on)/Rt:Ne}function uf(gt){return function(on){return on==null?e:on[gt]}}function sc(gt){return function(on){return gt==null?e:gt[on]}}function jc(gt,on,Rt,Ar,Nr){return Nr(gt,function(Gi,fa,Oo){Rt=Ar?(Ar=!1,Gi):on(Rt,Gi,fa,Oo)}),Rt}function lc(gt,on){var Rt=gt.length;for(gt.sort(on);Rt--;)gt[Rt]=gt[Rt].value;return gt}function BA(gt,on){for(var Rt,Ar=-1,Nr=gt.length;++Ar<Nr;){var Gi=on(gt[Ar]);Gi!==e&&(Rt=Rt===e?Gi:Rt+Gi)}return Rt}function kd(gt,on){for(var Rt=-1,Ar=Array(gt);++Rt<gt;)Ar[Rt]=on(Rt);return Ar}function yp(gt,on){return vo(on,function(Rt){return[Rt,gt[Rt]]})}function Wc(gt){return gt&&gt.slice(0,Ah(gt)+1).replace(os,"")}function ps(gt){return function(on){return gt(on)}}function Ml(gt,on){return vo(on,function(Rt){return gt[Rt]})}function Ku(gt,on){return gt.has(on)}function Nl(gt,on){for(var Rt=-1,Ar=gt.length;++Rt<Ar&&xo(on,gt[Rt],0)>-1;);return Rt}function Nc(gt,on){for(var Rt=gt.length;Rt--&&xo(on,gt[Rt],0)>-1;);return Rt}function eA(gt,on){for(var Rt=gt.length,Ar=0;Rt--;)gt[Rt]===on&&++Ar;return Ar}var Gc=sc(ne),qs=sc(Ie);function uc(gt){return"\\"+en[gt]}function Qc(gt,on){return gt==null?e:gt[on]}function Ac(gt){return MA.test(gt)}function Af(gt){return ai.test(gt)}function Td(gt){for(var on,Rt=[];!(on=gt.next()).done;)Rt.push(on.value);return Rt}function $c(gt){var on=-1,Rt=Array(gt.size);return gt.forEach(function(Ar,Nr){Rt[++on]=[Nr,Ar]}),Rt}function cc(gt,on){return function(Rt){return gt(on(Rt))}}function ms(gt,on){for(var Rt=-1,Ar=gt.length,Nr=0,Gi=[];++Rt<Ar;){var fa=gt[Rt];(fa===on||fa===x)&&(gt[Rt]=x,Gi[Nr++]=Rt)}return Gi}function as(gt){var on=-1,Rt=Array(gt.size);return gt.forEach(function(Ar){Rt[++on]=Ar}),Rt}function Yc(gt){var on=-1,Rt=Array(gt.size);return gt.forEach(function(Ar){Rt[++on]=[Ar,Ar]}),Rt}function cf(gt,on,Rt){for(var Ar=Rt-1,Nr=gt.length;++Ar<Nr;)if(gt[Ar]===on)return Ar;return-1}function Kd(gt,on,Rt){for(var Ar=Rt+1;Ar--;)if(gt[Ar]===on)return Ar;return Ar}function dc(gt){return Ac(gt)?qc(gt):ci(gt)}function Gl(gt){return Ac(gt)?Vc(gt):so(gt)}function Ah(gt){for(var on=gt.length;on--&&_a.test(gt.charAt(on)););return on}var hc=sc(lt);function qc(gt){for(var on=Iu.lastIndex=0;Iu.test(gt);)++on;return on}function Vc(gt){return gt.match(Iu)||[]}function Hc(gt){return gt.match(Xu)||[]}var Vs=function gt(on){on=on==null?Hr:Sl.defaults(Hr.Object(),on,Sl.pick(Hr,SA));var Rt=on.Array,Ar=on.Date,Nr=on.Error,Gi=on.Function,fa=on.Math,Oo=on.Object,Pd=on.RegExp,ch=on.String,Ks=on.TypeError,Ql=Rt.prototype,Gn=Gi.prototype,$l=Oo.prototype,Hs=on["__core-js_shared__"],El=Gn.toString,lo=$l.hasOwnProperty,jn=0,fc=function(){var y=/[^.]+$/.exec(Hs&&Hs.keys&&Hs.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Pu=$l.toString,tA=El.call(Oo),gs=Hr._,nA=Pd("^"+El.call(lo).replace(da,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yl=Ta?on.Buffer:e,Au=on.Symbol,Ud=on.Uint8Array,Dd=Yl?Yl.allocUnsafe:e,Uu=cc(Oo.getPrototypeOf,Oo),Fd=Oo.create,Zc=$l.propertyIsEnumerable,Pa=Ql.splice,rA=Au?Au.isConcatSpreadable:e,IA=Au?Au.iterator:e,Ol=Au?Au.toStringTag:e,kA=function(){try{var y=_c(Oo,"defineProperty");return y({},"",{}),y}catch{}}(),pc=on.clearTimeout!==Hr.clearTimeout&&on.clearTimeout,mc=Ar&&Ar.now!==Hr.Date.now&&Ar.now,Zs=on.setTimeout!==Hr.setTimeout&&on.setTimeout,wo=fa.ceil,cu=fa.floor,Xc=Oo.getOwnPropertySymbols,vp=Yl?Yl.isBuffer:e,df=on.isFinite,dh=Ql.join,hf=cc(Oo.keys,Oo),uo=fa.max,Zo=fa.min,mr=Ar.now,Br=on.parseInt,TA=fa.random,gc=Ql.reverse,du=_c(on,"DataView"),Do=_c(on,"Map"),cl=_c(on,"Promise"),wa=_c(on,"Set"),Du=_c(on,"WeakMap"),ys=_c(Oo,"create"),Wo=Du&&new Du,No={},hh=Ra(du),yc=Ra(Do),M=Ra(cl),u=Ra(wa),m=Ra(Du),_=Au?Au.prototype:e,E=_?_.valueOf:e,K=_?_.toString:e;function T(y){if(Go(y)&&!Rr(y)&&!(y instanceof Ae)){if(y instanceof te)return y;if(lo.call(y,"__wrapped__"))return ls(y)}return new te(y)}var $=function(){function y(){}return function(w){if(!co(w))return{};if(Fd)return Fd(w);y.prototype=w;var U=new y;return y.prototype=e,U}}();function H(){}function te(y,w){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=e}T.templateSettings={escape:ki,evaluate:Ai,interpolate:Fr,variable:"",imports:{_:T}},T.prototype=H.prototype,T.prototype.constructor=T,te.prototype=$(H.prototype),te.prototype.constructor=te;function Ae(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qe,this.__views__=[]}function ye(){var y=new Ae(this.__wrapped__);return y.__actions__=Bl(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Bl(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Bl(this.__views__),y}function Me(){if(this.__filtered__){var y=new Ae(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function We(){var y=this.__wrapped__.value(),w=this.__dir__,U=Rr(y),Z=w<0,Ce=U?y.length:0,Ue=Gy(0,Ce,this.__views__),it=Ue.start,pt=Ue.end,Ot=pt-it,pn=Z?pt:it-1,mn=this.__iteratees__,bn=mn.length,dr=0,Gr=Zo(Ot,this.__takeCount__);if(!U||!Z&&Ce==Ot&&Gr==Ot)return bf(y,this.__actions__);var di=[];e:for(;Ot--&&dr<Gr;){pn+=w;for(var ro=-1,hi=y[pn];++ro<bn;){var yo=mn[ro],So=yo.iteratee,Sc=yo.type,gA=So(hi);if(Sc==ve)hi=gA;else if(!gA){if(Sc==Je)continue e;break e}}di[dr++]=hi}return di}Ae.prototype=$(H.prototype),Ae.prototype.constructor=Ae;function Fe(y){var w=-1,U=y==null?0:y.length;for(this.clear();++w<U;){var Z=y[w];this.set(Z[0],Z[1])}}function ze(){this.__data__=ys?ys(null):{},this.size=0}function At(y){var w=this.has(y)&&delete this.__data__[y];return this.size-=w?1:0,w}function yt(y){var w=this.__data__;if(ys){var U=w[y];return U===f?e:U}return lo.call(w,y)?w[y]:e}function Mt(y){var w=this.__data__;return ys?w[y]!==e:lo.call(w,y)}function Ye(y,w){var U=this.__data__;return this.size+=this.has(y)?0:1,U[y]=ys&&w===e?f:w,this}Fe.prototype.clear=ze,Fe.prototype.delete=At,Fe.prototype.get=yt,Fe.prototype.has=Mt,Fe.prototype.set=Ye;function Bt(y){var w=-1,U=y==null?0:y.length;for(this.clear();++w<U;){var Z=y[w];this.set(Z[0],Z[1])}}function kt(){this.__data__=[],this.size=0}function Ht(y){var w=this.__data__,U=li(w,y);if(U<0)return!1;var Z=w.length-1;return U==Z?w.pop():Pa.call(w,U,1),--this.size,!0}function Zt(y){var w=this.__data__,U=li(w,y);return U<0?e:w[U][1]}function fn(y){return li(this.__data__,y)>-1}function Qt(y,w){var U=this.__data__,Z=li(U,y);return Z<0?(++this.size,U.push([y,w])):U[Z][1]=w,this}Bt.prototype.clear=kt,Bt.prototype.delete=Ht,Bt.prototype.get=Zt,Bt.prototype.has=fn,Bt.prototype.set=Qt;function Mn(y){var w=-1,U=y==null?0:y.length;for(this.clear();++w<U;){var Z=y[w];this.set(Z[0],Z[1])}}function kn(){this.size=0,this.__data__={hash:new Fe,map:new(Do||Bt),string:new Fe}}function Qn(y){var w=Nd(this,y).delete(y);return this.size-=w?1:0,w}function ii(y){return Nd(this,y).get(y)}function si(y){return Nd(this,y).has(y)}function cr(y,w){var U=Nd(this,y),Z=U.size;return U.set(y,w),this.size+=U.size==Z?0:1,this}Mn.prototype.clear=kn,Mn.prototype.delete=Qn,Mn.prototype.get=ii,Mn.prototype.has=si,Mn.prototype.set=cr;function Li(y){var w=-1,U=y==null?0:y.length;for(this.__data__=new Mn;++w<U;)this.add(y[w])}function mo(y){return this.__data__.set(y,f),this}function Ri(y){return this.__data__.has(y)}Li.prototype.add=Li.prototype.push=mo,Li.prototype.has=Ri;function Tr(y){var w=this.__data__=new Bt(y);this.size=w.size}function Sr(){this.__data__=new Bt,this.size=0}function Bo(y){var w=this.__data__,U=w.delete(y);return this.size=w.size,U}function vs(y){return this.__data__.get(y)}function ss(y){return this.__data__.has(y)}function hu(y,w){var U=this.__data__;if(U instanceof Bt){var Z=U.__data__;if(!Do||Z.length<i-1)return Z.push([y,w]),this.size=++U.size,this;U=this.__data__=new Mn(Z)}return U.set(y,w),this.size=U.size,this}Tr.prototype.clear=Sr,Tr.prototype.delete=Bo,Tr.prototype.get=vs,Tr.prototype.has=ss,Tr.prototype.set=hu;function fu(y,w){var U=Rr(y),Z=!U&&ja(y),Ce=!U&&!Z&&aa(y),Ue=!U&&!Z&&!Ce&&Wp(y),it=U||Z||Ce||Ue,pt=it?kd(y.length,ch):[],Ot=pt.length;for(var pn in y)(w||lo.call(y,pn))&&!(it&&(pn=="length"||Ce&&(pn=="offset"||pn=="parent")||Ue&&(pn=="buffer"||pn=="byteLength"||pn=="byteOffset")||b(pn,Ot)))&&pt.push(pn);return pt}function dl(y){var w=y.length;return w?y[vf(0,w-1)]:e}function hl(y,w){return La(Bl(y),Xs(w,0,y.length))}function pu(y){return La(Bl(y))}function Fu(y,w,U){(U!==e&&!oa(y[w],U)||U===e&&!(w in y))&&Ao(y,w,U)}function Xo(y,w,U){var Z=y[w];(!(lo.call(y,w)&&oa(Z,U))||U===e&&!(w in y))&&Ao(y,w,U)}function li(y,w){for(var U=y.length;U--;)if(oa(y[U][0],w))return U;return-1}function Ki(y,w,U,Z){return _s(y,function(Ce,Ue,it){w(Z,Ce,U(Ce),it)}),Z}function Ua(y,w){return y&&Il(w,eu(w),y)}function Ha(y,w){return y&&Il(w,NA(w),y)}function Ao(y,w,U){w=="__proto__"&&kA?kA(y,w,{configurable:!0,enumerable:!0,value:U,writable:!0}):y[w]=U}function Cs(y,w){for(var U=-1,Z=w.length,Ce=Rt(Z),Ue=y==null;++U<Z;)Ce[U]=Ue?e:G5(y,w[U]);return Ce}function Xs(y,w,U){return y===y&&(U!==e&&(y=y<=U?y:U),w!==e&&(y=y>=w?y:w)),y}function Js(y,w,U,Z,Ce,Ue){var it,pt=w&I,Ot=w&B,pn=w&D;if(U&&(it=Ce?U(y,Z,Ce,Ue):U(y)),it!==e)return it;if(!co(y))return y;var mn=Rr(y);if(mn){if(it=Qy(y),!pt)return Bl(y,it)}else{var bn=ws(y),dr=bn==Ve||bn==Ze;if(aa(y))return Sp(y,pt);if(bn==Un||bn==ot||dr&&!Ce){if(it=Ot||dr?{}:Sh(y),!pt)return Ot?Jm(y,Ha(it,y)):M1(y,Ua(it,y))}else{if(!Ji[bn])return Ce?y:{};it=Fa(y,bn,pt)}}Ue||(Ue=new Tr);var Gr=Ue.get(y);if(Gr)return Gr;Ue.set(y,it),Eb(y)?y.forEach(function(hi){it.add(Js(hi,w,U,hi,y,Ue))}):zp(y)&&y.forEach(function(hi,yo){it.set(yo,Js(hi,w,U,yo,y,Ue))});var di=pn?Ot?Fp:Dp:Ot?NA:eu,ro=mn?e:di(y);return Al(ro||y,function(hi,yo){ro&&(yo=hi,hi=y[yo]),Xo(it,yo,Js(hi,w,U,yo,y,Ue))}),it}function Jc(y){var w=eu(y);return function(U){return fh(U,y,w)}}function fh(y,w,U){var Z=U.length;if(y==null)return!Z;for(y=Oo(y);Z--;){var Ce=U[Z],Ue=w[Ce],it=y[Ce];if(it===e&&!(Ce in y)||!Ue(it))return!1}return!0}function ph(y,w,U){if(typeof y!="function")throw new Ks(s);return br(function(){y.apply(e,U)},w)}function ql(y,w,U,Z){var Ce=-1,Ue=Id,it=!0,pt=y.length,Ot=[],pn=w.length;if(!pt)return Ot;U&&(w=vo(w,ps(U))),Z?(Ue=zc,it=!1):w.length>=i&&(Ue=Ku,it=!1,w=new Li(w));e:for(;++Ce<pt;){var mn=y[Ce],bn=U==null?mn:U(mn);if(mn=Z||mn!==0?mn:0,it&&bn===bn){for(var dr=pn;dr--;)if(w[dr]===bn)continue e;Ot.push(mn)}else Ue(w,bn,Z)||Ot.push(mn)}return Ot}var _s=sd(Da),iA=sd(sA,!0);function mh(y,w){var U=!0;return _s(y,function(Z,Ce,Ue){return U=!!w(Z,Ce,Ue),U}),U}function ff(y,w,U){for(var Z=-1,Ce=y.length;++Z<Ce;){var Ue=y[Z],it=w(Ue);if(it!=null&&(pt===e?it===it&&!pA(it):U(it,pt)))var pt=it,Ot=Ue}return Ot}function v1(y,w,U,Z){var Ce=y.length;for(U=bi(U),U<0&&(U=-U>Ce?0:Ce+U),Z=Z===e||Z>Ce?Ce:bi(Z),Z<0&&(Z+=Ce),Z=U>Z?0:Np(Z);U<Z;)y[U++]=w;return y}function vc(y,w){var U=[];return _s(y,function(Z,Ce,Ue){w(Z,Ce,Ue)&&U.push(Z)}),U}function Ma(y,w,U,Z,Ce){var Ue=-1,it=y.length;for(U||(U=h),Ce||(Ce=[]);++Ue<it;){var pt=y[Ue];w>0&&U(pt)?w>1?Ma(pt,w-1,U,Z,Ce):Tu(Ce,pt):Z||(Ce[Ce.length]=pt)}return Ce}var oA=Bp(),aA=Bp(!0);function Da(y,w){return y&&oA(y,w,eu)}function sA(y,w){return y&&aA(y,w,eu)}function pf(y,w){return Ju(w,function(U){return Tl(y[U])})}function Vl(y,w){w=gu(w,y);for(var U=0,Z=w.length;y!=null&&U<Z;)y=y[ra(w[U++])];return U&&U==Z?y:e}function Ps(y,w,U){var Z=w(y);return Rr(y)?Z:Tu(Z,U(y))}function bs(y){return y==null?y===e?Dr:Lt:Ol&&Ol in Oo(y)?B1(y):An(y)}function pa(y,w){return y>w}function Cp(y,w){return y!=null&&lo.call(y,w)}function Nm(y,w){return y!=null&&w in Oo(y)}function Lu(y,w,U){return y>=Zo(w,U)&&y<uo(w,U)}function Ru(y,w,U){for(var Z=U?zc:Id,Ce=y[0].length,Ue=y.length,it=Ue,pt=Rt(Ue),Ot=1/0,pn=[];it--;){var mn=y[it];it&&w&&(mn=vo(mn,ps(w))),Ot=Zo(mn.length,Ot),pt[it]=!U&&(w||Ce>=120&&mn.length>=120)?new Li(it&&mn):e}mn=y[0];var bn=-1,dr=pt[0];e:for(;++bn<Ce&&pn.length<Ot;){var Gr=mn[bn],di=w?w(Gr):Gr;if(Gr=U||Gr!==0?Gr:0,!(dr?Ku(dr,di):Z(pn,di,U))){for(it=Ue;--it;){var ro=pt[it];if(!(ro?Ku(ro,di):Z(y[it],di,U)))continue e}dr&&dr.push(di),pn.push(Gr)}}return pn}function mf(y,w,U,Z){return Da(y,function(Ce,Ue,it){w(Z,U(Ce),Ue,it)}),Z}function ed(y,w,U){w=gu(w,y),y=Dn(y,w);var Z=y==null?y:y[ra(AA(w))];return Z==null?e:Ka(Z,y,U)}function _p(y){return Go(y)&&bs(y)==ot}function gh(y){return Go(y)&&bs(y)==be}function Gm(y){return Go(y)&&bs(y)==ce}function td(y,w,U,Z,Ce){return y===w?!0:y==null||w==null||!Go(y)&&!Go(w)?y!==y&&w!==w:bp(y,w,U,Z,td,Ce)}function bp(y,w,U,Z,Ce,Ue){var it=Rr(y),pt=Rr(w),Ot=it?Et:ws(y),pn=pt?Et:ws(w);Ot=Ot==ot?Un:Ot,pn=pn==ot?Un:pn;var mn=Ot==Un,bn=pn==Un,dr=Ot==pn;if(dr&&aa(y)){if(!aa(w))return!1;it=!0,mn=!1}if(dr&&!mn)return Ue||(Ue=new Tr),it||Wp(y)?Wu(y,w,U,Z,Ce,Ue):Ad(y,w,Ot,U,Z,Ce,Ue);if(!(U&L)){var Gr=mn&&lo.call(y,"__wrapped__"),di=bn&&lo.call(w,"__wrapped__");if(Gr||di){var ro=Gr?y.value():y,hi=di?w.value():w;return Ue||(Ue=new Tr),Ce(ro,hi,U,Z,Ue)}}return dr?(Ue||(Ue=new Tr),Up(y,w,U,Z,Ce,Ue)):!1}function gf(y){return Go(y)&&ws(y)==bt}function yf(y,w,U,Z){var Ce=U.length,Ue=Ce,it=!Z;if(y==null)return!Ue;for(y=Oo(y);Ce--;){var pt=U[Ce];if(it&&pt[2]?pt[1]!==y[pt[0]]:!(pt[0]in y))return!1}for(;++Ce<Ue;){pt=U[Ce];var Ot=pt[0],pn=y[Ot],mn=pt[1];if(it&&pt[2]){if(pn===e&&!(Ot in y))return!1}else{var bn=new Tr;if(Z)var dr=Z(pn,mn,Ot,y,w,bn);if(!(dr===e?td(mn,pn,L|V,Z,bn):dr))return!1}}return!0}function nd(y){if(!co(y)||X(y))return!1;var w=Tl(y)?nA:Tt;return w.test(Ra(y))}function Qm(y){return Go(y)&&bs(y)==$n}function Ld(y){return Go(y)&&ws(y)==lr}function C1(y){return Go(y)&&Xl(y.length)&&!!no[bs(y)]}function KA(y){return typeof y=="function"?y:y==null?GA:typeof y=="object"?Rr(y)?Us(y[0],y[1]):el(y):F8(y)}function PA(y){if(!fe(y))return hf(y);var w=[];for(var U in Oo(y))lo.call(y,U)&&U!="constructor"&&w.push(U);return w}function rd(y){if(!co(y))return Vt(y);var w=fe(y),U=[];for(var Z in y)Z=="constructor"&&(w||!lo.call(y,Z))||U.push(Z);return U}function Rd(y,w){return y<w}function $m(y,w){var U=-1,Z=ta(y)?Rt(y.length):[];return _s(y,function(Ce,Ue,it){Z[++U]=w(Ce,Ue,it)}),Z}function el(y){var w=Co(y);return w.length==1&&w[0][2]?$e(w[0][0],w[0][1]):function(U){return U===y||yf(U,y,w)}}function Us(y,w){return O(y)&&Le(w)?$e(ra(y),w):function(U){var Z=G5(U,y);return Z===e&&Z===w?Q5(U,y):td(w,Z,L|V)}}function zu(y,w,U,Z,Ce){y!==w&&oA(w,function(Ue,it){if(Ce||(Ce=new Tr),co(Ue))id(y,w,it,U,zu,Z,Ce);else{var pt=Z?Z(Pn(y,it),Ue,it+"",y,w,Ce):e;pt===e&&(pt=Ue),Fu(y,it,pt)}},NA)}function id(y,w,U,Z,Ce,Ue,it){var pt=Pn(y,U),Ot=Pn(w,U),pn=it.get(Ot);if(pn){Fu(y,U,pn);return}var mn=Ue?Ue(pt,Ot,U+"",y,w,it):e,bn=mn===e;if(bn){var dr=Rr(Ot),Gr=!dr&&aa(Ot),di=!dr&&!Gr&&Wp(Ot);mn=Ot,dr||Gr||di?Rr(pt)?mn=pt:go(pt)?mn=Bl(pt):Gr?(bn=!1,mn=Sp(Ot,!0)):di?(bn=!1,mn=Op(Ot,!0)):mn=[]:jp(Ot)||ja(Ot)?(mn=pt,ja(pt)?mn=Bh(pt):(!co(pt)||Tl(pt))&&(mn=Sh(Ot))):bn=!1}bn&&(it.set(Ot,mn),Ce(mn,Ot,Z,Ue,it),it.delete(Ot)),Fu(y,U,mn)}function zd(y,w){var U=y.length;if(U)return w+=w<0?U:0,b(w,U)?y[w]:e}function yh(y,w,U){w.length?w=vo(w,function(Ue){return Rr(Ue)?function(it){return Vl(it,Ue.length===1?Ue[0]:Ue)}:Ue}):w=[GA];var Z=-1;w=vo(w,ps($r()));var Ce=$m(y,function(Ue,it,pt){var Ot=vo(w,function(pn){return pn(Ue)});return{criteria:Ot,index:++Z,value:Ue}});return lc(Ce,function(Ue,it){return Zm(Ue,it,U)})}function _1(y,w){return Ym(y,w,function(U,Z){return Q5(y,Z)})}function Ym(y,w,U){for(var Z=-1,Ce=w.length,Ue={};++Z<Ce;){var it=w[Z],pt=Vl(y,it);U(pt,it)&&UA(Ue,gu(it,y),pt)}return Ue}function b1(y){return function(w){return Vl(w,y)}}function vh(y,w,U,Z){var Ce=Z?Wm:xo,Ue=-1,it=w.length,pt=y;for(y===w&&(w=Bl(w)),U&&(pt=vo(y,ps(U)));++Ue<it;)for(var Ot=0,pn=w[Ue],mn=U?U(pn):pn;(Ot=Ce(pt,mn,Ot,Z))>-1;)pt!==y&&Pa.call(pt,Ot,1),Pa.call(y,Ot,1);return y}function tl(y,w){for(var U=y?w.length:0,Z=U-1;U--;){var Ce=w[U];if(U==Z||Ce!==Ue){var Ue=Ce;b(Ce)?Pa.call(y,Ce,1):wp(y,Ce)}}return y}function vf(y,w){return y+cu(TA()*(w-y+1))}function x1(y,w,U,Z){for(var Ce=-1,Ue=uo(wo((w-y)/(U||1)),0),it=Rt(Ue);Ue--;)it[Z?Ue:++Ce]=y,y+=U;return it}function qm(y,w){var U="";if(!y||w<1||w>tn)return U;do w%2&&(U+=y),w=cu(w/2),w&&(y+=y);while(w);return U}function Pi(y,w){return Er(_n(y,w,GA),y+"")}function Vm(y){return dl(N1(y))}function xp(y,w){var U=N1(y);return La(U,Xs(w,0,U.length))}function UA(y,w,U,Z){if(!co(y))return y;w=gu(w,y);for(var Ce=-1,Ue=w.length,it=Ue-1,pt=y;pt!=null&&++Ce<Ue;){var Ot=ra(w[Ce]),pn=U;if(Ot==="__proto__"||Ot==="constructor"||Ot==="prototype")return y;if(Ce!=it){var mn=pt[Ot];pn=Z?Z(mn,Ot,pt):e,pn===e&&(pn=co(mn)?mn:b(w[Ce+1])?[]:{})}Xo(pt,Ot,pn),pt=pt[Ot]}return y}var Hl=Wo?function(y,w){return Wo.set(y,w),y}:GA,w1=kA?function(y,w){return kA(y,"toString",{configurable:!0,enumerable:!1,value:Y5(w),writable:!0})}:GA;function jy(y){return La(N1(y))}function xs(y,w,U){var Z=-1,Ce=y.length;w<0&&(w=-w>Ce?0:Ce+w),U=U>Ce?Ce:U,U<0&&(U+=Ce),Ce=w>U?0:U-w>>>0,w>>>=0;for(var Ue=Rt(Ce);++Z<Ce;)Ue[Z]=y[Z+w];return Ue}function Cf(y,w){var U;return _s(y,function(Z,Ce,Ue){return U=w(Z,Ce,Ue),!U}),!!U}function DA(y,w,U){var Z=0,Ce=y==null?Z:y.length;if(typeof w=="number"&&w===w&&Ce<=Jt){for(;Z<Ce;){var Ue=Z+Ce>>>1,it=y[Ue];it!==null&&!pA(it)&&(U?it<=w:it<w)?Z=Ue+1:Ce=Ue}return Ce}return FA(y,w,GA,U)}function FA(y,w,U,Z){var Ce=0,Ue=y==null?0:y.length;if(Ue===0)return 0;w=U(w);for(var it=w!==w,pt=w===null,Ot=pA(w),pn=w===e;Ce<Ue;){var mn=cu((Ce+Ue)/2),bn=U(y[mn]),dr=bn!==e,Gr=bn===null,di=bn===bn,ro=pA(bn);if(it)var hi=Z||di;else pn?hi=di&&(Z||dr):pt?hi=di&&dr&&(Z||!Gr):Ot?hi=di&&dr&&!Gr&&(Z||!ro):Gr||ro?hi=!1:hi=Z?bn<=w:bn<w;hi?Ce=mn+1:Ue=mn}return Zo(Ue,tt)}function lA(y,w){for(var U=-1,Z=y.length,Ce=0,Ue=[];++U<Z;){var it=y[U],pt=w?w(it):it;if(!U||!oa(pt,Ot)){var Ot=pt;Ue[Ce++]=it===0?0:it}}return Ue}function od(y){return typeof y=="number"?y:pA(y)?Ne:+y}function nl(y){if(typeof y=="string")return y;if(Rr(y))return vo(y,nl)+"";if(pA(y))return K?K.call(y):"";var w=y+"";return w=="0"&&1/y==-Ft?"-0":w}function mu(y,w,U){var Z=-1,Ce=Id,Ue=y.length,it=!0,pt=[],Ot=pt;if(U)it=!1,Ce=zc;else if(Ue>=i){var pn=w?null:Ny(y);if(pn)return as(pn);it=!1,Ce=Ku,Ot=new Li}else Ot=w?[]:pt;e:for(;++Z<Ue;){var mn=y[Z],bn=w?w(mn):mn;if(mn=U||mn!==0?mn:0,it&&bn===bn){for(var dr=Ot.length;dr--;)if(Ot[dr]===bn)continue e;w&&Ot.push(bn),pt.push(mn)}else Ce(Ot,bn,U)||(Ot!==pt&&Ot.push(bn),pt.push(mn))}return pt}function wp(y,w){return w=gu(w,y),y=Dn(y,w),y==null||delete y[ra(AA(w))]}function Hm(y,w,U,Z){return UA(y,w,U(Vl(y,w)),Z)}function _f(y,w,U,Z){for(var Ce=y.length,Ue=Z?Ce:-1;(Z?Ue--:++Ue<Ce)&&w(y[Ue],Ue,y););return U?xs(y,Z?0:Ue,Z?Ue+1:Ce):xs(y,Z?Ue+1:0,Z?Ce:Ue)}function bf(y,w){var U=y;return U instanceof Ae&&(U=U.value()),OA(w,function(Z,Ce){return Ce.func.apply(Ce.thisArg,Tu([Z],Ce.args))},U)}function ad(y,w,U){var Z=y.length;if(Z<2)return Z?mu(y[0]):[];for(var Ce=-1,Ue=Rt(Z);++Ce<Z;)for(var it=y[Ce],pt=-1;++pt<Z;)pt!=Ce&&(Ue[Ce]=ql(Ue[Ce]||it,y[pt],w,U));return mu(Ma(Ue,1),w,U)}function Mp(y,w,U){for(var Z=-1,Ce=y.length,Ue=w.length,it={};++Z<Ce;){var pt=Z<Ue?w[Z]:e;U(it,y[Z],pt)}return it}function jd(y){return go(y)?y:[]}function xf(y){return typeof y=="function"?y:GA}function gu(y,w){return Rr(y)?y:O(y,w)?[y]:Jo(na(y))}var wf=Pi;function Mo(y,w,U){var Z=y.length;return U=U===e?Z:U,!w&&U>=Z?y:xs(y,w,U)}var Mf=pc||function(y){return Hr.clearTimeout(y)};function Sp(y,w){if(w)return y.slice();var U=y.length,Z=Dd?Dd(U):new y.constructor(U);return y.copy(Z),Z}function Cc(y){var w=new y.constructor(y.byteLength);return new Ud(w).set(new Ud(y)),w}function Ep(y,w){var U=w?Cc(y.buffer):y.buffer;return new y.constructor(U,y.byteOffset,y.byteLength)}function Sf(y){var w=new y.constructor(y.source,Xe.exec(y));return w.lastIndex=y.lastIndex,w}function Ch(y){return E?Oo(E.call(y)):{}}function Op(y,w){var U=w?Cc(y.buffer):y.buffer;return new y.constructor(U,y.byteOffset,y.length)}function Wd(y,w){if(y!==w){var U=y!==e,Z=y===null,Ce=y===y,Ue=pA(y),it=w!==e,pt=w===null,Ot=w===w,pn=pA(w);if(!pt&&!pn&&!Ue&&y>w||Ue&&it&&Ot&&!pt&&!pn||Z&&it&&Ot||!U&&Ot||!Ce)return 1;if(!Z&&!Ue&&!pn&&y<w||pn&&U&&Ce&&!Z&&!Ue||pt&&U&&Ce||!it&&Ce||!Ot)return-1}return 0}function Zm(y,w,U){for(var Z=-1,Ce=y.criteria,Ue=w.criteria,it=Ce.length,pt=U.length;++Z<it;){var Ot=Wd(Ce[Z],Ue[Z]);if(Ot){if(Z>=pt)return Ot;var pn=U[Z];return Ot*(pn=="desc"?-1:1)}}return y.index-w.index}function _h(y,w,U,Z){for(var Ce=-1,Ue=y.length,it=U.length,pt=-1,Ot=w.length,pn=uo(Ue-it,0),mn=Rt(Ot+pn),bn=!Z;++pt<Ot;)mn[pt]=w[pt];for(;++Ce<it;)(bn||Ce<Ue)&&(mn[U[Ce]]=y[Ce]);for(;pn--;)mn[pt++]=y[Ce++];return mn}function Xm(y,w,U,Z){for(var Ce=-1,Ue=y.length,it=-1,pt=U.length,Ot=-1,pn=w.length,mn=uo(Ue-pt,0),bn=Rt(mn+pn),dr=!Z;++Ce<mn;)bn[Ce]=y[Ce];for(var Gr=Ce;++Ot<pn;)bn[Gr+Ot]=w[Ot];for(;++it<pt;)(dr||Ce<Ue)&&(bn[Gr+U[it]]=y[Ce++]);return bn}function Bl(y,w){var U=-1,Z=y.length;for(w||(w=Rt(Z));++U<Z;)w[U]=y[U];return w}function Il(y,w,U,Z){var Ce=!U;U||(U={});for(var Ue=-1,it=w.length;++Ue<it;){var pt=w[Ue],Ot=Z?Z(U[pt],y[pt],pt,U,y):e;Ot===e&&(Ot=y[pt]),Ce?Ao(U,pt,Ot):Xo(U,pt,Ot)}return U}function M1(y,w){return Il(y,bc(y),w)}function Jm(y,w){return Il(y,I1(y),w)}function bh(y,w){return function(U,Z){var Ce=Rr(U)?lh:Ki,Ue=w?w():{};return Ce(U,y,$r(Z,2),Ue)}}function ju(y){return Pi(function(w,U){var Z=-1,Ce=U.length,Ue=Ce>1?U[Ce-1]:e,it=Ce>2?U[2]:e;for(Ue=y.length>3&&typeof Ue=="function"?(Ce--,Ue):e,it&&C(U[0],U[1],it)&&(Ue=Ce<3?e:Ue,Ce=1),w=Oo(w);++Z<Ce;){var pt=U[Z];pt&&y(w,pt,Z,Ue)}return w})}function sd(y,w){return function(U,Z){if(U==null)return U;if(!ta(U))return y(U,Z);for(var Ce=U.length,Ue=w?Ce:-1,it=Oo(U);(w?Ue--:++Ue<Ce)&&Z(it[Ue],Ue,it)!==!1;);return U}}function Bp(y){return function(w,U,Z){for(var Ce=-1,Ue=Oo(w),it=Z(w),pt=it.length;pt--;){var Ot=it[y?pt:++Ce];if(U(Ue[Ot],Ot,Ue)===!1)break}return w}}function S1(y,w,U){var Z=w&W,Ce=Ef(y);function Ue(){var it=this&&this!==Hr&&this instanceof Ue?Ce:y;return it.apply(Z?U:this,arguments)}return Ue}function E1(y){return function(w){w=na(w);var U=Ac(w)?Gl(w):e,Z=U?U[0]:w.charAt(0),Ce=U?Mo(U,1).join(""):w.slice(1);return Z[y]()+Ce}}function xh(y){return function(w){return OA(U8(P8(w).replace(zl,"")),y,"")}}function Ef(y){return function(){var w=arguments;switch(w.length){case 0:return new y;case 1:return new y(w[0]);case 2:return new y(w[0],w[1]);case 3:return new y(w[0],w[1],w[2]);case 4:return new y(w[0],w[1],w[2],w[3]);case 5:return new y(w[0],w[1],w[2],w[3],w[4]);case 6:return new y(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new y(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var U=$(y.prototype),Z=y.apply(U,w);return co(Z)?Z:U}}function Wy(y,w,U){var Z=Ef(y);function Ce(){for(var Ue=arguments.length,it=Rt(Ue),pt=Ue,Ot=Mh(Ce);pt--;)it[pt]=arguments[pt];var pn=Ue<3&&it[0]!==Ot&&it[Ue-1]!==Ot?[]:ms(it,Ot);if(Ue-=pn.length,Ue<U)return If(y,w,Of,Ce.placeholder,e,it,pn,e,e,U-Ue);var mn=this&&this!==Hr&&this instanceof Ce?Z:y;return Ka(mn,this,it)}return Ce}function LA(y){return function(w,U,Z){var Ce=Oo(w);if(!ta(w)){var Ue=$r(U,3);w=eu(w),U=function(pt){return Ue(Ce[pt],pt,Ce)}}var it=y(w,U,Z);return it>-1?Ce[Ue?w[it]:it]:e}}function O1(y){return RA(function(w){var U=w.length,Z=U,Ce=te.prototype.thru;for(y&&w.reverse();Z--;){var Ue=w[Z];if(typeof Ue!="function")throw new Ks(s);if(Ce&&!it&&Kf(Ue)=="wrapper")var it=new te([],!0)}for(Z=it?Z:U;++Z<U;){Ue=w[Z];var pt=Kf(Ue),Ot=pt=="wrapper"?Tf(Ue):e;Ot&&Y(Ot[0])&&Ot[1]==(ue|ee|se|me)&&!Ot[4].length&&Ot[9]==1?it=it[Kf(Ot[0])].apply(it,Ot[3]):it=Ue.length==1&&Y(Ue)?it[pt]():it.thru(Ue)}return function(){var pn=arguments,mn=pn[0];if(it&&pn.length==1&&Rr(mn))return it.plant(mn).value();for(var bn=0,dr=U?w[bn].apply(this,pn):mn;++bn<U;)dr=w[bn].call(this,dr);return dr}})}function Of(y,w,U,Z,Ce,Ue,it,pt,Ot,pn){var mn=w&ue,bn=w&W,dr=w&j,Gr=w&(ee|re),di=w&De,ro=dr?e:Ef(y);function hi(){for(var yo=arguments.length,So=Rt(yo),Sc=yo;Sc--;)So[Sc]=arguments[Sc];if(Gr)var gA=Mh(hi),Ec=eA(So,gA);if(Z&&(So=_h(So,Z,Ce,Gr)),Ue&&(So=Xm(So,Ue,it,Gr)),yo-=Ec,Gr&&yo<pn){var rl=ms(So,gA);return If(y,w,Of,hi.placeholder,U,So,rl,pt,Ot,pn-yo)}var Yd=bn?U:this,Uf=dr?Yd[y]:y;return yo=So.length,pt?So=Hn(So,pt):di&&yo>1&&So.reverse(),mn&&Ot<yo&&(So.length=Ot),this&&this!==Hr&&this instanceof hi&&(Uf=ro||Ef(Uf)),Uf.apply(Yd,So)}return hi}function ld(y,w){return function(U,Z){return mf(U,y,w(Z),{})}}function wh(y,w){return function(U,Z){var Ce;if(U===e&&Z===e)return w;if(U!==e&&(Ce=U),Z!==e){if(Ce===e)return Z;typeof U=="string"||typeof Z=="string"?(U=nl(U),Z=nl(Z)):(U=od(U),Z=od(Z)),Ce=y(U,Z)}return Ce}}function Ip(y){return RA(function(w){return w=vo(w,ps($r())),Pi(function(U){var Z=this;return y(w,function(Ce){return Ka(Ce,Z,U)})})})}function kp(y,w){w=w===e?" ":nl(w);var U=w.length;if(U<2)return U?qm(w,y):w;var Z=qm(w,wo(y/dc(w)));return Ac(w)?Mo(Gl(Z),0,y).join(""):Z.slice(0,y)}function e0(y,w,U,Z){var Ce=w&W,Ue=Ef(y);function it(){for(var pt=-1,Ot=arguments.length,pn=-1,mn=Z.length,bn=Rt(mn+Ot),dr=this&&this!==Hr&&this instanceof it?Ue:y;++pn<mn;)bn[pn]=Z[pn];for(;Ot--;)bn[pn++]=arguments[++pt];return Ka(dr,Ce?U:this,bn)}return it}function ud(y){return function(w,U,Z){return Z&&typeof Z!="number"&&C(w,U,Z)&&(U=Z=e),w=yl(w),U===e?(U=w,w=0):U=yl(U),Z=Z===e?w<U?1:-1:yl(Z),x1(w,U,Z,y)}}function Bf(y){return function(w,U){return typeof w=="string"&&typeof U=="string"||(w=mA(w),U=mA(U)),y(w,U)}}function If(y,w,U,Z,Ce,Ue,it,pt,Ot,pn){var mn=w&ee,bn=mn?it:e,dr=mn?e:it,Gr=mn?Ue:e,di=mn?e:Ue;w|=mn?se:oe,w&=~(mn?oe:se),w&G||(w&=~(W|j));var ro=[y,w,Ce,Gr,bn,di,dr,pt,Ot,pn],hi=U.apply(e,ro);return Y(y)&&er(hi,ro),hi.placeholder=Z,Ci(hi,y,w)}function t0(y){var w=fa[y];return function(U,Z){if(U=mA(U),Z=Z==null?0:Zo(bi(Z),292),Z&&df(U)){var Ce=(na(U)+"e").split("e"),Ue=w(Ce[0]+"e"+(+Ce[1]+Z));return Ce=(na(Ue)+"e").split("e"),+(Ce[0]+"e"+(+Ce[1]-Z))}return w(U)}}var Ny=wa&&1/as(new wa([,-0]))[1]==Ft?function(y){return new wa(y)}:H5;function Tp(y){return function(w){var U=ws(w);return U==bt?$c(w):U==lr?Yc(w):yp(w,y(w))}}function eo(y,w,U,Z,Ce,Ue,it,pt){var Ot=w&j;if(!Ot&&typeof y!="function")throw new Ks(s);var pn=Z?Z.length:0;if(pn||(w&=~(se|oe),Z=Ce=e),it=it===e?it:uo(bi(it),0),pt=pt===e?pt:bi(pt),pn-=Ce?Ce.length:0,w&oe){var mn=Z,bn=Ce;Z=Ce=e}var dr=Ot?e:Tf(y),Gr=[y,w,U,Z,Ce,mn,bn,Ue,it,pt];if(dr&&mt(Gr,dr),y=Gr[0],w=Gr[1],U=Gr[2],Z=Gr[3],Ce=Gr[4],pt=Gr[9]=Gr[9]===e?Ot?0:y.length:uo(Gr[9]-pn,0),!pt&&w&(ee|re)&&(w&=~(ee|re)),!w||w==W)var di=S1(y,w,U);else w==ee||w==re?di=Wy(y,w,pt):(w==se||w==(W|se))&&!Ce.length?di=e0(y,w,U,Z):di=Of.apply(e,Gr);var ro=dr?Hl:er;return Ci(ro(di,Gr),y,w)}function Kp(y,w,U,Z){return y===e||oa(y,$l[U])&&!lo.call(Z,U)?w:y}function Pp(y,w,U,Z,Ce,Ue){return co(y)&&co(w)&&(Ue.set(w,y),zu(y,w,e,Pp,Ue),Ue.delete(w)),y}function kf(y){return jp(y)?e:y}function Wu(y,w,U,Z,Ce,Ue){var it=U&L,pt=y.length,Ot=w.length;if(pt!=Ot&&!(it&&Ot>pt))return!1;var pn=Ue.get(y),mn=Ue.get(w);if(pn&&mn)return pn==w&&mn==y;var bn=-1,dr=!0,Gr=U&V?new Li:e;for(Ue.set(y,w),Ue.set(w,y);++bn<pt;){var di=y[bn],ro=w[bn];if(Z)var hi=it?Z(ro,di,bn,w,y,Ue):Z(di,ro,bn,y,w,Ue);if(hi!==e){if(hi)continue;dr=!1;break}if(Gr){if(!oc(w,function(yo,So){if(!Ku(Gr,So)&&(di===yo||Ce(di,yo,U,Z,Ue)))return Gr.push(So)})){dr=!1;break}}else if(!(di===ro||Ce(di,ro,U,Z,Ue))){dr=!1;break}}return Ue.delete(y),Ue.delete(w),dr}function Ad(y,w,U,Z,Ce,Ue,it){switch(U){case z:if(y.byteLength!=w.byteLength||y.byteOffset!=w.byteOffset)return!1;y=y.buffer,w=w.buffer;case be:return!(y.byteLength!=w.byteLength||!Ue(new Ud(y),new Ud(w)));case xe:case ce:case Gt:return oa(+y,+w);case Ke:return y.name==w.name&&y.message==w.message;case $n:case gr:return y==w+"";case bt:var pt=$c;case lr:var Ot=Z&L;if(pt||(pt=as),y.size!=w.size&&!Ot)return!1;var pn=it.get(y);if(pn)return pn==w;Z|=V,it.set(y,w);var mn=Wu(pt(y),pt(w),Z,Ce,Ue,it);return it.delete(y),mn;case Mr:if(E)return E.call(y)==E.call(w)}return!1}function Up(y,w,U,Z,Ce,Ue){var it=U&L,pt=Dp(y),Ot=pt.length,pn=Dp(w),mn=pn.length;if(Ot!=mn&&!it)return!1;for(var bn=Ot;bn--;){var dr=pt[bn];if(!(it?dr in w:lo.call(w,dr)))return!1}var Gr=Ue.get(y),di=Ue.get(w);if(Gr&&di)return Gr==w&&di==y;var ro=!0;Ue.set(y,w),Ue.set(w,y);for(var hi=it;++bn<Ot;){dr=pt[bn];var yo=y[dr],So=w[dr];if(Z)var Sc=it?Z(So,yo,dr,w,y,Ue):Z(yo,So,dr,y,w,Ue);if(!(Sc===e?yo===So||Ce(yo,So,U,Z,Ue):Sc)){ro=!1;break}hi||(hi=dr=="constructor")}if(ro&&!hi){var gA=y.constructor,Ec=w.constructor;gA!=Ec&&"constructor"in y&&"constructor"in w&&!(typeof gA=="function"&&gA instanceof gA&&typeof Ec=="function"&&Ec instanceof Ec)&&(ro=!1)}return Ue.delete(y),Ue.delete(w),ro}function RA(y){return Er(_n(y,e,xc),y+"")}function Dp(y){return Ps(y,eu,bc)}function Fp(y){return Ps(y,NA,I1)}var Tf=Wo?function(y){return Wo.get(y)}:H5;function Kf(y){for(var w=y.name+"",U=No[w],Z=lo.call(No,w)?U.length:0;Z--;){var Ce=U[Z],Ue=Ce.func;if(Ue==null||Ue==y)return Ce.name}return w}function Mh(y){var w=lo.call(T,"placeholder")?T:y;return w.placeholder}function $r(){var y=T.iteratee||q5;return y=y===q5?KA:y,arguments.length?y(arguments[0],arguments[1]):y}function Nd(y,w){var U=y.__data__;return F(w)?U[typeof w=="string"?"string":"hash"]:U.map}function Co(y){for(var w=eu(y),U=w.length;U--;){var Z=w[U],Ce=y[Z];w[U]=[Z,Ce,Le(Ce)]}return w}function _c(y,w){var U=Qc(y,w);return nd(U)?U:e}function B1(y){var w=lo.call(y,Ol),U=y[Ol];try{y[Ol]=e;var Z=!0}catch{}var Ce=Pu.call(y);return Z&&(w?y[Ol]=U:delete y[Ol]),Ce}var bc=Xc?function(y){return y==null?[]:(y=Oo(y),Ju(Xc(y),function(w){return Zc.call(y,w)}))}:Z5,I1=Xc?function(y){for(var w=[];y;)Tu(w,bc(y)),y=Uu(y);return w}:Z5,ws=bs;(du&&ws(new du(new ArrayBuffer(1)))!=z||Do&&ws(new Do)!=bt||cl&&ws(cl.resolve())!=rr||wa&&ws(new wa)!=lr||Du&&ws(new Du)!=ur)&&(ws=function(y){var w=bs(y),U=w==Un?y.constructor:e,Z=U?Ra(U):"";if(Z)switch(Z){case hh:return z;case yc:return bt;case M:return rr;case u:return lr;case m:return ur}return w});function Gy(y,w,U){for(var Z=-1,Ce=U.length;++Z<Ce;){var Ue=U[Z],it=Ue.size;switch(Ue.type){case"drop":y+=it;break;case"dropRight":w-=it;break;case"take":w=Zo(w,y+it);break;case"takeRight":y=uo(y,w-it);break}}return{start:y,end:w}}function Sa(y){var w=y.match(ie);return w?w[1].split(he):[]}function k1(y,w,U){w=gu(w,y);for(var Z=-1,Ce=w.length,Ue=!1;++Z<Ce;){var it=ra(w[Z]);if(!(Ue=y!=null&&U(y,it)))break;y=y[it]}return Ue||++Z!=Ce?Ue:(Ce=y==null?0:y.length,!!Ce&&Xl(Ce)&&b(it,Ce)&&(Rr(y)||ja(y)))}function Qy(y){var w=y.length,U=new y.constructor(w);return w&&typeof y[0]=="string"&&lo.call(y,"index")&&(U.index=y.index,U.input=y.input),U}function Sh(y){return typeof y.constructor=="function"&&!fe(y)?$(Uu(y)):{}}function Fa(y,w,U){var Z=y.constructor;switch(w){case be:return Cc(y);case xe:case ce:return new Z(+y);case z:return Ep(y,U);case q:case Oe:case st:case ct:case wt:case Vn:case qn:case Qr:case It:return Op(y,U);case bt:return new Z;case Gt:case gr:return new Z(y);case $n:return Sf(y);case lr:return new Z;case Mr:return Ch(y)}}function A(y,w){var U=w.length;if(!U)return y;var Z=U-1;return w[Z]=(U>1?"& ":"")+w[Z],w=w.join(U>2?", ":" "),y.replace(Pe,`{
/* [wrapped with `+w+`] */
`)}function h(y){return Rr(y)||ja(y)||!!(rA&&y&&y[rA])}function b(y,w){var U=typeof y;return w=w??tn,!!w&&(U=="number"||U!="symbol"&&Dt.test(y))&&y>-1&&y%1==0&&y<w}function C(y,w,U){if(!co(U))return!1;var Z=typeof w;return(Z=="number"?ta(U)&&b(w,U.length):Z=="string"&&w in U)?oa(U[w],y):!1}function O(y,w){if(Rr(y))return!1;var U=typeof y;return U=="number"||U=="symbol"||U=="boolean"||y==null||pA(y)?!0:Zi.test(y)||!Wr.test(y)||w!=null&&y in Oo(w)}function F(y){var w=typeof y;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?y!=="__proto__":y===null}function Y(y){var w=Kf(y),U=T[w];if(typeof U!="function"||!(w in Ae.prototype))return!1;if(y===U)return!0;var Z=Tf(U);return!!Z&&y===Z[0]}function X(y){return!!fc&&fc in y}var le=Hs?Tl:X5;function fe(y){var w=y&&y.constructor,U=typeof w=="function"&&w.prototype||$l;return y===U}function Le(y){return y===y&&!co(y)}function $e(y,w){return function(U){return U==null?!1:U[y]===w&&(w!==e||y in Oo(U))}}function _t(y){var w=ir(y,function(Z){return U.size===g&&U.clear(),Z}),U=w.cache;return w}function mt(y,w){var U=y[1],Z=w[1],Ce=U|Z,Ue=Ce<(W|j|ue),it=Z==ue&&U==ee||Z==ue&&U==me&&y[7].length<=w[8]||Z==(ue|me)&&w[7].length<=w[8]&&U==ee;if(!(Ue||it))return y;Z&W&&(y[2]=w[2],Ce|=U&W?0:G);var pt=w[3];if(pt){var Ot=y[3];y[3]=Ot?_h(Ot,pt,w[4]):pt,y[4]=Ot?ms(y[3],x):w[4]}return pt=w[5],pt&&(Ot=y[5],y[5]=Ot?Xm(Ot,pt,w[6]):pt,y[6]=Ot?ms(y[5],x):w[6]),pt=w[7],pt&&(y[7]=pt),Z&ue&&(y[8]=y[8]==null?w[8]:Zo(y[8],w[8])),y[9]==null&&(y[9]=w[9]),y[0]=w[0],y[1]=Ce,y}function Vt(y){var w=[];if(y!=null)for(var U in Oo(y))w.push(U);return w}function An(y){return Pu.call(y)}function _n(y,w,U){return w=uo(w===e?y.length-1:w,0),function(){for(var Z=arguments,Ce=-1,Ue=uo(Z.length-w,0),it=Rt(Ue);++Ce<Ue;)it[Ce]=Z[w+Ce];Ce=-1;for(var pt=Rt(w+1);++Ce<w;)pt[Ce]=Z[Ce];return pt[w]=U(it),Ka(y,this,pt)}}function Dn(y,w){return w.length<2?y:Vl(y,xs(w,0,-1))}function Hn(y,w){for(var U=y.length,Z=Zo(w.length,U),Ce=Bl(y);Z--;){var Ue=w[Z];y[Z]=b(Ue,U)?Ce[Ue]:e}return y}function Pn(y,w){if(!(w==="constructor"&&typeof y[w]=="function")&&w!="__proto__")return y[w]}var er=Fo(Hl),br=Zs||function(y,w){return Hr.setTimeout(y,w)},Er=Fo(w1);function Ci(y,w,U){var Z=w+"";return Er(y,A(Z,ma(Sa(Z),U)))}function Fo(y){var w=0,U=0;return function(){var Z=mr(),Ce=ke-(Z-U);if(U=Z,Ce>0){if(++w>=ht)return arguments[0]}else w=0;return y.apply(e,arguments)}}function La(y,w){var U=-1,Z=y.length,Ce=Z-1;for(w=w===e?Z:w;++U<w;){var Ue=vf(U,Ce),it=y[Ue];y[Ue]=y[U],y[U]=it}return y.length=w,y}var Jo=_t(function(y){var w=[];return y.charCodeAt(0)===46&&w.push(""),y.replace(Wi,function(U,Z,Ce,Ue){w.push(Ce?Ue.replace(Qe,"$1"):Z||U)}),w});function ra(y){if(typeof y=="string"||pA(y))return y;var w=y+"";return w=="0"&&1/y==-Ft?"-0":w}function Ra(y){if(y!=null){try{return El.call(y)}catch{}try{return y+""}catch{}}return""}function ma(y,w){return Al(dt,function(U){var Z="_."+U[0];w&U[1]&&!Id(y,Z)&&y.push(Z)}),y.sort()}function ls(y){if(y instanceof Ae)return y.clone();var w=new te(y.__wrapped__,y.__chain__);return w.__actions__=Bl(y.__actions__),w.__index__=y.__index__,w.__values__=y.__values__,w}function Ea(y,w,U){(U?C(y,w,U):w===e)?w=1:w=uo(bi(w),0);var Z=y==null?0:y.length;if(!Z||w<1)return[];for(var Ce=0,Ue=0,it=Rt(wo(Z/w));Ce<Z;)it[Ue++]=xs(y,Ce,Ce+=w);return it}function Oa(y){for(var w=-1,U=y==null?0:y.length,Z=0,Ce=[];++w<U;){var Ue=y[w];Ue&&(Ce[Z++]=Ue)}return Ce}function ga(){var y=arguments.length;if(!y)return[];for(var w=Rt(y-1),U=arguments[0],Z=y;Z--;)w[Z-1]=arguments[Z];return Tu(Rr(U)?Bl(U):[U],Ma(w,1))}var Ba=Pi(function(y,w){return go(y)?ql(y,Ma(w,1,go,!0)):[]}),fl=Pi(function(y,w){var U=AA(w);return go(U)&&(U=e),go(y)?ql(y,Ma(w,1,go,!0),$r(U,2)):[]}),Gd=Pi(function(y,w){var U=AA(w);return go(U)&&(U=e),go(y)?ql(y,Ma(w,1,go,!0),e,U):[]});function cd(y,w,U){var Z=y==null?0:y.length;return Z?(w=U||w===e?1:bi(w),xs(y,w<0?0:w,Z)):[]}function Ds(y,w,U){var Z=y==null?0:y.length;return Z?(w=U||w===e?1:bi(w),w=Z-w,xs(y,0,w<0?0:w)):[]}function uA(y,w){return y&&y.length?_f(y,$r(w,3),!0,!0):[]}function Za(y,w){return y&&y.length?_f(y,$r(w,3),!0):[]}function Pf(y,w,U,Z){var Ce=y==null?0:y.length;return Ce?(U&&typeof U!="number"&&C(y,w,U)&&(U=0,Z=Ce),v1(y,w,U,Z)):[]}function zA(y,w,U){var Z=y==null?0:y.length;if(!Z)return-1;var Ce=U==null?0:bi(U);return Ce<0&&(Ce=uo(Z+Ce,0)),Wl(y,$r(w,3),Ce)}function dd(y,w,U){var Z=y==null?0:y.length;if(!Z)return-1;var Ce=Z-1;return U!==e&&(Ce=bi(U),Ce=U<0?uo(Z+Ce,0):Zo(Ce,Z-1)),Wl(y,$r(w,3),Ce,!0)}function xc(y){var w=y==null?0:y.length;return w?Ma(y,1):[]}function ya(y){var w=y==null?0:y.length;return w?Ma(y,Ft):[]}function Qd(y,w){var U=y==null?0:y.length;return U?(w=w===e?1:bi(w),Ma(y,w)):[]}function jA(y){for(var w=-1,U=y==null?0:y.length,Z={};++w<U;){var Ce=y[w];Z[Ce[0]]=Ce[1]}return Z}function $y(y){return y&&y.length?y[0]:e}function nb(y,w,U){var Z=y==null?0:y.length;if(!Z)return-1;var Ce=U==null?0:bi(U);return Ce<0&&(Ce=uo(Z+Ce,0)),xo(y,w,Ce)}function rb(y){var w=y==null?0:y.length;return w?xs(y,0,-1):[]}var ib=Pi(function(y){var w=vo(y,jd);return w.length&&w[0]===y[0]?Ru(w):[]}),w5=Pi(function(y){var w=AA(y),U=vo(y,jd);return w===AA(U)?w=e:U.pop(),U.length&&U[0]===y[0]?Ru(U,$r(w,2)):[]}),M5=Pi(function(y){var w=AA(y),U=vo(y,jd);return w=typeof w=="function"?w:e,w&&U.pop(),U.length&&U[0]===y[0]?Ru(U,e,w):[]});function ob(y,w){return y==null?"":dh.call(y,w)}function AA(y){var w=y==null?0:y.length;return w?y[w-1]:e}function ab(y,w,U){var Z=y==null?0:y.length;if(!Z)return-1;var Ce=Z;return U!==e&&(Ce=bi(U),Ce=Ce<0?uo(Z+Ce,0):Zo(Ce,Z-1)),w===w?Kd(y,w,Ce):Wl(y,lf,Ce,!0)}function T1(y,w){return y&&y.length?zd(y,bi(w)):e}var sb=Pi(n0);function n0(y,w){return y&&y.length&&w&&w.length?vh(y,w):y}function K1(y,w,U){return y&&y.length&&w&&w.length?vh(y,w,$r(U,2)):y}function P1(y,w,U){return y&&y.length&&w&&w.length?vh(y,w,e,U):y}var S5=RA(function(y,w){var U=y==null?0:y.length,Z=Cs(y,w);return tl(y,vo(w,function(Ce){return b(Ce,U)?+Ce:Ce}).sort(Wd)),Z});function E5(y,w){var U=[];if(!(y&&y.length))return U;var Z=-1,Ce=[],Ue=y.length;for(w=$r(w,3);++Z<Ue;){var it=y[Z];w(it,Z,y)&&(U.push(it),Ce.push(Z))}return tl(y,Ce),U}function Yy(y){return y==null?y:gc.call(y)}function O5(y,w,U){var Z=y==null?0:y.length;return Z?(U&&typeof U!="number"&&C(y,w,U)?(w=0,U=Z):(w=w==null?0:bi(w),U=U===e?Z:bi(U)),xs(y,w,U)):[]}function Lp(y,w){return DA(y,w)}function qy(y,w,U){return FA(y,w,$r(U,2))}function lb(y,w){var U=y==null?0:y.length;if(U){var Z=DA(y,w);if(Z<U&&oa(y[Z],w))return Z}return-1}function Vy(y,w){return DA(y,w,!0)}function B5(y,w,U){return FA(y,w,$r(U,2),!0)}function Eh(y,w){var U=y==null?0:y.length;if(U){var Z=DA(y,w,!0)-1;if(oa(y[Z],w))return Z}return-1}function ub(y){return y&&y.length?lA(y):[]}function Ab(y,w){return y&&y.length?lA(y,$r(w,2)):[]}function I5(y){var w=y==null?0:y.length;return w?xs(y,1,w):[]}function k5(y,w,U){return y&&y.length?(w=U||w===e?1:bi(w),xs(y,0,w<0?0:w)):[]}function T5(y,w,U){var Z=y==null?0:y.length;return Z?(w=U||w===e?1:bi(w),w=Z-w,xs(y,w<0?0:w,Z)):[]}function U1(y,w){return y&&y.length?_f(y,$r(w,3),!1,!0):[]}function Hy(y,w){return y&&y.length?_f(y,$r(w,3)):[]}var K5=Pi(function(y){return mu(Ma(y,1,go,!0))}),Zy=Pi(function(y){var w=AA(y);return go(w)&&(w=e),mu(Ma(y,1,go,!0),$r(w,2))}),Xy=Pi(function(y){var w=AA(y);return w=typeof w=="function"?w:e,mu(Ma(y,1,go,!0),e,w)});function Rp(y){return y&&y.length?mu(y):[]}function P5(y,w){return y&&y.length?mu(y,$r(w,2)):[]}function Jy(y,w){return w=typeof w=="function"?w:e,y&&y.length?mu(y,e,w):[]}function D1(y){if(!(y&&y.length))return[];var w=0;return y=Ju(y,function(U){if(go(U))return w=uo(U.length,w),!0}),kd(w,function(U){return vo(y,uf(U))})}function r0(y,w){if(!(y&&y.length))return[];var U=D1(y);return w==null?U:vo(U,function(Z){return Ka(w,e,Z)})}var ev=Pi(function(y,w){return go(y)?ql(y,w):[]}),U5=Pi(function(y){return ad(Ju(y,go))}),D5=Pi(function(y){var w=AA(y);return go(w)&&(w=e),ad(Ju(y,go),$r(w,2))}),F5=Pi(function(y){var w=AA(y);return w=typeof w=="function"?w:e,ad(Ju(y,go),e,w)}),L5=Pi(D1);function R5(y,w){return Mp(y||[],w||[],Xo)}function cb(y,w){return Mp(y||[],w||[],UA)}var za=Pi(function(y){var w=y.length,U=w>1?y[w-1]:e;return U=typeof U=="function"?(y.pop(),U):e,r0(y,U)});function Oh(y){var w=T(y);return w.__chain__=!0,w}function db(y,w){return w(y),y}function i0(y,w){return w(y)}var hb=RA(function(y){var w=y.length,U=w?y[0]:0,Z=this.__wrapped__,Ce=function(Ue){return Cs(Ue,y)};return w>1||this.__actions__.length||!(Z instanceof Ae)||!b(U)?this.thru(Ce):(Z=Z.slice(U,+U+(w?1:0)),Z.__actions__.push({func:i0,args:[Ce],thisArg:e}),new te(Z,this.__chain__).thru(function(Ue){return w&&!Ue.length&&Ue.push(e),Ue}))});function fb(){return Oh(this)}function pb(){return new te(this.value(),this.__chain__)}function tv(){this.__values__===e&&(this.__values__=Jl(this.value()));var y=this.__index__>=this.__values__.length,w=y?e:this.__values__[this.__index__++];return{done:y,value:w}}function F1(){return this}function mb(y){for(var w,U=this;U instanceof H;){var Z=ls(U);Z.__index__=0,Z.__values__=e,w?Ce.__wrapped__=Z:w=Z;var Ce=Z;U=U.__wrapped__}return Ce.__wrapped__=y,w}function nv(){var y=this.__wrapped__;if(y instanceof Ae){var w=y;return this.__actions__.length&&(w=new Ae(this)),w=w.reverse(),w.__actions__.push({func:i0,args:[Yy],thisArg:e}),new te(w,this.__chain__)}return this.thru(Yy)}function gb(){return bf(this.__wrapped__,this.__actions__)}var cA=bh(function(y,w,U){lo.call(y,U)?++y[U]:Ao(y,U,1)});function o0(y,w,U){var Z=Rr(y)?EA:mh;return U&&C(y,w,U)&&(w=e),Z(y,$r(w,3))}function yb(y,w){var U=Rr(y)?Ju:vc;return U(y,$r(w,3))}var vb=LA(zA),Cb=LA(dd);function _b(y,w){return Ma(c(y,w),1)}function bb(y,w){return Ma(c(y,w),Ft)}function xb(y,w,U){return U=U===e?1:bi(U),Ma(c(y,w),U)}function wb(y,w){var U=Rr(y)?Al:_s;return U(y,$r(w,3))}function L1(y,w){var U=Rr(y)?uh:iA;return U(y,$r(w,3))}var R1=bh(function(y,w,U){lo.call(y,U)?y[U].push(w):Ao(y,U,[w])});function a0(y,w,U,Z){y=ta(y)?y:N1(y),U=U&&!Z?bi(U):0;var Ce=y.length;return U<0&&(U=uo(Ce+U,0)),j1(y)?U<=Ce&&y.indexOf(w,U)>-1:!!Ce&&xo(y,w,U)>-1}var rv=Pi(function(y,w,U){var Z=-1,Ce=typeof w=="function",Ue=ta(y)?Rt(y.length):[];return _s(y,function(it){Ue[++Z]=Ce?Ka(w,it,U):ed(it,w,U)}),Ue}),z5=bh(function(y,w,U){Ao(y,U,w)});function c(y,w){var U=Rr(y)?vo:$m;return U(y,$r(w,3))}function l(y,w,U,Z){return y==null?[]:(Rr(w)||(w=w==null?[]:[w]),U=Z?e:U,Rr(U)||(U=U==null?[]:[U]),yh(y,w,U))}var d=bh(function(y,w,U){y[U?0:1].push(w)},function(){return[[],[]]});function v(y,w,U){var Z=Rr(y)?OA:jc,Ce=arguments.length<3;return Z(y,$r(w,4),U,Ce,_s)}function S(y,w,U){var Z=Rr(y)?Po:jc,Ce=arguments.length<3;return Z(y,$r(w,4),U,Ce,iA)}function k(y,w){var U=Rr(y)?Ju:vc;return U(y,Wn($r(w,3)))}function P(y){var w=Rr(y)?dl:Vm;return w(y)}function R(y,w,U){(U?C(y,w,U):w===e)?w=1:w=bi(w);var Z=Rr(y)?hl:xp;return Z(y,w)}function Q(y){var w=Rr(y)?pu:jy;return w(y)}function J(y){if(y==null)return 0;if(ta(y))return j1(y)?dc(y):y.length;var w=ws(y);return w==bt||w==lr?y.size:PA(y).length}function de(y,w,U){var Z=Rr(y)?oc:Cf;return U&&C(y,w,U)&&(w=e),Z(y,$r(w,3))}var pe=Pi(function(y,w){if(y==null)return[];var U=w.length;return U>1&&C(y,w[0],w[1])?w=[]:U>2&&C(w[0],w[1],w[2])&&(w=[w[0]]),yh(y,Ma(w,1),[])}),we=mc||function(){return Hr.Date.now()};function Se(y,w){if(typeof w!="function")throw new Ks(s);return y=bi(y),function(){if(--y<1)return w.apply(this,arguments)}}function Be(y,w,U){return w=U?e:w,w=y&&w==null?y.length:w,eo(y,ue,e,e,e,e,w)}function nt(y,w){var U;if(typeof w!="function")throw new Ks(s);return y=bi(y),function(){return--y>0&&(U=w.apply(this,arguments)),y<=1&&(w=e),U}}var He=Pi(function(y,w,U){var Z=W;if(U.length){var Ce=ms(U,Mh(He));Z|=se}return eo(y,Z,w,U,Ce)}),xt=Pi(function(y,w,U){var Z=W|j;if(U.length){var Ce=ms(U,Mh(xt));Z|=se}return eo(w,Z,y,U,Ce)});function zt(y,w,U){w=U?e:w;var Z=eo(y,ee,e,e,e,e,e,w);return Z.placeholder=zt.placeholder,Z}function vt(y,w,U){w=U?e:w;var Z=eo(y,re,e,e,e,e,e,w);return Z.placeholder=vt.placeholder,Z}function Ut(y,w,U){var Z,Ce,Ue,it,pt,Ot,pn=0,mn=!1,bn=!1,dr=!0;if(typeof y!="function")throw new Ks(s);w=mA(w)||0,co(U)&&(mn=!!U.leading,bn="maxWait"in U,Ue=bn?uo(mA(U.maxWait)||0,w):Ue,dr="trailing"in U?!!U.trailing:dr);function Gr(rl){var Yd=Z,Uf=Ce;return Z=Ce=e,pn=rl,it=y.apply(Uf,Yd),it}function di(rl){return pn=rl,pt=br(yo,w),mn?Gr(rl):it}function ro(rl){var Yd=rl-Ot,Uf=rl-pn,L8=w-Yd;return bn?Zo(L8,Ue-Uf):L8}function hi(rl){var Yd=rl-Ot,Uf=rl-pn;return Ot===e||Yd>=w||Yd<0||bn&&Uf>=Ue}function yo(){var rl=we();if(hi(rl))return So(rl);pt=br(yo,ro(rl))}function So(rl){return pt=e,dr&&Z?Gr(rl):(Z=Ce=e,it)}function Sc(){pt!==e&&Mf(pt),pn=0,Z=Ot=Ce=pt=e}function gA(){return pt===e?it:So(we())}function Ec(){var rl=we(),Yd=hi(rl);if(Z=arguments,Ce=this,Ot=rl,Yd){if(pt===e)return di(Ot);if(bn)return Mf(pt),pt=br(yo,w),Gr(Ot)}return pt===e&&(pt=br(yo,w)),it}return Ec.cancel=Sc,Ec.flush=gA,Ec}var ln=Pi(function(y,w){return ph(y,1,w)}),sn=Pi(function(y,w,U){return ph(y,mA(w)||0,U)});function tr(y){return eo(y,De)}function ir(y,w){if(typeof y!="function"||w!=null&&typeof w!="function")throw new Ks(s);var U=function(){var Z=arguments,Ce=w?w.apply(this,Z):Z[0],Ue=U.cache;if(Ue.has(Ce))return Ue.get(Ce);var it=y.apply(this,Z);return U.cache=Ue.set(Ce,it)||Ue,it};return U.cache=new(ir.Cache||Mn),U}ir.Cache=Mn;function Wn(y){if(typeof y!="function")throw new Ks(s);return function(){var w=arguments;switch(w.length){case 0:return!y.call(this);case 1:return!y.call(this,w[0]);case 2:return!y.call(this,w[0],w[1]);case 3:return!y.call(this,w[0],w[1],w[2])}return!y.apply(this,w)}}function Fn(y){return nt(2,y)}var En=wf(function(y,w){w=w.length==1&&Rr(w[0])?vo(w[0],ps($r())):vo(Ma(w,1),ps($r()));var U=w.length;return Pi(function(Z){for(var Ce=-1,Ue=Zo(Z.length,U);++Ce<Ue;)Z[Ce]=w[Ce].call(this,Z[Ce]);return Ka(y,this,Z)})}),Nn=Pi(function(y,w){var U=ms(w,Mh(Nn));return eo(y,se,e,w,U)}),Ln=Pi(function(y,w){var U=ms(w,Mh(Ln));return eo(y,oe,e,w,U)}),yn=RA(function(y,w){return eo(y,me,e,e,e,w)});function Ir(y,w){if(typeof y!="function")throw new Ks(s);return w=w===e?w:bi(w),Pi(y,w)}function xr(y,w){if(typeof y!="function")throw new Ks(s);return w=w==null?0:uo(bi(w),0),Pi(function(U){var Z=U[w],Ce=Mo(U,0,w);return Z&&Tu(Ce,Z),Ka(y,this,Ce)})}function _i(y,w,U){var Z=!0,Ce=!0;if(typeof y!="function")throw new Ks(s);return co(U)&&(Z="leading"in U?!!U.leading:Z,Ce="trailing"in U?!!U.trailing:Ce),Ut(y,w,{leading:Z,maxWait:w,trailing:Ce})}function ea(y){return Be(y,1)}function ia(y,w){return Nn(xf(w),y)}function Ms(){if(!arguments.length)return[];var y=arguments[0];return Rr(y)?y:[y]}function dA(y){return Js(y,D)}function pl(y,w){return w=typeof w=="function"?w:e,Js(y,D,w)}function us(y){return Js(y,I|D)}function Fs(y,w){return w=typeof w=="function"?w:e,Js(y,I|D,w)}function ml(y,w){return w==null||fh(y,w,eu(w))}function oa(y,w){return y===w||y!==y&&w!==w}var yu=Bf(pa),As=Bf(function(y,w){return y>=w}),ja=_p(function(){return arguments}())?_p:function(y){return Go(y)&&lo.call(y,"callee")&&!Zc.call(y,"callee")},Rr=Rt.isArray,Zl=ha?ps(ha):gh;function ta(y){return y!=null&&Xl(y.length)&&!Tl(y)}function go(y){return Go(y)&&ta(y)}function va(y){return y===!0||y===!1||Go(y)&&bs(y)==xe}var aa=vp||X5,zi=Va?ps(Va):Gm;function Nu(y){return Go(y)&&y.nodeType===1&&!jp(y)}function gl(y){if(y==null)return!0;if(ta(y)&&(Rr(y)||typeof y=="string"||typeof y.splice=="function"||aa(y)||Wp(y)||ja(y)))return!y.length;var w=ws(y);if(w==bt||w==lr)return!y.size;if(fe(y))return!PA(y).length;for(var U in y)if(lo.call(y,U))return!1;return!0}function kl(y,w){return td(y,w)}function WA(y,w,U){U=typeof U=="function"?U:e;var Z=U?U(y,w):e;return Z===e?td(y,w,e,U):!!Z}function hA(y){if(!Go(y))return!1;var w=bs(y);return w==Ke||w==_e||typeof y.message=="string"&&typeof y.name=="string"&&!jp(y)}function wc(y){return typeof y=="number"&&df(y)}function Tl(y){if(!co(y))return!1;var w=bs(y);return w==Ve||w==Ze||w==Kt||w==qt}function fA(y){return typeof y=="number"&&y==bi(y)}function Xl(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=tn}function co(y){var w=typeof y;return y!=null&&(w=="object"||w=="function")}function Go(y){return y!=null&&typeof y=="object"}var zp=Ys?ps(Ys):gf;function Mb(y,w){return y===w||yf(y,w,Co(w))}function iv(y,w,U){return U=typeof U=="function"?U:e,yf(y,w,Co(w),U)}function ov(y){return z1(y)&&y!=+y}function $d(y){if(le(y))throw new Nr(o);return nd(y)}function Sb(y){return y===null}function av(y){return y==null}function z1(y){return typeof y=="number"||Go(y)&&bs(y)==Gt}function jp(y){if(!Go(y)||bs(y)!=Un)return!1;var w=Uu(y);if(w===null)return!0;var U=lo.call(w,"constructor")&&w.constructor;return typeof U=="function"&&U instanceof U&&El.call(U)==tA}var sv=jl?ps(jl):Qm;function j5(y){return fA(y)&&y>=-tn&&y<=tn}var Eb=ku?ps(ku):Ld;function j1(y){return typeof y=="string"||!Rr(y)&&Go(y)&&bs(y)==gr}function pA(y){return typeof y=="symbol"||Go(y)&&bs(y)==Mr}var Wp=ic?ps(ic):C1;function W5(y){return y===e}function N5(y){return Go(y)&&ws(y)==ur}function Mc(y){return Go(y)&&bs(y)==yi}var W1=Bf(Rd),Ob=Bf(function(y,w){return y<=w});function Jl(y){if(!y)return[];if(ta(y))return j1(y)?Gl(y):Bl(y);if(IA&&y[IA])return Td(y[IA]());var w=ws(y),U=w==bt?$c:w==lr?as:N1;return U(y)}function yl(y){if(!y)return y===0?y:0;if(y=mA(y),y===Ft||y===-Ft){var w=y<0?-1:1;return w*St}return y===y?y:0}function bi(y){var w=yl(y),U=w%1;return w===w?U?w-U:w:0}function Np(y){return y?Xs(bi(y),0,qe):0}function mA(y){if(typeof y=="number")return y;if(pA(y))return Ne;if(co(y)){var w=typeof y.valueOf=="function"?y.valueOf():y;y=co(w)?w+"":w}if(typeof y!="string")return y===0?y:+y;y=Wc(y);var U=ut.test(y);return U||nn.test(y)?_r(y.slice(2),U?2:8):Ge.test(y)?Ne:+y}function Bh(y){return Il(y,NA(y))}function fG(y){return y?Xs(bi(y),-tn,tn):y===0?y:0}function na(y){return y==null?"":nl(y)}var pG=ju(function(y,w){if(fe(w)||ta(w)){Il(w,eu(w),y);return}for(var U in w)lo.call(w,U)&&Xo(y,U,w[U])}),O8=ju(function(y,w){Il(w,NA(w),y)}),Bb=ju(function(y,w,U,Z){Il(w,NA(w),y,Z)}),mG=ju(function(y,w,U,Z){Il(w,eu(w),y,Z)}),gG=RA(Cs);function yG(y,w){var U=$(y);return w==null?U:Ua(U,w)}var vG=Pi(function(y,w){y=Oo(y);var U=-1,Z=w.length,Ce=Z>2?w[2]:e;for(Ce&&C(w[0],w[1],Ce)&&(Z=1);++U<Z;)for(var Ue=w[U],it=NA(Ue),pt=-1,Ot=it.length;++pt<Ot;){var pn=it[pt],mn=y[pn];(mn===e||oa(mn,$l[pn])&&!lo.call(y,pn))&&(y[pn]=Ue[pn])}return y}),CG=Pi(function(y){return y.push(e,Pp),Ka(B8,e,y)});function _G(y,w){return jo(y,$r(w,3),Da)}function bG(y,w){return jo(y,$r(w,3),sA)}function xG(y,w){return y==null?y:oA(y,$r(w,3),NA)}function wG(y,w){return y==null?y:aA(y,$r(w,3),NA)}function MG(y,w){return y&&Da(y,$r(w,3))}function SG(y,w){return y&&sA(y,$r(w,3))}function EG(y){return y==null?[]:pf(y,eu(y))}function OG(y){return y==null?[]:pf(y,NA(y))}function G5(y,w,U){var Z=y==null?e:Vl(y,w);return Z===e?U:Z}function BG(y,w){return y!=null&&k1(y,w,Cp)}function Q5(y,w){return y!=null&&k1(y,w,Nm)}var IG=ld(function(y,w,U){w!=null&&typeof w.toString!="function"&&(w=Pu.call(w)),y[w]=U},Y5(GA)),kG=ld(function(y,w,U){w!=null&&typeof w.toString!="function"&&(w=Pu.call(w)),lo.call(y,w)?y[w].push(U):y[w]=[U]},$r),TG=Pi(ed);function eu(y){return ta(y)?fu(y):PA(y)}function NA(y){return ta(y)?fu(y,!0):rd(y)}function KG(y,w){var U={};return w=$r(w,3),Da(y,function(Z,Ce,Ue){Ao(U,w(Z,Ce,Ue),Z)}),U}function PG(y,w){var U={};return w=$r(w,3),Da(y,function(Z,Ce,Ue){Ao(U,Ce,w(Z,Ce,Ue))}),U}var UG=ju(function(y,w,U){zu(y,w,U)}),B8=ju(function(y,w,U,Z){zu(y,w,U,Z)}),DG=RA(function(y,w){var U={};if(y==null)return U;var Z=!1;w=vo(w,function(Ue){return Ue=gu(Ue,y),Z||(Z=Ue.length>1),Ue}),Il(y,Fp(y),U),Z&&(U=Js(U,I|B|D,kf));for(var Ce=w.length;Ce--;)wp(U,w[Ce]);return U});function FG(y,w){return I8(y,Wn($r(w)))}var LG=RA(function(y,w){return y==null?{}:_1(y,w)});function I8(y,w){if(y==null)return{};var U=vo(Fp(y),function(Z){return[Z]});return w=$r(w),Ym(y,U,function(Z,Ce){return w(Z,Ce[0])})}function RG(y,w,U){w=gu(w,y);var Z=-1,Ce=w.length;for(Ce||(Ce=1,y=e);++Z<Ce;){var Ue=y==null?e:y[ra(w[Z])];Ue===e&&(Z=Ce,Ue=U),y=Tl(Ue)?Ue.call(y):Ue}return y}function zG(y,w,U){return y==null?y:UA(y,w,U)}function jG(y,w,U,Z){return Z=typeof Z=="function"?Z:e,y==null?y:UA(y,w,U,Z)}var k8=Tp(eu),T8=Tp(NA);function WG(y,w,U){var Z=Rr(y),Ce=Z||aa(y)||Wp(y);if(w=$r(w,4),U==null){var Ue=y&&y.constructor;Ce?U=Z?new Ue:[]:co(y)?U=Tl(Ue)?$(Uu(y)):{}:U={}}return(Ce?Al:Da)(y,function(it,pt,Ot){return w(U,it,pt,Ot)}),U}function NG(y,w){return y==null?!0:wp(y,w)}function GG(y,w,U){return y==null?y:Hm(y,w,xf(U))}function QG(y,w,U,Z){return Z=typeof Z=="function"?Z:e,y==null?y:Hm(y,w,xf(U),Z)}function N1(y){return y==null?[]:Ml(y,eu(y))}function $G(y){return y==null?[]:Ml(y,NA(y))}function YG(y,w,U){return U===e&&(U=w,w=e),U!==e&&(U=mA(U),U=U===U?U:0),w!==e&&(w=mA(w),w=w===w?w:0),Xs(mA(y),w,U)}function qG(y,w,U){return w=yl(w),U===e?(U=w,w=0):U=yl(U),y=mA(y),Lu(y,w,U)}function VG(y,w,U){if(U&&typeof U!="boolean"&&C(y,w,U)&&(w=U=e),U===e&&(typeof w=="boolean"?(U=w,w=e):typeof y=="boolean"&&(U=y,y=e)),y===e&&w===e?(y=0,w=1):(y=yl(y),w===e?(w=y,y=0):w=yl(w)),y>w){var Z=y;y=w,w=Z}if(U||y%1||w%1){var Ce=TA();return Zo(y+Ce*(w-y+Vr("1e-"+((Ce+"").length-1))),w)}return vf(y,w)}var HG=xh(function(y,w,U){return w=w.toLowerCase(),y+(U?K8(w):w)});function K8(y){return $5(na(y).toLowerCase())}function P8(y){return y=na(y),y&&y.replace(wn,Gc).replace(nc,"")}function ZG(y,w,U){y=na(y),w=nl(w);var Z=y.length;U=U===e?Z:Xs(bi(U),0,Z);var Ce=U;return U-=w.length,U>=0&&y.slice(U,Ce)==w}function XG(y){return y=na(y),y&&Zr.test(y)?y.replace(un,qs):y}function JG(y){return y=na(y),y&&zo.test(y)?y.replace(da,"\\$&"):y}var eQ=xh(function(y,w,U){return y+(U?"-":"")+w.toLowerCase()}),tQ=xh(function(y,w,U){return y+(U?" ":"")+w.toLowerCase()}),nQ=E1("toLowerCase");function rQ(y,w,U){y=na(y),w=bi(w);var Z=w?dc(y):0;if(!w||Z>=w)return y;var Ce=(w-Z)/2;return kp(cu(Ce),U)+y+kp(wo(Ce),U)}function iQ(y,w,U){y=na(y),w=bi(w);var Z=w?dc(y):0;return w&&Z<w?y+kp(w-Z,U):y}function oQ(y,w,U){y=na(y),w=bi(w);var Z=w?dc(y):0;return w&&Z<w?kp(w-Z,U)+y:y}function aQ(y,w,U){return U||w==null?w=0:w&&(w=+w),Br(na(y).replace(os,""),w||0)}function sQ(y,w,U){return(U?C(y,w,U):w===e)?w=1:w=bi(w),qm(na(y),w)}function lQ(){var y=arguments,w=na(y[0]);return y.length<3?w:w.replace(y[1],y[2])}var uQ=xh(function(y,w,U){return y+(U?"_":"")+w.toLowerCase()});function AQ(y,w,U){return U&&typeof U!="number"&&C(y,w,U)&&(w=U=e),U=U===e?qe:U>>>0,U?(y=na(y),y&&(typeof w=="string"||w!=null&&!sv(w))&&(w=nl(w),!w&&Ac(y))?Mo(Gl(y),0,U):y.split(w,U)):[]}var cQ=xh(function(y,w,U){return y+(U?" ":"")+$5(w)});function dQ(y,w,U){return y=na(y),U=U==null?0:Xs(bi(U),0,y.length),w=nl(w),y.slice(U,U+w.length)==w}function hQ(y,w,U){var Z=T.templateSettings;U&&C(y,w,U)&&(w=e),y=na(y),w=Bb({},w,Z,Kp);var Ce=Bb({},w.imports,Z.imports,Kp),Ue=eu(Ce),it=Ml(Ce,Ue),pt,Ot,pn=0,mn=w.interpolate||Kn,bn="__p += '",dr=Pd((w.escape||Kn).source+"|"+mn.source+"|"+(mn===Fr?rt:Kn).source+"|"+(w.evaluate||Kn).source+"|$","g"),Gr="//# sourceURL="+(lo.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rc+"]")+`
`;y.replace(dr,function(hi,yo,So,Sc,gA,Ec){return So||(So=Sc),bn+=y.slice(pn,Ec).replace(xn,uc),yo&&(pt=!0,bn+=`' +
__e(`+yo+`) +
'`),gA&&(Ot=!0,bn+=`';
`+gA+`;
__p += '`),So&&(bn+=`' +
((__t = (`+So+`)) == null ? '' : __t) +
'`),pn=Ec+hi.length,hi}),bn+=`';
`;var di=lo.call(w,"variable")&&w.variable;if(!di)bn=`with (obj) {
`+bn+`
}
`;else if(Te.test(di))throw new Nr(a);bn=(Ot?bn.replace(p,""):bn).replace(Pt,"$1").replace(yr,"$1;"),bn="function("+(di||"obj")+`) {
`+(di?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pt?", __e = _.escape":"")+(Ot?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+bn+`return __p
}`;var ro=D8(function(){return Gi(Ue,Gr+"return "+bn).apply(e,it)});if(ro.source=bn,hA(ro))throw ro;return ro}function fQ(y){return na(y).toLowerCase()}function pQ(y){return na(y).toUpperCase()}function mQ(y,w,U){if(y=na(y),y&&(U||w===e))return Wc(y);if(!y||!(w=nl(w)))return y;var Z=Gl(y),Ce=Gl(w),Ue=Nl(Z,Ce),it=Nc(Z,Ce)+1;return Mo(Z,Ue,it).join("")}function gQ(y,w,U){if(y=na(y),y&&(U||w===e))return y.slice(0,Ah(y)+1);if(!y||!(w=nl(w)))return y;var Z=Gl(y),Ce=Nc(Z,Gl(w))+1;return Mo(Z,0,Ce).join("")}function yQ(y,w,U){if(y=na(y),y&&(U||w===e))return y.replace(os,"");if(!y||!(w=nl(w)))return y;var Z=Gl(y),Ce=Nl(Z,Gl(w));return Mo(Z,Ce).join("")}function vQ(y,w){var U=Re,Z=et;if(co(w)){var Ce="separator"in w?w.separator:Ce;U="length"in w?bi(w.length):U,Z="omission"in w?nl(w.omission):Z}y=na(y);var Ue=y.length;if(Ac(y)){var it=Gl(y);Ue=it.length}if(U>=Ue)return y;var pt=U-dc(Z);if(pt<1)return Z;var Ot=it?Mo(it,0,pt).join(""):y.slice(0,pt);if(Ce===e)return Ot+Z;if(it&&(pt+=Ot.length-pt),sv(Ce)){if(y.slice(pt).search(Ce)){var pn,mn=Ot;for(Ce.global||(Ce=Pd(Ce.source,na(Xe.exec(Ce))+"g")),Ce.lastIndex=0;pn=Ce.exec(mn);)var bn=pn.index;Ot=Ot.slice(0,bn===e?pt:bn)}}else if(y.indexOf(nl(Ce),pt)!=pt){var dr=Ot.lastIndexOf(Ce);dr>-1&&(Ot=Ot.slice(0,dr))}return Ot+Z}function CQ(y){return y=na(y),y&&pr.test(y)?y.replace(Jn,hc):y}var _Q=xh(function(y,w,U){return y+(U?" ":"")+w.toUpperCase()}),$5=E1("toUpperCase");function U8(y,w,U){return y=na(y),w=U?e:w,w===e?Af(y)?Hc(y):Uo(y):y.match(w)||[]}var D8=Pi(function(y,w){try{return Ka(y,e,w)}catch(U){return hA(U)?U:new Nr(U)}}),bQ=RA(function(y,w){return Al(w,function(U){U=ra(U),Ao(y,U,He(y[U],y))}),y});function xQ(y){var w=y==null?0:y.length,U=$r();return y=w?vo(y,function(Z){if(typeof Z[1]!="function")throw new Ks(s);return[U(Z[0]),Z[1]]}):[],Pi(function(Z){for(var Ce=-1;++Ce<w;){var Ue=y[Ce];if(Ka(Ue[0],this,Z))return Ka(Ue[1],this,Z)}})}function wQ(y){return Jc(Js(y,I))}function Y5(y){return function(){return y}}function MQ(y,w){return y==null||y!==y?w:y}var SQ=O1(),EQ=O1(!0);function GA(y){return y}function q5(y){return KA(typeof y=="function"?y:Js(y,I))}function OQ(y){return el(Js(y,I))}function BQ(y,w){return Us(y,Js(w,I))}var IQ=Pi(function(y,w){return function(U){return ed(U,y,w)}}),kQ=Pi(function(y,w){return function(U){return ed(y,U,w)}});function V5(y,w,U){var Z=eu(w),Ce=pf(w,Z);U==null&&!(co(w)&&(Ce.length||!Z.length))&&(U=w,w=y,y=this,Ce=pf(w,eu(w)));var Ue=!(co(U)&&"chain"in U)||!!U.chain,it=Tl(y);return Al(Ce,function(pt){var Ot=w[pt];y[pt]=Ot,it&&(y.prototype[pt]=function(){var pn=this.__chain__;if(Ue||pn){var mn=y(this.__wrapped__),bn=mn.__actions__=Bl(this.__actions__);return bn.push({func:Ot,args:arguments,thisArg:y}),mn.__chain__=pn,mn}return Ot.apply(y,Tu([this.value()],arguments))})}),y}function TQ(){return Hr._===this&&(Hr._=gs),this}function H5(){}function KQ(y){return y=bi(y),Pi(function(w){return zd(w,y)})}var PQ=Ip(vo),UQ=Ip(EA),DQ=Ip(oc);function F8(y){return O(y)?uf(ra(y)):b1(y)}function FQ(y){return function(w){return y==null?e:Vl(y,w)}}var LQ=ud(),RQ=ud(!0);function Z5(){return[]}function X5(){return!1}function zQ(){return{}}function jQ(){return""}function WQ(){return!0}function NQ(y,w){if(y=bi(y),y<1||y>tn)return[];var U=qe,Z=Zo(y,qe);w=$r(w),y-=qe;for(var Ce=kd(Z,w);++U<y;)w(U);return Ce}function GQ(y){return Rr(y)?vo(y,ra):pA(y)?[y]:Bl(Jo(na(y)))}function QQ(y){var w=++jn;return na(y)+w}var $Q=wh(function(y,w){return y+w},0),YQ=t0("ceil"),qQ=wh(function(y,w){return y/w},1),VQ=t0("floor");function HQ(y){return y&&y.length?ff(y,GA,pa):e}function ZQ(y,w){return y&&y.length?ff(y,$r(w,2),pa):e}function XQ(y){return ac(y,GA)}function JQ(y,w){return ac(y,$r(w,2))}function e$(y){return y&&y.length?ff(y,GA,Rd):e}function t$(y,w){return y&&y.length?ff(y,$r(w,2),Rd):e}var n$=wh(function(y,w){return y*w},1),r$=t0("round"),i$=wh(function(y,w){return y-w},0);function o$(y){return y&&y.length?BA(y,GA):0}function a$(y,w){return y&&y.length?BA(y,$r(w,2)):0}return T.after=Se,T.ary=Be,T.assign=pG,T.assignIn=O8,T.assignInWith=Bb,T.assignWith=mG,T.at=gG,T.before=nt,T.bind=He,T.bindAll=bQ,T.bindKey=xt,T.castArray=Ms,T.chain=Oh,T.chunk=Ea,T.compact=Oa,T.concat=ga,T.cond=xQ,T.conforms=wQ,T.constant=Y5,T.countBy=cA,T.create=yG,T.curry=zt,T.curryRight=vt,T.debounce=Ut,T.defaults=vG,T.defaultsDeep=CG,T.defer=ln,T.delay=sn,T.difference=Ba,T.differenceBy=fl,T.differenceWith=Gd,T.drop=cd,T.dropRight=Ds,T.dropRightWhile=uA,T.dropWhile=Za,T.fill=Pf,T.filter=yb,T.flatMap=_b,T.flatMapDeep=bb,T.flatMapDepth=xb,T.flatten=xc,T.flattenDeep=ya,T.flattenDepth=Qd,T.flip=tr,T.flow=SQ,T.flowRight=EQ,T.fromPairs=jA,T.functions=EG,T.functionsIn=OG,T.groupBy=R1,T.initial=rb,T.intersection=ib,T.intersectionBy=w5,T.intersectionWith=M5,T.invert=IG,T.invertBy=kG,T.invokeMap=rv,T.iteratee=q5,T.keyBy=z5,T.keys=eu,T.keysIn=NA,T.map=c,T.mapKeys=KG,T.mapValues=PG,T.matches=OQ,T.matchesProperty=BQ,T.memoize=ir,T.merge=UG,T.mergeWith=B8,T.method=IQ,T.methodOf=kQ,T.mixin=V5,T.negate=Wn,T.nthArg=KQ,T.omit=DG,T.omitBy=FG,T.once=Fn,T.orderBy=l,T.over=PQ,T.overArgs=En,T.overEvery=UQ,T.overSome=DQ,T.partial=Nn,T.partialRight=Ln,T.partition=d,T.pick=LG,T.pickBy=I8,T.property=F8,T.propertyOf=FQ,T.pull=sb,T.pullAll=n0,T.pullAllBy=K1,T.pullAllWith=P1,T.pullAt=S5,T.range=LQ,T.rangeRight=RQ,T.rearg=yn,T.reject=k,T.remove=E5,T.rest=Ir,T.reverse=Yy,T.sampleSize=R,T.set=zG,T.setWith=jG,T.shuffle=Q,T.slice=O5,T.sortBy=pe,T.sortedUniq=ub,T.sortedUniqBy=Ab,T.split=AQ,T.spread=xr,T.tail=I5,T.take=k5,T.takeRight=T5,T.takeRightWhile=U1,T.takeWhile=Hy,T.tap=db,T.throttle=_i,T.thru=i0,T.toArray=Jl,T.toPairs=k8,T.toPairsIn=T8,T.toPath=GQ,T.toPlainObject=Bh,T.transform=WG,T.unary=ea,T.union=K5,T.unionBy=Zy,T.unionWith=Xy,T.uniq=Rp,T.uniqBy=P5,T.uniqWith=Jy,T.unset=NG,T.unzip=D1,T.unzipWith=r0,T.update=GG,T.updateWith=QG,T.values=N1,T.valuesIn=$G,T.without=ev,T.words=U8,T.wrap=ia,T.xor=U5,T.xorBy=D5,T.xorWith=F5,T.zip=L5,T.zipObject=R5,T.zipObjectDeep=cb,T.zipWith=za,T.entries=k8,T.entriesIn=T8,T.extend=O8,T.extendWith=Bb,V5(T,T),T.add=$Q,T.attempt=D8,T.camelCase=HG,T.capitalize=K8,T.ceil=YQ,T.clamp=YG,T.clone=dA,T.cloneDeep=us,T.cloneDeepWith=Fs,T.cloneWith=pl,T.conformsTo=ml,T.deburr=P8,T.defaultTo=MQ,T.divide=qQ,T.endsWith=ZG,T.eq=oa,T.escape=XG,T.escapeRegExp=JG,T.every=o0,T.find=vb,T.findIndex=zA,T.findKey=_G,T.findLast=Cb,T.findLastIndex=dd,T.findLastKey=bG,T.floor=VQ,T.forEach=wb,T.forEachRight=L1,T.forIn=xG,T.forInRight=wG,T.forOwn=MG,T.forOwnRight=SG,T.get=G5,T.gt=yu,T.gte=As,T.has=BG,T.hasIn=Q5,T.head=$y,T.identity=GA,T.includes=a0,T.indexOf=nb,T.inRange=qG,T.invoke=TG,T.isArguments=ja,T.isArray=Rr,T.isArrayBuffer=Zl,T.isArrayLike=ta,T.isArrayLikeObject=go,T.isBoolean=va,T.isBuffer=aa,T.isDate=zi,T.isElement=Nu,T.isEmpty=gl,T.isEqual=kl,T.isEqualWith=WA,T.isError=hA,T.isFinite=wc,T.isFunction=Tl,T.isInteger=fA,T.isLength=Xl,T.isMap=zp,T.isMatch=Mb,T.isMatchWith=iv,T.isNaN=ov,T.isNative=$d,T.isNil=av,T.isNull=Sb,T.isNumber=z1,T.isObject=co,T.isObjectLike=Go,T.isPlainObject=jp,T.isRegExp=sv,T.isSafeInteger=j5,T.isSet=Eb,T.isString=j1,T.isSymbol=pA,T.isTypedArray=Wp,T.isUndefined=W5,T.isWeakMap=N5,T.isWeakSet=Mc,T.join=ob,T.kebabCase=eQ,T.last=AA,T.lastIndexOf=ab,T.lowerCase=tQ,T.lowerFirst=nQ,T.lt=W1,T.lte=Ob,T.max=HQ,T.maxBy=ZQ,T.mean=XQ,T.meanBy=JQ,T.min=e$,T.minBy=t$,T.stubArray=Z5,T.stubFalse=X5,T.stubObject=zQ,T.stubString=jQ,T.stubTrue=WQ,T.multiply=n$,T.nth=T1,T.noConflict=TQ,T.noop=H5,T.now=we,T.pad=rQ,T.padEnd=iQ,T.padStart=oQ,T.parseInt=aQ,T.random=VG,T.reduce=v,T.reduceRight=S,T.repeat=sQ,T.replace=lQ,T.result=RG,T.round=r$,T.runInContext=gt,T.sample=P,T.size=J,T.snakeCase=uQ,T.some=de,T.sortedIndex=Lp,T.sortedIndexBy=qy,T.sortedIndexOf=lb,T.sortedLastIndex=Vy,T.sortedLastIndexBy=B5,T.sortedLastIndexOf=Eh,T.startCase=cQ,T.startsWith=dQ,T.subtract=i$,T.sum=o$,T.sumBy=a$,T.template=hQ,T.times=NQ,T.toFinite=yl,T.toInteger=bi,T.toLength=Np,T.toLower=fQ,T.toNumber=mA,T.toSafeInteger=fG,T.toString=na,T.toUpper=pQ,T.trim=mQ,T.trimEnd=gQ,T.trimStart=yQ,T.truncate=vQ,T.unescape=CQ,T.uniqueId=QQ,T.upperCase=_Q,T.upperFirst=$5,T.each=wb,T.eachRight=L1,T.first=$y,V5(T,function(){var y={};return Da(T,function(w,U){lo.call(T.prototype,U)||(y[U]=w)}),y}(),{chain:!1}),T.VERSION=r,Al(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){T[y].placeholder=T}),Al(["drop","take"],function(y,w){Ae.prototype[y]=function(U){U=U===e?1:uo(bi(U),0);var Z=this.__filtered__&&!w?new Ae(this):this.clone();return Z.__filtered__?Z.__takeCount__=Zo(U,Z.__takeCount__):Z.__views__.push({size:Zo(U,qe),type:y+(Z.__dir__<0?"Right":"")}),Z},Ae.prototype[y+"Right"]=function(U){return this.reverse()[y](U).reverse()}}),Al(["filter","map","takeWhile"],function(y,w){var U=w+1,Z=U==Je||U==ft;Ae.prototype[y]=function(Ce){var Ue=this.clone();return Ue.__iteratees__.push({iteratee:$r(Ce,3),type:U}),Ue.__filtered__=Ue.__filtered__||Z,Ue}}),Al(["head","last"],function(y,w){var U="take"+(w?"Right":"");Ae.prototype[y]=function(){return this[U](1).value()[0]}}),Al(["initial","tail"],function(y,w){var U="drop"+(w?"":"Right");Ae.prototype[y]=function(){return this.__filtered__?new Ae(this):this[U](1)}}),Ae.prototype.compact=function(){return this.filter(GA)},Ae.prototype.find=function(y){return this.filter(y).head()},Ae.prototype.findLast=function(y){return this.reverse().find(y)},Ae.prototype.invokeMap=Pi(function(y,w){return typeof y=="function"?new Ae(this):this.map(function(U){return ed(U,y,w)})}),Ae.prototype.reject=function(y){return this.filter(Wn($r(y)))},Ae.prototype.slice=function(y,w){y=bi(y);var U=this;return U.__filtered__&&(y>0||w<0)?new Ae(U):(y<0?U=U.takeRight(-y):y&&(U=U.drop(y)),w!==e&&(w=bi(w),U=w<0?U.dropRight(-w):U.take(w-y)),U)},Ae.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Ae.prototype.toArray=function(){return this.take(qe)},Da(Ae.prototype,function(y,w){var U=/^(?:filter|find|map|reject)|While$/.test(w),Z=/^(?:head|last)$/.test(w),Ce=T[Z?"take"+(w=="last"?"Right":""):w],Ue=Z||/^find/.test(w);Ce&&(T.prototype[w]=function(){var it=this.__wrapped__,pt=Z?[1]:arguments,Ot=it instanceof Ae,pn=pt[0],mn=Ot||Rr(it),bn=function(yo){var So=Ce.apply(T,Tu([yo],pt));return Z&&dr?So[0]:So};mn&&U&&typeof pn=="function"&&pn.length!=1&&(Ot=mn=!1);var dr=this.__chain__,Gr=!!this.__actions__.length,di=Ue&&!dr,ro=Ot&&!Gr;if(!Ue&&mn){it=ro?it:new Ae(this);var hi=y.apply(it,pt);return hi.__actions__.push({func:i0,args:[bn],thisArg:e}),new te(hi,dr)}return di&&ro?y.apply(this,pt):(hi=this.thru(bn),di?Z?hi.value()[0]:hi.value():hi)})}),Al(["pop","push","shift","sort","splice","unshift"],function(y){var w=Ql[y],U=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",Z=/^(?:pop|shift)$/.test(y);T.prototype[y]=function(){var Ce=arguments;if(Z&&!this.__chain__){var Ue=this.value();return w.apply(Rr(Ue)?Ue:[],Ce)}return this[U](function(it){return w.apply(Rr(it)?it:[],Ce)})}}),Da(Ae.prototype,function(y,w){var U=T[w];if(U){var Z=U.name+"";lo.call(No,Z)||(No[Z]=[]),No[Z].push({name:w,func:U})}}),No[Of(e,j).name]=[{name:"wrapper",func:e}],Ae.prototype.clone=ye,Ae.prototype.reverse=Me,Ae.prototype.value=We,T.prototype.at=hb,T.prototype.chain=fb,T.prototype.commit=pb,T.prototype.next=tv,T.prototype.plant=mb,T.prototype.reverse=nv,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=gb,T.prototype.first=T.prototype.head,IA&&(T.prototype[IA]=F1),T},Sl=Vs();Ko?((Ko.exports=Sl)._=Sl,$i._=Sl):Hr._=Sl}).call(tf)})(O2,O2.exports);var g4=O2.exports;const FS=Qo(g4);function qV(t,n,e){const r=n<0?t.length+n:n;if(r>=0&&r<t.length){const i=e<0?t.length+e:e,[o]=t.splice(n,1);t.splice(i,0,o)}}function VV(t){for(var n=5381,e=t.length;e;)n=n*33^t.charCodeAt(--e);return n>>>0}var HV=VV;const e9=Qo(HV);var ZV=/("(?:[^\\"]|\\.)*")|[:,]/g,XV=function(n,e){var r,i,o;return e=e||{},r=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),i=r===""?1/0:e.maxLength===void 0?80:e.maxLength,o=e.replacer,function s(a,f,g){var x,I,B,D,L,V,W,j,G,ee,re,se;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),re=JSON.stringify(a,o),re===void 0)return re;if(W=i-f.length-g,re.length<=W&&(G=re.replace(ZV,function(oe,ue){return ue||oe+" "}),G.length<=W))return G;if(o!=null&&(a=JSON.parse(re),o=void 0),typeof a=="object"&&a!==null){if(j=f+r,B=[],I=0,Array.isArray(a))for(ee="[",x="]",W=a.length;I<W;I++)B.push(s(a[I],j,I===W-1?0:1)||"null");else for(ee="{",x="}",V=Object.keys(a),W=V.length;I<W;I++)D=V[I],L=JSON.stringify(D)+": ",se=s(a[D],j,L.length+(I===W-1?0:1)),se!==void 0&&B.push(L+se);if(B.length>0)return[ee,r+B.join(`,
`+j),x].join(`
`+f)}return re}(n,"",0)};const JV=Qo(XV);var Pm={},B2={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */B2.exports;(function(t,n){(function(e){var r=n&&!n.nodeType&&n,i=t&&!t.nodeType&&t,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,a=2147483647,f=36,g=1,x=26,I=38,B=700,D=72,L=128,V="-",W=/^xn--/,j=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,ee={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=f-g,se=Math.floor,oe=String.fromCharCode,ue;function me(Ne){throw new RangeError(ee[Ne])}function De(Ne,qe){for(var tt=Ne.length,Jt=[];tt--;)Jt[tt]=qe(Ne[tt]);return Jt}function Re(Ne,qe){var tt=Ne.split("@"),Jt="";tt.length>1&&(Jt=tt[0]+"@",Ne=tt[1]),Ne=Ne.replace(G,".");var dt=Ne.split("."),ot=De(dt,qe).join(".");return Jt+ot}function et(Ne){for(var qe=[],tt=0,Jt=Ne.length,dt,ot;tt<Jt;)dt=Ne.charCodeAt(tt++),dt>=55296&&dt<=56319&&tt<Jt?(ot=Ne.charCodeAt(tt++),(ot&64512)==56320?qe.push(((dt&1023)<<10)+(ot&1023)+65536):(qe.push(dt),tt--)):qe.push(dt);return qe}function ht(Ne){return De(Ne,function(qe){var tt="";return qe>65535&&(qe-=65536,tt+=oe(qe>>>10&1023|55296),qe=56320|qe&1023),tt+=oe(qe),tt}).join("")}function ke(Ne){return Ne-48<10?Ne-22:Ne-65<26?Ne-65:Ne-97<26?Ne-97:f}function Je(Ne,qe){return Ne+22+75*(Ne<26)-((qe!=0)<<5)}function ve(Ne,qe,tt){var Jt=0;for(Ne=tt?se(Ne/B):Ne>>1,Ne+=se(Ne/qe);Ne>re*x>>1;Jt+=f)Ne=se(Ne/re);return se(Jt+(re+1)*Ne/(Ne+I))}function ft(Ne){var qe=[],tt=Ne.length,Jt,dt=0,ot=L,Et=D,Kt,xe,ce,_e,Ke,Ve,Ze,bt,Gt;for(Kt=Ne.lastIndexOf(V),Kt<0&&(Kt=0),xe=0;xe<Kt;++xe)Ne.charCodeAt(xe)>=128&&me("not-basic"),qe.push(Ne.charCodeAt(xe));for(ce=Kt>0?Kt+1:0;ce<tt;){for(_e=dt,Ke=1,Ve=f;ce>=tt&&me("invalid-input"),Ze=ke(Ne.charCodeAt(ce++)),(Ze>=f||Ze>se((a-dt)/Ke))&&me("overflow"),dt+=Ze*Ke,bt=Ve<=Et?g:Ve>=Et+x?x:Ve-Et,!(Ze<bt);Ve+=f)Gt=f-bt,Ke>se(a/Gt)&&me("overflow"),Ke*=Gt;Jt=qe.length+1,Et=ve(dt-_e,Jt,_e==0),se(dt/Jt)>a-ot&&me("overflow"),ot+=se(dt/Jt),dt%=Jt,qe.splice(dt++,0,ot)}return ht(qe)}function Ft(Ne){var qe,tt,Jt,dt,ot,Et,Kt,xe,ce,_e,Ke,Ve=[],Ze,bt,Gt,Lt;for(Ne=et(Ne),Ze=Ne.length,qe=L,tt=0,ot=D,Et=0;Et<Ze;++Et)Ke=Ne[Et],Ke<128&&Ve.push(oe(Ke));for(Jt=dt=Ve.length,dt&&Ve.push(V);Jt<Ze;){for(Kt=a,Et=0;Et<Ze;++Et)Ke=Ne[Et],Ke>=qe&&Ke<Kt&&(Kt=Ke);for(bt=Jt+1,Kt-qe>se((a-tt)/bt)&&me("overflow"),tt+=(Kt-qe)*bt,qe=Kt,Et=0;Et<Ze;++Et)if(Ke=Ne[Et],Ke<qe&&++tt>a&&me("overflow"),Ke==qe){for(xe=tt,ce=f;_e=ce<=ot?g:ce>=ot+x?x:ce-ot,!(xe<_e);ce+=f)Lt=xe-_e,Gt=f-_e,Ve.push(oe(Je(_e+Lt%Gt,0))),xe=se(Lt/Gt);Ve.push(oe(Je(xe,0))),ot=ve(tt,bt,Jt==dt),tt=0,++Jt}++tt,++qe}return Ve.join("")}function tn(Ne){return Re(Ne,function(qe){return W.test(qe)?ft(qe.slice(4).toLowerCase()):qe})}function St(Ne){return Re(Ne,function(qe){return j.test(qe)?"xn--"+Ft(qe):qe})}if(s={version:"1.4.1",ucs2:{decode:et,encode:ht},decode:ft,encode:Ft,toASCII:St,toUnicode:tn},r&&i)if(t.exports==r)i.exports=s;else for(ue in s)s.hasOwnProperty(ue)&&(r[ue]=s[ue]);else e.punycode=s})(tf)})(B2,B2.exports);var eH=B2.exports,tH=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;n[e]=i;for(e in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var o=Object.getOwnPropertySymbols(n);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(n,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(n,e);if(s.value!==i||s.enumerable!==!0)return!1}return!0},t9=typeof Symbol<"u"&&Symbol,nH=tH,rH=function(){return typeof t9!="function"||typeof Symbol!="function"||typeof t9("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:nH()},n9={foo:{}},iH=Object,oH=function(){return{__proto__:n9}.foo===n9.foo&&!({__proto__:null}instanceof iH)},aH="Function.prototype.bind called on incompatible ",sH=Object.prototype.toString,lH=Math.max,uH="[object Function]",r9=function(n,e){for(var r=[],i=0;i<n.length;i+=1)r[i]=n[i];for(var o=0;o<e.length;o+=1)r[o+n.length]=e[o];return r},AH=function(n,e){for(var r=[],i=e||0,o=0;i<n.length;i+=1,o+=1)r[o]=n[i];return r},cH=function(t,n){for(var e="",r=0;r<t.length;r+=1)e+=t[r],r+1<t.length&&(e+=n);return e},dH=function(n){var e=this;if(typeof e!="function"||sH.apply(e)!==uH)throw new TypeError(aH+e);for(var r=AH(arguments,1),i,o=function(){if(this instanceof i){var x=e.apply(this,r9(r,arguments));return Object(x)===x?x:this}return e.apply(n,r9(r,arguments))},s=lH(0,e.length-r.length),a=[],f=0;f<s;f++)a[f]="$"+f;if(i=Function("binder","return function ("+cH(a,",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var g=function(){};g.prototype=e.prototype,i.prototype=new g,g.prototype=null}return i},hH=dH,FO=Function.prototype.bind||hH,fH=Function.prototype.call,pH=Object.prototype.hasOwnProperty,mH=FO,gH=mH.call(fH,pH),_o,sy=SyntaxError,rF=Function,Lg=TypeError,yw=function(t){try{return rF('"use strict"; return ('+t+").constructor;")()}catch{}},W0=Object.getOwnPropertyDescriptor;if(W0)try{W0({},"")}catch{W0=null}var vw=function(){throw new Lg},yH=W0?function(){try{return arguments.callee,vw}catch{try{return W0(arguments,"callee").get}catch{return vw}}}():vw,Q1=rH(),vH=oH(),ru=Object.getPrototypeOf||(vH?function(t){return t.__proto__}:null),og={},CH=typeof Uint8Array>"u"||!ru?_o:ru(Uint8Array),N0={"%AggregateError%":typeof AggregateError>"u"?_o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_o:ArrayBuffer,"%ArrayIteratorPrototype%":Q1&&ru?ru([][Symbol.iterator]()):_o,"%AsyncFromSyncIteratorPrototype%":_o,"%AsyncFunction%":og,"%AsyncGenerator%":og,"%AsyncGeneratorFunction%":og,"%AsyncIteratorPrototype%":og,"%Atomics%":typeof Atomics>"u"?_o:Atomics,"%BigInt%":typeof BigInt>"u"?_o:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?_o:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_o:FinalizationRegistry,"%Function%":rF,"%GeneratorFunction%":og,"%Int8Array%":typeof Int8Array>"u"?_o:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_o:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q1&&ru?ru(ru([][Symbol.iterator]())):_o,"%JSON%":typeof JSON=="object"?JSON:_o,"%Map%":typeof Map>"u"?_o:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q1||!ru?_o:ru(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_o:Promise,"%Proxy%":typeof Proxy>"u"?_o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?_o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_o:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q1||!ru?_o:ru(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q1&&ru?ru(""[Symbol.iterator]()):_o,"%Symbol%":Q1?Symbol:_o,"%SyntaxError%":sy,"%ThrowTypeError%":yH,"%TypedArray%":CH,"%TypeError%":Lg,"%Uint8Array%":typeof Uint8Array>"u"?_o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_o:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?_o:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_o:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_o:WeakSet};if(ru)try{null.error}catch(t){var _H=ru(ru(t));N0["%Error.prototype%"]=_H}var bH=function t(n){var e;if(n==="%AsyncFunction%")e=yw("async function () {}");else if(n==="%GeneratorFunction%")e=yw("function* () {}");else if(n==="%AsyncGeneratorFunction%")e=yw("async function* () {}");else if(n==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(e=r.prototype)}else if(n==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ru&&(e=ru(i.prototype))}return N0[n]=e,e},i9={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g_=FO,I2=gH,xH=g_.call(Function.call,Array.prototype.concat),wH=g_.call(Function.apply,Array.prototype.splice),o9=g_.call(Function.call,String.prototype.replace),k2=g_.call(Function.call,String.prototype.slice),MH=g_.call(Function.call,RegExp.prototype.exec),SH=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,EH=/\\(\\)?/g,OH=function(n){var e=k2(n,0,1),r=k2(n,-1);if(e==="%"&&r!=="%")throw new sy("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new sy("invalid intrinsic syntax, expected opening `%`");var i=[];return o9(n,SH,function(o,s,a,f){i[i.length]=a?o9(f,EH,"$1"):s||o}),i},BH=function(n,e){var r=n,i;if(I2(i9,r)&&(i=i9[r],r="%"+i[0]+"%"),I2(N0,r)){var o=N0[r];if(o===og&&(o=bH(r)),typeof o>"u"&&!e)throw new Lg("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new sy("intrinsic "+n+" does not exist!")},u1=function(n,e){if(typeof n!="string"||n.length===0)throw new Lg("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Lg('"allowMissing" argument must be a boolean');if(MH(/^%?[^%]*%?$/,n)===null)throw new sy("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=OH(n),i=r.length>0?r[0]:"",o=BH("%"+i+"%",e),s=o.name,a=o.value,f=!1,g=o.alias;g&&(i=g[0],wH(r,xH([0,1],g)));for(var x=1,I=!0;x<r.length;x+=1){var B=r[x],D=k2(B,0,1),L=k2(B,-1);if((D==='"'||D==="'"||D==="`"||L==='"'||L==="'"||L==="`")&&D!==L)throw new sy("property names with quotes must have matching quotes");if((B==="constructor"||!I)&&(f=!0),i+="."+B,s="%"+i+"%",I2(N0,s))a=N0[s];else if(a!=null){if(!(B in a)){if(!e)throw new Lg("base intrinsic for "+n+" exists, but the property is not available.");return}if(W0&&x+1>=r.length){var V=W0(a,B);I=!!V,I&&"get"in V&&!("originalValue"in V.get)?a=V.get:a=a[B]}else I=I2(a,B),a=a[B];I&&!f&&(N0[s]=a)}}return a},iF={exports:{}},IH=u1,LS=IH("%Object.defineProperty%",!0),RS=function(){if(LS)try{return LS({},"a",{value:1}),!0}catch{return!1}return!1};RS.hasArrayLengthDefineBug=function(){if(!RS())return null;try{return LS([],"length",{value:1}).length!==1}catch{return!0}};var oF=RS,kH=u1,jx=kH("%Object.getOwnPropertyDescriptor%",!0);if(jx)try{jx([],"length")}catch{jx=null}var aF=jx,TH=oF(),LO=u1,tC=TH&&LO("%Object.defineProperty%",!0);if(tC)try{tC({},"a",{value:1})}catch{tC=!1}var KH=LO("%SyntaxError%"),$1=LO("%TypeError%"),a9=aF,PH=function(n,e,r){if(!n||typeof n!="object"&&typeof n!="function")throw new $1("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new $1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $1("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,f=!!a9&&a9(n,e);if(tC)tC(n,e,{configurable:s===null&&f?f.configurable:!s,enumerable:i===null&&f?f.enumerable:!i,value:r,writable:o===null&&f?f.writable:!o});else if(a||!i&&!o&&!s)n[e]=r;else throw new KH("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},sF=u1,s9=PH,UH=oF(),l9=aF,u9=sF("%TypeError%"),DH=sF("%Math.floor%"),FH=function(n,e){if(typeof n!="function")throw new u9("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||DH(e)!==e)throw new u9("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in n&&l9){var s=l9(n,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(UH?s9(n,"length",e,!0,!0):s9(n,"length",e)),n};(function(t){var n=FO,e=u1,r=FH,i=e("%TypeError%"),o=e("%Function.prototype.apply%"),s=e("%Function.prototype.call%"),a=e("%Reflect.apply%",!0)||n.call(s,o),f=e("%Object.defineProperty%",!0),g=e("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}t.exports=function(B){if(typeof B!="function")throw new i("a function is required");var D=a(n,s,arguments);return r(D,1+g(0,B.length-(arguments.length-1)),!0)};var x=function(){return a(n,o,arguments)};f?f(t.exports,"apply",{value:x}):t.exports.apply=x})(iF);var LH=iF.exports,lF=u1,uF=LH,RH=uF(lF("String.prototype.indexOf")),zH=function(n,e){var r=lF(n,!!e);return typeof r=="function"&&RH(n,".prototype.")>-1?uF(r):r};const jH={},WH=Object.freeze(Object.defineProperty({__proto__:null,default:jH},Symbol.toStringTag,{value:"Module"})),NH=DE(WH);var RO=typeof Map=="function"&&Map.prototype,Cw=Object.getOwnPropertyDescriptor&&RO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,T2=RO&&Cw&&typeof Cw.get=="function"?Cw.get:null,A9=RO&&Map.prototype.forEach,zO=typeof Set=="function"&&Set.prototype,_w=Object.getOwnPropertyDescriptor&&zO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,K2=zO&&_w&&typeof _w.get=="function"?_w.get:null,c9=zO&&Set.prototype.forEach,GH=typeof WeakMap=="function"&&WeakMap.prototype,nC=GH?WeakMap.prototype.has:null,QH=typeof WeakSet=="function"&&WeakSet.prototype,rC=QH?WeakSet.prototype.has:null,$H=typeof WeakRef=="function"&&WeakRef.prototype,d9=$H?WeakRef.prototype.deref:null,YH=Boolean.prototype.valueOf,qH=Object.prototype.toString,VH=Function.prototype.toString,HH=String.prototype.match,jO=String.prototype.slice,cm=String.prototype.replace,ZH=String.prototype.toUpperCase,h9=String.prototype.toLowerCase,AF=RegExp.prototype.test,f9=Array.prototype.concat,Uh=Array.prototype.join,XH=Array.prototype.slice,p9=Math.floor,zS=typeof BigInt=="function"?BigInt.prototype.valueOf:null,bw=Object.getOwnPropertySymbols,jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ly=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Hu=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ly||!0)?Symbol.toStringTag:null,cF=Object.prototype.propertyIsEnumerable,m9=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function g9(t,n){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||AF.call(/e/,n))return n;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-p9(-t):p9(t);if(r!==t){var i=String(r),o=jO.call(n,i.length+1);return cm.call(i,e,"$&_")+"."+cm.call(cm.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return cm.call(n,e,"$&_")}var WS=NH,y9=WS.custom,v9=hF(y9)?y9:null,JH=function t(n,e,r,i){var o=e||{};if(Jp(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jp(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Jp(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jp(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jp(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof n>"u")return"undefined";if(n===null)return"null";if(typeof n=="boolean")return n?"true":"false";if(typeof n=="string")return pF(n,o);if(typeof n=="number"){if(n===0)return 1/0/n>0?"0":"-0";var f=String(n);return a?g9(n,f):f}if(typeof n=="bigint"){var g=String(n)+"n";return a?g9(n,g):g}var x=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=x&&x>0&&typeof n=="object")return NS(n)?"[Array]":"[Object]";var I=gZ(o,r);if(typeof i>"u")i=[];else if(fF(i,n)>=0)return"[Circular]";function B(ke,Je,ve){if(Je&&(i=XH.call(i),i.push(Je)),ve){var ft={depth:o.depth};return Jp(o,"quoteStyle")&&(ft.quoteStyle=o.quoteStyle),t(ke,ft,r+1,i)}return t(ke,o,r+1,i)}if(typeof n=="function"&&!C9(n)){var D=lZ(n),L=zb(n,B);return"[Function"+(D?": "+D:" (anonymous)")+"]"+(L.length>0?" { "+Uh.call(L,", ")+" }":"")}if(hF(n)){var V=ly?cm.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):jS.call(n);return typeof n=="object"&&!ly?pv(V):V}if(fZ(n)){for(var W="<"+h9.call(String(n.nodeName)),j=n.attributes||[],G=0;G<j.length;G++)W+=" "+j[G].name+"="+dF(eZ(j[G].value),"double",o);return W+=">",n.childNodes&&n.childNodes.length&&(W+="..."),W+="</"+h9.call(String(n.nodeName))+">",W}if(NS(n)){if(n.length===0)return"[]";var ee=zb(n,B);return I&&!mZ(ee)?"["+GS(ee,I)+"]":"[ "+Uh.call(ee,", ")+" ]"}if(nZ(n)){var re=zb(n,B);return!("cause"in Error.prototype)&&"cause"in n&&!cF.call(n,"cause")?"{ ["+String(n)+"] "+Uh.call(f9.call("[cause]: "+B(n.cause),re),", ")+" }":re.length===0?"["+String(n)+"]":"{ ["+String(n)+"] "+Uh.call(re,", ")+" }"}if(typeof n=="object"&&s){if(v9&&typeof n[v9]=="function"&&WS)return WS(n,{depth:x-r});if(s!=="symbol"&&typeof n.inspect=="function")return n.inspect()}if(uZ(n)){var se=[];return A9&&A9.call(n,function(ke,Je){se.push(B(Je,n,!0)+" => "+B(ke,n))}),_9("Map",T2.call(n),se,I)}if(dZ(n)){var oe=[];return c9&&c9.call(n,function(ke){oe.push(B(ke,n))}),_9("Set",K2.call(n),oe,I)}if(AZ(n))return xw("WeakMap");if(hZ(n))return xw("WeakSet");if(cZ(n))return xw("WeakRef");if(iZ(n))return pv(B(Number(n)));if(aZ(n))return pv(B(zS.call(n)));if(oZ(n))return pv(YH.call(n));if(rZ(n))return pv(B(String(n)));if(typeof window<"u"&&n===window)return"{ [object Window] }";if(n===window)return"{ [object globalThis] }";if(!tZ(n)&&!C9(n)){var ue=zb(n,B),me=m9?m9(n)===Object.prototype:n instanceof Object||n.constructor===Object,De=n instanceof Object?"":"null prototype",Re=!me&&Hu&&Object(n)===n&&Hu in n?jO.call(zm(n),8,-1):De?"Object":"",et=me||typeof n.constructor!="function"?"":n.constructor.name?n.constructor.name+" ":"",ht=et+(Re||De?"["+Uh.call(f9.call([],Re||[],De||[]),": ")+"] ":"");return ue.length===0?ht+"{}":I?ht+"{"+GS(ue,I)+"}":ht+"{ "+Uh.call(ue,", ")+" }"}return String(n)};function dF(t,n,e){var r=(e.quoteStyle||n)==="double"?'"':"'";return r+t+r}function eZ(t){return cm.call(String(t),/"/g,"&quot;")}function NS(t){return zm(t)==="[object Array]"&&(!Hu||!(typeof t=="object"&&Hu in t))}function tZ(t){return zm(t)==="[object Date]"&&(!Hu||!(typeof t=="object"&&Hu in t))}function C9(t){return zm(t)==="[object RegExp]"&&(!Hu||!(typeof t=="object"&&Hu in t))}function nZ(t){return zm(t)==="[object Error]"&&(!Hu||!(typeof t=="object"&&Hu in t))}function rZ(t){return zm(t)==="[object String]"&&(!Hu||!(typeof t=="object"&&Hu in t))}function iZ(t){return zm(t)==="[object Number]"&&(!Hu||!(typeof t=="object"&&Hu in t))}function oZ(t){return zm(t)==="[object Boolean]"&&(!Hu||!(typeof t=="object"&&Hu in t))}function hF(t){if(ly)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!jS)return!1;try{return jS.call(t),!0}catch{}return!1}function aZ(t){if(!t||typeof t!="object"||!zS)return!1;try{return zS.call(t),!0}catch{}return!1}var sZ=Object.prototype.hasOwnProperty||function(t){return t in this};function Jp(t,n){return sZ.call(t,n)}function zm(t){return qH.call(t)}function lZ(t){if(t.name)return t.name;var n=HH.call(VH.call(t),/^function\s*([\w$]+)/);return n?n[1]:null}function fF(t,n){if(t.indexOf)return t.indexOf(n);for(var e=0,r=t.length;e<r;e++)if(t[e]===n)return e;return-1}function uZ(t){if(!T2||!t||typeof t!="object")return!1;try{T2.call(t);try{K2.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function AZ(t){if(!nC||!t||typeof t!="object")return!1;try{nC.call(t,nC);try{rC.call(t,rC)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function cZ(t){if(!d9||!t||typeof t!="object")return!1;try{return d9.call(t),!0}catch{}return!1}function dZ(t){if(!K2||!t||typeof t!="object")return!1;try{K2.call(t);try{T2.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function hZ(t){if(!rC||!t||typeof t!="object")return!1;try{rC.call(t,rC);try{nC.call(t,nC)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function fZ(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function pF(t,n){if(t.length>n.maxStringLength){var e=t.length-n.maxStringLength,r="... "+e+" more character"+(e>1?"s":"");return pF(jO.call(t,0,n.maxStringLength),n)+r}var i=cm.call(cm.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,pZ);return dF(i,"single",n)}function pZ(t){var n=t.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return e?"\\"+e:"\\x"+(n<16?"0":"")+ZH.call(n.toString(16))}function pv(t){return"Object("+t+")"}function xw(t){return t+" { ? }"}function _9(t,n,e,r){var i=r?GS(e,r):Uh.call(e,", ");return t+" ("+n+") {"+i+"}"}function mZ(t){for(var n=0;n<t.length;n++)if(fF(t[n],`
`)>=0)return!1;return!0}function gZ(t,n){var e;if(t.indent==="	")e="	";else if(typeof t.indent=="number"&&t.indent>0)e=Uh.call(Array(t.indent+1)," ");else return null;return{base:e,prev:Uh.call(Array(n+1),e)}}function GS(t,n){if(t.length===0)return"";var e=`
`+n.prev+n.base;return e+Uh.call(t,","+e)+`
`+n.prev}function zb(t,n){var e=NS(t),r=[];if(e){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=Jp(t,i)?n(t[i],t):""}var o=typeof bw=="function"?bw(t):[],s;if(ly){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var f in t)Jp(t,f)&&(e&&String(Number(f))===f&&f<t.length||ly&&s["$"+f]instanceof Symbol||(AF.call(/[^\w$]/,f)?r.push(n(f,t)+": "+n(t[f],t)):r.push(f+": "+n(t[f],t))));if(typeof bw=="function")for(var g=0;g<o.length;g++)cF.call(t,o[g])&&r.push("["+n(o[g])+"]: "+n(t[o[g]],t));return r}var WO=u1,by=zH,yZ=JH,vZ=WO("%TypeError%"),jb=WO("%WeakMap%",!0),Wb=WO("%Map%",!0),CZ=by("WeakMap.prototype.get",!0),_Z=by("WeakMap.prototype.set",!0),bZ=by("WeakMap.prototype.has",!0),xZ=by("Map.prototype.get",!0),wZ=by("Map.prototype.set",!0),MZ=by("Map.prototype.has",!0),NO=function(t,n){for(var e=t,r;(r=e.next)!==null;e=r)if(r.key===n)return e.next=r.next,r.next=t.next,t.next=r,r},SZ=function(t,n){var e=NO(t,n);return e&&e.value},EZ=function(t,n,e){var r=NO(t,n);r?r.value=e:t.next={key:n,next:t.next,value:e}},OZ=function(t,n){return!!NO(t,n)},BZ=function(){var n,e,r,i={assert:function(o){if(!i.has(o))throw new vZ("Side channel does not contain "+yZ(o))},get:function(o){if(jb&&o&&(typeof o=="object"||typeof o=="function")){if(n)return CZ(n,o)}else if(Wb){if(e)return xZ(e,o)}else if(r)return SZ(r,o)},has:function(o){if(jb&&o&&(typeof o=="object"||typeof o=="function")){if(n)return bZ(n,o)}else if(Wb){if(e)return MZ(e,o)}else if(r)return OZ(r,o);return!1},set:function(o,s){jb&&o&&(typeof o=="object"||typeof o=="function")?(n||(n=new jb),_Z(n,o,s)):Wb?(e||(e=new Wb),wZ(e,o,s)):(r||(r={key:{},next:null}),EZ(r,o,s))}};return i},IZ=String.prototype.replace,kZ=/%20/g,ww={RFC1738:"RFC1738",RFC3986:"RFC3986"},GO={default:ww.RFC3986,formatters:{RFC1738:function(t){return IZ.call(t,kZ,"+")},RFC3986:function(t){return String(t)}},RFC1738:ww.RFC1738,RFC3986:ww.RFC3986},TZ=GO,Mw=Object.prototype.hasOwnProperty,b0=Array.isArray,Ih=function(){for(var t=[],n=0;n<256;++n)t.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return t}(),KZ=function(n){for(;n.length>1;){var e=n.pop(),r=e.obj[e.prop];if(b0(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);e.obj[e.prop]=i}}},mF=function(n,e){for(var r=e&&e.plainObjects?Object.create(null):{},i=0;i<n.length;++i)typeof n[i]<"u"&&(r[i]=n[i]);return r},PZ=function t(n,e,r){if(!e)return n;if(typeof e!="object"){if(b0(n))n.push(e);else if(n&&typeof n=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Mw.call(Object.prototype,e))&&(n[e]=!0);else return[n,e];return n}if(!n||typeof n!="object")return[n].concat(e);var i=n;return b0(n)&&!b0(e)&&(i=mF(n,r)),b0(n)&&b0(e)?(e.forEach(function(o,s){if(Mw.call(n,s)){var a=n[s];a&&typeof a=="object"&&o&&typeof o=="object"?n[s]=t(a,o,r):n.push(o)}else n[s]=o}),n):Object.keys(e).reduce(function(o,s){var a=e[s];return Mw.call(o,s)?o[s]=t(o[s],a,r):o[s]=a,o},i)},UZ=function(n,e){return Object.keys(e).reduce(function(r,i){return r[i]=e[i],r},n)},DZ=function(t,n,e){var r=t.replace(/\+/g," ");if(e==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},FZ=function(n,e,r,i,o){if(n.length===0)return n;var s=n;if(typeof n=="symbol"?s=Symbol.prototype.toString.call(n):typeof n!="string"&&(s=String(n)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(x){return"%26%23"+parseInt(x.slice(2),16)+"%3B"});for(var a="",f=0;f<s.length;++f){var g=s.charCodeAt(f);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||o===TZ.RFC1738&&(g===40||g===41)){a+=s.charAt(f);continue}if(g<128){a=a+Ih[g];continue}if(g<2048){a=a+(Ih[192|g>>6]+Ih[128|g&63]);continue}if(g<55296||g>=57344){a=a+(Ih[224|g>>12]+Ih[128|g>>6&63]+Ih[128|g&63]);continue}f+=1,g=65536+((g&1023)<<10|s.charCodeAt(f)&1023),a+=Ih[240|g>>18]+Ih[128|g>>12&63]+Ih[128|g>>6&63]+Ih[128|g&63]}return a},LZ=function(n){for(var e=[{obj:{o:n},prop:"o"}],r=[],i=0;i<e.length;++i)for(var o=e[i],s=o.obj[o.prop],a=Object.keys(s),f=0;f<a.length;++f){var g=a[f],x=s[g];typeof x=="object"&&x!==null&&r.indexOf(x)===-1&&(e.push({obj:s,prop:g}),r.push(x))}return KZ(e),n},RZ=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},zZ=function(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},jZ=function(n,e){return[].concat(n,e)},WZ=function(n,e){if(b0(n)){for(var r=[],i=0;i<n.length;i+=1)r.push(e(n[i]));return r}return e(n)},gF={arrayToObject:mF,assign:UZ,combine:jZ,compact:LZ,decode:DZ,encode:FZ,isBuffer:zZ,isRegExp:RZ,maybeMap:WZ,merge:PZ},yF=BZ,Wx=gF,iC=GO,NZ=Object.prototype.hasOwnProperty,b9={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,e){return n+"["+e+"]"},repeat:function(n){return n}},Hf=Array.isArray,GZ=Array.prototype.push,vF=function(t,n){GZ.apply(t,Hf(n)?n:[n])},QZ=Date.prototype.toISOString,x9=iC.default,Qu={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Wx.encode,encodeValuesOnly:!1,format:x9,formatter:iC.formatters[x9],indices:!1,serializeDate:function(n){return QZ.call(n)},skipNulls:!1,strictNullHandling:!1},$Z=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},Sw={},YZ=function t(n,e,r,i,o,s,a,f,g,x,I,B,D,L,V,W){for(var j=n,G=W,ee=0,re=!1;(G=G.get(Sw))!==void 0&&!re;){var se=G.get(n);if(ee+=1,typeof se<"u"){if(se===ee)throw new RangeError("Cyclic object value");re=!0}typeof G.get(Sw)>"u"&&(ee=0)}if(typeof f=="function"?j=f(e,j):j instanceof Date?j=I(j):r==="comma"&&Hf(j)&&(j=Wx.maybeMap(j,function(ft){return ft instanceof Date?I(ft):ft})),j===null){if(o)return a&&!L?a(e,Qu.encoder,V,"key",B):e;j=""}if($Z(j)||Wx.isBuffer(j)){if(a){var oe=L?e:a(e,Qu.encoder,V,"key",B);return[D(oe)+"="+D(a(j,Qu.encoder,V,"value",B))]}return[D(e)+"="+D(String(j))]}var ue=[];if(typeof j>"u")return ue;var me;if(r==="comma"&&Hf(j))L&&a&&(j=Wx.maybeMap(j,a)),me=[{value:j.length>0?j.join(",")||null:void 0}];else if(Hf(f))me=f;else{var De=Object.keys(j);me=g?De.sort(g):De}for(var Re=i&&Hf(j)&&j.length===1?e+"[]":e,et=0;et<me.length;++et){var ht=me[et],ke=typeof ht=="object"&&typeof ht.value<"u"?ht.value:j[ht];if(!(s&&ke===null)){var Je=Hf(j)?typeof r=="function"?r(Re,ht):Re:Re+(x?"."+ht:"["+ht+"]");W.set(n,ee);var ve=yF();ve.set(Sw,W),vF(ue,t(ke,Je,r,i,o,s,r==="comma"&&L&&Hf(j)?null:a,f,g,x,I,B,D,L,V,ve))}}return ue},qZ=function(n){if(!n)return Qu;if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var e=n.charset||Qu.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=iC.default;if(typeof n.format<"u"){if(!NZ.call(iC.formatters,n.format))throw new TypeError("Unknown format option provided.");r=n.format}var i=iC.formatters[r],o=Qu.filter;return(typeof n.filter=="function"||Hf(n.filter))&&(o=n.filter),{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:Qu.addQueryPrefix,allowDots:typeof n.allowDots>"u"?Qu.allowDots:!!n.allowDots,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:Qu.charsetSentinel,delimiter:typeof n.delimiter>"u"?Qu.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:Qu.encode,encoder:typeof n.encoder=="function"?n.encoder:Qu.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:Qu.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:Qu.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:Qu.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:Qu.strictNullHandling}},VZ=function(t,n){var e=t,r=qZ(n),i,o;typeof r.filter=="function"?(o=r.filter,e=o("",e)):Hf(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof e!="object"||e===null)return"";var a;n&&n.arrayFormat in b9?a=n.arrayFormat:n&&"indices"in n?a=n.indices?"indices":"repeat":a="indices";var f=b9[a];if(n&&"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g=f==="comma"&&n&&n.commaRoundTrip;i||(i=Object.keys(e)),r.sort&&i.sort(r.sort);for(var x=yF(),I=0;I<i.length;++I){var B=i[I];r.skipNulls&&e[B]===null||vF(s,YZ(e[B],B,f,g,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,x))}var D=s.join(r.delimiter),L=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?L+="utf8=%26%2310003%3B&":L+="utf8=%E2%9C%93&"),D.length>0?L+D:""},uy=gF,QS=Object.prototype.hasOwnProperty,HZ=Array.isArray,nu={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:uy.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ZZ=function(t){return t.replace(/&#(\d+);/g,function(n,e){return String.fromCharCode(parseInt(e,10))})},CF=function(t,n){return t&&typeof t=="string"&&n.comma&&t.indexOf(",")>-1?t.split(","):t},XZ="utf8=%26%2310003%3B",JZ="utf8=%E2%9C%93",eX=function(n,e){var r={__proto__:null},i=e.ignoreQueryPrefix?n.replace(/^\?/,""):n,o=e.parameterLimit===1/0?void 0:e.parameterLimit,s=i.split(e.delimiter,o),a=-1,f,g=e.charset;if(e.charsetSentinel)for(f=0;f<s.length;++f)s[f].indexOf("utf8=")===0&&(s[f]===JZ?g="utf-8":s[f]===XZ&&(g="iso-8859-1"),a=f,f=s.length);for(f=0;f<s.length;++f)if(f!==a){var x=s[f],I=x.indexOf("]="),B=I===-1?x.indexOf("="):I+1,D,L;B===-1?(D=e.decoder(x,nu.decoder,g,"key"),L=e.strictNullHandling?null:""):(D=e.decoder(x.slice(0,B),nu.decoder,g,"key"),L=uy.maybeMap(CF(x.slice(B+1),e),function(V){return e.decoder(V,nu.decoder,g,"value")})),L&&e.interpretNumericEntities&&g==="iso-8859-1"&&(L=ZZ(L)),x.indexOf("[]=")>-1&&(L=HZ(L)?[L]:L),QS.call(r,D)?r[D]=uy.combine(r[D],L):r[D]=L}return r},tX=function(t,n,e,r){for(var i=r?n:CF(n,e),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&e.parseArrays)s=[].concat(i);else{s=e.plainObjects?Object.create(null):{};var f=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,g=parseInt(f,10);!e.parseArrays&&f===""?s={0:i}:!isNaN(g)&&a!==f&&String(g)===f&&g>=0&&e.parseArrays&&g<=e.arrayLimit?(s=[],s[g]=i):f!=="__proto__"&&(s[f]=i)}i=s}return i},nX=function(n,e,r,i){if(n){var o=r.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,f=r.depth>0&&s.exec(o),g=f?o.slice(0,f.index):o,x=[];if(g){if(!r.plainObjects&&QS.call(Object.prototype,g)&&!r.allowPrototypes)return;x.push(g)}for(var I=0;r.depth>0&&(f=a.exec(o))!==null&&I<r.depth;){if(I+=1,!r.plainObjects&&QS.call(Object.prototype,f[1].slice(1,-1))&&!r.allowPrototypes)return;x.push(f[1])}return f&&x.push("["+o.slice(f.index)+"]"),tX(x,e,r,i)}},rX=function(n){if(!n)return nu;if(n.decoder!==null&&n.decoder!==void 0&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=typeof n.charset>"u"?nu.charset:n.charset;return{allowDots:typeof n.allowDots>"u"?nu.allowDots:!!n.allowDots,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:nu.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:nu.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:nu.arrayLimit,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:nu.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:nu.comma,decoder:typeof n.decoder=="function"?n.decoder:nu.decoder,delimiter:typeof n.delimiter=="string"||uy.isRegExp(n.delimiter)?n.delimiter:nu.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:nu.depth,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:nu.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:nu.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:nu.plainObjects,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:nu.strictNullHandling}},iX=function(t,n){var e=rX(n);if(t===""||t===null||typeof t>"u")return e.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?eX(t,e):t,i=e.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],f=nX(a,r[a],e,typeof t=="string");i=uy.merge(i,f,e)}return e.allowSparse===!0?i:uy.compact(i)},oX=VZ,aX=iX,sX=GO,lX={formats:sX,parse:aX,stringify:oX},uX=eH;function xd(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var AX=/^([a-z0-9.+-]+:)/i,cX=/:[0-9]*$/,dX=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,hX=["<",">",'"',"`"," ","\r",`
`,"	"],fX=["{","}","|","\\","^","`"].concat(hX),$S=["'"].concat(fX),w9=["%","/","?",";","#"].concat($S),M9=["/","?","#"],pX=255,S9=/^[+a-z0-9A-Z_-]{0,63}$/,mX=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,gX={javascript:!0,"javascript:":!0},YS={javascript:!0,"javascript:":!0},Rg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},qS=lX;function y_(t,n,e){if(t&&typeof t=="object"&&t instanceof xd)return t;var r=new xd;return r.parse(t,n,e),r}xd.prototype.parse=function(t,n,e){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!e&&t.split("#").length===1){var f=dX.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],n?this.query=qS.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var g=AX.exec(a);if(g){g=g[0];var x=g.toLowerCase();this.protocol=x,a=a.substr(g.length)}if(e||g||a.match(/^\/\/[^@/]+@[^@/]+/)){var I=a.substr(0,2)==="//";I&&!(g&&YS[g])&&(a=a.substr(2),this.slashes=!0)}if(!YS[g]&&(I||g&&!Rg[g])){for(var B=-1,D=0;D<M9.length;D++){var L=a.indexOf(M9[D]);L!==-1&&(B===-1||L<B)&&(B=L)}var V,W;B===-1?W=a.lastIndexOf("@"):W=a.lastIndexOf("@",B),W!==-1&&(V=a.slice(0,W),a=a.slice(W+1),this.auth=decodeURIComponent(V)),B=-1;for(var D=0;D<w9.length;D++){var L=a.indexOf(w9[D]);L!==-1&&(B===-1||L<B)&&(B=L)}B===-1&&(B=a.length),this.host=a.slice(0,B),a=a.slice(B),this.parseHost(),this.hostname=this.hostname||"";var j=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!j)for(var G=this.hostname.split(/\./),D=0,ee=G.length;D<ee;D++){var re=G[D];if(re&&!re.match(S9)){for(var se="",oe=0,ue=re.length;oe<ue;oe++)re.charCodeAt(oe)>127?se+="x":se+=re[oe];if(!se.match(S9)){var me=G.slice(0,D),De=G.slice(D+1),Re=re.match(mX);Re&&(me.push(Re[1]),De.unshift(Re[2])),De.length&&(a="/"+De.join(".")+a),this.hostname=me.join(".");break}}}this.hostname.length>pX?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=uX.toASCII(this.hostname));var et=this.port?":"+this.port:"",ht=this.hostname||"";this.host=ht+et,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!gX[x])for(var D=0,ee=$S.length;D<ee;D++){var ke=$S[D];if(a.indexOf(ke)!==-1){var Je=encodeURIComponent(ke);Je===ke&&(Je=escape(ke)),a=a.split(ke).join(Je)}}var ve=a.indexOf("#");ve!==-1&&(this.hash=a.substr(ve),a=a.slice(0,ve));var ft=a.indexOf("?");if(ft!==-1?(this.search=a.substr(ft),this.query=a.substr(ft+1),n&&(this.query=qS.parse(this.query)),a=a.slice(0,ft)):n&&(this.search="",this.query={}),a&&(this.pathname=a),Rg[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var et=this.pathname||"",Ft=this.search||"";this.path=et+Ft}return this.href=this.format(),this};function yX(t){return typeof t=="string"&&(t=y_(t)),t instanceof xd?t.format():xd.prototype.format.call(t)}xd.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var n=this.protocol||"",e=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=qS.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||Rg[n])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),n+i+e+s+r};function vX(t,n){return y_(t,!1,!0).resolve(n)}xd.prototype.resolve=function(t){return this.resolveObject(y_(t,!1,!0)).format()};function CX(t,n){return t?y_(t,!1,!0).resolveObject(n):n}xd.prototype.resolveObject=function(t){if(typeof t=="string"){var n=new xd;n.parse(t,!1,!0),t=n}for(var e=new xd,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];e[o]=this[o]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var f=s[a];f!=="protocol"&&(e[f]=t[f])}return Rg[e.protocol]&&e.hostname&&!e.pathname&&(e.pathname="/",e.path=e.pathname),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Rg[t.protocol]){for(var g=Object.keys(t),x=0;x<g.length;x++){var I=g[x];e[I]=t[I]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!YS[t.protocol]){for(var ee=(t.pathname||"").split("/");ee.length&&!(t.host=ee.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),e.pathname=ee.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var B=e.pathname||"",D=e.search||"";e.path=B+D}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var L=e.pathname&&e.pathname.charAt(0)==="/",V=t.host||t.pathname&&t.pathname.charAt(0)==="/",W=V||L||e.host&&t.pathname,j=W,G=e.pathname&&e.pathname.split("/")||[],ee=t.pathname&&t.pathname.split("/")||[],re=e.protocol&&!Rg[e.protocol];if(re&&(e.hostname="",e.port=null,e.host&&(G[0]===""?G[0]=e.host:G.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(ee[0]===""?ee[0]=t.host:ee.unshift(t.host)),t.host=null),W=W&&(ee[0]===""||G[0]==="")),V)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,G=ee;else if(ee.length)G||(G=[]),G.pop(),G=G.concat(ee),e.search=t.search,e.query=t.query;else if(t.search!=null){if(re){e.host=G.shift(),e.hostname=e.host;var se=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;se&&(e.auth=se.shift(),e.hostname=se.shift(),e.host=e.hostname)}return e.search=t.search,e.query=t.query,(e.pathname!==null||e.search!==null)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!G.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var oe=G.slice(-1)[0],ue=(e.host||t.host||G.length>1)&&(oe==="."||oe==="..")||oe==="",me=0,De=G.length;De>=0;De--)oe=G[De],oe==="."?G.splice(De,1):oe===".."?(G.splice(De,1),me++):me&&(G.splice(De,1),me--);if(!W&&!j)for(;me--;me)G.unshift("..");W&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),ue&&G.join("/").substr(-1)!=="/"&&G.push("");var Re=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(re){e.hostname=Re?"":G.length?G.shift():"",e.host=e.hostname;var se=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;se&&(e.auth=se.shift(),e.hostname=se.shift(),e.host=e.hostname)}return W=W||e.host&&G.length,W&&!Re&&G.unshift(""),G.length>0?e.pathname=G.join("/"):(e.pathname=null,e.path=null),(e.pathname!==null||e.search!==null)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};xd.prototype.parseHost=function(){var t=this.host,n=cX.exec(t);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(this.hostname=t)};Pm.parse=y_;Pm.resolve=vX;Pm.resolveObject=CX;Pm.format=yX;Pm.Url=xd;var _X={},QO,E9={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function oC(t){return t=Math.round(t),t<0?0:t>255?255:t}function O9(t){return t<0?0:t>1?1:t}function Ew(t){return t[t.length-1]==="%"?oC(parseFloat(t)/100*255):oC(parseInt(t))}function Nb(t){return t[t.length-1]==="%"?O9(parseFloat(t)/100):O9(parseFloat(t))}function Ow(t,n,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?t+(n-t)*e*6:e*2<1?n:e*3<2?t+(n-t)*(2/3-e)*6:t}function bX(t){var n=t.replace(/ /g,"").toLowerCase();if(n in E9)return E9[n].slice();if(n[0]==="#"){if(n.length===4){var e=parseInt(n.substr(1),16);return e>=0&&e<=4095?[(e&3840)>>4|(e&3840)>>8,e&240|(e&240)>>4,e&15|(e&15)<<4,1]:null}else if(n.length===7){var e=parseInt(n.substr(1),16);return e>=0&&e<=16777215?[(e&16711680)>>16,(e&65280)>>8,e&255,1]:null}return null}var r=n.indexOf("("),i=n.indexOf(")");if(r!==-1&&i+1===n.length){var o=n.substr(0,r),s=n.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(s.length!==4)return null;a=Nb(s.pop());case"rgb":return s.length!==3?null:[Ew(s[0]),Ew(s[1]),Ew(s[2]),a];case"hsla":if(s.length!==4)return null;a=Nb(s.pop());case"hsl":if(s.length!==3)return null;var f=(parseFloat(s[0])%360+360)%360/360,g=Nb(s[1]),x=Nb(s[2]),I=x<=.5?x*(g+1):x+g-x*g,B=x*2-I;return[oC(Ow(B,I,f+1/3)*255),oC(Ow(B,I,f)*255),oC(Ow(B,I,f-1/3)*255),a];default:return null}}return null}try{QO=_X.parseCSSColor=bX}catch{}var xX=xy;function xy(t,n,e,r){this.cx=3*t,this.bx=3*(e-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(r-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=e,this.p2y=r}xy.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t};xy.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t};xy.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx};xy.prototype.solveCurveX=function(t,n){typeof n>"u"&&(n=1e-6);var e,r,i,o,s;for(i=t,s=0;s<8;s++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<n)return i;var a=this.sampleCurveDerivativeX(i);if(Math.abs(a)<1e-6)break;i=i-o/a}if(e=0,r=1,i=t,i<e)return e;if(i>r)return r;for(;e<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<n)return i;t>o?e=i:r=i,i=(r-e)*.5+e}return i};xy.prototype.solve=function(t,n){return this.sampleCurveY(this.solveCurveX(t,n))};const wX=Qo(xX);function _F(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bF={};(function(t){var n=function(){var e=function(W,j,G,ee){for(G=G||{},ee=W.length;ee--;G[W[ee]]=j);return G},r=[1,12],i=[1,13],o=[1,9],s=[1,10],a=[1,11],f=[1,14],g=[1,15],x=[14,18,22,24],I=[18,22],B=[22,24],D={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(j,G,ee,re,se,oe,ue){var me=oe.length-1;switch(se){case 1:this.$=new String(j.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(j),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=oe[me-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=oe[me-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[oe[me-2],oe[me]];break;case 16:this.$={},this.$[oe[me][0]]=oe[me][1];break;case 17:this.$=oe[me-2],oe[me-2][oe[me][0]]=oe[me][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[oe[me]];break;case 21:this.$=oe[me-2],oe[me-2].push(oe[me]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,12:1,13:2,15:7,16:8,17:f,23:g},{1:[3]},{14:[1,16]},e(x,[2,7]),e(x,[2,8]),e(x,[2,9]),e(x,[2,10]),e(x,[2,11]),e(x,[2,12]),e(x,[2,3]),e(x,[2,4]),e(x,[2,5]),e([14,18,21,22,24],[2,1]),e(x,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:23,15:7,16:8,17:f,23:g,24:[1,21],25:22},{1:[2,6]},e(x,[2,13]),{18:[1,24],22:[1,25]},e(I,[2,16]),{21:[1,26]},e(x,[2,18]),{22:[1,28],24:[1,27]},e(B,[2,20]),e(x,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:30,15:7,16:8,17:f,23:g},e(x,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:31,15:7,16:8,17:f,23:g},e(I,[2,17]),e(I,[2,15]),e(B,[2,21])],defaultActions:{16:[2,6]},parseError:function(j,G){if(G.recoverable)this.trace(j);else throw new Error(j)},parse:function(j){var G=this,ee=[0],re=[null],se=[],oe=this.table,ue="",me=0,De=0,Re=2,et=1,ht=se.slice.call(arguments,1),ke=Object.create(this.lexer),Je={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(Je.yy[ve]=this.yy[ve]);ke.setInput(j,Je.yy),Je.yy.lexer=ke,Je.yy.parser=this,typeof ke.yylloc>"u"&&(ke.yylloc={});var ft=ke.yylloc;se.push(ft);var Ft=ke.options&&ke.options.ranges;typeof Je.yy.parseError=="function"?this.parseError=Je.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tn(){var ce;return ce=ke.lex()||et,typeof ce!="number"&&(ce=G.symbols_[ce]||ce),ce}for(var St,Ne,qe,tt,Jt={},dt,ot,Et,Kt;;){if(Ne=ee[ee.length-1],this.defaultActions[Ne]?qe=this.defaultActions[Ne]:((St===null||typeof St>"u")&&(St=tn()),qe=oe[Ne]&&oe[Ne][St]),typeof qe>"u"||!qe.length||!qe[0]){var xe="";Kt=[];for(dt in oe[Ne])this.terminals_[dt]&&dt>Re&&Kt.push("'"+this.terminals_[dt]+"'");ke.showPosition?xe="Parse error on line "+(me+1)+`:
`+ke.showPosition()+`
Expecting `+Kt.join(", ")+", got '"+(this.terminals_[St]||St)+"'":xe="Parse error on line "+(me+1)+": Unexpected "+(St==et?"end of input":"'"+(this.terminals_[St]||St)+"'"),this.parseError(xe,{text:ke.match,token:this.terminals_[St]||St,line:ke.yylineno,loc:ft,expected:Kt})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ne+", token: "+St);switch(qe[0]){case 1:ee.push(St),re.push(ke.yytext),se.push(ke.yylloc),ee.push(qe[1]),St=null,De=ke.yyleng,ue=ke.yytext,me=ke.yylineno,ft=ke.yylloc;break;case 2:if(ot=this.productions_[qe[1]][1],Jt.$=re[re.length-ot],Jt._$={first_line:se[se.length-(ot||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(ot||1)].first_column,last_column:se[se.length-1].last_column},Ft&&(Jt._$.range=[se[se.length-(ot||1)].range[0],se[se.length-1].range[1]]),tt=this.performAction.apply(Jt,[ue,De,me,Je.yy,qe[1],re,se].concat(ht)),typeof tt<"u")return tt;ot&&(ee=ee.slice(0,-1*ot*2),re=re.slice(0,-1*ot),se=se.slice(0,-1*ot)),ee.push(this.productions_[qe[1]][0]),re.push(Jt.$),se.push(Jt._$),Et=oe[ee[ee.length-2]][ee[ee.length-1]],ee.push(Et);break;case 3:return!0}}return!0}},L=function(){var W={EOF:1,parseError:function(G,ee){if(this.yy.parser)this.yy.parser.parseError(G,ee);else throw new Error(G)},setInput:function(j,G){return this.yy=G||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var G=j.match(/(?:\r\n?|\n).*/g);return G?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},unput:function(j){var G=j.length,ee=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===re.length?this.yylloc.first_column:0)+re[re.length-ee.length].length-ee[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(j){this.unput(this.match.slice(j))},pastInput:function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var j=this.pastInput(),G=new Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+G+"^"},test_match:function(j,G){var ee,re,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),re=j[0].match(/(?:\r\n?|\n).*/g),re&&(this.yylineno+=re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:re?re[re.length-1].length-re[re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],ee=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var oe in se)this[oe]=se[oe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var j,G,ee,re;this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),oe=0;oe<se.length;oe++)if(ee=this._input.match(this.rules[se[oe]]),ee&&(!G||ee[0].length>G[0].length)){if(G=ee,re=oe,this.options.backtrack_lexer){if(j=this.test_match(ee,se[oe]),j!==!1)return j;if(this._backtrack){G=!1;continue}else return!1}else if(!this.options.flex)break}return G?(j=this.test_match(G,se[re]),j!==!1?j:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var G=this.next();return G||this.lex()},begin:function(G){this.conditionStack.push(G)},popState:function(){var G=this.conditionStack.length-1;return G>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},pushState:function(G){this.begin(G)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(G,ee,re,se){switch(re){case 0:break;case 1:return 6;case 2:return ee.yytext=ee.yytext.substr(1,ee.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return W}();D.lexer=L;function V(){this.yy={}}return V.prototype=D,D.Parser=V,new V}();typeof _F<"u"&&(t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)})})(bF);const MX=Qo(bF);var SX=8,EX={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'} objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://api.maptiler.com/maps/openstreetmap/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},OX={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},BX=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],IX={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},kX={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},TX={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},KX={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},PX={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},UX={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},DX={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},FX=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],LX={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},RX={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},zX={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},jX={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},WX={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},NX={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions. Values are declared using CSS margin shorthand syntax: a single value applies to all four sides; two values apply to [top/bottom, left/right]; three values apply to [top, left/right, bottom]; four values apply to [top, right, bottom, left]. For backwards compatibility, a single bare number is accepted, and treated the same as a one-element array - padding applied to all sides.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.2.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"`viewport-glyph` value":{js:"2.1.8"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},GX={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},QX={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},$X={type:"array",value:"*",doc:"A filter selects specific features from a layer."},YX={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},qX={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},VX={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},HX={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},ZX={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},XX={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},JX={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0"}}}},eJ=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],tJ={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},nJ={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},rJ={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},iJ={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},oJ={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},aJ={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},sJ={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},lJ={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},uJ={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},AJ={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},vr={$version:SX,$root:EX,sources:OX,source:BX,source_vector:IX,source_raster:kX,source_raster_dem:TX,source_geojson:KX,source_video:PX,source_image:UX,layer:DX,layout:FX,layout_background:LX,layout_fill:RX,layout_circle:zX,layout_heatmap:jX,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:WX,layout_symbol:NX,layout_raster:GX,layout_hillshade:QX,filter:$X,filter_operator:YX,geometry_type:qX,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:VX,expression:HX,expression_name:ZX,light:XX,terrain:JX,paint:eJ,paint_fill:tJ,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:nJ,paint_circle:rJ,paint_heatmap:iJ,paint_symbol:oJ,paint_raster:aJ,paint_hillshade:sJ,paint_background:lJ,transition:uJ,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:AJ};function B9(t,n){const e={};for(const r in n)t[r]!==void 0&&(e[r]=t[r]);for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function xF(t,n=2){return t=B9(t,vr.$root),t.layers&&(t.layers=t.layers.map(e=>B9(e,vr.layer))),JV(t,{indent:n})}function cJ(t){for(let n=0;n<vr.layout.length;n++)for(const e in vr[vr.layout[n]])if(e===t)return vr[vr.layout[n]][e];for(let n=0;n<vr.paint.length;n++)for(const e in vr[vr.paint[n]])if(e===t)return vr[vr.paint[n]][e];return null}function dJ(t,n){for(const e in t.sources)n(t.sources[e])}function aC(t,n){for(const e of t.layers)n(e)}function wF(t,n,e){function r(i,o){const s=i[o];s&&Object.keys(s).forEach(a=>{e({path:[i.id,o,a],key:a,value:s[a],reference:cJ(a),set(f){s[a]=f}})})}aC(t,i=>{n.paint&&r(i,"paint"),n.layout&&r(i,"layout")})}function Bw(t,n){for(const e in t)e.indexOf("layout")===0&&n(t[e],e)}function I9(t,n){for(const e in t)e.indexOf("paint")===0&&n(t[e],e)}function VS(t,n){return typeof n=="string"&&n[0]==="@"?VS(t,t.constants[n]):n}function hJ(t){return Array.isArray(t.stops)}function mv(t,n,e){t[e]=t[n],delete t[n]}function fJ(t){t.version=8,dJ(t,o=>{o.type==="video"&&o.url!==void 0&&mv(o,"url","urls"),o.type==="video"&&o.coordinates.forEach(s=>s.reverse())}),aC(t,o=>{Bw(o,s=>{s["symbol-min-distance"]!==void 0&&mv(s,"symbol-min-distance","symbol-spacing")}),I9(o,s=>{s["background-image"]!==void 0&&mv(s,"background-image","background-pattern"),s["line-image"]!==void 0&&mv(s,"line-image","line-pattern"),s["fill-image"]!==void 0&&mv(s,"fill-image","fill-pattern")})}),wF(t,{paint:!0,layout:!0},o=>{const s=VS(t,o.value);hJ(s)&&s.stops.forEach(a=>{a[1]=VS(t,a[1])}),o.set(s)}),delete t.constants,aC(t,o=>{Bw(o,s=>{delete s["text-max-size"],delete s["icon-max-size"]}),I9(o,s=>{s["text-size"]&&(o.layout||(o.layout={}),o.layout["text-size"]=s["text-size"],delete s["text-size"]),s["icon-size"]&&(o.layout||(o.layout={}),o.layout["icon-size"]=s["icon-size"],delete s["icon-size"])})});function n(o){const s=Pm.parse(o),a=s.pathname.split("/");if(s.protocol!=="mapbox:")return o;if(s.hostname==="fontstack")return f(decodeURI(s.pathname)==="/{fontstack}/{range}.pbf"),"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if(s.hostname==="fonts")return f(a[1]==="v1"),f(decodeURI(a[3])==="{fontstack}"),f(decodeURI(a[4])==="{range}.pbf"),`mapbox://fonts/${a[2]}/{fontstack}/{range}.pbf`;f(!1);function f(g){if(!g)throw new Error(`Invalid font url: "${o}"`)}}t.glyphs&&(t.glyphs=n(t.glyphs));function e(o){function s(a){return a.split(",").map(f=>f.trim())}if(Array.isArray(o))return o;if(typeof o=="string")return s(o);if(typeof o=="object")return o.stops.forEach(a=>{a[1]=s(a[1])}),o;throw new Error("unexpected font value")}aC(t,o=>{Bw(o,s=>{s["text-font"]&&(s["text-font"]=e(s["text-font"]))})});let r=0;for(let o=t.layers.length-1;o>=0;o--)if(t.layers[o].type!=="symbol"){r=o+1;break}const i=t.layers.splice(r);return i.reverse(),t.layers=t.layers.concat(i),t}function Ay(t,...n){for(const e of n)for(const r in e)t[r]=e[r];return t}class Lh extends Error{constructor(n,e){super(e),this.message=e,this.key=n}}let pJ=class MF{constructor(n,e=[]){this.parent=n,this.bindings={};for(const[r,i]of e)this.bindings[r]=i}concat(n){return new MF(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return this.bindings[n]?!0:this.parent?this.parent.has(n):!1}};const y4={kind:"null"},Xn={kind:"number"},fo={kind:"string"},Yi={kind:"boolean"},ap={kind:"color"},zg={kind:"object"},Vi={kind:"value"},mJ={kind:"error"},v4={kind:"collator"},C4={kind:"formatted"},$O={kind:"padding"},v_={kind:"resolvedImage"};function gd(t,n){return{kind:"array",itemType:t,N:n}}function ds(t){if(t.kind==="array"){const n=ds(t.itemType);return typeof t.N=="number"?`array<${n}, ${t.N}>`:t.itemType.kind==="value"?"array":`array<${n}>`}else return t.kind}const gJ=[y4,Xn,fo,Yi,ap,C4,zg,gd(Vi),$O,v_];function PC(t,n){if(n.kind==="error")return null;if(t.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!PC(t.itemType,n.itemType))&&(typeof t.N!="number"||t.N===n.N))return null}else{if(t.kind===n.kind)return null;if(t.kind==="value"){for(const e of gJ)if(!PC(e,n))return null}}return`Expected ${ds(t)} but found ${ds(n)} instead.`}function YO(t,n){return n.some(e=>e.kind===t.kind)}function UC(t,n){return n.some(e=>e==="null"?t===null:e==="array"?Array.isArray(t):e==="object"?t&&!Array.isArray(t)&&typeof t=="object":e===typeof t)}let Ws=class HS{constructor(n,e,r,i=1){this.r=n,this.g=e,this.b=r,this.a=i}static parse(n){if(!n)return;if(n instanceof HS)return n;if(typeof n!="string")return;const e=QO(n);if(e)return new HS(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}toString(){const[n,e,r,i]=this.toArray();return`rgba(${Math.round(n)},${Math.round(e)},${Math.round(r)},${i})`}toArray(){const{r:n,g:e,b:r,a:i}=this;return i===0?[0,0,0,0]:[n*255/i,e*255/i,r*255/i,i]}};Ws.black=new Ws(0,0,0,1);Ws.white=new Ws(1,1,1,1);Ws.transparent=new Ws(0,0,0,0);Ws.red=new Ws(1,0,0,1);let qO=class{constructor(n,e,r){n?this.sensitivity=e?"variant":"case":this.sensitivity=e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,e){return this.collator.compare(n,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}},ZS=class{constructor(n,e,r,i,o){this.text=n,this.image=e,this.scale=r,this.fontStack=i,this.textColor=o}},wy=class Nx{constructor(n){this.sections=n}static fromString(n){return new Nx([new ZS(n,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof Nx?n:Nx.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}};class Fc{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof Fc)return n;if(typeof n=="number")return new Fc([n,n,n,n]);if(Array.isArray(n)&&!(n.length<1||n.length>4)){for(const e of n)if(typeof e!="number")return;switch(n.length){case 1:n=[n[0],n[0],n[0],n[0]];break;case 2:n=[n[0],n[1],n[0],n[1]];break;case 3:n=[n[0],n[1],n[2],n[1]];break}return new Fc(n)}}toString(){return JSON.stringify(this.values)}}let A1=class SF{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new SF({name:n,available:!1}):null}};function EF(t,n,e,r){return typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[t,n,e,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[t,n,e,r]:[t,n,e]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function P2(t){if(t===null)return!0;if(typeof t=="string")return!0;if(typeof t=="boolean")return!0;if(typeof t=="number")return!0;if(t instanceof Ws)return!0;if(t instanceof qO)return!0;if(t instanceof wy)return!0;if(t instanceof Fc)return!0;if(t instanceof A1)return!0;if(Array.isArray(t)){for(const n of t)if(!P2(n))return!1;return!0}else if(typeof t=="object"){for(const n in t)if(!P2(t[n]))return!1;return!0}else return!1}function Dl(t){if(t===null)return y4;if(typeof t=="string")return fo;if(typeof t=="boolean")return Yi;if(typeof t=="number")return Xn;if(t instanceof Ws)return ap;if(t instanceof qO)return v4;if(t instanceof wy)return C4;if(t instanceof Fc)return $O;if(t instanceof A1)return v_;if(Array.isArray(t)){const n=t.length;let e;for(const r of t){const i=Dl(r);if(!e)e=i;else{if(e===i)continue;e=Vi;break}}return gd(e||Vi,n)}else return zg}function sC(t){const n=typeof t;return t===null?"":n==="string"||n==="number"||n==="boolean"?String(t):t instanceof Ws||t instanceof wy||t instanceof Fc||t instanceof A1?t.toString():JSON.stringify(t)}let U2=class OF{constructor(n,e){this.type=n,this.value=e}static parse(n,e){if(n.length!==2)return e.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!P2(n[1]))return e.error("invalid value");const r=n[1];let i=Dl(r);const o=e.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new OF(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}},lu=class{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}};const Gb={string:fo,number:Xn,boolean:Yi,object:zg};let ep=class BF{constructor(n,e){this.type=n,this.args=e}static parse(n,e){if(n.length<2)return e.error("Expected at least one argument.");let r=1,i;const o=n[0];if(o==="array"){let a;if(n.length>2){const g=n[1];if(typeof g!="string"||!(g in Gb)||g==="object")return e.error('The item type argument of "array" must be one of string, number, boolean',1);a=Gb[g],r++}else a=Vi;let f;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return e.error('The length argument to "array" must be a positive integer literal',2);f=n[2],r++}i=gd(a,f)}else{if(!Gb[o])throw new Error(`Types doesn't contain name = ${o}`);i=Gb[o]}const s=[];for(;r<n.length;r++){const a=e.parse(n[r],r,Vi);if(!a)return null;s.push(a)}return new BF(i,s)}evaluate(n){for(let e=0;e<this.args.length;e++){const r=this.args[e].evaluate(n);if(PC(this.type,Dl(r))){if(e===this.args.length-1)throw new lu(`Expected value to be of type ${ds(this.type)}, but found ${ds(Dl(r))} instead.`)}else return r}throw new Error}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}};const k9={"to-boolean":Yi,"to-color":ap,"to-number":Xn,"to-string":fo};let bg=class IF{constructor(n,e){this.type=n,this.args=e}static parse(n,e){if(n.length<2)return e.error("Expected at least one argument.");const r=n[0];if(!k9[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&n.length!==2)return e.error("Expected one argument.");const i=k9[r],o=[];for(let s=1;s<n.length;s++){const a=e.parse(n[s],s,Vi);if(!a)return null;o.push(a)}return new IF(i,o)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let e,r;for(const i of this.args){if(e=i.evaluate(n),r=null,e instanceof Ws)return e;if(typeof e=="string"){const o=n.parseColor(e);if(o)return o}else if(Array.isArray(e)&&(e.length<3||e.length>4?r=`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:r=EF(e[0],e[1],e[2],e[3]),!r))return new Ws(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new lu(r||`Could not parse color from value '${typeof e=="string"?e:JSON.stringify(e)}'`)}else if(this.type.kind==="padding"){let e;for(const r of this.args){e=r.evaluate(n);const i=Fc.parse(e);if(i)return i}throw new lu(`Could not parse padding from value '${typeof e=="string"?e:JSON.stringify(e)}'`)}else if(this.type.kind==="number"){let e=null;for(const r of this.args){if(e=r.evaluate(n),e===null)return 0;const i=Number(e);if(!isNaN(i))return i}throw new lu(`Could not convert ${JSON.stringify(e)} to number.`)}else return this.type.kind==="formatted"?wy.fromString(sC(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?A1.fromString(sC(this.args[0].evaluate(n))):sC(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}};const yJ=["Unknown","Point","LineString","Polygon"];let kF=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?yJ[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(n){let e=this._parseColorCache[n];return e||(e=this._parseColorCache[n]=Ws.parse(n)),e}},TF=class KF{constructor(n,e,r=[],i,o=new pJ,s=[]){this.registry=n,this.path=r,this.key=r.map(a=>`[${a}]`).join(""),this.scope=o,this.errors=s,this.expectedType=i,this._isConstant=e}parse(n,e,r,i,o={}){return e?this.concat(e,r,i)._parse(n,o):this._parse(n,o)}_parse(n,e){(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number")&&(n=["literal",n]);function r(i,o,s){return s==="assert"?new ep(o,[i]):s==="coerce"?new bg(o,[i]):i}if(Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=n[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(n,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,f=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&f.kind==="value")s=r(s,a,e.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(f.kind==="value"||f.kind==="string"))s=r(s,a,e.typeAnnotation||"coerce");else if(a.kind==="padding"&&(f.kind==="value"||f.kind==="number"||f.kind==="array"))s=r(s,a,e.typeAnnotation||"coerce");else if(this.checkSubtype(a,f))return null}if(!(s instanceof U2)&&s.type.kind!=="resolvedImage"&&this._isConstant(s)){const a=new kF;try{s=new U2(s.type,s.evaluate(a))}catch(f){return this.error(f.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof n>"u"?this.error("'undefined' value invalid. Use null instead."):typeof n=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof n} instead.`)}concat(n,e,r){const i=typeof n=="number"?this.path.concat(n):this.path,o=r?this.scope.concat(r):this.scope;return new KF(this.registry,this._isConstant,i,e||null,o,this.errors)}error(n,...e){const r=`${this.key}${e.map(i=>`[${i}]`).join("")}`;this.errors.push(new Lh(r,n))}checkSubtype(n,e){const r=PC(n,e);return r&&this.error(r),r}},PF=class UF{constructor(n,e,r){this.type=v4,this.locale=r,this.caseSensitive=n,this.diacriticSensitive=e}static parse(n,e){if(n.length!==2)return e.error("Expected one argument.");const r=n[1];if(typeof r!="object"||Array.isArray(r))return e.error("Collator options argument must be an object.");const i=e.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Yi);if(!i)return null;const o=e.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Yi);if(!o)return null;let s=null;return r.locale&&(s=e.parse(r.locale,1,fo),!s)?null:new UF(i,o,s)}evaluate(n){return new qO(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}};const Mm=8192;function VO(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.max(t[2],n[0]),t[3]=Math.max(t[3],n[1])}function vJ(t){return(180+t)/360}function CJ(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function D2(t,n){return!(t[0]<=n[0]||t[2]>=n[2]||t[1]<=n[1]||t[3]>=n[3])}function _J(t,n){const e=vJ(t[0]),r=CJ(t[1]),i=Math.pow(2,n.z);return[Math.round(e*i*Mm),Math.round(r*i*Mm)]}function bJ(t,n,e){const r=t[0]-n[0],i=t[1]-n[1],o=t[0]-e[0],s=t[1]-e[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function xJ(t,n,e){return n[1]>t[1]!=e[1]>t[1]&&t[0]<(e[0]-n[0])*(t[1]-n[1])/(e[1]-n[1])+n[0]}function HO(t,n){let e=!1;for(let r=0,i=n.length;r<i;r++){const o=n[r];for(let s=0,a=o.length;s<a-1;s++){if(bJ(t,o[s],o[s+1]))return!1;xJ(t,o[s],o[s+1])&&(e=!e)}}return e}function wJ(t,n){for(let e=0;e<n.length;e++)if(HO(t,n[e]))return!0;return!1}function MJ(t,n){return t[0]*n[1]-t[1]*n[0]}function T9(t,n,e,r){const i=t[0]-e[0],o=t[1]-e[1],s=n[0]-e[0],a=n[1]-e[1],f=r[0]-e[0],g=r[1]-e[1],x=i*g-f*o,I=s*g-f*a;return x>0&&I<0||x<0&&I>0}function SJ(t,n,e,r){const i=[n[0]-t[0],n[1]-t[1]],o=[r[0]-e[0],r[1]-e[1]];return MJ(o,i)===0?!1:!!(T9(t,n,e,r)&&T9(e,r,t,n))}function EJ(t,n,e){for(const r of e)for(let i=0;i<r.length-1;++i)if(SJ(t,n,r[i],r[i+1]))return!0;return!1}function DF(t,n){for(let e=0;e<t.length;++e)if(!HO(t[e],n))return!1;for(let e=0;e<t.length-1;++e)if(EJ(t[e],t[e+1],n))return!1;return!0}function OJ(t,n){for(let e=0;e<n.length;e++)if(DF(t,n[e]))return!0;return!1}function ZO(t,n,e){const r=[];for(let i=0;i<t.length;i++){const o=[];for(let s=0;s<t[i].length;s++){const a=_J(t[i][s],e);VO(n,a),o.push(a)}r.push(o)}return r}function FF(t,n,e){const r=[];for(let i=0;i<t.length;i++){const o=ZO(t[i],n,e);r.push(o)}return r}function LF(t,n,e,r){if(t[0]<e[0]||t[0]>e[2]){const i=r*.5;let o=t[0]-e[0]>i?-r:e[0]-t[0]>i?r:0;o===0&&(o=t[0]-e[2]>i?-r:e[2]-t[0]>i?r:0),t[0]+=o}VO(n,t)}function BJ(t){t[0]=t[1]=1/0,t[2]=t[3]=-1/0}function K9(t,n,e,r){const i=Math.pow(2,r.z)*Mm,o=[r.x*Mm,r.y*Mm],s=[];for(const a of t)for(const f of a){const g=[f.x+o[0],f.y+o[1]];LF(g,n,e,i),s.push(g)}return s}function P9(t,n,e,r){const i=Math.pow(2,r.z)*Mm,o=[r.x*Mm,r.y*Mm],s=[];for(const a of t){const f=[];for(const g of a){const x=[g.x+o[0],g.y+o[1]];VO(n,x),f.push(x)}s.push(f)}if(n[2]-n[0]<=i/2){BJ(n);for(const a of s)for(const f of a)LF(f,n,e,i)}return s}function IJ(t,n){const e=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(n.type==="Polygon"){const o=ZO(n.coordinates,r,i),s=K9(t.geometry(),e,r,i);if(!D2(e,r))return!1;for(const a of s)if(!HO(a,o))return!1}if(n.type==="MultiPolygon"){const o=FF(n.coordinates,r,i),s=K9(t.geometry(),e,r,i);if(!D2(e,r))return!1;for(const a of s)if(!wJ(a,o))return!1}return!0}function kJ(t,n){const e=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(n.type==="Polygon"){const o=ZO(n.coordinates,r,i),s=P9(t.geometry(),e,r,i);if(!D2(e,r))return!1;for(const a of s)if(!DF(a,o))return!1}if(n.type==="MultiPolygon"){const o=FF(n.coordinates,r,i),s=P9(t.geometry(),e,r,i);if(!D2(e,r))return!1;for(const a of s)if(!OJ(a,o))return!1}return!0}let XO=class Gx{constructor(n,e){this.type=Yi,this.geojson=n,this.geometries=e}static parse(n,e){if(n.length!==2)return e.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(P2(n[1])){const r=n[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new Gx(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new Gx(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new Gx(r,r)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return IJ(n,this.geometries);if(n.geometryType()==="LineString")return kJ(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}},RF=class zF{constructor(n,e){this.type=e.type,this.name=n,this.boundExpression=e}static parse(n,e){if(n.length!==2||typeof n[1]!="string")return e.error("'var' expression requires exactly one string literal argument.");const r=n[1];return e.scope.has(r)?new zF(r,e.scope.get(r)):e.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}},My=class Tv{constructor(n,e,r,i){this.name=n,this.type=e,this._evaluate=r,this.args=i}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}static parse(n,e){const r=n[0],i=Tv.definitions[r];if(!i)return e.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([g])=>!Array.isArray(g)||g.length===n.length-1);let f=null;for(const[g,x]of a){f=new TF(e.registry,F2,e.path,null,e.scope);const I=[];let B=!1;for(let D=1;D<n.length;D++){const L=n[D],V=Array.isArray(g)?g[D-1]:g.type,W=f.parse(L,1+I.length,V);if(!W){B=!0;break}I.push(W)}if(!B){if(Array.isArray(g)&&g.length!==I.length){f.error(`Expected ${g.length} arguments, but found ${I.length} instead.`);continue}for(let D=0;D<I.length;D++){const L=Array.isArray(g)?g[D]:g.type,V=I[D];f.concat(D+1).checkSubtype(L,V.type)}if(f.errors.length===0)return new Tv(r,o,x,I)}}if(a.length===1)e.errors.push(...f.errors);else{const x=(a.length?a:s).map(([B])=>TJ(B)).join(" | "),I=[];for(let B=1;B<n.length;B++){const D=e.parse(n[B],1+I.length);if(!D)return null;I.push(ds(D.type))}e.error(`Expected arguments of type ${x}, but found (${I.join(", ")}) instead.`)}return null}static register(n,e){Tv.definitions=e;for(const r in e)n[r]=Tv}};function TJ(t){return Array.isArray(t)?`(${t.map(ds).join(", ")})`:`(${ds(t.type)}...)`}function F2(t){if(t instanceof RF)return F2(t.boundExpression);if(t instanceof My&&t.name==="error")return!1;if(t instanceof PF)return!1;if(t instanceof XO)return!1;const n=t instanceof bg||t instanceof ep;let e=!0;return t.eachChild(r=>{n?e=e&&F2(r):e=e&&r instanceof U2}),e?_4(t)&&b4(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function _4(t){if(t instanceof My){if(t.name==="get"&&t.args.length===1)return!1;if(t.name==="feature-state")return!1;if(t.name==="has"&&t.args.length===1)return!1;if(t.name==="properties"||t.name==="geometry-type"||t.name==="id")return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof XO)return!1;let n=!0;return t.eachChild(e=>{n&&!_4(e)&&(n=!1)}),n}function DC(t){if(t instanceof My&&t.name==="feature-state")return!1;let n=!0;return t.eachChild(e=>{n&&!DC(e)&&(n=!1)}),n}function b4(t,n){if(t instanceof My&&n.indexOf(t.name)>=0)return!1;let e=!0;return t.eachChild(r=>{e&&!b4(r,n)&&(e=!1)}),e}function x4(t,n){const e=t.length-1;let r=0,i=e,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=t[o],a=t[o+1],s<=n){if(o===e||n<a)return o;r=o+1}else if(s>n)i=o-1;else throw new lu("Input is not a number.");return 0}let jF=class WF{constructor(n,e,r){this.type=n,this.input=e,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(n,e){if(n.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return e.error("Expected an even number of arguments.");const r=e.parse(n[1],1,Xn);if(!r)return null;const i=[];let o=null;e.expectedType&&e.expectedType.kind!=="value"&&(o=e.expectedType);for(let s=1;s<n.length;s+=2){const a=s===1?-1/0:n[s],f=n[s+1],g=s,x=s+1;if(typeof a!="number")return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const I=e.parse(f,x,o);if(!I)return null;o=o||I.type,i.push([a,I])}return new WF(o,r,i)}evaluate(n){const e=this.labels,r=this.outputs;if(e.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=e[0])return r[0].evaluate(n);const o=e.length;if(i>=e[o-1])return r[o-1].evaluate(n);const s=x4(e,i);return r[s].evaluate(n)}eachChild(n){n(this.input);for(const e of this.outputs)n(e)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}};function _u(t,n,e){return t*(1-e)+n*e}function KJ(t,n,e){return new Ws(_u(t.r,n.r,e),_u(t.g,n.g,e),_u(t.b,n.b,e),_u(t.a,n.a,e))}function PJ(t,n,e){return t.map((r,i)=>_u(r,n[i],e))}function UJ(t,n,e){const r=t.values,i=n.values;return new Fc([_u(r[0],i[0],e),_u(r[1],i[1],e),_u(r[2],i[2],e),_u(r[3],i[3],e)])}var NF=Object.freeze({__proto__:null,array:PJ,color:KJ,number:_u,padding:UJ});const GF=.95047,QF=1,$F=1.08883,YF=4/29,jg=6/29,qF=3*jg*jg,DJ=jg*jg*jg,FJ=Math.PI/180,LJ=180/Math.PI;function Iw(t){return t>DJ?Math.pow(t,1/3):t/qF+YF}function kw(t){return t>jg?t*t*t:qF*(t-YF)}function Tw(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Kw(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function VF(t){const n=Kw(t.r),e=Kw(t.g),r=Kw(t.b),i=Iw((.4124564*n+.3575761*e+.1804375*r)/GF),o=Iw((.2126729*n+.7151522*e+.072175*r)/QF),s=Iw((.0193339*n+.119192*e+.9503041*r)/$F);return{l:116*o-16,a:500*(i-o),b:200*(o-s),alpha:t.a}}function HF(t){let n=(t.l+16)/116,e=isNaN(t.a)?n:n+t.a/500,r=isNaN(t.b)?n:n-t.b/200;return n=QF*kw(n),e=GF*kw(e),r=$F*kw(r),new Ws(Tw(3.2404542*e-1.5371385*n-.4985314*r),Tw(-.969266*e+1.8760108*n+.041556*r),Tw(.0556434*e-.2040259*n+1.0572252*r),t.alpha)}function RJ(t,n,e){return{l:_u(t.l,n.l,e),a:_u(t.a,n.a,e),b:_u(t.b,n.b,e),alpha:_u(t.alpha,n.alpha,e)}}function zJ(t){const{l:n,a:e,b:r}=VF(t),i=Math.atan2(r,e)*LJ;return{h:i<0?i+360:i,c:Math.sqrt(e*e+r*r),l:n,alpha:t.a}}function jJ(t){const n=t.h*FJ,e=t.c,r=t.l;return HF({l:r,a:Math.cos(n)*e,b:Math.sin(n)*e,alpha:t.alpha})}function WJ(t,n,e){const r=n-t;return t+e*(r>180||r<-180?r-360*Math.round(r/360):r)}function NJ(t,n,e){return{h:WJ(t.h,n.h,e),c:_u(t.c,n.c,e),l:_u(t.l,n.l,e),alpha:_u(t.alpha,n.alpha,e)}}const Kv={forward:VF,reverse:HF,interpolate:RJ},Pv={forward:zJ,reverse:jJ,interpolate:NJ};var ZF=Object.freeze({__proto__:null,hcl:Pv,lab:Kv});let sp=class XS{constructor(n,e,r,i,o){this.type=n,this.operator=e,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(n,e,r,i){let o=0;if(n.name==="exponential")o=Pw(e,n.base,r,i);else if(n.name==="linear")o=Pw(e,1,r,i);else if(n.name==="cubic-bezier"){const s=n.controlPoints;o=new wX(s[0],s[1],s[2],s[3]).solve(Pw(e,1,r,i))}return o}static parse(n,e){let[r,i,o,...s]=n;if(!Array.isArray(i)||i.length===0)return e.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(x=>typeof x!="number"||x<0||x>1))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return e.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(n.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(o=e.parse(o,2,Xn),!o)return null;const a=[];let f=null;r==="interpolate-hcl"||r==="interpolate-lab"?f=ap:e.expectedType&&e.expectedType.kind!=="value"&&(f=e.expectedType);for(let g=0;g<s.length;g+=2){const x=s[g],I=s[g+1],B=g+3,D=g+4;if(typeof x!="number")return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',B);if(a.length&&a[a.length-1][0]>=x)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',B);const L=e.parse(I,D,f);if(!L)return null;f=f||L.type,a.push([x,L])}return f.kind!=="number"&&f.kind!=="color"&&f.kind!=="padding"&&!(f.kind==="array"&&f.itemType.kind==="number"&&typeof f.N=="number")?e.error(`Type ${ds(f)} is not interpolatable.`):new XS(f,r,i,o,a)}evaluate(n){const e=this.labels,r=this.outputs;if(e.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=e[0])return r[0].evaluate(n);const o=e.length;if(i>=e[o-1])return r[o-1].evaluate(n);const s=x4(e,i),a=e[s],f=e[s+1],g=XS.interpolationFactor(this.interpolation,i,a,f),x=r[s].evaluate(n),I=r[s+1].evaluate(n);return this.operator==="interpolate"?NF[this.type.kind.toLowerCase()](x,I,g):this.operator==="interpolate-hcl"?Pv.reverse(Pv.interpolate(Pv.forward(x),Pv.forward(I),g)):Kv.reverse(Kv.interpolate(Kv.forward(x),Kv.forward(I),g))}eachChild(n){n(this.input);for(const e of this.outputs)n(e)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}};function Pw(t,n,e,r){const i=r-e,o=t-e;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}let XF=class JS{constructor(n,e){this.type=n,this.args=e}static parse(n,e){if(n.length<2)return e.error("Expectected at least one argument.");let r=null;const i=e.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of n.slice(1)){const f=e.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!f)return null;r=r||f.type,o.push(f)}if(!r)throw new Error("No output type");return i&&o.some(a=>PC(i,a.type))?new JS(Vi,o):new JS(r,o)}evaluate(n){let e=null,r=0,i;for(const o of this.args)if(r++,e=o.evaluate(n),e&&e instanceof A1&&!e.available&&(i||(i=e.name),e=null,r===this.args.length&&(e=i)),e!==null)break;return e}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}},JF=class eL{constructor(n,e){this.type=e.type,this.bindings=[].concat(n),this.result=e}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const e of this.bindings)n(e[1]);n(this.result)}static parse(n,e){if(n.length<4)return e.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const r=[];for(let o=1;o<n.length-1;o+=2){const s=n[o];if(typeof s!="string")return e.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return e.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=e.parse(n[o+1],o+1);if(!a)return null;r.push([s,a])}const i=e.parse(n[n.length-1],n.length-1,e.expectedType,r);return i?new eL(r,i):null}outputDefined(){return this.result.outputDefined()}},GJ=class tL{constructor(n,e,r){this.type=n,this.index=e,this.input=r}static parse(n,e){if(n.length!==3)return e.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Xn),i=e.parse(n[2],2,gd(e.expectedType||Vi));if(!r||!i)return null;const o=i.type;return new tL(o.itemType,r,i)}evaluate(n){const e=this.index.evaluate(n),r=this.input.evaluate(n);if(e<0)throw new lu(`Array index out of bounds: ${e} < 0.`);if(e>=r.length)throw new lu(`Array index out of bounds: ${e} > ${r.length-1}.`);if(e!==Math.floor(e))throw new lu(`Array index must be an integer, but found ${e} instead.`);return r[e]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}},QJ=class nL{constructor(n,e){this.type=Yi,this.needle=n,this.haystack=e}static parse(n,e){if(n.length!==3)return e.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Vi),i=e.parse(n[2],2,Vi);return!r||!i?null:YO(r.type,[Yi,fo,Xn,y4,Vi])?new nL(r,i):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ds(r.type)} instead`)}evaluate(n){const e=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!r)return!1;if(!UC(e,["boolean","string","number","null"]))throw new lu(`Expected first argument to be of type boolean, string, number or null, but found ${ds(Dl(e))} instead.`);if(!UC(r,["string","array"]))throw new lu(`Expected second argument to be of type array or string, but found ${ds(Dl(r))} instead.`);return r.indexOf(e)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}},$J=class e6{constructor(n,e,r){this.type=Xn,this.needle=n,this.haystack=e,this.fromIndex=r}static parse(n,e){if(n.length<=2||n.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Vi),i=e.parse(n[2],2,Vi);if(!r||!i)return null;if(!YO(r.type,[Yi,fo,Xn,y4,Vi]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ds(r.type)} instead`);if(n.length===4){const o=e.parse(n[3],3,Xn);return o?new e6(r,i,o):null}else return new e6(r,i)}evaluate(n){const e=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!UC(e,["boolean","string","number","null"]))throw new lu(`Expected first argument to be of type boolean, string, number or null, but found ${ds(Dl(e))} instead.`);if(!UC(r,["string","array"]))throw new lu(`Expected second argument to be of type array or string, but found ${ds(Dl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(n);return r.indexOf(e,i)}return r.indexOf(e)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}},YJ=class rL{constructor(n,e,r,i,o,s){this.inputType=n,this.type=e,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(n,e){if(n.length<5)return e.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!==1)return e.error("Expected an even number of arguments.");let r,i;e.expectedType&&e.expectedType.kind!=="value"&&(i=e.expectedType);const o={},s=[];for(let g=2;g<n.length-1;g+=2){let x=n[g];const I=n[g+1];Array.isArray(x)||(x=[x]);const B=e.concat(g);if(x.length===0)return B.error("Expected at least one branch label.");for(const L of x){if(typeof L!="number"&&typeof L!="string")return B.error("Branch labels must be numbers or strings.");if(typeof L=="number"&&Math.abs(L)>Number.MAX_SAFE_INTEGER)return B.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof L=="number"&&Math.floor(L)!==L)return B.error("Numeric branch labels must be integer values.");if(!r)r=Dl(L);else if(B.checkSubtype(r,Dl(L)))return null;if(typeof o[String(L)]<"u")return B.error("Branch labels must be unique.");o[String(L)]=s.length}const D=e.parse(I,g,i);if(!D)return null;i=i||D.type,s.push(D)}const a=e.parse(n[1],1,Vi);if(!a)return null;const f=e.parse(n[n.length-1],n.length-1,i);return!f||a.type.kind!=="value"&&e.concat(1).checkSubtype(r,a.type)?null:new rL(r,i,a,o,s,f)}evaluate(n){const e=this.input.evaluate(n);return(Dl(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}},qJ=class iL{constructor(n,e,r){this.type=n,this.branches=e,this.otherwise=r}static parse(n,e){if(n.length<4)return e.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!==0)return e.error("Expected an odd number of arguments.");let r;e.expectedType&&e.expectedType.kind!=="value"&&(r=e.expectedType);const i=[];for(let s=1;s<n.length-1;s+=2){const a=e.parse(n[s],s,Yi);if(!a)return null;const f=e.parse(n[s+1],s+1,r);if(!f)return null;i.push([a,f]),r=r||f.type}const o=e.parse(n[n.length-1],n.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new iL(r,i,o)}evaluate(n){for(const[e,r]of this.branches)if(e.evaluate(n))return r.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[e,r]of this.branches)n(e),n(r);n(this.otherwise)}outputDefined(){return this.branches.every(([n,e])=>e.outputDefined())&&this.otherwise.outputDefined()}},VJ=class t6{constructor(n,e,r,i){this.type=n,this.input=e,this.beginIndex=r,this.endIndex=i}static parse(n,e){if(n.length<=2||n.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Vi),i=e.parse(n[2],2,Xn);if(!r||!i)return null;if(!YO(r.type,[gd(Vi),fo,Vi]))return e.error(`Expected first argument to be of type array or string, but found ${ds(r.type)} instead`);if(n.length===4){const o=e.parse(n[3],3,Xn);return o?new t6(r.type,r,i,o):null}else return new t6(r.type,r,i)}evaluate(n){const e=this.input.evaluate(n),r=this.beginIndex.evaluate(n);if(!UC(e,["string","array"]))throw new lu(`Expected first argument to be of type array or string, but found ${ds(Dl(e))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(n);return e.slice(r,i)}return e.slice(r)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}};function U9(t,n){return t==="=="||t==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function HJ(t,n,e){return n===e}function ZJ(t,n,e){return n!==e}function XJ(t,n,e){return n<e}function JJ(t,n,e){return n>e}function eee(t,n,e){return n<=e}function tee(t,n,e){return n>=e}function oL(t,n,e,r){return r.compare(n,e)===0}function nee(t,n,e,r){return!oL(t,n,e,r)}function ree(t,n,e,r){return r.compare(n,e)<0}function iee(t,n,e,r){return r.compare(n,e)>0}function oee(t,n,e,r){return r.compare(n,e)<=0}function aee(t,n,e,r){return r.compare(n,e)>=0}function Sy(t,n,e){const r=t!=="=="&&t!=="!=";return class aL{constructor(o,s,a){this.type=Yi,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let f=s.parse(o[1],1,Vi);if(!f)return null;if(!U9(a,f.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${ds(f.type)}'.`);let g=s.parse(o[2],2,Vi);if(!g)return null;if(!U9(a,g.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${ds(g.type)}'.`);if(f.type.kind!==g.type.kind&&f.type.kind!=="value"&&g.type.kind!=="value")return s.error(`Cannot compare types '${ds(f.type)}' and '${ds(g.type)}'.`);r&&(f.type.kind==="value"&&g.type.kind!=="value"?f=new ep(g.type,[f]):f.type.kind!=="value"&&g.type.kind==="value"&&(g=new ep(f.type,[g])));let x=null;if(o.length===4){if(f.type.kind!=="string"&&g.type.kind!=="string"&&f.type.kind!=="value"&&g.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(x=s.parse(o[3],3,v4),!x)return null}return new aL(f,g,x)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const f=Dl(s),g=Dl(a);if(f.kind!==g.kind||!(f.kind==="string"||f.kind==="number"))throw new lu(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${f.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const f=Dl(s),g=Dl(a);if(f.kind!=="string"||g.kind!=="string")return n(o,s,a)}return this.collator?e(o,s,a,this.collator.evaluate(o)):n(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const see=Sy("==",HJ,oL),lee=Sy("!=",ZJ,nee),uee=Sy("<",XJ,ree),Aee=Sy(">",JJ,iee),cee=Sy("<=",eee,oee),dee=Sy(">=",tee,aee);let hee=class sL{constructor(n,e,r,i,o){this.type=fo,this.number=n,this.locale=e,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(n,e){if(n.length!==3)return e.error("Expected two arguments.");const r=e.parse(n[1],1,Xn);if(!r)return null;const i=n[2];if(typeof i!="object"||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=e.parse(i.locale,1,fo),!o))return null;let s=null;if(i.currency&&(s=e.parse(i.currency,1,fo),!s))return null;let a=null;if(i["min-fraction-digits"]&&(a=e.parse(i["min-fraction-digits"],1,Xn),!a))return null;let f=null;return i["max-fraction-digits"]&&(f=e.parse(i["max-fraction-digits"],1,Xn),!f)?null:new sL(r,o,s,a,f)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}},fee=class lL{constructor(n){this.type=C4,this.sections=n}static parse(n,e){if(n.length<2)return e.error("Expected at least one argument.");const r=n[1];if(!Array.isArray(r)&&typeof r=="object")return e.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=n.length-1;++s){const a=n[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let f=null;if(a["font-scale"]&&(f=e.parse(a["font-scale"],1,Xn),!f))return null;let g=null;if(a["text-font"]&&(g=e.parse(a["text-font"],1,gd(fo)),!g))return null;let x=null;if(a["text-color"]&&(x=e.parse(a["text-color"],1,ap),!x))return null;const I=i[i.length-1];I.scale=f,I.font=g,I.textColor=x}else{const f=e.parse(n[s],1,Vi);if(!f)return null;const g=f.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new lL(i)}evaluate(n){const e=r=>{const i=r.content.evaluate(n);return Dl(i)===v_?new ZS("",i,null,null,null):new ZS(sC(i),null,r.scale?r.scale.evaluate(n):null,r.font?r.font.evaluate(n).join(","):null,r.textColor?r.textColor.evaluate(n):null)};return new wy(this.sections.map(e))}eachChild(n){for(const e of this.sections)n(e.content),e.scale&&n(e.scale),e.font&&n(e.font),e.textColor&&n(e.textColor)}outputDefined(){return!1}},pee=class uL{constructor(n){this.type=v_,this.input=n}static parse(n,e){if(n.length!==2)return e.error("Expected two arguments.");const r=e.parse(n[1],1,fo);return r?new uL(r):e.error("No image name provided.")}evaluate(n){const e=this.input.evaluate(n),r=A1.fromString(e);return r&&n.availableImages&&(r.available=n.availableImages.indexOf(e)>-1),r}eachChild(n){n(this.input)}outputDefined(){return!1}},mee=class AL{constructor(n){this.type=Xn,this.input=n}static parse(n,e){if(n.length!==2)return e.error(`Expected 1 argument, but found ${n.length-1} instead.`);const r=e.parse(n[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?e.error(`Expected argument of type string or array, but found ${ds(r.type)} instead.`):new AL(r):null}evaluate(n){const e=this.input.evaluate(n);if(typeof e=="string")return e.length;if(Array.isArray(e))return e.length;throw new lu(`Expected value to be of type string or array, but found ${ds(Dl(e))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}};const JO={"==":see,"!=":lee,">":Aee,"<":uee,">=":dee,"<=":cee,array:ep,at:GJ,boolean:ep,case:qJ,coalesce:XF,collator:PF,format:fee,image:pee,in:QJ,"index-of":$J,interpolate:sp,"interpolate-hcl":sp,"interpolate-lab":sp,length:mee,let:JF,literal:U2,match:YJ,number:ep,"number-format":hee,object:ep,slice:VJ,step:jF,string:ep,"to-boolean":bg,"to-color":bg,"to-number":bg,"to-string":bg,var:RF,within:XO};function D9(t,[n,e,r,i]){n=n.evaluate(t),e=e.evaluate(t),r=r.evaluate(t);const o=i?i.evaluate(t):1,s=EF(n,e,r,o);if(s)throw new lu(s);return new Ws(n/255*o,e/255*o,r/255*o,o)}function F9(t,n){return t in n}function Uw(t,n){const e=n[t];return typeof e>"u"?null:e}function gee(t,n,e,r){for(;e<=r;){const i=e+r>>1;if(n[i]===t)return!0;n[i]>t?r=i-1:e=i+1}return!1}function s0(t){return{type:t}}My.register(JO,{error:[mJ,[fo],(t,[n])=>{throw new lu(n.evaluate(t))}],typeof:[fo,[Vi],(t,[n])=>ds(Dl(n.evaluate(t)))],"to-rgba":[gd(Xn,4),[ap],(t,[n])=>n.evaluate(t).toArray()],rgb:[ap,[Xn,Xn,Xn],D9],rgba:[ap,[Xn,Xn,Xn,Xn],D9],has:{type:Yi,overloads:[[[fo],(t,[n])=>F9(n.evaluate(t),t.properties())],[[fo,zg],(t,[n,e])=>F9(n.evaluate(t),e.evaluate(t))]]},get:{type:Vi,overloads:[[[fo],(t,[n])=>Uw(n.evaluate(t),t.properties())],[[fo,zg],(t,[n,e])=>Uw(n.evaluate(t),e.evaluate(t))]]},"feature-state":[Vi,[fo],(t,[n])=>Uw(n.evaluate(t),t.featureState||{})],properties:[zg,[],t=>t.properties()],"geometry-type":[fo,[],t=>t.geometryType()],id:[Vi,[],t=>t.id()],zoom:[Xn,[],t=>t.globals.zoom],"heatmap-density":[Xn,[],t=>t.globals.heatmapDensity||0],"line-progress":[Xn,[],t=>t.globals.lineProgress||0],accumulated:[Vi,[],t=>t.globals.accumulated===void 0?null:t.globals.accumulated],"+":[Xn,s0(Xn),(t,n)=>{let e=0;for(const r of n)e+=r.evaluate(t);return e}],"*":[Xn,s0(Xn),(t,n)=>{let e=1;for(const r of n)e*=r.evaluate(t);return e}],"-":{type:Xn,overloads:[[[Xn,Xn],(t,[n,e])=>n.evaluate(t)-e.evaluate(t)],[[Xn],(t,[n])=>-n.evaluate(t)]]},"/":[Xn,[Xn,Xn],(t,[n,e])=>n.evaluate(t)/e.evaluate(t)],"%":[Xn,[Xn,Xn],(t,[n,e])=>n.evaluate(t)%e.evaluate(t)],ln2:[Xn,[],()=>Math.LN2],pi:[Xn,[],()=>Math.PI],e:[Xn,[],()=>Math.E],"^":[Xn,[Xn,Xn],(t,[n,e])=>Math.pow(n.evaluate(t),e.evaluate(t))],sqrt:[Xn,[Xn],(t,[n])=>Math.sqrt(n.evaluate(t))],log10:[Xn,[Xn],(t,[n])=>Math.log(n.evaluate(t))/Math.LN10],ln:[Xn,[Xn],(t,[n])=>Math.log(n.evaluate(t))],log2:[Xn,[Xn],(t,[n])=>Math.log(n.evaluate(t))/Math.LN2],sin:[Xn,[Xn],(t,[n])=>Math.sin(n.evaluate(t))],cos:[Xn,[Xn],(t,[n])=>Math.cos(n.evaluate(t))],tan:[Xn,[Xn],(t,[n])=>Math.tan(n.evaluate(t))],asin:[Xn,[Xn],(t,[n])=>Math.asin(n.evaluate(t))],acos:[Xn,[Xn],(t,[n])=>Math.acos(n.evaluate(t))],atan:[Xn,[Xn],(t,[n])=>Math.atan(n.evaluate(t))],min:[Xn,s0(Xn),(t,n)=>Math.min(...n.map(e=>e.evaluate(t)))],max:[Xn,s0(Xn),(t,n)=>Math.max(...n.map(e=>e.evaluate(t)))],abs:[Xn,[Xn],(t,[n])=>Math.abs(n.evaluate(t))],round:[Xn,[Xn],(t,[n])=>{const e=n.evaluate(t);return e<0?-Math.round(-e):Math.round(e)}],floor:[Xn,[Xn],(t,[n])=>Math.floor(n.evaluate(t))],ceil:[Xn,[Xn],(t,[n])=>Math.ceil(n.evaluate(t))],"filter-==":[Yi,[fo,Vi],(t,[n,e])=>t.properties()[n.value]===e.value],"filter-id-==":[Yi,[Vi],(t,[n])=>t.id()===n.value],"filter-type-==":[Yi,[fo],(t,[n])=>t.geometryType()===n.value],"filter-<":[Yi,[fo,Vi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Yi,[Vi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e<r}],"filter->":[Yi,[fo,Vi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r>i}],"filter-id->":[Yi,[Vi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e>r}],"filter-<=":[Yi,[fo,Vi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Yi,[Vi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e<=r}],"filter->=":[Yi,[fo,Vi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Yi,[Vi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e>=r}],"filter-has":[Yi,[Vi],(t,[n])=>n.value in t.properties()],"filter-has-id":[Yi,[],t=>t.id()!==null&&t.id()!==void 0],"filter-type-in":[Yi,[gd(fo)],(t,[n])=>n.value.indexOf(t.geometryType())>=0],"filter-id-in":[Yi,[gd(Vi)],(t,[n])=>n.value.indexOf(t.id())>=0],"filter-in-small":[Yi,[fo,gd(Vi)],(t,[n,e])=>e.value.indexOf(t.properties()[n.value])>=0],"filter-in-large":[Yi,[fo,gd(Vi)],(t,[n,e])=>gee(t.properties()[n.value],e.value,0,e.value.length-1)],all:{type:Yi,overloads:[[[Yi,Yi],(t,[n,e])=>n.evaluate(t)&&e.evaluate(t)],[s0(Yi),(t,n)=>{for(const e of n)if(!e.evaluate(t))return!1;return!0}]]},any:{type:Yi,overloads:[[[Yi,Yi],(t,[n,e])=>n.evaluate(t)||e.evaluate(t)],[s0(Yi),(t,n)=>{for(const e of n)if(e.evaluate(t))return!0;return!1}]]},"!":[Yi,[Yi],(t,[n])=>!n.evaluate(t)],"is-supported-script":[Yi,[fo],(t,[n])=>{const e=t.globals&&t.globals.isSupportedScript;return e?e(n.evaluate(t)):!0}],upcase:[fo,[fo],(t,[n])=>n.evaluate(t).toUpperCase()],downcase:[fo,[fo],(t,[n])=>n.evaluate(t).toLowerCase()],concat:[fo,s0(Vi),(t,n)=>n.map(e=>sC(e.evaluate(t))).join("")],"resolved-locale":[fo,[v4],(t,[n])=>n.evaluate(t).resolvedLocale()]});function n6(t){return{result:"success",value:t}}function ag(t){return{result:"error",value:t}}function L2(t){return t["property-type"]==="data-driven"||t["property-type"]==="cross-faded-data-driven"}function cL(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function eB(t){return!!t.expression&&t.expression.interpolated}function Vo(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function C_(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function yee(t){return t}function tB(t,n){const e=n.type==="color",r=t.stops&&typeof t.stops[0][0]=="object",i=r||t.property!==void 0,o=r||!i,s=t.type||(eB(n)?"exponential":"interval");if(e||n.type==="padding"){const x=e?Ws.parse:Fc.parse;t=Ay({},t),t.stops&&(t.stops=t.stops.map(I=>[I[0],x(I[1])])),t.default?t.default=x(t.default):t.default=x(n.default)}if(t.colorSpace&&t.colorSpace!=="rgb"&&!ZF[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let a,f,g;if(s==="exponential")a=L9;else if(s==="interval")a=Cee;else if(s==="categorical"){a=vee,f=Object.create(null);for(const x of t.stops)f[x[0]]=x[1];g=typeof t.stops[0][0]}else if(s==="identity")a=_ee;else throw new Error(`Unknown function type "${s}"`);if(r){const x={},I=[];for(let L=0;L<t.stops.length;L++){const V=t.stops[L],W=V[0].zoom;x[W]===void 0&&(x[W]={zoom:W,type:t.type,property:t.property,default:t.default,stops:[]},I.push(W)),x[W].stops.push([V[0].value,V[1]])}const B=[];for(const L of I)B.push([x[L].zoom,tB(x[L],n)]);const D={name:"linear"};return{kind:"composite",interpolationType:D,interpolationFactor:sp.interpolationFactor.bind(void 0,D),zoomStops:B.map(L=>L[0]),evaluate({zoom:L},V){return L9({stops:B,base:t.base},n,L).evaluate(L,V)}}}else if(o){const x=s==="exponential"?{name:"exponential",base:t.base!==void 0?t.base:1}:null;return{kind:"camera",interpolationType:x,interpolationFactor:sp.interpolationFactor.bind(void 0,x),zoomStops:t.stops.map(I=>I[0]),evaluate:({zoom:I})=>a(t,n,I,f,g)}}else return{kind:"source",evaluate(x,I){const B=I&&I.properties?I.properties[t.property]:void 0;return B===void 0?__(t.default,n.default):a(t,n,B,f,g)}}}function __(t,n,e){if(t!==void 0)return t;if(n!==void 0)return n;if(e!==void 0)return e}function vee(t,n,e,r,i){const o=typeof e===i?r[e]:void 0;return __(o,t.default,n.default)}function Cee(t,n,e){if(Vo(e)!=="number")return __(t.default,n.default);const r=t.stops.length;if(r===1||e<=t.stops[0][0])return t.stops[0][1];if(e>=t.stops[r-1][0])return t.stops[r-1][1];const i=x4(t.stops.map(o=>o[0]),e);return t.stops[i][1]}function L9(t,n,e){const r=t.base!==void 0?t.base:1;if(Vo(e)!=="number")return __(t.default,n.default);const i=t.stops.length;if(i===1||e<=t.stops[0][0])return t.stops[0][1];if(e>=t.stops[i-1][0])return t.stops[i-1][1];const o=x4(t.stops.map(x=>x[0]),e),s=bee(e,r,t.stops[o][0],t.stops[o+1][0]),a=t.stops[o][1],f=t.stops[o+1][1];let g=NF[n.type]||yee;if(t.colorSpace&&t.colorSpace!=="rgb"){const x=ZF[t.colorSpace];g=(I,B)=>x.reverse(x.interpolate(x.forward(I),x.forward(B),s))}return typeof a.evaluate=="function"?{evaluate(...x){const I=a.evaluate.apply(void 0,x),B=f.evaluate.apply(void 0,x);if(!(I===void 0||B===void 0))return g(I,B,s)}}:g(a,f,s)}function _ee(t,n,e){switch(n.type){case"color":e=Ws.parse(e);break;case"formatted":e=wy.fromString(e.toString());break;case"resolvedImage":e=A1.fromString(e.toString());break;case"padding":e=Fc.parse(e);break;default:Vo(e)!==n.type&&(n.type!=="enum"||!n.values[e])&&(e=void 0)}return __(e,t.default,n.default)}function bee(t,n,e,r){const i=r-e,o=t-e;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}let dL=class{constructor(n,e){this.expression=n,this._warningHistory={},this._evaluator=new kF,this._defaultValue=e?Mee(e):null,this._enumValues=e&&e.type==="enum"?e.values:null}evaluateWithoutErrorHandling(n,e,r,i,o,s){return this._evaluator.globals=n,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(n,e,r,i,o,s){this._evaluator.globals=n,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null;try{const a=this.expression.evaluate(this._evaluator);if(a==null||typeof a=="number"&&a!==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new lu(`Expected value to be one of ${Object.keys(this._enumValues).map(f=>JSON.stringify(f)).join(", ")}, but found ${JSON.stringify(a)} instead.`);return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,typeof console<"u"&&console.warn(a.message)),this._defaultValue}}};function b_(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in JO}function nB(t,n){const e=new TF(JO,F2,[],n?wee(n):void 0),r=e.parse(t,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?n6(new dL(r,n)):ag(e.errors)}let r6=class{constructor(n,e){this.kind=n,this._styleExpression=e,this.isStateDependent=n!=="constant"&&!DC(e.expression)}evaluateWithoutErrorHandling(n,e,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,e,r,i,o,s)}evaluate(n,e,r,i,o,s){return this._styleExpression.evaluate(n,e,r,i,o,s)}},i6=class{constructor(n,e,r,i){this.kind=n,this.zoomStops=r,this._styleExpression=e,this.isStateDependent=n!=="camera"&&!DC(e.expression),this.interpolationType=i}evaluateWithoutErrorHandling(n,e,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,e,r,i,o,s)}evaluate(n,e,r,i,o,s){return this._styleExpression.evaluate(n,e,r,i,o,s)}interpolationFactor(n,e,r){return this.interpolationType?sp.interpolationFactor(this.interpolationType,n,e,r):0}};function rB(t,n){const e=nB(t,n);if(e.result==="error")return e;const r=e.value.expression,i=_4(r);if(!i&&!L2(n))return ag([new Lh("","data expressions not supported")]);const o=b4(r,["zoom"]);if(!o&&!cL(n))return ag([new Lh("","zoom expressions not supported")]);const s=Qx(r);if(!s&&!o)return ag([new Lh("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof Lh)return ag([s]);if(s instanceof sp&&!eB(n))return ag([new Lh("",'"interpolate" expressions cannot be used with this property')]);if(!s)return n6(i?new r6("constant",e.value):new r6("source",e.value));const a=s instanceof sp?s.interpolation:void 0;return n6(i?new i6("camera",e.value,s.labels,a):new i6("composite",e.value,s.labels,a))}let hL=class fL{constructor(n,e){this._parameters=n,this._specification=e,Ay(this,tB(this._parameters,this._specification))}static deserialize(n){return new fL(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}};function xee(t,n){if(C_(t))return new hL(t,n);if(b_(t)){const e=rB(t,n);if(e.result==="error")throw new Error(e.value.map(r=>`${r.key}: ${r.message}`).join(", "));return e.value}else{let e=t;return n.type==="color"&&typeof t=="string"?e=Ws.parse(t):n.type==="padding"&&(typeof t=="number"||Array.isArray(t))&&(e=Fc.parse(t)),{kind:"constant",evaluate:()=>e}}}function Qx(t){let n=null;if(t instanceof JF)n=Qx(t.result);else if(t instanceof XF){for(const e of t.args)if(n=Qx(e),n)break}else(t instanceof jF||t instanceof sp)&&t.input instanceof My&&t.input.name==="zoom"&&(n=t);return n instanceof Lh||t.eachChild(e=>{const r=Qx(e);r instanceof Lh?n=r:!n&&r?n=new Lh("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Lh("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function wee(t){const n={color:ap,string:fo,number:Xn,enum:fo,boolean:Yi,formatted:C4,padding:$O,resolvedImage:v_};return t.type==="array"?gd(n[t.value]||Vi,t.length):n[t.type]}function Mee(t){return t.type==="color"&&C_(t.default)?new Ws(0,0,0,0):t.type==="color"?Ws.parse(t.default)||null:t.type==="padding"?Fc.parse(t.default)||null:t.default===void 0?null:t.default}function FC(t){return typeof t=="object"?["literal",t]:t}function pL(t,n){let e=t.stops;if(!e)return See(t,n);const r=e&&typeof e[0][0]=="object",i=r||t.property!==void 0,o=r||!i;return e=e.map(s=>!i&&n.tokens&&typeof s[1]=="string"?[s[0],mL(s[1])]:[s[0],FC(s[1])]),r?Eee(t,n,e):o?Bee(t,n,e):o6(t,n,e)}function See(t,n){const e=["get",t.property];if(t.default===void 0)return n.type==="string"?["string",e]:e;if(n.type==="enum")return["match",e,Object.keys(n.values),e,t.default];{const r=[n.type==="color"?"to-color":n.type,e,FC(t.default)];return n.type==="array"&&r.splice(1,0,n.value,n.length||null),r}}function iB(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Eee(t,n,e){const r={},i={},o=[];for(let a=0;a<e.length;a++){const f=e[a],g=f[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:t.type,property:t.property,default:t.default},i[g]=[],o.push(g)),i[g].push([f[0].value,f[1]])}if(aB({},n)==="exponential"){const a=[iB(t),["linear"],["zoom"]];for(const f of o){const g=o6(r[f],n,i[f]);Wg(a,f,g,!1)}return a}else{const a=["step",["zoom"]];for(const f of o){const g=o6(r[f],n,i[f]);Wg(a,f,g,!0)}return oB(a),a}}function Oee(t,n){if(t!==void 0)return t;if(n!==void 0)return n}function R9(t,n){const e=FC(Oee(t.default,n.default));return e===void 0&&n.type==="resolvedImage"?"":e}function o6(t,n,e){const r=aB(t,n),i=["get",t.property];if(r==="categorical"&&typeof e[0][0]=="boolean"){const o=["case"];for(const s of e)o.push(["==",i,s[0]],s[1]);return o.push(R9(t,n)),o}else if(r==="categorical"){const o=["match",i];for(const s of e)Wg(o,s[0],s[1],!1);return o.push(R9(t,n)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of e)Wg(o,s[0],s[1],!0);return oB(o),t.default===void 0?o:["case",["==",["typeof",i],"number"],o,FC(t.default)]}else if(r==="exponential"){const o=t.base!==void 0?t.base:1,s=[iB(t),o===1?["linear"]:["exponential",o],["number",i]];for(const a of e)Wg(s,a[0],a[1],!1);return t.default===void 0?s:["case",["==",["typeof",i],"number"],s,FC(t.default)]}else throw new Error(`Unknown property function type ${r}`)}function Bee(t,n,e,r=["zoom"]){const i=aB(t,n);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=t.base!==void 0?t.base:1;o=[iB(t),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of e)Wg(o,a[0],a[1],s);return oB(o),o}function oB(t){t[0]==="step"&&t.length===3&&(t.push(0),t.push(t[3]))}function Wg(t,n,e,r){t.length>3&&n===t[t.length-2]||(r&&t.length===2||t.push(n),t.push(e))}function aB(t,n){return t.type?t.type:n.expression.interpolated?"exponential":"interval"}function mL(t){const n=["concat"],e=/{([^{}]+)}/g;let r=0;for(let i=e.exec(t);i!==null;i=e.exec(t)){const o=t.slice(r,e.lastIndex-i[0].length);r=e.lastIndex,o.length>0&&n.push(o),n.push(["get",i[1]])}if(n.length===1)return t;if(r<t.length)n.push(t.slice(r));else if(n.length===2)return["to-string",n[1]];return n}function w4(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&(typeof t[1]!="string"||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const n of t.slice(1))if(!w4(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function lC(t,n={}){if(w4(t))return t;if(!t)return!0;const e=t,r=e[0];if(t.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=t;return kee(i,o,r,n)}case"any":{const[,...i]=e;return["any",...i.map(s=>{const a={},f=lC(s,a),g=Iee(a);return g===!0?f:["case",g,f,!1]})]}case"all":{const[,...i]=e,o=i.map(s=>lC(s,n));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=e;return["!",lC(["any",...i],{})]}case"in":{const[,i,...o]=e;return z9(i,o)}case"!in":{const[,i,...o]=e;return z9(i,o,!0)}case"has":return j9(e[1]);case"!has":return["!",j9(e[1])];default:return!0}}function Iee(t){const n=[];for(const e in t){const r=e==="$id"?["id"]:["get",e];n.push(["==",["typeof",r],t[e]])}return n.length===0?!0:n.length===1?n[0]:["all",...n]}function kee(t,n,e,r){let i;if(t==="$type")return[e,["geometry-type"],n];if(t==="$id"?i=["id"]:i=["get",t],r&&n!==null){const o=typeof n;r[t]=o}return e==="=="&&t!=="$id"&&n===null?["all",["has",t],["==",i,null]]:e==="!="&&t!=="$id"&&n===null?["any",["!",["has",t]],["!=",i,null]]:[e,i,n]}function z9(t,n,e=!1){if(n.length===0)return e;let r;t==="$type"?r=["geometry-type"]:t==="$id"?r=["id"]:r=["get",t];let i=!0;const o=typeof n[0];for(const s of n)if(typeof s!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const s=n.sort().filter((a,f)=>f===0||n[f-1]!==a);return["match",r,s,!e,e]}return e?["all",...n.map(s=>["!=",r,s])]:["any",...n.map(s=>["==",r,s])]}function j9(t){return t==="$type"?!0:t==="$id"?["!=",["id"],null]:["has",t]}function Tee(t){const n=[];return aC(t,e=>{e.filter&&(e.filter=lC(e.filter))}),wF(t,{paint:!0,layout:!0},({path:e,value:r,reference:i,set:o})=>{b_(r)||(typeof r=="object"&&!Array.isArray(r)?(o(pL(r,i)),n.push(e.join("."))):i.tokens&&typeof r=="string"&&o(mL(r)))}),t}function Kee(t){let n=!1;if(t.version===7&&(t=fJ(t),n=!0),t.version===8&&(n=!!Tee(t),n=!0),!n)throw new Error(`Cannot migrate from ${t.version}`);return t}const Pee=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Uee(t,n){const e={};for(const r in t)r!=="ref"&&(e[r]=t[r]);return Pee.forEach(r=>{r in n&&(e[r]=n[r])}),e}function Dee(t){t=t.slice();const n=Object.create(null);for(let e=0;e<t.length;e++)n[t[e].id]=t[e];for(let e=0;e<t.length;e++)"ref"in t[e]&&(t[e]=Uee(t[e],n[t[e].ref]));return t}function rs(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(!rs(t[e],n[e]))return!1;return!0}if(typeof t=="object"&&t!==null&&n!==null){if(typeof n!="object"||Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(!rs(t[r],n[r]))return!1;return!0}return t===n}const Ca={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function gL(t,n,e){e.push({command:Ca.addSource,args:[t,n[t]]})}function yL(t,n,e){n.push({command:Ca.removeSource,args:[t]}),e[t]=!0}function Fee(t,n,e,r){yL(t,e,r),gL(t,n,e)}function Lee(t,n,e){let r;for(r in t[e])if(Object.prototype.hasOwnProperty.call(t[e],r)&&r!=="data"&&!rs(t[e][r],n[e][r]))return!1;for(r in n[e])if(Object.prototype.hasOwnProperty.call(n[e],r)&&r!=="data"&&!rs(t[e][r],n[e][r]))return!1;return!0}function Ree(t,n,e,r){t=t||{},n=n||{};let i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(n,i)||yL(i,e,r));for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(Object.prototype.hasOwnProperty.call(t,i)?rs(t[i],n[i])||(t[i].type==="geojson"&&n[i].type==="geojson"&&Lee(t,n,i)?e.push({command:Ca.setGeoJSONSourceData,args:[i,n[i].data]}):Fee(i,n,e,r)):gL(i,n,e))}function Qb(t,n,e,r,i,o){t=t||{},n=n||{};let s;for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(rs(t[s],n[s])||e.push({command:o,args:[r,s,n[s],i]}));for(s in n)!Object.prototype.hasOwnProperty.call(n,s)||Object.prototype.hasOwnProperty.call(t,s)||rs(t[s],n[s])||e.push({command:o,args:[r,s,n[s],i]})}function W9(t){return t.id}function N9(t,n){return t[n.id]=n,t}function zee(t,n,e){t=t||[],n=n||[];const r=t.map(W9),i=n.map(W9),o=t.reduce(N9,{}),s=n.reduce(N9,{}),a=r.slice(),f=Object.create(null);let g,x,I,B,D,L,V;for(g=0,x=0;g<r.length;g++)I=r[g],Object.prototype.hasOwnProperty.call(s,I)?x++:(e.push({command:Ca.removeLayer,args:[I]}),a.splice(a.indexOf(I,x),1));for(g=0,x=0;g<i.length;g++)I=i[i.length-1-g],a[a.length-1-g]!==I&&(Object.prototype.hasOwnProperty.call(o,I)?(e.push({command:Ca.removeLayer,args:[I]}),a.splice(a.lastIndexOf(I,a.length-x),1)):x++,L=a[a.length-g],e.push({command:Ca.addLayer,args:[s[I],L]}),a.splice(a.length-g,0,I),f[I]=!0);for(g=0;g<i.length;g++)if(I=i[g],B=o[I],D=s[I],!(f[I]||rs(B,D))){if(!rs(B.source,D.source)||!rs(B["source-layer"],D["source-layer"])||!rs(B.type,D.type)){e.push({command:Ca.removeLayer,args:[I]}),L=a[a.lastIndexOf(I)+1],e.push({command:Ca.addLayer,args:[D,L]});continue}Qb(B.layout,D.layout,e,I,null,Ca.setLayoutProperty),Qb(B.paint,D.paint,e,I,null,Ca.setPaintProperty),rs(B.filter,D.filter)||e.push({command:Ca.setFilter,args:[I,D.filter]}),(!rs(B.minzoom,D.minzoom)||!rs(B.maxzoom,D.maxzoom))&&e.push({command:Ca.setLayerZoomRange,args:[I,D.minzoom,D.maxzoom]});for(V in B)Object.prototype.hasOwnProperty.call(B,V)&&(V==="layout"||V==="paint"||V==="filter"||V==="metadata"||V==="minzoom"||V==="maxzoom"||(V.indexOf("paint.")===0?Qb(B[V],D[V],e,I,V.slice(6),Ca.setPaintProperty):rs(B[V],D[V])||e.push({command:Ca.setLayerProperty,args:[I,V,D[V]]})));for(V in D)!Object.prototype.hasOwnProperty.call(D,V)||Object.prototype.hasOwnProperty.call(B,V)||V==="layout"||V==="paint"||V==="filter"||V==="metadata"||V==="minzoom"||V==="maxzoom"||(V.indexOf("paint.")===0?Qb(B[V],D[V],e,I,V.slice(6),Ca.setPaintProperty):rs(B[V],D[V])||e.push({command:Ca.setLayerProperty,args:[I,V,D[V]]}))}}function jee(t,n){if(!t)return[{command:Ca.setStyle,args:[n]}];let e=[];try{if(!rs(t.version,n.version))return[{command:Ca.setStyle,args:[n]}];rs(t.center,n.center)||e.push({command:Ca.setCenter,args:[n.center]}),rs(t.zoom,n.zoom)||e.push({command:Ca.setZoom,args:[n.zoom]}),rs(t.bearing,n.bearing)||e.push({command:Ca.setBearing,args:[n.bearing]}),rs(t.pitch,n.pitch)||e.push({command:Ca.setPitch,args:[n.pitch]}),rs(t.sprite,n.sprite)||e.push({command:Ca.setSprite,args:[n.sprite]}),rs(t.glyphs,n.glyphs)||e.push({command:Ca.setGlyphs,args:[n.glyphs]}),rs(t.transition,n.transition)||e.push({command:Ca.setTransition,args:[n.transition]}),rs(t.light,n.light)||e.push({command:Ca.setLight,args:[n.light]});const r={},i=[];Ree(t.sources,n.sources,i,r);const o=[];t.layers&&t.layers.forEach(s=>{r[s.source]?e.push({command:Ca.removeLayer,args:[s.id]}):o.push(s)}),e=e.concat(i),zee(o,n.layers,e)}catch(r){console.warn("Unable to compute style diff:",r),e=[{command:Ca.setStyle,args:[n]}]}return e}class nr{constructor(n,e,r,i){this.message=(n?`${n}: `:"")+r,i&&(this.identifier=i),e!=null&&e.__line__&&(this.line=e.__line__)}}class Wee{constructor(n){this.error=n,this.message=n.message;const e=n.message.match(/line (\d+)/);this.line=e?parseInt(e[1],10):0}}function vL(t){const n=t.key,e=t.value;return e?[new nr(n,e,"constants have been deprecated as of v8")]:[]}function al(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function J0(t){if(Array.isArray(t))return t.map(J0);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const n={};for(const e in t)n[e]=J0(t[e]);return n}return al(t)}function Cd(t){const n=t.key,e=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,s=t.styleSpec,a=t.validateSpec;let f=[];const g=Vo(e);if(g!=="object")return[new nr(n,e,`object expected, ${g} found`)];for(const x in e){const I=x.split(".")[0],B=r[I]||r["*"];let D;if(i[I])D=i[I];else if(r[I])D=a;else if(i["*"])D=i["*"];else if(r["*"])D=a;else{f.push(new nr(n,e[x],`unknown property "${x}"`));continue}f=f.concat(D({key:(n&&`${n}.`)+x,value:e[x],valueSpec:B,style:o,styleSpec:s,object:e,objectKey:x,validateSpec:a},e))}for(const x in r)i[x]||r[x].required&&r[x].default===void 0&&e[x]===void 0&&f.push(new nr(n,e,`missing required property "${x}"`));return f}function CL(t){const n=t.value,e=t.valueSpec,r=t.validateSpec,i=t.style,o=t.styleSpec,s=t.key,a=t.arrayElementValidator||r;if(Vo(n)!=="array")return[new nr(s,n,`array expected, ${Vo(n)} found`)];if(e.length&&n.length!==e.length)return[new nr(s,n,`array length ${e.length} expected, length ${n.length} found`)];if(e["min-length"]&&n.length<e["min-length"])return[new nr(s,n,`array length at least ${e["min-length"]} expected, length ${n.length} found`)];let f={type:e.value,values:e.values};o.$version<7&&(f.function=e.function),Vo(e.value)==="object"&&(f=e.value);let g=[];for(let x=0;x<n.length;x++)g=g.concat(a({array:n,arrayIndex:x,value:n[x],valueSpec:f,validateSpec:t.validateSpec,style:i,styleSpec:o,key:`${s}[${x}]`}));return g}function sB(t){const n=t.key,e=t.value,r=t.valueSpec;let i=Vo(e);return i==="number"&&e!==e&&(i="NaN"),i!=="number"?[new nr(n,e,`number expected, ${i} found`)]:"minimum"in r&&e<r.minimum?[new nr(n,e,`${e} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&e>r.maximum?[new nr(n,e,`${e} is greater than the maximum value ${r.maximum}`)]:[]}function _L(t){const n=t.valueSpec,e=al(t.value.type);let r,i={},o,s;const a=e!=="categorical"&&t.value.property===void 0,f=!a,g=Vo(t.value.stops)==="array"&&Vo(t.value.stops[0])==="array"&&Vo(t.value.stops[0][0])==="object",x=Cd({key:t.key,value:t.value,valueSpec:t.styleSpec.function,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:I,default:L}});return e==="identity"&&a&&x.push(new nr(t.key,t.value,'missing required property "property"')),e!=="identity"&&!t.value.stops&&x.push(new nr(t.key,t.value,'missing required property "stops"')),e==="exponential"&&t.valueSpec.expression&&!eB(t.valueSpec)&&x.push(new nr(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(f&&!L2(t.valueSpec)?x.push(new nr(t.key,t.value,"property functions not supported")):a&&!cL(t.valueSpec)&&x.push(new nr(t.key,t.value,"zoom functions not supported"))),(e==="categorical"||g)&&t.value.property===void 0&&x.push(new nr(t.key,t.value,'"property" property is required')),x;function I(V){if(e==="identity")return[new nr(V.key,V.value,'identity function may not have a "stops" property')];let W=[];const j=V.value;return W=W.concat(CL({key:V.key,value:j,valueSpec:V.valueSpec,validateSpec:V.validateSpec,style:V.style,styleSpec:V.styleSpec,arrayElementValidator:B})),Vo(j)==="array"&&j.length===0&&W.push(new nr(V.key,j,"array must have at least one stop")),W}function B(V){let W=[];const j=V.value,G=V.key;if(Vo(j)!=="array")return[new nr(G,j,`array expected, ${Vo(j)} found`)];if(j.length!==2)return[new nr(G,j,`array length 2 expected, length ${j.length} found`)];if(g){if(Vo(j[0])!=="object")return[new nr(G,j,`object expected, ${Vo(j[0])} found`)];if(j[0].zoom===void 0)return[new nr(G,j,"object stop key must have zoom")];if(j[0].value===void 0)return[new nr(G,j,"object stop key must have value")];if(s&&s>al(j[0].zoom))return[new nr(G,j[0].zoom,"stop zoom values must appear in ascending order")];al(j[0].zoom)!==s&&(s=al(j[0].zoom),o=void 0,i={}),W=W.concat(Cd({key:`${G}[0]`,value:j[0],valueSpec:{zoom:{}},validateSpec:V.validateSpec,style:V.style,styleSpec:V.styleSpec,objectElementValidators:{zoom:sB,value:D}}))}else W=W.concat(D({key:`${G}[0]`,value:j[0],valueSpec:{},validateSpec:V.validateSpec,style:V.style,styleSpec:V.styleSpec},j));return b_(J0(j[1]))?W.concat([new nr(`${G}[1]`,j[1],"expressions are not allowed in function stops.")]):W.concat(V.validateSpec({key:`${G}[1]`,value:j[1],valueSpec:n,validateSpec:V.validateSpec,style:V.style,styleSpec:V.styleSpec}))}function D(V,W){const j=Vo(V.value),G=al(V.value),ee=V.value!==null?V.value:W;if(!r)r=j;else if(j!==r)return[new nr(V.key,ee,`${j} stop domain type must match previous stop domain type ${r}`)];if(j!=="number"&&j!=="string"&&j!=="boolean")return[new nr(V.key,ee,"stop domain value must be a number, string, or boolean")];if(j!=="number"&&e!=="categorical"){let re=`number expected, ${j} found`;return L2(n)&&e===void 0&&(re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new nr(V.key,ee,re)]}return e==="categorical"&&j==="number"&&(!isFinite(G)||Math.floor(G)!==G)?[new nr(V.key,ee,`integer expected, found ${G}`)]:e!=="categorical"&&j==="number"&&o!==void 0&&G<o?[new nr(V.key,ee,"stop domain values must appear in ascending order")]:(o=G,e==="categorical"&&G in i?[new nr(V.key,ee,"stop domain values must be unique")]:(i[G]=!0,[]))}function L(V){return V.validateSpec({key:V.key,value:V.value,valueSpec:n,validateSpec:V.validateSpec,style:V.style,styleSpec:V.styleSpec})}}function cy(t){const n=(t.expressionContext==="property"?rB:nB)(J0(t.value),t.valueSpec);if(n.result==="error")return n.value.map(r=>new nr(`${t.key}${r.key}`,t.value,r.message));const e=n.value.expression||n.value._styleExpression.expression;if(t.expressionContext==="property"&&t.propertyKey==="text-font"&&!e.outputDefined())return[new nr(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if(t.expressionContext==="property"&&t.propertyType==="layout"&&!DC(e))return[new nr(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if(t.expressionContext==="filter"&&!DC(e))return[new nr(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&t.expressionContext.indexOf("cluster")===0){if(!b4(e,["zoom","feature-state"]))return[new nr(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t.expressionContext==="cluster-initial"&&!_4(e))return[new nr(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Nee(t){const n=t.value,e=t.key,r=Vo(n);return r!=="boolean"?[new nr(e,n,`boolean expected, ${r} found`)]:[]}function Gee(t){const n=t.key,e=t.value,r=Vo(e);return r!=="string"?[new nr(n,e,`color expected, ${r} found`)]:QO(e)===null?[new nr(n,e,`color expected, "${e}" found`)]:[]}function R2(t){const n=t.key,e=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(al(e))===-1&&i.push(new nr(n,e,`expected one of [${r.values.join(", ")}], ${JSON.stringify(e)} found`)):Object.keys(r.values).indexOf(al(e))===-1&&i.push(new nr(n,e,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(e)} found`)),i}function lB(t){return w4(J0(t.value))?cy(Ay({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):bL(t)}function bL(t){const n=t.value,e=t.key;if(Vo(n)!=="array")return[new nr(e,n,`array expected, ${Vo(n)} found`)];const r=t.styleSpec;let i,o=[];if(n.length<1)return[new nr(e,n,"filter array must have at least 1 element")];switch(o=o.concat(R2({key:`${e}[0]`,value:n[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),al(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&al(n[1])==="$type"&&o.push(new nr(e,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&o.push(new nr(e,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(i=Vo(n[1]),i!=="string"&&o.push(new nr(`${e}[1]`,n[1],`string expected, ${i} found`)));for(let s=2;s<n.length;s++)i=Vo(n[s]),al(n[1])==="$type"?o=o.concat(R2({key:`${e}[${s}]`,value:n[s],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new nr(`${e}[${s}]`,n[s],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let s=1;s<n.length;s++)o=o.concat(bL({key:`${e}[${s}]`,value:n[s],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Vo(n[1]),n.length!==2?o.push(new nr(e,n,`filter array for "${n[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new nr(`${e}[1]`,n[1],`string expected, ${i} found`));break;case"within":i=Vo(n[1]),n.length!==2?o.push(new nr(e,n,`filter array for "${n[0]}" operator must have 2 elements`)):i!=="object"&&o.push(new nr(`${e}[1]`,n[1],`object expected, ${i} found`));break}return o}function xL(t,n){const e=t.key,r=t.validateSpec,i=t.style,o=t.styleSpec,s=t.value,a=t.objectKey,f=o[`${n}_${t.layerType}`];if(!f)return[];const g=a.match(/^(.*)-transition$/);if(n==="paint"&&g&&f[g[1]]&&f[g[1]].transition)return r({key:e,value:s,valueSpec:o.transition,style:i,styleSpec:o});const x=t.valueSpec||f[a];if(!x)return[new nr(e,s,`unknown property "${a}"`)];let I;if(Vo(s)==="string"&&L2(x)&&!x.tokens&&(I=/^{([^}]+)}$/.exec(s)))return[new nr(e,s,`"${a}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(I[1])} }\`.`)];const B=[];return t.layerType==="symbol"&&(a==="text-field"&&i&&!i.glyphs&&B.push(new nr(e,s,'use of "text-field" requires a style "glyphs" property')),a==="text-font"&&C_(J0(s))&&al(s.type)==="identity"&&B.push(new nr(e,s,'"text-font" does not support identity functions'))),B.concat(r({key:t.key,value:s,valueSpec:x,style:i,styleSpec:o,expressionContext:"property",propertyType:n,propertyKey:a}))}function wL(t){return xL(t,"paint")}function ML(t){return xL(t,"layout")}function SL(t){let n=[];const e=t.value,r=t.key,i=t.style,o=t.styleSpec;!e.type&&!e.ref&&n.push(new nr(r,e,'either "type" or "ref" is required'));let s=al(e.type);const a=al(e.ref);if(e.id){const f=al(e.id);for(let g=0;g<t.arrayIndex;g++){const x=i.layers[g];al(x.id)===f&&n.push(new nr(r,e.id,`duplicate layer id "${e.id}", previously used at line ${x.id.__line__}`))}}if("ref"in e){["type","source","source-layer","filter","layout"].forEach(g=>{g in e&&n.push(new nr(r,e[g],`"${g}" is prohibited for ref layers`))});let f;i.layers.forEach(g=>{al(g.id)===a&&(f=g)}),f?f.ref?n.push(new nr(r,e.ref,"ref cannot reference another ref layer")):s=al(f.type):n.push(new nr(r,e.ref,`ref layer "${a}" not found`))}else if(s!=="background")if(!e.source)n.push(new nr(r,e,'missing required property "source"'));else{const f=i.sources&&i.sources[e.source],g=f&&al(f.type);f?g==="vector"&&s==="raster"?n.push(new nr(r,e.source,`layer "${e.id}" requires a raster source`)):g==="raster"&&s!=="raster"?n.push(new nr(r,e.source,`layer "${e.id}" requires a vector source`)):g==="vector"&&!e["source-layer"]?n.push(new nr(r,e,`layer "${e.id}" must specify a "source-layer"`)):g==="raster-dem"&&s!=="hillshade"?n.push(new nr(r,e.source,"raster-dem source can only be used with layer type 'hillshade'.")):s==="line"&&e.paint&&e.paint["line-gradient"]&&(g!=="geojson"||!f.lineMetrics)&&n.push(new nr(r,e,`layer "${e.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new nr(r,e.source,`source "${e.source}" not found`))}return n=n.concat(Cd({key:r,value:e,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*"(){return[]},type(){return t.validateSpec({key:`${r}.type`,value:e.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,object:e,objectKey:"type"})},filter:lB,layout(f){return Cd({layer:e,key:f.key,value:f.value,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*"(g){return ML(Ay({layerType:s},g))}}})},paint(f){return Cd({layer:e,key:f.key,value:f.value,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*"(g){return wL(Ay({layerType:s},g))}}})}}})),n}function e1(t){const n=t.value,e=t.key,r=Vo(n);return r!=="string"?[new nr(e,n,`string expected, ${r} found`)]:[]}const G9={promoteId:Qee};function EL(t){const n=t.value,e=t.key,r=t.styleSpec,i=t.style,o=t.validateSpec;if(!n.type)return[new nr(e,n,'"type" is required')];const s=al(n.type);let a;switch(s){case"vector":case"raster":case"raster-dem":return a=Cd({key:e,value:n,valueSpec:r[`source_${s.replace("-","_")}`],style:t.style,styleSpec:r,objectElementValidators:G9,validateSpec:o}),a;case"geojson":if(a=Cd({key:e,value:n,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:G9}),n.cluster)for(const f in n.clusterProperties){const[g,x]=n.clusterProperties[f],I=typeof g=="string"?[g,["accumulated"],["get",f]]:g;a.push(...cy({key:`${e}.${f}.map`,value:x,validateSpec:o,expressionContext:"cluster-map"})),a.push(...cy({key:`${e}.${f}.reduce`,value:I,validateSpec:o,expressionContext:"cluster-reduce"}))}return a;case"video":return Cd({key:e,value:n,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return Cd({key:e,value:n,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new nr(e,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return R2({key:`${e}.type`,value:n.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function Qee({key:t,value:n}){if(Vo(n)==="string")return e1({key:t,value:n});{const e=[];for(const r in n)e.push(...e1({key:`${t}.${r}`,value:n[r]}));return e}}function OL(t){const n=t.value,e=t.styleSpec,r=e.light,i=t.style;let o=[];const s=Vo(n);if(n===void 0)return o;if(s!=="object")return o=o.concat([new nr("light",n,`object expected, ${s} found`)]),o;for(const a in n){const f=a.match(/^(.*)-transition$/);f&&r[f[1]]&&r[f[1]].transition?o=o.concat(t.validateSpec({key:a,value:n[a],valueSpec:e.transition,validateSpec:t.validateSpec,style:i,styleSpec:e})):r[a]?o=o.concat(t.validateSpec({key:a,value:n[a],valueSpec:r[a],validateSpec:t.validateSpec,style:i,styleSpec:e})):o=o.concat([new nr(a,n[a],`unknown property "${a}"`)])}return o}function BL(t){const n=t.value,e=t.styleSpec,r=e.terrain,i=t.style;let o=[];const s=Vo(n);if(n===void 0)return o;if(s!=="object")return o=o.concat([new nr("terrain",n,`object expected, ${s} found`)]),o;for(const a in n)r[a]?o=o.concat(t.validateSpec({key:a,value:n[a],valueSpec:r[a],validateSpec:t.validateSpec,style:i,styleSpec:e})):o=o.concat([new nr(a,n[a],`unknown property "${a}"`)]);return o}function $ee(t){return e1(t).length===0?[]:cy(t)}function Yee(t){return e1(t).length===0?[]:cy(t)}function qee(t){const n=t.key,e=t.value;if(Vo(e)==="array"){if(e.length<1||e.length>4)return[new nr(n,e,`padding requires 1 to 4 values; ${e.length} values found`)];const i={type:"number"};let o=[];for(let s=0;s<e.length;s++)o=o.concat(t.validateSpec({key:`${n}[${s}]`,value:e[s],validateSpec:t.validateSpec,valueSpec:i}));return o}else return sB({key:n,value:e,valueSpec:{}})}function IL(t){let n=[];const e=t.value,r=t.key;if(Array.isArray(e)){const i=[],o=[];for(const s in e){e[s].id&&i.includes(e[s].id)&&n.push(new nr(r,e,`all the sprites' ids must be unique, but ${e[s].id} is duplicated`)),i.push(e[s].id),e[s].url&&o.includes(e[s].url)&&n.push(new nr(r,e,`all the sprites' URLs must be unique, but ${e[s].url} is duplicated`)),o.push(e[s].url);const a={id:{type:"string",required:!0},url:{type:"string",required:!0}};n=n.concat(Cd({key:`${r}[${s}]`,value:e[s],valueSpec:a,validateSpec:t.validateSpec}))}return n}else return e1({key:r,value:e})}const Q9={"*"(){return[]},array:CL,boolean:Nee,number:sB,color:Gee,constants:vL,enum:R2,filter:lB,function:_L,layer:SL,object:Cd,source:EL,light:OL,terrain:BL,string:e1,formatted:$ee,resolvedImage:Yee,padding:qee,sprite:IL};function uC(t){const n=t.value,e=t.valueSpec,r=t.styleSpec;return t.validateSpec=uC,e.expression&&C_(al(n))?_L(t):e.expression&&b_(J0(n))?cy(t):e.type&&Q9[e.type]?Q9[e.type](t):Cd(Ay({},t,{valueSpec:e.type?r[e.type]:e}))}function kL(t){const n=t.value,e=t.key,r=e1(t);return r.length||(n.indexOf("{fontstack}")===-1&&r.push(new nr(e,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&r.push(new nr(e,n,'"glyphs" url must include a "{range}" token'))),r}function rf(t,n=vr){let e=[];return e=e.concat(uC({key:"",value:t,valueSpec:n.$root,styleSpec:n,style:t,validateSpec:uC,objectElementValidators:{glyphs:kL,"*"(){return[]}}})),t.constants&&(e=e.concat(vL({key:"constants",value:t.constants,style:t,styleSpec:n,validateSpec:uC}))),TL(e)}rf.source=pp(fp(EL));rf.sprite=pp(fp(IL));rf.glyphs=pp(fp(kL));rf.light=pp(fp(OL));rf.terrain=pp(fp(BL));rf.layer=pp(fp(SL));rf.filter=pp(fp(lB));rf.paintProperty=pp(fp(wL));rf.layoutProperty=pp(fp(ML));function fp(t){return function(n){return t({...n,validateSpec:uC})}}function TL(t){return[].concat(t).sort((n,e)=>n.line-e.line)}function pp(t){return function(...n){return TL(t.apply(this,n))}}function Vee(t){if(t instanceof String||typeof t=="string"||t instanceof Buffer)try{return MX.parse(t.toString())}catch(n){throw new Wee(n)}return t}function KL(t,n=Hee){let e=t;try{e=Vee(e)}catch(r){return[r]}return rf(e,n)}const Hee=vr,Zee={StyleExpression:dL,isExpression:b_,isExpressionFilter:w4,createExpression:nB,createPropertyExpression:rB,normalizePropertyExpression:xee,ZoomConstantExpression:r6,ZoomDependentExpression:i6,StylePropertyFunction:hL},Xee={convertFunction:pL,createFunction:tB,isFunction:C_};var PL={exports:{}};(function(t,n){(function(e,r){t.exports=r()})(tf,function(){var e,r,i;function o(a,f){if(!e)e=f;else if(!r)r=f;else{var g="var sharedChunk = {}; ("+e+")(sharedChunk); ("+r+")(sharedChunk);",x={};e(x),i=f(x),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([g],{type:"text/javascript"})))}}o(["exports"],function(a){var f=g;function g(c,l,d,v){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(v-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=v}function x(c,l,d,v){const S=new f(c,l,d,v);return function(k){return S.solve(k)}}g.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,v=0;v<8;v++){var S=this.sampleCurveX(d)-c;if(Math.abs(S)<l)return d;var k=this.sampleCurveDerivativeX(d);if(Math.abs(k)<1e-6)break;d-=S/k}var P=0,R=1;for(d=c,v=0;v<20&&(S=this.sampleCurveX(d),!(Math.abs(S-c)<l));v++)c>S?P=d:R=d,d=.5*(R-P)+P;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};const I=x(.25,.1,.25,1);function B(c,l,d){return Math.min(d,Math.max(l,c))}function D(c,l,d){const v=d-l,S=((c-l)%v+v)%v+l;return S===l?d:S}function L(c,...l){for(const d of l)for(const v in d)c[v]=d[v];return c}let V=1;function W(c,l){c.forEach(d=>{l[d]&&(l[d]=l[d].bind(l))})}function j(c,l,d){const v={};for(const S in c)v[S]=l.call(d||this,c[S],S,c);return v}function G(c,l,d){const v={};for(const S in c)l.call(d||this,c[S],S,c)&&(v[S]=c[S]);return v}function ee(c){return Array.isArray(c)?c.map(ee):typeof c=="object"&&c?j(c,ee):c}const re={};function se(c){re[c]||(typeof console<"u"&&console.warn(c),re[c]=!0)}function oe(c,l,d){return(d.y-c.y)*(l.x-c.x)>(l.y-c.y)*(d.x-c.x)}function ue(c){let l=0;for(let d,v,S=0,k=c.length,P=k-1;S<k;P=S++)d=c[S],v=c[P],l+=(v.x-d.x)*(d.y+v.y);return l}function me(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function De(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,v,S,k)=>{const P=S||k;return l[v]=!P||P.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l}let Re,et,ht=null;function ke(c){if(ht==null){const l=c.navigator?c.navigator.userAgent:null;ht=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return ht}function Je(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const ve={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(c){const l=requestAnimationFrame(c);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(c,l=0){const d=window.document.createElement("canvas"),v=d.getContext("2d");if(!v)throw new Error("failed to create canvas 2d context");return d.width=c.width,d.height=c.height,v.drawImage(c,0,0,c.width,c.height),v.getImageData(-l,-l,c.width+2*l,c.height+2*l)},resolveURL:c=>(Re||(Re=document.createElement("a")),Re.href=c,Re.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(et==null&&(et=matchMedia("(prefers-reduced-motion: reduce)")),et.matches)}};var ft=Ft;function Ft(c,l){this.x=c,this.y=l}Ft.prototype={clone:function(){return new Ft(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,d=c.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),d=Math.sin(c),v=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=v,this},_rotateAround:function(c,l){var d=Math.cos(c),v=Math.sin(c),S=l.y+v*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-v*(this.y-l.y),this.y=S,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ft.convert=function(c){return c instanceof Ft?c:Array.isArray(c)?new Ft(c[0],c[1]):c};const tn={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},St="mapbox-tiles";let Ne,qe,tt=500,Jt=50;function dt(){typeof caches>"u"||Ne||(Ne=caches.open(St))}let ot=1/0;const Et={supported:!1,testSupport:function(c){!ce&&xe&&(_e?Ke(c):Kt=c)}};let Kt,xe,ce=!1,_e=!1;function Ke(c){const l=c.createTexture();c.bindTexture(c.TEXTURE_2D,l);try{if(c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,xe),c.isContextLost())return;Et.supported=!0}catch{}c.deleteTexture(l),ce=!0}typeof document<"u"&&(xe=document.createElement("img"),xe.onload=function(){Kt&&Ke(Kt),Kt=null,_e=!0},xe.onerror=function(){ce=!0,Kt=null},xe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Ve={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ve);class Ze extends Error{constructor(l,d,v,S){super(`AJAXError: ${d} (${l}): ${v}`),this.status=l,this.statusText=d,this.url=v,this.body=S}}const bt=me()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function Gt(c,l){const d=new AbortController,v=new Request(c.url,{method:c.method||"GET",body:c.body,credentials:c.credentials,headers:c.headers,referrer:bt(),signal:d.signal});let S=!1,k=!1;return c.type==="json"&&v.headers.set("Accept","application/json"),((P,R,Q)=>{if(k)return;const J=Date.now();fetch(v).then(de=>de.ok?((pe,we,Se)=>{(c.type==="arrayBuffer"?pe.arrayBuffer():c.type==="json"?pe.json():pe.text()).then(Be=>{k||(we&&Se&&function(nt,He,xt){if(dt(),!Ne)return;const zt={status:He.status,statusText:He.statusText,headers:new Headers};He.headers.forEach((Ut,ln)=>zt.headers.set(ln,Ut));const vt=De(He.headers.get("Cache-Control")||"");vt["no-store"]||(vt["max-age"]&&zt.headers.set("Expires",new Date(xt+1e3*vt["max-age"]).toUTCString()),new Date(zt.headers.get("Expires")).getTime()-xt<42e4||function(Ut,ln){if(qe===void 0)try{new Response(new ReadableStream),qe=!0}catch{qe=!1}qe?ln(Ut.body):Ut.blob().then(ln)}(He,Ut=>{const ln=new Response(Ut,zt);dt(),Ne&&Ne.then(sn=>sn.put(function(tr){const ir=tr.indexOf("?");return ir<0?tr:tr.slice(0,ir)}(nt.url),ln)).catch(sn=>se(sn.message))}))}(v,we,Se),S=!0,l(null,Be,pe.headers.get("Cache-Control"),pe.headers.get("Expires")))}).catch(Be=>{k||l(new Error(Be.message))})})(de,null,J):de.blob().then(pe=>l(new Ze(de.status,de.statusText,c.url,pe)))).catch(de=>{de.code!==20&&l(new Error(de.message))})})(),{cancel:()=>{k=!0,S||d.abort()}}}const Lt=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){if(me()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,l);if(!me()){const v=c.url.substring(0,c.url.indexOf("://"));return(tn.REGISTERED_PROTOCOLS[v]||Gt)(c,l)}}if(!(/^file:/.test(d=c.url)||/^file:/.test(bt())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Gt(c,l);if(me()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,l,void 0,!0)}var d;return function(v,S){const k=new XMLHttpRequest;k.open(v.method||"GET",v.url,!0),v.type==="arrayBuffer"&&(k.responseType="arraybuffer");for(const P in v.headers)k.setRequestHeader(P,v.headers[P]);return v.type==="json"&&(k.responseType="text",k.setRequestHeader("Accept","application/json")),k.withCredentials=v.credentials==="include",k.onerror=()=>{S(new Error(k.statusText))},k.onload=()=>{if((k.status>=200&&k.status<300||k.status===0)&&k.response!==null){let P=k.response;if(v.type==="json")try{P=JSON.parse(k.response)}catch(R){return S(R)}S(null,P,k.getResponseHeader("Cache-Control"),k.getResponseHeader("Expires"))}else{const P=new Blob([k.response],{type:k.getResponseHeader("Content-Type")});S(new Ze(k.status,k.statusText,v.url,P))}},k.send(v.body),{cancel:()=>k.abort()}}(c,l)},Un=function(c,l){return Lt(L(c,{type:"arrayBuffer"}),l)};function rr(c){const l=window.document.createElement("a");return l.href=c,l.protocol===window.document.location.protocol&&l.host===window.document.location.host}const qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let $n,lr;$n=[],lr=0;const gr=function(c,l){if(Et.supported&&(c.headers||(c.headers={}),c.headers.accept="image/webp,*/*"),lr>=tn.MAX_PARALLEL_IMAGE_REQUESTS){const k={requestParameters:c,callback:l,cancelled:!1,cancel(){this.cancelled=!0}};return $n.push(k),k}lr++;let d=!1;const v=()=>{if(!d)for(d=!0,lr--;$n.length&&lr<tn.MAX_PARALLEL_IMAGE_REQUESTS;){const k=$n.shift(),{requestParameters:P,callback:R,cancelled:Q}=k;Q||(k.cancel=gr(P,R).cancel)}},S=Un(c,(k,P,R,Q)=>{v(),k?l(k):P&&function(J,de){typeof createImageBitmap=="function"?function(pe,we){const Se=new Blob([new Uint8Array(pe)],{type:"image/png"});createImageBitmap(Se).then(Be=>{we(null,Be)}).catch(Be=>{we(new Error(`Could not load image because of ${Be.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(J,de):function(pe,we){const Se=new Image;Se.onload=()=>{we(null,Se),URL.revokeObjectURL(Se.src),Se.onload=null,window.requestAnimationFrame(()=>{Se.src=qt})},Se.onerror=()=>we(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Be=new Blob([new Uint8Array(pe)],{type:"image/png"});Se.src=pe.byteLength?URL.createObjectURL(Be):qt}(J,de)}(P,(J,de)=>{J!=null?l(J):de!=null&&l(null,de,{cacheControl:R,expires:Q})})});return{cancel:()=>{S.cancel(),v()}}};function Mr(c,l,d){d[c]&&d[c].indexOf(l)!==-1||(d[c]=d[c]||[],d[c].push(l))}function Dr(c,l,d){if(d&&d[c]){const v=d[c].indexOf(l);v!==-1&&d[c].splice(v,1)}}class ur{constructor(l,d={}){L(this,d),this.type=l}}class yi extends ur{constructor(l,d={}){super("error",L({error:l},d))}}class be{on(l,d){return this._listeners=this._listeners||{},Mr(l,d,this._listeners),this}off(l,d){return Dr(l,d,this._listeners),Dr(l,d,this._oneTimeListeners),this}once(l,d){return this._oneTimeListeners=this._oneTimeListeners||{},Mr(l,d,this._oneTimeListeners),this}fire(l,d){typeof l=="string"&&(l=new ur(l,d||{}));const v=l.type;if(this.listens(v)){l.target=this;const S=this._listeners&&this._listeners[v]?this._listeners[v].slice():[];for(const R of S)R.call(this,l);const k=this._oneTimeListeners&&this._oneTimeListeners[v]?this._oneTimeListeners[v].slice():[];for(const R of k)Dr(v,R,this._oneTimeListeners),R.call(this,l);const P=this._eventedParent;P&&(L(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(l))}else l instanceof yi&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var z={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class q{constructor(l,d,v,S){this.message=(l?`${l}: `:"")+v,S&&(this.identifier=S),d!=null&&d.__line__&&(this.line=d.__line__)}}function Oe(c){const l=c.value;return l?[new q(c.key,l,"constants have been deprecated as of v8")]:[]}function st(c,...l){for(const d of l)for(const v in d)c[v]=d[v];return c}function ct(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function wt(c){if(Array.isArray(c))return c.map(wt);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const d in c)l[d]=wt(c[d]);return l}return ct(c)}class Vn extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class qn{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[v,S]of d)this.bindings[v]=S}concat(l){return new qn(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Qr={kind:"null"},It={kind:"number"},p={kind:"string"},Pt={kind:"boolean"},yr={kind:"color"},Jn={kind:"object"},un={kind:"value"},pr={kind:"collator"},Zr={kind:"formatted"},ki={kind:"padding"},Ai={kind:"resolvedImage"};function Fr(c,l){return{kind:"array",itemType:c,N:l}}function Wr(c){if(c.kind==="array"){const l=Wr(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const Zi=[Qr,It,p,Pt,yr,Zr,Jn,Fr(un),ki,Ai];function Wi(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Wi(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const d of Zi)if(!Wi(d,l))return null}}return`Expected ${Wr(c)} but found ${Wr(l)} instead.`}function da(c,l){return l.some(d=>d.kind===c.kind)}function zo(c,l){return l.some(d=>d==="null"?c===null:d==="array"?Array.isArray(c):d==="object"?c&&!Array.isArray(c)&&typeof c=="object":d===typeof c)}var os,_a={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Pe(c){return(c=Math.round(c))<0?0:c>255?255:c}function ie(c){return Pe(c[c.length-1]==="%"?parseFloat(c)/100*255:parseInt(c))}function he(c){return(l=c[c.length-1]==="%"?parseFloat(c)/100:parseFloat(c))<0?0:l>1?1:l;var l}function Ee(c,l,d){return d<0?d+=1:d>1&&(d-=1),6*d<1?c+(l-c)*d*6:2*d<1?l:3*d<2?c+(l-c)*(2/3-d)*6:c}try{os={}.parseCSSColor=function(c){var l,d=c.replace(/ /g,"").toLowerCase();if(d in _a)return _a[d].slice();if(d[0]==="#")return d.length===4?(l=parseInt(d.substr(1),16))>=0&&l<=4095?[(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1]:null:d.length===7&&(l=parseInt(d.substr(1),16))>=0&&l<=16777215?[(16711680&l)>>16,(65280&l)>>8,255&l,1]:null;var v=d.indexOf("("),S=d.indexOf(")");if(v!==-1&&S+1===d.length){var k=d.substr(0,v),P=d.substr(v+1,S-(v+1)).split(","),R=1;switch(k){case"rgba":if(P.length!==4)return null;R=he(P.pop());case"rgb":return P.length!==3?null:[ie(P[0]),ie(P[1]),ie(P[2]),R];case"hsla":if(P.length!==4)return null;R=he(P.pop());case"hsl":if(P.length!==3)return null;var Q=(parseFloat(P[0])%360+360)%360/360,J=he(P[1]),de=he(P[2]),pe=de<=.5?de*(J+1):de+J-de*J,we=2*de-pe;return[Pe(255*Ee(we,pe,Q+1/3)),Pe(255*Ee(we,pe,Q)),Pe(255*Ee(we,pe,Q-1/3)),R];default:return null}}return null}}catch{}class Te{constructor(l,d,v,S=1){this.r=l,this.g=d,this.b=v,this.a=S}static parse(l){if(!l)return;if(l instanceof Te)return l;if(typeof l!="string")return;const d=os(l);return d?new Te(d[0]/255*d[3],d[1]/255*d[3],d[2]/255*d[3],d[3]):void 0}toString(){const[l,d,v,S]=this.toArray();return`rgba(${Math.round(l)},${Math.round(d)},${Math.round(v)},${S})`}toArray(){const{r:l,g:d,b:v,a:S}=this;return S===0?[0,0,0,0]:[255*l/S,255*d/S,255*v/S,S]}}Te.black=new Te(0,0,0,1),Te.white=new Te(1,1,1,1),Te.transparent=new Te(0,0,0,0),Te.red=new Te(1,0,0,1);class Qe{constructor(l,d,v){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=v,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class rt{constructor(l,d,v,S,k){this.text=l,this.image=d,this.scale=v,this.fontStack=S,this.textColor=k}}class Xe{constructor(l){this.sections=l}static fromString(l){return new Xe([new rt(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Xe?l:Xe.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Ge{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ge)return l;if(typeof l=="number")return new Ge([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Ge(l)}}toString(){return JSON.stringify(this.values)}}class ut{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ut({name:l,available:!1}):null}}function Tt(c,l,d,v){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?v===void 0||typeof v=="number"&&v>=0&&v<=1?null:`Invalid rgba value [${[c,l,d,v].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof v=="number"?[c,l,d,v]:[c,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function nn(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Te||c instanceof Qe||c instanceof Xe||c instanceof Ge||c instanceof ut)return!0;if(Array.isArray(c)){for(const l of c)if(!nn(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!nn(c[l]))return!1;return!0}return!1}function Dt(c){if(c===null)return Qr;if(typeof c=="string")return p;if(typeof c=="boolean")return Pt;if(typeof c=="number")return It;if(c instanceof Te)return yr;if(c instanceof Qe)return pr;if(c instanceof Xe)return Zr;if(c instanceof Ge)return ki;if(c instanceof ut)return Ai;if(Array.isArray(c)){const l=c.length;let d;for(const v of c){const S=Dt(v);if(d){if(d===S)continue;d=un;break}d=S}return Fr(d||un,l)}return Jn}function wn(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof Te||c instanceof Xe||c instanceof Ge||c instanceof ut?c.toString():JSON.stringify(c)}class Kn{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!nn(l[1]))return d.error("invalid value");const v=l[1];let S=Dt(v);const k=d.expectedType;return S.kind!=="array"||S.N!==0||!k||k.kind!=="array"||typeof k.N=="number"&&k.N!==0||(S=k),new Kn(S,v)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class xn{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Zn={string:p,number:It,boolean:Pt,object:Jn};class Cr{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let v,S=1;const k=l[0];if(k==="array"){let R,Q;if(l.length>2){const J=l[1];if(typeof J!="string"||!(J in Zn)||J==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);R=Zn[J],S++}else R=un;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);Q=l[2],S++}v=Fr(R,Q)}else{if(!Zn[k])throw new Error(`Types doesn't contain name = ${k}`);v=Zn[k]}const P=[];for(;S<l.length;S++){const R=d.parse(l[S],S,un);if(!R)return null;P.push(R)}return new Cr(v,P)}evaluate(l){for(let d=0;d<this.args.length;d++){const v=this.args[d].evaluate(l);if(!Wi(this.type,Dt(v)))return v;if(d===this.args.length-1)throw new xn(`Expected value to be of type ${Wr(this.type)}, but found ${Wr(Dt(v))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const qr={"to-boolean":Pt,"to-color":yr,"to-number":It,"to-string":p};class In{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const v=l[0];if(!qr[v])throw new Error(`Can't parse ${v} as it is not part of the known types`);if((v==="to-boolean"||v==="to-string")&&l.length!==2)return d.error("Expected one argument.");const S=qr[v],k=[];for(let P=1;P<l.length;P++){const R=d.parse(l[P],P,un);if(!R)return null;k.push(R)}return new In(S,k)}evaluate(l){if(this.type.kind==="boolean")return!!this.args[0].evaluate(l);if(this.type.kind==="color"){let d,v;for(const S of this.args){if(d=S.evaluate(l),v=null,d instanceof Te)return d;if(typeof d=="string"){const k=l.parseColor(d);if(k)return k}else if(Array.isArray(d)&&(v=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Tt(d[0],d[1],d[2],d[3]),!v))return new Te(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new xn(v||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}if(this.type.kind==="padding"){let d;for(const v of this.args){d=v.evaluate(l);const S=Ge.parse(d);if(S)return S}throw new xn(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}if(this.type.kind==="number"){let d=null;for(const v of this.args){if(d=v.evaluate(l),d===null)return 0;const S=Number(d);if(!isNaN(S))return S}throw new xn(`Could not convert ${JSON.stringify(d)} to number.`)}return this.type.kind==="formatted"?Xe.fromString(wn(this.args[0].evaluate(l))):this.type.kind==="resolvedImage"?ut.fromString(wn(this.args[0].evaluate(l))):wn(this.args[0].evaluate(l))}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const dn=["Unknown","Point","LineString","Polygon"];class Lr{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?dn[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Te.parse(l)),d}}class Xr{constructor(l,d,v,S){this.name=l,this.type=d,this._evaluate=v,this.args=S}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const v=l[0],S=Xr.definitions[v];if(!S)return d.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0);const k=Array.isArray(S)?S[0]:S.type,P=Array.isArray(S)?[[S[1],S[2]]]:S.overloads,R=P.filter(([J])=>!Array.isArray(J)||J.length===l.length-1);let Q=null;for(const[J,de]of R){Q=new wl(d.registry,d.path,null,d.scope);const pe=[];let we=!1;for(let Se=1;Se<l.length;Se++){const Be=l[Se],nt=Array.isArray(J)?J[Se-1]:J.type,He=Q.parse(Be,1+pe.length,nt);if(!He){we=!0;break}pe.push(He)}if(!we)if(Array.isArray(J)&&J.length!==pe.length)Q.error(`Expected ${J.length} arguments, but found ${pe.length} instead.`);else{for(let Se=0;Se<pe.length;Se++){const Be=Array.isArray(J)?J[Se]:J.type,nt=pe[Se];Q.concat(Se+1).checkSubtype(Be,nt.type)}if(Q.errors.length===0)return new Xr(v,k,de,pe)}}if(R.length===1)d.errors.push(...Q.errors);else{const J=(R.length?R:P).map(([pe])=>{return we=pe,Array.isArray(we)?`(${we.map(Wr).join(", ")})`:`(${Wr(we.type)}...)`;var we}).join(" | "),de=[];for(let pe=1;pe<l.length;pe++){const we=d.parse(l[pe],1+de.length);if(!we)return null;de.push(Wr(we.type))}d.error(`Expected arguments of type ${J}, but found (${de.join(", ")}) instead.`)}return null}static register(l,d){Xr.definitions=d;for(const v in d)l[v]=Xr}}class Oi{constructor(l,d,v){this.type=pr,this.locale=v,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const v=l[1];if(typeof v!="object"||Array.isArray(v))return d.error("Collator options argument must be an object.");const S=d.parse(v["case-sensitive"]!==void 0&&v["case-sensitive"],1,Pt);if(!S)return null;const k=d.parse(v["diacritic-sensitive"]!==void 0&&v["diacritic-sensitive"],1,Pt);if(!k)return null;let P=null;return v.locale&&(P=d.parse(v.locale,1,p),!P)?null:new Oi(S,k,P)}evaluate(l){return new Qe(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const ge=8192;function je(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function Yt(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function hn(c,l){const d=(180+c[0])/360,v=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,S=Math.pow(2,l.z);return[Math.round(d*S*ge),Math.round(v*S*ge)]}function Ct(c,l,d){const v=c[0]-l[0],S=c[1]-l[1],k=c[0]-d[0],P=c[1]-d[1];return v*P-k*S==0&&v*k<=0&&S*P<=0}function Cn(c,l){let d=!1;for(let P=0,R=l.length;P<R;P++){const Q=l[P];for(let J=0,de=Q.length;J<de-1;J++){if(Ct(c,Q[J],Q[J+1]))return!1;(S=Q[J])[1]>(v=c)[1]!=(k=Q[J+1])[1]>v[1]&&v[0]<(k[0]-S[0])*(v[1]-S[1])/(k[1]-S[1])+S[0]&&(d=!d)}}var v,S,k;return d}function ti(c,l){for(let d=0;d<l.length;d++)if(Cn(c,l[d]))return!0;return!1}function Ni(c,l,d,v){const S=v[0]-d[0],k=v[1]-d[1],P=(c[0]-d[0])*k-S*(c[1]-d[1]),R=(l[0]-d[0])*k-S*(l[1]-d[1]);return P>0&&R<0||P<0&&R>0}function Xi(c,l,d){for(const J of d)for(let de=0;de<J.length-1;++de)if((R=[(P=J[de+1])[0]-(k=J[de])[0],P[1]-k[1]])[0]*(Q=[(S=l)[0]-(v=c)[0],S[1]-v[1]])[1]-R[1]*Q[0]!=0&&Ni(v,S,k,P)&&Ni(k,P,v,S))return!0;var v,S,k,P,R,Q;return!1}function ba(c,l){for(let d=0;d<c.length;++d)if(!Cn(c[d],l))return!1;for(let d=0;d<c.length-1;++d)if(Xi(c[d],c[d+1],l))return!1;return!0}function Mu(c,l){for(let d=0;d<l.length;d++)if(ba(c,l[d]))return!0;return!1}function kr(c,l,d){const v=[];for(let S=0;S<c.length;S++){const k=[];for(let P=0;P<c[S].length;P++){const R=hn(c[S][P],d);je(l,R),k.push(R)}v.push(k)}return v}function Ns(c,l,d){const v=[];for(let S=0;S<c.length;S++){const k=kr(c[S],l,d);v.push(k)}return v}function bl(c,l,d,v){if(c[0]<d[0]||c[0]>d[2]){const S=.5*v;let k=c[0]-d[0]>S?-v:d[0]-c[0]>S?v:0;k===0&&(k=c[0]-d[2]>S?-v:d[2]-c[0]>S?v:0),c[0]+=k}je(l,c)}function Gs(c,l,d,v){const S=Math.pow(2,v.z)*ge,k=[v.x*ge,v.y*ge],P=[];for(const R of c)for(const Q of R){const J=[Q.x+k[0],Q.y+k[1]];bl(J,l,d,S),P.push(J)}return P}function Qs(c,l,d,v){const S=Math.pow(2,v.z)*ge,k=[v.x*ge,v.y*ge],P=[];for(const Q of c){const J=[];for(const de of Q){const pe=[de.x+k[0],de.y+k[1]];je(l,pe),J.push(pe)}P.push(J)}if(l[2]-l[0]<=S/2){(R=l)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const Q of P)for(const J of Q)bl(J,l,d,S)}var R;return P}class xl{constructor(l,d){this.type=Pt,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(nn(l[1])){const v=l[1];if(v.type==="FeatureCollection")for(let S=0;S<v.features.length;++S){const k=v.features[S].geometry.type;if(k==="Polygon"||k==="MultiPolygon")return new xl(v,v.features[S].geometry)}else if(v.type==="Feature"){const S=v.geometry.type;if(S==="Polygon"||S==="MultiPolygon")return new xl(v,v.geometry)}else if(v.type==="Polygon"||v.type==="MultiPolygon")return new xl(v,v)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,v){const S=[1/0,1/0,-1/0,-1/0],k=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(v.type==="Polygon"){const R=kr(v.coordinates,k,P),Q=Gs(d.geometry(),S,k,P);if(!Yt(S,k))return!1;for(const J of Q)if(!Cn(J,R))return!1}if(v.type==="MultiPolygon"){const R=Ns(v.coordinates,k,P),Q=Gs(d.geometry(),S,k,P);if(!Yt(S,k))return!1;for(const J of Q)if(!ti(J,R))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,v){const S=[1/0,1/0,-1/0,-1/0],k=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(v.type==="Polygon"){const R=kr(v.coordinates,k,P),Q=Qs(d.geometry(),S,k,P);if(!Yt(S,k))return!1;for(const J of Q)if(!ba(J,R))return!1}if(v.type==="MultiPolygon"){const R=Ns(v.coordinates,k,P),Q=Qs(d.geometry(),S,k,P);if(!Yt(S,k))return!1;for(const J of Q)if(!Mu(J,R))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function Is(c){if(c instanceof Xr&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof xl)return!1;let l=!0;return c.eachChild(d=>{l&&!Is(d)&&(l=!1)}),l}function Ho(c){if(c instanceof Xr&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(d=>{l&&!Ho(d)&&(l=!1)}),l}function xa(c,l){if(c instanceof Xr&&l.indexOf(c.name)>=0)return!1;let d=!0;return c.eachChild(v=>{d&&!xa(v,l)&&(d=!1)}),d}class ks{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const v=l[1];return d.scope.has(v)?new ks(v,d.scope.get(v)):d.error(`Unknown variable "${v}". Make sure "${v}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class wl{constructor(l,d=[],v,S=new qn,k=[]){this.registry=l,this.path=d,this.key=d.map(P=>`[${P}]`).join(""),this.scope=S,this.errors=k,this.expectedType=v}parse(l,d,v,S,k={}){return d?this.concat(d,v,S)._parse(l,k):this._parse(l,k)}_parse(l,d){function v(S,k,P){return P==="assert"?new Cr(k,[S]):P==="coerce"?new In(k,[S]):S}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const S=l[0];if(typeof S!="string")return this.error(`Expression name must be a string, but found ${typeof S} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const k=this.registry[S];if(k){let P=k.parse(l,this);if(!P)return null;if(this.expectedType){const R=this.expectedType,Q=P.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||Q.kind!=="value")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||Q.kind!=="value"&&Q.kind!=="string")if(R.kind!=="padding"||Q.kind!=="value"&&Q.kind!=="number"&&Q.kind!=="array"){if(this.checkSubtype(R,Q))return null}else P=v(P,R,d.typeAnnotation||"coerce");else P=v(P,R,d.typeAnnotation||"coerce");else P=v(P,R,d.typeAnnotation||"assert")}if(!(P instanceof Kn)&&P.type.kind!=="resolvedImage"&&$s(P)){const R=new Lr;try{P=new Kn(P.type,P.evaluate(R))}catch(Q){return this.error(Q.message),null}}return P}return this.error(`Unknown expression "${S}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,v){const S=typeof l=="number"?this.path.concat(l):this.path,k=v?this.scope.concat(v):this.scope;return new wl(this.registry,S,d||null,k,this.errors)}error(l,...d){const v=`${this.key}${d.map(S=>`[${S}]`).join("")}`;this.errors.push(new Vn(v,l))}checkSubtype(l,d){const v=Wi(l,d);return v&&this.error(v),v}}function $s(c){if(c instanceof ks)return $s(c.boundExpression);if(c instanceof Xr&&c.name==="error"||c instanceof Oi||c instanceof xl)return!1;const l=c instanceof In||c instanceof Cr;let d=!0;return c.eachChild(v=>{d=l?d&&$s(v):d&&v instanceof Kn}),!!d&&Is(c)&&xa(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Su(c,l){const d=c.length-1;let v,S,k=0,P=d,R=0;for(;k<=P;)if(R=Math.floor((k+P)/2),v=c[R],S=c[R+1],v<=l){if(R===d||l<S)return R;k=R+1}else{if(!(v>l))throw new xn("Input is not a number.");P=R-1}return 0}class uu{constructor(l,d,v){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[S,k]of v)this.labels.push(S),this.outputs.push(k)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const v=d.parse(l[1],1,It);if(!v)return null;const S=[];let k=null;d.expectedType&&d.expectedType.kind!=="value"&&(k=d.expectedType);for(let P=1;P<l.length;P+=2){const R=P===1?-1/0:l[P],Q=l[P+1],J=P,de=P+1;if(typeof R!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',J);if(S.length&&S[S.length-1][0]>=R)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',J);const pe=d.parse(Q,de,k);if(!pe)return null;k=k||pe.type,S.push([R,pe])}return new uu(k,v,S)}evaluate(l){const d=this.labels,v=this.outputs;if(d.length===1)return v[0].evaluate(l);const S=this.input.evaluate(l);if(S<=d[0])return v[0].evaluate(l);const k=d.length;return S>=d[k-1]?v[k-1].evaluate(l):v[Su(d,S)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function po(c,l,d){return c*(1-d)+l*d}var Eu=Object.freeze({__proto__:null,number:po,color:function(c,l,d){return new Te(po(c.r,l.r,d),po(c.g,l.g,d),po(c.b,l.b,d),po(c.a,l.a,d))},array:function(c,l,d){return c.map((v,S)=>po(v,l[S],d))},padding:function(c,l,d){const v=c.values,S=l.values;return new Ge([po(v[0],S[0],d),po(v[1],S[1],d),po(v[2],S[2],d),po(v[3],S[3],d)])}});const tc=.95047,qa=1.08883,Ts=4/29,Ou=6/29,Zu=3*Ou*Ou,Bu=Math.PI/180,zl=180/Math.PI;function nc(c){return c>.008856451679035631?Math.pow(c,1/3):c/Zu+Ts}function Iu(c){return c>Ou?c*c*c:Zu*(c-Ts)}function Xu(c){return 255*(c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055)}function MA(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function ai(c){const l=MA(c.r),d=MA(c.g),v=MA(c.b),S=nc((.4124564*l+.3575761*d+.1804375*v)/tc),k=nc((.2126729*l+.7151522*d+.072175*v)/1);return{l:116*k-16,a:500*(S-k),b:200*(k-nc((.0193339*l+.119192*d+.9503041*v)/qa)),alpha:c.a}}function SA(c){let l=(c.l+16)/116,d=isNaN(c.a)?l:l+c.a/500,v=isNaN(c.b)?l:l-c.b/200;return l=1*Iu(l),d=tc*Iu(d),v=qa*Iu(v),new Te(Xu(3.2404542*d-1.5371385*l-.4985314*v),Xu(-.969266*d+1.8760108*l+.041556*v),Xu(.0556434*d-.2040259*l+1.0572252*v),c.alpha)}function rc(c,l,d){const v=l-c;return c+d*(v>180||v<-180?v-360*Math.round(v/360):v)}const no={forward:ai,reverse:SA,interpolate:function(c,l,d){return{l:po(c.l,l.l,d),a:po(c.a,l.a,d),b:po(c.b,l.b,d),alpha:po(c.alpha,l.alpha,d)}}},Ji={forward:function(c){const{l,a:d,b:v}=ai(c),S=Math.atan2(v,d)*zl;return{h:S<0?S+360:S,c:Math.sqrt(d*d+v*v),l,alpha:c.a}},reverse:function(c){const l=c.h*Bu,d=c.c;return SA({l:c.l,a:Math.cos(l)*d,b:Math.sin(l)*d,alpha:c.alpha})},interpolate:function(c,l,d){return{h:rc(c.h,l.h,d),c:po(c.c,l.c,d),l:po(c.l,l.l,d),alpha:po(c.alpha,l.alpha,d)}}};var ne=Object.freeze({__proto__:null,lab:no,hcl:Ji});class Ie{constructor(l,d,v,S,k){this.type=l,this.operator=d,this.interpolation=v,this.input=S,this.labels=[],this.outputs=[];for(const[P,R]of k)this.labels.push(P),this.outputs.push(R)}static interpolationFactor(l,d,v,S){let k=0;if(l.name==="exponential")k=lt(d,l.base,v,S);else if(l.name==="linear")k=lt(d,1,v,S);else if(l.name==="cubic-bezier"){const P=l.controlPoints;k=new f(P[0],P[1],P[2],P[3]).solve(lt(d,1,v,S))}return k}static parse(l,d){let[v,S,k,...P]=l;if(!Array.isArray(S)||S.length===0)return d.error("Expected an interpolation type expression.",1);if(S[0]==="linear")S={name:"linear"};else if(S[0]==="exponential"){const J=S[1];if(typeof J!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);S={name:"exponential",base:J}}else{if(S[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(S[0])}`,1,0);{const J=S.slice(1);if(J.length!==4||J.some(de=>typeof de!="number"||de<0||de>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);S={name:"cubic-bezier",controlPoints:J}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(k=d.parse(k,2,It),!k)return null;const R=[];let Q=null;v==="interpolate-hcl"||v==="interpolate-lab"?Q=yr:d.expectedType&&d.expectedType.kind!=="value"&&(Q=d.expectedType);for(let J=0;J<P.length;J+=2){const de=P[J],pe=P[J+1],we=J+3,Se=J+4;if(typeof de!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',we);if(R.length&&R[R.length-1][0]>=de)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',we);const Be=d.parse(pe,Se,Q);if(!Be)return null;Q=Q||Be.type,R.push([de,Be])}return Q.kind==="number"||Q.kind==="color"||Q.kind==="padding"||Q.kind==="array"&&Q.itemType.kind==="number"&&typeof Q.N=="number"?new Ie(Q,v,S,k,R):d.error(`Type ${Wr(Q)} is not interpolatable.`)}evaluate(l){const d=this.labels,v=this.outputs;if(d.length===1)return v[0].evaluate(l);const S=this.input.evaluate(l);if(S<=d[0])return v[0].evaluate(l);const k=d.length;if(S>=d[k-1])return v[k-1].evaluate(l);const P=Su(d,S),R=Ie.interpolationFactor(this.interpolation,S,d[P],d[P+1]),Q=v[P].evaluate(l),J=v[P+1].evaluate(l);return this.operator==="interpolate"?Eu[this.type.kind.toLowerCase()](Q,J,R):this.operator==="interpolate-hcl"?Ji.reverse(Ji.interpolate(Ji.forward(Q),Ji.forward(J),R)):no.reverse(no.interpolate(no.forward(Q),no.forward(J),R))}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function lt(c,l,d,v){const S=v-d,k=c-d;return S===0?0:l===1?k/S:(Math.pow(l,k)-1)/(Math.pow(l,S)-1)}class en{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let v=null;const S=d.expectedType;S&&S.kind!=="value"&&(v=S);const k=[];for(const R of l.slice(1)){const Q=d.parse(R,1+k.length,v,void 0,{typeAnnotation:"omit"});if(!Q)return null;v=v||Q.type,k.push(Q)}if(!v)throw new Error("No output type");const P=S&&k.some(R=>Wi(S,R.type));return new en(P?un:v,k)}evaluate(l){let d,v=null,S=0;for(const k of this.args)if(S++,v=k.evaluate(l),v&&v instanceof ut&&!v.available&&(d||(d=v.name),v=null,S===this.args.length&&(v=d)),v!==null)break;return v}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Vr{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const v=[];for(let k=1;k<l.length-1;k+=2){const P=l[k];if(typeof P!="string")return d.error(`Expected string, but found ${typeof P} instead.`,k);if(/[^a-zA-Z0-9_]/.test(P))return d.error("Variable names must contain only alphanumeric characters or '_'.",k);const R=d.parse(l[k+1],k+1);if(!R)return null;v.push([P,R])}const S=d.parse(l[l.length-1],l.length-1,d.expectedType,v);return S?new Vr(v,S):null}outputDefined(){return this.result.outputDefined()}}class _r{constructor(l,d,v){this.type=l,this.index=d,this.input=v}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const v=d.parse(l[1],1,It),S=d.parse(l[2],2,Fr(d.expectedType||un));return v&&S?new _r(S.type.itemType,v,S):null}evaluate(l){const d=this.index.evaluate(l),v=this.input.evaluate(l);if(d<0)throw new xn(`Array index out of bounds: ${d} < 0.`);if(d>=v.length)throw new xn(`Array index out of bounds: ${d} > ${v.length-1}.`);if(d!==Math.floor(d))throw new xn(`Array index must be an integer, but found ${d} instead.`);return v[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Bi{constructor(l,d){this.type=Pt,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const v=d.parse(l[1],1,un),S=d.parse(l[2],2,un);return v&&S?da(v.type,[Pt,p,It,Qr,un])?new Bi(v,S):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(v.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),v=this.haystack.evaluate(l);if(!v)return!1;if(!zo(d,["boolean","string","number","null"]))throw new xn(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(Dt(d))} instead.`);if(!zo(v,["string","array"]))throw new xn(`Expected second argument to be of type array or string, but found ${Wr(Dt(v))} instead.`);return v.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Ti{constructor(l,d,v){this.type=It,this.needle=l,this.haystack=d,this.fromIndex=v}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const v=d.parse(l[1],1,un),S=d.parse(l[2],2,un);if(!v||!S)return null;if(!da(v.type,[Pt,p,It,Qr,un]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(v.type)} instead`);if(l.length===4){const k=d.parse(l[3],3,It);return k?new Ti(v,S,k):null}return new Ti(v,S)}evaluate(l){const d=this.needle.evaluate(l),v=this.haystack.evaluate(l);if(!zo(d,["boolean","string","number","null"]))throw new xn(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(Dt(d))} instead.`);if(!zo(v,["string","array"]))throw new xn(`Expected second argument to be of type array or string, but found ${Wr(Dt(v))} instead.`);if(this.fromIndex){const S=this.fromIndex.evaluate(l);return v.indexOf(d,S)}return v.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Hr{constructor(l,d,v,S,k,P){this.inputType=l,this.type=d,this.input=v,this.cases=S,this.outputs=k,this.otherwise=P}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let v,S;d.expectedType&&d.expectedType.kind!=="value"&&(S=d.expectedType);const k={},P=[];for(let J=2;J<l.length-1;J+=2){let de=l[J];const pe=l[J+1];Array.isArray(de)||(de=[de]);const we=d.concat(J);if(de.length===0)return we.error("Expected at least one branch label.");for(const Be of de){if(typeof Be!="number"&&typeof Be!="string")return we.error("Branch labels must be numbers or strings.");if(typeof Be=="number"&&Math.abs(Be)>Number.MAX_SAFE_INTEGER)return we.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Be=="number"&&Math.floor(Be)!==Be)return we.error("Numeric branch labels must be integer values.");if(v){if(we.checkSubtype(v,Dt(Be)))return null}else v=Dt(Be);if(k[String(Be)]!==void 0)return we.error("Branch labels must be unique.");k[String(Be)]=P.length}const Se=d.parse(pe,J,S);if(!Se)return null;S=S||Se.type,P.push(Se)}const R=d.parse(l[1],1,un);if(!R)return null;const Q=d.parse(l[l.length-1],l.length-1,S);return Q?R.type.kind!=="value"&&d.concat(1).checkSubtype(v,R.type)?null:new Hr(v,S,R,k,P,Q):null}evaluate(l){const d=this.input.evaluate(l);return(Dt(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class $i{constructor(l,d,v){this.type=l,this.branches=d,this.otherwise=v}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let v;d.expectedType&&d.expectedType.kind!=="value"&&(v=d.expectedType);const S=[];for(let P=1;P<l.length-1;P+=2){const R=d.parse(l[P],P,Pt);if(!R)return null;const Q=d.parse(l[P+1],P+1,v);if(!Q)return null;S.push([R,Q]),v=v||Q.type}const k=d.parse(l[l.length-1],l.length-1,v);if(!k)return null;if(!v)throw new Error("Can't infer output type");return new $i(v,S,k)}evaluate(l){for(const[d,v]of this.branches)if(d.evaluate(l))return v.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,v]of this.branches)l(d),l(v);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Ko{constructor(l,d,v,S){this.type=l,this.input=d,this.beginIndex=v,this.endIndex=S}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const v=d.parse(l[1],1,un),S=d.parse(l[2],2,It);if(!v||!S)return null;if(!da(v.type,[Fr(un),p,un]))return d.error(`Expected first argument to be of type array or string, but found ${Wr(v.type)} instead`);if(l.length===4){const k=d.parse(l[3],3,It);return k?new Ko(v.type,v,S,k):null}return new Ko(v.type,v,S)}evaluate(l){const d=this.input.evaluate(l),v=this.beginIndex.evaluate(l);if(!zo(d,["string","array"]))throw new xn(`Expected first argument to be of type array or string, but found ${Wr(Dt(d))} instead.`);if(this.endIndex){const S=this.endIndex.evaluate(l);return d.slice(v,S)}return d.slice(v)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Ta(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function $o(c,l,d,v){return v.compare(l,d)===0}function vi(c,l,d){const v=c!=="=="&&c!=="!=";return class UL{constructor(k,P,R){this.type=Pt,this.lhs=k,this.rhs=P,this.collator=R,this.hasUntypedArgument=k.type.kind==="value"||P.type.kind==="value"}static parse(k,P){if(k.length!==3&&k.length!==4)return P.error("Expected two or three arguments.");const R=k[0];let Q=P.parse(k[1],1,un);if(!Q)return null;if(!Ta(R,Q.type))return P.concat(1).error(`"${R}" comparisons are not supported for type '${Wr(Q.type)}'.`);let J=P.parse(k[2],2,un);if(!J)return null;if(!Ta(R,J.type))return P.concat(2).error(`"${R}" comparisons are not supported for type '${Wr(J.type)}'.`);if(Q.type.kind!==J.type.kind&&Q.type.kind!=="value"&&J.type.kind!=="value")return P.error(`Cannot compare types '${Wr(Q.type)}' and '${Wr(J.type)}'.`);v&&(Q.type.kind==="value"&&J.type.kind!=="value"?Q=new Cr(J.type,[Q]):Q.type.kind!=="value"&&J.type.kind==="value"&&(J=new Cr(Q.type,[J])));let de=null;if(k.length===4){if(Q.type.kind!=="string"&&J.type.kind!=="string"&&Q.type.kind!=="value"&&J.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(de=P.parse(k[3],3,pr),!de)return null}return new UL(Q,J,de)}evaluate(k){const P=this.lhs.evaluate(k),R=this.rhs.evaluate(k);if(v&&this.hasUntypedArgument){const Q=Dt(P),J=Dt(R);if(Q.kind!==J.kind||Q.kind!=="string"&&Q.kind!=="number")throw new xn(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${Q.kind}, ${J.kind}) instead.`)}if(this.collator&&!v&&this.hasUntypedArgument){const Q=Dt(P),J=Dt(R);if(Q.kind!=="string"||J.kind!=="string")return l(k,P,R)}return this.collator?d(k,P,R,this.collator.evaluate(k)):l(k,P,R)}eachChild(k){k(this.lhs),k(this.rhs),this.collator&&k(this.collator)}outputDefined(){return!0}}}const ha=vi("==",function(c,l,d){return l===d},$o),Va=vi("!=",function(c,l,d){return l!==d},function(c,l,d,v){return!$o(0,l,d,v)}),Ys=vi("<",function(c,l,d){return l<d},function(c,l,d,v){return v.compare(l,d)<0}),jl=vi(">",function(c,l,d){return l>d},function(c,l,d,v){return v.compare(l,d)>0}),ku=vi("<=",function(c,l,d){return l<=d},function(c,l,d,v){return v.compare(l,d)<=0}),ic=vi(">=",function(c,l,d){return l>=d},function(c,l,d,v){return v.compare(l,d)>=0});class Ka{constructor(l,d,v,S,k){this.type=p,this.number=l,this.locale=d,this.currency=v,this.minFractionDigits=S,this.maxFractionDigits=k}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const v=d.parse(l[1],1,It);if(!v)return null;const S=l[2];if(typeof S!="object"||Array.isArray(S))return d.error("NumberFormat options argument must be an object.");let k=null;if(S.locale&&(k=d.parse(S.locale,1,p),!k))return null;let P=null;if(S.currency&&(P=d.parse(S.currency,1,p),!P))return null;let R=null;if(S["min-fraction-digits"]&&(R=d.parse(S["min-fraction-digits"],1,It),!R))return null;let Q=null;return S["max-fraction-digits"]&&(Q=d.parse(S["max-fraction-digits"],1,It),!Q)?null:new Ka(v,k,P,R,Q)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class lh{constructor(l){this.type=Zr,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const v=l[1];if(!Array.isArray(v)&&typeof v=="object")return d.error("First argument must be an image or text section.");const S=[];let k=!1;for(let P=1;P<=l.length-1;++P){const R=l[P];if(k&&typeof R=="object"&&!Array.isArray(R)){k=!1;let Q=null;if(R["font-scale"]&&(Q=d.parse(R["font-scale"],1,It),!Q))return null;let J=null;if(R["text-font"]&&(J=d.parse(R["text-font"],1,Fr(p)),!J))return null;let de=null;if(R["text-color"]&&(de=d.parse(R["text-color"],1,yr),!de))return null;const pe=S[S.length-1];pe.scale=Q,pe.font=J,pe.textColor=de}else{const Q=d.parse(l[P],1,un);if(!Q)return null;const J=Q.type.kind;if(J!=="string"&&J!=="value"&&J!=="null"&&J!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");k=!0,S.push({content:Q,scale:null,font:null,textColor:null})}}return new lh(S)}evaluate(l){return new Xe(this.sections.map(d=>{const v=d.content.evaluate(l);return Dt(v)===Ai?new rt("",v,null,null,null):new rt(wn(v),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class Al{constructor(l){this.type=Ai,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const v=d.parse(l[1],1,p);return v?new Al(v):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),v=ut.fromString(d);return v&&l.availableImages&&(v.available=l.availableImages.indexOf(d)>-1),v}eachChild(l){l(this.input)}outputDefined(){return!1}}class uh{constructor(l){this.type=It,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const v=d.parse(l[1],1);return v?v.type.kind!=="array"&&v.type.kind!=="string"&&v.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${Wr(v.type)} instead.`):new uh(v):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new xn(`Expected value to be of type string or array, but found ${Wr(Dt(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const EA={"==":ha,"!=":Va,">":jl,"<":Ys,">=":ic,"<=":ku,array:Cr,at:_r,boolean:Cr,case:$i,coalesce:en,collator:Oi,format:lh,image:Al,in:Bi,"index-of":Ti,interpolate:Ie,"interpolate-hcl":Ie,"interpolate-lab":Ie,length:uh,let:Vr,literal:Kn,match:Hr,number:Cr,"number-format":Ka,object:Cr,slice:Ko,step:uu,string:Cr,"to-boolean":In,"to-color":In,"to-number":In,"to-string":In,var:ks,within:xl};function Ju(c,[l,d,v,S]){l=l.evaluate(c),d=d.evaluate(c),v=v.evaluate(c);const k=S?S.evaluate(c):1,P=Tt(l,d,v,k);if(P)throw new xn(P);return new Te(l/255*k,d/255*k,v/255*k,k)}function Id(c,l){return c in l}function zc(c,l){const d=l[c];return d===void 0?null:d}function vo(c){return{type:c}}function Tu(c){return{result:"success",value:c}}function OA(c){return{result:"error",value:c}}function Po(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function oc(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function ci(c){return!!c.expression&&c.expression.interpolated}function so(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function Uo(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function jo(c){return c}function Wl(c,l){const d=l.type==="color",v=c.stops&&typeof c.stops[0][0]=="object",S=v||!(v||c.property!==void 0),k=c.type||(ci(l)?"exponential":"interval");if(d||l.type==="padding"){const J=d?Te.parse:Ge.parse;(c=st({},c)).stops&&(c.stops=c.stops.map(de=>[de[0],J(de[1])])),c.default=J(c.default?c.default:l.default)}if(c.colorSpace&&c.colorSpace!=="rgb"&&!ne[c.colorSpace])throw new Error(`Unknown color space: ${c.colorSpace}`);let P,R,Q;if(k==="exponential")P=ac;else if(k==="interval")P=lf;else if(k==="categorical"){P=Wm,R=Object.create(null);for(const J of c.stops)R[J[0]]=J[1];Q=typeof c.stops[0][0]}else{if(k!=="identity")throw new Error(`Unknown function type "${k}"`);P=uf}if(v){const J={},de=[];for(let Se=0;Se<c.stops.length;Se++){const Be=c.stops[Se],nt=Be[0].zoom;J[nt]===void 0&&(J[nt]={zoom:nt,type:c.type,property:c.property,default:c.default,stops:[]},de.push(nt)),J[nt].stops.push([Be[0].value,Be[1]])}const pe=[];for(const Se of de)pe.push([J[Se].zoom,Wl(J[Se],l)]);const we={name:"linear"};return{kind:"composite",interpolationType:we,interpolationFactor:Ie.interpolationFactor.bind(void 0,we),zoomStops:pe.map(Se=>Se[0]),evaluate:({zoom:Se},Be)=>ac({stops:pe,base:c.base},l,Se).evaluate(Se,Be)}}if(S){const J=k==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:J,interpolationFactor:Ie.interpolationFactor.bind(void 0,J),zoomStops:c.stops.map(de=>de[0]),evaluate:({zoom:de})=>P(c,l,de,R,Q)}}return{kind:"source",evaluate(J,de){const pe=de&&de.properties?de.properties[c.property]:void 0;return pe===void 0?xo(c.default,l.default):P(c,l,pe,R,Q)}}}function xo(c,l,d){return c!==void 0?c:l!==void 0?l:d!==void 0?d:void 0}function Wm(c,l,d,v,S){return xo(typeof d===S?v[d]:void 0,c.default,l.default)}function lf(c,l,d){if(so(d)!=="number")return xo(c.default,l.default);const v=c.stops.length;if(v===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[v-1][0])return c.stops[v-1][1];const S=Su(c.stops.map(k=>k[0]),d);return c.stops[S][1]}function ac(c,l,d){const v=c.base!==void 0?c.base:1;if(so(d)!=="number")return xo(c.default,l.default);const S=c.stops.length;if(S===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[S-1][0])return c.stops[S-1][1];const k=Su(c.stops.map(de=>de[0]),d),P=function(de,pe,we,Se){const Be=Se-we,nt=de-we;return Be===0?0:pe===1?nt/Be:(Math.pow(pe,nt)-1)/(Math.pow(pe,Be)-1)}(d,v,c.stops[k][0],c.stops[k+1][0]),R=c.stops[k][1],Q=c.stops[k+1][1];let J=Eu[l.type]||jo;if(c.colorSpace&&c.colorSpace!=="rgb"){const de=ne[c.colorSpace];J=(pe,we)=>de.reverse(de.interpolate(de.forward(pe),de.forward(we),P))}return typeof R.evaluate=="function"?{evaluate(...de){const pe=R.evaluate.apply(void 0,de),we=Q.evaluate.apply(void 0,de);if(pe!==void 0&&we!==void 0)return J(pe,we,P)}}:J(R,Q,P)}function uf(c,l,d){switch(l.type){case"color":d=Te.parse(d);break;case"formatted":d=Xe.fromString(d.toString());break;case"resolvedImage":d=ut.fromString(d.toString());break;case"padding":d=Ge.parse(d);break;default:so(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return xo(d,c.default,l.default)}Xr.register(EA,{error:[{kind:"error"},[p],(c,[l])=>{throw new xn(l.evaluate(c))}],typeof:[p,[un],(c,[l])=>Wr(Dt(l.evaluate(c)))],"to-rgba":[Fr(It,4),[yr],(c,[l])=>l.evaluate(c).toArray()],rgb:[yr,[It,It,It],Ju],rgba:[yr,[It,It,It,It],Ju],has:{type:Pt,overloads:[[[p],(c,[l])=>Id(l.evaluate(c),c.properties())],[[p,Jn],(c,[l,d])=>Id(l.evaluate(c),d.evaluate(c))]]},get:{type:un,overloads:[[[p],(c,[l])=>zc(l.evaluate(c),c.properties())],[[p,Jn],(c,[l,d])=>zc(l.evaluate(c),d.evaluate(c))]]},"feature-state":[un,[p],(c,[l])=>zc(l.evaluate(c),c.featureState||{})],properties:[Jn,[],c=>c.properties()],"geometry-type":[p,[],c=>c.geometryType()],id:[un,[],c=>c.id()],zoom:[It,[],c=>c.globals.zoom],"heatmap-density":[It,[],c=>c.globals.heatmapDensity||0],"line-progress":[It,[],c=>c.globals.lineProgress||0],accumulated:[un,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[It,vo(It),(c,l)=>{let d=0;for(const v of l)d+=v.evaluate(c);return d}],"*":[It,vo(It),(c,l)=>{let d=1;for(const v of l)d*=v.evaluate(c);return d}],"-":{type:It,overloads:[[[It,It],(c,[l,d])=>l.evaluate(c)-d.evaluate(c)],[[It],(c,[l])=>-l.evaluate(c)]]},"/":[It,[It,It],(c,[l,d])=>l.evaluate(c)/d.evaluate(c)],"%":[It,[It,It],(c,[l,d])=>l.evaluate(c)%d.evaluate(c)],ln2:[It,[],()=>Math.LN2],pi:[It,[],()=>Math.PI],e:[It,[],()=>Math.E],"^":[It,[It,It],(c,[l,d])=>Math.pow(l.evaluate(c),d.evaluate(c))],sqrt:[It,[It],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[It,[It],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[It,[It],(c,[l])=>Math.log(l.evaluate(c))],log2:[It,[It],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[It,[It],(c,[l])=>Math.sin(l.evaluate(c))],cos:[It,[It],(c,[l])=>Math.cos(l.evaluate(c))],tan:[It,[It],(c,[l])=>Math.tan(l.evaluate(c))],asin:[It,[It],(c,[l])=>Math.asin(l.evaluate(c))],acos:[It,[It],(c,[l])=>Math.acos(l.evaluate(c))],atan:[It,[It],(c,[l])=>Math.atan(l.evaluate(c))],min:[It,vo(It),(c,l)=>Math.min(...l.map(d=>d.evaluate(c)))],max:[It,vo(It),(c,l)=>Math.max(...l.map(d=>d.evaluate(c)))],abs:[It,[It],(c,[l])=>Math.abs(l.evaluate(c))],round:[It,[It],(c,[l])=>{const d=l.evaluate(c);return d<0?-Math.round(-d):Math.round(d)}],floor:[It,[It],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[It,[It],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Pt,[p,un],(c,[l,d])=>c.properties()[l.value]===d.value],"filter-id-==":[Pt,[un],(c,[l])=>c.id()===l.value],"filter-type-==":[Pt,[p],(c,[l])=>c.geometryType()===l.value],"filter-<":[Pt,[p,un],(c,[l,d])=>{const v=c.properties()[l.value],S=d.value;return typeof v==typeof S&&v<S}],"filter-id-<":[Pt,[un],(c,[l])=>{const d=c.id(),v=l.value;return typeof d==typeof v&&d<v}],"filter->":[Pt,[p,un],(c,[l,d])=>{const v=c.properties()[l.value],S=d.value;return typeof v==typeof S&&v>S}],"filter-id->":[Pt,[un],(c,[l])=>{const d=c.id(),v=l.value;return typeof d==typeof v&&d>v}],"filter-<=":[Pt,[p,un],(c,[l,d])=>{const v=c.properties()[l.value],S=d.value;return typeof v==typeof S&&v<=S}],"filter-id-<=":[Pt,[un],(c,[l])=>{const d=c.id(),v=l.value;return typeof d==typeof v&&d<=v}],"filter->=":[Pt,[p,un],(c,[l,d])=>{const v=c.properties()[l.value],S=d.value;return typeof v==typeof S&&v>=S}],"filter-id->=":[Pt,[un],(c,[l])=>{const d=c.id(),v=l.value;return typeof d==typeof v&&d>=v}],"filter-has":[Pt,[un],(c,[l])=>l.value in c.properties()],"filter-has-id":[Pt,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Pt,[Fr(p)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Pt,[Fr(un)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Pt,[p,Fr(un)],(c,[l,d])=>d.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Pt,[p,Fr(un)],(c,[l,d])=>function(v,S,k,P){for(;k<=P;){const R=k+P>>1;if(S[R]===v)return!0;S[R]>v?P=R-1:k=R+1}return!1}(c.properties()[l.value],d.value,0,d.value.length-1)],all:{type:Pt,overloads:[[[Pt,Pt],(c,[l,d])=>l.evaluate(c)&&d.evaluate(c)],[vo(Pt),(c,l)=>{for(const d of l)if(!d.evaluate(c))return!1;return!0}]]},any:{type:Pt,overloads:[[[Pt,Pt],(c,[l,d])=>l.evaluate(c)||d.evaluate(c)],[vo(Pt),(c,l)=>{for(const d of l)if(d.evaluate(c))return!0;return!1}]]},"!":[Pt,[Pt],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Pt,[p],(c,[l])=>{const d=c.globals&&c.globals.isSupportedScript;return!d||d(l.evaluate(c))}],upcase:[p,[p],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[p,[p],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[p,vo(un),(c,l)=>l.map(d=>wn(d.evaluate(c))).join("")],"resolved-locale":[p,[pr],(c,[l])=>l.evaluate(c).resolvedLocale()]});class sc{constructor(l,d){this.expression=l,this._warningHistory={},this._evaluator=new Lr,this._defaultValue=d?function(v){return v.type==="color"&&Uo(v.default)?new Te(0,0,0,0):v.type==="color"?Te.parse(v.default)||null:v.type==="padding"?Ge.parse(v.default)||null:v.default===void 0?null:v.default}(d):null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,v,S,k,P){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=v,this._evaluator.canonical=S,this._evaluator.availableImages=k||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(l,d,v,S,k,P){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=v||null,this._evaluator.canonical=S,this._evaluator.availableImages=k||null,this._evaluator.formattedSection=P||null;try{const R=this.expression.evaluate(this._evaluator);if(R==null||typeof R=="number"&&R!=R)return this._defaultValue;if(this._enumValues&&!(R in this._enumValues))throw new xn(`Expected value to be one of ${Object.keys(this._enumValues).map(Q=>JSON.stringify(Q)).join(", ")}, but found ${JSON.stringify(R)} instead.`);return R}catch(R){return this._warningHistory[R.message]||(this._warningHistory[R.message]=!0,typeof console<"u"&&console.warn(R.message)),this._defaultValue}}}function jc(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in EA}function lc(c,l){const d=new wl(EA,[],l?function(S){const k={color:yr,string:p,number:It,enum:p,boolean:Pt,formatted:Zr,padding:ki,resolvedImage:Ai};return S.type==="array"?Fr(k[S.value]||un,S.length):k[S.type]}(l):void 0),v=d.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return v?Tu(new sc(v,l)):OA(d.errors)}class BA{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!Ho(d.expression)}evaluateWithoutErrorHandling(l,d,v,S,k,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,v,S,k,P)}evaluate(l,d,v,S,k,P){return this._styleExpression.evaluate(l,d,v,S,k,P)}}class kd{constructor(l,d,v,S){this.kind=l,this.zoomStops=v,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!Ho(d.expression),this.interpolationType=S}evaluateWithoutErrorHandling(l,d,v,S,k,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,v,S,k,P)}evaluate(l,d,v,S,k,P){return this._styleExpression.evaluate(l,d,v,S,k,P)}interpolationFactor(l,d,v){return this.interpolationType?Ie.interpolationFactor(this.interpolationType,l,d,v):0}}function yp(c,l){const d=lc(c,l);if(d.result==="error")return d;const v=d.value.expression,S=Is(v);if(!S&&!Po(l))return OA([new Vn("","data expressions not supported")]);const k=xa(v,["zoom"]);if(!k&&!oc(l))return OA([new Vn("","zoom expressions not supported")]);const P=ps(v);return P||k?P instanceof Vn?OA([P]):P instanceof Ie&&!ci(l)?OA([new Vn("",'"interpolate" expressions cannot be used with this property')]):Tu(P?new kd(S?"camera":"composite",d.value,P.labels,P instanceof Ie?P.interpolation:void 0):new BA(S?"constant":"source",d.value)):OA([new Vn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Wc{constructor(l,d){this._parameters=l,this._specification=d,st(this,Wl(this._parameters,this._specification))}static deserialize(l){return new Wc(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function ps(c){let l=null;if(c instanceof Vr)l=ps(c.result);else if(c instanceof en){for(const d of c.args)if(l=ps(d),l)break}else(c instanceof uu||c instanceof Ie)&&c.input instanceof Xr&&c.input.name==="zoom"&&(l=c);return l instanceof Vn||c.eachChild(d=>{const v=ps(d);v instanceof Vn?l=v:!l&&v?l=new Vn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&v&&l!==v&&(l=new Vn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Ml(c){const l=c.key,d=c.value,v=c.valueSpec||{},S=c.objectElementValidators||{},k=c.style,P=c.styleSpec;let R=[];const Q=so(d);if(Q!=="object")return[new q(l,d,`object expected, ${Q} found`)];for(const J in d){const de=J.split(".")[0],pe=v[de]||v["*"];let we;if(S[de])we=S[de];else if(v[de])we=gt;else if(S["*"])we=S["*"];else{if(!v["*"]){R.push(new q(l,d[J],`unknown property "${J}"`));continue}we=gt}R=R.concat(we({key:(l&&`${l}.`)+J,value:d[J],valueSpec:pe,style:k,styleSpec:P,object:d,objectKey:J},d))}for(const J in v)S[J]||v[J].required&&v[J].default===void 0&&d[J]===void 0&&R.push(new q(l,d,`missing required property "${J}"`));return R}function Ku(c){const l=c.value,d=c.valueSpec,v=c.style,S=c.styleSpec,k=c.key,P=c.arrayElementValidator||gt;if(so(l)!=="array")return[new q(k,l,`array expected, ${so(l)} found`)];if(d.length&&l.length!==d.length)return[new q(k,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new q(k,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let R={type:d.value,values:d.values};S.$version<7&&(R.function=d.function),so(d.value)==="object"&&(R=d.value);let Q=[];for(let J=0;J<l.length;J++)Q=Q.concat(P({array:l,arrayIndex:J,value:l[J],valueSpec:R,style:v,styleSpec:S,key:`${k}[${J}]`}));return Q}function Nl(c){const l=c.key,d=c.value,v=c.valueSpec;let S=so(d);return S==="number"&&d!=d&&(S="NaN"),S!=="number"?[new q(l,d,`number expected, ${S} found`)]:"minimum"in v&&d<v.minimum?[new q(l,d,`${d} is less than the minimum value ${v.minimum}`)]:"maximum"in v&&d>v.maximum?[new q(l,d,`${d} is greater than the maximum value ${v.maximum}`)]:[]}function Nc(c){const l=c.valueSpec,d=ct(c.value.type);let v,S,k,P={};const R=d!=="categorical"&&c.value.property===void 0,Q=!R,J=so(c.value.stops)==="array"&&so(c.value.stops[0])==="array"&&so(c.value.stops[0][0])==="object",de=Ml({key:c.key,value:c.value,valueSpec:c.styleSpec.function,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(Se){if(d==="identity")return[new q(Se.key,Se.value,'identity function may not have a "stops" property')];let Be=[];const nt=Se.value;return Be=Be.concat(Ku({key:Se.key,value:nt,valueSpec:Se.valueSpec,style:Se.style,styleSpec:Se.styleSpec,arrayElementValidator:pe})),so(nt)==="array"&&nt.length===0&&Be.push(new q(Se.key,nt,"array must have at least one stop")),Be},default:function(Se){return gt({key:Se.key,value:Se.value,valueSpec:l,style:Se.style,styleSpec:Se.styleSpec})}}});return d==="identity"&&R&&de.push(new q(c.key,c.value,'missing required property "property"')),d==="identity"||c.value.stops||de.push(new q(c.key,c.value,'missing required property "stops"')),d==="exponential"&&c.valueSpec.expression&&!ci(c.valueSpec)&&de.push(new q(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(Q&&!Po(c.valueSpec)?de.push(new q(c.key,c.value,"property functions not supported")):R&&!oc(c.valueSpec)&&de.push(new q(c.key,c.value,"zoom functions not supported"))),d!=="categorical"&&!J||c.value.property!==void 0||de.push(new q(c.key,c.value,'"property" property is required')),de;function pe(Se){let Be=[];const nt=Se.value,He=Se.key;if(so(nt)!=="array")return[new q(He,nt,`array expected, ${so(nt)} found`)];if(nt.length!==2)return[new q(He,nt,`array length 2 expected, length ${nt.length} found`)];if(J){if(so(nt[0])!=="object")return[new q(He,nt,`object expected, ${so(nt[0])} found`)];if(nt[0].zoom===void 0)return[new q(He,nt,"object stop key must have zoom")];if(nt[0].value===void 0)return[new q(He,nt,"object stop key must have value")];if(k&&k>ct(nt[0].zoom))return[new q(He,nt[0].zoom,"stop zoom values must appear in ascending order")];ct(nt[0].zoom)!==k&&(k=ct(nt[0].zoom),S=void 0,P={}),Be=Be.concat(Ml({key:`${He}[0]`,value:nt[0],valueSpec:{zoom:{}},style:Se.style,styleSpec:Se.styleSpec,objectElementValidators:{zoom:Nl,value:we}}))}else Be=Be.concat(we({key:`${He}[0]`,value:nt[0],valueSpec:{},style:Se.style,styleSpec:Se.styleSpec},nt));return jc(wt(nt[1]))?Be.concat([new q(`${He}[1]`,nt[1],"expressions are not allowed in function stops.")]):Be.concat(gt({key:`${He}[1]`,value:nt[1],valueSpec:l,style:Se.style,styleSpec:Se.styleSpec}))}function we(Se,Be){const nt=so(Se.value),He=ct(Se.value),xt=Se.value!==null?Se.value:Be;if(v){if(nt!==v)return[new q(Se.key,xt,`${nt} stop domain type must match previous stop domain type ${v}`)]}else v=nt;if(nt!=="number"&&nt!=="string"&&nt!=="boolean")return[new q(Se.key,xt,"stop domain value must be a number, string, or boolean")];if(nt!=="number"&&d!=="categorical"){let zt=`number expected, ${nt} found`;return Po(l)&&d===void 0&&(zt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new q(Se.key,xt,zt)]}return d!=="categorical"||nt!=="number"||isFinite(He)&&Math.floor(He)===He?d!=="categorical"&&nt==="number"&&S!==void 0&&He<S?[new q(Se.key,xt,"stop domain values must appear in ascending order")]:(S=He,d==="categorical"&&He in P?[new q(Se.key,xt,"stop domain values must be unique")]:(P[He]=!0,[])):[new q(Se.key,xt,`integer expected, found ${He}`)]}}function eA(c){const l=(c.expressionContext==="property"?yp:lc)(wt(c.value),c.valueSpec);if(l.result==="error")return l.value.map(v=>new q(`${c.key}${v.key}`,c.value,v.message));const d=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!d.outputDefined())return[new q(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Ho(d))return[new q(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!Ho(d))return[new q(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!xa(d,["zoom","feature-state"]))return[new q(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!Is(d))return[new q(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gc(c){const l=c.key,d=c.value,v=c.valueSpec,S=[];return Array.isArray(v.values)?v.values.indexOf(ct(d))===-1&&S.push(new q(l,d,`expected one of [${v.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(v.values).indexOf(ct(d))===-1&&S.push(new q(l,d,`expected one of [${Object.keys(v.values).join(", ")}], ${JSON.stringify(d)} found`)),S}function qs(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!qs(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const uc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Qc(c){if(c==null)return{filter:()=>!0,needGeometry:!1};qs(c)||(c=Td(c));const l=lc(c,uc);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,v,S)=>l.value.evaluate(d,v,{},S),needGeometry:Af(c)}}function Ac(c,l){return c<l?-1:c>l?1:0}function Af(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let l=1;l<c.length;l++)if(Af(c[l]))return!0;return!1}function Td(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?$c(c[1],c[2],"=="):l==="!="?as($c(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?$c(c[1],c[2],l):l==="any"?(d=c.slice(1),["any"].concat(d.map(Td))):l==="all"?["all"].concat(c.slice(1).map(Td)):l==="none"?["all"].concat(c.slice(1).map(Td).map(as)):l==="in"?cc(c[1],c.slice(2)):l==="!in"?as(cc(c[1],c.slice(2))):l==="has"?ms(c[1]):l==="!has"?as(ms(c[1])):l!=="within"||c;var d}function $c(c,l,d){switch(c){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,c,l]}}function cc(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",c,["literal",l.sort(Ac)]]:["filter-in-small",c,["literal",l]]}}function ms(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function as(c){return["!",c]}function Yc(c){return qs(wt(c.value))?eA(st({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):cf(c)}function cf(c){const l=c.value,d=c.key;if(so(l)!=="array")return[new q(d,l,`array expected, ${so(l)} found`)];const v=c.styleSpec;let S,k=[];if(l.length<1)return[new q(d,l,"filter array must have at least 1 element")];switch(k=k.concat(Gc({key:`${d}[0]`,value:l[0],valueSpec:v.filter_operator,style:c.style,styleSpec:c.styleSpec})),ct(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&ct(l[1])==="$type"&&k.push(new q(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&k.push(new q(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(S=so(l[1]),S!=="string"&&k.push(new q(`${d}[1]`,l[1],`string expected, ${S} found`)));for(let P=2;P<l.length;P++)S=so(l[P]),ct(l[1])==="$type"?k=k.concat(Gc({key:`${d}[${P}]`,value:l[P],valueSpec:v.geometry_type,style:c.style,styleSpec:c.styleSpec})):S!=="string"&&S!=="number"&&S!=="boolean"&&k.push(new q(`${d}[${P}]`,l[P],`string, number, or boolean expected, ${S} found`));break;case"any":case"all":case"none":for(let P=1;P<l.length;P++)k=k.concat(cf({key:`${d}[${P}]`,value:l[P],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":S=so(l[1]),l.length!==2?k.push(new q(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):S!=="string"&&k.push(new q(`${d}[1]`,l[1],`string expected, ${S} found`));break;case"within":S=so(l[1]),l.length!==2?k.push(new q(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):S!=="object"&&k.push(new q(`${d}[1]`,l[1],`object expected, ${S} found`))}return k}function Kd(c,l){const d=c.key,v=c.style,S=c.styleSpec,k=c.value,P=c.objectKey,R=S[`${l}_${c.layerType}`];if(!R)return[];const Q=P.match(/^(.*)-transition$/);if(l==="paint"&&Q&&R[Q[1]]&&R[Q[1]].transition)return gt({key:d,value:k,valueSpec:S.transition,style:v,styleSpec:S});const J=c.valueSpec||R[P];if(!J)return[new q(d,k,`unknown property "${P}"`)];let de;if(so(k)==="string"&&Po(J)&&!J.tokens&&(de=/^{([^}]+)}$/.exec(k)))return[new q(d,k,`"${P}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(de[1])} }\`.`)];const pe=[];return c.layerType==="symbol"&&(P==="text-field"&&v&&!v.glyphs&&pe.push(new q(d,k,'use of "text-field" requires a style "glyphs" property')),P==="text-font"&&Uo(wt(k))&&ct(k.type)==="identity"&&pe.push(new q(d,k,'"text-font" does not support identity functions'))),pe.concat(gt({key:c.key,value:k,valueSpec:J,style:v,styleSpec:S,expressionContext:"property",propertyType:l,propertyKey:P}))}function dc(c){return Kd(c,"paint")}function Gl(c){return Kd(c,"layout")}function Ah(c){let l=[];const d=c.value,v=c.key,S=c.style,k=c.styleSpec;d.type||d.ref||l.push(new q(v,d,'either "type" or "ref" is required'));let P=ct(d.type);const R=ct(d.ref);if(d.id){const Q=ct(d.id);for(let J=0;J<c.arrayIndex;J++){const de=S.layers[J];ct(de.id)===Q&&l.push(new q(v,d.id,`duplicate layer id "${d.id}", previously used at line ${de.id.__line__}`))}}if("ref"in d){let Q;["type","source","source-layer","filter","layout"].forEach(J=>{J in d&&l.push(new q(v,d[J],`"${J}" is prohibited for ref layers`))}),S.layers.forEach(J=>{ct(J.id)===R&&(Q=J)}),Q?Q.ref?l.push(new q(v,d.ref,"ref cannot reference another ref layer")):P=ct(Q.type):l.push(new q(v,d.ref,`ref layer "${R}" not found`))}else if(P!=="background")if(d.source){const Q=S.sources&&S.sources[d.source],J=Q&&ct(Q.type);Q?J==="vector"&&P==="raster"?l.push(new q(v,d.source,`layer "${d.id}" requires a raster source`)):J==="raster"&&P!=="raster"?l.push(new q(v,d.source,`layer "${d.id}" requires a vector source`)):J!=="vector"||d["source-layer"]?J==="raster-dem"&&P!=="hillshade"?l.push(new q(v,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):P!=="line"||!d.paint||!d.paint["line-gradient"]||J==="geojson"&&Q.lineMetrics||l.push(new q(v,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new q(v,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new q(v,d.source,`source "${d.source}" not found`))}else l.push(new q(v,d,'missing required property "source"'));return l=l.concat(Ml({key:v,value:d,valueSpec:k.layer,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{"*":()=>[],type:()=>gt({key:`${v}.type`,value:d.type,valueSpec:k.layer.type,style:c.style,styleSpec:c.styleSpec,object:d,objectKey:"type"}),filter:Yc,layout:Q=>Ml({layer:d,key:Q.key,value:Q.value,style:Q.style,styleSpec:Q.styleSpec,objectElementValidators:{"*":J=>Gl(st({layerType:P},J))}}),paint:Q=>Ml({layer:d,key:Q.key,value:Q.value,style:Q.style,styleSpec:Q.styleSpec,objectElementValidators:{"*":J=>dc(st({layerType:P},J))}})}})),l}function hc(c){const l=c.value,d=c.key,v=so(l);return v!=="string"?[new q(d,l,`string expected, ${v} found`)]:[]}const qc={promoteId:function({key:c,value:l}){if(so(l)==="string")return hc({key:c,value:l});{const d=[];for(const v in l)d.push(...hc({key:`${c}.${v}`,value:l[v]}));return d}}};function Vc(c){const l=c.value,d=c.key,v=c.styleSpec,S=c.style;if(!l.type)return[new q(d,l,'"type" is required')];const k=ct(l.type);let P;switch(k){case"vector":case"raster":case"raster-dem":return P=Ml({key:d,value:l,valueSpec:v[`source_${k.replace("-","_")}`],style:c.style,styleSpec:v,objectElementValidators:qc}),P;case"geojson":if(P=Ml({key:d,value:l,valueSpec:v.source_geojson,style:S,styleSpec:v,objectElementValidators:qc}),l.cluster)for(const R in l.clusterProperties){const[Q,J]=l.clusterProperties[R],de=typeof Q=="string"?[Q,["accumulated"],["get",R]]:Q;P.push(...eA({key:`${d}.${R}.map`,value:J,expressionContext:"cluster-map"})),P.push(...eA({key:`${d}.${R}.reduce`,value:de,expressionContext:"cluster-reduce"}))}return P;case"video":return Ml({key:d,value:l,valueSpec:v.source_video,style:S,styleSpec:v});case"image":return Ml({key:d,value:l,valueSpec:v.source_image,style:S,styleSpec:v});case"canvas":return[new q(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Gc({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:S,styleSpec:v})}}function Hc(c){const l=c.value,d=c.styleSpec,v=d.light,S=c.style;let k=[];const P=so(l);if(l===void 0)return k;if(P!=="object")return k=k.concat([new q("light",l,`object expected, ${P} found`)]),k;for(const R in l){const Q=R.match(/^(.*)-transition$/);k=k.concat(Q&&v[Q[1]]&&v[Q[1]].transition?gt({key:R,value:l[R],valueSpec:d.transition,style:S,styleSpec:d}):v[R]?gt({key:R,value:l[R],valueSpec:v[R],style:S,styleSpec:d}):[new q(R,l[R],`unknown property "${R}"`)])}return k}function Vs(c){const l=c.value,d=c.styleSpec,v=d.terrain,S=c.style;let k=[];const P=so(l);if(l===void 0)return k;if(P!=="object")return k=k.concat([new q("terrain",l,`object expected, ${P} found`)]),k;for(const R in l)k=k.concat(v[R]?gt({key:R,value:l[R],valueSpec:v[R],style:S,styleSpec:d}):[new q(R,l[R],`unknown property "${R}"`)]);return k}const Sl={"*":()=>[],array:Ku,boolean:function(c){const l=c.value,d=c.key,v=so(l);return v!=="boolean"?[new q(d,l,`boolean expected, ${v} found`)]:[]},number:Nl,color:function(c){const l=c.key,d=c.value,v=so(d);return v!=="string"?[new q(l,d,`color expected, ${v} found`)]:os(d)===null?[new q(l,d,`color expected, "${d}" found`)]:[]},constants:Oe,enum:Gc,filter:Yc,function:Nc,layer:Ah,object:Ml,source:Vc,light:Hc,terrain:Vs,string:hc,formatted:function(c){return hc(c).length===0?[]:eA(c)},resolvedImage:function(c){return hc(c).length===0?[]:eA(c)},padding:function(c){const l=c.key,d=c.value;if(so(d)==="array"){if(d.length<1||d.length>4)return[new q(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const v={type:"number"};let S=[];for(let k=0;k<d.length;k++)S=S.concat(gt({key:`${l}[${k}]`,value:d[k],valueSpec:v}));return S}return Nl({key:l,value:d,valueSpec:{}})}};function gt(c){const l=c.value,d=c.valueSpec,v=c.styleSpec;return d.expression&&Uo(ct(l))?Nc(c):d.expression&&jc(wt(l))?eA(c):d.type&&Sl[d.type]?Sl[d.type](c):Ml(st({},c,{valueSpec:d.type?v[d.type]:d}))}function on(c){const l=c.value,d=c.key,v=hc(c);return v.length||(l.indexOf("{fontstack}")===-1&&v.push(new q(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&v.push(new q(d,l,'"glyphs" url must include a "{range}" token'))),v}function Rt(c,l=z){let d=[];return d=d.concat(gt({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,objectElementValidators:{glyphs:on,"*":()=>[]}})),c.constants&&(d=d.concat(Oe({key:"constants",value:c.constants,style:c,styleSpec:l}))),Ar(d)}function Ar(c){return[].concat(c).sort((l,d)=>l.line-d.line)}function Nr(c){return function(...l){return Ar(c.apply(this,l))}}Rt.source=Nr(Vc),Rt.light=Nr(Hc),Rt.terrain=Nr(Vs),Rt.layer=Nr(Ah),Rt.filter=Nr(Yc),Rt.paintProperty=Nr(dc),Rt.layoutProperty=Nr(Gl);const Gi=Rt,fa=Gi.light,Oo=Gi.paintProperty,Pd=Gi.layoutProperty;function ch(c,l){let d=!1;if(l&&l.length)for(const v of l)c.fire(new yi(new Error(v.message))),d=!0;return d}class Ks{constructor(l,d,v){const S=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const P=new Int32Array(this.arrayBuffer);l=P[0],this.d=(d=P[1])+2*(v=P[2]);for(let Q=0;Q<this.d*this.d;Q++){const J=P[3+Q],de=P[3+Q+1];S.push(J===de?null:P.subarray(J,de))}const R=P[3+S.length+1];this.keys=P.subarray(P[3+S.length],R),this.bboxes=P.subarray(R),this.insert=this._insertReadonly}else{this.d=d+2*v;for(let P=0;P<this.d*this.d;P++)S.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=v,this.scale=d/l,this.uid=0;const k=v/d*l;this.min=-k,this.max=l+k}insert(l,d,v,S,k){this._forEachCell(d,v,S,k,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(v),this.bboxes.push(S),this.bboxes.push(k)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,v,S,k,P){this.cells[k].push(P)}query(l,d,v,S,k){const P=this.min,R=this.max;if(l<=P&&d<=P&&R<=v&&R<=S&&!k)return Array.prototype.slice.call(this.keys);{const Q=[];return this._forEachCell(l,d,v,S,this._queryCell,Q,{},k),Q}}_queryCell(l,d,v,S,k,P,R,Q){const J=this.cells[k];if(J!==null){const de=this.keys,pe=this.bboxes;for(let we=0;we<J.length;we++){const Se=J[we];if(R[Se]===void 0){const Be=4*Se;(Q?Q(pe[Be+0],pe[Be+1],pe[Be+2],pe[Be+3]):l<=pe[Be+2]&&d<=pe[Be+3]&&v>=pe[Be+0]&&S>=pe[Be+1])?(R[Se]=!0,P.push(de[Se])):R[Se]=!1}}}}_forEachCell(l,d,v,S,k,P,R,Q){const J=this._convertToCellCoord(l),de=this._convertToCellCoord(d),pe=this._convertToCellCoord(v),we=this._convertToCellCoord(S);for(let Se=J;Se<=pe;Se++)for(let Be=de;Be<=we;Be++){const nt=this.d*Be+Se;if((!Q||Q(this._convertFromCellCoord(Se),this._convertFromCellCoord(Be),this._convertFromCellCoord(Se+1),this._convertFromCellCoord(Be+1)))&&k.call(this,l,d,v,S,nt,P,R,Q))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let v=0;for(let P=0;P<this.cells.length;P++)v+=this.cells[P].length;const S=new Int32Array(d+v+this.keys.length+this.bboxes.length);S[0]=this.extent,S[1]=this.n,S[2]=this.padding;let k=d;for(let P=0;P<l.length;P++){const R=l[P];S[3+P]=k,S.set(R,k),k+=R.length}return S[3+l.length]=k,S.set(this.keys,k),k+=this.keys.length,S[3+l.length+1]=k,S.set(this.bboxes,k),k+=this.bboxes.length,S.buffer}static serialize(l,d){const v=l.toArrayBuffer();return d&&d.push(v),{buffer:v}}static deserialize(l){return new Ks(l.buffer)}}const Ql={};function Gn(c,l,d={}){if(Ql[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),Ql[c]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}Gn("Object",Object),Gn("TransferableGridIndex",Ks),Gn("Color",Te),Gn("Error",Error),Gn("AJAXError",Ze),Gn("ResolvedImage",ut),Gn("StylePropertyFunction",Wc),Gn("StyleExpression",sc,{omit:["_evaluator"]}),Gn("ZoomDependentExpression",kd),Gn("ZoomConstantExpression",BA),Gn("CompoundExpression",Xr,{omit:["_evaluate"]});for(const c in EA)EA[c]._classRegistryKey||Gn(`Expression_${c}`,EA[c]);function $l(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Hs(c,l){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob)return c;if($l(c)||Je(c))return l&&l.push(c),c;if(ArrayBuffer.isView(c)){const d=c;return l&&l.push(d.buffer),d}if(c instanceof ImageData)return l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const d=[];for(const v of c)d.push(Hs(v,l));return d}if(typeof c=="object"){const d=c.constructor,v=d._classRegistryKey;if(!v)throw new Error("can't serialize object of unregistered class");if(!Ql[v])throw new Error(`${v} is not registered.`);const S=d.serialize?d.serialize(c,l):{};if(d.serialize){if(l&&S===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const k in c){if(!c.hasOwnProperty(k)||Ql[v].omit.indexOf(k)>=0)continue;const P=c[k];S[k]=Ql[v].shallow.indexOf(k)>=0?P:Hs(P,l)}c instanceof Error&&(S.message=c.message)}if(S.$name)throw new Error("$name property is reserved for worker serialization logic.");return v!=="Object"&&(S.$name=v),S}throw new Error("can't serialize object of type "+typeof c)}function El(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||$l(c)||Je(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(El);if(typeof c=="object"){const l=c.$name||"Object";if(!Ql[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Ql[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(c);const v=Object.create(d.prototype);for(const S of Object.keys(c)){if(S==="$name")continue;const k=c[S];v[S]=Ql[l].shallow.indexOf(S)>=0?k:El(k)}return v}throw new Error("can't deserialize object of type "+typeof c)}class lo{constructor(){this.first=!0}update(l,d){const v=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=v,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=v,!0):(this.lastFloorZoom>v?(this.lastIntegerZoom=v+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<v&&(this.lastIntegerZoom=v,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=v,!0))}}const jn={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function fc(c){for(const l of c)if(gs(l.charCodeAt(0)))return!0;return!1}function Pu(c){for(const l of c)if(!tA(l.charCodeAt(0)))return!1;return!0}function tA(c){return!(jn.Arabic(c)||jn["Arabic Supplement"](c)||jn["Arabic Extended-A"](c)||jn["Arabic Presentation Forms-A"](c)||jn["Arabic Presentation Forms-B"](c))}function gs(c){return!(c!==746&&c!==747&&(c<4352||!(jn["Bopomofo Extended"](c)||jn.Bopomofo(c)||jn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||jn["CJK Compatibility Ideographs"](c)||jn["CJK Compatibility"](c)||jn["CJK Radicals Supplement"](c)||jn["CJK Strokes"](c)||!(!jn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||jn["CJK Unified Ideographs Extension A"](c)||jn["CJK Unified Ideographs"](c)||jn["Enclosed CJK Letters and Months"](c)||jn["Hangul Compatibility Jamo"](c)||jn["Hangul Jamo Extended-A"](c)||jn["Hangul Jamo Extended-B"](c)||jn["Hangul Jamo"](c)||jn["Hangul Syllables"](c)||jn.Hiragana(c)||jn["Ideographic Description Characters"](c)||jn.Kanbun(c)||jn["Kangxi Radicals"](c)||jn["Katakana Phonetic Extensions"](c)||jn.Katakana(c)&&c!==12540||!(!jn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!jn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||jn["Unified Canadian Aboriginal Syllabics"](c)||jn["Unified Canadian Aboriginal Syllabics Extended"](c)||jn["Vertical Forms"](c)||jn["Yijing Hexagram Symbols"](c)||jn["Yi Syllables"](c)||jn["Yi Radicals"](c))))}function nA(c){return!(gs(c)||function(l){return!!(jn["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||jn["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||jn["Letterlike Symbols"](l)||jn["Number Forms"](l)||jn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||jn["Control Pictures"](l)&&l!==9251||jn["Optical Character Recognition"](l)||jn["Enclosed Alphanumerics"](l)||jn["Geometric Shapes"](l)||jn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||jn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||jn["CJK Symbols and Punctuation"](l)||jn.Katakana(l)||jn["Private Use Area"](l)||jn["CJK Compatibility Forms"](l)||jn["Small Form Variants"](l)||jn["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}function Yl(c){return c>=1424&&c<=2303||jn["Arabic Presentation Forms-A"](c)||jn["Arabic Presentation Forms-B"](c)}function Au(c,l){return!(!l&&Yl(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||jn.Khmer(c))}function Ud(c){for(const l of c)if(Yl(l.charCodeAt(0)))return!0;return!1}const Dd="deferred",Uu="loading",Fd="loaded";let Zc=null,Pa="unavailable",rA=null;const IA=function(c){c&&typeof c=="string"&&c.indexOf("NetworkError")>-1&&(Pa="error"),Zc&&Zc(c)};function Ol(){kA.fire(new ur("pluginStateChange",{pluginStatus:Pa,pluginURL:rA}))}const kA=new be,pc=function(){return Pa},mc=function(){if(Pa!==Dd||!rA)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Pa=Uu,Ol(),rA&&Un({url:rA},c=>{c?IA(c):(Pa=Fd,Ol())})},Zs={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Pa===Fd||Zs.applyArabicShaping!=null,isLoading:()=>Pa===Uu,setState(c){if(!me())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Pa=c.pluginStatus,rA=c.pluginURL},isParsed(){if(!me())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Zs.applyArabicShaping!=null&&Zs.processBidirectionalText!=null&&Zs.processStyledBidirectionalText!=null},getPluginURL(){if(!me())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return rA}};class wo{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new lo,this.transition={})}isSupportedScript(l){return function(d,v){for(const S of d)if(!Au(S.charCodeAt(0),v))return!1;return!0}(l,Zs.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),v=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*v}:{fromScale:.5,toScale:1,t:1-(1-v)*d}}}class cu{constructor(l,d){this.property=l,this.value=d,this.expression=function(v,S){if(Uo(v))return new Wc(v,S);if(jc(v)){const k=yp(v,S);if(k.result==="error")throw new Error(k.value.map(P=>`${P.key}: ${P.message}`).join(", "));return k.value}{let k=v;return S.type==="color"&&typeof v=="string"?k=Te.parse(v):S.type!=="padding"||typeof v!="number"&&!Array.isArray(v)||(k=Ge.parse(v)),{kind:"constant",evaluate:()=>k}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,v){return this.property.possiblyEvaluate(this,l,d,v)}}class Xc{constructor(l){this.property=l,this.value=new cu(l,void 0)}transitioned(l,d){return new df(this.property,this.value,d,L({},l.transition,this.transition),l.now)}untransitioned(){return new df(this.property,this.value,null,{},0)}}class vp{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return ee(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Xc(this._values[l].property)),this._values[l].value=new cu(this._values[l].property,d===null?void 0:ee(d))}getTransition(l){return ee(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Xc(this._values[l].property)),this._values[l].transition=ee(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const v=this.getValue(d);v!==void 0&&(l[d]=v);const S=this.getTransition(d);S!==void 0&&(l[`${d}-transition`]=S)}return l}transitioned(l,d){const v=new dh(this._properties);for(const S of Object.keys(this._values))v._values[S]=this._values[S].transitioned(l,d._values[S]);return v}untransitioned(){const l=new dh(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class df{constructor(l,d,v,S,k){this.property=l,this.value=d,this.begin=k+S.delay||0,this.end=this.begin+S.duration||0,l.specification.transition&&(S.delay||S.duration)&&(this.prior=v)}possiblyEvaluate(l,d,v){const S=l.now||0,k=this.value.possiblyEvaluate(l,d,v),P=this.prior;if(P){if(S>this.end)return this.prior=null,k;if(this.value.isDataDriven())return this.prior=null,k;if(S<this.begin)return P.possiblyEvaluate(l,d,v);{const R=(S-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(l,d,v),k,function(Q){if(Q<=0)return 0;if(Q>=1)return 1;const J=Q*Q,de=J*Q;return 4*(Q<.5?de:3*(Q-J)+de-.75)}(R))}}return k}}class dh{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,v){const S=new Zo(this._properties);for(const k of Object.keys(this._values))S._values[k]=this._values[k].possiblyEvaluate(l,d,v);return S}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class hf{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}getValue(l){return ee(this._values[l].value)}setValue(l,d){this._values[l]=new cu(this._values[l].property,d===null?void 0:ee(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const v=this.getValue(d);v!==void 0&&(l[d]=v)}return l}possiblyEvaluate(l,d,v){const S=new Zo(this._properties);for(const k of Object.keys(this._values))S._values[k]=this._values[k].possiblyEvaluate(l,d,v);return S}}class uo{constructor(l,d,v){this.property=l,this.value=d,this.parameters=v}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,v,S){return this.property.evaluate(this.value,this.parameters,l,d,v,S)}}class Zo{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class mr{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,v){const S=Eu[this.specification.type];return S?S(l,d,v):l}}class Br{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,v,S){return new uo(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},v,S)}:l.expression,d)}interpolate(l,d,v){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new uo(this,{kind:"constant",value:void 0},l.parameters);const S=Eu[this.specification.type];return S?new uo(this,{kind:"constant",value:S(l.value.value,d.value.value,v)},l.parameters):l}evaluate(l,d,v,S,k,P){return l.kind==="constant"?l.value:l.evaluate(d,v,S,k,P)}}class TA extends Br{possiblyEvaluate(l,d,v,S){if(l.value===void 0)return new uo(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const k=l.expression.evaluate(d,null,{},v,S),P=l.property.specification.type==="resolvedImage"&&typeof k!="string"?k.name:k,R=this._calculate(P,P,P,d);return new uo(this,{kind:"constant",value:R},d)}if(l.expression.kind==="camera"){const k=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new uo(this,{kind:"constant",value:k},d)}return new uo(this,l.expression,d)}evaluate(l,d,v,S,k,P){if(l.kind==="source"){const R=l.evaluate(d,v,S,k,P);return this._calculate(R,R,R,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},v,S),l.evaluate({zoom:Math.floor(d.zoom)},v,S),l.evaluate({zoom:Math.floor(d.zoom)+1},v,S),d):l.value}_calculate(l,d,v,S){return S.zoom>S.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:v,to:d}}interpolate(l){return l}}class gc{constructor(l){this.specification=l}possiblyEvaluate(l,d,v,S){if(l.value!==void 0){if(l.expression.kind==="constant"){const k=l.expression.evaluate(d,null,{},v,S);return this._calculate(k,k,k,d)}return this._calculate(l.expression.evaluate(new wo(Math.floor(d.zoom-1),d)),l.expression.evaluate(new wo(Math.floor(d.zoom),d)),l.expression.evaluate(new wo(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,v,S){return S.zoom>S.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:v,to:d}}interpolate(l){return l}}class du{constructor(l){this.specification=l}possiblyEvaluate(l,d,v,S){return!!l.expression.evaluate(d,null,{},v,S)}interpolate(){return!1}}class Do{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const v=l[d];v.specification.overridable&&this.overridableProperties.push(d);const S=this.defaultPropertyValues[d]=new cu(v,void 0),k=this.defaultTransitionablePropertyValues[d]=new Xc(v);this.defaultTransitioningPropertyValues[d]=k.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=S.possiblyEvaluate({})}}}Gn("DataDrivenProperty",Br),Gn("DataConstantProperty",mr),Gn("CrossFadedDataDrivenProperty",TA),Gn("CrossFadedProperty",gc),Gn("ColorRampProperty",du);const cl="-transition";class wa extends be{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new hf(d.layout)),d.paint)){this._transitionablePaint=new vp(d.paint);for(const v in l.paint)this.setPaintProperty(v,l.paint[v],{validate:!1});for(const v in l.layout)this.setLayoutProperty(v,l.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Zo(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,v={}){d!=null&&this._validate(Pd,`layers.${this.id}.layout.${l}`,l,d,v)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(cl)?this._transitionablePaint.getTransition(l.slice(0,-cl.length)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,v={}){if(d!=null&&this._validate(Oo,`layers.${this.id}.paint.${l}`,l,d,v))return!1;if(l.endsWith(cl))return this._transitionablePaint.setTransition(l.slice(0,-cl.length),d||void 0),!1;{const S=this._transitionablePaint._values[l],k=S.property.specification["property-type"]==="cross-faded-data-driven",P=S.value.isDataDriven(),R=S.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const Q=this._transitionablePaint._values[l].value;return Q.isDataDriven()||P||k||this._handleOverridablePaintPropertyUpdate(l,R,Q)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,v){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),G(l,(d,v)=>!(d===void 0||v==="layout"&&!Object.keys(d).length||v==="paint"&&!Object.keys(d).length))}_validate(l,d,v,S,k={}){return(!k||k.validate!==!1)&&ch(this,l.call(Gi,{key:d,layerType:this.type,objectKey:v,value:S,styleSpec:z,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof uo&&Po(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const Du={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ys{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Wo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function No(c,l=1){let d=0,v=0;return{members:c.map(S=>{const k=Du[S.type].BYTES_PER_ELEMENT,P=d=hh(d,Math.max(l,k)),R=S.components||1;return v=Math.max(v,k),d+=k*R,{name:S.name,type:S.type,components:R,offset:P}}),size:hh(d,Math.max(v,l)),alignment:l}}function hh(c,l){return Math.ceil(c/l)*l}class yc extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const v=this.length;return this.resize(v+1),this.emplace(v,l,d)}emplace(l,d,v){const S=2*l;return this.int16[S+0]=d,this.int16[S+1]=v,l}}yc.prototype.bytesPerElement=4,Gn("StructArrayLayout2i4",yc);class M extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,v,S){const k=this.length;return this.resize(k+1),this.emplace(k,l,d,v,S)}emplace(l,d,v,S,k){const P=4*l;return this.int16[P+0]=d,this.int16[P+1]=v,this.int16[P+2]=S,this.int16[P+3]=k,l}}M.prototype.bytesPerElement=8,Gn("StructArrayLayout4i8",M);class u extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,v,S,k,P)}emplace(l,d,v,S,k,P,R){const Q=6*l;return this.int16[Q+0]=d,this.int16[Q+1]=v,this.int16[Q+2]=S,this.int16[Q+3]=k,this.int16[Q+4]=P,this.int16[Q+5]=R,l}}u.prototype.bytesPerElement=12,Gn("StructArrayLayout2i4i12",u);class m extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,v,S,k,P)}emplace(l,d,v,S,k,P,R){const Q=4*l,J=8*l;return this.int16[Q+0]=d,this.int16[Q+1]=v,this.uint8[J+4]=S,this.uint8[J+5]=k,this.uint8[J+6]=P,this.uint8[J+7]=R,l}}m.prototype.bytesPerElement=8,Gn("StructArrayLayout2i4ub8",m);class _ extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const v=this.length;return this.resize(v+1),this.emplace(v,l,d)}emplace(l,d,v){const S=2*l;return this.float32[S+0]=d,this.float32[S+1]=v,l}}_.prototype.bytesPerElement=8,Gn("StructArrayLayout2f8",_);class E extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P,R,Q,J,de){const pe=this.length;return this.resize(pe+1),this.emplace(pe,l,d,v,S,k,P,R,Q,J,de)}emplace(l,d,v,S,k,P,R,Q,J,de,pe){const we=10*l;return this.uint16[we+0]=d,this.uint16[we+1]=v,this.uint16[we+2]=S,this.uint16[we+3]=k,this.uint16[we+4]=P,this.uint16[we+5]=R,this.uint16[we+6]=Q,this.uint16[we+7]=J,this.uint16[we+8]=de,this.uint16[we+9]=pe,l}}E.prototype.bytesPerElement=20,Gn("StructArrayLayout10ui20",E);class K extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P,R,Q,J,de,pe,we){const Se=this.length;return this.resize(Se+1),this.emplace(Se,l,d,v,S,k,P,R,Q,J,de,pe,we)}emplace(l,d,v,S,k,P,R,Q,J,de,pe,we,Se){const Be=12*l;return this.int16[Be+0]=d,this.int16[Be+1]=v,this.int16[Be+2]=S,this.int16[Be+3]=k,this.uint16[Be+4]=P,this.uint16[Be+5]=R,this.uint16[Be+6]=Q,this.uint16[Be+7]=J,this.int16[Be+8]=de,this.int16[Be+9]=pe,this.int16[Be+10]=we,this.int16[Be+11]=Se,l}}K.prototype.bytesPerElement=24,Gn("StructArrayLayout4i4ui4i24",K);class T extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,v){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,v)}emplace(l,d,v,S){const k=3*l;return this.float32[k+0]=d,this.float32[k+1]=v,this.float32[k+2]=S,l}}T.prototype.bytesPerElement=12,Gn("StructArrayLayout3f12",T);class $ extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}$.prototype.bytesPerElement=4,Gn("StructArrayLayout1ul4",$);class H extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P,R,Q,J){const de=this.length;return this.resize(de+1),this.emplace(de,l,d,v,S,k,P,R,Q,J)}emplace(l,d,v,S,k,P,R,Q,J,de){const pe=10*l,we=5*l;return this.int16[pe+0]=d,this.int16[pe+1]=v,this.int16[pe+2]=S,this.int16[pe+3]=k,this.int16[pe+4]=P,this.int16[pe+5]=R,this.uint32[we+3]=Q,this.uint16[pe+8]=J,this.uint16[pe+9]=de,l}}H.prototype.bytesPerElement=20,Gn("StructArrayLayout6i1ul2ui20",H);class te extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,v,S,k,P)}emplace(l,d,v,S,k,P,R){const Q=6*l;return this.int16[Q+0]=d,this.int16[Q+1]=v,this.int16[Q+2]=S,this.int16[Q+3]=k,this.int16[Q+4]=P,this.int16[Q+5]=R,l}}te.prototype.bytesPerElement=12,Gn("StructArrayLayout2i2i2i12",te);class Ae extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k){const P=this.length;return this.resize(P+1),this.emplace(P,l,d,v,S,k)}emplace(l,d,v,S,k,P){const R=4*l,Q=8*l;return this.float32[R+0]=d,this.float32[R+1]=v,this.float32[R+2]=S,this.int16[Q+6]=k,this.int16[Q+7]=P,l}}Ae.prototype.bytesPerElement=16,Gn("StructArrayLayout2f1f2i16",Ae);class ye extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,v,S){const k=this.length;return this.resize(k+1),this.emplace(k,l,d,v,S)}emplace(l,d,v,S,k){const P=12*l,R=3*l;return this.uint8[P+0]=d,this.uint8[P+1]=v,this.float32[R+1]=S,this.float32[R+2]=k,l}}ye.prototype.bytesPerElement=12,Gn("StructArrayLayout2ub2f12",ye);class Me extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,v){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,v)}emplace(l,d,v,S){const k=3*l;return this.uint16[k+0]=d,this.uint16[k+1]=v,this.uint16[k+2]=S,l}}Me.prototype.bytesPerElement=6,Gn("StructArrayLayout3ui6",Me);class We extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt,He,xt){const zt=this.length;return this.resize(zt+1),this.emplace(zt,l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt,He,xt)}emplace(l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt,He,xt,zt){const vt=24*l,Ut=12*l,ln=48*l;return this.int16[vt+0]=d,this.int16[vt+1]=v,this.uint16[vt+2]=S,this.uint16[vt+3]=k,this.uint32[Ut+2]=P,this.uint32[Ut+3]=R,this.uint32[Ut+4]=Q,this.uint16[vt+10]=J,this.uint16[vt+11]=de,this.uint16[vt+12]=pe,this.float32[Ut+7]=we,this.float32[Ut+8]=Se,this.uint8[ln+36]=Be,this.uint8[ln+37]=nt,this.uint8[ln+38]=He,this.uint32[Ut+10]=xt,this.int16[vt+22]=zt,l}}We.prototype.bytesPerElement=48,Gn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",We);class Fe extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt,He,xt,zt,vt,Ut,ln,sn,tr,ir,Wn,Fn,En,Nn){const Ln=this.length;return this.resize(Ln+1),this.emplace(Ln,l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt,He,xt,zt,vt,Ut,ln,sn,tr,ir,Wn,Fn,En,Nn)}emplace(l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt,He,xt,zt,vt,Ut,ln,sn,tr,ir,Wn,Fn,En,Nn,Ln){const yn=34*l,Ir=17*l;return this.int16[yn+0]=d,this.int16[yn+1]=v,this.int16[yn+2]=S,this.int16[yn+3]=k,this.int16[yn+4]=P,this.int16[yn+5]=R,this.int16[yn+6]=Q,this.int16[yn+7]=J,this.uint16[yn+8]=de,this.uint16[yn+9]=pe,this.uint16[yn+10]=we,this.uint16[yn+11]=Se,this.uint16[yn+12]=Be,this.uint16[yn+13]=nt,this.uint16[yn+14]=He,this.uint16[yn+15]=xt,this.uint16[yn+16]=zt,this.uint16[yn+17]=vt,this.uint16[yn+18]=Ut,this.uint16[yn+19]=ln,this.uint16[yn+20]=sn,this.uint16[yn+21]=tr,this.uint16[yn+22]=ir,this.uint32[Ir+12]=Wn,this.float32[Ir+13]=Fn,this.float32[Ir+14]=En,this.float32[Ir+15]=Nn,this.float32[Ir+16]=Ln,l}}Fe.prototype.bytesPerElement=68,Gn("StructArrayLayout8i15ui1ul4f68",Fe);class ze extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}ze.prototype.bytesPerElement=4,Gn("StructArrayLayout1f4",ze);class At extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,v){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,v)}emplace(l,d,v,S){const k=3*l;return this.int16[k+0]=d,this.int16[k+1]=v,this.int16[k+2]=S,l}}At.prototype.bytesPerElement=6,Gn("StructArrayLayout3i6",At);class yt extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,v){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,v)}emplace(l,d,v,S){const k=4*l;return this.uint32[2*l+0]=d,this.uint16[k+2]=v,this.uint16[k+3]=S,l}}yt.prototype.bytesPerElement=8,Gn("StructArrayLayout1ul2ui8",yt);class Mt extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const v=this.length;return this.resize(v+1),this.emplace(v,l,d)}emplace(l,d,v){const S=2*l;return this.uint16[S+0]=d,this.uint16[S+1]=v,l}}Mt.prototype.bytesPerElement=4,Gn("StructArrayLayout2ui4",Mt);class Ye extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}Ye.prototype.bytesPerElement=2,Gn("StructArrayLayout1ui2",Ye);class Bt extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,v,S){const k=this.length;return this.resize(k+1),this.emplace(k,l,d,v,S)}emplace(l,d,v,S,k){const P=4*l;return this.float32[P+0]=d,this.float32[P+1]=v,this.float32[P+2]=S,this.float32[P+3]=k,l}}Bt.prototype.bytesPerElement=16,Gn("StructArrayLayout4f16",Bt);class kt extends ys{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ft(this.anchorPointX,this.anchorPointY)}}kt.prototype.size=20;class Ht extends H{get(l){return new kt(this,l)}}Gn("CollisionBoxArray",Ht);class Zt extends ys{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Zt.prototype.size=48;class fn extends We{get(l){return new Zt(this,l)}}Gn("PlacedSymbolArray",fn);class Qt extends ys{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Qt.prototype.size=68;class Mn extends Fe{get(l){return new Qt(this,l)}}Gn("SymbolInstanceArray",Mn);class kn extends ze{getoffsetX(l){return this.float32[1*l+0]}}Gn("GlyphOffsetArray",kn);class Qn extends At{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Gn("SymbolLineVertexArray",Qn);class ii extends ys{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ii.prototype.size=8;class si extends yt{get(l){return new ii(this,l)}}Gn("FeatureIndexArray",si);class cr extends yc{}class Li extends yc{}class mo extends yc{}class Ri extends u{}class Tr extends m{}class Sr extends _{}class Bo extends E{}class vs extends K{}class ss extends T{}class hu extends ${}class fu extends te{}class dl extends ye{}class hl extends Me{}class pu extends Mt{}const Fu=No([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xo}=Fu;class li{constructor(l=[]){this.segments=l}prepareSegment(l,d,v,S){let k=this.segments[this.segments.length-1];return l>li.MAX_VERTEX_ARRAY_LENGTH&&se(`Max vertices per segment is ${li.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!k||k.vertexLength+l>li.MAX_VERTEX_ARRAY_LENGTH||k.sortKey!==S)&&(k={vertexOffset:d.length,primitiveOffset:v.length,vertexLength:0,primitiveLength:0},S!==void 0&&(k.sortKey=S),this.segments.push(k)),k}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,v,S){return new li([{vertexOffset:l,primitiveOffset:d,vertexLength:v,primitiveLength:S,vaos:{},sortKey:0}])}}function Ki(c,l){return 256*(c=B(Math.floor(c),0,255))+B(Math.floor(l),0,255)}li.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Gn("SegmentVector",li);const Ua=No([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ha={exports:{}},Ao={exports:{}};Ao.exports=function(c,l){var d,v,S,k,P,R,Q,J;for(v=c.length-(d=3&c.length),S=l,P=3432918353,R=461845907,J=0;J<v;)Q=255&c.charCodeAt(J)|(255&c.charCodeAt(++J))<<8|(255&c.charCodeAt(++J))<<16|(255&c.charCodeAt(++J))<<24,++J,S=27492+(65535&(k=5*(65535&(S=(S^=Q=(65535&(Q=(Q=(65535&Q)*P+(((Q>>>16)*P&65535)<<16)&4294967295)<<15|Q>>>17))*R+(((Q>>>16)*R&65535)<<16)&4294967295)<<13|S>>>19))+((5*(S>>>16)&65535)<<16)&4294967295))+((58964+(k>>>16)&65535)<<16);switch(Q=0,d){case 3:Q^=(255&c.charCodeAt(J+2))<<16;case 2:Q^=(255&c.charCodeAt(J+1))<<8;case 1:S^=Q=(65535&(Q=(Q=(65535&(Q^=255&c.charCodeAt(J)))*P+(((Q>>>16)*P&65535)<<16)&4294967295)<<15|Q>>>17))*R+(((Q>>>16)*R&65535)<<16)&4294967295}return S^=c.length,S=2246822507*(65535&(S^=S>>>16))+((2246822507*(S>>>16)&65535)<<16)&4294967295,S=3266489909*(65535&(S^=S>>>13))+((3266489909*(S>>>16)&65535)<<16)&4294967295,(S^=S>>>16)>>>0};var Cs={exports:{}};Cs.exports=function(c,l){for(var d,v=c.length,S=l^v,k=0;v>=4;)d=1540483477*(65535&(d=255&c.charCodeAt(k)|(255&c.charCodeAt(++k))<<8|(255&c.charCodeAt(++k))<<16|(255&c.charCodeAt(++k))<<24))+((1540483477*(d>>>16)&65535)<<16),S=1540483477*(65535&S)+((1540483477*(S>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),v-=4,++k;switch(v){case 3:S^=(255&c.charCodeAt(k+2))<<16;case 2:S^=(255&c.charCodeAt(k+1))<<8;case 1:S=1540483477*(65535&(S^=255&c.charCodeAt(k)))+((1540483477*(S>>>16)&65535)<<16)}return S=1540483477*(65535&(S^=S>>>13))+((1540483477*(S>>>16)&65535)<<16),(S^=S>>>15)>>>0};var Xs=Ao.exports,Js=Cs.exports;Ha.exports=Xs,Ha.exports.murmur3=Xs,Ha.exports.murmur2=Js;class Jc{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,v,S){this.ids.push(fh(l)),this.positions.push(d,v,S)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=fh(l);let v=0,S=this.ids.length-1;for(;v<S;){const P=v+S>>1;this.ids[P]>=d?S=P:v=P+1}const k=[];for(;this.ids[v]===d;)k.push({index:this.positions[3*v],start:this.positions[3*v+1],end:this.positions[3*v+2]}),v++;return k}static serialize(l,d){const v=new Float64Array(l.ids),S=new Uint32Array(l.positions);return ph(v,S,0,v.length-1),d&&d.push(v.buffer,S.buffer),{ids:v,positions:S}}static deserialize(l){const d=new Jc;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function fh(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Ha.exports(String(c))}function ph(c,l,d,v){for(;d<v;){const S=c[d+v>>1];let k=d-1,P=v+1;for(;;){do k++;while(c[k]<S);do P--;while(c[P]>S);if(k>=P)break;ql(c,k,P),ql(l,3*k,3*P),ql(l,3*k+1,3*P+1),ql(l,3*k+2,3*P+2)}P-d<v-P?(ph(c,l,d,P),d=P+1):(ph(c,l,P+1,v),v=P)}}function ql(c,l,d){const v=c[l];c[l]=c[d],c[d]=v}Gn("FeaturePositionMap",Jc);class _s{constructor(l,d){this.gl=l.gl,this.location=d}}class iA extends _s{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class mh extends _s{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class ff extends _s{constructor(l,d){super(l,d),this.current=Te.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const v1=new Float32Array(16);function vc(c){return[Ki(255*c.r,255*c.g),Ki(255*c.b,255*c.a)]}class Ma{constructor(l,d,v){this.value=l,this.uniformNames=d.map(S=>`u_${S}`),this.type=v}setUniform(l,d,v){l.set(v.constantOr(this.value))}getBinding(l,d,v){return this.type==="color"?new ff(l,d):new iA(l,d)}}class oA{constructor(l,d){this.uniformNames=d.map(v=>`u_${v}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,v,S){const k=S==="u_pattern_to"?this.patternTo:S==="u_pattern_from"?this.patternFrom:S==="u_pixel_ratio_to"?this.pixelRatioTo:S==="u_pixel_ratio_from"?this.pixelRatioFrom:null;k&&l.set(k)}getBinding(l,d,v){return v.substr(0,9)==="u_pattern"?new mh(l,d):new iA(l,d)}}class aA{constructor(l,d,v,S){this.expression=l,this.type=v,this.maxValue=0,this.paintVertexAttributes=d.map(k=>({name:`a_${k}`,type:"Float32",components:v==="color"?2:1,offset:0})),this.paintVertexArray=new S}populatePaintArray(l,d,v,S,k){const P=this.paintVertexArray.length,R=this.expression.evaluate(new wo(0),d,{},S,[],k);this.paintVertexArray.resize(l),this._setPaintValue(P,l,R)}updatePaintArray(l,d,v,S){const k=this.expression.evaluate({zoom:0},v,S);this._setPaintValue(l,d,k)}_setPaintValue(l,d,v){if(this.type==="color"){const S=vc(v);for(let k=l;k<d;k++)this.paintVertexArray.emplace(k,S[0],S[1])}else{for(let S=l;S<d;S++)this.paintVertexArray.emplace(S,v);this.maxValue=Math.max(this.maxValue,Math.abs(v))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Da{constructor(l,d,v,S,k,P){this.expression=l,this.uniformNames=d.map(R=>`u_${R}_t`),this.type=v,this.useIntegerZoom=S,this.zoom=k,this.maxValue=0,this.paintVertexAttributes=d.map(R=>({name:`a_${R}`,type:"Float32",components:v==="color"?4:2,offset:0})),this.paintVertexArray=new P}populatePaintArray(l,d,v,S,k){const P=this.expression.evaluate(new wo(this.zoom),d,{},S,[],k),R=this.expression.evaluate(new wo(this.zoom+1),d,{},S,[],k),Q=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(Q,l,P,R)}updatePaintArray(l,d,v,S){const k=this.expression.evaluate({zoom:this.zoom},v,S),P=this.expression.evaluate({zoom:this.zoom+1},v,S);this._setPaintValue(l,d,k,P)}_setPaintValue(l,d,v,S){if(this.type==="color"){const k=vc(v),P=vc(S);for(let R=l;R<d;R++)this.paintVertexArray.emplace(R,k[0],k[1],P[0],P[1])}else{for(let k=l;k<d;k++)this.paintVertexArray.emplace(k,v,S);this.maxValue=Math.max(this.maxValue,Math.abs(v),Math.abs(S))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const v=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,S=B(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);l.set(S)}getBinding(l,d,v){return new iA(l,d)}}class sA{constructor(l,d,v,S,k,P){this.expression=l,this.type=d,this.useIntegerZoom=v,this.zoom=S,this.layerId=P,this.zoomInPaintVertexArray=new k,this.zoomOutPaintVertexArray=new k}populatePaintArray(l,d,v){const S=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(S,l,d.patterns&&d.patterns[this.layerId],v)}updatePaintArray(l,d,v,S,k){this._setPaintValues(l,d,v.patterns&&v.patterns[this.layerId],k)}_setPaintValues(l,d,v,S){if(!S||!v)return;const{min:k,mid:P,max:R}=v,Q=S[k],J=S[P],de=S[R];if(Q&&J&&de)for(let pe=l;pe<d;pe++)this.zoomInPaintVertexArray.emplace(pe,J.tl[0],J.tl[1],J.br[0],J.br[1],Q.tl[0],Q.tl[1],Q.br[0],Q.br[1],J.pixelRatio,Q.pixelRatio),this.zoomOutPaintVertexArray.emplace(pe,J.tl[0],J.tl[1],J.br[0],J.br[1],de.tl[0],de.tl[1],de.br[0],de.br[1],J.pixelRatio,de.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Ua.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Ua.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class pf{constructor(l,d,v){this.binders={},this._buffers=[];const S=[];for(const k in l.paint._values){if(!v(k))continue;const P=l.paint.get(k);if(!(P instanceof uo&&Po(P.property.specification)))continue;const R=Ps(k,l.type),Q=P.value,J=P.property.specification.type,de=P.property.useIntegerZoom,pe=P.property.specification["property-type"],we=pe==="cross-faded"||pe==="cross-faded-data-driven";if(Q.kind==="constant")this.binders[k]=we?new oA(Q.value,R):new Ma(Q.value,R,J),S.push(`/u_${k}`);else if(Q.kind==="source"||we){const Se=bs(k,J,"source");this.binders[k]=we?new sA(Q,J,de,d,Se,l.id):new aA(Q,R,J,Se),S.push(`/a_${k}`)}else{const Se=bs(k,J,"composite");this.binders[k]=new Da(Q,R,J,de,d,Se),S.push(`/z_${k}`)}}this.cacheKey=S.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof aA||d instanceof Da?d.maxValue:0}populatePaintArrays(l,d,v,S,k){for(const P in this.binders){const R=this.binders[P];(R instanceof aA||R instanceof Da||R instanceof sA)&&R.populatePaintArray(l,d,v,S,k)}}setConstantPatternPositions(l,d){for(const v in this.binders){const S=this.binders[v];S instanceof oA&&S.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,v,S,k){let P=!1;for(const R in l){const Q=d.getPositions(R);for(const J of Q){const de=v.feature(J.index);for(const pe in this.binders){const we=this.binders[pe];if((we instanceof aA||we instanceof Da||we instanceof sA)&&we.expression.isStateDependent===!0){const Se=S.paint.get(pe);we.expression=Se.value,we.updatePaintArray(J.start,J.end,de,l[R],k),P=!0}}}}return P}defines(){const l=[];for(const d in this.binders){const v=this.binders[d];(v instanceof Ma||v instanceof oA)&&l.push(...v.uniformNames.map(S=>`#define HAS_UNIFORM_${S}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const v=this.binders[d];if(v instanceof aA||v instanceof Da)for(let S=0;S<v.paintVertexAttributes.length;S++)l.push(v.paintVertexAttributes[S].name);else if(v instanceof sA)for(let S=0;S<Ua.members.length;S++)l.push(Ua.members[S].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const v=this.binders[d];if(v instanceof Ma||v instanceof oA||v instanceof Da)for(const S of v.uniformNames)l.push(S)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const v=[];for(const S in this.binders){const k=this.binders[S];if(k instanceof Ma||k instanceof oA||k instanceof Da){for(const P of k.uniformNames)if(d[P]){const R=k.getBinding(l,d[P],P);v.push({name:P,property:S,binding:R})}}}return v}setUniforms(l,d,v,S){for(const{name:k,property:P,binding:R}of d)this.binders[P].setUniform(R,S,v.get(P),k)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const v=this.binders[d];if(l&&v instanceof sA){const S=l.fromScale===2?v.zoomInPaintVertexBuffer:v.zoomOutPaintVertexBuffer;S&&this._buffers.push(S)}else(v instanceof aA||v instanceof Da)&&v.paintVertexBuffer&&this._buffers.push(v.paintVertexBuffer)}}upload(l){for(const d in this.binders){const v=this.binders[d];(v instanceof aA||v instanceof Da||v instanceof sA)&&v.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof aA||d instanceof Da||d instanceof sA)&&d.destroy()}}}class Vl{constructor(l,d,v=()=>!0){this.programConfigurations={};for(const S of l)this.programConfigurations[S.id]=new pf(S,d,v);this.needsUpload=!1,this._featureMap=new Jc,this._bufferOffset=0}populatePaintArrays(l,d,v,S,k,P){for(const R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(l,d,S,k,P);d.id!==void 0&&this._featureMap.add(d.id,v,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,v,S){for(const k of v)this.needsUpload=this.programConfigurations[k.id].updatePaintArrays(l,this._featureMap,d,k,S)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function Ps(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function bs(c,l,d){const v={color:{source:_,composite:Bt},number:{source:ze,composite:_}},S=function(k){return{"line-pattern":{source:Bo,composite:Bo},"fill-pattern":{source:Bo,composite:Bo},"fill-extrusion-pattern":{source:Bo,composite:Bo}}[k]}(c);return S&&S[d]||v[l][d]}Gn("ConstantBinder",Ma),Gn("CrossFadedConstantBinder",oA),Gn("SourceExpressionBinder",aA),Gn("CrossFadedCompositeBinder",sA),Gn("CompositeExpressionBinder",Da),Gn("ProgramConfiguration",pf,{omit:["_buffers"]}),Gn("ProgramConfigurationSet",Vl);var pa=8192;const Cp=Math.pow(2,14)-1,Nm=-Cp-1;function Lu(c){const l=pa/c.extent,d=c.loadGeometry();for(let v=0;v<d.length;v++){const S=d[v];for(let k=0;k<S.length;k++){const P=S[k],R=Math.round(P.x*l),Q=Math.round(P.y*l);P.x=B(R,Nm,Cp),P.y=B(Q,Nm,Cp),(R<P.x||R>P.x+1||Q<P.y||Q>P.y+1)&&se("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function Ru(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?Lu(c):[]}}function mf(c,l,d,v,S){c.emplaceBack(2*l+(v+1)/2,2*d+(S+1)/2)}class ed{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Li,this.indexArray=new hl,this.segments=new li,this.programConfigurations=new Vl(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,v){const S=this.layers[0],k=[];let P=null,R=!1;S.type==="circle"&&(P=S.layout.get("circle-sort-key"),R=!P.isConstant());for(const{feature:Q,id:J,index:de,sourceLayerIndex:pe}of l){const we=this.layers[0]._featureFilter.needGeometry,Se=Ru(Q,we);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),Se,v))continue;const Be=R?P.evaluate(Se,{},v):void 0,nt={id:J,properties:Q.properties,type:Q.type,sourceLayerIndex:pe,index:de,geometry:we?Se.geometry:Lu(Q),patterns:{},sortKey:Be};k.push(nt)}R&&k.sort((Q,J)=>Q.sortKey-J.sortKey);for(const Q of k){const{geometry:J,index:de,sourceLayerIndex:pe}=Q,we=l[de].feature;this.addFeature(Q,J,de,v),d.featureIndex.insert(we,J,de,pe,this.index)}}update(l,d,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Xo),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,v,S){for(const k of d)for(const P of k){const R=P.x,Q=P.y;if(R<0||R>=pa||Q<0||Q>=pa)continue;const J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),de=J.vertexLength;mf(this.layoutVertexArray,R,Q,-1,-1),mf(this.layoutVertexArray,R,Q,1,-1),mf(this.layoutVertexArray,R,Q,1,1),mf(this.layoutVertexArray,R,Q,-1,1),this.indexArray.emplaceBack(de,de+1,de+2),this.indexArray.emplaceBack(de,de+3,de+2),J.vertexLength+=4,J.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,v,{},S)}}function _p(c,l){for(let d=0;d<c.length;d++)if(Ld(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(Ld(c,l[d]))return!0;return!!bp(c,l)}function gh(c,l,d){return!!Ld(c,l)||!!yf(l,c,d)}function Gm(c,l){if(c.length===1)return Qm(l,c[0]);for(let d=0;d<l.length;d++){const v=l[d];for(let S=0;S<v.length;S++)if(Ld(c,v[S]))return!0}for(let d=0;d<c.length;d++)if(Qm(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(bp(c,l[d]))return!0;return!1}function td(c,l,d){if(c.length>1){if(bp(c,l))return!0;for(let v=0;v<l.length;v++)if(yf(l[v],c,d))return!0}for(let v=0;v<c.length;v++)if(yf(c[v],l,d))return!0;return!1}function bp(c,l){if(c.length===0||l.length===0)return!1;for(let d=0;d<c.length-1;d++){const v=c[d],S=c[d+1];for(let k=0;k<l.length-1;k++)if(gf(v,S,l[k],l[k+1]))return!0}return!1}function gf(c,l,d,v){return oe(c,d,v)!==oe(l,d,v)&&oe(c,l,d)!==oe(c,l,v)}function yf(c,l,d){const v=d*d;if(l.length===1)return c.distSqr(l[0])<v;for(let S=1;S<l.length;S++)if(nd(c,l[S-1],l[S])<v)return!0;return!1}function nd(c,l,d){const v=l.distSqr(d);if(v===0)return c.distSqr(l);const S=((c.x-l.x)*(d.x-l.x)+(c.y-l.y)*(d.y-l.y))/v;return c.distSqr(S<0?l:S>1?d:d.sub(l)._mult(S)._add(l))}function Qm(c,l){let d,v,S,k=!1;for(let P=0;P<c.length;P++){d=c[P];for(let R=0,Q=d.length-1;R<d.length;Q=R++)v=d[R],S=d[Q],v.y>l.y!=S.y>l.y&&l.x<(S.x-v.x)*(l.y-v.y)/(S.y-v.y)+v.x&&(k=!k)}return k}function Ld(c,l){let d=!1;for(let v=0,S=c.length-1;v<c.length;S=v++){const k=c[v],P=c[S];k.y>l.y!=P.y>l.y&&l.x<(P.x-k.x)*(l.y-k.y)/(P.y-k.y)+k.x&&(d=!d)}return d}function C1(c,l,d){const v=d[0],S=d[2];if(c.x<v.x&&l.x<v.x||c.x>S.x&&l.x>S.x||c.y<v.y&&l.y<v.y||c.y>S.y&&l.y>S.y)return!1;const k=oe(c,l,d[0]);return k!==oe(c,l,d[1])||k!==oe(c,l,d[2])||k!==oe(c,l,d[3])}function KA(c,l,d){const v=l.paint.get(c).value;return v.kind==="constant"?v.value:d.programConfigurations.get(l.id).getMaxValue(c)}function PA(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function rd(c,l,d,v,S){if(!l[0]&&!l[1])return c;const k=ft.convert(l)._mult(S);d==="viewport"&&k._rotate(-v);const P=[];for(let R=0;R<c.length;R++)P.push(c[R].sub(k));return P}Gn("CircleBucket",ed,{omit:["layers"]});const Rd=new Do({"circle-sort-key":new Br(z.layout_circle["circle-sort-key"])});var $m={paint:new Do({"circle-radius":new Br(z.paint_circle["circle-radius"]),"circle-color":new Br(z.paint_circle["circle-color"]),"circle-blur":new Br(z.paint_circle["circle-blur"]),"circle-opacity":new Br(z.paint_circle["circle-opacity"]),"circle-translate":new mr(z.paint_circle["circle-translate"]),"circle-translate-anchor":new mr(z.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mr(z.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mr(z.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Br(z.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Br(z.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Br(z.paint_circle["circle-stroke-opacity"])}),layout:Rd},el=1e-6,Us=typeof Float32Array<"u"?Float32Array:Array;function zu(){var c=new Us(9);return Us!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function id(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function zd(c,l,d){var v=l[0],S=l[1],k=l[2],P=l[3],R=l[4],Q=l[5],J=l[6],de=l[7],pe=l[8],we=l[9],Se=l[10],Be=l[11],nt=l[12],He=l[13],xt=l[14],zt=l[15],vt=d[0],Ut=d[1],ln=d[2],sn=d[3];return c[0]=vt*v+Ut*R+ln*pe+sn*nt,c[1]=vt*S+Ut*Q+ln*we+sn*He,c[2]=vt*k+Ut*J+ln*Se+sn*xt,c[3]=vt*P+Ut*de+ln*Be+sn*zt,c[4]=(vt=d[4])*v+(Ut=d[5])*R+(ln=d[6])*pe+(sn=d[7])*nt,c[5]=vt*S+Ut*Q+ln*we+sn*He,c[6]=vt*k+Ut*J+ln*Se+sn*xt,c[7]=vt*P+Ut*de+ln*Be+sn*zt,c[8]=(vt=d[8])*v+(Ut=d[9])*R+(ln=d[10])*pe+(sn=d[11])*nt,c[9]=vt*S+Ut*Q+ln*we+sn*He,c[10]=vt*k+Ut*J+ln*Se+sn*xt,c[11]=vt*P+Ut*de+ln*Be+sn*zt,c[12]=(vt=d[12])*v+(Ut=d[13])*R+(ln=d[14])*pe+(sn=d[15])*nt,c[13]=vt*S+Ut*Q+ln*we+sn*He,c[14]=vt*k+Ut*J+ln*Se+sn*xt,c[15]=vt*P+Ut*de+ln*Be+sn*zt,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var yh,_1=zd;function Ym(){var c=new Us(3);return Us!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function b1(c,l,d){var v=new Us(3);return v[0]=c,v[1]=l,v[2]=d,v}function vh(c,l,d){var v=l[0],S=l[1],k=l[2],P=l[3];return c[0]=d[0]*v+d[4]*S+d[8]*k+d[12]*P,c[1]=d[1]*v+d[5]*S+d[9]*k+d[13]*P,c[2]=d[2]*v+d[6]*S+d[10]*k+d[14]*P,c[3]=d[3]*v+d[7]*S+d[11]*k+d[15]*P,c}function tl(){var c=new Us(4);return Us!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function vf(c,l){const d=vh([],[c.x,c.y,0,1],l);return new ft(d[0]/d[3],d[1]/d[3])}Ym(),yh=new Us(4),Us!=Float32Array&&(yh[0]=0,yh[1]=0,yh[2]=0,yh[3]=0),Ym(),b1(1,0,0),b1(0,1,0),tl(),tl(),zu(),function(){var c;c=new Us(2),Us!=Float32Array&&(c[0]=0,c[1]=0)}();class x1 extends ed{}Gn("HeatmapBucket",x1,{omit:["layers"]});var qm={paint:new Do({"heatmap-radius":new Br(z.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Br(z.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mr(z.paint_heatmap["heatmap-intensity"]),"heatmap-color":new du(z.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mr(z.paint_heatmap["heatmap-opacity"])})};function Pi(c,{width:l,height:d},v,S){if(S){if(S instanceof Uint8ClampedArray)S=new Uint8Array(S.buffer);else if(S.length!==l*d*v)throw new RangeError(`mismatched image size. expected: ${S.length} but got: ${l*d*v}`)}else S=new Uint8Array(l*d*v);return c.width=l,c.height=d,c.data=S,c}function Vm(c,{width:l,height:d},v){if(l===c.width&&d===c.height)return;const S=Pi({},{width:l,height:d},v);xp(c,S,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,d)},v),c.width=l,c.height=d,c.data=S.data}function xp(c,l,d,v,S,k){if(S.width===0||S.height===0)return l;if(S.width>c.width||S.height>c.height||d.x>c.width-S.width||d.y>c.height-S.height)throw new RangeError("out of range source coordinates for image copy");if(S.width>l.width||S.height>l.height||v.x>l.width-S.width||v.y>l.height-S.height)throw new RangeError("out of range destination coordinates for image copy");const P=c.data,R=l.data;if(P===R)throw new Error("srcData equals dstData, so image is already copied");for(let Q=0;Q<S.height;Q++){const J=((d.y+Q)*c.width+d.x)*k,de=((v.y+Q)*l.width+v.x)*k;for(let pe=0;pe<S.width*k;pe++)R[de+pe]=P[J+pe]}return l}class UA{constructor(l,d){Pi(this,l,1,d)}resize(l){Vm(this,l,1)}clone(){return new UA({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,v,S,k){xp(l,d,v,S,k,1)}}class Hl{constructor(l,d){Pi(this,l,4,d)}resize(l){Vm(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Hl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,v,S,k){xp(l,d,v,S,k,4)}}function w1(c){const l={},d=c.resolution||256,v=c.clips?c.clips.length:1,S=c.image||new Hl({width:d,height:v});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const k=(P,R,Q)=>{l[c.evaluationKey]=Q;const J=c.expression.evaluate(l);S.data[P+R+0]=Math.floor(255*J.r/J.a),S.data[P+R+1]=Math.floor(255*J.g/J.a),S.data[P+R+2]=Math.floor(255*J.b/J.a),S.data[P+R+3]=Math.floor(255*J.a)};if(c.clips)for(let P=0,R=0;P<v;++P,R+=4*d)for(let Q=0,J=0;Q<d;Q++,J+=4){const de=Q/(d-1),{start:pe,end:we}=c.clips[P];k(R,J,pe*(1-de)+we*de)}else for(let P=0,R=0;P<d;P++,R+=4)k(0,R,P/(d-1));return S}Gn("AlphaImage",UA),Gn("RGBAImage",Hl);var jy={paint:new Do({"hillshade-illumination-direction":new mr(z.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mr(z.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mr(z.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mr(z.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mr(z.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mr(z.paint_hillshade["hillshade-accent-color"])})};const xs=No([{name:"a_pos",components:2,type:"Int16"}],4),{members:Cf}=xs;var DA={exports:{}};function FA(c,l,d){d=d||2;var v,S,k,P,R,Q,J,de=l&&l.length,pe=de?l[0]*d:c.length,we=lA(c,0,pe,d,!0),Se=[];if(!we||we.next===we.prev)return Se;if(de&&(we=function(nt,He,xt,zt){var vt,Ut,ln,sn=[];for(vt=0,Ut=He.length;vt<Ut;vt++)(ln=lA(nt,He[vt]*zt,vt<Ut-1?He[vt+1]*zt:nt.length,zt,!1))===ln.next&&(ln.steiner=!0),sn.push(xf(ln));for(sn.sort(bf),vt=0;vt<sn.length;vt++)xt=ad(sn[vt],xt);return xt}(c,l,we,d)),c.length>80*d){v=k=c[0],S=P=c[1];for(var Be=d;Be<pe;Be+=d)(R=c[Be])<v&&(v=R),(Q=c[Be+1])<S&&(S=Q),R>k&&(k=R),Q>P&&(P=Q);J=(J=Math.max(k-v,P-S))!==0?32767/J:0}return nl(we,Se,d,v,S,J,0),Se}function lA(c,l,d,v,S){var k,P;if(S===_h(c,l,d,v)>0)for(k=l;k<d;k+=v)P=Op(k,c[k],c[k+1],P);else for(k=d-v;k>=l;k-=v)P=Op(k,c[k],c[k+1],P);return P&&Mf(P,P.next)&&(Wd(P),P=P.next),P}function od(c,l){if(!c)return c;l||(l=c);var d,v=c;do if(d=!1,v.steiner||!Mf(v,v.next)&&Mo(v.prev,v,v.next)!==0)v=v.next;else{if(Wd(v),(v=l=v.prev)===v.next)break;d=!0}while(d||v!==l);return l}function nl(c,l,d,v,S,k,P){if(c){!P&&k&&function(de,pe,we,Se){var Be=de;do Be.z===0&&(Be.z=jd(Be.x,Be.y,pe,we,Se)),Be.prevZ=Be.prev,Be.nextZ=Be.next,Be=Be.next;while(Be!==de);Be.prevZ.nextZ=null,Be.prevZ=null,function(nt){var He,xt,zt,vt,Ut,ln,sn,tr,ir=1;do{for(xt=nt,nt=null,Ut=null,ln=0;xt;){for(ln++,zt=xt,sn=0,He=0;He<ir&&(sn++,zt=zt.nextZ);He++);for(tr=ir;sn>0||tr>0&&zt;)sn!==0&&(tr===0||!zt||xt.z<=zt.z)?(vt=xt,xt=xt.nextZ,sn--):(vt=zt,zt=zt.nextZ,tr--),Ut?Ut.nextZ=vt:nt=vt,vt.prevZ=Ut,Ut=vt;xt=zt}Ut.nextZ=null,ir*=2}while(ln>1)}(Be)}(c,v,S,k);for(var R,Q,J=c;c.prev!==c.next;)if(R=c.prev,Q=c.next,k?wp(c,v,S,k):mu(c))l.push(R.i/d|0),l.push(c.i/d|0),l.push(Q.i/d|0),Wd(c),c=Q.next,J=Q.next;else if((c=Q)===J){P?P===1?nl(c=Hm(od(c),l,d),l,d,v,S,k,2):P===2&&_f(c,l,d,v,S,k):nl(od(c),l,d,v,S,k,1);break}}}function mu(c){var l=c.prev,d=c,v=c.next;if(Mo(l,d,v)>=0)return!1;for(var S=l.x,k=d.x,P=v.x,R=l.y,Q=d.y,J=v.y,de=S<k?S<P?S:P:k<P?k:P,pe=R<Q?R<J?R:J:Q<J?Q:J,we=S>k?S>P?S:P:k>P?k:P,Se=R>Q?R>J?R:J:Q>J?Q:J,Be=v.next;Be!==l;){if(Be.x>=de&&Be.x<=we&&Be.y>=pe&&Be.y<=Se&&gu(S,R,k,Q,P,J,Be.x,Be.y)&&Mo(Be.prev,Be,Be.next)>=0)return!1;Be=Be.next}return!0}function wp(c,l,d,v){var S=c.prev,k=c,P=c.next;if(Mo(S,k,P)>=0)return!1;for(var R=S.x,Q=k.x,J=P.x,de=S.y,pe=k.y,we=P.y,Se=R<Q?R<J?R:J:Q<J?Q:J,Be=de<pe?de<we?de:we:pe<we?pe:we,nt=R>Q?R>J?R:J:Q>J?Q:J,He=de>pe?de>we?de:we:pe>we?pe:we,xt=jd(Se,Be,l,d,v),zt=jd(nt,He,l,d,v),vt=c.prevZ,Ut=c.nextZ;vt&&vt.z>=xt&&Ut&&Ut.z<=zt;){if(vt.x>=Se&&vt.x<=nt&&vt.y>=Be&&vt.y<=He&&vt!==S&&vt!==P&&gu(R,de,Q,pe,J,we,vt.x,vt.y)&&Mo(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,Ut.x>=Se&&Ut.x<=nt&&Ut.y>=Be&&Ut.y<=He&&Ut!==S&&Ut!==P&&gu(R,de,Q,pe,J,we,Ut.x,Ut.y)&&Mo(Ut.prev,Ut,Ut.next)>=0))return!1;Ut=Ut.nextZ}for(;vt&&vt.z>=xt;){if(vt.x>=Se&&vt.x<=nt&&vt.y>=Be&&vt.y<=He&&vt!==S&&vt!==P&&gu(R,de,Q,pe,J,we,vt.x,vt.y)&&Mo(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;Ut&&Ut.z<=zt;){if(Ut.x>=Se&&Ut.x<=nt&&Ut.y>=Be&&Ut.y<=He&&Ut!==S&&Ut!==P&&gu(R,de,Q,pe,J,we,Ut.x,Ut.y)&&Mo(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.nextZ}return!0}function Hm(c,l,d){var v=c;do{var S=v.prev,k=v.next.next;!Mf(S,k)&&Sp(S,v,v.next,k)&&Sf(S,k)&&Sf(k,S)&&(l.push(S.i/d|0),l.push(v.i/d|0),l.push(k.i/d|0),Wd(v),Wd(v.next),v=c=k),v=v.next}while(v!==c);return od(v)}function _f(c,l,d,v,S,k){var P=c;do{for(var R=P.next.next;R!==P.prev;){if(P.i!==R.i&&wf(P,R)){var Q=Ch(P,R);return P=od(P,P.next),Q=od(Q,Q.next),nl(P,l,d,v,S,k,0),void nl(Q,l,d,v,S,k,0)}R=R.next}P=P.next}while(P!==c)}function bf(c,l){return c.x-l.x}function ad(c,l){var d=function(S,k){var P,R=k,Q=S.x,J=S.y,de=-1/0;do{if(J<=R.y&&J>=R.next.y&&R.next.y!==R.y){var pe=R.x+(J-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(pe<=Q&&pe>de&&(de=pe,P=R.x<R.next.x?R:R.next,pe===Q))return P}R=R.next}while(R!==k);if(!P)return null;var we,Se=P,Be=P.x,nt=P.y,He=1/0;R=P;do Q>=R.x&&R.x>=Be&&Q!==R.x&&gu(J<nt?Q:de,J,Be,nt,J<nt?de:Q,J,R.x,R.y)&&(we=Math.abs(J-R.y)/(Q-R.x),Sf(R,S)&&(we<He||we===He&&(R.x>P.x||R.x===P.x&&Mp(P,R)))&&(P=R,He=we)),R=R.next;while(R!==Se);return P}(c,l);if(!d)return l;var v=Ch(d,c);return od(v,v.next),od(d,d.next)}function Mp(c,l){return Mo(c.prev,c,l.prev)<0&&Mo(l.next,c,c.next)<0}function jd(c,l,d,v,S){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-d)*S|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-v)*S|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function xf(c){var l=c,d=c;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==c);return d}function gu(c,l,d,v,S,k,P,R){return(S-P)*(l-R)>=(c-P)*(k-R)&&(c-P)*(v-R)>=(d-P)*(l-R)&&(d-P)*(k-R)>=(S-P)*(v-R)}function wf(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(d,v){var S=d;do{if(S.i!==d.i&&S.next.i!==d.i&&S.i!==v.i&&S.next.i!==v.i&&Sp(S,S.next,d,v))return!0;S=S.next}while(S!==d);return!1}(c,l)&&(Sf(c,l)&&Sf(l,c)&&function(d,v){var S=d,k=!1,P=(d.x+v.x)/2,R=(d.y+v.y)/2;do S.y>R!=S.next.y>R&&S.next.y!==S.y&&P<(S.next.x-S.x)*(R-S.y)/(S.next.y-S.y)+S.x&&(k=!k),S=S.next;while(S!==d);return k}(c,l)&&(Mo(c.prev,c,l.prev)||Mo(c,l.prev,l))||Mf(c,l)&&Mo(c.prev,c,c.next)>0&&Mo(l.prev,l,l.next)>0)}function Mo(c,l,d){return(l.y-c.y)*(d.x-l.x)-(l.x-c.x)*(d.y-l.y)}function Mf(c,l){return c.x===l.x&&c.y===l.y}function Sp(c,l,d,v){var S=Ep(Mo(c,l,d)),k=Ep(Mo(c,l,v)),P=Ep(Mo(d,v,c)),R=Ep(Mo(d,v,l));return S!==k&&P!==R||!(S!==0||!Cc(c,d,l))||!(k!==0||!Cc(c,v,l))||!(P!==0||!Cc(d,c,v))||!(R!==0||!Cc(d,l,v))}function Cc(c,l,d){return l.x<=Math.max(c.x,d.x)&&l.x>=Math.min(c.x,d.x)&&l.y<=Math.max(c.y,d.y)&&l.y>=Math.min(c.y,d.y)}function Ep(c){return c>0?1:c<0?-1:0}function Sf(c,l){return Mo(c.prev,c,c.next)<0?Mo(c,l,c.next)>=0&&Mo(c,c.prev,l)>=0:Mo(c,l,c.prev)<0||Mo(c,c.next,l)<0}function Ch(c,l){var d=new Zm(c.i,c.x,c.y),v=new Zm(l.i,l.x,l.y),S=c.next,k=l.prev;return c.next=l,l.prev=c,d.next=S,S.prev=d,v.next=d,d.prev=v,k.next=v,v.prev=k,v}function Op(c,l,d,v){var S=new Zm(c,l,d);return v?(S.next=v.next,S.prev=v,v.next.prev=S,v.next=S):(S.prev=S,S.next=S),S}function Wd(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Zm(c,l,d){this.i=c,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _h(c,l,d,v){for(var S=0,k=l,P=d-v;k<d;k+=v)S+=(c[P]-c[k])*(c[k+1]+c[P+1]),P=k;return S}function Xm(c,l,d,v,S){Bl(c,l,d||0,v||c.length-1,S||M1)}function Bl(c,l,d,v,S){for(;v>d;){if(v-d>600){var k=v-d+1,P=l-d+1,R=Math.log(k),Q=.5*Math.exp(2*R/3),J=.5*Math.sqrt(R*Q*(k-Q)/k)*(P-k/2<0?-1:1);Bl(c,l,Math.max(d,Math.floor(l-P*Q/k+J)),Math.min(v,Math.floor(l+(k-P)*Q/k+J)),S)}var de=c[l],pe=d,we=v;for(Il(c,d,l),S(c[v],de)>0&&Il(c,d,v);pe<we;){for(Il(c,pe,we),pe++,we--;S(c[pe],de)<0;)pe++;for(;S(c[we],de)>0;)we--}S(c[d],de)===0?Il(c,d,we):Il(c,++we,v),we<=l&&(d=we+1),l<=we&&(v=we-1)}}function Il(c,l,d){var v=c[l];c[l]=c[d],c[d]=v}function M1(c,l){return c<l?-1:c>l?1:0}function Jm(c,l){const d=c.length;if(d<=1)return[c];const v=[];let S,k;for(let P=0;P<d;P++){const R=ue(c[P]);R!==0&&(c[P].area=Math.abs(R),k===void 0&&(k=R<0),k===R<0?(S&&v.push(S),S=[c[P]]):S.push(c[P]))}if(S&&v.push(S),l>1)for(let P=0;P<v.length;P++)v[P].length<=l||(Xm(v[P],l,1,v[P].length-1,bh),v[P]=v[P].slice(0,l));return v}function bh(c,l){return l.area-c.area}function ju(c,l,d){const v=d.patternDependencies;let S=!1;for(const k of l){const P=k.paint.get(`${c}-pattern`);P.isConstant()||(S=!0);const R=P.constantOr(null);R&&(S=!0,v[R.to]=!0,v[R.from]=!0)}return S}function sd(c,l,d,v,S){const k=S.patternDependencies;for(const P of l){const R=P.paint.get(`${c}-pattern`).value;if(R.kind!=="constant"){let Q=R.evaluate({zoom:v-1},d,{},S.availableImages),J=R.evaluate({zoom:v},d,{},S.availableImages),de=R.evaluate({zoom:v+1},d,{},S.availableImages);Q=Q&&Q.name?Q.name:Q,J=J&&J.name?J.name:J,de=de&&de.name?de.name:de,k[Q]=!0,k[J]=!0,k[de]=!0,d.patterns[P.id]={min:Q,mid:J,max:de}}}return d}DA.exports=FA,DA.exports.default=FA,FA.deviation=function(c,l,d,v){var S=l&&l.length,k=Math.abs(_h(c,0,S?l[0]*d:c.length,d));if(S)for(var P=0,R=l.length;P<R;P++)k-=Math.abs(_h(c,l[P]*d,P<R-1?l[P+1]*d:c.length,d));var Q=0;for(P=0;P<v.length;P+=3){var J=v[P]*d,de=v[P+1]*d,pe=v[P+2]*d;Q+=Math.abs((c[J]-c[pe])*(c[de+1]-c[J+1])-(c[J]-c[de])*(c[pe+1]-c[J+1]))}return k===0&&Q===0?0:Math.abs((Q-k)/k)},FA.flatten=function(c){for(var l=c[0][0].length,d={vertices:[],holes:[],dimensions:l},v=0,S=0;S<c.length;S++){for(var k=0;k<c[S].length;k++)for(var P=0;P<l;P++)d.vertices.push(c[S][k][P]);S>0&&d.holes.push(v+=c[S-1].length)}return d};class Bp{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new mo,this.indexArray=new hl,this.indexArray2=new pu,this.programConfigurations=new Vl(l.layers,l.zoom),this.segments=new li,this.segments2=new li,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,v){this.hasPattern=ju("fill",this.layers,d);const S=this.layers[0].layout.get("fill-sort-key"),k=!S.isConstant(),P=[];for(const{feature:R,id:Q,index:J,sourceLayerIndex:de}of l){const pe=this.layers[0]._featureFilter.needGeometry,we=Ru(R,pe);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),we,v))continue;const Se=k?S.evaluate(we,{},v,d.availableImages):void 0,Be={id:Q,properties:R.properties,type:R.type,sourceLayerIndex:de,index:J,geometry:pe?we.geometry:Lu(R),patterns:{},sortKey:Se};P.push(Be)}k&&P.sort((R,Q)=>R.sortKey-Q.sortKey);for(const R of P){const{geometry:Q,index:J,sourceLayerIndex:de}=R;if(this.hasPattern){const pe=sd("fill",this.layers,R,this.zoom,d);this.patternFeatures.push(pe)}else this.addFeature(R,Q,J,v,{});d.featureIndex.insert(l[J].feature,Q,J,de,this.index)}}update(l,d,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,v)}addFeatures(l,d,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,d,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Cf),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,v,S,k){for(const P of Jm(d,500)){let R=0;for(const Se of P)R+=Se.length;const Q=this.segments.prepareSegment(R,this.layoutVertexArray,this.indexArray),J=Q.vertexLength,de=[],pe=[];for(const Se of P){if(Se.length===0)continue;Se!==P[0]&&pe.push(de.length/2);const Be=this.segments2.prepareSegment(Se.length,this.layoutVertexArray,this.indexArray2),nt=Be.vertexLength;this.layoutVertexArray.emplaceBack(Se[0].x,Se[0].y),this.indexArray2.emplaceBack(nt+Se.length-1,nt),de.push(Se[0].x),de.push(Se[0].y);for(let He=1;He<Se.length;He++)this.layoutVertexArray.emplaceBack(Se[He].x,Se[He].y),this.indexArray2.emplaceBack(nt+He-1,nt+He),de.push(Se[He].x),de.push(Se[He].y);Be.vertexLength+=Se.length,Be.primitiveLength+=Se.length}const we=DA.exports(de,pe);for(let Se=0;Se<we.length;Se+=3)this.indexArray.emplaceBack(J+we[Se],J+we[Se+1],J+we[Se+2]);Q.vertexLength+=R,Q.primitiveLength+=we.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,v,k,S)}}Gn("FillBucket",Bp,{omit:["layers","patternFeatures"]});const S1=new Do({"fill-sort-key":new Br(z.layout_fill["fill-sort-key"])});var E1={paint:new Do({"fill-antialias":new mr(z.paint_fill["fill-antialias"]),"fill-opacity":new Br(z.paint_fill["fill-opacity"]),"fill-color":new Br(z.paint_fill["fill-color"]),"fill-outline-color":new Br(z.paint_fill["fill-outline-color"]),"fill-translate":new mr(z.paint_fill["fill-translate"]),"fill-translate-anchor":new mr(z.paint_fill["fill-translate-anchor"]),"fill-pattern":new TA(z.paint_fill["fill-pattern"])}),layout:S1};const xh=No([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Ef=No([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Wy}=xh;var LA={},O1=ft,Of=ld;function ld(c,l,d,v,S){this.properties={},this.extent=d,this.type=0,this._pbf=c,this._geometry=-1,this._keys=v,this._values=S,c.readFields(wh,this,l)}function wh(c,l,d){c==1?l.id=d.readVarint():c==2?function(v,S){for(var k=v.readVarint()+v.pos;v.pos<k;){var P=S._keys[v.readVarint()],R=S._values[v.readVarint()];S.properties[P]=R}}(d,l):c==3?l.type=d.readVarint():c==4&&(l._geometry=d.pos)}function Ip(c){for(var l,d,v=0,S=0,k=c.length,P=k-1;S<k;P=S++)v+=((d=c[P]).x-(l=c[S]).x)*(l.y+d.y);return v}ld.types=["Unknown","Point","LineString","Polygon"],ld.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,d=c.readVarint()+c.pos,v=1,S=0,k=0,P=0,R=[];c.pos<d;){if(S<=0){var Q=c.readVarint();v=7&Q,S=Q>>3}if(S--,v===1||v===2)k+=c.readSVarint(),P+=c.readSVarint(),v===1&&(l&&R.push(l),l=[]),l.push(new O1(k,P));else{if(v!==7)throw new Error("unknown command "+v);l&&l.push(l[0].clone())}}return l&&R.push(l),R},ld.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,d=1,v=0,S=0,k=0,P=1/0,R=-1/0,Q=1/0,J=-1/0;c.pos<l;){if(v<=0){var de=c.readVarint();d=7&de,v=de>>3}if(v--,d===1||d===2)(S+=c.readSVarint())<P&&(P=S),S>R&&(R=S),(k+=c.readSVarint())<Q&&(Q=k),k>J&&(J=k);else if(d!==7)throw new Error("unknown command "+d)}return[P,Q,R,J]},ld.prototype.toGeoJSON=function(c,l,d){var v,S,k=this.extent*Math.pow(2,d),P=this.extent*c,R=this.extent*l,Q=this.loadGeometry(),J=ld.types[this.type];function de(Se){for(var Be=0;Be<Se.length;Be++){var nt=Se[Be];Se[Be]=[360*(nt.x+P)/k-180,360/Math.PI*Math.atan(Math.exp((180-360*(nt.y+R)/k)*Math.PI/180))-90]}}switch(this.type){case 1:var pe=[];for(v=0;v<Q.length;v++)pe[v]=Q[v][0];de(Q=pe);break;case 2:for(v=0;v<Q.length;v++)de(Q[v]);break;case 3:for(Q=function(Se){var Be=Se.length;if(Be<=1)return[Se];for(var nt,He,xt=[],zt=0;zt<Be;zt++){var vt=Ip(Se[zt]);vt!==0&&(He===void 0&&(He=vt<0),He===vt<0?(nt&&xt.push(nt),nt=[Se[zt]]):nt.push(Se[zt]))}return nt&&xt.push(nt),xt}(Q),v=0;v<Q.length;v++)for(S=0;S<Q[v].length;S++)de(Q[v][S])}Q.length===1?Q=Q[0]:J="Multi"+J;var we={type:"Feature",geometry:{type:J,coordinates:Q},properties:this.properties};return"id"in this&&(we.id=this.id),we};var kp=Of,e0=ud;function ud(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(Bf,this,l),this.length=this._features.length}function Bf(c,l,d){c===15?l.version=d.readVarint():c===1?l.name=d.readString():c===5?l.extent=d.readVarint():c===2?l._features.push(d.pos):c===3?l._keys.push(d.readString()):c===4&&l._values.push(function(v){for(var S=null,k=v.readVarint()+v.pos;v.pos<k;){var P=v.readVarint()>>3;S=P===1?v.readString():P===2?v.readFloat():P===3?v.readDouble():P===4?v.readVarint64():P===5?v.readVarint():P===6?v.readSVarint():P===7?v.readBoolean():null}return S}(d))}ud.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new kp(this._pbf,l,this.extent,this._keys,this._values)};var If=e0;function t0(c,l,d){if(c===3){var v=new If(d,d.readVarint()+d.pos);v.length&&(l[v.name]=v)}}LA.VectorTile=function(c,l){this.layers=c.readFields(t0,{},l)},LA.VectorTileFeature=Of,LA.VectorTileLayer=e0;const Ny=LA.VectorTileFeature.types,Tp=Math.pow(2,13);function eo(c,l,d,v,S,k,P,R){c.emplaceBack(l,d,2*Math.floor(v*Tp)+P,S*Tp*2,k*Tp*2,Math.round(R))}class Kp{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ri,this.centroidVertexArray=new cr,this.indexArray=new hl,this.programConfigurations=new Vl(l.layers,l.zoom),this.segments=new li,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,v){this.features=[],this.hasPattern=ju("fill-extrusion",this.layers,d);for(const{feature:S,id:k,index:P,sourceLayerIndex:R}of l){const Q=this.layers[0]._featureFilter.needGeometry,J=Ru(S,Q);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),J,v))continue;const de={id:k,sourceLayerIndex:R,index:P,geometry:Q?J.geometry:Lu(S),properties:S.properties,type:S.type,patterns:{}};this.hasPattern?this.features.push(sd("fill-extrusion",this.layers,de,this.zoom,d)):this.addFeature(de,de.geometry,P,v,{}),d.featureIndex.insert(S,de.geometry,P,R,this.index,!0)}}addFeatures(l,d,v){for(const S of this.features){const{geometry:k}=S;this.addFeature(S,k,S.index,d,v)}}update(l,d,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,v)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Wy),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,Ef.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,v,S,k){const P={x:0,y:0,vertexCount:0};for(const R of Jm(d,500)){let Q=0;for(const Be of R)Q+=Be.length;let J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Be of R){if(Be.length===0||kf(Be))continue;let nt=0;for(let He=0;He<Be.length;He++){const xt=Be[He];if(He>=1){const zt=Be[He-1];if(!Pp(xt,zt)){J.vertexLength+4>li.MAX_VERTEX_ARRAY_LENGTH&&(J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const vt=xt.sub(zt)._perp()._unit(),Ut=zt.dist(xt);nt+Ut>32768&&(nt=0),eo(this.layoutVertexArray,xt.x,xt.y,vt.x,vt.y,0,0,nt),eo(this.layoutVertexArray,xt.x,xt.y,vt.x,vt.y,0,1,nt),P.x+=2*xt.x,P.y+=2*xt.y,P.vertexCount+=2,nt+=Ut,eo(this.layoutVertexArray,zt.x,zt.y,vt.x,vt.y,0,0,nt),eo(this.layoutVertexArray,zt.x,zt.y,vt.x,vt.y,0,1,nt),P.x+=2*zt.x,P.y+=2*zt.y,P.vertexCount+=2;const ln=J.vertexLength;this.indexArray.emplaceBack(ln,ln+2,ln+1),this.indexArray.emplaceBack(ln+1,ln+2,ln+3),J.vertexLength+=4,J.primitiveLength+=2}}}}if(J.vertexLength+Q>li.MAX_VERTEX_ARRAY_LENGTH&&(J=this.segments.prepareSegment(Q,this.layoutVertexArray,this.indexArray)),Ny[l.type]!=="Polygon")continue;const de=[],pe=[],we=J.vertexLength;for(const Be of R)if(Be.length!==0){Be!==R[0]&&pe.push(de.length/2);for(let nt=0;nt<Be.length;nt++){const He=Be[nt];eo(this.layoutVertexArray,He.x,He.y,0,0,1,1,0),P.x+=He.x,P.y+=He.y,P.vertexCount+=1,de.push(He.x),de.push(He.y)}}const Se=DA.exports(de,pe);for(let Be=0;Be<Se.length;Be+=3)this.indexArray.emplaceBack(we+Se[Be],we+Se[Be+2],we+Se[Be+1]);J.primitiveLength+=Se.length/3,J.vertexLength+=Q}for(let R=0;R<P.vertexCount;R++)this.centroidVertexArray.emplaceBack(Math.floor(P.x/P.vertexCount),Math.floor(P.y/P.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,v,k,S)}}function Pp(c,l){return c.x===l.x&&(c.x<0||c.x>pa)||c.y===l.y&&(c.y<0||c.y>pa)}function kf(c){return c.every(l=>l.x<0)||c.every(l=>l.x>pa)||c.every(l=>l.y<0)||c.every(l=>l.y>pa)}Gn("FillExtrusionBucket",Kp,{omit:["layers","features"]});var Wu={paint:new Do({"fill-extrusion-opacity":new mr(z["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Br(z["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mr(z["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mr(z["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new TA(z["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Br(z["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Br(z["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mr(z["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Ad(c,l){return c.x*l.x+c.y*l.y}function Up(c,l){if(c.length===1){let d=0;const v=l[d++];let S;for(;!S||v.equals(S);)if(S=l[d++],!S)return 1/0;for(;d<l.length;d++){const k=l[d],P=c[0],R=S.sub(v),Q=k.sub(v),J=P.sub(v),de=Ad(R,R),pe=Ad(R,Q),we=Ad(Q,Q),Se=Ad(J,R),Be=Ad(J,Q),nt=de*we-pe*pe,He=(we*Se-pe*Be)/nt,xt=(de*Be-pe*Se)/nt,zt=v.z*(1-He-xt)+S.z*He+k.z*xt;if(isFinite(zt))return zt}return 1/0}{let d=1/0;for(const v of l)d=Math.min(d,v.z);return d}}const RA=No([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Dp}=RA,Fp=No([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Tf}=Fp,Kf=LA.VectorTileFeature.types,Mh=Math.cos(Math.PI/180*37.5),$r=Math.pow(2,14)/.5;class Nd{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Tr,this.layoutVertexArray2=new Sr,this.indexArray=new hl,this.programConfigurations=new Vl(l.layers,l.zoom),this.segments=new li,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,v){this.hasPattern=ju("line",this.layers,d);const S=this.layers[0].layout.get("line-sort-key"),k=!S.isConstant(),P=[];for(const{feature:R,id:Q,index:J,sourceLayerIndex:de}of l){const pe=this.layers[0]._featureFilter.needGeometry,we=Ru(R,pe);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),we,v))continue;const Se=k?S.evaluate(we,{},v):void 0,Be={id:Q,properties:R.properties,type:R.type,sourceLayerIndex:de,index:J,geometry:pe?we.geometry:Lu(R),patterns:{},sortKey:Se};P.push(Be)}k&&P.sort((R,Q)=>R.sortKey-Q.sortKey);for(const R of P){const{geometry:Q,index:J,sourceLayerIndex:de}=R;if(this.hasPattern){const pe=sd("line",this.layers,R,this.zoom,d);this.patternFeatures.push(pe)}else this.addFeature(R,Q,J,v,{});d.featureIndex.insert(l[J].feature,Q,J,de,this.index)}}update(l,d,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,v)}addFeatures(l,d,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,d,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Tf)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Dp),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,v,S,k){const P=this.layers[0].layout,R=P.get("line-join").evaluate(l,{}),Q=P.get("line-cap"),J=P.get("line-miter-limit"),de=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const pe of d)this.addLine(pe,l,R,Q,J,de);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,v,k,S)}addLine(l,d,v,S,k,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xt=0;xt<l.length-1;xt++)this.totalDistance+=l[xt].dist(l[xt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=Kf[d.type]==="Polygon";let Q=l.length;for(;Q>=2&&l[Q-1].equals(l[Q-2]);)Q--;let J=0;for(;J<Q-1&&l[J].equals(l[J+1]);)J++;if(Q<(R?3:2))return;v==="bevel"&&(k=1.05);const de=this.overscaling<=16?122880/(512*this.overscaling):0,pe=this.segments.prepareSegment(10*Q,this.layoutVertexArray,this.indexArray);let we,Se,Be,nt,He;this.e1=this.e2=-1,R&&(we=l[Q-2],He=l[J].sub(we)._unit()._perp());for(let xt=J;xt<Q;xt++){if(Be=xt===Q-1?R?l[J+1]:void 0:l[xt+1],Be&&l[xt].equals(Be))continue;He&&(nt=He),we&&(Se=we),we=l[xt],He=Be?Be.sub(we)._unit()._perp():nt,nt=nt||He;let zt=nt.add(He);zt.x===0&&zt.y===0||zt._unit();const vt=nt.x*He.x+nt.y*He.y,Ut=zt.x*He.x+zt.y*He.y,ln=Ut!==0?1/Ut:1/0,sn=2*Math.sqrt(2-2*Ut),tr=Ut<Mh&&Se&&Be,ir=nt.x*He.y-nt.y*He.x>0;if(tr&&xt>J){const En=we.dist(Se);if(En>2*de){const Nn=we.sub(we.sub(Se)._mult(de/En)._round());this.updateDistance(Se,Nn),this.addCurrentVertex(Nn,nt,0,0,pe),Se=Nn}}const Wn=Se&&Be;let Fn=Wn?v:R?"butt":S;if(Wn&&Fn==="round"&&(ln<P?Fn="miter":ln<=2&&(Fn="fakeround")),Fn==="miter"&&ln>k&&(Fn="bevel"),Fn==="bevel"&&(ln>2&&(Fn="flipbevel"),ln<k&&(Fn="miter")),Se&&this.updateDistance(Se,we),Fn==="miter")zt._mult(ln),this.addCurrentVertex(we,zt,0,0,pe);else if(Fn==="flipbevel"){if(ln>100)zt=He.mult(-1);else{const En=ln*nt.add(He).mag()/nt.sub(He).mag();zt._perp()._mult(En*(ir?-1:1))}this.addCurrentVertex(we,zt,0,0,pe),this.addCurrentVertex(we,zt.mult(-1),0,0,pe)}else if(Fn==="bevel"||Fn==="fakeround"){const En=-Math.sqrt(ln*ln-1),Nn=ir?En:0,Ln=ir?0:En;if(Se&&this.addCurrentVertex(we,nt,Nn,Ln,pe),Fn==="fakeround"){const yn=Math.round(180*sn/Math.PI/20);for(let Ir=1;Ir<yn;Ir++){let xr=Ir/yn;if(xr!==.5){const ea=xr-.5;xr+=xr*ea*(xr-1)*((1.0904+vt*(vt*(3.55645-1.43519*vt)-3.2452))*ea*ea+(.848013+vt*(.215638*vt-1.06021)))}const _i=He.sub(nt)._mult(xr)._add(nt)._unit()._mult(ir?-1:1);this.addHalfVertex(we,_i.x,_i.y,!1,ir,0,pe)}}Be&&this.addCurrentVertex(we,He,-Nn,-Ln,pe)}else if(Fn==="butt")this.addCurrentVertex(we,zt,0,0,pe);else if(Fn==="square"){const En=Se?1:-1;this.addCurrentVertex(we,zt,En,En,pe)}else Fn==="round"&&(Se&&(this.addCurrentVertex(we,nt,0,0,pe),this.addCurrentVertex(we,nt,1,1,pe,!0)),Be&&(this.addCurrentVertex(we,He,-1,-1,pe,!0),this.addCurrentVertex(we,He,0,0,pe)));if(tr&&xt<Q-1){const En=we.dist(Be);if(En>2*de){const Nn=we.add(Be.sub(we)._mult(de/En)._round());this.updateDistance(we,Nn),this.addCurrentVertex(Nn,He,0,0,pe),we=Nn}}}}addCurrentVertex(l,d,v,S,k,P=!1){const R=d.y*S-d.x,Q=-d.y-d.x*S;this.addHalfVertex(l,d.x+d.y*v,d.y-d.x*v,P,!1,v,k),this.addHalfVertex(l,R,Q,P,!0,-S,k),this.distance>$r/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(l,d,v,S,k,P))}addHalfVertex({x:l,y:d},v,S,k,P,R,Q){const J=.5*(this.lineClips?this.scaledDistance*($r-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(k?1:0),(d<<1)+(P?1:0),Math.round(63*v)+128,Math.round(63*S)+128,1+(R===0?0:R<0?-1:1)|(63&J)<<2,J>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const de=Q.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,de),Q.primitiveLength++),P?this.e2=de:this.e1=de}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}Gn("LineBucket",Nd,{omit:["layers","patternFeatures"]});const Co=new Do({"line-cap":new mr(z.layout_line["line-cap"]),"line-join":new Br(z.layout_line["line-join"]),"line-miter-limit":new mr(z.layout_line["line-miter-limit"]),"line-round-limit":new mr(z.layout_line["line-round-limit"]),"line-sort-key":new Br(z.layout_line["line-sort-key"])});var _c={paint:new Do({"line-opacity":new Br(z.paint_line["line-opacity"]),"line-color":new Br(z.paint_line["line-color"]),"line-translate":new mr(z.paint_line["line-translate"]),"line-translate-anchor":new mr(z.paint_line["line-translate-anchor"]),"line-width":new Br(z.paint_line["line-width"]),"line-gap-width":new Br(z.paint_line["line-gap-width"]),"line-offset":new Br(z.paint_line["line-offset"]),"line-blur":new Br(z.paint_line["line-blur"]),"line-dasharray":new gc(z.paint_line["line-dasharray"]),"line-pattern":new TA(z.paint_line["line-pattern"]),"line-gradient":new du(z.paint_line["line-gradient"])}),layout:Co};const B1=new class extends Br{possiblyEvaluate(c,l){return l=new wo(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(c,l)}evaluate(c,l,d,v){return l=L({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(c,l,d,v)}}(_c.paint.properties["line-width"].specification);function bc(c,l){return l>0?l+2*c:c}B1.useIntegerZoom=!0;const I1=No([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ws=No([{name:"a_projected_pos",components:3,type:"Float32"}],4);No([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Gy=No([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);No([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Sa=No([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),k1=No([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Qy(c,l,d){return c.sections.forEach(v=>{v.text=function(S,k,P){const R=k.layout.get("text-transform").evaluate(P,{});return R==="uppercase"?S=S.toLocaleUpperCase():R==="lowercase"&&(S=S.toLocaleLowerCase()),Zs.applyArabicShaping&&(S=Zs.applyArabicShaping(S)),S}(v.text,l,d)}),c}No([{name:"triangle",components:3,type:"Uint16"}]),No([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),No([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),No([{type:"Float32",name:"offsetX"}]),No([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Sh={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Fa=24,A=C,h=function(c,l,d,v,S){var k,P,R=8*S-v-1,Q=(1<<R)-1,J=Q>>1,de=-7,pe=d?S-1:0,we=d?-1:1,Se=c[l+pe];for(pe+=we,k=Se&(1<<-de)-1,Se>>=-de,de+=R;de>0;k=256*k+c[l+pe],pe+=we,de-=8);for(P=k&(1<<-de)-1,k>>=-de,de+=v;de>0;P=256*P+c[l+pe],pe+=we,de-=8);if(k===0)k=1-J;else{if(k===Q)return P?NaN:1/0*(Se?-1:1);P+=Math.pow(2,v),k-=J}return(Se?-1:1)*P*Math.pow(2,k-v)},b=function(c,l,d,v,S,k){var P,R,Q,J=8*k-S-1,de=(1<<J)-1,pe=de>>1,we=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,Se=v?0:k-1,Be=v?1:-1,nt=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(R=isNaN(l)?1:0,P=de):(P=Math.floor(Math.log(l)/Math.LN2),l*(Q=Math.pow(2,-P))<1&&(P--,Q*=2),(l+=P+pe>=1?we/Q:we*Math.pow(2,1-pe))*Q>=2&&(P++,Q/=2),P+pe>=de?(R=0,P=de):P+pe>=1?(R=(l*Q-1)*Math.pow(2,S),P+=pe):(R=l*Math.pow(2,pe-1)*Math.pow(2,S),P=0));S>=8;c[d+Se]=255&R,Se+=Be,R/=256,S-=8);for(P=P<<S|R,J+=S;J>0;c[d+Se]=255&P,Se+=Be,P/=256,J-=8);c[d+Se-Be]|=128*nt};function C(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}C.Varint=0,C.Fixed64=1,C.Bytes=2,C.Fixed32=5;var O,F=4294967296,Y=1/F,X=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function le(c){return c.type===C.Bytes?c.readVarint()+c.pos:c.pos+1}function fe(c,l,d){return d?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function Le(c,l,d){var v=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(v);for(var S=d.pos-1;S>=c;S--)d.buf[S+v]=d.buf[S]}function $e(c,l){for(var d=0;d<c.length;d++)l.writeVarint(c[d])}function _t(c,l){for(var d=0;d<c.length;d++)l.writeSVarint(c[d])}function mt(c,l){for(var d=0;d<c.length;d++)l.writeFloat(c[d])}function Vt(c,l){for(var d=0;d<c.length;d++)l.writeDouble(c[d])}function An(c,l){for(var d=0;d<c.length;d++)l.writeBoolean(c[d])}function _n(c,l){for(var d=0;d<c.length;d++)l.writeFixed32(c[d])}function Dn(c,l){for(var d=0;d<c.length;d++)l.writeSFixed32(c[d])}function Hn(c,l){for(var d=0;d<c.length;d++)l.writeFixed64(c[d])}function Pn(c,l){for(var d=0;d<c.length;d++)l.writeSFixed64(c[d])}function er(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function br(c,l,d){c[d]=l,c[d+1]=l>>>8,c[d+2]=l>>>16,c[d+3]=l>>>24}function Er(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}function Ci(c,l,d){c===1&&d.readMessage(Fo,l)}function Fo(c,l,d){if(c===3){const{id:v,bitmap:S,width:k,height:P,left:R,top:Q,advance:J}=d.readMessage(La,{});l.push({id:v,bitmap:new UA({width:k+6,height:P+6},S),metrics:{width:k,height:P,left:R,top:Q,advance:J}})}}function La(c,l,d){c===1?l.id=d.readVarint():c===2?l.bitmap=d.readBytes():c===3?l.width=d.readVarint():c===4?l.height=d.readVarint():c===5?l.left=d.readSVarint():c===6?l.top=d.readSVarint():c===7&&(l.advance=d.readVarint())}function Jo(c){let l=0,d=0;for(const P of c)l+=P.w*P.h,d=Math.max(d,P.w);c.sort((P,R)=>R.h-P.h);const v=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let S=0,k=0;for(const P of c)for(let R=v.length-1;R>=0;R--){const Q=v[R];if(!(P.w>Q.w||P.h>Q.h)){if(P.x=Q.x,P.y=Q.y,k=Math.max(k,P.y+P.h),S=Math.max(S,P.x+P.w),P.w===Q.w&&P.h===Q.h){const J=v.pop();R<v.length&&(v[R]=J)}else P.h===Q.h?(Q.x+=P.w,Q.w-=P.w):P.w===Q.w?(Q.y+=P.h,Q.h-=P.h):(v.push({x:Q.x+P.w,y:Q.y,w:Q.w-P.w,h:P.h}),Q.y+=P.h,Q.h-=P.h);break}}return{w:S,h:k,fill:l/(S*k)||0}}C.prototype={destroy:function(){this.buf=null},readFields:function(c,l,d){for(d=d||this.length;this.pos<d;){var v=this.readVarint(),S=v>>3,k=this.pos;this.type=7&v,c(S,l,this),this.pos===k&&this.skip(v)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=er(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=Er(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=er(this.buf,this.pos)+er(this.buf,this.pos+4)*F;return this.pos+=8,c},readSFixed64:function(){var c=er(this.buf,this.pos)+Er(this.buf,this.pos+4)*F;return this.pos+=8,c},readFloat:function(){var c=h(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=h(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,d,v=this.buf;return l=127&(d=v[this.pos++]),d<128?l:(l|=(127&(d=v[this.pos++]))<<7,d<128?l:(l|=(127&(d=v[this.pos++]))<<14,d<128?l:(l|=(127&(d=v[this.pos++]))<<21,d<128?l:function(S,k,P){var R,Q,J=P.buf;if(R=(112&(Q=J[P.pos++]))>>4,Q<128||(R|=(127&(Q=J[P.pos++]))<<3,Q<128)||(R|=(127&(Q=J[P.pos++]))<<10,Q<128)||(R|=(127&(Q=J[P.pos++]))<<17,Q<128)||(R|=(127&(Q=J[P.pos++]))<<24,Q<128)||(R|=(1&(Q=J[P.pos++]))<<31,Q<128))return fe(S,R,k);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=v[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&X?function(d,v,S){return X.decode(d.subarray(v,S))}(this.buf,l,c):function(d,v,S){for(var k="",P=v;P<S;){var R,Q,J,de=d[P],pe=null,we=de>239?4:de>223?3:de>191?2:1;if(P+we>S)break;we===1?de<128&&(pe=de):we===2?(192&(R=d[P+1]))==128&&(pe=(31&de)<<6|63&R)<=127&&(pe=null):we===3?(Q=d[P+2],(192&(R=d[P+1]))==128&&(192&Q)==128&&((pe=(15&de)<<12|(63&R)<<6|63&Q)<=2047||pe>=55296&&pe<=57343)&&(pe=null)):we===4&&(Q=d[P+2],J=d[P+3],(192&(R=d[P+1]))==128&&(192&Q)==128&&(192&J)==128&&((pe=(15&de)<<18|(63&R)<<12|(63&Q)<<6|63&J)<=65535||pe>=1114112)&&(pe=null)),pe===null?(pe=65533,we=1):pe>65535&&(pe-=65536,k+=String.fromCharCode(pe>>>10&1023|55296),pe=56320|1023&pe),k+=String.fromCharCode(pe),P+=we}return k}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==C.Bytes)return c.push(this.readVarint(l));var d=le(this);for(c=c||[];this.pos<d;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==C.Bytes)return c.push(this.readSVarint());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==C.Bytes)return c.push(this.readBoolean());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==C.Bytes)return c.push(this.readFloat());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==C.Bytes)return c.push(this.readDouble());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==C.Bytes)return c.push(this.readFixed32());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==C.Bytes)return c.push(this.readSFixed32());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==C.Bytes)return c.push(this.readFixed64());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==C.Bytes)return c.push(this.readSFixed64());var l=le(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===C.Varint)for(;this.buf[this.pos++]>127;);else if(l===C.Bytes)this.pos=this.readVarint()+this.pos;else if(l===C.Fixed32)this.pos+=4;else{if(l!==C.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),br(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),br(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),br(this.buf,-1&c,this.pos),br(this.buf,Math.floor(c*Y),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),br(this.buf,-1&c,this.pos),br(this.buf,Math.floor(c*Y),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,d){var v,S;if(l>=0?(v=l%4294967296|0,S=l/4294967296|0):(S=~(-l/4294967296),4294967295^(v=~(-l%4294967296))?v=v+1|0:(v=0,S=S+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(k,P,R){R.buf[R.pos++]=127&k|128,k>>>=7,R.buf[R.pos++]=127&k|128,k>>>=7,R.buf[R.pos++]=127&k|128,k>>>=7,R.buf[R.pos++]=127&k|128,R.buf[R.pos]=127&(k>>>=7)}(v,0,d),function(k,P){var R=(7&k)<<4;P.buf[P.pos++]|=R|((k>>>=3)?128:0),k&&(P.buf[P.pos++]=127&k|((k>>>=7)?128:0),k&&(P.buf[P.pos++]=127&k|((k>>>=7)?128:0),k&&(P.buf[P.pos++]=127&k|((k>>>=7)?128:0),k&&(P.buf[P.pos++]=127&k|((k>>>=7)?128:0),k&&(P.buf[P.pos++]=127&k)))))}(S,d)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(v,S,k){for(var P,R,Q=0;Q<S.length;Q++){if((P=S.charCodeAt(Q))>55295&&P<57344){if(!R){P>56319||Q+1===S.length?(v[k++]=239,v[k++]=191,v[k++]=189):R=P;continue}if(P<56320){v[k++]=239,v[k++]=191,v[k++]=189,R=P;continue}P=R-55296<<10|P-56320|65536,R=null}else R&&(v[k++]=239,v[k++]=191,v[k++]=189,R=null);P<128?v[k++]=P:(P<2048?v[k++]=P>>6|192:(P<65536?v[k++]=P>>12|224:(v[k++]=P>>18|240,v[k++]=P>>12&63|128),v[k++]=P>>6&63|128),v[k++]=63&P|128)}return k}(this.buf,c,this.pos);var d=this.pos-l;d>=128&&Le(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(c){this.realloc(4),b(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),b(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=c[d]},writeRawMessage:function(c,l){this.pos++;var d=this.pos;c(l,this);var v=this.pos-d;v>=128&&Le(d,v,this),this.pos=d-1,this.writeVarint(v),this.pos+=v},writeMessage:function(c,l,d){this.writeTag(c,C.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,$e,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,_t,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,An,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,mt,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,Vt,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,_n,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,Dn,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,Hn,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,Pn,l)},writeBytesField:function(c,l){this.writeTag(c,C.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,C.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,C.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,C.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,C.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,C.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,C.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,C.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,C.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,C.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};class ra{constructor(l,{pixelRatio:d,version:v,stretchX:S,stretchY:k,content:P}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=S,this.stretchY=k,this.content=P,this.version=v}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Ra{constructor(l,d){const v={},S={};this.haveRenderCallbacks=[];const k=[];this.addImages(l,v,k),this.addImages(d,S,k);const{w:P,h:R}=Jo(k),Q=new Hl({width:P||1,height:R||1});for(const J in l){const de=l[J],pe=v[J].paddedRect;Hl.copy(de.data,Q,{x:0,y:0},{x:pe.x+1,y:pe.y+1},de.data)}for(const J in d){const de=d[J],pe=S[J].paddedRect,we=pe.x+1,Se=pe.y+1,Be=de.data.width,nt=de.data.height;Hl.copy(de.data,Q,{x:0,y:0},{x:we,y:Se},de.data),Hl.copy(de.data,Q,{x:0,y:nt-1},{x:we,y:Se-1},{width:Be,height:1}),Hl.copy(de.data,Q,{x:0,y:0},{x:we,y:Se+nt},{width:Be,height:1}),Hl.copy(de.data,Q,{x:Be-1,y:0},{x:we-1,y:Se},{width:1,height:nt}),Hl.copy(de.data,Q,{x:0,y:0},{x:we+Be,y:Se},{width:1,height:nt})}this.image=Q,this.iconPositions=v,this.patternPositions=S}addImages(l,d,v){for(const S in l){const k=l[S],P={x:0,y:0,w:k.data.width+2,h:k.data.height+2};v.push(P),d[S]=new ra(P,k),k.hasRenderCallback&&this.haveRenderCallbacks.push(S)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const v in l.updatedImages)this.patchUpdatedImage(this.iconPositions[v],l.getImage(v),d),this.patchUpdatedImage(this.patternPositions[v],l.getImage(v),d)}patchUpdatedImage(l,d,v){if(!l||!d||l.version===d.version)return;l.version=d.version;const[S,k]=l.tl;v.update(d.data,void 0,{x:S,y:k})}}Gn("ImagePosition",ra),Gn("ImageAtlas",Ra),a.WritingMode=void 0,(O=a.WritingMode||(a.WritingMode={}))[O.none=0]="none",O[O.horizontal=1]="horizontal",O[O.vertical=2]="vertical",O[O.horizontalOnly=3]="horizontalOnly";const ma=-17;class ls{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const v=new ls;return v.scale=l||1,v.fontStack=d,v}static forImage(l){const d=new ls;return d.imageName=l,d}}class Ea{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const v=new Ea;for(let S=0;S<l.sections.length;S++){const k=l.sections[S];k.image?v.addImageSection(k):v.addTextSection(k,d)}return v}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let v=0;v<l.length;v++){const S=l.charCodeAt(v+1)||null,k=l.charCodeAt(v-1)||null;d+=S&&nA(S)&&!Sh[l[v+1]]||k&&nA(k)&&!Sh[l[v-1]]||!Sh[l[v]]?l[v]:Sh[l[v]]}return d}(this.text)}trim(){let l=0;for(let v=0;v<this.text.length&&ga[this.text.charCodeAt(v)];v++)l++;let d=this.text.length;for(let v=this.text.length-1;v>=0&&v>=l&&ga[this.text.charCodeAt(v)];v--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const v=new Ea;return v.text=this.text.substring(l,d),v.sectionIndex=this.sectionIndex.slice(l,d),v.sections=this.sections,v}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(ls.forText(l.scale,l.fontStack||d));const v=this.sections.length-1;for(let S=0;S<l.text.length;++S)this.sectionIndex.push(v)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void se("Can't add FormattedSection with an empty image.");const v=this.getNextImageSectionCharCode();v?(this.text+=String.fromCharCode(v),this.sections.push(ls.forImage(d)),this.sectionIndex.push(this.sections.length-1)):se("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Oa(c,l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt){const He=Ea.fromFeature(c,S);let xt;pe===a.WritingMode.vertical&&He.verticalizePunctuation();const{processBidirectionalText:zt,processStyledBidirectionalText:vt}=Zs;if(zt&&He.sections.length===1){xt=[];const sn=zt(He.toString(),Za(He,J,k,l,v,Se,Be));for(const tr of sn){const ir=new Ea;ir.text=tr,ir.sections=He.sections;for(let Wn=0;Wn<tr.length;Wn++)ir.sectionIndex.push(0);xt.push(ir)}}else if(vt){xt=[];const sn=vt(He.text,He.sectionIndex,Za(He,J,k,l,v,Se,Be));for(const tr of sn){const ir=new Ea;ir.text=tr[0],ir.sectionIndex=tr[1],ir.sections=He.sections,xt.push(ir)}}else xt=function(sn,tr){const ir=[],Wn=sn.text;let Fn=0;for(const En of tr)ir.push(sn.substring(Fn,En)),Fn=En;return Fn<Wn.length&&ir.push(sn.substring(Fn,Wn.length)),ir}(He,Za(He,J,k,l,v,Se,Be));const Ut=[],ln={positionedLines:Ut,text:He.toString(),top:de[1],bottom:de[1],left:de[0],right:de[0],writingMode:pe,iconsInText:!1,verticalizable:!1};return function(sn,tr,ir,Wn,Fn,En,Nn,Ln,yn,Ir,xr,_i){let ea=0,ia=ma,Ms=0,dA=0;const pl=Ln==="right"?1:Ln==="left"?0:.5;let us=0;for(const As of Fn){As.trim();const ja=As.getMaxScale(),Rr=(ja-1)*Fa,Zl={positionedGlyphs:[],lineOffset:0};sn.positionedLines[us]=Zl;const ta=Zl.positionedGlyphs;let go=0;if(!As.length()){ia+=En,++us;continue}for(let aa=0;aa<As.length();aa++){const zi=As.getSection(aa),Nu=As.getSectionIndex(aa),gl=As.getCharCode(aa);let kl=0,WA=null,hA=null,wc=null,Tl=Fa;const fA=!(yn===a.WritingMode.horizontal||!xr&&!gs(gl)||xr&&(ga[gl]||(Fs=gl,jn.Arabic(Fs)||jn["Arabic Supplement"](Fs)||jn["Arabic Extended-A"](Fs)||jn["Arabic Presentation Forms-A"](Fs)||jn["Arabic Presentation Forms-B"](Fs))));if(zi.imageName){const Xl=Wn[zi.imageName];if(!Xl)continue;wc=zi.imageName,sn.iconsInText=sn.iconsInText||!0,hA=Xl.paddedRect;const co=Xl.displaySize;zi.scale=zi.scale*Fa/_i,WA={width:co[0],height:co[1],left:1,top:-3,advance:fA?co[1]:co[0]},kl=Rr+(Fa-co[1]*zi.scale),Tl=WA.advance;const Go=fA?co[0]*zi.scale-Fa*ja:co[1]*zi.scale-Fa*ja;Go>0&&Go>go&&(go=Go)}else{const Xl=ir[zi.fontStack],co=Xl&&Xl[gl];if(co&&co.rect)hA=co.rect,WA=co.metrics;else{const Go=tr[zi.fontStack],zp=Go&&Go[gl];if(!zp)continue;WA=zp.metrics}kl=(ja-zi.scale)*Fa}fA?(sn.verticalizable=!0,ta.push({glyph:gl,imageName:wc,x:ea,y:ia+kl,vertical:fA,scale:zi.scale,fontStack:zi.fontStack,sectionIndex:Nu,metrics:WA,rect:hA}),ea+=Tl*zi.scale+Ir):(ta.push({glyph:gl,imageName:wc,x:ea,y:ia+kl,vertical:fA,scale:zi.scale,fontStack:zi.fontStack,sectionIndex:Nu,metrics:WA,rect:hA}),ea+=WA.advance*zi.scale+Ir)}ta.length!==0&&(Ms=Math.max(ea-Ir,Ms),zA(ta,0,ta.length-1,pl,go)),ea=0;const va=En*ja+go;Zl.lineOffset=Math.max(go,Rr),ia+=va,dA=Math.max(va,dA),++us}var Fs;const ml=ia-ma,{horizontalAlign:oa,verticalAlign:yu}=Pf(Nn);(function(As,ja,Rr,Zl,ta,go,va,aa,zi){const Nu=(ja-Rr)*ta;let gl=0;gl=go!==va?-aa*Zl-ma:(-Zl*zi+.5)*va;for(const kl of As)for(const WA of kl.positionedGlyphs)WA.x+=Nu,WA.y+=gl})(sn.positionedLines,pl,oa,yu,Ms,dA,En,ml,Fn.length),sn.top+=-yu*ml,sn.bottom=sn.top+ml,sn.left+=-oa*Ms,sn.right=sn.left+Ms}(ln,l,d,v,xt,P,R,Q,pe,J,we,nt),!function(sn){for(const tr of sn)if(tr.positionedGlyphs.length!==0)return!1;return!0}(Ut)&&ln}const ga={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ba={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function fl(c,l,d,v,S,k){if(l.imageName){const P=v[l.imageName];return P?P.displaySize[0]*l.scale*Fa/k+S:0}{const P=d[l.fontStack],R=P&&P[c];return R?R.metrics.advance*l.scale+S:0}}function Gd(c,l,d,v){const S=Math.pow(c-l,2);return v?c<l?S/2:2*S:S+Math.abs(d)*d}function cd(c,l,d){let v=0;return c===10&&(v-=1e4),d&&(v+=150),c!==40&&c!==65288||(v+=50),l!==41&&l!==65289||(v+=50),v}function Ds(c,l,d,v,S,k){let P=null,R=Gd(l,d,S,k);for(const Q of v){const J=Gd(l-Q.x,d,S,k)+Q.badness;J<=R&&(P=Q,R=J)}return{index:c,x:l,priorBreak:P,badness:R}}function uA(c){return c?uA(c.priorBreak).concat(c.index):[]}function Za(c,l,d,v,S,k,P){if(k!=="point")return[];if(!c)return[];const R=[],Q=function(we,Se,Be,nt,He,xt){let zt=0;for(let vt=0;vt<we.length();vt++){const Ut=we.getSection(vt);zt+=fl(we.getCharCode(vt),Ut,nt,He,Se,xt)}return zt/Math.max(1,Math.ceil(zt/Be))}(c,l,d,v,S,P),J=c.text.indexOf("")>=0;let de=0;for(let we=0;we<c.length();we++){const Se=c.getSection(we),Be=c.getCharCode(we);if(ga[Be]||(de+=fl(Be,Se,v,S,l,P)),we<c.length()-1){const nt=!((pe=Be)<11904||!(jn["Bopomofo Extended"](pe)||jn.Bopomofo(pe)||jn["CJK Compatibility Forms"](pe)||jn["CJK Compatibility Ideographs"](pe)||jn["CJK Compatibility"](pe)||jn["CJK Radicals Supplement"](pe)||jn["CJK Strokes"](pe)||jn["CJK Symbols and Punctuation"](pe)||jn["CJK Unified Ideographs Extension A"](pe)||jn["CJK Unified Ideographs"](pe)||jn["Enclosed CJK Letters and Months"](pe)||jn["Halfwidth and Fullwidth Forms"](pe)||jn.Hiragana(pe)||jn["Ideographic Description Characters"](pe)||jn["Kangxi Radicals"](pe)||jn["Katakana Phonetic Extensions"](pe)||jn.Katakana(pe)||jn["Vertical Forms"](pe)||jn["Yi Radicals"](pe)||jn["Yi Syllables"](pe)));(Ba[Be]||nt||Se.imageName)&&R.push(Ds(we+1,de,Q,R,cd(Be,c.getCharCode(we+1),nt&&J),!1))}}var pe;return uA(Ds(c.length(),de,Q,R,0,!0))}function Pf(c){let l=.5,d=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function zA(c,l,d,v,S){if(!v&&!S)return;const k=c[d],P=(c[d].x+k.metrics.advance*k.scale)*v;for(let R=l;R<=d;R++)c[R].x-=P,c[R].y+=S}function dd(c,l,d){const{horizontalAlign:v,verticalAlign:S}=Pf(d),k=l[0]-c.displaySize[0]*v,P=l[1]-c.displaySize[1]*S;return{image:c,top:P,bottom:P+c.displaySize[1],left:k,right:k+c.displaySize[0]}}function xc(c,l,d,v,S,k){const P=c.image;let R;if(P.content){const He=P.content,xt=P.pixelRatio||1;R=[He[0]/xt,He[1]/xt,P.displaySize[0]-He[2]/xt,P.displaySize[1]-He[3]/xt]}const Q=l.left*k,J=l.right*k;let de,pe,we,Se;d==="width"||d==="both"?(Se=S[0]+Q-v[3],pe=S[0]+J+v[1]):(Se=S[0]+(Q+J-P.displaySize[0])/2,pe=Se+P.displaySize[0]);const Be=l.top*k,nt=l.bottom*k;return d==="height"||d==="both"?(de=S[1]+Be-v[0],we=S[1]+nt+v[2]):(de=S[1]+(Be+nt-P.displaySize[1])/2,we=de+P.displaySize[1]),{image:P,top:de,right:pe,bottom:we,left:Se,collisionPadding:R}}const ya=128;function Qd(c,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new wo(c+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:v,interpolationType:S}=d;let k=0;for(;k<v.length&&v[k]<=c;)k++;k=Math.max(0,k-1);let P=k;for(;P<v.length&&v[P]<c+1;)P++;P=Math.min(v.length-1,P);const R=v[k],Q=v[P];return d.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:Q,interpolationType:S}:{kind:"camera",minZoom:R,maxZoom:Q,minSize:d.evaluate(new wo(R)),maxSize:d.evaluate(new wo(Q)),interpolationType:S}}}class jA extends ft{constructor(l,d,v,S){super(l,d),this.angle=v,S!==void 0&&(this.segment=S)}clone(){return new jA(this.x,this.y,this.angle,this.segment)}}function $y(c,l,d,v,S){if(l.segment===void 0)return!0;let k=l,P=l.segment+1,R=0;for(;R>-d/2;){if(P--,P<0)return!1;R-=c[P].dist(k),k=c[P]}R+=c[P].dist(c[P+1]),P++;const Q=[];let J=0;for(;R<d/2;){const de=c[P],pe=c[P+1];if(!pe)return!1;let we=c[P-1].angleTo(de)-de.angleTo(pe);for(we=Math.abs((we+3*Math.PI)%(2*Math.PI)-Math.PI),Q.push({distance:R,angleDelta:we}),J+=we;R-Q[0].distance>v;)J-=Q.shift().angleDelta;if(J>S)return!1;P++,R+=de.dist(pe)}return!0}function nb(c){let l=0;for(let d=0;d<c.length-1;d++)l+=c[d].dist(c[d+1]);return l}function rb(c,l,d){return c?.6*l*d:0}function ib(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function w5(c,l,d,v,S,k){const P=rb(d,S,k),R=ib(d,v)*k;let Q=0;const J=nb(c)/2;for(let de=0;de<c.length-1;de++){const pe=c[de],we=c[de+1],Se=pe.dist(we);if(Q+Se>J){const Be=(J-Q)/Se,nt=po(pe.x,we.x,Be),He=po(pe.y,we.y,Be),xt=new jA(nt,He,we.angleTo(pe),de);return xt._round(),!P||$y(c,xt,R,P,l)?xt:void 0}Q+=Se}}function M5(c,l,d,v,S,k,P,R,Q){const J=rb(v,k,P),de=ib(v,S),pe=de*P,we=c[0].x===0||c[0].x===Q||c[0].y===0||c[0].y===Q;return l-pe<l/4&&(l=pe+l/4),ob(c,we?l/2*R%l:(de/2+2*k)*P*R%l,l,J,d,pe,we,!1,Q)}function ob(c,l,d,v,S,k,P,R,Q){const J=k/2,de=nb(c);let pe=0,we=l-d,Se=[];for(let Be=0;Be<c.length-1;Be++){const nt=c[Be],He=c[Be+1],xt=nt.dist(He),zt=He.angleTo(nt);for(;we+d<pe+xt;){we+=d;const vt=(we-pe)/xt,Ut=po(nt.x,He.x,vt),ln=po(nt.y,He.y,vt);if(Ut>=0&&Ut<Q&&ln>=0&&ln<Q&&we-J>=0&&we+J<=de){const sn=new jA(Ut,ln,zt,Be);sn._round(),v&&!$y(c,sn,k,v,S)||Se.push(sn)}}pe+=xt}return R||Se.length||P||(Se=ob(c,pe/2,d,v,S,k,P,!0,Q)),Se}function AA(c,l,d,v,S){const k=[];for(let P=0;P<c.length;P++){const R=c[P];let Q;for(let J=0;J<R.length-1;J++){let de=R[J],pe=R[J+1];de.x<l&&pe.x<l||(de.x<l?de=new ft(l,de.y+(l-de.x)/(pe.x-de.x)*(pe.y-de.y))._round():pe.x<l&&(pe=new ft(l,de.y+(l-de.x)/(pe.x-de.x)*(pe.y-de.y))._round()),de.y<d&&pe.y<d||(de.y<d?de=new ft(de.x+(d-de.y)/(pe.y-de.y)*(pe.x-de.x),d)._round():pe.y<d&&(pe=new ft(de.x+(d-de.y)/(pe.y-de.y)*(pe.x-de.x),d)._round()),de.x>=v&&pe.x>=v||(de.x>=v?de=new ft(v,de.y+(v-de.x)/(pe.x-de.x)*(pe.y-de.y))._round():pe.x>=v&&(pe=new ft(v,de.y+(v-de.x)/(pe.x-de.x)*(pe.y-de.y))._round()),de.y>=S&&pe.y>=S||(de.y>=S?de=new ft(de.x+(S-de.y)/(pe.y-de.y)*(pe.x-de.x),S)._round():pe.y>=S&&(pe=new ft(de.x+(S-de.y)/(pe.y-de.y)*(pe.x-de.x),S)._round()),Q&&de.equals(Q[Q.length-1])||(Q=[de],k.push(Q)),Q.push(pe)))))}}return k}function ab(c,l,d,v){const S=[],k=c.image,P=k.pixelRatio,R=k.paddedRect.w-2,Q=k.paddedRect.h-2,J=c.right-c.left,de=c.bottom-c.top,pe=k.stretchX||[[0,R]],we=k.stretchY||[[0,Q]],Se=(En,Nn)=>En+Nn[1]-Nn[0],Be=pe.reduce(Se,0),nt=we.reduce(Se,0),He=R-Be,xt=Q-nt;let zt=0,vt=Be,Ut=0,ln=nt,sn=0,tr=He,ir=0,Wn=xt;if(k.content&&v){const En=k.content;zt=T1(pe,0,En[0]),Ut=T1(we,0,En[1]),vt=T1(pe,En[0],En[2]),ln=T1(we,En[1],En[3]),sn=En[0]-zt,ir=En[1]-Ut,tr=En[2]-En[0]-vt,Wn=En[3]-En[1]-ln}const Fn=(En,Nn,Ln,yn)=>{const Ir=n0(En.stretch-zt,vt,J,c.left),xr=K1(En.fixed-sn,tr,En.stretch,Be),_i=n0(Nn.stretch-Ut,ln,de,c.top),ea=K1(Nn.fixed-ir,Wn,Nn.stretch,nt),ia=n0(Ln.stretch-zt,vt,J,c.left),Ms=K1(Ln.fixed-sn,tr,Ln.stretch,Be),dA=n0(yn.stretch-Ut,ln,de,c.top),pl=K1(yn.fixed-ir,Wn,yn.stretch,nt),us=new ft(Ir,_i),Fs=new ft(ia,_i),ml=new ft(ia,dA),oa=new ft(Ir,dA),yu=new ft(xr/P,ea/P),As=new ft(Ms/P,pl/P),ja=l*Math.PI/180;if(ja){const ta=Math.sin(ja),go=Math.cos(ja),va=[go,-ta,ta,go];us._matMult(va),Fs._matMult(va),oa._matMult(va),ml._matMult(va)}const Rr=En.stretch+En.fixed,Zl=Nn.stretch+Nn.fixed;return{tl:us,tr:Fs,bl:oa,br:ml,tex:{x:k.paddedRect.x+1+Rr,y:k.paddedRect.y+1+Zl,w:Ln.stretch+Ln.fixed-Rr,h:yn.stretch+yn.fixed-Zl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yu,pixelOffsetBR:As,minFontScaleX:tr/P/J,minFontScaleY:Wn/P/de,isSDF:d}};if(v&&(k.stretchX||k.stretchY)){const En=sb(pe,He,Be),Nn=sb(we,xt,nt);for(let Ln=0;Ln<En.length-1;Ln++){const yn=En[Ln],Ir=En[Ln+1];for(let xr=0;xr<Nn.length-1;xr++)S.push(Fn(yn,Nn[xr],Ir,Nn[xr+1]))}}else S.push(Fn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:Q+1}));return S}function T1(c,l,d){let v=0;for(const S of c)v+=Math.max(l,Math.min(d,S[1]))-Math.max(l,Math.min(d,S[0]));return v}function sb(c,l,d){const v=[{fixed:-1,stretch:0}];for(const[S,k]of c){const P=v[v.length-1];v.push({fixed:S-P.stretch,stretch:P.stretch}),v.push({fixed:S-P.stretch,stretch:P.stretch+(k-S)})}return v.push({fixed:l+1,stretch:d}),v}function n0(c,l,d,v){return c/l*d+v}function K1(c,l,d,v){return c-l*d/v}Gn("Anchor",jA);class P1{constructor(l,d,v,S,k,P,R,Q,J,de){if(this.boxStartIndex=l.length,J){let pe=P.top,we=P.bottom;const Se=P.collisionPadding;Se&&(pe-=Se[1],we+=Se[3]);let Be=we-pe;Be>0&&(Be=Math.max(10,Be),this.circleDiameter=Be)}else{let pe=P.top*R-Q[0],we=P.bottom*R+Q[2],Se=P.left*R-Q[3],Be=P.right*R+Q[1];const nt=P.collisionPadding;if(nt&&(Se-=nt[0]*R,pe-=nt[1]*R,Be+=nt[2]*R,we+=nt[3]*R),de){const He=new ft(Se,pe),xt=new ft(Be,pe),zt=new ft(Se,we),vt=new ft(Be,we),Ut=de*Math.PI/180;He._rotate(Ut),xt._rotate(Ut),zt._rotate(Ut),vt._rotate(Ut),Se=Math.min(He.x,xt.x,zt.x,vt.x),Be=Math.max(He.x,xt.x,zt.x,vt.x),pe=Math.min(He.y,xt.y,zt.y,vt.y),we=Math.max(He.y,xt.y,zt.y,vt.y)}l.emplaceBack(d.x,d.y,Se,pe,Be,we,v,S,k)}this.boxEndIndex=l.length}}class S5{constructor(l=[],d=E5){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let v=(this.length>>1)-1;v>=0;v--)this._down(v)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:v}=this,S=d[l];for(;l>0;){const k=l-1>>1,P=d[k];if(v(S,P)>=0)break;d[l]=P,l=k}d[l]=S}_down(l){const{data:d,compare:v}=this,S=this.length>>1,k=d[l];for(;l<S;){let P=1+(l<<1),R=d[P];const Q=P+1;if(Q<this.length&&v(d[Q],R)<0&&(P=Q,R=d[Q]),v(R,k)>=0)break;d[l]=R,l=P}d[l]=k}}function E5(c,l){return c<l?-1:c>l?1:0}function Yy(c,l=1,d=!1){let v=1/0,S=1/0,k=-1/0,P=-1/0;const R=c[0];for(let Se=0;Se<R.length;Se++){const Be=R[Se];(!Se||Be.x<v)&&(v=Be.x),(!Se||Be.y<S)&&(S=Be.y),(!Se||Be.x>k)&&(k=Be.x),(!Se||Be.y>P)&&(P=Be.y)}const Q=Math.min(k-v,P-S);let J=Q/2;const de=new S5([],O5);if(Q===0)return new ft(v,S);for(let Se=v;Se<k;Se+=Q)for(let Be=S;Be<P;Be+=Q)de.push(new Lp(Se+J,Be+J,J,c));let pe=function(Se){let Be=0,nt=0,He=0;const xt=Se[0];for(let zt=0,vt=xt.length,Ut=vt-1;zt<vt;Ut=zt++){const ln=xt[zt],sn=xt[Ut],tr=ln.x*sn.y-sn.x*ln.y;nt+=(ln.x+sn.x)*tr,He+=(ln.y+sn.y)*tr,Be+=3*tr}return new Lp(nt/Be,He/Be,0,Se)}(c),we=de.length;for(;de.length;){const Se=de.pop();(Se.d>pe.d||!pe.d)&&(pe=Se,d&&console.log("found best %d after %d probes",Math.round(1e4*Se.d)/1e4,we)),Se.max-pe.d<=l||(J=Se.h/2,de.push(new Lp(Se.p.x-J,Se.p.y-J,J,c)),de.push(new Lp(Se.p.x+J,Se.p.y-J,J,c)),de.push(new Lp(Se.p.x-J,Se.p.y+J,J,c)),de.push(new Lp(Se.p.x+J,Se.p.y+J,J,c)),we+=4)}return d&&(console.log(`num probes: ${we}`),console.log(`best distance: ${pe.d}`)),pe.p}function O5(c,l){return l.max-c.max}function Lp(c,l,d,v){this.p=new ft(c,l),this.h=d,this.d=function(S,k){let P=!1,R=1/0;for(let Q=0;Q<k.length;Q++){const J=k[Q];for(let de=0,pe=J.length,we=pe-1;de<pe;we=de++){const Se=J[de],Be=J[we];Se.y>S.y!=Be.y>S.y&&S.x<(Be.x-Se.x)*(S.y-Se.y)/(Be.y-Se.y)+Se.x&&(P=!P),R=Math.min(R,nd(S,Se,Be))}}return(P?1:-1)*Math.sqrt(R)}(this.p,v),this.max=this.d+this.h*Math.SQRT2}const qy=Number.POSITIVE_INFINITY;function lb(c,l){return l[1]!==qy?function(d,v,S){let k=0,P=0;switch(v=Math.abs(v),S=Math.abs(S),d){case"top-right":case"top-left":case"top":P=S-7;break;case"bottom-right":case"bottom-left":case"bottom":P=7-S}switch(d){case"top-right":case"bottom-right":case"right":k=-v;break;case"top-left":case"bottom-left":case"left":k=v}return[k,P]}(c,l[0],l[1]):function(d,v){let S=0,k=0;v<0&&(v=0);const P=v/Math.sqrt(2);switch(d){case"top-right":case"top-left":k=P-7;break;case"bottom-right":case"bottom-left":k=7-P;break;case"bottom":k=7-v;break;case"top":k=v-7}switch(d){case"top-right":case"bottom-right":S=-P;break;case"top-left":case"bottom-left":S=P;break;case"left":S=v;break;case"right":S=-v}return[S,k]}(c,l[0])}function Vy(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function B5(c,l,d,v,S,k,P,R,Q,J,de){let pe=k.textMaxSize.evaluate(l,{});pe===void 0&&(pe=P);const we=c.layers[0].layout,Se=we.get("icon-offset").evaluate(l,{},de),Be=Ab(d.horizontal),nt=P/24,He=c.tilePixelRatio*nt,xt=c.tilePixelRatio*pe/24,zt=c.tilePixelRatio*R,vt=c.tilePixelRatio*we.get("symbol-spacing"),Ut=we.get("text-padding")*c.tilePixelRatio,ln=function(yn,Ir,xr,_i=1){const ea=yn.get("icon-padding").evaluate(Ir,{},xr),ia=ea&&ea.values;return[ia[0]*_i,ia[1]*_i,ia[2]*_i,ia[3]*_i]}(we,l,de,c.tilePixelRatio),sn=we.get("text-max-angle")/180*Math.PI,tr=we.get("text-rotation-alignment")!=="viewport"&&we.get("symbol-placement")!=="point",ir=we.get("icon-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point",Wn=we.get("symbol-placement"),Fn=vt/2,En=we.get("icon-text-fit");let Nn;v&&En!=="none"&&(c.allowVerticalPlacement&&d.vertical&&(Nn=xc(v,d.vertical,En,we.get("icon-text-fit-padding"),Se,nt)),Be&&(v=xc(v,Be,En,we.get("icon-text-fit-padding"),Se,nt)));const Ln=(yn,Ir)=>{Ir.x<0||Ir.x>=pa||Ir.y<0||Ir.y>=pa||function(xr,_i,ea,ia,Ms,dA,pl,us,Fs,ml,oa,yu,As,ja,Rr,Zl,ta,go,va,aa,zi,Nu,gl,kl,WA){const hA=xr.addToLineVertexArray(_i,ea);let wc,Tl,fA,Xl,co=0,Go=0,zp=0,Mb=0,iv=-1,ov=-1;const $d={};let Sb=Ha.exports(""),av=0,z1=0;if(us._unevaluatedLayout.getValue("text-radial-offset")===void 0?[av,z1]=us.layout.get("text-offset").evaluate(zi,{},kl).map(Jl=>Jl*Fa):(av=us.layout.get("text-radial-offset").evaluate(zi,{},kl)*Fa,z1=qy),xr.allowVerticalPlacement&&ia.vertical){const Jl=us.layout.get("text-rotate").evaluate(zi,{},kl)+90;fA=new P1(Fs,_i,ml,oa,yu,ia.vertical,As,ja,Rr,Jl),pl&&(Xl=new P1(Fs,_i,ml,oa,yu,pl,ta,go,Rr,Jl))}if(Ms){const Jl=us.layout.get("icon-rotate").evaluate(zi,{}),yl=us.layout.get("icon-text-fit")!=="none",bi=ab(Ms,Jl,gl,yl),Np=pl?ab(pl,Jl,gl,yl):void 0;Tl=new P1(Fs,_i,ml,oa,yu,Ms,ta,go,!1,Jl),co=4*bi.length;const mA=xr.iconSizeData;let Bh=null;mA.kind==="source"?(Bh=[ya*us.layout.get("icon-size").evaluate(zi,{})],Bh[0]>Eh&&se(`${xr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):mA.kind==="composite"&&(Bh=[ya*Nu.compositeIconSizes[0].evaluate(zi,{},kl),ya*Nu.compositeIconSizes[1].evaluate(zi,{},kl)],(Bh[0]>Eh||Bh[1]>Eh)&&se(`${xr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),xr.addSymbols(xr.icon,bi,Bh,aa,va,zi,a.WritingMode.none,_i,hA.lineStartIndex,hA.lineLength,-1,kl),iv=xr.icon.placedSymbolArray.length-1,Np&&(Go=4*Np.length,xr.addSymbols(xr.icon,Np,Bh,aa,va,zi,a.WritingMode.vertical,_i,hA.lineStartIndex,hA.lineLength,-1,kl),ov=xr.icon.placedSymbolArray.length-1)}const jp=Object.keys(ia.horizontal);for(const Jl of jp){const yl=ia.horizontal[Jl];if(!wc){Sb=Ha.exports(yl.text);const Np=us.layout.get("text-rotate").evaluate(zi,{},kl);wc=new P1(Fs,_i,ml,oa,yu,yl,As,ja,Rr,Np)}const bi=yl.positionedLines.length===1;if(zp+=ub(xr,_i,yl,dA,us,Rr,zi,Zl,hA,ia.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,bi?jp:[Jl],$d,iv,Nu,kl),bi)break}ia.vertical&&(Mb+=ub(xr,_i,ia.vertical,dA,us,Rr,zi,Zl,hA,a.WritingMode.vertical,["vertical"],$d,ov,Nu,kl));const sv=wc?wc.boxStartIndex:xr.collisionBoxArray.length,j5=wc?wc.boxEndIndex:xr.collisionBoxArray.length,Eb=fA?fA.boxStartIndex:xr.collisionBoxArray.length,j1=fA?fA.boxEndIndex:xr.collisionBoxArray.length,pA=Tl?Tl.boxStartIndex:xr.collisionBoxArray.length,Wp=Tl?Tl.boxEndIndex:xr.collisionBoxArray.length,W5=Xl?Xl.boxStartIndex:xr.collisionBoxArray.length,N5=Xl?Xl.boxEndIndex:xr.collisionBoxArray.length;let Mc=-1;const W1=(Jl,yl)=>Jl&&Jl.circleDiameter?Math.max(Jl.circleDiameter,yl):yl;Mc=W1(wc,Mc),Mc=W1(fA,Mc),Mc=W1(Tl,Mc),Mc=W1(Xl,Mc);const Ob=Mc>-1?1:0;Ob&&(Mc*=WA/Fa),xr.glyphOffsetArray.length>=Rp.MAX_GLYPHS&&se("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),zi.sortKey!==void 0&&xr.addToSortKeyRanges(xr.symbolInstances.length,zi.sortKey),xr.symbolInstances.emplaceBack(_i.x,_i.y,$d.right>=0?$d.right:-1,$d.center>=0?$d.center:-1,$d.left>=0?$d.left:-1,$d.vertical||-1,iv,ov,Sb,sv,j5,Eb,j1,pA,Wp,W5,N5,ml,zp,Mb,co,Go,Ob,0,As,av,z1,Mc)}(c,Ir,yn,d,v,S,Nn,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,He,[Ut,Ut,Ut,Ut],tr,Q,zt,ln,ir,Se,l,k,J,de,P)};if(Wn==="line")for(const yn of AA(l.geometry,0,0,pa,pa)){const Ir=M5(yn,vt,sn,d.vertical||Be,v,24,xt,c.overscaling,pa);for(const xr of Ir){const _i=Be;_i&&I5(c,_i.text,Fn,xr)||Ln(yn,xr)}}else if(Wn==="line-center"){for(const yn of l.geometry)if(yn.length>1){const Ir=w5(yn,sn,d.vertical||Be,v,24,xt);Ir&&Ln(yn,Ir)}}else if(l.type==="Polygon")for(const yn of Jm(l.geometry,0)){const Ir=Yy(yn,16);Ln(yn[0],new jA(Ir.x,Ir.y,0))}else if(l.type==="LineString")for(const yn of l.geometry)Ln(yn,new jA(yn[0].x,yn[0].y,0));else if(l.type==="Point")for(const yn of l.geometry)for(const Ir of yn)Ln([Ir],new jA(Ir.x,Ir.y,0))}const Eh=32640;function ub(c,l,d,v,S,k,P,R,Q,J,de,pe,we,Se,Be){const nt=function(zt,vt,Ut,ln,sn,tr,ir,Wn){const Fn=ln.layout.get("text-rotate").evaluate(tr,{})*Math.PI/180,En=[];for(const Nn of vt.positionedLines)for(const Ln of Nn.positionedGlyphs){if(!Ln.rect)continue;const yn=Ln.rect||{};let Ir=4,xr=!0,_i=1,ea=0;const ia=(sn||Wn)&&Ln.vertical,Ms=Ln.metrics.advance*Ln.scale/2;if(Wn&&vt.verticalizable){const va=(Ln.scale-1)*Fa,aa=(Fa-Ln.metrics.width*Ln.scale)/2;ea=Nn.lineOffset/2-(Ln.imageName?-aa:va)}if(Ln.imageName){const va=ir[Ln.imageName];xr=va.sdf,_i=va.pixelRatio,Ir=1/_i}const dA=sn?[Ln.x+Ms,Ln.y]:[0,0];let pl=sn?[0,0]:[Ln.x+Ms+Ut[0],Ln.y+Ut[1]-ea],us=[0,0];ia&&(us=pl,pl=[0,0]);const Fs=(Ln.metrics.left-Ir)*Ln.scale-Ms+pl[0],ml=(-Ln.metrics.top-Ir)*Ln.scale+pl[1],oa=Fs+yn.w*Ln.scale/_i,yu=ml+yn.h*Ln.scale/_i,As=new ft(Fs,ml),ja=new ft(oa,ml),Rr=new ft(Fs,yu),Zl=new ft(oa,yu);if(ia){const va=new ft(-Ms,Ms-ma),aa=-Math.PI/2,zi=12-Ms,Nu=new ft(22-zi,-(Ln.imageName?zi:0)),gl=new ft(...us);As._rotateAround(aa,va)._add(Nu)._add(gl),ja._rotateAround(aa,va)._add(Nu)._add(gl),Rr._rotateAround(aa,va)._add(Nu)._add(gl),Zl._rotateAround(aa,va)._add(Nu)._add(gl)}if(Fn){const va=Math.sin(Fn),aa=Math.cos(Fn),zi=[aa,-va,va,aa];As._matMult(zi),ja._matMult(zi),Rr._matMult(zi),Zl._matMult(zi)}const ta=new ft(0,0),go=new ft(0,0);En.push({tl:As,tr:ja,bl:Rr,br:Zl,tex:yn,writingMode:vt.writingMode,glyphOffset:dA,sectionIndex:Ln.sectionIndex,isSDF:xr,pixelOffsetTL:ta,pixelOffsetBR:go,minFontScaleX:0,minFontScaleY:0})}return En}(0,d,R,S,k,P,v,c.allowVerticalPlacement),He=c.textSizeData;let xt=null;He.kind==="source"?(xt=[ya*S.layout.get("text-size").evaluate(P,{})],xt[0]>Eh&&se(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):He.kind==="composite"&&(xt=[ya*Se.compositeTextSizes[0].evaluate(P,{},Be),ya*Se.compositeTextSizes[1].evaluate(P,{},Be)],(xt[0]>Eh||xt[1]>Eh)&&se(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),c.addSymbols(c.text,nt,xt,R,k,P,J,l,Q.lineStartIndex,Q.lineLength,we,Be);for(const zt of de)pe[zt]=c.text.placedSymbolArray.length-1;return 4*nt.length}function Ab(c){for(const l in c)return c[l];return null}function I5(c,l,d,v){const S=c.compareText;if(l in S){const k=S[l];for(let P=k.length-1;P>=0;P--)if(v.dist(k[P])<d)return!0}else S[l]=[];return S[l].push(v),!1}const k5=LA.VectorTileFeature.types,T5=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function U1(c,l,d,v,S,k,P,R,Q,J,de,pe,we){const Se=R?Math.min(Eh,Math.round(R[0])):0,Be=R?Math.min(Eh,Math.round(R[1])):0;c.emplaceBack(l,d,Math.round(32*v),Math.round(32*S),k,P,(Se<<1)+(Q?1:0),Be,16*J,16*de,256*pe,256*we)}function Hy(c,l,d){c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d)}function K5(c){for(const l of c.sections)if(Ud(l.text))return!0;return!1}class Zy{constructor(l){this.layoutVertexArray=new vs,this.indexArray=new hl,this.programConfigurations=l,this.segments=new li,this.dynamicLayoutVertexArray=new ss,this.opacityVertexArray=new hu,this.placedSymbolArray=new fn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,v,S){this.isEmpty()||(v&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,I1.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,ws.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,T5,!0),this.opacityVertexBuffer.itemSize=1),(v||S)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Gn("SymbolBuffers",Zy);class Xy{constructor(l,d,v){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new v,this.segments=new li,this.collisionVertexArray=new dl}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,Gy.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Gn("CollisionBuffers",Xy);class Rp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(P=>P.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=id([]),this.placementViewportMatrix=id([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Qd(this.zoom,d["text-size"]),this.iconSizeData=Qd(this.zoom,d["icon-size"]);const v=this.layers[0].layout,S=v.get("symbol-sort-key"),k=v.get("symbol-z-order");this.canOverlap=ev(v,"text-overlap","text-allow-overlap")!=="never"||ev(v,"icon-overlap","icon-allow-overlap")!=="never"||v.get("text-ignore-placement")||v.get("icon-ignore-placement"),this.sortFeaturesByKey=k!=="viewport-y"&&!S.isConstant(),this.sortFeaturesByY=(k==="viewport-y"||k==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,v.get("symbol-placement")==="point"&&(this.writingModes=v.get("text-writing-mode").map(P=>a.WritingMode[P])),this.stateDependentLayerIds=this.layers.filter(P=>P.isStateDependent()).map(P=>P.id),this.sourceID=l.sourceID}createArrays(){this.text=new Zy(new Vl(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new Zy(new Vl(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new kn,this.lineVertexArray=new Qn,this.symbolInstances=new Mn}calculateGlyphDependencies(l,d,v,S,k){for(let P=0;P<l.length;P++)if(d[l.charCodeAt(P)]=!0,(v||S)&&k){const R=Sh[l.charAt(P)];R&&(d[R.charCodeAt(0)]=!0)}}populate(l,d,v){const S=this.layers[0],k=S.layout,P=k.get("text-font"),R=k.get("text-field"),Q=k.get("icon-image"),J=(R.value.kind!=="constant"||R.value.value instanceof Xe&&!R.value.value.isEmpty()||R.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),de=Q.value.kind!=="constant"||!!Q.value.value||Object.keys(Q.parameters).length>0,pe=k.get("symbol-sort-key");if(this.features=[],!J&&!de)return;const we=d.iconDependencies,Se=d.glyphDependencies,Be=d.availableImages,nt=new wo(this.zoom);for(const{feature:He,id:xt,index:zt,sourceLayerIndex:vt}of l){const Ut=S._featureFilter.needGeometry,ln=Ru(He,Ut);if(!S._featureFilter.filter(nt,ln,v))continue;let sn,tr;if(Ut||(ln.geometry=Lu(He)),J){const Wn=S.getValueAndResolveTokens("text-field",ln,v,Be),Fn=Xe.factory(Wn);K5(Fn)&&(this.hasRTLText=!0),(!this.hasRTLText||pc()==="unavailable"||this.hasRTLText&&Zs.isParsed())&&(sn=Qy(Fn,S,ln))}if(de){const Wn=S.getValueAndResolveTokens("icon-image",ln,v,Be);tr=Wn instanceof ut?Wn:ut.fromString(Wn)}if(!sn&&!tr)continue;const ir=this.sortFeaturesByKey?pe.evaluate(ln,{},v):void 0;if(this.features.push({id:xt,text:sn,icon:tr,index:zt,sourceLayerIndex:vt,geometry:ln.geometry,properties:He.properties,type:k5[He.type],sortKey:ir}),tr&&(we[tr.name]=!0),sn){const Wn=P.evaluate(ln,{},v).join(","),Fn=k.get("text-rotation-alignment")!=="viewport"&&k.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const En of sn.sections)if(En.image)we[En.image.name]=!0;else{const Nn=fc(sn.toString()),Ln=En.fontStack||Wn,yn=Se[Ln]=Se[Ln]||{};this.calculateGlyphDependencies(En.text,yn,Fn,this.allowVerticalPlacement,Nn)}}}k.get("symbol-placement")==="line"&&(this.features=function(He){const xt={},zt={},vt=[];let Ut=0;function ln(Wn){vt.push(He[Wn]),Ut++}function sn(Wn,Fn,En){const Nn=zt[Wn];return delete zt[Wn],zt[Fn]=Nn,vt[Nn].geometry[0].pop(),vt[Nn].geometry[0]=vt[Nn].geometry[0].concat(En[0]),Nn}function tr(Wn,Fn,En){const Nn=xt[Fn];return delete xt[Fn],xt[Wn]=Nn,vt[Nn].geometry[0].shift(),vt[Nn].geometry[0]=En[0].concat(vt[Nn].geometry[0]),Nn}function ir(Wn,Fn,En){const Nn=En?Fn[0][Fn[0].length-1]:Fn[0][0];return`${Wn}:${Nn.x}:${Nn.y}`}for(let Wn=0;Wn<He.length;Wn++){const Fn=He[Wn],En=Fn.geometry,Nn=Fn.text?Fn.text.toString():null;if(!Nn){ln(Wn);continue}const Ln=ir(Nn,En),yn=ir(Nn,En,!0);if(Ln in zt&&yn in xt&&zt[Ln]!==xt[yn]){const Ir=tr(Ln,yn,En),xr=sn(Ln,yn,vt[Ir].geometry);delete xt[Ln],delete zt[yn],zt[ir(Nn,vt[xr].geometry,!0)]=xr,vt[Ir].geometry=null}else Ln in zt?sn(Ln,yn,En):yn in xt?tr(Ln,yn,En):(ln(Wn),xt[Ln]=Ut-1,zt[yn]=Ut-1)}return vt.filter(Wn=>Wn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((He,xt)=>He.sortKey-xt.sortKey)}update(l,d,v){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,v),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,v))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const v=this.lineVertexArray.length;if(l.segment!==void 0){let S=l.dist(d[l.segment+1]),k=l.dist(d[l.segment]);const P={};for(let R=l.segment+1;R<d.length;R++)P[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:S},R<d.length-1&&(S+=d[R+1].dist(d[R]));for(let R=l.segment||0;R>=0;R--)P[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:k},R>0&&(k+=d[R-1].dist(d[R]));for(let R=0;R<d.length;R++){const Q=P[R];this.lineVertexArray.emplaceBack(Q.x,Q.y,Q.tileUnitDistanceFromAnchor)}}return{lineStartIndex:v,lineLength:this.lineVertexArray.length-v}}addSymbols(l,d,v,S,k,P,R,Q,J,de,pe,we){const Se=l.indexArray,Be=l.layoutVertexArray,nt=l.segments.prepareSegment(4*d.length,Be,Se,this.canOverlap?P.sortKey:void 0),He=this.glyphOffsetArray.length,xt=nt.vertexLength,zt=this.allowVerticalPlacement&&R===a.WritingMode.vertical?Math.PI/2:0,vt=P.text&&P.text.sections;for(let Ut=0;Ut<d.length;Ut++){const{tl:ln,tr:sn,bl:tr,br:ir,tex:Wn,pixelOffsetTL:Fn,pixelOffsetBR:En,minFontScaleX:Nn,minFontScaleY:Ln,glyphOffset:yn,isSDF:Ir,sectionIndex:xr}=d[Ut],_i=nt.vertexLength,ea=yn[1];U1(Be,Q.x,Q.y,ln.x,ea+ln.y,Wn.x,Wn.y,v,Ir,Fn.x,Fn.y,Nn,Ln),U1(Be,Q.x,Q.y,sn.x,ea+sn.y,Wn.x+Wn.w,Wn.y,v,Ir,En.x,Fn.y,Nn,Ln),U1(Be,Q.x,Q.y,tr.x,ea+tr.y,Wn.x,Wn.y+Wn.h,v,Ir,Fn.x,En.y,Nn,Ln),U1(Be,Q.x,Q.y,ir.x,ea+ir.y,Wn.x+Wn.w,Wn.y+Wn.h,v,Ir,En.x,En.y,Nn,Ln),Hy(l.dynamicLayoutVertexArray,Q,zt),Se.emplaceBack(_i,_i+1,_i+2),Se.emplaceBack(_i+1,_i+2,_i+3),nt.vertexLength+=4,nt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(yn[0]),Ut!==d.length-1&&xr===d[Ut+1].sectionIndex||l.programConfigurations.populatePaintArrays(Be.length,P,P.index,{},we,vt&&vt[xr])}l.placedSymbolArray.emplaceBack(Q.x,Q.y,He,this.glyphOffsetArray.length-He,xt,J,de,Q.segment,v?v[0]:0,v?v[1]:0,S[0],S[1],R,0,!1,0,pe)}_addCollisionDebugVertex(l,d,v,S,k,P){return d.emplaceBack(0,0),l.emplaceBack(v.x,v.y,S,k,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(l,d,v,S,k,P,R){const Q=k.segments.prepareSegment(4,k.layoutVertexArray,k.indexArray),J=Q.vertexLength,de=k.layoutVertexArray,pe=k.collisionVertexArray,we=R.anchorX,Se=R.anchorY;this._addCollisionDebugVertex(de,pe,P,we,Se,new ft(l,d)),this._addCollisionDebugVertex(de,pe,P,we,Se,new ft(v,d)),this._addCollisionDebugVertex(de,pe,P,we,Se,new ft(v,S)),this._addCollisionDebugVertex(de,pe,P,we,Se,new ft(l,S)),Q.vertexLength+=4;const Be=k.indexArray;Be.emplaceBack(J,J+1),Be.emplaceBack(J+1,J+2),Be.emplaceBack(J+2,J+3),Be.emplaceBack(J+3,J),Q.primitiveLength+=4}addDebugCollisionBoxes(l,d,v,S){for(let k=l;k<d;k++){const P=this.collisionBoxArray.get(k);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,S?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,v)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Xy(fu,Sa.members,pu),this.iconCollisionBox=new Xy(fu,Sa.members,pu);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,v,S,k,P,R,Q,J){const de={};for(let pe=d;pe<v;pe++){const we=l.get(pe);de.textBox={x1:we.x1,y1:we.y1,x2:we.x2,y2:we.y2,anchorPointX:we.anchorPointX,anchorPointY:we.anchorPointY},de.textFeatureIndex=we.featureIndex;break}for(let pe=S;pe<k;pe++){const we=l.get(pe);de.verticalTextBox={x1:we.x1,y1:we.y1,x2:we.x2,y2:we.y2,anchorPointX:we.anchorPointX,anchorPointY:we.anchorPointY},de.verticalTextFeatureIndex=we.featureIndex;break}for(let pe=P;pe<R;pe++){const we=l.get(pe);de.iconBox={x1:we.x1,y1:we.y1,x2:we.x2,y2:we.y2,anchorPointX:we.anchorPointX,anchorPointY:we.anchorPointY},de.iconFeatureIndex=we.featureIndex;break}for(let pe=Q;pe<J;pe++){const we=l.get(pe);de.verticalIconBox={x1:we.x1,y1:we.y1,x2:we.x2,y2:we.y2,anchorPointX:we.anchorPointX,anchorPointY:we.anchorPointY},de.verticalIconFeatureIndex=we.featureIndex;break}return de}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const v=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,v.textBoxStartIndex,v.textBoxEndIndex,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v.iconBoxStartIndex,v.iconBoxEndIndex,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const v=l.placedSymbolArray.get(d),S=v.vertexStartIndex+4*v.numGlyphs;for(let k=v.vertexStartIndex;k<S;k+=4)l.indexArray.emplaceBack(k,k+1,k+2),l.indexArray.emplaceBack(k+1,k+2,k+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),v=Math.cos(l),S=[],k=[],P=[];for(let R=0;R<this.symbolInstances.length;++R){P.push(R);const Q=this.symbolInstances.get(R);S.push(0|Math.round(d*Q.anchorX+v*Q.anchorY)),k.push(Q.featureIndex)}return P.sort((R,Q)=>S[R]-S[Q]||k[Q]-k[R]),P}addToSortKeyRanges(l,d){const v=this.sortKeyRanges[this.sortKeyRanges.length-1];v&&v.sortKey===d?v.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const v=this.symbolInstances.get(d);this.featureSortOrder.push(v.featureIndex),[v.rightJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.leftJustifiedTextSymbolIndex].forEach((S,k,P)=>{S>=0&&P.indexOf(S)===k&&this.addIndicesForPlacedSymbol(this.text,S)}),v.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,v.verticalPlacedTextSymbolIndex),v.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,v.placedIconSymbolIndex),v.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,v.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Gn("SymbolBucket",Rp,{omit:["layers","collisionBoxArray","features","compareText"]}),Rp.MAX_GLYPHS=65535,Rp.addDynamicAttributes=Hy;const P5=new Do({"symbol-placement":new mr(z.layout_symbol["symbol-placement"]),"symbol-spacing":new mr(z.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mr(z.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Br(z.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mr(z.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mr(z.layout_symbol["icon-allow-overlap"]),"icon-overlap":new mr(z.layout_symbol["icon-overlap"]),"icon-ignore-placement":new mr(z.layout_symbol["icon-ignore-placement"]),"icon-optional":new mr(z.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mr(z.layout_symbol["icon-rotation-alignment"]),"icon-size":new Br(z.layout_symbol["icon-size"]),"icon-text-fit":new mr(z.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mr(z.layout_symbol["icon-text-fit-padding"]),"icon-image":new Br(z.layout_symbol["icon-image"]),"icon-rotate":new Br(z.layout_symbol["icon-rotate"]),"icon-padding":new Br(z.layout_symbol["icon-padding"]),"icon-keep-upright":new mr(z.layout_symbol["icon-keep-upright"]),"icon-offset":new Br(z.layout_symbol["icon-offset"]),"icon-anchor":new Br(z.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mr(z.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mr(z.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mr(z.layout_symbol["text-rotation-alignment"]),"text-field":new Br(z.layout_symbol["text-field"]),"text-font":new Br(z.layout_symbol["text-font"]),"text-size":new Br(z.layout_symbol["text-size"]),"text-max-width":new Br(z.layout_symbol["text-max-width"]),"text-line-height":new mr(z.layout_symbol["text-line-height"]),"text-letter-spacing":new Br(z.layout_symbol["text-letter-spacing"]),"text-justify":new Br(z.layout_symbol["text-justify"]),"text-radial-offset":new Br(z.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mr(z.layout_symbol["text-variable-anchor"]),"text-anchor":new Br(z.layout_symbol["text-anchor"]),"text-max-angle":new mr(z.layout_symbol["text-max-angle"]),"text-writing-mode":new mr(z.layout_symbol["text-writing-mode"]),"text-rotate":new Br(z.layout_symbol["text-rotate"]),"text-padding":new mr(z.layout_symbol["text-padding"]),"text-keep-upright":new mr(z.layout_symbol["text-keep-upright"]),"text-transform":new Br(z.layout_symbol["text-transform"]),"text-offset":new Br(z.layout_symbol["text-offset"]),"text-allow-overlap":new mr(z.layout_symbol["text-allow-overlap"]),"text-overlap":new mr(z.layout_symbol["text-overlap"]),"text-ignore-placement":new mr(z.layout_symbol["text-ignore-placement"]),"text-optional":new mr(z.layout_symbol["text-optional"])});var Jy={paint:new Do({"icon-opacity":new Br(z.paint_symbol["icon-opacity"]),"icon-color":new Br(z.paint_symbol["icon-color"]),"icon-halo-color":new Br(z.paint_symbol["icon-halo-color"]),"icon-halo-width":new Br(z.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Br(z.paint_symbol["icon-halo-blur"]),"icon-translate":new mr(z.paint_symbol["icon-translate"]),"icon-translate-anchor":new mr(z.paint_symbol["icon-translate-anchor"]),"text-opacity":new Br(z.paint_symbol["text-opacity"]),"text-color":new Br(z.paint_symbol["text-color"],{runtimeType:yr,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Br(z.paint_symbol["text-halo-color"]),"text-halo-width":new Br(z.paint_symbol["text-halo-width"]),"text-halo-blur":new Br(z.paint_symbol["text-halo-blur"]),"text-translate":new mr(z.paint_symbol["text-translate"]),"text-translate-anchor":new mr(z.paint_symbol["text-translate-anchor"])}),layout:P5};class D1{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Qr,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Gn("FormatSectionOverride",D1,{omit:["defaultValue"]});class r0 extends wa{constructor(l){super(l,Jy)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const v=this.layout.get("text-writing-mode");if(v){const S=[];for(const k of v)S.indexOf(k)<0&&S.push(k);this.layout._values["text-writing-mode"]=S}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,v,S){const k=this.layout.get(l).evaluate(d,{},v,S),P=this._unevaluatedLayout._values[l];return P.isDataDriven()||jc(P.value)||!k?k:function(R,Q){return Q.replace(/{([^{}]+)}/g,(J,de)=>de in R?String(R[de]):"")}(d.properties,k)}createBucket(l){return new Rp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of Jy.paint.overridableProperties){if(!r0.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),v=new D1(d),S=new sc(v,d.property.specification);let k=null;k=d.value.kind==="constant"||d.value.kind==="source"?new BA("source",S):new kd("composite",S,d.value.zoomStops),this.paint._values[l]=new uo(d.property,k,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,v){return!(!this.layout||d.isDataDriven()||v.isDataDriven())&&r0.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const v=l.get("text-field"),S=Jy.paint.properties[d];let k=!1;const P=R=>{for(const Q of R)if(S.overrides&&S.overrides.hasOverride(Q))return void(k=!0)};if(v.value.kind==="constant"&&v.value.value instanceof Xe)P(v.value.value.sections);else if(v.value.kind==="source"){const R=J=>{k||(J instanceof Kn&&Dt(J.value)===Zr?P(J.value.sections):J instanceof lh?P(J.sections):J.eachChild(R))},Q=v.value;Q._styleExpression&&R(Q._styleExpression.expression)}return k}}function ev(c,l,d){let v="never";const S=c.get(l);return S?v=S:c.get(d)&&(v="always"),v}var U5={paint:new Do({"background-color":new mr(z.paint_background["background-color"]),"background-pattern":new gc(z.paint_background["background-pattern"]),"background-opacity":new mr(z.paint_background["background-opacity"])})},D5={paint:new Do({"raster-opacity":new mr(z.paint_raster["raster-opacity"]),"raster-hue-rotate":new mr(z.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mr(z.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mr(z.paint_raster["raster-brightness-max"]),"raster-saturation":new mr(z.paint_raster["raster-saturation"]),"raster-contrast":new mr(z.paint_raster["raster-contrast"]),"raster-resampling":new mr(z.paint_raster["raster-resampling"]),"raster-fade-duration":new mr(z.paint_raster["raster-fade-duration"])})};class F5 extends wa{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const L5={circle:class extends wa{constructor(c){super(c,$m)}createBucket(c){return new ed(c)}queryRadius(c){const l=c;return KA("circle-radius",this,l)+KA("circle-stroke-width",this,l)+PA(this.paint.get("circle-translate"))}queryIntersectsFeature(c,l,d,v,S,k,P,R){const Q=rd(c,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),k.angle,P),J=this.paint.get("circle-radius").evaluate(l,d)+this.paint.get("circle-stroke-width").evaluate(l,d),de=this.paint.get("circle-pitch-alignment")==="map",pe=de?Q:function(Se,Be){return Se.map(nt=>vf(nt,Be))}(Q,R),we=de?J*P:J;for(const Se of v)for(const Be of Se){const nt=de?Be:vf(Be,R);let He=we;const xt=vh([],[Be.x,Be.y,0,1],R);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?He*=xt[3]/k.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(He*=k.cameraToCenterDistance/xt[3]),gh(pe,nt,He))return!0}return!1}},heatmap:class extends wa{constructor(c){super(c,qm),this._updateColorRamp()}createBucket(c){return new x1(c)}_handleSpecialPaintPropertyUpdate(c){c==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=w1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends wa{constructor(c){super(c,jy)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends wa{constructor(c){super(c,E1)}recalculate(c,l){super.recalculate(c,l);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(c){return new Bp(c)}queryRadius(){return PA(this.paint.get("fill-translate"))}queryIntersectsFeature(c,l,d,v,S,k,P){return Gm(rd(c,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),k.angle,P),v)}isTileClipped(){return!0}},"fill-extrusion":class extends wa{constructor(c){super(c,Wu)}createBucket(c){return new Kp(c)}queryRadius(){return PA(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(c,l,d,v,S,k,P,R){const Q=rd(c,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),k.angle,P),J=this.paint.get("fill-extrusion-height").evaluate(l,d),de=this.paint.get("fill-extrusion-base").evaluate(l,d),pe=function(Se,Be,nt,He){const xt=[];for(const zt of Se){const vt=[zt.x,zt.y,0,1];vh(vt,vt,Be),xt.push(new ft(vt[0]/vt[3],vt[1]/vt[3]))}return xt}(Q,R),we=function(Se,Be,nt,He){const xt=[],zt=[],vt=He[8]*Be,Ut=He[9]*Be,ln=He[10]*Be,sn=He[11]*Be,tr=He[8]*nt,ir=He[9]*nt,Wn=He[10]*nt,Fn=He[11]*nt;for(const En of Se){const Nn=[],Ln=[];for(const yn of En){const Ir=yn.x,xr=yn.y,_i=He[0]*Ir+He[4]*xr+He[12],ea=He[1]*Ir+He[5]*xr+He[13],ia=He[2]*Ir+He[6]*xr+He[14],Ms=He[3]*Ir+He[7]*xr+He[15],dA=ia+ln,pl=Ms+sn,us=_i+tr,Fs=ea+ir,ml=ia+Wn,oa=Ms+Fn,yu=new ft((_i+vt)/pl,(ea+Ut)/pl);yu.z=dA/pl,Nn.push(yu);const As=new ft(us/oa,Fs/oa);As.z=ml/oa,Ln.push(As)}xt.push(Nn),zt.push(Ln)}return[xt,zt]}(v,de,J,R);return function(Se,Be,nt){let He=1/0;Gm(nt,Be)&&(He=Up(nt,Be[0]));for(let xt=0;xt<Be.length;xt++){const zt=Be[xt],vt=Se[xt];for(let Ut=0;Ut<zt.length-1;Ut++){const ln=zt[Ut],sn=[ln,zt[Ut+1],vt[Ut+1],vt[Ut],ln];_p(nt,sn)&&(He=Math.min(He,Up(nt,sn)))}}return He!==1/0&&He}(we[0],we[1],pe)}},line:class extends wa{constructor(c){super(c,_c),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(c){c==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof uu,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(c,l){super.recalculate(c,l),this.paint._values["line-floorwidth"]=B1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,c)}createBucket(c){return new Nd(c)}queryRadius(c){const l=c,d=bc(KA("line-width",this,l),KA("line-gap-width",this,l)),v=KA("line-offset",this,l);return d/2+Math.abs(v)+PA(this.paint.get("line-translate"))}queryIntersectsFeature(c,l,d,v,S,k,P){const R=rd(c,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),k.angle,P),Q=P/2*bc(this.paint.get("line-width").evaluate(l,d),this.paint.get("line-gap-width").evaluate(l,d)),J=this.paint.get("line-offset").evaluate(l,d);return J&&(v=function(de,pe){const we=[];for(let Se=0;Se<de.length;Se++){const Be=de[Se],nt=[];for(let He=0;He<Be.length;He++){const xt=Be[He-1],zt=Be[He],vt=Be[He+1],Ut=He===0?new ft(0,0):zt.sub(xt)._unit()._perp(),ln=He===Be.length-1?new ft(0,0):vt.sub(zt)._unit()._perp(),sn=Ut._add(ln)._unit(),tr=sn.x*ln.x+sn.y*ln.y;tr!==0&&sn._mult(1/tr),nt.push(sn._mult(pe)._add(zt))}we.push(nt)}return we}(v,J*P)),function(de,pe,we){for(let Se=0;Se<pe.length;Se++){const Be=pe[Se];if(de.length>=3){for(let nt=0;nt<Be.length;nt++)if(Ld(de,Be[nt]))return!0}if(td(de,Be,we))return!0}return!1}(R,v,Q)}isTileClipped(){return!0}},symbol:r0,background:class extends wa{constructor(c){super(c,U5)}},raster:class extends wa{constructor(c){super(c,D5)}}};class R5{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const cb=63710088e-1;class za{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new za(D(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,v=this.lat*d,S=l.lat*d,k=Math.sin(v)*Math.sin(S)+Math.cos(v)*Math.cos(S)*Math.cos((l.lng-this.lng)*d);return cb*Math.acos(Math.min(k,1))}toBounds(l=0){const d=360*l/40075017,v=d/Math.cos(Math.PI/180*this.lat);return new Oh(new za(this.lng-v,this.lat-d),new za(this.lng+v,this.lat+d))}static convert(l){if(l instanceof za)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new za(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new za(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Oh{constructor(l,d){l&&(d?this.setSouthWest(l).setNorthEast(d):l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1]))}setNorthEast(l){return this._ne=l instanceof za?new za(l.lng,l.lat):za.convert(l),this}setSouthWest(l){return this._sw=l instanceof za?new za(l.lng,l.lat):za.convert(l),this}extend(l){const d=this._sw,v=this._ne;let S,k;if(l instanceof za)S=l,k=l;else{if(!(l instanceof Oh))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(Oh.convert(l)):this.extend(za.convert(l)):this;if(S=l._sw,k=l._ne,!S||!k)return this}return d||v?(d.lng=Math.min(S.lng,d.lng),d.lat=Math.min(S.lat,d.lat),v.lng=Math.max(k.lng,v.lng),v.lat=Math.max(k.lat,v.lat)):(this._sw=new za(S.lng,S.lat),this._ne=new za(k.lng,k.lat)),this}getCenter(){return new za((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new za(this.getWest(),this.getNorth())}getSouthEast(){return new za(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:d,lat:v}=za.convert(l);let S=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&S}static convert(l){return l instanceof Oh?l:l&&new Oh(l)}}const db=2*Math.PI*cb;function i0(c){return db*Math.cos(c*Math.PI/180)}function hb(c){return(180+c)/360}function fb(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function pb(c,l){return c/i0(l)}function tv(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class F1{constructor(l,d,v=0){this.x=+l,this.y=+d,this.z=+v}static fromLngLat(l,d=0){const v=za.convert(l);return new F1(hb(v.lng),fb(v.lat),pb(d,v.lat))}toLngLat(){return new za(360*this.x-180,tv(this.y))}toAltitude(){return this.z*i0(tv(this.y))}meterInMercatorCoordinateUnits(){return 1/db*(l=tv(this.y),1/Math.cos(l*Math.PI/180));var l}}function mb(c,l,d){var v=2*Math.PI*6378137/256/Math.pow(2,d);return[c*v-2*Math.PI*6378137/2,l*v-2*Math.PI*6378137/2]}class nv{constructor(l,d,v){if(l<0||l>25||v<0||v>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${v}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=v,this.key=o0(0,l,l,d,v)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,v){const S=(P=this.y,R=this.z,Q=mb(256*(k=this.x),256*(P=Math.pow(2,R)-P-1),R),J=mb(256*(k+1),256*(P+1),R),Q[0]+","+Q[1]+","+J[0]+","+J[1]);var k,P,R,Q,J;const de=function(pe,we,Se){let Be,nt="";for(let He=pe;He>0;He--)Be=1<<He-1,nt+=(we&Be?1:0)+(Se&Be?2:0);return nt}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(v==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,de).replace(/{bbox-epsg-3857}/g,S)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new ft((l.x*d-this.x)*pa,(l.y*d-this.y)*pa)}toString(){return`${this.z}/${this.x}/${this.y}`}}class gb{constructor(l,d){this.wrap=l,this.canonical=d,this.key=o0(l,d.z,d.z,d.x,d.y)}}class cA{constructor(l,d,v,S,k){if(l<v)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${v}`);this.overscaledZ=l,this.wrap=d,this.canonical=new nv(v,+S,+k),this.key=o0(d,l,v,S,k)}clone(){return new cA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new cA(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new cA(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const v=this.canonical.z-l;return l>this.canonical.z?o0(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):o0(this.wrap*+d,l,l,this.canonical.x>>v,this.canonical.y>>v)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new cA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,v=2*this.canonical.x,S=2*this.canonical.y;return[new cA(d,this.wrap,d,v,S),new cA(d,this.wrap,d,v+1,S),new cA(d,this.wrap,d,v,S+1),new cA(d,this.wrap,d,v+1,S+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new cA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new cA(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new gb(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new F1(l.x-this.wrap,l.y))}}function o0(c,l,d,v,S){(c*=2)<0&&(c=-1*c-1);const k=1<<d;return(k*k*c+k*S+v).toString(36)+d.toString(36)+l.toString(36)}Gn("CanonicalTileID",nv),Gn("OverscaledTileID",cA,{omit:["posMatrix"]});class yb{constructor(l,d,v){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(v&&v!=="mapbox"&&v!=="terrarium")return void se(`"${v}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=d.height;const S=this.dim=d.height-2;this.data=new Uint32Array(d.data.buffer),this.encoding=v||"mapbox";for(let k=0;k<S;k++)this.data[this._idx(-1,k)]=this.data[this._idx(0,k)],this.data[this._idx(S,k)]=this.data[this._idx(S-1,k)],this.data[this._idx(k,-1)]=this.data[this._idx(k,0)],this.data[this._idx(k,S)]=this.data[this._idx(k,S-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(S,-1)]=this.data[this._idx(S-1,0)],this.data[this._idx(-1,S)]=this.data[this._idx(0,S-1)],this.data[this._idx(S,S)]=this.data[this._idx(S-1,S-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let k=0;k<S;k++)for(let P=0;P<S;P++){const R=this.get(k,P);R>this.max&&(this.max=R),R<this.min&&(this.min=R)}}get(l,d){const v=new Uint8Array(this.data.buffer),S=4*this._idx(l,d);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(v[S],v[S+1],v[S+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}_unpackMapbox(l,d,v){return(256*l*256+256*d+v)/10-1e4}_unpackTerrarium(l,d,v){return 256*l+d+v/256-32768}getPixels(){return new Hl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,v){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let S=d*this.dim,k=d*this.dim+this.dim,P=v*this.dim,R=v*this.dim+this.dim;switch(d){case-1:S=k-1;break;case 1:k=S+1}switch(v){case-1:P=R-1;break;case 1:R=P+1}const Q=-d*this.dim,J=-v*this.dim;for(let de=P;de<R;de++)for(let pe=S;pe<k;pe++)this.data[this._idx(pe,de)]=l.data[this._idx(pe+Q,de+J)]}}Gn("DEMData",yb);class vb{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const v=l[d];this._stringToNumber[v]=d,this._numberToString[d]=v}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class Cb{constructor(l,d,v,S,k){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=v,l._y=S,this.properties=l.properties,this.id=k}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class _b{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Ks(pa,16,0),this.grid3D=new Ks(pa,16,0),this.featureIndexArray=new si,this.promoteId=d}insert(l,d,v,S,k,P){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(v,S,k);const Q=P?this.grid3D:this.grid;for(let J=0;J<d.length;J++){const de=d[J],pe=[1/0,1/0,-1/0,-1/0];for(let we=0;we<de.length;we++){const Se=de[we];pe[0]=Math.min(pe[0],Se.x),pe[1]=Math.min(pe[1],Se.y),pe[2]=Math.max(pe[2],Se.x),pe[3]=Math.max(pe[3],Se.y)}pe[0]<pa&&pe[1]<pa&&pe[2]>=0&&pe[3]>=0&&Q.insert(R,pe[0],pe[1],pe[2],pe[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new LA.VectorTile(new A(this.rawTileData)).layers,this.sourceLayerCoder=new vb(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,v,S){this.loadVTLayers();const k=l.params||{},P=pa/l.tileSize/l.scale,R=Qc(k.filter),Q=l.queryGeometry,J=l.queryPadding*P,de=xb(Q),pe=this.grid.query(de.minX-J,de.minY-J,de.maxX+J,de.maxY+J),we=xb(l.cameraQueryGeometry),Se=this.grid3D.query(we.minX-J,we.minY-J,we.maxX+J,we.maxY+J,(He,xt,zt,vt)=>function(Ut,ln,sn,tr,ir){for(const Fn of Ut)if(ln<=Fn.x&&sn<=Fn.y&&tr>=Fn.x&&ir>=Fn.y)return!0;const Wn=[new ft(ln,sn),new ft(ln,ir),new ft(tr,ir),new ft(tr,sn)];if(Ut.length>2){for(const Fn of Wn)if(Ld(Ut,Fn))return!0}for(let Fn=0;Fn<Ut.length-1;Fn++)if(C1(Ut[Fn],Ut[Fn+1],Wn))return!0;return!1}(l.cameraQueryGeometry,He-J,xt-J,zt+J,vt+J));for(const He of Se)pe.push(He);pe.sort(wb);const Be={};let nt;for(let He=0;He<pe.length;He++){const xt=pe[He];if(xt===nt)continue;nt=xt;const zt=this.featureIndexArray.get(xt);let vt=null;this.loadMatchingFeature(Be,zt.bucketIndex,zt.sourceLayerIndex,zt.featureIndex,R,k.layers,k.availableImages,d,v,S,(Ut,ln,sn)=>(vt||(vt=Lu(Ut)),ln.queryIntersectsFeature(Q,Ut,sn,vt,this.z,l.transform,P,l.pixelPosMatrix)))}return Be}loadMatchingFeature(l,d,v,S,k,P,R,Q,J,de,pe){const we=this.bucketLayerIDs[d];if(P&&!function(He,xt){for(let zt=0;zt<He.length;zt++)if(xt.indexOf(He[zt])>=0)return!0;return!1}(P,we))return;const Se=this.sourceLayerCoder.decode(v),Be=this.vtLayers[Se].feature(S);if(k.needGeometry){const He=Ru(Be,!0);if(!k.filter(new wo(this.tileID.overscaledZ),He,this.tileID.canonical))return}else if(!k.filter(new wo(this.tileID.overscaledZ),Be))return;const nt=this.getId(Be,Se);for(let He=0;He<we.length;He++){const xt=we[He];if(P&&P.indexOf(xt)<0)continue;const zt=Q[xt];if(!zt)continue;let vt={};nt&&de&&(vt=de.getState(zt.sourceLayer||"_geojsonTileLayer",nt));const Ut=L({},J[xt]);Ut.paint=bb(Ut.paint,zt.paint,Be,vt,R),Ut.layout=bb(Ut.layout,zt.layout,Be,vt,R);const ln=!pe||pe(Be,zt,vt);if(!ln)continue;const sn=new Cb(Be,this.z,this.x,this.y,nt);sn.layer=Ut;let tr=l[xt];tr===void 0&&(tr=l[xt]=[]),tr.push({featureIndex:S,feature:sn,intersectionZ:ln})}}lookupSymbolFeatures(l,d,v,S,k,P,R,Q){const J={};this.loadVTLayers();const de=Qc(k);for(const pe of l)this.loadMatchingFeature(J,v,S,pe,de,P,R,Q,d);return J}hasLayer(l){for(const d of this.bucketLayerIDs)for(const v of d)if(l===v)return!0;return!1}getId(l,d){let v=l.id;return this.promoteId&&(v=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof v=="boolean"&&(v=Number(v))),v}}function bb(c,l,d,v,S){return j(c,(k,P)=>{const R=l instanceof Zo?l.get(P):null;return R&&R.evaluate?R.evaluate(d,v,S):R})}function xb(c){let l=1/0,d=1/0,v=-1/0,S=-1/0;for(const k of c)l=Math.min(l,k.x),d=Math.min(d,k.y),v=Math.max(v,k.x),S=Math.max(S,k.y);return{minX:l,minY:d,maxX:v,maxY:S}}function wb(c,l){return l-c}var L1;Gn("FeatureIndex",_b,{omit:["rawTileData","sourceLayerCoder"]}),a.PerformanceMarkers=void 0,(L1=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",L1.load="load",L1.fullLoad="fullLoad";let R1=null,a0=[];const rv=1e3/30,z5={mark(c){performance.mark(c)},frame(c){const l=c;R1!=null&&a0.push(l-R1),R1=l},clearMetrics(){R1=null,a0=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const c in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[c])},getPerformanceMetrics(){performance.measure("loadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure("fullLoadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const c=performance.getEntriesByName("loadTime")[0].duration,l=performance.getEntriesByName("fullLoadTime")[0].duration,d=a0.length,v=1/(a0.reduce((k,P)=>k+P,0)/d/1e3),S=a0.filter(k=>k>rv).reduce((k,P)=>k+(P-rv)/rv,0);return{loadTime:c,fullLoadTime:l,fps:v,percentDroppedFrames:S/(d+S)*100}}};a.AJAXError=Ze,a.ARRAY_TYPE=Us,a.Actor=class{constructor(c,l,d){this.target=c,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},W(["receive","process"],this),this.invoker=new R5(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=me()?c:window}send(c,l,d,v,S=!1){const k=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[k]=d);const P=ke(this.globalScope)?void 0:[];return this.target.postMessage({id:k,type:c,hasCallback:!!d,targetMapId:v,mustQueue:S,sourceMapId:this.mapId,data:Hs(l,P)},P),{cancel:()=>{d&&delete this.callbacks[k],this.target.postMessage({id:k,type:"<cancel>",targetMapId:v,sourceMapId:this.mapId})}}}receive(c){const l=c.data,d=l.id;if(d&&(!l.targetMapId||this.mapId===l.targetMapId))if(l.type==="<cancel>"){delete this.tasks[d];const v=this.cancelCallbacks[d];delete this.cancelCallbacks[d],v&&v()}else me()||l.mustQueue?(this.tasks[d]=l,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,l)}process(){if(!this.taskQueue.length)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){if(l.type==="<response>"){const d=this.callbacks[c];delete this.callbacks[c],d&&(l.error?d(El(l.error)):d(null,El(l.data)))}else{let d=!1;const v=ke(this.globalScope)?void 0:[],S=l.hasCallback?(R,Q)=>{d=!0,delete this.cancelCallbacks[c],this.target.postMessage({id:c,type:"<response>",sourceMapId:this.mapId,error:R?Hs(R):null,data:Hs(Q,v)},v)}:R=>{d=!0};let k=null;const P=El(l.data);if(this.parent[l.type])k=this.parent[l.type](l.sourceMapId,P,S);else if(this.parent.getWorkerSource){const R=l.type.split(".");k=this.parent.getWorkerSource(l.sourceMapId,R[0],P.source)[R[1]](P,S)}else S(new Error(`Could not find function ${l.type}`));!d&&k&&k.cancel&&(this.cancelCallbacks[c]=k.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=UA,a.CanonicalTileID=nv,a.CollisionBoxArray=Ht,a.CollisionCircleLayoutArray=class extends Ae{},a.Color=Te,a.DEMData=yb,a.DataConstantProperty=mr,a.DictionaryCoder=vb,a.EXTENT=pa,a.ErrorEvent=yi,a.EvaluationParameters=wo,a.Event=ur,a.Evented=be,a.FeatureIndex=_b,a.FillBucket=Bp,a.FillExtrusionBucket=Kp,a.GeoJSONFeature=Cb,a.ImageAtlas=Ra,a.ImagePosition=ra,a.LineBucket=Nd,a.LineStripIndexArray=class extends Ye{},a.LngLat=za,a.LngLatBounds=Oh,a.MercatorCoordinate=F1,a.ONE_EM=Fa,a.OverscaledTileID=cA,a.PerformanceUtils=z5,a.PosArray=cr,a.Properties=Do,a.QuadTriangleArray=class extends Me{},a.RGBAImage=Hl,a.RasterBoundsArray=class extends M{},a.RequestPerformance=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},a.ResourceType=Ve,a.SegmentVector=li,a.SymbolBucket=Rp,a.Transitionable=vp,a.TriangleIndexArray=hl,a.Uniform1f=iA,a.Uniform1i=class extends _s{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},a.Uniform2f=class extends _s{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},a.Uniform3f=class extends _s{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},a.Uniform4f=mh,a.UniformColor=ff,a.UniformMatrix4f=class extends _s{constructor(c,l){super(c,l),this.current=v1}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},a.UnwrappedTileID=gb,a.ValidationError=q,a.ZoomHistory=lo,a.add=function(c,l,d){return c[0]=l[0]+d[0],c[1]=l[1]+d[1],c[2]=l[2]+d[2],c},a.addDynamicAttributes=Hy,a.asyncAll=function(c,l,d){if(!c.length)return d(null,[]);let v=c.length;const S=new Array(c.length);let k=null;c.forEach((P,R)=>{l(P,(Q,J)=>{Q&&(k=Q),S[R]=J,--v==0&&d(k,S)})})},a.bezier=x,a.bindAll=W,a.cacheEntryPossiblyAdded=function(c){ot++,ot>Jt&&(c.getActor().send("enforceCacheSizeLimit",tt),ot=0)},a.clamp=B,a.clearTileCache=function(c){const l=caches.delete(St);c&&l.catch(c).then(()=>c())},a.clipLine=AA,a.clone=function(c){var l=new Us(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},a.clone$1=ee,a.clone$2=function(c){var l=new Us(3);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l},a.collisionCircleLayout=k1,a.config=tn,a.copy=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.create=function(){var c=new Us(16);return Us!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},a.create$1=zu,a.createExpression=lc,a.createFilter=Qc,a.createLayout=No,a.createStyleLayer=function(c){return c.type==="custom"?new F5(c):new L5[c.type](c)},a.cross=function(c,l,d){var v=l[0],S=l[1],k=l[2],P=d[0],R=d[1],Q=d[2];return c[0]=S*Q-k*R,c[1]=k*P-v*Q,c[2]=v*R-S*P,c},a.dot=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]},a.dot$1=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},a.ease=I,a.emitValidationErrors=ch,a.enforceCacheSizeLimit=function(c){dt(),Ne&&Ne.then(l=>{l.keys().then(d=>{for(let v=0;v<d.length-c;v++)l.delete(d[v])})})},a.equals=function(c,l){var d=c[0],v=c[1],S=c[2],k=c[3],P=c[4],R=c[5],Q=c[6],J=c[7],de=c[8],pe=c[9],we=c[10],Se=c[11],Be=c[12],nt=c[13],He=c[14],xt=c[15],zt=l[0],vt=l[1],Ut=l[2],ln=l[3],sn=l[4],tr=l[5],ir=l[6],Wn=l[7],Fn=l[8],En=l[9],Nn=l[10],Ln=l[11],yn=l[12],Ir=l[13],xr=l[14],_i=l[15];return Math.abs(d-zt)<=el*Math.max(1,Math.abs(d),Math.abs(zt))&&Math.abs(v-vt)<=el*Math.max(1,Math.abs(v),Math.abs(vt))&&Math.abs(S-Ut)<=el*Math.max(1,Math.abs(S),Math.abs(Ut))&&Math.abs(k-ln)<=el*Math.max(1,Math.abs(k),Math.abs(ln))&&Math.abs(P-sn)<=el*Math.max(1,Math.abs(P),Math.abs(sn))&&Math.abs(R-tr)<=el*Math.max(1,Math.abs(R),Math.abs(tr))&&Math.abs(Q-ir)<=el*Math.max(1,Math.abs(Q),Math.abs(ir))&&Math.abs(J-Wn)<=el*Math.max(1,Math.abs(J),Math.abs(Wn))&&Math.abs(de-Fn)<=el*Math.max(1,Math.abs(de),Math.abs(Fn))&&Math.abs(pe-En)<=el*Math.max(1,Math.abs(pe),Math.abs(En))&&Math.abs(we-Nn)<=el*Math.max(1,Math.abs(we),Math.abs(Nn))&&Math.abs(Se-Ln)<=el*Math.max(1,Math.abs(Se),Math.abs(Ln))&&Math.abs(Be-yn)<=el*Math.max(1,Math.abs(Be),Math.abs(yn))&&Math.abs(nt-Ir)<=el*Math.max(1,Math.abs(nt),Math.abs(Ir))&&Math.abs(He-xr)<=el*Math.max(1,Math.abs(He),Math.abs(xr))&&Math.abs(xt-_i)<=el*Math.max(1,Math.abs(xt),Math.abs(_i))},a.evaluateSizeForFeature=function(c,{uSize:l,uSizeT:d},{lowerSize:v,upperSize:S}){return c.kind==="source"?v/ya:c.kind==="composite"?po(v/ya,S/ya,d):l},a.evaluateSizeForZoom=function(c,l){let d=0,v=0;if(c.kind==="constant")v=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:S,minZoom:k,maxZoom:P}=c,R=S?B(Ie.interpolationFactor(S,l,k,P),0,1):0;c.kind==="camera"?v=po(c.minSize,c.maxSize,R):d=R}return{uSizeT:d,uSize:v}},a.evaluateVariableOffset=lb,a.evented=kA,a.exported=ve,a.exported$1=Et,a.extend=L,a.filterObject=G,a.fromRotation=function(c,l){var d=Math.sin(l),v=Math.cos(l);return c[0]=v,c[1]=d,c[2]=0,c[3]=-d,c[4]=v,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},a.fromScaling=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},a.getAnchorAlignment=Pf,a.getAnchorJustification=Vy,a.getArrayBuffer=Un,a.getImage=gr,a.getJSON=function(c,l){return Lt(L(c,{type:"json"}),l)},a.getOverlapMode=ev,a.getRTLTextPluginStatus=pc,a.getReferrer=bt,a.getVideo=function(c,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let v=0;v<c.length;v++){const S=window.document.createElement("source");rr(c[v])||(d.crossOrigin="Anonymous"),S.src=c[v],d.appendChild(S)}return{cancel:()=>{}}},a.identity=id,a.invert=function(c,l){var d=l[0],v=l[1],S=l[2],k=l[3],P=l[4],R=l[5],Q=l[6],J=l[7],de=l[8],pe=l[9],we=l[10],Se=l[11],Be=l[12],nt=l[13],He=l[14],xt=l[15],zt=d*R-v*P,vt=d*Q-S*P,Ut=d*J-k*P,ln=v*Q-S*R,sn=v*J-k*R,tr=S*J-k*Q,ir=de*nt-pe*Be,Wn=de*He-we*Be,Fn=de*xt-Se*Be,En=pe*He-we*nt,Nn=pe*xt-Se*nt,Ln=we*xt-Se*He,yn=zt*Ln-vt*Nn+Ut*En+ln*Fn-sn*Wn+tr*ir;return yn?(c[0]=(R*Ln-Q*Nn+J*En)*(yn=1/yn),c[1]=(S*Nn-v*Ln-k*En)*yn,c[2]=(nt*tr-He*sn+xt*ln)*yn,c[3]=(we*sn-pe*tr-Se*ln)*yn,c[4]=(Q*Fn-P*Ln-J*Wn)*yn,c[5]=(d*Ln-S*Fn+k*Wn)*yn,c[6]=(He*Ut-Be*tr-xt*vt)*yn,c[7]=(de*tr-we*Ut+Se*vt)*yn,c[8]=(P*Nn-R*Fn+J*ir)*yn,c[9]=(v*Fn-d*Nn-k*ir)*yn,c[10]=(Be*sn-nt*Ut+xt*zt)*yn,c[11]=(pe*Ut-de*sn-Se*zt)*yn,c[12]=(R*Wn-P*En-Q*ir)*yn,c[13]=(d*En-v*Wn+S*ir)*yn,c[14]=(nt*vt-Be*ln-He*zt)*yn,c[15]=(de*ln-pe*vt+we*zt)*yn,c):null},a.isImageBitmap=Je,a.isSafari=ke,a.isWorker=me,a.keysDifference=function(c,l){const d=[];for(const v in c)v in l||d.push(v);return d},a.lazyLoadRTLTextPlugin=function(){Zs.isLoading()||Zs.isLoaded()||pc()!=="deferred"||mc()},a.makeRequest=Lt,a.mapObject=j,a.mercatorXfromLng=hb,a.mercatorYfromLat=fb,a.mercatorZfromAltitude=pb,a.mul=_1,a.mul$1=function(c,l,d){return c[0]=l[0]*d[0],c[1]=l[1]*d[1],c[2]=l[2]*d[2],c[3]=l[3]*d[3],c},a.multiply=zd,a.nextPowerOfTwo=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},a.normalize=function(c,l){var d=l[0],v=l[1],S=l[2],k=d*d+v*v+S*S;return k>0&&(k=1/Math.sqrt(k)),c[0]=l[0]*k,c[1]=l[1]*k,c[2]=l[2]*k,c},a.number=po,a.ortho=function(c,l,d,v,S,k,P){var R=1/(l-d),Q=1/(v-S),J=1/(k-P);return c[0]=-2*R,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*Q,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*J,c[11]=0,c[12]=(l+d)*R,c[13]=(S+v)*Q,c[14]=(P+k)*J,c[15]=1,c},a.parseCacheControl=De,a.parseGlyphPbf=function(c){return new A(c).readFields(Ci,[])},a.pbf=A,a.performSymbolLayout=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=pa/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0].layout,d=c.bucket.layers[0]._unevaluatedLayout._values,v={layoutIconSize:d["icon-size"].possiblyEvaluate(new wo(c.bucket.zoom+1),c.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new wo(c.bucket.zoom+1),c.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new wo(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:Q,maxZoom:J}=c.bucket.textSizeData;v.compositeTextSizes=[d["text-size"].possiblyEvaluate(new wo(Q),c.canonical),d["text-size"].possiblyEvaluate(new wo(J),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:Q,maxZoom:J}=c.bucket.iconSizeData;v.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new wo(Q),c.canonical),d["icon-size"].possiblyEvaluate(new wo(J),c.canonical)]}const S=l.get("text-line-height")*Fa,k=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",P=l.get("text-keep-upright"),R=l.get("text-size");for(const Q of c.bucket.features){const J=l.get("text-font").evaluate(Q,{},c.canonical).join(","),de=R.evaluate(Q,{},c.canonical),pe=v.layoutTextSize.evaluate(Q,{},c.canonical),we=v.layoutIconSize.evaluate(Q,{},c.canonical),Se={horizontal:{},vertical:void 0},Be=Q.text;let nt,He=[0,0];if(Be){const vt=Be.toString(),Ut=l.get("text-letter-spacing").evaluate(Q,{},c.canonical)*Fa,ln=Pu(vt)?Ut:0,sn=l.get("text-anchor").evaluate(Q,{},c.canonical),tr=l.get("text-variable-anchor");if(!tr){const Nn=l.get("text-radial-offset").evaluate(Q,{},c.canonical);He=Nn?lb(sn,[Nn*Fa,qy]):l.get("text-offset").evaluate(Q,{},c.canonical).map(Ln=>Ln*Fa)}let ir=k?"center":l.get("text-justify").evaluate(Q,{},c.canonical);const Wn=l.get("symbol-placement"),Fn=Wn==="point"?l.get("text-max-width").evaluate(Q,{},c.canonical)*Fa:0,En=()=>{c.bucket.allowVerticalPlacement&&fc(vt)&&(Se.vertical=Oa(Be,c.glyphMap,c.glyphPositions,c.imagePositions,J,Fn,S,sn,"left",ln,He,a.WritingMode.vertical,!0,Wn,pe,de))};if(!k&&tr){const Nn=ir==="auto"?tr.map(yn=>Vy(yn)):[ir];let Ln=!1;for(let yn=0;yn<Nn.length;yn++){const Ir=Nn[yn];if(!Se.horizontal[Ir])if(Ln)Se.horizontal[Ir]=Se.horizontal[0];else{const xr=Oa(Be,c.glyphMap,c.glyphPositions,c.imagePositions,J,Fn,S,"center",Ir,ln,He,a.WritingMode.horizontal,!1,Wn,pe,de);xr&&(Se.horizontal[Ir]=xr,Ln=xr.positionedLines.length===1)}}En()}else{ir==="auto"&&(ir=Vy(sn));const Nn=Oa(Be,c.glyphMap,c.glyphPositions,c.imagePositions,J,Fn,S,sn,ir,ln,He,a.WritingMode.horizontal,!1,Wn,pe,de);Nn&&(Se.horizontal[ir]=Nn),En(),fc(vt)&&k&&P&&(Se.vertical=Oa(Be,c.glyphMap,c.glyphPositions,c.imagePositions,J,Fn,S,sn,ir,ln,He,a.WritingMode.vertical,!1,Wn,pe,de))}}let xt=!1;if(Q.icon&&Q.icon.name){const vt=c.imageMap[Q.icon.name];vt&&(nt=dd(c.imagePositions[Q.icon.name],l.get("icon-offset").evaluate(Q,{},c.canonical),l.get("icon-anchor").evaluate(Q,{},c.canonical)),xt=!!vt.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=xt:c.bucket.sdfIcons!==xt&&se("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vt.pixelRatio!==c.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const zt=Ab(Se.horizontal)||Se.vertical;c.bucket.iconsInText=!!zt&&zt.iconsInText,(zt||nt)&&B5(c.bucket,Q,Se,nt,c.imageMap,v,pe,we,He,xt,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},a.perspective=function(c,l,d,v,S){var k,P=1/Math.tan(l/2);return c[0]=P/d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=P,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,S!=null&&S!==1/0?(c[10]=(S+v)*(k=1/(v-S)),c[14]=2*S*v*k):(c[10]=-1,c[14]=-2*v),c},a.pick=function(c,l){const d={};for(let v=0;v<l.length;v++){const S=l[v];S in c&&(d[S]=c[S])}return d},a.plugin=Zs,a.pointGeometry=ft,a.polygonIntersectsPolygon=_p,a.potpack=Jo,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Gn,a.registerForPluginStateChange=function(c){return c({pluginStatus:Pa,pluginURL:rA}),kA.on("pluginStateChange",c),c},a.renderColorRamp=w1,a.rotateX=function(c,l,d){var v=Math.sin(d),S=Math.cos(d),k=l[4],P=l[5],R=l[6],Q=l[7],J=l[8],de=l[9],pe=l[10],we=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=k*S+J*v,c[5]=P*S+de*v,c[6]=R*S+pe*v,c[7]=Q*S+we*v,c[8]=J*S-k*v,c[9]=de*S-P*v,c[10]=pe*S-R*v,c[11]=we*S-Q*v,c},a.rotateZ=function(c,l,d){var v=Math.sin(d),S=Math.cos(d),k=l[0],P=l[1],R=l[2],Q=l[3],J=l[4],de=l[5],pe=l[6],we=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=k*S+J*v,c[1]=P*S+de*v,c[2]=R*S+pe*v,c[3]=Q*S+we*v,c[4]=J*S-k*v,c[5]=de*S-P*v,c[6]=pe*S-R*v,c[7]=we*S-Q*v,c},a.scale=function(c,l,d){var v=d[0],S=d[1],k=d[2];return c[0]=l[0]*v,c[1]=l[1]*v,c[2]=l[2]*v,c[3]=l[3]*v,c[4]=l[4]*S,c[5]=l[5]*S,c[6]=l[6]*S,c[7]=l[7]*S,c[8]=l[8]*k,c[9]=l[9]*k,c[10]=l[10]*k,c[11]=l[11]*k,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.scale$1=function(c,l,d){return c[0]=l[0]*d,c[1]=l[1]*d,c[2]=l[2]*d,c},a.setCacheLimits=function(c,l){tt=c,Jt=l},a.setRTLTextPlugin=function(c,l,d=!1){if(Pa===Dd||Pa===Uu||Pa===Fd)throw new Error("setRTLTextPlugin cannot be called multiple times.");rA=ve.resolveURL(c),Pa=Dd,Zc=l,Ol(),d||mc()},a.spec=z,a.sphericalToCartesian=function([c,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(d),y:c*Math.sin(l)*Math.sin(d),z:c*Math.cos(d)}},a.sqrLen=function(c){var l=c[0],d=c[1];return l*l+d*d},a.sub=function(c,l,d){return c[0]=l[0]-d[0],c[1]=l[1]-d[1],c[2]=l[2]-d[2],c},a.toEvaluationFeature=Ru,a.transformMat3=function(c,l,d){var v=l[0],S=l[1],k=l[2];return c[0]=v*d[0]+S*d[3]+k*d[6],c[1]=v*d[1]+S*d[4]+k*d[7],c[2]=v*d[2]+S*d[5]+k*d[8],c},a.transformMat4=vh,a.transformMat4$1=function(c,l,d){var v=l[0],S=l[1];return c[0]=d[0]*v+d[4]*S+d[12],c[1]=d[1]*v+d[5]*S+d[13],c},a.translate=function(c,l,d){var v,S,k,P,R,Q,J,de,pe,we,Se,Be,nt=d[0],He=d[1],xt=d[2];return l===c?(c[12]=l[0]*nt+l[4]*He+l[8]*xt+l[12],c[13]=l[1]*nt+l[5]*He+l[9]*xt+l[13],c[14]=l[2]*nt+l[6]*He+l[10]*xt+l[14],c[15]=l[3]*nt+l[7]*He+l[11]*xt+l[15]):(S=l[1],k=l[2],P=l[3],R=l[4],Q=l[5],J=l[6],de=l[7],pe=l[8],we=l[9],Se=l[10],Be=l[11],c[0]=v=l[0],c[1]=S,c[2]=k,c[3]=P,c[4]=R,c[5]=Q,c[6]=J,c[7]=de,c[8]=pe,c[9]=we,c[10]=Se,c[11]=Be,c[12]=v*nt+R*He+pe*xt+l[12],c[13]=S*nt+Q*He+we*xt+l[13],c[14]=k*nt+J*He+Se*xt+l[14],c[15]=P*nt+de*He+Be*xt+l[15]),c},a.triggerPluginCompletionEvent=IA,a.unicodeBlockLookup=jn,a.uniqueId=function(){return V++},a.validateCustomStyleLayer=function(c){const l=[],d=c.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.validateLight=fa,a.validateStyle=Gi,a.vectorTile=LA,a.warnOnce=se,a.wrap=D}),o(["./shared"],function(a){function f(Pe){const ie=typeof Pe;if(ie==="number"||ie==="boolean"||ie==="string"||Pe==null)return JSON.stringify(Pe);if(Array.isArray(Pe)){let Te="[";for(const Qe of Pe)Te+=`${f(Qe)},`;return`${Te}]`}const he=Object.keys(Pe).sort();let Ee="{";for(let Te=0;Te<he.length;Te++)Ee+=`${JSON.stringify(he[Te])}:${f(Pe[he[Te]])},`;return`${Ee}}`}function g(Pe){let ie="";for(const he of a.refProperties)ie+=`/${f(Pe[he])}`;return ie}class x{constructor(ie){this.keyCache={},ie&&this.replace(ie)}replace(ie){this._layerConfigs={},this._layers={},this.update(ie,[])}update(ie,he){for(const Te of ie){this._layerConfigs[Te.id]=Te;const Qe=this._layers[Te.id]=a.createStyleLayer(Te);Qe._featureFilter=a.createFilter(Qe.filter),this.keyCache[Te.id]&&delete this.keyCache[Te.id]}for(const Te of he)delete this.keyCache[Te],delete this._layerConfigs[Te],delete this._layers[Te];this.familiesBySource={};const Ee=function(Te,Qe){const rt={};for(let Ge=0;Ge<Te.length;Ge++){const ut=Qe&&Qe[Te[Ge].id]||g(Te[Ge]);Qe&&(Qe[Te[Ge].id]=ut);let Tt=rt[ut];Tt||(Tt=rt[ut]=[]),Tt.push(Te[Ge])}const Xe=[];for(const Ge in rt)Xe.push(rt[Ge]);return Xe}(Object.values(this._layerConfigs),this.keyCache);for(const Te of Ee){const Qe=Te.map(nn=>this._layers[nn.id]),rt=Qe[0];if(rt.visibility==="none")continue;const Xe=rt.source||"";let Ge=this.familiesBySource[Xe];Ge||(Ge=this.familiesBySource[Xe]={});const ut=rt.sourceLayer||"_geojsonTileLayer";let Tt=Ge[ut];Tt||(Tt=Ge[ut]=[]),Tt.push(Qe)}}}class I{constructor(ie){const he={},Ee=[];for(const Xe in ie){const Ge=ie[Xe],ut=he[Xe]={};for(const Tt in Ge){const nn=Ge[+Tt];if(!nn||nn.bitmap.width===0||nn.bitmap.height===0)continue;const Dt={x:0,y:0,w:nn.bitmap.width+2,h:nn.bitmap.height+2};Ee.push(Dt),ut[Tt]={rect:Dt,metrics:nn.metrics}}}const{w:Te,h:Qe}=a.potpack(Ee),rt=new a.AlphaImage({width:Te||1,height:Qe||1});for(const Xe in ie){const Ge=ie[Xe];for(const ut in Ge){const Tt=Ge[+ut];if(!Tt||Tt.bitmap.width===0||Tt.bitmap.height===0)continue;const nn=he[Xe][ut].rect;a.AlphaImage.copy(Tt.bitmap,rt,{x:0,y:0},{x:nn.x+1,y:nn.y+1},Tt.bitmap)}}this.image=rt,this.positions=he}}a.register("GlyphAtlas",I);class B{constructor(ie){this.tileID=new a.OverscaledTileID(ie.tileID.overscaledZ,ie.tileID.wrap,ie.tileID.canonical.z,ie.tileID.canonical.x,ie.tileID.canonical.y),this.uid=ie.uid,this.zoom=ie.zoom,this.pixelRatio=ie.pixelRatio,this.tileSize=ie.tileSize,this.source=ie.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ie.showCollisionBoxes,this.collectResourceTiming=!!ie.collectResourceTiming,this.returnDependencies=!!ie.returnDependencies,this.promoteId=ie.promoteId}parse(ie,he,Ee,Te,Qe){this.status="parsing",this.data=ie,this.collisionBoxArray=new a.CollisionBoxArray;const rt=new a.DictionaryCoder(Object.keys(ie.layers).sort()),Xe=new a.FeatureIndex(this.tileID,this.promoteId);Xe.bucketLayerIDs=[];const Ge={},ut={featureIndex:Xe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ee},Tt=he.familiesBySource[this.source];for(const In in Tt){const dn=ie.layers[In];if(!dn)continue;dn.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${In}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Lr=rt.encode(In),Xr=[];for(let Oi=0;Oi<dn.length;Oi++){const ge=dn.feature(Oi),je=Xe.getId(ge,In);Xr.push({feature:ge,id:je,index:Oi,sourceLayerIndex:Lr})}for(const Oi of Tt[In]){const ge=Oi[0];ge.source!==this.source&&a.warnOnce(`layer.source = ${ge.source} does not equal this.source = ${this.source}`),ge.minzoom&&this.zoom<Math.floor(ge.minzoom)||ge.maxzoom&&this.zoom>=ge.maxzoom||ge.visibility!=="none"&&(D(Oi,this.zoom,Ee),(Ge[ge.id]=ge.createBucket({index:Xe.bucketLayerIDs.length,layers:Oi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Lr,sourceID:this.source})).populate(Xr,ut,this.tileID.canonical),Xe.bucketLayerIDs.push(Oi.map(je=>je.id)))}}let nn,Dt,wn,Kn;const xn=a.mapObject(ut.glyphDependencies,In=>Object.keys(In).map(Number));Object.keys(xn).length?Te.send("getGlyphs",{uid:this.uid,stacks:xn},(In,dn)=>{nn||(nn=In,Dt=dn,qr.call(this))}):Dt={};const Zn=Object.keys(ut.iconDependencies);Zn.length?Te.send("getImages",{icons:Zn,source:this.source,tileID:this.tileID,type:"icons"},(In,dn)=>{nn||(nn=In,wn=dn,qr.call(this))}):wn={};const Cr=Object.keys(ut.patternDependencies);function qr(){if(nn)return Qe(nn);if(Dt&&wn&&Kn){const In=new I(Dt),dn=new a.ImageAtlas(wn,Kn);for(const Lr in Ge){const Xr=Ge[Lr];Xr instanceof a.SymbolBucket?(D(Xr.layers,this.zoom,Ee),a.performSymbolLayout({bucket:Xr,glyphMap:Dt,glyphPositions:In.positions,imageMap:wn,imagePositions:dn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Xr.hasPattern&&(Xr instanceof a.LineBucket||Xr instanceof a.FillBucket||Xr instanceof a.FillExtrusionBucket)&&(D(Xr.layers,this.zoom,Ee),Xr.addFeatures(ut,this.tileID.canonical,dn.patternPositions))}this.status="done",Qe(null,{buckets:Object.values(Ge).filter(Lr=>!Lr.isEmpty()),featureIndex:Xe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:In.image,imageAtlas:dn,glyphMap:this.returnDependencies?Dt:null,iconMap:this.returnDependencies?wn:null,glyphPositions:this.returnDependencies?In.positions:null})}}Cr.length?Te.send("getImages",{icons:Cr,source:this.source,tileID:this.tileID,type:"patterns"},(In,dn)=>{nn||(nn=In,Kn=dn,qr.call(this))}):Kn={},qr.call(this)}}function D(Pe,ie,he){const Ee=new a.EvaluationParameters(ie);for(const Te of Pe)Te.recalculate(Ee,he)}function L(Pe,ie){const he=a.getArrayBuffer(Pe.request,(Ee,Te,Qe,rt)=>{Ee?ie(Ee):Te&&ie(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Te)),rawData:Te,cacheControl:Qe,expires:rt})});return()=>{he.cancel(),ie()}}class V{constructor(ie,he,Ee,Te){this.actor=ie,this.layerIndex=he,this.availableImages=Ee,this.loadVectorData=Te||L,this.loading={},this.loaded={}}loadTile(ie,he){const Ee=ie.uid;this.loading||(this.loading={});const Te=!!(ie&&ie.request&&ie.request.collectResourceTiming)&&new a.RequestPerformance(ie.request),Qe=this.loading[Ee]=new B(ie);Qe.abort=this.loadVectorData(ie,(rt,Xe)=>{if(delete this.loading[Ee],rt||!Xe)return Qe.status="done",this.loaded[Ee]=Qe,he(rt);const Ge=Xe.rawData,ut={};Xe.expires&&(ut.expires=Xe.expires),Xe.cacheControl&&(ut.cacheControl=Xe.cacheControl);const Tt={};if(Te){const nn=Te.finish();nn&&(Tt.resourceTiming=JSON.parse(JSON.stringify(nn)))}Qe.vectorTile=Xe.vectorTile,Qe.parse(Xe.vectorTile,this.layerIndex,this.availableImages,this.actor,(nn,Dt)=>{if(nn||!Dt)return he(nn);he(null,a.extend({rawTileData:Ge.slice(0)},Dt,ut,Tt))}),this.loaded=this.loaded||{},this.loaded[Ee]=Qe})}reloadTile(ie,he){const Ee=this.loaded,Te=ie.uid,Qe=this;if(Ee&&Ee[Te]){const rt=Ee[Te];rt.showCollisionBoxes=ie.showCollisionBoxes;const Xe=(Ge,ut)=>{const Tt=rt.reloadCallback;Tt&&(delete rt.reloadCallback,rt.parse(rt.vectorTile,Qe.layerIndex,this.availableImages,Qe.actor,Tt)),he(Ge,ut)};rt.status==="parsing"?rt.reloadCallback=Xe:rt.status==="done"&&(rt.vectorTile?rt.parse(rt.vectorTile,this.layerIndex,this.availableImages,this.actor,Xe):Xe())}}abortTile(ie,he){const Ee=this.loading,Te=ie.uid;Ee&&Ee[Te]&&Ee[Te].abort&&(Ee[Te].abort(),delete Ee[Te]),he()}removeTile(ie,he){const Ee=this.loaded,Te=ie.uid;Ee&&Ee[Te]&&delete Ee[Te],he()}}class W{constructor(){this.loaded={}}loadTile(ie,he){const{uid:Ee,encoding:Te,rawImageData:Qe}=ie,rt=a.isImageBitmap(Qe)?this.getImageData(Qe):Qe,Xe=new a.DEMData(Ee,rt,Te);this.loaded=this.loaded||{},this.loaded[Ee]=Xe,he(null,Xe)}getImageData(ie){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ie.width,ie.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ie.width,this.offscreenCanvas.height=ie.height,this.offscreenCanvasContext.drawImage(ie,0,0,ie.width,ie.height);const he=this.offscreenCanvasContext.getImageData(-1,-1,ie.width+2,ie.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:he.width,height:he.height},he.data)}removeTile(ie){const he=this.loaded,Ee=ie.uid;he&&he[Ee]&&delete he[Ee]}}var j=function Pe(ie,he){var Ee,Te=ie&&ie.type;if(Te==="FeatureCollection")for(Ee=0;Ee<ie.features.length;Ee++)Pe(ie.features[Ee],he);else if(Te==="GeometryCollection")for(Ee=0;Ee<ie.geometries.length;Ee++)Pe(ie.geometries[Ee],he);else if(Te==="Feature")Pe(ie.geometry,he);else if(Te==="Polygon")G(ie.coordinates,he);else if(Te==="MultiPolygon")for(Ee=0;Ee<ie.coordinates.length;Ee++)G(ie.coordinates[Ee],he);return ie};function G(Pe,ie){if(Pe.length!==0){ee(Pe[0],ie);for(var he=1;he<Pe.length;he++)ee(Pe[he],!ie)}}function ee(Pe,ie){for(var he=0,Ee=0,Te=0,Qe=Pe.length,rt=Qe-1;Te<Qe;rt=Te++){var Xe=(Pe[Te][0]-Pe[rt][0])*(Pe[rt][1]+Pe[Te][1]),Ge=he+Xe;Ee+=Math.abs(he)>=Math.abs(Xe)?he-Ge+Xe:Xe-Ge+he,he=Ge}he+Ee>=0!=!!ie&&Pe.reverse()}const re=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;class se{constructor(ie){this._feature=ie,this.extent=a.EXTENT,this.type=ie.type,this.properties=ie.tags,"id"in ie&&!isNaN(ie.id)&&(this.id=parseInt(ie.id,10))}loadGeometry(){if(this._feature.type===1){const ie=[];for(const he of this._feature.geometry)ie.push([new a.pointGeometry(he[0],he[1])]);return ie}{const ie=[];for(const he of this._feature.geometry){const Ee=[];for(const Te of he)Ee.push(new a.pointGeometry(Te[0],Te[1]));ie.push(Ee)}return ie}}toGeoJSON(ie,he,Ee){return re.call(this,ie,he,Ee)}}class oe{constructor(ie){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=ie.length,this._features=ie}feature(ie){return new se(this._features[ie])}}var ue={exports:{}},me=a.pointGeometry,De=a.vectorTile.VectorTileFeature,Re=et;function et(Pe,ie){this.options=ie||{},this.features=Pe,this.length=Pe.length}function ht(Pe,ie){this.id=typeof Pe.id=="number"?Pe.id:void 0,this.type=Pe.type,this.rawGeometry=Pe.type===1?[Pe.geometry]:Pe.geometry,this.properties=Pe.tags,this.extent=ie||4096}et.prototype.feature=function(Pe){return new ht(this.features[Pe],this.options.extent)},ht.prototype.loadGeometry=function(){var Pe=this.rawGeometry;this.geometry=[];for(var ie=0;ie<Pe.length;ie++){for(var he=Pe[ie],Ee=[],Te=0;Te<he.length;Te++)Ee.push(new me(he[Te][0],he[Te][1]));this.geometry.push(Ee)}return this.geometry},ht.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Pe=this.geometry,ie=1/0,he=-1/0,Ee=1/0,Te=-1/0,Qe=0;Qe<Pe.length;Qe++)for(var rt=Pe[Qe],Xe=0;Xe<rt.length;Xe++){var Ge=rt[Xe];ie=Math.min(ie,Ge.x),he=Math.max(he,Ge.x),Ee=Math.min(Ee,Ge.y),Te=Math.max(Te,Ge.y)}return[ie,Ee,he,Te]},ht.prototype.toGeoJSON=De.prototype.toGeoJSON;var ke=a.pbf,Je=Re;function ve(Pe){var ie=new ke;return function(he,Ee){for(var Te in he.layers)Ee.writeMessage(3,ft,he.layers[Te])}(Pe,ie),ie.finish()}function ft(Pe,ie){var he;ie.writeVarintField(15,Pe.version||1),ie.writeStringField(1,Pe.name||""),ie.writeVarintField(5,Pe.extent||4096);var Ee={keys:[],values:[],keycache:{},valuecache:{}};for(he=0;he<Pe.length;he++)Ee.feature=Pe.feature(he),ie.writeMessage(2,Ft,Ee);var Te=Ee.keys;for(he=0;he<Te.length;he++)ie.writeStringField(3,Te[he]);var Qe=Ee.values;for(he=0;he<Qe.length;he++)ie.writeMessage(4,tt,Qe[he])}function Ft(Pe,ie){var he=Pe.feature;he.id!==void 0&&ie.writeVarintField(1,he.id),ie.writeMessage(2,tn,Pe),ie.writeVarintField(3,he.type),ie.writeMessage(4,qe,he)}function tn(Pe,ie){var he=Pe.feature,Ee=Pe.keys,Te=Pe.values,Qe=Pe.keycache,rt=Pe.valuecache;for(var Xe in he.properties){var Ge=he.properties[Xe],ut=Qe[Xe];if(Ge!==null){ut===void 0&&(Ee.push(Xe),Qe[Xe]=ut=Ee.length-1),ie.writeVarint(ut);var Tt=typeof Ge;Tt!=="string"&&Tt!=="boolean"&&Tt!=="number"&&(Ge=JSON.stringify(Ge));var nn=Tt+":"+Ge,Dt=rt[nn];Dt===void 0&&(Te.push(Ge),rt[nn]=Dt=Te.length-1),ie.writeVarint(Dt)}}}function St(Pe,ie){return(ie<<3)+(7&Pe)}function Ne(Pe){return Pe<<1^Pe>>31}function qe(Pe,ie){for(var he=Pe.loadGeometry(),Ee=Pe.type,Te=0,Qe=0,rt=he.length,Xe=0;Xe<rt;Xe++){var Ge=he[Xe],ut=1;Ee===1&&(ut=Ge.length),ie.writeVarint(St(1,ut));for(var Tt=Ee===3?Ge.length-1:Ge.length,nn=0;nn<Tt;nn++){nn===1&&Ee!==1&&ie.writeVarint(St(2,Tt-1));var Dt=Ge[nn].x-Te,wn=Ge[nn].y-Qe;ie.writeVarint(Ne(Dt)),ie.writeVarint(Ne(wn)),Te+=Dt,Qe+=wn}Ee===3&&ie.writeVarint(St(7,1))}}function tt(Pe,ie){var he=typeof Pe;he==="string"?ie.writeStringField(1,Pe):he==="boolean"?ie.writeBooleanField(7,Pe):he==="number"&&(Pe%1!=0?ie.writeDoubleField(3,Pe):Pe<0?ie.writeSVarintField(6,Pe):ie.writeVarintField(5,Pe))}function Jt(Pe,ie,he,Ee,Te,Qe){if(Te-Ee<=he)return;const rt=Ee+Te>>1;dt(Pe,ie,rt,Ee,Te,Qe%2),Jt(Pe,ie,he,Ee,rt-1,Qe+1),Jt(Pe,ie,he,rt+1,Te,Qe+1)}function dt(Pe,ie,he,Ee,Te,Qe){for(;Te>Ee;){if(Te-Ee>600){const ut=Te-Ee+1,Tt=he-Ee+1,nn=Math.log(ut),Dt=.5*Math.exp(2*nn/3),wn=.5*Math.sqrt(nn*Dt*(ut-Dt)/ut)*(Tt-ut/2<0?-1:1);dt(Pe,ie,he,Math.max(Ee,Math.floor(he-Tt*Dt/ut+wn)),Math.min(Te,Math.floor(he+(ut-Tt)*Dt/ut+wn)),Qe)}const rt=ie[2*he+Qe];let Xe=Ee,Ge=Te;for(ot(Pe,ie,Ee,he),ie[2*Te+Qe]>rt&&ot(Pe,ie,Ee,Te);Xe<Ge;){for(ot(Pe,ie,Xe,Ge),Xe++,Ge--;ie[2*Xe+Qe]<rt;)Xe++;for(;ie[2*Ge+Qe]>rt;)Ge--}ie[2*Ee+Qe]===rt?ot(Pe,ie,Ee,Ge):(Ge++,ot(Pe,ie,Ge,Te)),Ge<=he&&(Ee=Ge+1),he<=Ge&&(Te=Ge-1)}}function ot(Pe,ie,he,Ee){Et(Pe,he,Ee),Et(ie,2*he,2*Ee),Et(ie,2*he+1,2*Ee+1)}function Et(Pe,ie,he){const Ee=Pe[ie];Pe[ie]=Pe[he],Pe[he]=Ee}function Kt(Pe,ie,he,Ee){const Te=Pe-he,Qe=ie-Ee;return Te*Te+Qe*Qe}ue.exports=ve,ue.exports.fromVectorTileJs=ve,ue.exports.fromGeojsonVt=function(Pe,ie){ie=ie||{};var he={};for(var Ee in Pe)he[Ee]=new Je(Pe[Ee].features,ie),he[Ee].name=Ee,he[Ee].version=ie.version,he[Ee].extent=ie.extent;return ve({layers:he})},ue.exports.GeoJSONWrapper=Je;const xe=Pe=>Pe[0],ce=Pe=>Pe[1];class _e{constructor(ie,he=xe,Ee=ce,Te=64,Qe=Float64Array){this.nodeSize=Te,this.points=ie;const rt=ie.length<65536?Uint16Array:Uint32Array,Xe=this.ids=new rt(ie.length),Ge=this.coords=new Qe(2*ie.length);for(let ut=0;ut<ie.length;ut++)Xe[ut]=ut,Ge[2*ut]=he(ie[ut]),Ge[2*ut+1]=Ee(ie[ut]);Jt(Xe,Ge,Te,0,Xe.length-1,0)}range(ie,he,Ee,Te){return function(Qe,rt,Xe,Ge,ut,Tt,nn){const Dt=[0,Qe.length-1,0],wn=[];let Kn,xn;for(;Dt.length;){const Zn=Dt.pop(),Cr=Dt.pop(),qr=Dt.pop();if(Cr-qr<=nn){for(let Lr=qr;Lr<=Cr;Lr++)Kn=rt[2*Lr],xn=rt[2*Lr+1],Kn>=Xe&&Kn<=ut&&xn>=Ge&&xn<=Tt&&wn.push(Qe[Lr]);continue}const In=Math.floor((qr+Cr)/2);Kn=rt[2*In],xn=rt[2*In+1],Kn>=Xe&&Kn<=ut&&xn>=Ge&&xn<=Tt&&wn.push(Qe[In]);const dn=(Zn+1)%2;(Zn===0?Xe<=Kn:Ge<=xn)&&(Dt.push(qr),Dt.push(In-1),Dt.push(dn)),(Zn===0?ut>=Kn:Tt>=xn)&&(Dt.push(In+1),Dt.push(Cr),Dt.push(dn))}return wn}(this.ids,this.coords,ie,he,Ee,Te,this.nodeSize)}within(ie,he,Ee){return function(Te,Qe,rt,Xe,Ge,ut){const Tt=[0,Te.length-1,0],nn=[],Dt=Ge*Ge;for(;Tt.length;){const wn=Tt.pop(),Kn=Tt.pop(),xn=Tt.pop();if(Kn-xn<=ut){for(let dn=xn;dn<=Kn;dn++)Kt(Qe[2*dn],Qe[2*dn+1],rt,Xe)<=Dt&&nn.push(Te[dn]);continue}const Zn=Math.floor((xn+Kn)/2),Cr=Qe[2*Zn],qr=Qe[2*Zn+1];Kt(Cr,qr,rt,Xe)<=Dt&&nn.push(Te[Zn]);const In=(wn+1)%2;(wn===0?rt-Ge<=Cr:Xe-Ge<=qr)&&(Tt.push(xn),Tt.push(Zn-1),Tt.push(In)),(wn===0?rt+Ge>=Cr:Xe+Ge>=qr)&&(Tt.push(Zn+1),Tt.push(Kn),Tt.push(In))}return nn}(this.ids,this.coords,ie,he,Ee,this.nodeSize)}}const Ke={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Pe=>Pe},Ve=Math.fround||(Ze=new Float32Array(1),Pe=>(Ze[0]=+Pe,Ze[0]));var Ze;class bt{constructor(ie){this.options=gr(Object.create(Ke),ie),this.trees=new Array(this.options.maxZoom+1)}load(ie){const{log:he,minZoom:Ee,maxZoom:Te,nodeSize:Qe}=this.options;he&&console.time("total time");const rt=`prepare ${ie.length} points`;he&&console.time(rt),this.points=ie;let Xe=[];for(let Ge=0;Ge<ie.length;Ge++)ie[Ge].geometry&&Xe.push(Lt(ie[Ge],Ge));this.trees[Te+1]=new _e(Xe,Mr,Dr,Qe,Float32Array),he&&console.timeEnd(rt);for(let Ge=Te;Ge>=Ee;Ge--){const ut=+Date.now();Xe=this._cluster(Xe,Ge),this.trees[Ge]=new _e(Xe,Mr,Dr,Qe,Float32Array),he&&console.log("z%d: %d clusters in %dms",Ge,Xe.length,+Date.now()-ut)}return he&&console.timeEnd("total time"),this}getClusters(ie,he){let Ee=((ie[0]+180)%360+360)%360-180;const Te=Math.max(-90,Math.min(90,ie[1]));let Qe=ie[2]===180?180:((ie[2]+180)%360+360)%360-180;const rt=Math.max(-90,Math.min(90,ie[3]));if(ie[2]-ie[0]>=360)Ee=-180,Qe=180;else if(Ee>Qe){const Tt=this.getClusters([Ee,Te,180,rt],he),nn=this.getClusters([-180,Te,Qe,rt],he);return Tt.concat(nn)}const Xe=this.trees[this._limitZoom(he)],Ge=Xe.range(qt(Ee),$n(rt),qt(Qe),$n(Te)),ut=[];for(const Tt of Ge){const nn=Xe.points[Tt];ut.push(nn.numPoints?Un(nn):this.points[nn.index])}return ut}getChildren(ie){const he=this._getOriginId(ie),Ee=this._getOriginZoom(ie),Te="No cluster with the specified id.",Qe=this.trees[Ee];if(!Qe)throw new Error(Te);const rt=Qe.points[he];if(!rt)throw new Error(Te);const Xe=this.options.radius/(this.options.extent*Math.pow(2,Ee-1)),Ge=Qe.within(rt.x,rt.y,Xe),ut=[];for(const Tt of Ge){const nn=Qe.points[Tt];nn.parentId===ie&&ut.push(nn.numPoints?Un(nn):this.points[nn.index])}if(ut.length===0)throw new Error(Te);return ut}getLeaves(ie,he,Ee){const Te=[];return this._appendLeaves(Te,ie,he=he||10,Ee=Ee||0,0),Te}getTile(ie,he,Ee){const Te=this.trees[this._limitZoom(ie)],Qe=Math.pow(2,ie),{extent:rt,radius:Xe}=this.options,Ge=Xe/rt,ut=(Ee-Ge)/Qe,Tt=(Ee+1+Ge)/Qe,nn={features:[]};return this._addTileFeatures(Te.range((he-Ge)/Qe,ut,(he+1+Ge)/Qe,Tt),Te.points,he,Ee,Qe,nn),he===0&&this._addTileFeatures(Te.range(1-Ge/Qe,ut,1,Tt),Te.points,Qe,Ee,Qe,nn),he===Qe-1&&this._addTileFeatures(Te.range(0,ut,Ge/Qe,Tt),Te.points,-1,Ee,Qe,nn),nn.features.length?nn:null}getClusterExpansionZoom(ie){let he=this._getOriginZoom(ie)-1;for(;he<=this.options.maxZoom;){const Ee=this.getChildren(ie);if(he++,Ee.length!==1)break;ie=Ee[0].properties.cluster_id}return he}_appendLeaves(ie,he,Ee,Te,Qe){const rt=this.getChildren(he);for(const Xe of rt){const Ge=Xe.properties;if(Ge&&Ge.cluster?Qe+Ge.point_count<=Te?Qe+=Ge.point_count:Qe=this._appendLeaves(ie,Ge.cluster_id,Ee,Te,Qe):Qe<Te?Qe++:ie.push(Xe),ie.length===Ee)break}return Qe}_addTileFeatures(ie,he,Ee,Te,Qe,rt){for(const Xe of ie){const Ge=he[Xe],ut=Ge.numPoints;let Tt,nn,Dt;if(ut)Tt=rr(Ge),nn=Ge.x,Dt=Ge.y;else{const xn=this.points[Ge.index];Tt=xn.properties,nn=qt(xn.geometry.coordinates[0]),Dt=$n(xn.geometry.coordinates[1])}const wn={type:1,geometry:[[Math.round(this.options.extent*(nn*Qe-Ee)),Math.round(this.options.extent*(Dt*Qe-Te))]],tags:Tt};let Kn;ut?Kn=Ge.id:this.options.generateId?Kn=Ge.index:this.points[Ge.index].id&&(Kn=this.points[Ge.index].id),Kn!==void 0&&(wn.id=Kn),rt.features.push(wn)}}_limitZoom(ie){return Math.max(this.options.minZoom,Math.min(Math.floor(+ie),this.options.maxZoom+1))}_cluster(ie,he){const Ee=[],{radius:Te,extent:Qe,reduce:rt,minPoints:Xe}=this.options,Ge=Te/(Qe*Math.pow(2,he));for(let ut=0;ut<ie.length;ut++){const Tt=ie[ut];if(Tt.zoom<=he)continue;Tt.zoom=he;const nn=this.trees[he+1],Dt=nn.within(Tt.x,Tt.y,Ge),wn=Tt.numPoints||1;let Kn=wn;for(const xn of Dt){const Zn=nn.points[xn];Zn.zoom>he&&(Kn+=Zn.numPoints||1)}if(Kn>wn&&Kn>=Xe){let xn=Tt.x*wn,Zn=Tt.y*wn,Cr=rt&&wn>1?this._map(Tt,!0):null;const qr=(ut<<5)+(he+1)+this.points.length;for(const In of Dt){const dn=nn.points[In];if(dn.zoom<=he)continue;dn.zoom=he;const Lr=dn.numPoints||1;xn+=dn.x*Lr,Zn+=dn.y*Lr,dn.parentId=qr,rt&&(Cr||(Cr=this._map(Tt,!0)),rt(Cr,this._map(dn)))}Tt.parentId=qr,Ee.push(Gt(xn/Kn,Zn/Kn,qr,Kn,Cr))}else if(Ee.push(Tt),Kn>1)for(const xn of Dt){const Zn=nn.points[xn];Zn.zoom<=he||(Zn.zoom=he,Ee.push(Zn))}}return Ee}_getOriginId(ie){return ie-this.points.length>>5}_getOriginZoom(ie){return(ie-this.points.length)%32}_map(ie,he){if(ie.numPoints)return he?gr({},ie.properties):ie.properties;const Ee=this.points[ie.index].properties,Te=this.options.map(Ee);return he&&Te===Ee?gr({},Te):Te}}function Gt(Pe,ie,he,Ee,Te){return{x:Ve(Pe),y:Ve(ie),zoom:1/0,id:he,parentId:-1,numPoints:Ee,properties:Te}}function Lt(Pe,ie){const[he,Ee]=Pe.geometry.coordinates;return{x:Ve(qt(he)),y:Ve($n(Ee)),zoom:1/0,index:ie,parentId:-1}}function Un(Pe){return{type:"Feature",id:Pe.id,properties:rr(Pe),geometry:{type:"Point",coordinates:[(ie=Pe.x,360*(ie-.5)),lr(Pe.y)]}};var ie}function rr(Pe){const ie=Pe.numPoints,he=ie>=1e4?`${Math.round(ie/1e3)}k`:ie>=1e3?Math.round(ie/100)/10+"k":ie;return gr(gr({},Pe.properties),{cluster:!0,cluster_id:Pe.id,point_count:ie,point_count_abbreviated:he})}function qt(Pe){return Pe/360+.5}function $n(Pe){const ie=Math.sin(Pe*Math.PI/180),he=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return he<0?0:he>1?1:he}function lr(Pe){const ie=(180-360*Pe)*Math.PI/180;return 360*Math.atan(Math.exp(ie))/Math.PI-90}function gr(Pe,ie){for(const he in ie)Pe[he]=ie[he];return Pe}function Mr(Pe){return Pe.x}function Dr(Pe){return Pe.y}function ur(Pe,ie,he,Ee){for(var Te,Qe=Ee,rt=he-ie>>1,Xe=he-ie,Ge=Pe[ie],ut=Pe[ie+1],Tt=Pe[he],nn=Pe[he+1],Dt=ie+3;Dt<he;Dt+=3){var wn=yi(Pe[Dt],Pe[Dt+1],Ge,ut,Tt,nn);if(wn>Qe)Te=Dt,Qe=wn;else if(wn===Qe){var Kn=Math.abs(Dt-rt);Kn<Xe&&(Te=Dt,Xe=Kn)}}Qe>Ee&&(Te-ie>3&&ur(Pe,ie,Te,Ee),Pe[Te+2]=Qe,he-Te>3&&ur(Pe,Te,he,Ee))}function yi(Pe,ie,he,Ee,Te,Qe){var rt=Te-he,Xe=Qe-Ee;if(rt!==0||Xe!==0){var Ge=((Pe-he)*rt+(ie-Ee)*Xe)/(rt*rt+Xe*Xe);Ge>1?(he=Te,Ee=Qe):Ge>0&&(he+=rt*Ge,Ee+=Xe*Ge)}return(rt=Pe-he)*rt+(Xe=ie-Ee)*Xe}function be(Pe,ie,he,Ee){var Te={id:Pe===void 0?null:Pe,type:ie,geometry:he,tags:Ee,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Qe){var rt=Qe.geometry,Xe=Qe.type;if(Xe==="Point"||Xe==="MultiPoint"||Xe==="LineString")z(Qe,rt);else if(Xe==="Polygon"||Xe==="MultiLineString")for(var Ge=0;Ge<rt.length;Ge++)z(Qe,rt[Ge]);else if(Xe==="MultiPolygon")for(Ge=0;Ge<rt.length;Ge++)for(var ut=0;ut<rt[Ge].length;ut++)z(Qe,rt[Ge][ut])}(Te),Te}function z(Pe,ie){for(var he=0;he<ie.length;he+=3)Pe.minX=Math.min(Pe.minX,ie[he]),Pe.minY=Math.min(Pe.minY,ie[he+1]),Pe.maxX=Math.max(Pe.maxX,ie[he]),Pe.maxY=Math.max(Pe.maxY,ie[he+1])}function q(Pe,ie,he,Ee){if(ie.geometry){var Te=ie.geometry.coordinates,Qe=ie.geometry.type,rt=Math.pow(he.tolerance/((1<<he.maxZoom)*he.extent),2),Xe=[],Ge=ie.id;if(he.promoteId?Ge=ie.properties[he.promoteId]:he.generateId&&(Ge=Ee||0),Qe==="Point")Oe(Te,Xe);else if(Qe==="MultiPoint")for(var ut=0;ut<Te.length;ut++)Oe(Te[ut],Xe);else if(Qe==="LineString")st(Te,Xe,rt,!1);else if(Qe==="MultiLineString"){if(he.lineMetrics){for(ut=0;ut<Te.length;ut++)st(Te[ut],Xe=[],rt,!1),Pe.push(be(Ge,"LineString",Xe,ie.properties));return}ct(Te,Xe,rt,!1)}else if(Qe==="Polygon")ct(Te,Xe,rt,!0);else{if(Qe!=="MultiPolygon"){if(Qe==="GeometryCollection"){for(ut=0;ut<ie.geometry.geometries.length;ut++)q(Pe,{id:Ge,geometry:ie.geometry.geometries[ut],properties:ie.properties},he,Ee);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ut=0;ut<Te.length;ut++){var Tt=[];ct(Te[ut],Tt,rt,!0),Xe.push(Tt)}}Pe.push(be(Ge,Qe,Xe,ie.properties))}}function Oe(Pe,ie){ie.push(wt(Pe[0])),ie.push(Vn(Pe[1])),ie.push(0)}function st(Pe,ie,he,Ee){for(var Te,Qe,rt=0,Xe=0;Xe<Pe.length;Xe++){var Ge=wt(Pe[Xe][0]),ut=Vn(Pe[Xe][1]);ie.push(Ge),ie.push(ut),ie.push(0),Xe>0&&(rt+=Ee?(Te*ut-Ge*Qe)/2:Math.sqrt(Math.pow(Ge-Te,2)+Math.pow(ut-Qe,2))),Te=Ge,Qe=ut}var Tt=ie.length-3;ie[2]=1,ur(ie,0,Tt,he),ie[Tt+2]=1,ie.size=Math.abs(rt),ie.start=0,ie.end=ie.size}function ct(Pe,ie,he,Ee){for(var Te=0;Te<Pe.length;Te++){var Qe=[];st(Pe[Te],Qe,he,Ee),ie.push(Qe)}}function wt(Pe){return Pe/360+.5}function Vn(Pe){var ie=Math.sin(Pe*Math.PI/180),he=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return he<0?0:he>1?1:he}function qn(Pe,ie,he,Ee,Te,Qe,rt,Xe){if(Ee/=ie,Qe>=(he/=ie)&&rt<Ee)return Pe;if(rt<he||Qe>=Ee)return null;for(var Ge=[],ut=0;ut<Pe.length;ut++){var Tt=Pe[ut],nn=Tt.geometry,Dt=Tt.type,wn=Te===0?Tt.minX:Tt.minY,Kn=Te===0?Tt.maxX:Tt.maxY;if(wn>=he&&Kn<Ee)Ge.push(Tt);else if(!(Kn<he||wn>=Ee)){var xn=[];if(Dt==="Point"||Dt==="MultiPoint")Qr(nn,xn,he,Ee,Te);else if(Dt==="LineString")It(nn,xn,he,Ee,Te,!1,Xe.lineMetrics);else if(Dt==="MultiLineString")Pt(nn,xn,he,Ee,Te,!1);else if(Dt==="Polygon")Pt(nn,xn,he,Ee,Te,!0);else if(Dt==="MultiPolygon")for(var Zn=0;Zn<nn.length;Zn++){var Cr=[];Pt(nn[Zn],Cr,he,Ee,Te,!0),Cr.length&&xn.push(Cr)}if(xn.length){if(Xe.lineMetrics&&Dt==="LineString"){for(Zn=0;Zn<xn.length;Zn++)Ge.push(be(Tt.id,Dt,xn[Zn],Tt.tags));continue}Dt!=="LineString"&&Dt!=="MultiLineString"||(xn.length===1?(Dt="LineString",xn=xn[0]):Dt="MultiLineString"),Dt!=="Point"&&Dt!=="MultiPoint"||(Dt=xn.length===3?"Point":"MultiPoint"),Ge.push(be(Tt.id,Dt,xn,Tt.tags))}}}return Ge.length?Ge:null}function Qr(Pe,ie,he,Ee,Te){for(var Qe=0;Qe<Pe.length;Qe+=3){var rt=Pe[Qe+Te];rt>=he&&rt<=Ee&&(ie.push(Pe[Qe]),ie.push(Pe[Qe+1]),ie.push(Pe[Qe+2]))}}function It(Pe,ie,he,Ee,Te,Qe,rt){for(var Xe,Ge,ut=p(Pe),Tt=Te===0?Jn:un,nn=Pe.start,Dt=0;Dt<Pe.length-3;Dt+=3){var wn=Pe[Dt],Kn=Pe[Dt+1],xn=Pe[Dt+2],Zn=Pe[Dt+3],Cr=Pe[Dt+4],qr=Te===0?wn:Kn,In=Te===0?Zn:Cr,dn=!1;rt&&(Xe=Math.sqrt(Math.pow(wn-Zn,2)+Math.pow(Kn-Cr,2))),qr<he?In>he&&(Ge=Tt(ut,wn,Kn,Zn,Cr,he),rt&&(ut.start=nn+Xe*Ge)):qr>Ee?In<Ee&&(Ge=Tt(ut,wn,Kn,Zn,Cr,Ee),rt&&(ut.start=nn+Xe*Ge)):yr(ut,wn,Kn,xn),In<he&&qr>=he&&(Ge=Tt(ut,wn,Kn,Zn,Cr,he),dn=!0),In>Ee&&qr<=Ee&&(Ge=Tt(ut,wn,Kn,Zn,Cr,Ee),dn=!0),!Qe&&dn&&(rt&&(ut.end=nn+Xe*Ge),ie.push(ut),ut=p(Pe)),rt&&(nn+=Xe)}var Lr=Pe.length-3;wn=Pe[Lr],Kn=Pe[Lr+1],xn=Pe[Lr+2],(qr=Te===0?wn:Kn)>=he&&qr<=Ee&&yr(ut,wn,Kn,xn),Lr=ut.length-3,Qe&&Lr>=3&&(ut[Lr]!==ut[0]||ut[Lr+1]!==ut[1])&&yr(ut,ut[0],ut[1],ut[2]),ut.length&&ie.push(ut)}function p(Pe){var ie=[];return ie.size=Pe.size,ie.start=Pe.start,ie.end=Pe.end,ie}function Pt(Pe,ie,he,Ee,Te,Qe){for(var rt=0;rt<Pe.length;rt++)It(Pe[rt],ie,he,Ee,Te,Qe,!1)}function yr(Pe,ie,he,Ee){Pe.push(ie),Pe.push(he),Pe.push(Ee)}function Jn(Pe,ie,he,Ee,Te,Qe){var rt=(Qe-ie)/(Ee-ie);return Pe.push(Qe),Pe.push(he+(Te-he)*rt),Pe.push(1),rt}function un(Pe,ie,he,Ee,Te,Qe){var rt=(Qe-he)/(Te-he);return Pe.push(ie+(Ee-ie)*rt),Pe.push(Qe),Pe.push(1),rt}function pr(Pe,ie){for(var he=[],Ee=0;Ee<Pe.length;Ee++){var Te,Qe=Pe[Ee],rt=Qe.type;if(rt==="Point"||rt==="MultiPoint"||rt==="LineString")Te=Zr(Qe.geometry,ie);else if(rt==="MultiLineString"||rt==="Polygon"){Te=[];for(var Xe=0;Xe<Qe.geometry.length;Xe++)Te.push(Zr(Qe.geometry[Xe],ie))}else if(rt==="MultiPolygon")for(Te=[],Xe=0;Xe<Qe.geometry.length;Xe++){for(var Ge=[],ut=0;ut<Qe.geometry[Xe].length;ut++)Ge.push(Zr(Qe.geometry[Xe][ut],ie));Te.push(Ge)}he.push(be(Qe.id,rt,Te,Qe.tags))}return he}function Zr(Pe,ie){var he=[];he.size=Pe.size,Pe.start!==void 0&&(he.start=Pe.start,he.end=Pe.end);for(var Ee=0;Ee<Pe.length;Ee+=3)he.push(Pe[Ee]+ie,Pe[Ee+1],Pe[Ee+2]);return he}function ki(Pe,ie){if(Pe.transformed)return Pe;var he,Ee,Te,Qe=1<<Pe.z,rt=Pe.x,Xe=Pe.y;for(he=0;he<Pe.features.length;he++){var Ge=Pe.features[he],ut=Ge.geometry,Tt=Ge.type;if(Ge.geometry=[],Tt===1)for(Ee=0;Ee<ut.length;Ee+=2)Ge.geometry.push(Ai(ut[Ee],ut[Ee+1],ie,Qe,rt,Xe));else for(Ee=0;Ee<ut.length;Ee++){var nn=[];for(Te=0;Te<ut[Ee].length;Te+=2)nn.push(Ai(ut[Ee][Te],ut[Ee][Te+1],ie,Qe,rt,Xe));Ge.geometry.push(nn)}}return Pe.transformed=!0,Pe}function Ai(Pe,ie,he,Ee,Te,Qe){return[Math.round(he*(Pe*Ee-Te)),Math.round(he*(ie*Ee-Qe))]}function Fr(Pe,ie,he,Ee,Te){for(var Qe=ie===Te.maxZoom?0:Te.tolerance/((1<<ie)*Te.extent),rt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:he,y:Ee,z:ie,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Xe=0;Xe<Pe.length;Xe++){rt.numFeatures++,Wr(rt,Pe[Xe],Qe,Te);var Ge=Pe[Xe].minX,ut=Pe[Xe].minY,Tt=Pe[Xe].maxX,nn=Pe[Xe].maxY;Ge<rt.minX&&(rt.minX=Ge),ut<rt.minY&&(rt.minY=ut),Tt>rt.maxX&&(rt.maxX=Tt),nn>rt.maxY&&(rt.maxY=nn)}return rt}function Wr(Pe,ie,he,Ee){var Te=ie.geometry,Qe=ie.type,rt=[];if(Qe==="Point"||Qe==="MultiPoint")for(var Xe=0;Xe<Te.length;Xe+=3)rt.push(Te[Xe]),rt.push(Te[Xe+1]),Pe.numPoints++,Pe.numSimplified++;else if(Qe==="LineString")Zi(rt,Te,Pe,he,!1,!1);else if(Qe==="MultiLineString"||Qe==="Polygon")for(Xe=0;Xe<Te.length;Xe++)Zi(rt,Te[Xe],Pe,he,Qe==="Polygon",Xe===0);else if(Qe==="MultiPolygon")for(var Ge=0;Ge<Te.length;Ge++){var ut=Te[Ge];for(Xe=0;Xe<ut.length;Xe++)Zi(rt,ut[Xe],Pe,he,!0,Xe===0)}if(rt.length){var Tt=ie.tags||null;if(Qe==="LineString"&&Ee.lineMetrics){for(var nn in Tt={},ie.tags)Tt[nn]=ie.tags[nn];Tt.mapbox_clip_start=Te.start/Te.size,Tt.mapbox_clip_end=Te.end/Te.size}var Dt={geometry:rt,type:Qe==="Polygon"||Qe==="MultiPolygon"?3:Qe==="LineString"||Qe==="MultiLineString"?2:1,tags:Tt};ie.id!==null&&(Dt.id=ie.id),Pe.features.push(Dt)}}function Zi(Pe,ie,he,Ee,Te,Qe){var rt=Ee*Ee;if(Ee>0&&ie.size<(Te?rt:Ee))he.numPoints+=ie.length/3;else{for(var Xe=[],Ge=0;Ge<ie.length;Ge+=3)(Ee===0||ie[Ge+2]>rt)&&(he.numSimplified++,Xe.push(ie[Ge]),Xe.push(ie[Ge+1])),he.numPoints++;Te&&function(ut,Tt){for(var nn=0,Dt=0,wn=ut.length,Kn=wn-2;Dt<wn;Kn=Dt,Dt+=2)nn+=(ut[Dt]-ut[Kn])*(ut[Dt+1]+ut[Kn+1]);if(nn>0===Tt)for(Dt=0,wn=ut.length;Dt<wn/2;Dt+=2){var xn=ut[Dt],Zn=ut[Dt+1];ut[Dt]=ut[wn-2-Dt],ut[Dt+1]=ut[wn-1-Dt],ut[wn-2-Dt]=xn,ut[wn-1-Dt]=Zn}}(Xe,Qe),Pe.push(Xe)}}function Wi(Pe,ie){var he=(ie=this.options=function(Te,Qe){for(var rt in Qe)Te[rt]=Qe[rt];return Te}(Object.create(this.options),ie)).debug;if(he&&console.time("preprocess data"),ie.maxZoom<0||ie.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ie.promoteId&&ie.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ee=function(Te,Qe){var rt=[];if(Te.type==="FeatureCollection")for(var Xe=0;Xe<Te.features.length;Xe++)q(rt,Te.features[Xe],Qe,Xe);else q(rt,Te.type==="Feature"?Te:{geometry:Te},Qe);return rt}(Pe,ie);this.tiles={},this.tileCoords=[],he&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ie.indexMaxZoom,ie.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ee=function(Te,Qe){var rt=Qe.buffer/Qe.extent,Xe=Te,Ge=qn(Te,1,-1-rt,rt,0,-1,2,Qe),ut=qn(Te,1,1-rt,2+rt,0,-1,2,Qe);return(Ge||ut)&&(Xe=qn(Te,1,-rt,1+rt,0,-1,2,Qe)||[],Ge&&(Xe=pr(Ge,1).concat(Xe)),ut&&(Xe=Xe.concat(pr(ut,-1)))),Xe}(Ee,ie),Ee.length&&this.splitTile(Ee,0,0,0),he&&(Ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function da(Pe,ie,he){return 32*((1<<Pe)*he+ie)+Pe}function zo(Pe,ie){const he=Pe.tileID.canonical;if(!this._geoJSONIndex)return ie(null,null);const Ee=this._geoJSONIndex.getTile(he.z,he.x,he.y);if(!Ee)return ie(null,null);const Te=new oe(Ee.features);let Qe=ue.exports(Te);Qe.byteOffset===0&&Qe.byteLength===Qe.buffer.byteLength||(Qe=new Uint8Array(Qe)),ie(null,{vectorTile:Te,rawData:Qe.buffer})}Wi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Wi.prototype.splitTile=function(Pe,ie,he,Ee,Te,Qe,rt){for(var Xe=[Pe,ie,he,Ee],Ge=this.options,ut=Ge.debug;Xe.length;){Ee=Xe.pop(),he=Xe.pop(),ie=Xe.pop(),Pe=Xe.pop();var Tt=1<<ie,nn=da(ie,he,Ee),Dt=this.tiles[nn];if(!Dt&&(ut>1&&console.time("creation"),Dt=this.tiles[nn]=Fr(Pe,ie,he,Ee,Ge),this.tileCoords.push({z:ie,x:he,y:Ee}),ut)){ut>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ie,he,Ee,Dt.numFeatures,Dt.numPoints,Dt.numSimplified),console.timeEnd("creation"));var wn="z"+ie;this.stats[wn]=(this.stats[wn]||0)+1,this.total++}if(Dt.source=Pe,Te){if(ie===Ge.maxZoom||ie===Te)continue;var Kn=1<<Te-ie;if(he!==Math.floor(Qe/Kn)||Ee!==Math.floor(rt/Kn))continue}else if(ie===Ge.indexMaxZoom||Dt.numPoints<=Ge.indexMaxPoints)continue;if(Dt.source=null,Pe.length!==0){ut>1&&console.time("clipping");var xn,Zn,Cr,qr,In,dn,Lr=.5*Ge.buffer/Ge.extent,Xr=.5-Lr,Oi=.5+Lr,ge=1+Lr;xn=Zn=Cr=qr=null,In=qn(Pe,Tt,he-Lr,he+Oi,0,Dt.minX,Dt.maxX,Ge),dn=qn(Pe,Tt,he+Xr,he+ge,0,Dt.minX,Dt.maxX,Ge),Pe=null,In&&(xn=qn(In,Tt,Ee-Lr,Ee+Oi,1,Dt.minY,Dt.maxY,Ge),Zn=qn(In,Tt,Ee+Xr,Ee+ge,1,Dt.minY,Dt.maxY,Ge),In=null),dn&&(Cr=qn(dn,Tt,Ee-Lr,Ee+Oi,1,Dt.minY,Dt.maxY,Ge),qr=qn(dn,Tt,Ee+Xr,Ee+ge,1,Dt.minY,Dt.maxY,Ge),dn=null),ut>1&&console.timeEnd("clipping"),Xe.push(xn||[],ie+1,2*he,2*Ee),Xe.push(Zn||[],ie+1,2*he,2*Ee+1),Xe.push(Cr||[],ie+1,2*he+1,2*Ee),Xe.push(qr||[],ie+1,2*he+1,2*Ee+1)}}},Wi.prototype.getTile=function(Pe,ie,he){var Ee=this.options,Te=Ee.extent,Qe=Ee.debug;if(Pe<0||Pe>24)return null;var rt=1<<Pe,Xe=da(Pe,ie=(ie%rt+rt)%rt,he);if(this.tiles[Xe])return ki(this.tiles[Xe],Te);Qe>1&&console.log("drilling down to z%d-%d-%d",Pe,ie,he);for(var Ge,ut=Pe,Tt=ie,nn=he;!Ge&&ut>0;)ut--,Tt=Math.floor(Tt/2),nn=Math.floor(nn/2),Ge=this.tiles[da(ut,Tt,nn)];return Ge&&Ge.source?(Qe>1&&console.log("found parent tile z%d-%d-%d",ut,Tt,nn),Qe>1&&console.time("drilling down"),this.splitTile(Ge.source,ut,Tt,nn,Pe,ie,he),Qe>1&&console.timeEnd("drilling down"),this.tiles[Xe]?ki(this.tiles[Xe],Te):null):null};class os extends V{constructor(ie,he,Ee,Te){super(ie,he,Ee,zo),Te&&(this.loadGeoJSON=Te)}loadData(ie,he){var Ee;(Ee=this._pendingRequest)===null||Ee===void 0||Ee.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const Te=!!(ie&&ie.request&&ie.request.collectResourceTiming)&&new a.RequestPerformance(ie.request);this._pendingCallback=he,this._pendingRequest=this.loadGeoJSON(ie,(Qe,rt)=>{if(delete this._pendingCallback,delete this._pendingRequest,Qe||!rt)return he(Qe);if(typeof rt!="object")return he(new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`));{j(rt,!0);try{if(ie.filter){const Ge=a.createExpression(ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ge.result==="error")throw new Error(Ge.value.map(Tt=>`${Tt.key}: ${Tt.message}`).join(", "));rt={type:"FeatureCollection",features:rt.features.filter(Tt=>Ge.value.evaluate({zoom:0},Tt))}}this._geoJSONIndex=ie.cluster?new bt(function({superclusterOptions:Ge,clusterProperties:ut}){if(!ut||!Ge)return Ge;const Tt={},nn={},Dt={accumulated:null,zoom:0},wn={properties:null},Kn=Object.keys(ut);for(const xn of Kn){const[Zn,Cr]=ut[xn],qr=a.createExpression(Cr),In=a.createExpression(typeof Zn=="string"?[Zn,["accumulated"],["get",xn]]:Zn);Tt[xn]=qr.value,nn[xn]=In.value}return Ge.map=xn=>{wn.properties=xn;const Zn={};for(const Cr of Kn)Zn[Cr]=Tt[Cr].evaluate(Dt,wn);return Zn},Ge.reduce=(xn,Zn)=>{wn.properties=Zn;for(const Cr of Kn)Dt.accumulated=xn[Cr],xn[Cr]=nn[Cr].evaluate(Dt,wn)},Ge}(ie)).load(rt.features):function(Ge,ut){return new Wi(Ge,ut)}(rt,ie.geojsonVtOptions)}catch(Ge){return he(Ge)}this.loaded={};const Xe={};if(Te){const Ge=Te.finish();Ge&&(Xe.resourceTiming={},Xe.resourceTiming[ie.source]=JSON.parse(JSON.stringify(Ge)))}he(null,Xe)}})}reloadTile(ie,he){const Ee=this.loaded;return Ee&&Ee[ie.uid]?super.reloadTile(ie,he):this.loadTile(ie,he)}loadGeoJSON(ie,he){if(ie.request)return a.getJSON(ie.request,he);if(typeof ie.data=="string")try{he(null,JSON.parse(ie.data))}catch{he(new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`))}else he(new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(ie,he){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),he()}getClusterExpansionZoom(ie,he){try{he(null,this._geoJSONIndex.getClusterExpansionZoom(ie.clusterId))}catch(Ee){he(Ee)}}getClusterChildren(ie,he){try{he(null,this._geoJSONIndex.getChildren(ie.clusterId))}catch(Ee){he(Ee)}}getClusterLeaves(ie,he){try{he(null,this._geoJSONIndex.getLeaves(ie.clusterId,ie.limit,ie.offset))}catch(Ee){he(Ee)}}}class _a{constructor(ie){this.self=ie,this.actor=new a.Actor(ie,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:V,geojson:os},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(he,Ee)=>{if(this.workerSourceTypes[he])throw new Error(`Worker source with name "${he}" already registered.`);this.workerSourceTypes[he]=Ee},this.self.registerRTLTextPlugin=he=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=he.applyArabicShaping,a.plugin.processBidirectionalText=he.processBidirectionalText,a.plugin.processStyledBidirectionalText=he.processStyledBidirectionalText}}setReferrer(ie,he){this.referrer=he}setImages(ie,he,Ee){this.availableImages[ie]=he;for(const Te in this.workerSources[ie]){const Qe=this.workerSources[ie][Te];for(const rt in Qe)Qe[rt].availableImages=he}Ee()}setLayers(ie,he,Ee){this.getLayerIndex(ie).replace(he),Ee()}updateLayers(ie,he,Ee){this.getLayerIndex(ie).update(he.layers,he.removedIds),Ee()}loadTile(ie,he,Ee){this.getWorkerSource(ie,he.type,he.source).loadTile(he,Ee)}loadDEMTile(ie,he,Ee){this.getDEMWorkerSource(ie,he.source).loadTile(he,Ee)}reloadTile(ie,he,Ee){this.getWorkerSource(ie,he.type,he.source).reloadTile(he,Ee)}abortTile(ie,he,Ee){this.getWorkerSource(ie,he.type,he.source).abortTile(he,Ee)}removeTile(ie,he,Ee){this.getWorkerSource(ie,he.type,he.source).removeTile(he,Ee)}removeDEMTile(ie,he){this.getDEMWorkerSource(ie,he.source).removeTile(he)}removeSource(ie,he,Ee){if(!this.workerSources[ie]||!this.workerSources[ie][he.type]||!this.workerSources[ie][he.type][he.source])return;const Te=this.workerSources[ie][he.type][he.source];delete this.workerSources[ie][he.type][he.source],Te.removeSource!==void 0?Te.removeSource(he,Ee):Ee()}loadWorkerSource(ie,he,Ee){try{this.self.importScripts(he.url),Ee()}catch(Te){Ee(Te.toString())}}syncRTLPluginState(ie,he,Ee){try{a.plugin.setState(he);const Te=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Te!=null){this.self.importScripts(Te);const Qe=a.plugin.isParsed();Ee(Qe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Te}`),Qe)}}catch(Te){Ee(Te.toString())}}getAvailableImages(ie){let he=this.availableImages[ie];return he||(he=[]),he}getLayerIndex(ie){let he=this.layerIndexes[ie];return he||(he=this.layerIndexes[ie]=new x),he}getWorkerSource(ie,he,Ee){if(this.workerSources[ie]||(this.workerSources[ie]={}),this.workerSources[ie][he]||(this.workerSources[ie][he]={}),!this.workerSources[ie][he][Ee]){const Te={send:(Qe,rt,Xe)=>{this.actor.send(Qe,rt,Xe,ie)}};this.workerSources[ie][he][Ee]=new this.workerSourceTypes[he](Te,this.getLayerIndex(ie),this.getAvailableImages(ie))}return this.workerSources[ie][he][Ee]}getDEMWorkerSource(ie,he){return this.demWorkerSources[ie]||(this.demWorkerSources[ie]={}),this.demWorkerSources[ie][he]||(this.demWorkerSources[ie][he]=new W),this.demWorkerSources[ie][he]}enforceCacheSizeLimit(ie,he){a.enforceCacheSizeLimit(he)}}return a.isWorker()&&(self.worker=new _a(self)),_a}),o(["./shared"],function(a){var f=g;function g(M){return!function(u){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _,E,K=new Blob([""],{type:"text/javascript"}),T=URL.createObjectURL(K);try{E=new Worker(T),_=!0}catch{_=!1}return E&&E.terminate(),URL.revokeObjectURL(T),_}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var _=document.createElement("canvas");_.width=_.height=1;var E=_.getContext("2d");if(!E)return!1;var K=E.getImageData(0,0,1,1);return K&&K.width===_.width}()?(x[m=u&&u.failIfMajorPerformanceCaveat]===void 0&&(x[m]=function(_){var E,K=function(T){var $=document.createElement("canvas"),H=Object.create(g.webGLContextAttributes);return H.failIfMajorPerformanceCaveat=T,$.getContext("webgl",H)||$.getContext("experimental-webgl",H)}(_);if(!K)return!1;try{E=K.createShader(K.VERTEX_SHADER)}catch{return!1}return!(!E||K.isContextLost())&&(K.shaderSource(E,"void main() {}"),K.compileShader(E),K.getShaderParameter(E,K.COMPILE_STATUS)===!0)}(m)),x[m]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var m}(M)}var x={};function I(M,u){if(Array.isArray(M)){if(!Array.isArray(u)||M.length!==u.length)return!1;for(let m=0;m<M.length;m++)if(!I(M[m],u[m]))return!1;return!0}if(typeof M=="object"&&M!==null&&u!==null){if(typeof u!="object"||Object.keys(M).length!==Object.keys(u).length)return!1;for(const m in M)if(!I(M[m],u[m]))return!1;return!0}return M===u}g.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class B{static testProp(u){if(!B.docStyle)return u[0];for(let m=0;m<u.length;m++)if(u[m]in B.docStyle)return u[m];return u[0]}static create(u,m,_){const E=window.document.createElement(u);return m!==void 0&&(E.className=m),_&&_.appendChild(E),E}static createNS(u,m){return window.document.createElementNS(u,m)}static disableDrag(){B.docStyle&&B.selectProp&&(B.userSelect=B.docStyle[B.selectProp],B.docStyle[B.selectProp]="none")}static enableDrag(){B.docStyle&&B.selectProp&&(B.docStyle[B.selectProp]=B.userSelect)}static setTransform(u,m){u.style[B.transformProp]=m}static addEventListener(u,m,_,E={}){u.addEventListener(m,_,"passive"in E?E:E.capture)}static removeEventListener(u,m,_,E={}){u.removeEventListener(m,_,"passive"in E?E:E.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",B.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",B.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",B.suppressClickInternal,!0)},0)}static mousePos(u,m){const _=u.getBoundingClientRect();return new a.pointGeometry(m.clientX-_.left-u.clientLeft,m.clientY-_.top-u.clientTop)}static touchPos(u,m){const _=u.getBoundingClientRect(),E=[];for(let K=0;K<m.length;K++)E.push(new a.pointGeometry(m[K].clientX-_.left-u.clientLeft,m[K].clientY-_.top-u.clientTop));return E}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}}B.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,B.selectProp=B.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),B.transformProp=B.testProp(["transform","WebkitTransform"]);class D{constructor(u){this._transformRequestFn=u}transformRequest(u,m){return this._transformRequestFn&&this._transformRequestFn(u,m)||{url:u}}normalizeSpriteURL(u,m,_){const E=function(K){const T=K.match(L);if(!T)throw new Error(`Unable to parse URL "${K}"`);return{protocol:T[1],authority:T[2],path:T[3]||"/",params:T[4]?T[4].split("&"):[]}}(u);return E.path+=`${m}${_}`,function(K){const T=K.params.length?`?${K.params.join("&")}`:"";return`${K.protocol}://${K.authority}${K.path}${T}`}(E)}setTransformRequest(u){this._transformRequestFn=u}}const L=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class V{constructor(u,m,_,E){this.context=u,this.format=_,this.texture=u.gl.createTexture(),this.update(m,E)}update(u,m,_){const{width:E,height:K}=u,T=!(this.size&&this.size[0]===E&&this.size[1]===K||_),{context:$}=this,{gl:H}=$;if(this.useMipmap=!!(m&&m.useMipmap),H.bindTexture(H.TEXTURE_2D,this.texture),$.pixelStoreUnpackFlipY.set(!1),$.pixelStoreUnpack.set(1),$.pixelStoreUnpackPremultiplyAlpha.set(this.format===H.RGBA&&(!m||m.premultiply!==!1)),T)this.size=[E,K],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.isImageBitmap(u)?H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,H.UNSIGNED_BYTE,u):H.texImage2D(H.TEXTURE_2D,0,this.format,E,K,0,this.format,H.UNSIGNED_BYTE,u.data);else{const{x:te,y:Ae}=_||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.isImageBitmap(u)?H.texSubImage2D(H.TEXTURE_2D,0,te,Ae,H.RGBA,H.UNSIGNED_BYTE,u):H.texSubImage2D(H.TEXTURE_2D,0,te,Ae,E,K,H.RGBA,H.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&H.generateMipmap(H.TEXTURE_2D)}bind(u,m,_){const{context:E}=this,{gl:K}=E;K.bindTexture(K.TEXTURE_2D,this.texture),_!==K.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(_=K.LINEAR),u!==this.filter&&(K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,u),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,_||u),this.filter=u),m!==this.wrap&&(K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_S,m),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_T,m),this.wrap=m)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}function W(M){const{userImage:u}=M;return!!(u&&u.render&&u.render())&&(M.data.replace(new Uint8Array(u.data.buffer)),!0)}class j extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:m,callback:_}of this.requestors)this._notify(m,_);this.requestors=[]}}getImage(u){return this.images[u]}addImage(u,m){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,m)&&(this.images[u]=m)}_validate(u,m){let _=!0;return this._validateStretch(m.stretchX,m.data&&m.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${u}" has invalid "stretchX" value`))),_=!1),this._validateStretch(m.stretchY,m.data&&m.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${u}" has invalid "stretchY" value`))),_=!1),this._validateContent(m.content,m)||(this.fire(new a.ErrorEvent(new Error(`Image "${u}" has invalid "content" value`))),_=!1),_}_validateStretch(u,m){if(!u)return!0;let _=0;for(const E of u){if(E[0]<_||E[1]<E[0]||m<E[1])return!1;_=E[1]}return!0}_validateContent(u,m){return!(u&&(u.length!==4||u[0]<0||m.data.width<u[0]||u[1]<0||m.data.height<u[1]||u[2]<0||m.data.width<u[2]||u[3]<0||m.data.height<u[3]||u[2]<u[0]||u[3]<u[1]))}updateImage(u,m){const _=this.images[u];if(_.data.width!==m.data.width||_.data.height!==m.data.height)throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${m.data.width}x${m.data.height}).`);m.version=_.version+1,this.images[u]=m,this.updatedImages[u]=!0}removeImage(u){const m=this.images[u];delete this.images[u],delete this.patterns[u],m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u,m){let _=!0;if(!this.isLoaded())for(const E of u)this.images[E]||(_=!1);this.isLoaded()||_?this._notify(u,m):this.requestors.push({ids:u,callback:m})}_notify(u,m){const _={};for(const E of u){this.images[E]||this.fire(new a.Event("styleimagemissing",{id:E}));const K=this.images[E];K?_[E]={data:K.data.clone(),pixelRatio:K.pixelRatio,sdf:K.sdf,version:K.version,stretchX:K.stretchX,stretchY:K.stretchY,content:K.content,hasRenderCallback:!!(K.userImage&&K.userImage.render)}:a.warnOnce(`Image "${E}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,_)}getPixelSize(){const{width:u,height:m}=this.atlasImage;return{width:u,height:m}}getPattern(u){const m=this.patterns[u],_=this.getImage(u);if(!_)return null;if(m&&m.position.version===_.version)return m.position;if(m)m.position.version=_.version;else{const E={w:_.data.width+2,h:_.data.height+2,x:0,y:0},K=new a.ImagePosition(E,_);this.patterns[u]={bin:E,position:K}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const m=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new V(u,this.atlasImage,m.RGBA),this.atlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const K in this.patterns)u.push(this.patterns[K].bin);const{w:m,h:_}=a.potpack(u),E=this.atlasImage;E.resize({width:m||1,height:_||1});for(const K in this.patterns){const{bin:T}=this.patterns[K],$=T.x+1,H=T.y+1,te=this.images[K].data,Ae=te.width,ye=te.height;a.RGBAImage.copy(te,E,{x:0,y:0},{x:$,y:H},{width:Ae,height:ye}),a.RGBAImage.copy(te,E,{x:0,y:ye-1},{x:$,y:H-1},{width:Ae,height:1}),a.RGBAImage.copy(te,E,{x:0,y:0},{x:$,y:H+ye},{width:Ae,height:1}),a.RGBAImage.copy(te,E,{x:Ae-1,y:0},{x:$-1,y:H},{width:1,height:ye}),a.RGBAImage.copy(te,E,{x:0,y:0},{x:$+Ae,y:H},{width:1,height:ye})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const m of u){if(this.callbackDispatchedThisFrame[m])continue;this.callbackDispatchedThisFrame[m]=!0;const _=this.images[m];_||a.warnOnce(`Image with ID: "${m}" was not found`),W(_)&&this.updateImage(m,_)}}}const G=1e20;function ee(M,u,m,_,E,K,T,$,H){for(let te=u;te<u+_;te++)re(M,m*K+te,K,E,T,$,H);for(let te=m;te<m+E;te++)re(M,te*K+u,1,_,T,$,H)}function re(M,u,m,_,E,K,T){K[0]=0,T[0]=-G,T[1]=G,E[0]=M[u];for(let $=1,H=0,te=0;$<_;$++){E[$]=M[u+$*m];const Ae=$*$;do{const ye=K[H];te=(E[$]-E[ye]+Ae-ye*ye)/($-ye)/2}while(te<=T[H]&&--H>-1);H++,K[H]=$,T[H]=te,T[H+1]=G}for(let $=0,H=0;$<_;$++){for(;T[H+1]<$;)H++;const te=K[H],Ae=$-te;M[u+$*m]=E[te]+Ae*Ae}}class se{constructor(u,m){this.requestManager=u,this.localIdeographFontFamily=m,this.entries={}}setURL(u){this.url=u}getGlyphs(u,m){const _=[];for(const E in u)for(const K of u[E])_.push({stack:E,id:K});a.asyncAll(_,({stack:E,id:K},T)=>{let $=this.entries[E];$||($=this.entries[E]={glyphs:{},requests:{},ranges:{}});let H=$.glyphs[K];if(H!==void 0)return void T(null,{stack:E,id:K,glyph:H});if(H=this._tinySDF($,E,K),H)return $.glyphs[K]=H,void T(null,{stack:E,id:K,glyph:H});const te=Math.floor(K/256);if(256*te>65535)return void T(new Error("glyphs > 65535 not supported"));if($.ranges[te])return void T(null,{stack:E,id:K,glyph:H});let Ae=$.requests[te];Ae||(Ae=$.requests[te]=[],se.loadGlyphRange(E,te,this.url,this.requestManager,(ye,Me)=>{if(Me){for(const We in Me)this._doesCharSupportLocalGlyph(+We)||($.glyphs[+We]=Me[+We]);$.ranges[te]=!0}for(const We of Ae)We(ye,Me);delete $.requests[te]})),Ae.push((ye,Me)=>{ye?T(ye):Me&&T(null,{stack:E,id:K,glyph:Me[K]||null})})},(E,K)=>{if(E)m(E);else if(K){const T={};for(const{stack:$,id:H,glyph:te}of K)(T[$]||(T[$]={}))[H]=te&&{id:te.id,bitmap:te.bitmap.clone(),metrics:te.metrics};m(null,T)}})}_doesCharSupportLocalGlyph(u){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](u)||a.unicodeBlockLookup["Hangul Syllables"](u)||a.unicodeBlockLookup.Hiragana(u)||a.unicodeBlockLookup.Katakana(u))}_tinySDF(u,m,_){const E=this.localIdeographFontFamily;if(!E||!this._doesCharSupportLocalGlyph(_))return;let K=u.tinySDF;if(!K){let $="400";/bold/i.test(m)?$="900":/medium/i.test(m)?$="500":/light/i.test(m)&&($="200"),K=u.tinySDF=new se.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:E,fontWeight:$})}const T=K.draw(String.fromCharCode(_));return{id:_,bitmap:new a.AlphaImage({width:T.width||30,height:T.height||30},T.data),metrics:{width:T.glyphWidth||24,height:T.glyphHeight||24,left:T.glyphLeft||0,top:T.glyphTop-27||-8,advance:T.glyphAdvance||24}}}}se.loadGlyphRange=function(M,u,m,_,E){const K=256*u,T=K+255,$=_.transformRequest(m.replace("{fontstack}",M).replace("{range}",`${K}-${T}`),a.ResourceType.Glyphs);a.getArrayBuffer($,(H,te)=>{if(H)E(H);else if(te){const Ae={};for(const ye of a.parseGlyphPbf(te))Ae[ye.id]=ye;E(null,Ae)}})},se.TinySDF=class{constructor({fontSize:M=24,buffer:u=3,radius:m=8,cutoff:_=.25,fontFamily:E="sans-serif",fontWeight:K="normal",fontStyle:T="normal"}={}){this.buffer=u,this.cutoff=_,this.radius=m;const $=this.size=M+4*u,H=this._createCanvas($),te=this.ctx=H.getContext("2d",{willReadFrequently:!0});te.font=`${T} ${K} ${M}px ${E}`,te.textBaseline="alphabetic",te.textAlign="left",te.fillStyle="black",this.gridOuter=new Float64Array($*$),this.gridInner=new Float64Array($*$),this.f=new Float64Array($),this.z=new Float64Array($+1),this.v=new Uint16Array($)}_createCanvas(M){const u=document.createElement("canvas");return u.width=u.height=M,u}draw(M){const{width:u,actualBoundingBoxAscent:m,actualBoundingBoxDescent:_,actualBoundingBoxLeft:E,actualBoundingBoxRight:K}=this.ctx.measureText(M),T=Math.ceil(m),$=Math.min(this.size-this.buffer,Math.ceil(K-E)),H=Math.min(this.size-this.buffer,T+Math.ceil(_)),te=$+2*this.buffer,Ae=H+2*this.buffer,ye=Math.max(te*Ae,0),Me=new Uint8ClampedArray(ye),We={data:Me,width:te,height:Ae,glyphWidth:$,glyphHeight:H,glyphTop:T,glyphLeft:0,glyphAdvance:u};if($===0||H===0)return We;const{ctx:Fe,buffer:ze,gridInner:At,gridOuter:yt}=this;Fe.clearRect(ze,ze,$,H),Fe.fillText(M,ze,ze+T);const Mt=Fe.getImageData(ze,ze,$,H);yt.fill(G,0,ye),At.fill(0,0,ye);for(let Ye=0;Ye<H;Ye++)for(let Bt=0;Bt<$;Bt++){const kt=Mt.data[4*(Ye*$+Bt)+3]/255;if(kt===0)continue;const Ht=(Ye+ze)*te+Bt+ze;if(kt===1)yt[Ht]=0,At[Ht]=G;else{const Zt=.5-kt;yt[Ht]=Zt>0?Zt*Zt:0,At[Ht]=Zt<0?Zt*Zt:0}}ee(yt,0,0,te,Ae,te,this.f,this.v,this.z),ee(At,ze,ze,$,H,te,this.f,this.v,this.z);for(let Ye=0;Ye<ye;Ye++){const Bt=Math.sqrt(yt[Ye])-Math.sqrt(At[Ye]);Me[Ye]=Math.round(255-255*(Bt/this.radius+this.cutoff))}return We}};const oe=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(M,u){return a.sphericalToCartesian(M.expression.evaluate(u))}interpolate(M,u,m){return{x:a.number(M.x,u.x,m),y:a.number(M.y,u.y,m),z:a.number(M.z,u.z,m)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)}),ue="-transition";class me extends a.Evented{constructor(u){super(),this._transitionable=new a.Transitionable(oe),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,m={}){if(!this._validate(a.validateLight,u,m))for(const _ in u){const E=u[_];_.endsWith(ue)?this._transitionable.setTransition(_.slice(0,-ue.length),E):this._transitionable.setValue(_,E)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,m,_){return(!_||_.validate!==!1)&&a.emitValidationErrors(this,u.call(a.validateStyle,a.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class De{constructor(u,m){this.width=u,this.height=m,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,m){const _=u.join(",")+String(m);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(u,m)),this.dashEntry[_]}getDashRanges(u,m,_){const E=[];let K=u.length%2==1?-u[u.length-1]*_:0,T=u[0]*_,$=!0;E.push({left:K,right:T,isDash:$,zeroLength:u[0]===0});let H=u[0];for(let te=1;te<u.length;te++){$=!$;const Ae=u[te];K=H*_,H+=Ae,T=H*_,E.push({left:K,right:T,isDash:$,zeroLength:Ae===0})}return E}addRoundDash(u,m,_){const E=m/2;for(let K=-_;K<=_;K++){const T=this.width*(this.nextRow+_+K);let $=0,H=u[$];for(let te=0;te<this.width;te++){te/H.right>1&&(H=u[++$]);const Ae=Math.abs(te-H.left),ye=Math.abs(te-H.right),Me=Math.min(Ae,ye);let We;const Fe=K/_*(E+1);if(H.isDash){const ze=E-Math.abs(Fe);We=Math.sqrt(Me*Me+ze*ze)}else We=E-Math.sqrt(Me*Me+Fe*Fe);this.data[T+te]=Math.max(0,Math.min(255,We+128))}}}addRegularDash(u){for(let $=u.length-1;$>=0;--$){const H=u[$],te=u[$+1];H.zeroLength?u.splice($,1):te&&te.isDash===H.isDash&&(te.left=H.left,u.splice($,1))}const m=u[0],_=u[u.length-1];m.isDash===_.isDash&&(m.left=_.left-this.width,_.right=m.right+this.width);const E=this.width*this.nextRow;let K=0,T=u[K];for(let $=0;$<this.width;$++){$/T.right>1&&(T=u[++K]);const H=Math.abs($-T.left),te=Math.abs($-T.right),Ae=Math.min(H,te);this.data[E+$]=Math.max(0,Math.min(255,(T.isDash?Ae:-Ae)+128))}}addDash(u,m){const _=m?7:0,E=2*_+1;if(this.nextRow+E>this.height)return a.warnOnce("LineAtlas out of space"),null;let K=0;for(let $=0;$<u.length;$++)K+=u[$];if(K!==0){const $=this.width/K,H=this.getDashRanges(u,this.width,$);m?this.addRoundDash(H,$,_):this.addRegularDash(H)}const T={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:K};return this.nextRow+=E,this.dirty=!0,T}bind(u){const m=u.gl;this.texture?(m.bindTexture(m.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,m.texSubImage2D(m.TEXTURE_2D,0,0,0,this.width,this.height,m.ALPHA,m.UNSIGNED_BYTE,this.data))):(this.texture=m.createTexture(),m.bindTexture(m.TEXTURE_2D,this.texture),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),m.texImage2D(m.TEXTURE_2D,0,m.ALPHA,this.width,this.height,0,m.ALPHA,m.UNSIGNED_BYTE,this.data))}}class Re{constructor(u,m){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const _=this.workerPool.acquire(this.id);for(let E=0;E<_.length;E++){const K=new Re.Actor(_[E],m,this.id);K.name=`Worker ${E}`,this.actors.push(K)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,m,_){a.asyncAll(this.actors,(E,K)=>{E.send(u,m,K)},_=_||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(u=>{u.remove()}),this.actors=[],this.workerPool.release(this.id)}}function et(M,u,m){const _=function(E,K){if(E)return m(E);if(K){const T=a.pick(a.extend(K,M),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);K.vector_layers&&(T.vectorLayers=K.vector_layers,T.vectorLayerIds=T.vectorLayers.map($=>$.id)),m(null,T)}};return M.url?a.getJSON(u.transformRequest(M.url,a.ResourceType.Source),_):a.exported.frame(()=>_(null,M))}Re.Actor=a.Actor;class ht{constructor(u,m,_){this.bounds=a.LngLatBounds.convert(this.validateBounds(u)),this.minzoom=m||0,this.maxzoom=_||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const m=Math.pow(2,u.z),_=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*m),E=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*m),K=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*m),T=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*m);return u.x>=_&&u.x<K&&u.y>=E&&u.y<T}}class ke extends a.Evented{constructor(u,m,_,E){if(super(),this.id=u,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(m,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},m),this._collectResourceTiming=m.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(E)}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=et(this._options,this.map._requestManager,(u,m)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),u?this.fire(new a.ErrorEvent(u)):m&&(a.extend(this,m),m.bounds&&(this.tileBounds=new ht(m.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.cancel(),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}loadTile(u,m){const _=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),E={request:this.map._requestManager.transformRequest(_,a.ResourceType.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function K(T,$){return delete u.request,u.aborted?m(null):T&&T.status!==404?m(T):($&&$.resourceTiming&&(u.resourceTiming=$.resourceTiming),this.map._refreshExpiredTiles&&$&&u.setExpiryData($),u.loadVectorData($,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),m(null),void(u.reloadCallback&&(this.loadTile(u,u.reloadCallback),u.reloadCallback=null)))}E.request.collectResourceTiming=this._collectResourceTiming,u.actor&&u.state!=="expired"?u.state==="loading"?u.reloadCallback=m:u.request=u.actor.send("reloadTile",E,K.bind(this)):(u.actor=this.dispatcher.getActor(),u.request=u.actor.send("loadTile",E,K.bind(this)))}abortTile(u){u.request&&(u.request.cancel(),delete u.request),u.actor&&u.actor.send("abortTile",{uid:u.uid,type:this.type,source:this.id},void 0)}unloadTile(u){u.unloadVectorData(),u.actor&&u.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Je extends a.Evented{constructor(u,m,_,E){super(),this.id=u,this.dispatcher=_,this.setEventedParent(E),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},m),a.extend(this,a.pick(m,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=et(this._options,this.map._requestManager,(u,m)=>{this._tileJSONRequest=null,this._loaded=!0,u?this.fire(new a.ErrorEvent(u)):m&&(a.extend(this,m),m.bounds&&(this.tileBounds=new ht(m.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u,m){const _=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.request=a.getImage(this.map._requestManager.transformRequest(_,a.ResourceType.Tile),(E,K,T)=>{if(delete u.request,u.aborted)u.state="unloaded",m(null);else if(E)u.state="errored",m(E);else if(K){this.map._refreshExpiredTiles&&u.setExpiryData(T);const $=this.map.painter.context,H=$.gl;u.texture=this.map.painter.getTileTexture(K.width),u.texture?u.texture.update(K,{useMipmap:!0}):(u.texture=new V($,K,H.RGBA,{useMipmap:!0}),u.texture.bind(H.LINEAR,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),$.extTextureFilterAnisotropic&&H.texParameterf(H.TEXTURE_2D,$.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,$.extTextureFilterAnisotropicMax)),u.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),m(null)}})}abortTile(u,m){u.request&&(u.request.cancel(),delete u.request),m()}unloadTile(u,m){u.texture&&this.map.painter.saveTileTexture(u.texture),m()}hasTransition(){return!1}}let ve;class ft extends Je{constructor(u,m,_,E){super(u,m,_,E),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},m),this.encoding=m.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(u,m){const _=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function E(K,T){K&&(u.state="errored",m(K)),T&&(u.dem=T,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded",m(null))}u.request=a.getImage(this.map._requestManager.transformRequest(_,a.ResourceType.Tile),(function(K,T){if(delete u.request,u.aborted)u.state="unloaded",m(null);else if(K)u.state="errored",m(K);else if(T){this.map._refreshExpiredTiles&&u.setExpiryData(T),delete T.cacheControl,delete T.expires;const $=a.isImageBitmap(T)&&(ve==null&&(ve=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),ve)?T:a.exported.getImageData(T,1),H={uid:u.uid,coord:u.tileID,source:this.id,rawImageData:$,encoding:this.encoding};u.actor&&u.state!=="expired"||(u.actor=this.dispatcher.getActor(),u.actor.send("loadDEMTile",H,E.bind(this)))}}).bind(this)),u.neighboringTiles=this._getNeighboringTiles(u.tileID)}_getNeighboringTiles(u){const m=u.canonical,_=Math.pow(2,m.z),E=(m.x-1+_)%_,K=m.x===0?u.wrap-1:u.wrap,T=(m.x+1+_)%_,$=m.x+1===_?u.wrap+1:u.wrap,H={};return H[new a.OverscaledTileID(u.overscaledZ,K,m.z,E,m.y).key]={backfilled:!1},H[new a.OverscaledTileID(u.overscaledZ,$,m.z,T,m.y).key]={backfilled:!1},m.y>0&&(H[new a.OverscaledTileID(u.overscaledZ,K,m.z,E,m.y-1).key]={backfilled:!1},H[new a.OverscaledTileID(u.overscaledZ,u.wrap,m.z,m.x,m.y-1).key]={backfilled:!1},H[new a.OverscaledTileID(u.overscaledZ,$,m.z,T,m.y-1).key]={backfilled:!1}),m.y+1<_&&(H[new a.OverscaledTileID(u.overscaledZ,K,m.z,E,m.y+1).key]={backfilled:!1},H[new a.OverscaledTileID(u.overscaledZ,u.wrap,m.z,m.x,m.y+1).key]={backfilled:!1},H[new a.OverscaledTileID(u.overscaledZ,$,m.z,T,m.y+1).key]={backfilled:!1}),H}unloadTile(u){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&u.actor.send("removeDEMTile",{uid:u.uid,source:this.id})}}class Ft extends a.Evented{constructor(u,m,_,E){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=_.getActor(),this.setEventedParent(E),this._data=m.data,this._options=a.extend({},m),this._collectResourceTiming=m.collectResourceTiming,m.maxzoom!==void 0&&(this.maxzoom=m.maxzoom),m.type&&(this.type=m.type),m.attribution&&(this.attribution=m.attribution),this.promoteId=m.promoteId;const K=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:m.cluster||!1,geojsonVtOptions:{buffer:(m.buffer!==void 0?m.buffer:128)*K,tolerance:(m.tolerance!==void 0?m.tolerance:.375)*K,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:m.lineMetrics||!1,generateId:m.generateId||!1},superclusterOptions:{maxZoom:m.clusterMaxZoom!==void 0?m.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,m.clusterMinPoints||2),extent:a.EXTENT,radius:(m.clusterRadius||50)*K,log:!1,generateId:m.generateId||!1},clusterProperties:m.clusterProperties,filter:m.filter},m.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(u){this.map=u,this.load()}setData(u){return this._data=u,this._updateWorkerData("content"),this}getClusterExpansionZoom(u,m){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:u,source:this.id},m),this}getClusterChildren(u,m){return this.actor.send("geojson.getClusterChildren",{clusterId:u,source:this.id},m),this}getClusterLeaves(u,m,_,E){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:u,limit:m,offset:_},E),this}_updateWorkerData(u){const m=a.extend({},this.workerOptions),_=this._data;typeof _=="string"?(m.request=this.map._requestManager.transformRequest(a.exported.resolveURL(_),a.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(_),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,m,(E,K)=>{if(this._pendingLoads--,this._removed||K&&K.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source",sourceDataType:u}));let T=null;if(K&&K.resourceTiming&&K.resourceTiming[this.id]&&(T=K.resourceTiming[this.id].slice(0)),E)return void this.fire(new a.ErrorEvent(E));const $={dataType:"source",sourceDataType:u};this._collectResourceTiming&&T&&T.length>0&&a.extend($,{resourceTiming:T}),this.fire(new a.Event("data",$))})}loaded(){return this._pendingLoads===0}loadTile(u,m){const _=u.actor?"reloadTile":"loadTile";u.actor=this.actor;const E={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.request=this.actor.send(_,E,(K,T)=>(delete u.request,u.unloadVectorData(),u.aborted?m(null):K?m(K):(u.loadVectorData(T,this.map.painter,_==="reloadTile"),m(null))))}abortTile(u){u.request&&(u.request.cancel(),delete u.request),u.aborted=!0}unloadTile(u){u.unloadVectorData(),this.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var tn=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class St extends a.Evented{constructor(u,m,_,E){super(),this.id=u,this.dispatcher=_,this.coordinates=m.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(E),this.options=m}load(u,m){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(_,E)=>{this._loaded=!0,_?this.fire(new a.ErrorEvent(_)):E&&(this.image=E,u&&(this.coordinates=u),m&&m(),this._finishLoading())})}loaded(){return this._loaded}updateImage(u){return this.image&&u.url?(this.options.url=u.url,this.load(u.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}setCoordinates(u){this.coordinates=u;const m=u.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(E){let K=1/0,T=1/0,$=-1/0,H=-1/0;for(const Me of E)K=Math.min(K,Me.x),T=Math.min(T,Me.y),$=Math.max($,Me.x),H=Math.max(H,Me.y);const te=Math.max($-K,H-T),Ae=Math.max(0,Math.floor(-Math.log(te)/Math.LN2)),ye=Math.pow(2,Ae);return new a.CanonicalTileID(Ae,Math.floor((K+$)/2*ye),Math.floor((T+H)/2*ye))}(m),this.minzoom=this.maxzoom=this.tileID.z;const _=m.map(E=>this.tileID.getTilePoint(E)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(_[0].x,_[0].y,0,0),this._boundsArray.emplaceBack(_[1].x,_[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(_[3].x,_[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(_[2].x,_[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,m=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,tn.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new V(u,this.image,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));for(const _ in this.tiles){const E=this.tiles[_];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture)}}loadTile(u,m){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={},m(null)):(u.state="errored",m(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Ne extends St{constructor(u,m,_,E){super(u,m,_,E),this.roundZoom=!0,this.type="video",this.options=m}load(){this._loaded=!1;const u=this.options;this.urls=[];for(const m of u.urls)this.urls.push(this.map._requestManager.transformRequest(m,a.ResourceType.Source).url);a.getVideo(this.urls,(m,_)=>{this._loaded=!0,m?this.fire(new a.ErrorEvent(m)):_&&(this.video=_,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const m=this.video.seekable;u<m.start(0)||u>m.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${m.start(0)} and ${m.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,m=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,tn.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.texSubImage2D(m.TEXTURE_2D,0,0,0,m.RGBA,m.UNSIGNED_BYTE,this.video)):(this.texture=new V(u,this.video,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));for(const _ in this.tiles){const E=this.tiles[_];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class qe extends St{constructor(u,m,_,E){super(u,m,_,E),m.coordinates?Array.isArray(m.coordinates)&&m.coordinates.length===4&&!m.coordinates.some(K=>!Array.isArray(K)||K.length!==2||K.some(T=>typeof T!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'missing required property "coordinates"'))),m.animate&&typeof m.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),m.canvas?typeof m.canvas=="string"||m.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'missing required property "canvas"'))),this.options=m,this.animate=m.animate===void 0||m.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const m=this.map.painter.context,_=m.gl;this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,tn.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new V(m,this.canvas,_.RGBA,{premultiply:!0});for(const E in this.tiles){const K=this.tiles[E];K.state!=="loaded"&&(K.state="loaded",K.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const tt={vector:ke,raster:Je,"raster-dem":ft,geojson:Ft,video:Ne,image:St,canvas:qe};function Jt(M,u){const m=a.create();return a.translate(m,m,[1,1,0]),a.scale(m,m,[.5*M.width,.5*M.height,1]),a.multiply(m,m,M.calculatePosMatrix(u.toUnwrapped()))}function dt(M,u,m,_,E,K){const T=function(ye,Me,We){if(ye)for(const Fe of ye){const ze=Me[Fe];if(ze&&ze.source===We&&ze.type==="fill-extrusion")return!0}else for(const Fe in Me){const ze=Me[Fe];if(ze.source===We&&ze.type==="fill-extrusion")return!0}return!1}(E&&E.layers,u,M.id),$=K.maxPitchScaleFactor(),H=M.tilesIn(_,$,T);H.sort(ot);const te=[];for(const ye of H)te.push({wrappedTileID:ye.tileID.wrapped().key,queryResults:ye.tile.queryRenderedFeatures(u,m,M._state,ye.queryGeometry,ye.cameraQueryGeometry,ye.scale,E,K,$,Jt(M.transform,ye.tileID))});const Ae=function(ye){const Me={},We={};for(const Fe of ye){const ze=Fe.queryResults,At=Fe.wrappedTileID,yt=We[At]=We[At]||{};for(const Mt in ze){const Ye=ze[Mt],Bt=yt[Mt]=yt[Mt]||{},kt=Me[Mt]=Me[Mt]||[];for(const Ht of Ye)Bt[Ht.featureIndex]||(Bt[Ht.featureIndex]=!0,kt.push(Ht))}}return Me}(te);for(const ye in Ae)Ae[ye].forEach(Me=>{const We=Me.feature,Fe=M.getFeatureState(We.layer["source-layer"],We.id);We.source=We.layer.source,We.layer["source-layer"]&&(We.sourceLayer=We.layer["source-layer"]),We.state=Fe});return Ae}function ot(M,u){const m=M.tileID,_=u.tileID;return m.overscaledZ-_.overscaledZ||m.canonical.y-_.canonical.y||m.wrap-_.wrap||m.canonical.x-_.canonical.x}class Et{constructor(u,m){this.tileID=u,this.uid=a.uniqueId(),this.uses=0,this.tileSize=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(u){const m=u+this.timeAdded;m<a.exported.now()||this.fadeEndTime&&m<this.fadeEndTime||(this.fadeEndTime=m)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.textures.forEach(m=>u.saveTileTexture(m)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(u,m,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=function(E,K){const T={};if(!K)return T;for(const $ of E){const H=$.layerIds.map(te=>K.getLayer(te)).filter(Boolean);if(H.length!==0){$.layers=H,$.stateDependentLayerIds&&($.stateDependentLayers=$.stateDependentLayerIds.map(te=>H.filter(Ae=>Ae.id===te)[0]));for(const te of H)T[te.id]=$}}return T}(u.buckets,m.style),this.hasSymbolBuckets=!1;for(const E in this.buckets){const K=this.buckets[E];if(K instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!_)break;K.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const E in this.buckets){const K=this.buckets[E];if(K instanceof a.SymbolBucket&&K.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const E in this.buckets){const K=this.buckets[E];this.queryPadding=Math.max(this.queryPadding,m.style.getLayer(E).queryRadius(K))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const _ in this.buckets){const E=this.buckets[_];E.uploadPending()&&E.upload(u)}const m=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new V(u,this.imageAtlas.image,m.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new V(u,this.glyphAtlasImage,m.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,m,_,E,K,T,$,H,te,Ae){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:E,cameraQueryGeometry:K,scale:T,tileSize:this.tileSize,pixelPosMatrix:Ae,transform:H,params:$,queryPadding:this.queryPadding*te},u,m,_):{}}querySourceFeatures(u,m){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const E=_.loadVTLayers(),K=m?m.sourceLayer:"",T=E._geojsonTileLayer||E[K];if(!T)return;const $=a.createFilter(m&&m.filter),{z:H,x:te,y:Ae}=this.tileID.canonical,ye={z:H,x:te,y:Ae};for(let Me=0;Me<T.length;Me++){const We=T.feature(Me);if($.needGeometry){const At=a.toEvaluationFeature(We,!0);if(!$.filter(new a.EvaluationParameters(this.tileID.overscaledZ),At,this.tileID.canonical))continue}else if(!$.filter(new a.EvaluationParameters(this.tileID.overscaledZ),We))continue;const Fe=_.getId(We,K),ze=new a.GeoJSONFeature(We,H,te,Ae,Fe);ze.tile=ye,u.push(ze)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const m=this.expirationTime;if(u.cacheControl){const _=a.parseCacheControl(u.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const _=Date.now();let E=!1;if(this.expirationTime>_)E=!1;else if(m)if(this.expirationTime<m)E=!0;else{const K=this.expirationTime-m;K?this.expirationTime=_+Math.max(K,3e4):E=!0}else E=!0;E?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,m){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const E in this.buckets){if(!m.style.hasLayer(E))continue;const K=this.buckets[E],T=K.layers[0].sourceLayer||"_geojsonTileLayer",$=_[T],H=u[T];if(!$||!H||Object.keys(H).length===0)continue;K.update(H,$,this.imageAtlas&&this.imageAtlas.patternPositions||{});const te=m&&m.style&&m.style.getLayer(E);te&&(this.queryPadding=Math.max(this.queryPadding,te.queryRadius(K)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(u){this.symbolFadeHoldUntil=a.exported.now()+u}setDependencies(u,m){const _={};for(const E of m)_[E]=!0;this.dependencies[u]=_}hasDependency(u,m){for(const _ of u){const E=this.dependencies[_];if(E){for(const K of m)if(E[K])return!0}}return!1}}class Kt{constructor(u,m){this.max=u,this.onRemove=m,this.reset()}reset(){for(const u in this.data)for(const m of this.data[u])m.timeout&&clearTimeout(m.timeout),this.onRemove(m.value);return this.data={},this.order=[],this}add(u,m,_){const E=u.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);const K={value:m,timeout:void 0};if(_!==void 0&&(K.timeout=setTimeout(()=>{this.remove(u,K)},_)),this.data[E].push(K),this.order.push(E),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(u){return u.wrapped().key in this.data}getAndRemove(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null}_getAndRemoveByKey(u){const m=this.data[u].shift();return m.timeout&&clearTimeout(m.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),m.value}getByKey(u){const m=this.data[u];return m?m[0].value:null}get(u){return this.has(u)?this.data[u.wrapped().key][0].value:null}remove(u,m){if(!this.has(u))return this;const _=u.wrapped().key,E=m===void 0?0:this.data[_].indexOf(m),K=this.data[_][E];return this.data[_].splice(E,1),K.timeout&&clearTimeout(K.timeout),this.data[_].length===0&&delete this.data[_],this.onRemove(K.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(u){for(this.max=u;this.order.length>this.max;){const m=this._getAndRemoveByKey(this.order[0]);m&&this.onRemove(m)}return this}filter(u){const m=[];for(const _ in this.data)for(const E of this.data[_])u(E.value)||m.push(E);for(const _ of m)this.remove(_.value.tileID,_)}}class xe{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,m,_){const E=String(m);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][E]=this.stateChanges[u][E]||{},a.extend(this.stateChanges[u][E],_),this.deletedStates[u]===null){this.deletedStates[u]={};for(const K in this.state[u])K!==E&&(this.deletedStates[u][K]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][E]===null){this.deletedStates[u][E]={};for(const K in this.state[u][E])_[K]||(this.deletedStates[u][E][K]=null)}else for(const K in _)this.deletedStates[u]&&this.deletedStates[u][E]&&this.deletedStates[u][E][K]===null&&delete this.deletedStates[u][E][K]}removeFeatureState(u,m,_){if(this.deletedStates[u]===null)return;const E=String(m);if(this.deletedStates[u]=this.deletedStates[u]||{},_&&m!==void 0)this.deletedStates[u][E]!==null&&(this.deletedStates[u][E]=this.deletedStates[u][E]||{},this.deletedStates[u][E][_]=null);else if(m!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][E])for(_ in this.deletedStates[u][E]={},this.stateChanges[u][E])this.deletedStates[u][E][_]=null;else this.deletedStates[u][E]=null;else this.deletedStates[u]=null}getState(u,m){const _=String(m),E=a.extend({},(this.state[u]||{})[_],(this.stateChanges[u]||{})[_]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const K=this.deletedStates[u][m];if(K===null)return{};for(const T in K)delete E[T]}return E}initializeTileState(u,m){u.setFeatureState(this.state,m)}coalesceChanges(u,m){const _={};for(const E in this.stateChanges){this.state[E]=this.state[E]||{};const K={};for(const T in this.stateChanges[E])this.state[E][T]||(this.state[E][T]={}),a.extend(this.state[E][T],this.stateChanges[E][T]),K[T]=this.state[E][T];_[E]=K}for(const E in this.deletedStates){this.state[E]=this.state[E]||{};const K={};if(this.deletedStates[E]===null)for(const T in this.state[E])K[T]={},this.state[E][T]={};else for(const T in this.deletedStates[E]){if(this.deletedStates[E][T]===null)this.state[E][T]={};else for(const $ of Object.keys(this.deletedStates[E][T]))delete this.state[E][T][$];K[T]=this.state[E][T]}_[E]=_[E]||{},a.extend(_[E],K)}if(this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0)for(const E in u)u[E].setFeatureState(_,m)}}class ce extends a.Evented{constructor(u,m,_){super(),this.id=u,this.dispatcher=_,this.on("data",E=>{E.dataType==="source"&&E.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&E.dataType==="source"&&E.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(E,K,T,$){const H=new tt[K.type](E,K,T,$);if(H.id!==E)throw new Error(`Expected Source id to be ${E} instead of ${H.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],H),H}(u,m,_,this),this._tiles={},this._cache=new Kt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new xe}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const u in this._tiles){const m=this._tiles[u];if(m.state!=="loaded"&&m.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,m){return this._source.loadTile(u,m)}_unloadTile(u){if(this._source.unloadTile)return this._source.unloadTile(u,()=>{})}_abortTile(u){this._source.abortTile&&this._source.abortTile(u,()=>{}),this._source.fire(new a.Event("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const m in this._tiles){const _=this._tiles[m];_.upload(u),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(u=>u.tileID).sort(_e).map(u=>u.key)}getRenderableIds(u){const m=[];for(const _ in this._tiles)this._isIdRenderable(_,u)&&m.push(this._tiles[_]);return u?m.sort((_,E)=>{const K=_.tileID,T=E.tileID,$=new a.pointGeometry(K.canonical.x,K.canonical.y)._rotate(this.transform.angle),H=new a.pointGeometry(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return K.overscaledZ-T.overscaledZ||H.y-$.y||H.x-$.x}).map(_=>_.tileID.key):m.map(_=>_.tileID).sort(_e).map(_=>_.key)}hasRenderableParent(u){const m=this.findLoadedParent(u,0);return!!m&&this._isIdRenderable(m.tileID.key)}_isIdRenderable(u,m){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(m||!this._tiles[u].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(u,m){const _=this._tiles[u];_&&(_.state!=="loading"&&(_.state=m),this._loadTile(_,this._tileLoaded.bind(this,_,u,m)))}_tileLoaded(u,m,_,E){if(E)return u.state="errored",void(E.status!==404?this._source.fire(new a.ErrorEvent(E,{tile:u})):this.update(this.transform,this.terrain));u.timeAdded=a.exported.now(),_==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(m,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const m=this.getRenderableIds();for(let E=0;E<m.length;E++){const K=m[E];if(u.neighboringTiles&&u.neighboringTiles[K]){const T=this.getTileByID(K);_(u,T),_(T,u)}}function _(E,K){E.needsHillshadePrepare=!0,E.needsTerrainPrepare=!0;let T=K.tileID.canonical.x-E.tileID.canonical.x;const $=K.tileID.canonical.y-E.tileID.canonical.y,H=Math.pow(2,E.tileID.canonical.z),te=K.tileID.key;T===0&&$===0||Math.abs($)>1||(Math.abs(T)>1&&(Math.abs(T+H)===1?T+=H:Math.abs(T-H)===1&&(T-=H)),K.dem&&E.dem&&(E.dem.backfillBorder(K.dem,T,$),E.neighboringTiles&&E.neighboringTiles[te]&&(E.neighboringTiles[te].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,m,_,E){for(const K in this._tiles){let T=this._tiles[K];if(E[K]||!T.hasData()||T.tileID.overscaledZ<=m||T.tileID.overscaledZ>_)continue;let $=T.tileID;for(;T&&T.tileID.overscaledZ>m+1;){const te=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[te.key],T&&T.hasData()&&($=te)}let H=$;for(;H.overscaledZ>m;)if(H=H.scaledTo(H.overscaledZ-1),u[H.key]){E[$.key]=$;break}}}findLoadedParent(u,m){if(u.key in this._loadedParentTiles){const _=this._loadedParentTiles[u.key];return _&&_.tileID.overscaledZ>=m?_:null}for(let _=u.overscaledZ-1;_>=m;_--){const E=u.scaledTo(_),K=this._getLoadedTile(E);if(K)return K}}_getLoadedTile(u){const m=this._tiles[u.key];return m&&m.hasData()?m:this._cache.getByKey(u.wrapped().key)}updateCacheSize(u){const m=Math.ceil(u.width/this._source.tileSize)+1,_=Math.ceil(u.height/this._source.tileSize)+1,E=Math.floor(m*_*5),K=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,E):E;this._cache.setMaxSize(K)}handleWrapJump(u){const m=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,m){const _={};for(const E in this._tiles){const K=this._tiles[E];K.tileID=K.tileID.unwrapTo(K.tileID.wrap+m),_[K.tileID.key]=K}this._tiles=_;for(const E in this._timers)clearTimeout(this._timers[E]),delete this._timers[E];for(const E in this._tiles)this._setTileReloadTimer(E,this._tiles[E])}}update(u,m){if(this.transform=u,this.terrain=m,!this._sourceLoaded||this._paused)return;let _;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(te=>new a.OverscaledTileID(te.canonical.z,te.wrap,te.canonical.z,te.canonical.x,te.canonical.y)):(_=u.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:m}),this._source.hasTile&&(_=_.filter(te=>this._source.hasTile(te)))):_=[];const E=u.coveringZoomLevel(this._source),K=Math.max(E-ce.maxOverzooming,this._source.minzoom),T=Math.max(E+ce.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const te={};for(const Ae of _)if(Ae.canonical.z>this._source.minzoom){const ye=Ae.scaledTo(Ae.canonical.z-1);te[ye.key]=ye;const Me=Ae.scaledTo(Math.max(this._source.minzoom,Math.min(Ae.canonical.z,5)));te[Me.key]=Me}_=_.concat(Object.values(te))}const $=this._updateRetainedTiles(_,E);if(Ke(this._source.type)){const te={},Ae={},ye=Object.keys($);for(const Me of ye){const We=$[Me],Fe=this._tiles[Me];if(!Fe||Fe.fadeEndTime&&Fe.fadeEndTime<=a.exported.now())continue;const ze=this.findLoadedParent(We,K);ze&&(this._addTile(ze.tileID),te[ze.tileID.key]=ze.tileID),Ae[Me]=We}this._retainLoadedChildren(Ae,E,T,$);for(const Me in te)$[Me]||(this._coveredTiles[Me]=!0,$[Me]=te[Me]);if(m){const Me={},We={};for(const Fe of _)this._tiles[Fe.key].hasData()?Me[Fe.key]=Fe:We[Fe.key]=Fe;for(const Fe in We){const ze=We[Fe].children(this._source.maxzoom);this._tiles[ze[0].key]&&this._tiles[ze[1].key]&&this._tiles[ze[2].key]&&this._tiles[ze[3].key]&&(Me[ze[0].key]=$[ze[0].key]=ze[0],Me[ze[1].key]=$[ze[1].key]=ze[1],Me[ze[2].key]=$[ze[2].key]=ze[2],Me[ze[3].key]=$[ze[3].key]=ze[3],delete We[Fe])}for(const Fe in We){const ze=this.findLoadedParent(We[Fe],this._source.minzoom);if(ze){Me[ze.tileID.key]=$[ze.tileID.key]=ze.tileID;for(const At in Me)Me[At].isChildOf(ze.tileID)&&delete Me[At]}}for(const Fe in this._tiles)Me[Fe]||(this._coveredTiles[Fe]=!0)}}for(const te in $)this._tiles[te].clearFadeHold();const H=a.keysDifference(this._tiles,$);for(const te of H){const Ae=this._tiles[te];Ae.hasSymbolBuckets&&!Ae.holdingForFade()?Ae.setHoldDuration(this.map._fadeDuration):Ae.hasSymbolBuckets&&!Ae.symbolFadeFinished()||this._removeTile(te)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)}_updateRetainedTiles(u,m){const _={},E={},K=Math.max(m-ce.maxOverzooming,this._source.minzoom),T=Math.max(m+ce.maxUnderzooming,this._source.minzoom),$={};for(const H of u){const te=this._addTile(H);_[H.key]=H,te.hasData()||m<this._source.maxzoom&&($[H.key]=H)}this._retainLoadedChildren($,m,T,_);for(const H of u){let te=this._tiles[H.key];if(te.hasData())continue;if(m+1>this._source.maxzoom){const ye=H.children(this._source.maxzoom)[0],Me=this.getTile(ye);if(Me&&Me.hasData()){_[ye.key]=ye;continue}}else{const ye=H.children(this._source.maxzoom);if(_[ye[0].key]&&_[ye[1].key]&&_[ye[2].key]&&_[ye[3].key])continue}let Ae=te.wasRequested();for(let ye=H.overscaledZ-1;ye>=K;--ye){const Me=H.scaledTo(ye);if(E[Me.key]||(E[Me.key]=!0,te=this.getTile(Me),!te&&Ae&&(te=this._addTile(Me)),te&&(_[Me.key]=Me,Ae=te.wasRequested(),te.hasData())))break}}return _}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const u in this._tiles){const m=[];let _,E=this._tiles[u].tileID;for(;E.overscaledZ>0;){if(E.key in this._loadedParentTiles){_=this._loadedParentTiles[E.key];break}m.push(E.key);const K=E.scaledTo(E.overscaledZ-1);if(_=this._getLoadedTile(K),_)break;E=K}for(const K of m)this._loadedParentTiles[K]=_}}_addTile(u){let m=this._tiles[u.key];if(m)return m;m=this._cache.getAndRemove(u),m&&(this._setTileReloadTimer(u.key,m),m.tileID=u,this._state.initializeTileState(m,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,m)));const _=m;return m||(m=new Et(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(m,this._tileLoaded.bind(this,m,u.key,m.state))),m.uses++,this._tiles[u.key]=m,_||this._source.fire(new a.Event("dataloading",{tile:m,coord:m.tileID,dataType:"source"})),m}_setTileReloadTimer(u,m){u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);const _=m.getExpiryTimeout();_&&(this._timers[u]=setTimeout(()=>{this._reloadTile(u,"expired"),delete this._timers[u]},_))}_removeTile(u){const m=this._tiles[u];m&&(m.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),m.uses>0||(m.hasData()&&m.state!=="reloading"?this._cache.add(m.tileID,m,m.getExpiryTimeout()):(m.aborted=!0,this._abortTile(m),this._unloadTile(m))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,m,_){const E=[],K=this.transform;if(!K)return E;const T=_?K.getCameraQueryGeometry(u):u,$=u.map(Fe=>K.pointCoordinate(Fe,this.terrain)),H=T.map(Fe=>K.pointCoordinate(Fe,this.terrain)),te=this.getIds();let Ae=1/0,ye=1/0,Me=-1/0,We=-1/0;for(const Fe of H)Ae=Math.min(Ae,Fe.x),ye=Math.min(ye,Fe.y),Me=Math.max(Me,Fe.x),We=Math.max(We,Fe.y);for(let Fe=0;Fe<te.length;Fe++){const ze=this._tiles[te[Fe]];if(ze.holdingForFade())continue;const At=ze.tileID,yt=Math.pow(2,K.zoom-ze.tileID.overscaledZ),Mt=m*ze.queryPadding*a.EXTENT/ze.tileSize/yt,Ye=[At.getTilePoint(new a.MercatorCoordinate(Ae,ye)),At.getTilePoint(new a.MercatorCoordinate(Me,We))];if(Ye[0].x-Mt<a.EXTENT&&Ye[0].y-Mt<a.EXTENT&&Ye[1].x+Mt>=0&&Ye[1].y+Mt>=0){const Bt=$.map(Ht=>At.getTilePoint(Ht)),kt=H.map(Ht=>At.getTilePoint(Ht));E.push({tile:ze,tileID:At,queryGeometry:Bt,cameraQueryGeometry:kt,scale:yt})}}return E}getVisibleCoordinates(u){const m=this.getRenderableIds(u).map(_=>this._tiles[_].tileID);for(const _ of m)_.posMatrix=this.transform.calculatePosMatrix(_.toUnwrapped());return m}hasTransition(){if(this._source.hasTransition())return!0;if(Ke(this._source.type))for(const u in this._tiles){const m=this._tiles[u];if(m.fadeEndTime!==void 0&&m.fadeEndTime>=a.exported.now())return!0}return!1}setFeatureState(u,m,_){this._state.updateState(u=u||"_geojsonTileLayer",m,_)}removeFeatureState(u,m,_){this._state.removeFeatureState(u=u||"_geojsonTileLayer",m,_)}getFeatureState(u,m){return this._state.getState(u=u||"_geojsonTileLayer",m)}setDependencies(u,m,_){const E=this._tiles[u];E&&E.setDependencies(m,_)}reloadTilesForDependencies(u,m){for(const _ in this._tiles)this._tiles[_].hasDependency(u,m)&&this._reloadTile(_,"reloading");this._cache.filter(_=>!_.hasDependency(u,m))}}function _e(M,u){const m=Math.abs(2*M.wrap)-+(M.wrap<0),_=Math.abs(2*u.wrap)-+(u.wrap<0);return M.overscaledZ-u.overscaledZ||_-m||u.canonical.y-M.canonical.y||u.canonical.x-M.canonical.x}function Ke(M){return M==="raster"||M==="image"||M==="video"}ce.maxOverzooming=10,ce.maxUnderzooming=3;const Ve="mapboxgl_preloaded_worker_pool";class Ze{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<Ze.workerCount;)this.workers.push(new Worker(yc.workerUrl));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(m=>{m.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Ve]}numActive(){return Object.keys(this.active).length}}const bt=Math.floor(a.exported.hardwareConcurrency/2);let Gt;function Lt(){return Gt||(Gt=new Ze),Gt}function Un(M,u){const m={};for(const _ in M)_!=="ref"&&(m[_]=M[_]);return a.refProperties.forEach(_=>{_ in u&&(m[_]=u[_])}),m}function rr(M){M=M.slice();const u=Object.create(null);for(let m=0;m<M.length;m++)u[M[m].id]=M[m];for(let m=0;m<M.length;m++)"ref"in M[m]&&(M[m]=Un(M[m],u[M[m].ref]));return M}Ze.workerCount=Math.max(Math.min(bt,6),1);const qt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function $n(M,u,m){m.push({command:qt.addSource,args:[M,u[M]]})}function lr(M,u,m){u.push({command:qt.removeSource,args:[M]}),m[M]=!0}function gr(M,u,m,_){lr(M,m,_),$n(M,u,m)}function Mr(M,u,m){let _;for(_ in M[m])if(Object.prototype.hasOwnProperty.call(M[m],_)&&_!=="data"&&!I(M[m][_],u[m][_]))return!1;for(_ in u[m])if(Object.prototype.hasOwnProperty.call(u[m],_)&&_!=="data"&&!I(M[m][_],u[m][_]))return!1;return!0}function Dr(M,u,m,_,E,K){let T;for(T in u=u||{},M=M||{})Object.prototype.hasOwnProperty.call(M,T)&&(I(M[T],u[T])||m.push({command:K,args:[_,T,u[T],E]}));for(T in u)Object.prototype.hasOwnProperty.call(u,T)&&!Object.prototype.hasOwnProperty.call(M,T)&&(I(M[T],u[T])||m.push({command:K,args:[_,T,u[T],E]}))}function ur(M){return M.id}function yi(M,u){return M[u.id]=u,M}class be{constructor(u,m){this.reset(u,m)}reset(u,m){this.points=u||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(m||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=a.clamp(u,0,1);let m=1,_=this._distances[m];const E=u*this.paddedLength+this.padding;for(;_<E&&m<this._distances.length;)_=this._distances[++m];const K=m-1,T=this._distances[K],$=_-T,H=$>0?(E-T)/$:0;return this.points[K].mult(1-H).add(this.points[m].mult(H))}}function z(M,u){let m=!0;return M==="always"||M!=="never"&&u!=="never"||(m=!1),m}class q{constructor(u,m,_){const E=this.boxCells=[],K=this.circleCells=[];this.xCellCount=Math.ceil(u/_),this.yCellCount=Math.ceil(m/_);for(let T=0;T<this.xCellCount*this.yCellCount;T++)E.push([]),K.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=m,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/m,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,m,_,E,K){this._forEachCell(m,_,E,K,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(E),this.bboxes.push(K)}insertCircle(u,m,_,E){this._forEachCell(m-E,_-E,m+E,_+E,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(m),this.circles.push(_),this.circles.push(E)}_insertBoxCell(u,m,_,E,K,T){this.boxCells[K].push(T)}_insertCircleCell(u,m,_,E,K,T){this.circleCells[K].push(T)}_query(u,m,_,E,K,T,$){if(_<0||u>this.width||E<0||m>this.height)return[];const H=[];if(u<=0&&m<=0&&this.width<=_&&this.height<=E){if(K)return[{key:null,x1:u,y1:m,x2:_,y2:E}];for(let te=0;te<this.boxKeys.length;te++)H.push({key:this.boxKeys[te],x1:this.bboxes[4*te],y1:this.bboxes[4*te+1],x2:this.bboxes[4*te+2],y2:this.bboxes[4*te+3]});for(let te=0;te<this.circleKeys.length;te++){const Ae=this.circles[3*te],ye=this.circles[3*te+1],Me=this.circles[3*te+2];H.push({key:this.circleKeys[te],x1:Ae-Me,y1:ye-Me,x2:Ae+Me,y2:ye+Me})}}else this._forEachCell(u,m,_,E,this._queryCell,H,{hitTest:K,overlapMode:T,seenUids:{box:{},circle:{}}},$);return H}query(u,m,_,E){return this._query(u,m,_,E,!1,null)}hitTest(u,m,_,E,K,T){return this._query(u,m,_,E,!0,K,T).length>0}hitTestCircle(u,m,_,E,K){const T=u-_,$=u+_,H=m-_,te=m+_;if($<0||T>this.width||te<0||H>this.height)return!1;const Ae=[];return this._forEachCell(T,H,$,te,this._queryCellCircle,Ae,{hitTest:!0,overlapMode:E,circle:{x:u,y:m,radius:_},seenUids:{box:{},circle:{}}},K),Ae.length>0}_queryCell(u,m,_,E,K,T,$,H){const{seenUids:te,hitTest:Ae,overlapMode:ye}=$,Me=this.boxCells[K];if(Me!==null){const Fe=this.bboxes;for(const ze of Me)if(!te.box[ze]){te.box[ze]=!0;const At=4*ze,yt=this.boxKeys[ze];if(u<=Fe[At+2]&&m<=Fe[At+3]&&_>=Fe[At+0]&&E>=Fe[At+1]&&(!H||H(yt))&&(!Ae||!z(ye,yt.overlapMode))&&(T.push({key:yt,x1:Fe[At],y1:Fe[At+1],x2:Fe[At+2],y2:Fe[At+3]}),Ae))return!0}}const We=this.circleCells[K];if(We!==null){const Fe=this.circles;for(const ze of We)if(!te.circle[ze]){te.circle[ze]=!0;const At=3*ze,yt=this.circleKeys[ze];if(this._circleAndRectCollide(Fe[At],Fe[At+1],Fe[At+2],u,m,_,E)&&(!H||H(yt))&&(!Ae||!z(ye,yt.overlapMode))){const Mt=Fe[At],Ye=Fe[At+1],Bt=Fe[At+2];if(T.push({key:yt,x1:Mt-Bt,y1:Ye-Bt,x2:Mt+Bt,y2:Ye+Bt}),Ae)return!0}}}return!1}_queryCellCircle(u,m,_,E,K,T,$,H){const{circle:te,seenUids:Ae,overlapMode:ye}=$,Me=this.boxCells[K];if(Me!==null){const Fe=this.bboxes;for(const ze of Me)if(!Ae.box[ze]){Ae.box[ze]=!0;const At=4*ze,yt=this.boxKeys[ze];if(this._circleAndRectCollide(te.x,te.y,te.radius,Fe[At+0],Fe[At+1],Fe[At+2],Fe[At+3])&&(!H||H(yt))&&!z(ye,yt.overlapMode))return T.push(!0),!0}}const We=this.circleCells[K];if(We!==null){const Fe=this.circles;for(const ze of We)if(!Ae.circle[ze]){Ae.circle[ze]=!0;const At=3*ze,yt=this.circleKeys[ze];if(this._circlesCollide(Fe[At],Fe[At+1],Fe[At+2],te.x,te.y,te.radius)&&(!H||H(yt))&&!z(ye,yt.overlapMode))return T.push(!0),!0}}}_forEachCell(u,m,_,E,K,T,$,H){const te=this._convertToXCellCoord(u),Ae=this._convertToYCellCoord(m),ye=this._convertToXCellCoord(_),Me=this._convertToYCellCoord(E);for(let We=te;We<=ye;We++)for(let Fe=Ae;Fe<=Me;Fe++)if(K.call(this,u,m,_,E,this.xCellCount*Fe+We,T,$,H))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,m,_,E,K,T){const $=E-u,H=K-m,te=_+T;return te*te>$*$+H*H}_circleAndRectCollide(u,m,_,E,K,T,$){const H=(T-E)/2,te=Math.abs(u-(E+H));if(te>H+_)return!1;const Ae=($-K)/2,ye=Math.abs(m-(K+Ae));if(ye>Ae+_)return!1;if(te<=H||ye<=Ae)return!0;const Me=te-H,We=ye-Ae;return Me*Me+We*We<=_*_}}function Oe(M,u,m,_,E){const K=a.create();return u?(a.scale(K,K,[1/E,1/E,1]),m||a.rotateZ(K,K,_.angle)):a.multiply(K,_.labelPlaneMatrix,M),K}function st(M,u,m,_,E){if(u){const K=a.clone(M);return a.scale(K,K,[E,E,1]),m||a.rotateZ(K,K,-_.angle),K}return _.glCoordMatrix}function ct(M,u,m){let _;m?(_=[M.x,M.y,m(M.x,M.y),1],a.transformMat4(_,_,u)):(_=[M.x,M.y,0,1],pr(_,_,u));const E=_[3];return{point:new a.pointGeometry(_[0]/E,_[1]/E),signedDistanceFromCamera:E}}function wt(M,u){return .5+M/u*.5}function Vn(M,u){const m=M[0]/M[3],_=M[1]/M[3];return m>=-u[0]&&m<=u[0]&&_>=-u[1]&&_<=u[1]}function qn(M,u,m,_,E,K,T,$,H,te){const Ae=_?M.textSizeData:M.iconSizeData,ye=a.evaluateSizeForZoom(Ae,m.transform.zoom),Me=[256/m.width*2+1,256/m.height*2+1],We=_?M.text.dynamicLayoutVertexArray:M.icon.dynamicLayoutVertexArray;We.clear();const Fe=M.lineVertexArray,ze=_?M.text.placedSymbolArray:M.icon.placedSymbolArray,At=m.transform.width/m.transform.height;let yt=!1;for(let Mt=0;Mt<ze.length;Mt++){const Ye=ze.get(Mt);if(Ye.hidden||Ye.writingMode===a.WritingMode.vertical&&!yt){un(Ye.numGlyphs,We);continue}let Bt;if(yt=!1,te?(Bt=[Ye.anchorX,Ye.anchorY,te(Ye.anchorX,Ye.anchorY),1],a.transformMat4(Bt,Bt,u)):(Bt=[Ye.anchorX,Ye.anchorY,0,1],pr(Bt,Bt,u)),!Vn(Bt,Me)){un(Ye.numGlyphs,We);continue}const kt=wt(m.transform.cameraToCenterDistance,Bt[3]),Ht=a.evaluateSizeForFeature(Ae,ye,Ye),Zt=T?Ht/kt:Ht*kt,fn=new a.pointGeometry(Ye.anchorX,Ye.anchorY),Qt=ct(fn,E,te).point,Mn={},kn=p(Ye,Zt,!1,$,u,E,K,M.glyphOffsetArray,Fe,We,Qt,fn,Mn,At,H,te);yt=kn.useVertical,(kn.notEnoughRoom||yt||kn.needsFlipping&&p(Ye,Zt,!0,$,u,E,K,M.glyphOffsetArray,Fe,We,Qt,fn,Mn,At,H,te).notEnoughRoom)&&un(Ye.numGlyphs,We)}_?M.text.dynamicLayoutVertexBuffer.updateData(We):M.icon.dynamicLayoutVertexBuffer.updateData(We)}function Qr(M,u,m,_,E,K,T,$,H,te,Ae,ye,Me){const We=$.glyphStartIndex+$.numGlyphs,Fe=$.lineStartIndex,ze=$.lineStartIndex+$.lineLength,At=u.getoffsetX($.glyphStartIndex),yt=u.getoffsetX(We-1),Mt=yr(M*At,m,_,E,K,T,$.segment,Fe,ze,H,te,Ae,ye,Me);if(!Mt)return null;const Ye=yr(M*yt,m,_,E,K,T,$.segment,Fe,ze,H,te,Ae,ye,Me);return Ye?{first:Mt,last:Ye}:null}function It(M,u,m,_){return M===a.WritingMode.horizontal&&Math.abs(m.y-u.y)>Math.abs(m.x-u.x)*_?{useVertical:!0}:(M===a.WritingMode.vertical?u.y<m.y:u.x>m.x)?{needsFlipping:!0}:null}function p(M,u,m,_,E,K,T,$,H,te,Ae,ye,Me,We,Fe,ze){const At=u/24,yt=M.lineOffsetX*At,Mt=M.lineOffsetY*At;let Ye;if(M.numGlyphs>1){const Bt=M.glyphStartIndex+M.numGlyphs,kt=M.lineStartIndex,Ht=M.lineStartIndex+M.lineLength,Zt=Qr(At,$,yt,Mt,m,Ae,ye,M,H,K,Me,Fe,ze);if(!Zt)return{notEnoughRoom:!0};const fn=ct(Zt.first.point,T,ze).point,Qt=ct(Zt.last.point,T,ze).point;if(_&&!m){const Mn=It(M.writingMode,fn,Qt,We);if(Mn)return Mn}Ye=[Zt.first];for(let Mn=M.glyphStartIndex+1;Mn<Bt-1;Mn++)Ye.push(yr(At*$.getoffsetX(Mn),yt,Mt,m,Ae,ye,M.segment,kt,Ht,H,K,Me,Fe,ze));Ye.push(Zt.last)}else{if(_&&!m){const kt=ct(ye,E,ze).point,Ht=M.lineStartIndex+M.segment+1,Zt=new a.pointGeometry(H.getx(Ht),H.gety(Ht)),fn=ct(Zt,E,ze),Qt=fn.signedDistanceFromCamera>0?fn.point:Pt(ye,Zt,kt,1,E,ze),Mn=It(M.writingMode,kt,Qt,We);if(Mn)return Mn}const Bt=yr(At*$.getoffsetX(M.glyphStartIndex),yt,Mt,m,Ae,ye,M.segment,M.lineStartIndex,M.lineStartIndex+M.lineLength,H,K,Me,Fe,ze);if(!Bt)return{notEnoughRoom:!0};Ye=[Bt]}for(const Bt of Ye)a.addDynamicAttributes(te,Bt.point,Bt.angle);return{}}function Pt(M,u,m,_,E,K){const T=ct(M.add(M.sub(u)._unit()),E,K).point,$=m.sub(T);return m.add($._mult(_/$.mag()))}function yr(M,u,m,_,E,K,T,$,H,te,Ae,ye,Me,We){const Fe=_?M-u:M+u;let ze=Fe>0?1:-1,At=0;_&&(ze*=-1,At=Math.PI),ze<0&&(At+=Math.PI);let yt=ze>0?$+T:$+T+1,Mt=E,Ye=E,Bt=0,kt=0;const Ht=Math.abs(Fe),Zt=[];for(;Bt+kt<=Ht;){if(yt+=ze,yt<$||yt>=H)return null;if(Ye=Mt,Zt.push(Mt),Mt=ye[yt],Mt===void 0){const Qn=new a.pointGeometry(te.getx(yt),te.gety(yt)),ii=ct(Qn,Ae,We);if(ii.signedDistanceFromCamera>0)Mt=ye[yt]=ii.point;else{const si=yt-ze;Mt=Pt(Bt===0?K:new a.pointGeometry(te.getx(si),te.gety(si)),Qn,Ye,Ht-Bt+1,Ae,We)}}Bt+=kt,kt=Ye.dist(Mt)}const fn=(Ht-Bt)/kt,Qt=Mt.sub(Ye),Mn=Qt.mult(fn)._add(Ye);Mn._add(Qt._unit()._perp()._mult(m*ze));const kn=At+Math.atan2(Mt.y-Ye.y,Mt.x-Ye.x);return Zt.push(Mn),{point:Mn,angle:Me?kn:0,path:Zt}}const Jn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function un(M,u){for(let m=0;m<M;m++){const _=u.length;u.resize(_+4),u.float32.set(Jn,3*_)}}function pr(M,u,m){const _=u[0],E=u[1];return M[0]=m[0]*_+m[4]*E+m[12],M[1]=m[1]*_+m[5]*E+m[13],M[3]=m[3]*_+m[7]*E+m[15],M}const Zr=100;class ki{constructor(u,m=new q(u.width+200,u.height+200,25),_=new q(u.width+200,u.height+200,25)){this.transform=u,this.grid=m,this.ignoredGrid=_,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+Zr,this.screenBottomBoundary=u.height+Zr,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,m,_,E,K,T){const $=this.projectAndGetPerspectiveRatio(E,u.anchorPointX,u.anchorPointY,T),H=_*$.perspectiveRatio,te=u.x1*H+$.point.x,Ae=u.y1*H+$.point.y,ye=u.x2*H+$.point.x,Me=u.y2*H+$.point.y;return!this.isInsideGrid(te,Ae,ye,Me)||m!=="always"&&this.grid.hitTest(te,Ae,ye,Me,m,K)||$.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[te,Ae,ye,Me],offscreen:this.isOffscreen(te,Ae,ye,Me)}}placeCollisionCircles(u,m,_,E,K,T,$,H,te,Ae,ye,Me,We,Fe){const ze=[],At=new a.pointGeometry(m.anchorX,m.anchorY),yt=ct(At,T,Fe),Mt=wt(this.transform.cameraToCenterDistance,yt.signedDistanceFromCamera),Ye=(Ae?K/Mt:K*Mt)/a.ONE_EM,Bt=ct(At,$,Fe).point,kt=Qr(Ye,E,m.lineOffsetX*Ye,m.lineOffsetY*Ye,!1,Bt,At,m,_,$,{},!1,Fe);let Ht=!1,Zt=!1,fn=!0;if(kt){const Qt=.5*Me*Mt+We,Mn=new a.pointGeometry(-100,-100),kn=new a.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Qn=new be,ii=kt.first,si=kt.last;let cr=[];for(let Ri=ii.path.length-1;Ri>=1;Ri--)cr.push(ii.path[Ri]);for(let Ri=1;Ri<si.path.length;Ri++)cr.push(si.path[Ri]);const Li=2.5*Qt;if(H){const Ri=cr.map(Tr=>ct(Tr,H,Fe));cr=Ri.some(Tr=>Tr.signedDistanceFromCamera<=0)?[]:Ri.map(Tr=>Tr.point)}let mo=[];if(cr.length>0){const Ri=cr[0].clone(),Tr=cr[0].clone();for(let Sr=1;Sr<cr.length;Sr++)Ri.x=Math.min(Ri.x,cr[Sr].x),Ri.y=Math.min(Ri.y,cr[Sr].y),Tr.x=Math.max(Tr.x,cr[Sr].x),Tr.y=Math.max(Tr.y,cr[Sr].y);mo=Ri.x>=Mn.x&&Tr.x<=kn.x&&Ri.y>=Mn.y&&Tr.y<=kn.y?[cr]:Tr.x<Mn.x||Ri.x>kn.x||Tr.y<Mn.y||Ri.y>kn.y?[]:a.clipLine([cr],Mn.x,Mn.y,kn.x,kn.y)}for(const Ri of mo){Qn.reset(Ri,.25*Qt);let Tr=0;Tr=Qn.length<=.5*Qt?1:Math.ceil(Qn.paddedLength/Li)+1;for(let Sr=0;Sr<Tr;Sr++){const Bo=Sr/Math.max(Tr-1,1),vs=Qn.lerp(Bo),ss=vs.x+Zr,hu=vs.y+Zr;ze.push(ss,hu,Qt,0);const fu=ss-Qt,dl=hu-Qt,hl=ss+Qt,pu=hu+Qt;if(fn=fn&&this.isOffscreen(fu,dl,hl,pu),Zt=Zt||this.isInsideGrid(fu,dl,hl,pu),u!=="always"&&this.grid.hitTestCircle(ss,hu,Qt,u,ye)&&(Ht=!0,!te))return{circles:[],offscreen:!1,collisionDetected:Ht}}}}return{circles:!te&&Ht||!Zt||Mt<this.perspectiveRatioCutoff?[]:ze,offscreen:fn,collisionDetected:Ht}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const m=[];let _=1/0,E=1/0,K=-1/0,T=-1/0;for(const Ae of u){const ye=new a.pointGeometry(Ae.x+Zr,Ae.y+Zr);_=Math.min(_,ye.x),E=Math.min(E,ye.y),K=Math.max(K,ye.x),T=Math.max(T,ye.y),m.push(ye)}const $=this.grid.query(_,E,K,T).concat(this.ignoredGrid.query(_,E,K,T)),H={},te={};for(const Ae of $){const ye=Ae.key;if(H[ye.bucketInstanceId]===void 0&&(H[ye.bucketInstanceId]={}),H[ye.bucketInstanceId][ye.featureIndex])continue;const Me=[new a.pointGeometry(Ae.x1,Ae.y1),new a.pointGeometry(Ae.x2,Ae.y1),new a.pointGeometry(Ae.x2,Ae.y2),new a.pointGeometry(Ae.x1,Ae.y2)];a.polygonIntersectsPolygon(m,Me)&&(H[ye.bucketInstanceId][ye.featureIndex]=!0,te[ye.bucketInstanceId]===void 0&&(te[ye.bucketInstanceId]=[]),te[ye.bucketInstanceId].push(ye.featureIndex))}return te}insertCollisionBox(u,m,_,E,K,T){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:E,featureIndex:K,collisionGroupID:T,overlapMode:m},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,m,_,E,K,T){const $=_?this.ignoredGrid:this.grid,H={bucketInstanceId:E,featureIndex:K,collisionGroupID:T,overlapMode:m};for(let te=0;te<u.length;te+=4)$.insertCircle(H,u[te],u[te+1],u[te+2])}projectAndGetPerspectiveRatio(u,m,_,E){let K;return E?(K=[m,_,E(m,_),1],a.transformMat4(K,K,u)):(K=[m,_,0,1],pr(K,K,u)),{point:new a.pointGeometry((K[0]/K[3]+1)/2*this.transform.width+Zr,(-K[1]/K[3]+1)/2*this.transform.height+Zr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/K[3]*.5}}isOffscreen(u,m,_,E){return _<Zr||u>=this.screenRightBoundary||E<Zr||m>this.screenBottomBoundary}isInsideGrid(u,m,_,E){return _>=0&&u<this.gridRightBoundary&&E>=0&&m<this.gridBottomBoundary}getViewportMatrix(){const u=a.identity([]);return a.translate(u,u,[-100,-100,0]),u}}function Ai(M,u,m){return u*(a.EXTENT/(M.tileSize*Math.pow(2,m-M.tileID.overscaledZ)))}class Fr{constructor(u,m,_,E){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?m:-m))):E&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class Wr{constructor(u,m,_,E,K){this.text=new Fr(u?u.text:null,m,_,K),this.icon=new Fr(u?u.icon:null,m,E,K)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Zi{constructor(u,m,_){this.text=u,this.icon=m,this.skipFade=_}}class Wi{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class da{constructor(u,m,_,E,K){this.bucketInstanceId=u,this.featureIndex=m,this.sourceLayerIndex=_,this.bucketIndex=E,this.tileID=K}}class zo{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const m=++this.maxGroupID;this.collisionGroups[u]={ID:m,predicate:_=>_.collisionGroupID===m}}return this.collisionGroups[u]}}function os(M,u,m,_,E){const{horizontalAlign:K,verticalAlign:T}=a.getAnchorAlignment(M),$=-(K-.5)*u,H=-(T-.5)*m,te=a.evaluateVariableOffset(M,_);return new a.pointGeometry($+te[0]*E,H+te[1]*E)}function _a(M,u,m,_,E,K){const{x1:T,x2:$,y1:H,y2:te,anchorPointX:Ae,anchorPointY:ye}=M,Me=new a.pointGeometry(u,m);return _&&Me._rotate(E?K:-K),{x1:T+Me.x,y1:H+Me.y,x2:$+Me.x,y2:te+Me.y,anchorPointX:Ae,anchorPointY:ye}}class Pe{constructor(u,m,_,E,K){this.transform=u.clone(),this.terrain=m,this.collisionIndex=new ki(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new zo(E),this.collisionCircleArrays={},this.prevPlacement=K,K&&(K.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,m,_,E){const K=_.getBucket(m),T=_.latestFeatureIndex;if(!K||!T||m.id!==K.layerIds[0])return;const $=_.collisionBoxArray,H=K.layers[0].layout,te=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),Ae=_.tileSize/a.EXTENT,ye=this.transform.calculatePosMatrix(_.tileID.toUnwrapped()),Me=H.get("text-pitch-alignment")==="map",We=H.get("text-rotation-alignment")==="map",Fe=Ai(_,1,this.transform.zoom),ze=Oe(ye,Me,We,this.transform,Fe);let At=null;if(Me){const Mt=st(ye,Me,We,this.transform,Fe);At=a.multiply([],this.transform.labelPlaneMatrix,Mt)}this.retainedQueryData[K.bucketInstanceId]=new da(K.bucketInstanceId,T,K.sourceLayerIndex,K.index,_.tileID);const yt={bucket:K,layout:H,posMatrix:ye,textLabelPlaneMatrix:ze,labelToScreenMatrix:At,scale:te,textPixelRatio:Ae,holdingForFade:_.holdingForFade(),collisionBoxArray:$,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(K.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(K.sourceID)};if(E)for(const Mt of K.sortKeyRanges){const{sortKey:Ye,symbolInstanceStart:Bt,symbolInstanceEnd:kt}=Mt;u.push({sortKey:Ye,symbolInstanceStart:Bt,symbolInstanceEnd:kt,parameters:yt})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:K.symbolInstances.length,parameters:yt})}attemptAnchorPlacement(u,m,_,E,K,T,$,H,te,Ae,ye,Me,We,Fe,ze,At){const yt=[Me.textOffset0,Me.textOffset1],Mt=os(u,_,E,yt,K),Ye=this.collisionIndex.placeCollisionBox(_a(m,Mt.x,Mt.y,T,$,this.transform.angle),ye,H,te,Ae.predicate,At);if((!ze||this.collisionIndex.placeCollisionBox(_a(ze,Mt.x,Mt.y,T,$,this.transform.angle),ye,H,te,Ae.predicate,At).box.length!==0)&&Ye.box.length>0){let Bt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Me.crossTileID]&&this.prevPlacement.placements[Me.crossTileID]&&this.prevPlacement.placements[Me.crossTileID].text&&(Bt=this.prevPlacement.variableOffsets[Me.crossTileID].anchor),Me.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Me.crossTileID]={textOffset:yt,width:_,height:E,anchor:u,textBoxScale:K,prevAnchor:Bt},this.markUsedJustification(We,u,Me,Fe),We.allowVerticalPlacement&&(this.markUsedOrientation(We,Fe,Me),this.placedOrientations[Me.crossTileID]=Fe),{shift:Mt,placedGlyphBoxes:Ye}}}placeLayerBucketPart(u,m,_){const{bucket:E,layout:K,posMatrix:T,textLabelPlaneMatrix:$,labelToScreenMatrix:H,textPixelRatio:te,holdingForFade:Ae,collisionBoxArray:ye,partiallyEvaluatedTextSize:Me,collisionGroup:We}=u.parameters,Fe=K.get("text-optional"),ze=K.get("icon-optional"),At=a.getOverlapMode(K,"text-overlap","text-allow-overlap"),yt=At==="always",Mt=a.getOverlapMode(K,"icon-overlap","icon-allow-overlap"),Ye=Mt==="always",Bt=K.get("text-rotation-alignment")==="map",kt=K.get("text-pitch-alignment")==="map",Ht=K.get("icon-text-fit")!=="none",Zt=K.get("symbol-z-order")==="viewport-y",fn=yt&&(Ye||!E.hasIconData()||ze),Qt=Ye&&(yt||!E.hasTextData()||Fe);!E.collisionArrays&&ye&&E.deserializeCollisionBoxes(ye);const Mn=(kn,Qn)=>{if(m[kn.crossTileID])return;if(Ae)return void(this.placements[kn.crossTileID]=new Zi(!1,!1,!1));let ii=!1,si=!1,cr=!0,Li=null,mo={box:null,offscreen:null},Ri={box:null,offscreen:null},Tr=null,Sr=null,Bo=null,vs=0,ss=0,hu=0;Qn.textFeatureIndex?vs=Qn.textFeatureIndex:kn.useRuntimeCollisionCircles&&(vs=kn.featureIndex),Qn.verticalTextFeatureIndex&&(ss=Qn.verticalTextFeatureIndex);const fu=this.retainedQueryData[E.bucketInstanceId].tileID,dl=this.terrain?(Xo,li)=>this.terrain.getElevation(fu,Xo,li):null;for(const Xo of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const li=Qn[Xo];li&&(li.elevation=dl?dl(li.anchorPointX,li.anchorPointY):0)}const hl=Qn.textBox;if(hl){const Xo=Ki=>{let Ua=a.WritingMode.horizontal;if(E.allowVerticalPlacement&&!Ki&&this.prevPlacement){const Ha=this.prevPlacement.placedOrientations[kn.crossTileID];Ha&&(this.placedOrientations[kn.crossTileID]=Ha,Ua=Ha,this.markUsedOrientation(E,Ua,kn))}return Ua},li=(Ki,Ua)=>{if(E.allowVerticalPlacement&&kn.numVerticalGlyphVertices>0&&Qn.verticalTextBox){for(const Ha of E.writingModes)if(Ha===a.WritingMode.vertical?(mo=Ua(),Ri=mo):mo=Ki(),mo&&mo.box&&mo.box.length)break}else mo=Ki()};if(K.get("text-variable-anchor")){let Ki=K.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[kn.crossTileID]){const Ao=this.prevPlacement.variableOffsets[kn.crossTileID];Ki.indexOf(Ao.anchor)>0&&(Ki=Ki.filter(Cs=>Cs!==Ao.anchor),Ki.unshift(Ao.anchor))}const Ua=(Ao,Cs,Xs)=>{const Js=Ao.x2-Ao.x1,Jc=Ao.y2-Ao.y1,fh=kn.textBoxScale,ph=Ht&&Mt==="never"?Cs:null;let ql={box:[],offscreen:!1};const _s=At!=="never"?2*Ki.length:Ki.length;for(let iA=0;iA<_s;++iA){const mh=this.attemptAnchorPlacement(Ki[iA%Ki.length],Ao,Js,Jc,fh,Bt,kt,te,T,We,iA>=Ki.length?At:"never",kn,E,Xs,ph,dl);if(mh&&(ql=mh.placedGlyphBoxes,ql&&ql.box&&ql.box.length)){ii=!0,Li=mh.shift;break}}return ql};li(()=>Ua(hl,Qn.iconBox,a.WritingMode.horizontal),()=>{const Ao=Qn.verticalTextBox;return E.allowVerticalPlacement&&!(mo&&mo.box&&mo.box.length)&&kn.numVerticalGlyphVertices>0&&Ao?Ua(Ao,Qn.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),mo&&(ii=mo.box,cr=mo.offscreen);const Ha=Xo(mo&&mo.box);if(!ii&&this.prevPlacement){const Ao=this.prevPlacement.variableOffsets[kn.crossTileID];Ao&&(this.variableOffsets[kn.crossTileID]=Ao,this.markUsedJustification(E,Ao.anchor,kn,Ha))}}else{const Ki=(Ua,Ha)=>{const Ao=this.collisionIndex.placeCollisionBox(Ua,At,te,T,We.predicate,dl);return Ao&&Ao.box&&Ao.box.length&&(this.markUsedOrientation(E,Ha,kn),this.placedOrientations[kn.crossTileID]=Ha),Ao};li(()=>Ki(hl,a.WritingMode.horizontal),()=>{const Ua=Qn.verticalTextBox;return E.allowVerticalPlacement&&kn.numVerticalGlyphVertices>0&&Ua?Ki(Ua,a.WritingMode.vertical):{box:null,offscreen:null}}),Xo(mo&&mo.box&&mo.box.length)}}if(Tr=mo,ii=Tr&&Tr.box&&Tr.box.length>0,cr=Tr&&Tr.offscreen,kn.useRuntimeCollisionCircles){const Xo=E.text.placedSymbolArray.get(kn.centerJustifiedTextSymbolIndex),li=a.evaluateSizeForFeature(E.textSizeData,Me,Xo),Ki=K.get("text-padding");Sr=this.collisionIndex.placeCollisionCircles(At,Xo,E.lineVertexArray,E.glyphOffsetArray,li,T,$,H,_,kt,We.predicate,kn.collisionCircleDiameter,Ki,dl),Sr.circles.length&&Sr.collisionDetected&&!_&&a.warnOnce("Collisions detected, but collision boxes are not shown"),ii=yt||Sr.circles.length>0&&!Sr.collisionDetected,cr=cr&&Sr.offscreen}if(Qn.iconFeatureIndex&&(hu=Qn.iconFeatureIndex),Qn.iconBox){const Xo=li=>{const Ki=Ht&&Li?_a(li,Li.x,Li.y,Bt,kt,this.transform.angle):li;return this.collisionIndex.placeCollisionBox(Ki,Mt,te,T,We.predicate,dl)};Ri&&Ri.box&&Ri.box.length&&Qn.verticalIconBox?(Bo=Xo(Qn.verticalIconBox),si=Bo.box.length>0):(Bo=Xo(Qn.iconBox),si=Bo.box.length>0),cr=cr&&Bo.offscreen}const pu=Fe||kn.numHorizontalGlyphVertices===0&&kn.numVerticalGlyphVertices===0,Fu=ze||kn.numIconVertices===0;if(pu||Fu?Fu?pu||(si=si&&ii):ii=si&&ii:si=ii=si&&ii,ii&&Tr&&Tr.box&&this.collisionIndex.insertCollisionBox(Tr.box,At,K.get("text-ignore-placement"),E.bucketInstanceId,Ri&&Ri.box&&ss?ss:vs,We.ID),si&&Bo&&this.collisionIndex.insertCollisionBox(Bo.box,Mt,K.get("icon-ignore-placement"),E.bucketInstanceId,hu,We.ID),Sr&&(ii&&this.collisionIndex.insertCollisionCircles(Sr.circles,At,K.get("text-ignore-placement"),E.bucketInstanceId,vs,We.ID),_)){const Xo=E.bucketInstanceId;let li=this.collisionCircleArrays[Xo];li===void 0&&(li=this.collisionCircleArrays[Xo]=new Wi);for(let Ki=0;Ki<Sr.circles.length;Ki+=4)li.circles.push(Sr.circles[Ki+0]),li.circles.push(Sr.circles[Ki+1]),li.circles.push(Sr.circles[Ki+2]),li.circles.push(Sr.collisionDetected?1:0)}if(kn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(E.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[kn.crossTileID]=new Zi(ii||fn,si||Qt,cr||E.justReloaded),m[kn.crossTileID]=!0};if(Zt){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const kn=E.getSortedSymbolIndexes(this.transform.angle);for(let Qn=kn.length-1;Qn>=0;--Qn){const ii=kn[Qn];Mn(E.symbolInstances.get(ii),E.collisionArrays[ii])}}else for(let kn=u.symbolInstanceStart;kn<u.symbolInstanceEnd;kn++)Mn(E.symbolInstances.get(kn),E.collisionArrays[kn]);if(_&&E.bucketInstanceId in this.collisionCircleArrays){const kn=this.collisionCircleArrays[E.bucketInstanceId];a.invert(kn.invProjMatrix,T),kn.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(u,m,_,E){let K;K=E===a.WritingMode.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(m)];const T=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const $ of T)$>=0&&(u.text.placedSymbolArray.get($).crossTileID=K>=0&&$!==K?0:_.crossTileID)}markUsedOrientation(u,m,_){const E=m===a.WritingMode.horizontal||m===a.WritingMode.horizontalOnly?m:0,K=m===a.WritingMode.vertical?m:0,T=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const $ of T)u.text.placedSymbolArray.get($).placedOrientation=E;_.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=K)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const m=this.prevPlacement;let _=!1;this.prevZoomAdjustment=m?m.zoomAdjustment(this.transform.zoom):0;const E=m?m.symbolFadeChange(u):1,K=m?m.opacities:{},T=m?m.variableOffsets:{},$=m?m.placedOrientations:{};for(const H in this.placements){const te=this.placements[H],Ae=K[H];Ae?(this.opacities[H]=new Wr(Ae,E,te.text,te.icon),_=_||te.text!==Ae.text.placed||te.icon!==Ae.icon.placed):(this.opacities[H]=new Wr(null,E,te.text,te.icon,te.skipFade),_=_||te.text||te.icon)}for(const H in K){const te=K[H];if(!this.opacities[H]){const Ae=new Wr(te,E,!1,!1);Ae.isHidden()||(this.opacities[H]=Ae,_=_||te.text.placed||te.icon.placed)}}for(const H in T)this.variableOffsets[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.variableOffsets[H]=T[H]);for(const H in $)this.placedOrientations[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.placedOrientations[H]=$[H]);if(m&&m.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=m?m.lastPlacementChangeTime:u)}updateLayerOpacities(u,m){const _={};for(const E of m){const K=E.getBucket(u);K&&E.latestFeatureIndex&&u.id===K.layerIds[0]&&this.updateBucketOpacities(K,_,E.collisionBoxArray)}}updateBucketOpacities(u,m,_){u.hasTextData()&&u.text.opacityVertexArray.clear(),u.hasIconData()&&u.icon.opacityVertexArray.clear(),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const E=u.layers[0].layout,K=new Wr(null,0,!1,!1,!0),T=E.get("text-allow-overlap"),$=E.get("icon-allow-overlap"),H=E.get("text-variable-anchor"),te=E.get("text-rotation-alignment")==="map",Ae=E.get("text-pitch-alignment")==="map",ye=E.get("icon-text-fit")!=="none",Me=new Wr(null,0,T&&($||!u.hasIconData()||E.get("icon-optional")),$&&(T||!u.hasTextData()||E.get("text-optional")),!0);!u.collisionArrays&&_&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(_);const We=(Fe,ze,At)=>{for(let yt=0;yt<ze/4;yt++)Fe.opacityVertexArray.emplaceBack(At)};for(let Fe=0;Fe<u.symbolInstances.length;Fe++){const ze=u.symbolInstances.get(Fe),{numHorizontalGlyphVertices:At,numVerticalGlyphVertices:yt,crossTileID:Mt}=ze;let Ye=this.opacities[Mt];m[Mt]?Ye=K:Ye||(Ye=Me,this.opacities[Mt]=Ye),m[Mt]=!0;const Bt=ze.numIconVertices>0,kt=this.placedOrientations[ze.crossTileID],Ht=kt===a.WritingMode.vertical,Zt=kt===a.WritingMode.horizontal||kt===a.WritingMode.horizontalOnly;if(At>0||yt>0){const fn=ut(Ye.text);We(u.text,At,Ht?Tt:fn),We(u.text,yt,Zt?Tt:fn);const Qt=Ye.text.isHidden();[ze.rightJustifiedTextSymbolIndex,ze.centerJustifiedTextSymbolIndex,ze.leftJustifiedTextSymbolIndex].forEach(Qn=>{Qn>=0&&(u.text.placedSymbolArray.get(Qn).hidden=Qt||Ht?1:0)}),ze.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(ze.verticalPlacedTextSymbolIndex).hidden=Qt||Zt?1:0);const Mn=this.variableOffsets[ze.crossTileID];Mn&&this.markUsedJustification(u,Mn.anchor,ze,kt);const kn=this.placedOrientations[ze.crossTileID];kn&&(this.markUsedJustification(u,"left",ze,kn),this.markUsedOrientation(u,kn,ze))}if(Bt){const fn=ut(Ye.icon),Qt=!(ye&&ze.verticalPlacedIconSymbolIndex&&Ht);ze.placedIconSymbolIndex>=0&&(We(u.icon,ze.numIconVertices,Qt?fn:Tt),u.icon.placedSymbolArray.get(ze.placedIconSymbolIndex).hidden=Ye.icon.isHidden()),ze.verticalPlacedIconSymbolIndex>=0&&(We(u.icon,ze.numVerticalIconVertices,Qt?Tt:fn),u.icon.placedSymbolArray.get(ze.verticalPlacedIconSymbolIndex).hidden=Ye.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const fn=u.collisionArrays[Fe];if(fn){let Qt=new a.pointGeometry(0,0);if(fn.textBox||fn.verticalTextBox){let kn=!0;if(H){const Qn=this.variableOffsets[Mt];Qn?(Qt=os(Qn.anchor,Qn.width,Qn.height,Qn.textOffset,Qn.textBoxScale),te&&Qt._rotate(Ae?this.transform.angle:-this.transform.angle)):kn=!1}fn.textBox&&ie(u.textCollisionBox.collisionVertexArray,Ye.text.placed,!kn||Ht,Qt.x,Qt.y),fn.verticalTextBox&&ie(u.textCollisionBox.collisionVertexArray,Ye.text.placed,!kn||Zt,Qt.x,Qt.y)}const Mn=!!(!Zt&&fn.verticalIconBox);fn.iconBox&&ie(u.iconCollisionBox.collisionVertexArray,Ye.icon.placed,Mn,ye?Qt.x:0,ye?Qt.y:0),fn.verticalIconBox&&ie(u.iconCollisionBox.collisionVertexArray,Ye.icon.placed,!Mn,ye?Qt.x:0,ye?Qt.y:0)}}}if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);if(u.bucketInstanceId in this.collisionCircleArrays){const Fe=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=Fe.invProjMatrix,u.placementViewportMatrix=Fe.viewportMatrix,u.collisionCircleArray=Fe.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,m){const _=this.zoomAtLastRecencyCheck===m?1-this.zoomAdjustment(m):1;return this.zoomAtLastRecencyCheck=m,this.commitTime+this.fadeDuration*_>u}setStale(){this.stale=!0}}function ie(M,u,m,_,E){M.emplaceBack(u?1:0,m?1:0,_||0,E||0),M.emplaceBack(u?1:0,m?1:0,_||0,E||0),M.emplaceBack(u?1:0,m?1:0,_||0,E||0),M.emplaceBack(u?1:0,m?1:0,_||0,E||0)}const he=Math.pow(2,25),Ee=Math.pow(2,24),Te=Math.pow(2,17),Qe=Math.pow(2,16),rt=Math.pow(2,9),Xe=Math.pow(2,8),Ge=Math.pow(2,1);function ut(M){if(M.opacity===0&&!M.placed)return 0;if(M.opacity===1&&M.placed)return 4294967295;const u=M.placed?1:0,m=Math.floor(127*M.opacity);return m*he+u*Ee+m*Te+u*Qe+m*rt+u*Xe+m*Ge+u}const Tt=0;class nn{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,m,_,E,K){const T=this._bucketParts;for(;this._currentTileIndex<u.length;)if(m.getBucketParts(T,E,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,K())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort(($,H)=>$.sortKey-H.sortKey));this._currentPartIndex<T.length;)if(m.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,K())return!0;return!1}}class Dt{constructor(u,m,_,E,K,T,$,H){this.placement=new Pe(u,m,T,$,H),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=E,this._showCollisionBoxes=K,this._done=!1}isDone(){return this._done}continuePlacement(u,m,_){const E=a.exported.now(),K=()=>{const T=a.exported.now()-E;return!this._forceFullPlacement&&T>2};for(;this._currentPlacementIndex>=0;){const T=m[u[this._currentPlacementIndex]],$=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=$)&&(!T.maxzoom||T.maxzoom>$)){if(this._inProgressLayer||(this._inProgressLayer=new nn(T)),this._inProgressLayer.continuePlacement(_[T.source],this.placement,this._showCollisionBoxes,T,K))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const wn=512/a.EXTENT/2;class Kn{constructor(u,m,_){this.tileID=u,this.indexedSymbolInstances={},this.bucketInstanceId=_;for(let E=0;E<m.length;E++){const K=m.get(E),T=K.key;this.indexedSymbolInstances[T]||(this.indexedSymbolInstances[T]=[]),this.indexedSymbolInstances[T].push({crossTileID:K.crossTileID,coord:this.getScaledCoordinates(K,u)})}}getScaledCoordinates(u,m){const _=wn/Math.pow(2,m.canonical.z-this.tileID.canonical.z);return{x:Math.floor((m.canonical.x*a.EXTENT+u.anchorX)*_),y:Math.floor((m.canonical.y*a.EXTENT+u.anchorY)*_)}}findMatches(u,m,_){const E=this.tileID.canonical.z<m.canonical.z?1:Math.pow(2,this.tileID.canonical.z-m.canonical.z);for(let K=0;K<u.length;K++){const T=u.get(K);if(T.crossTileID)continue;const $=this.indexedSymbolInstances[T.key];if(!$)continue;const H=this.getScaledCoordinates(T,m);for(const te of $)if(Math.abs(te.coord.x-H.x)<=E&&Math.abs(te.coord.y-H.y)<=E&&!_[te.crossTileID]){_[te.crossTileID]=!0,T.crossTileID=te.crossTileID;break}}}}class xn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Zn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const m=Math.round((u-this.lng)/360);if(m!==0)for(const _ in this.indexes){const E=this.indexes[_],K={};for(const T in E){const $=E[T];$.tileID=$.tileID.unwrapTo($.tileID.wrap+m),K[$.tileID.key]=$}this.indexes[_]=K}this.lng=u}addBucket(u,m,_){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===m.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let K=0;K<m.symbolInstances.length;K++)m.symbolInstances.get(K).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const E=this.usedCrossTileIDs[u.overscaledZ];for(const K in this.indexes){const T=this.indexes[K];if(Number(K)>u.overscaledZ)for(const $ in T){const H=T[$];H.tileID.isChildOf(u)&&H.findMatches(m.symbolInstances,u,E)}else{const $=T[u.scaledTo(Number(K)).key];$&&$.findMatches(m.symbolInstances,u,E)}}for(let K=0;K<m.symbolInstances.length;K++){const T=m.symbolInstances.get(K);T.crossTileID||(T.crossTileID=_.generate(),E[T.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new Kn(u,m.symbolInstances,m.bucketInstanceId),!0}removeBucketCrossTileIDs(u,m){for(const _ in m.indexedSymbolInstances)for(const E of m.indexedSymbolInstances[_])delete this.usedCrossTileIDs[u][E.crossTileID]}removeStaleBuckets(u){let m=!1;for(const _ in this.indexes){const E=this.indexes[_];for(const K in E)u[E[K].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,E[K]),delete E[K],m=!0)}return m}}class Cr{constructor(){this.layerIndexes={},this.crossTileIDs=new xn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,m,_){let E=this.layerIndexes[u.id];E===void 0&&(E=this.layerIndexes[u.id]=new Zn);let K=!1;const T={};E.handleWrapJump(_);for(const $ of m){const H=$.getBucket(u);H&&u.id===H.layerIds[0]&&(H.bucketInstanceId||(H.bucketInstanceId=++this.maxBucketInstanceId),E.addBucket($.tileID,H,this.crossTileIDs)&&(K=!0),T[H.bucketInstanceId]=!0)}return E.removeStaleBuckets(T)&&(K=!0),K}pruneUnusedLayers(u){const m={};u.forEach(_=>{m[_]=!0});for(const _ in this.layerIndexes)m[_]||delete this.layerIndexes[_]}}var qr=a.createLayout([{name:"a_pos",type:"Int16",components:2}]);class In extends a.Evented{constructor(u){super(),this.sourceCache=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=u._cache.max,u.usedForTerrain=!0,u.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const u in this._tiles){const m=this._tiles[u];m.textures.forEach(_=>_.destroy()),m.textures=[]}}update(u,m){this.sourceCache.update(u,m),this._renderableTilesKeys=[];for(const _ of u.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:m}))this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),a.ortho(_.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[_.key]=new Et(_,this.tileSize))}removeOutdated(u){const m={};this.renderHistory=this.renderHistory.filter((_,E)=>this.renderHistory.indexOf(_)===E).slice(0,this.renderHistorySize);for(const _ of this._renderableTilesKeys)m[_]=!0;for(const _ of this.renderHistory)m[_]=!0;for(const _ in this._tiles)m[_]||(this._tiles[_].clearTextures(u),delete this._tiles[_])}getRenderableTiles(){return this._renderableTilesKeys.map(u=>this.getTileByID(u))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u){const m={};for(const _ of this._renderableTilesKeys){const E=this._tiles[_].tileID;if(E.canonical.equals(u.canonical)){const K=u.clone();K.posMatrix=new Float64Array(16),a.ortho(K.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),m[_]=K}else if(E.canonical.isChildOf(u.canonical)){const K=u.clone();K.posMatrix=new Float64Array(16);const T=E.canonical.z-u.canonical.z,$=E.canonical.x-(E.canonical.x>>T<<T),H=E.canonical.y-(E.canonical.y>>T<<T),te=a.EXTENT>>T;a.ortho(K.posMatrix,0,te,0,te,0,1),a.translate(K.posMatrix,K.posMatrix,[-$*te,-H*te,0]),m[_]=K}else if(u.canonical.isChildOf(E.canonical)){const K=u.clone();K.posMatrix=new Float64Array(16);const T=u.canonical.z-E.canonical.z,$=u.canonical.x-(u.canonical.x>>T<<T),H=u.canonical.y-(u.canonical.y>>T<<T),te=a.EXTENT>>T;a.ortho(K.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(K.posMatrix,K.posMatrix,[$*te,H*te,0]),a.scale(K.posMatrix,K.posMatrix,[1/2**T,1/2**T,0]),m[_]=K}}return m}getSourceTile(u,m){const _=this.sourceCache._source;let E=u.overscaledZ-this.deltaZoom;if(E>_.maxzoom&&(E=_.maxzoom),E<_.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(E).key);let K=this.sourceCache.getTileByID(this._sourceTileCache[u.key]);if((!K||!K.dem)&&m)for(;E>=_.minzoom&&(!K||!K.dem);)K=this.sourceCache.getTileByID(u.scaledTo(E--).key);return K}tilesAfterTime(u=Date.now()){return Object.values(this._tiles).filter(m=>m.timeLoaded>=u)}}class dn{constructor(u,m,_){this.style=u,this.sourceCache=new In(m),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.elevationOffset=typeof _.elevationOffset=="number"?_.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(u,m,_,E=a.EXTENT){if(!(m>=0&&m<E&&_>=0&&_<E))return this.elevationOffset;let K=0;const T=this.getTerrainData(u);if(T.tile&&T.tile.dem){const $=a.transformMat4$1([],[m/E*a.EXTENT,_/E*a.EXTENT],T.u_terrain_matrix),H=[$[0]*T.tile.dem.dim,$[1]*T.tile.dem.dim],te=[Math.floor(H[0]),Math.floor(H[1])],Ae=T.tile.dem.get(te[0],te[1]),ye=T.tile.dem.get(te[0],te[1]+1),Me=T.tile.dem.get(te[0]+1,te[1]),We=T.tile.dem.get(te[0]+1,te[1]+1);K=a.number(a.number(Ae,ye,H[0]-te[0]),a.number(Me,We,H[0]-te[0]),H[1]-te[1])}return K}rememberForRerender(u,m){for(const _ in this.sourceCache._tiles){const E=this.sourceCache._tiles[_];(E.tileID.equals(m)||E.tileID.isChildOf(m))&&(u===this.sourceCache.sourceCache.id&&(E.timeLoaded=Date.now()),this._rerender[u]=this._rerender[u]||{},this._rerender[u][E.tileID.key]=!0)}}needsRerender(u,m){return this._rerender[u]&&this._rerender[u][m.key]}clearRerenderCache(){this._rerender={}}getElevation(u,m,_,E=a.EXTENT){return(this.getDEMElevation(u,m,_,E)+this.elevationOffset)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const E=this.style.map.painter.context,K=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new V(E,K,E.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new V(E,new a.RGBAImage({width:1,height:1}),E.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(E.gl.NEAREST,E.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const m=this.sourceCache.getSourceTile(u,!0);if(m&&m.dem&&(!m.demTexture||m.needsTerrainPrepare)){const E=this.style.map.painter.context;m.demTexture=this.style.map.painter.getTileTexture(m.dem.stride),m.demTexture?m.demTexture.update(m.dem.getPixels(),{premultiply:!1}):m.demTexture=new V(E,m.dem.getPixels(),E.gl.RGBA,{premultiply:!1}),m.demTexture.bind(E.gl.NEAREST,E.gl.CLAMP_TO_EDGE),m.needsTerrainPrepare=!1}const _=m&&m+m.tileID.key+u.key;if(_&&!this._demMatrixCache[_]){const E=this.sourceCache.sourceCache._source.maxzoom;let K=u.canonical.z-m.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=E?K=u.canonical.z-E:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const T=u.canonical.x-(u.canonical.x>>K<<K),$=u.canonical.y-(u.canonical.y>>K<<K),H=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<K),1/(a.EXTENT<<K),0]);a.translate(H,H,[T*a.EXTENT,$*a.EXTENT,0]),this._demMatrixCache[u.key]={matrix:H,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:m&&m.dem&&m.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:m&&m.dem&&m.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(m&&m.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:m}}getRTTFramebuffer(){const u=this.style.map.painter;if(!this._rttFramebuffer){const m=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=u.context.createFramebuffer(m,m,!0),this._rttFramebuffer.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,m,m))}return this._rttFramebuffer}getFramebuffer(u){const m=this.style.map.painter,_=m.width/devicePixelRatio,E=m.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===E||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new V(m.context,{width:_,height:E,data:null},m.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(m.context.gl.NEAREST,m.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new V(m.context,{width:_,height:E,data:null},m.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(m.context.gl.NEAREST,m.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=m.context.createFramebuffer(_,E,!0),this._fbo.depthAttachment.set(m.context.createRenderbuffer(m.context.gl.DEPTH_COMPONENT16,_,E))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const m=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let K=0,T=0;K<this._coordsTextureSize;K++)for(let $=0;$<this._coordsTextureSize;$++,T+=4)m[T+0]=255&$,m[T+1]=255&K,m[T+2]=$>>8<<4|K>>8,m[T+3]=0;const _=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(m.buffer)),E=new V(u,_,u.gl.RGBA,{premultiply:!1});return E.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=E,E}pointCoordinate(u){const m=new Uint8Array(4),_=this.style.map.painter,E=_.context,K=E.gl;E.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),K.readPixels(u.x,_.height/devicePixelRatio-u.y-1,1,1,K.RGBA,K.UNSIGNED_BYTE,m),E.bindFramebuffer.set(null);const T=m[0]+(m[2]>>4<<8),$=m[1]+((15&m[2])<<8),H=this.coordsIndex[255-m[3]],te=H&&this.sourceCache.getTileByID(H);if(!te)return null;const Ae=this._coordsTextureSize,ye=(1<<te.tileID.canonical.z)*Ae;return new a.MercatorCoordinate((te.tileID.canonical.x*Ae+T)/ye,(te.tileID.canonical.y*Ae+$)/ye,this.getElevation(te.tileID,T,$,Ae))}getTerrainMesh(){if(this._mesh)return this._mesh;const u=this.style.map.painter.context,m=new a.PosArray,_=new a.TriangleIndexArray,E=this.meshSize,K=a.EXTENT/E,T=E*E;for(let $=0;$<=E;$++)for(let H=0;H<=E;H++)m.emplaceBack(H*K,$*K);for(let $=0;$<T;$+=E+1)for(let H=0;H<E;H++)_.emplaceBack(H+$,E+H+$+1,E+H+$+2),_.emplaceBack(H+$,E+H+$+2,H+$+1);return this._mesh={indexBuffer:u.createIndexBuffer(_),vertexBuffer:u.createVertexBuffer(m,qr.members),segments:a.SegmentVector.simpleSegment(0,0,m.length,_.length)},this._mesh}getMinMaxElevation(u){const m=this.getTerrainData(u).tile,_={minElevation:null,maxElevation:null};return m&&m.dem&&(_.minElevation=(m.dem.min+this.elevationOffset)*this.exaggeration,_.maxElevation=(m.dem.max+this.elevationOffset)*this.exaggeration),_}}const Lr=(M,u)=>a.emitValidationErrors(M,u&&u.filter(m=>m.identifier!=="source.canvas")),Xr=a.pick(qt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Oi=a.pick(qt,["setCenter","setZoom","setBearing","setPitch"]),ge=function(){const M={},u=a.spec.$version;for(const m in a.spec.$root){const _=a.spec.$root[m];if(_.required){let E=null;E=m==="version"?u:_.type==="array"?[]:{},E!=null&&(M[m]=E)}}return M}();class je extends a.Evented{constructor(u,m={}){super(),this.map=u,this.dispatcher=new Re(Lt(),this),this.imageManager=new j,this.imageManager.setEventedParent(this),this.glyphManager=new se(u._requestManager,m.localIdeographFontFamily),this.lineAtlas=new De(256,512),this.crossTileSymbolIndex=new Cr,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const _=this;this._rtlTextPluginCallback=je.registerForPluginStateChange(E=>{_.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:E.pluginStatus,pluginURL:E.pluginURL},(K,T)=>{if(a.triggerPluginCompletionEvent(K),T&&T.every($=>$))for(const $ in _.sourceCaches)_.sourceCaches[$].reload()})}),this.on("data",E=>{if(E.dataType!=="source"||E.sourceDataType!=="metadata")return;const K=this.sourceCaches[E.sourceId];if(!K)return;const T=K.getSource();if(T&&T.vectorLayerIds)for(const $ in this._layers){const H=this._layers[$];H.source===T.id&&this._validateLayer(H)}})}loadURL(u,m={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const _=typeof m.validate!="boolean"||m.validate,E=this.map._requestManager.transformRequest(u,a.ResourceType.Style);this._request=a.getJSON(E,(K,T)=>{this._request=null,K?this.fire(new a.ErrorEvent(K)):T&&this._load(T,_)})}loadJSON(u,m={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(u,m.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ge,!1)}_load(u,m){if(m&&Lr(this,a.validateStyle(u)))return;this._loaded=!0,this.stylesheet=u;for(const E in u.sources)this.addSource(E,u.sources[E],{validate:!1});u.sprite?this._loadSprite(u.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(u.glyphs);const _=rr(this.stylesheet.layers);this._order=_.map(E=>E.id),this._layers={},this._serializedLayers={};for(let E of _)E=a.createStyleLayer(E),E.setEventedParent(this,{layer:{id:E.id}}),this._layers[E.id]=E,this._serializedLayers[E.id]=E.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new me(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}_loadSprite(u){this._spriteRequest=function(m,_,E,K){let T,$,H;const te=E>1?"@2x":"";let Ae=a.getJSON(_.transformRequest(_.normalizeSpriteURL(m,te,".json"),a.ResourceType.SpriteJSON),(We,Fe)=>{Ae=null,H||(H=We,T=Fe,Me())}),ye=a.getImage(_.transformRequest(_.normalizeSpriteURL(m,te,".png"),a.ResourceType.SpriteImage),(We,Fe)=>{ye=null,H||(H=We,$=Fe,Me())});function Me(){if(H)K(H);else if(T&&$){const We=a.exported.getImageData($),Fe={};for(const ze in T){const{width:At,height:yt,x:Mt,y:Ye,sdf:Bt,pixelRatio:kt,stretchX:Ht,stretchY:Zt,content:fn}=T[ze],Qt=new a.RGBAImage({width:At,height:yt});a.RGBAImage.copy(We,Qt,{x:Mt,y:Ye},{x:0,y:0},{width:At,height:yt}),Fe[ze]={data:Qt,pixelRatio:kt,sdf:Bt,stretchX:Ht,stretchY:Zt,content:fn}}K(null,Fe)}}return{cancel(){Ae&&(Ae.cancel(),Ae=null),ye&&(ye.cancel(),ye=null)}}}(u,this.map._requestManager,this.map.getPixelRatio(),(m,_)=>{if(this._spriteRequest=null,m)this.fire(new a.ErrorEvent(m));else if(_)for(const E in _)this.imageManager.addImage(E,_[E]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(u){const m=this.sourceCaches[u.source];if(!m)return;const _=u.sourceLayer;if(!_)return;const E=m.getSource();(E.type==="geojson"||E.vectorLayerIds&&E.vectorLayerIds.indexOf(_)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${_}" does not exist on source "${E.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(u){const m=[];for(const _ of u){const E=this._layers[_];E.type!=="custom"&&m.push(E.serialize())}return m}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const m=this._changed;if(this._changed){const E=Object.keys(this._updatedLayers),K=Object.keys(this._removedLayers);(E.length||K.length)&&this._updateWorkerLayers(E,K);for(const T in this._updatedSources){const $=this._updatedSources[T];if($==="reload")this._reloadSource(T);else{if($!=="clear")throw new Error(`Invalid action ${$}`);this._clearSource(T)}}this._updateTilesForChangedImages();for(const T in this._updatedPaintProps)this._layers[T].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}const _={};for(const E in this.sourceCaches){const K=this.sourceCaches[E];_[E]=K.used,K.used=!1}for(const E of this._order){const K=this._layers[E];K.recalculate(u,this._availableImages),!K.isHidden(u.zoom)&&K.source&&(this.sourceCaches[K.source].used=!0)}for(const E in _){const K=this.sourceCaches[E];_[E]!==K.used&&K.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:E}))}this.light.recalculate(u),this.z=u.zoom,m&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const m in this.sourceCaches)this.sourceCaches[m].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateWorkerLayers(u,m){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(u),removedIds:m})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(u){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),u){const m=this.sourceCaches[u.source];if(!m)throw new Error(`cannot load terrain, because there exists no source with ID: ${u.source}`);this.terrain=new dn(this,m,u),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=_=>{_.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=_=>{_.tile&&(_.sourceId===u.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(_.sourceId,_.tile.tileID)):_.source.type==="geojson"&&this.terrain.rememberForRerender(_.sourceId,_.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new a.Event("terrain",{terrain:u}))}setState(u){if(this._checkLoaded(),Lr(this,a.validateStyle(u)))return!1;(u=a.clone$1(u)).layers=rr(u.layers);const m=function(E,K){if(!E)return[{command:qt.setStyle,args:[K]}];let T=[];try{if(!I(E.version,K.version))return[{command:qt.setStyle,args:[K]}];I(E.center,K.center)||T.push({command:qt.setCenter,args:[K.center]}),I(E.zoom,K.zoom)||T.push({command:qt.setZoom,args:[K.zoom]}),I(E.bearing,K.bearing)||T.push({command:qt.setBearing,args:[K.bearing]}),I(E.pitch,K.pitch)||T.push({command:qt.setPitch,args:[K.pitch]}),I(E.sprite,K.sprite)||T.push({command:qt.setSprite,args:[K.sprite]}),I(E.glyphs,K.glyphs)||T.push({command:qt.setGlyphs,args:[K.glyphs]}),I(E.transition,K.transition)||T.push({command:qt.setTransition,args:[K.transition]}),I(E.light,K.light)||T.push({command:qt.setLight,args:[K.light]});const $={},H=[];(function(Ae,ye,Me,We){let Fe;for(Fe in ye=ye||{},Ae=Ae||{})Object.prototype.hasOwnProperty.call(Ae,Fe)&&(Object.prototype.hasOwnProperty.call(ye,Fe)||lr(Fe,Me,We));for(Fe in ye)Object.prototype.hasOwnProperty.call(ye,Fe)&&(Object.prototype.hasOwnProperty.call(Ae,Fe)?I(Ae[Fe],ye[Fe])||(Ae[Fe].type==="geojson"&&ye[Fe].type==="geojson"&&Mr(Ae,ye,Fe)?Me.push({command:qt.setGeoJSONSourceData,args:[Fe,ye[Fe].data]}):gr(Fe,ye,Me,We)):$n(Fe,ye,Me))})(E.sources,K.sources,H,$);const te=[];E.layers&&E.layers.forEach(Ae=>{$[Ae.source]?T.push({command:qt.removeLayer,args:[Ae.id]}):te.push(Ae)}),T=T.concat(H),function(Ae,ye,Me){ye=ye||[];const We=(Ae=Ae||[]).map(ur),Fe=ye.map(ur),ze=Ae.reduce(yi,{}),At=ye.reduce(yi,{}),yt=We.slice(),Mt=Object.create(null);let Ye,Bt,kt,Ht,Zt,fn,Qt;for(Ye=0,Bt=0;Ye<We.length;Ye++)kt=We[Ye],Object.prototype.hasOwnProperty.call(At,kt)?Bt++:(Me.push({command:qt.removeLayer,args:[kt]}),yt.splice(yt.indexOf(kt,Bt),1));for(Ye=0,Bt=0;Ye<Fe.length;Ye++)kt=Fe[Fe.length-1-Ye],yt[yt.length-1-Ye]!==kt&&(Object.prototype.hasOwnProperty.call(ze,kt)?(Me.push({command:qt.removeLayer,args:[kt]}),yt.splice(yt.lastIndexOf(kt,yt.length-Bt),1)):Bt++,fn=yt[yt.length-Ye],Me.push({command:qt.addLayer,args:[At[kt],fn]}),yt.splice(yt.length-Ye,0,kt),Mt[kt]=!0);for(Ye=0;Ye<Fe.length;Ye++)if(kt=Fe[Ye],Ht=ze[kt],Zt=At[kt],!Mt[kt]&&!I(Ht,Zt))if(I(Ht.source,Zt.source)&&I(Ht["source-layer"],Zt["source-layer"])&&I(Ht.type,Zt.type)){for(Qt in Dr(Ht.layout,Zt.layout,Me,kt,null,qt.setLayoutProperty),Dr(Ht.paint,Zt.paint,Me,kt,null,qt.setPaintProperty),I(Ht.filter,Zt.filter)||Me.push({command:qt.setFilter,args:[kt,Zt.filter]}),I(Ht.minzoom,Zt.minzoom)&&I(Ht.maxzoom,Zt.maxzoom)||Me.push({command:qt.setLayerZoomRange,args:[kt,Zt.minzoom,Zt.maxzoom]}),Ht)Object.prototype.hasOwnProperty.call(Ht,Qt)&&Qt!=="layout"&&Qt!=="paint"&&Qt!=="filter"&&Qt!=="metadata"&&Qt!=="minzoom"&&Qt!=="maxzoom"&&(Qt.indexOf("paint.")===0?Dr(Ht[Qt],Zt[Qt],Me,kt,Qt.slice(6),qt.setPaintProperty):I(Ht[Qt],Zt[Qt])||Me.push({command:qt.setLayerProperty,args:[kt,Qt,Zt[Qt]]}));for(Qt in Zt)Object.prototype.hasOwnProperty.call(Zt,Qt)&&!Object.prototype.hasOwnProperty.call(Ht,Qt)&&Qt!=="layout"&&Qt!=="paint"&&Qt!=="filter"&&Qt!=="metadata"&&Qt!=="minzoom"&&Qt!=="maxzoom"&&(Qt.indexOf("paint.")===0?Dr(Ht[Qt],Zt[Qt],Me,kt,Qt.slice(6),qt.setPaintProperty):I(Ht[Qt],Zt[Qt])||Me.push({command:qt.setLayerProperty,args:[kt,Qt,Zt[Qt]]}))}else Me.push({command:qt.removeLayer,args:[kt]}),fn=yt[yt.lastIndexOf(kt)+1],Me.push({command:qt.addLayer,args:[Zt,fn]})}(te,K.layers,T)}catch($){console.warn("Unable to compute style diff:",$),T=[{command:qt.setStyle,args:[K]}]}return T}(this.serialize(),u).filter(E=>!(E.command in Oi));if(m.length===0)return!1;const _=m.filter(E=>!(E.command in Xr));if(_.length>0)throw new Error(`Unimplemented: ${_.map(E=>E.command).join(", ")}.`);return m.forEach(E=>{E.command!=="setTransition"&&this[E.command].apply(this,E.args)}),this.stylesheet=u,!0}addImage(u,m){if(this.getImage(u))return this.fire(new a.ErrorEvent(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,m),this._afterImageUpdated(u)}updateImage(u,m){this.imageManager.updateImage(u,m)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new a.ErrorEvent(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,m,_={}){if(this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!m.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(m).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(m.type)>=0&&this._validate(a.validateStyle.source,`sources.${u}`,m,null,_))return;this.map&&this.map._collectResourceTiming&&(m.collectResourceTiming=!0);const E=this.sourceCaches[u]=new ce(u,m,this.dispatcher);E.style=this,E.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:E.serialize(),sourceId:u})),E.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===u)return this.fire(new a.ErrorEvent(new Error(`Source "${u}" cannot be removed while layer "${_}" is using it.`)));const m=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],m.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),m.setEventedParent(null),m.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,m){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const _=this.sourceCaches[u].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(m),this._changed=!0}getSource(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()}addLayer(u,m,_={}){this._checkLoaded();const E=u.id;if(this.getLayer(E))return void this.fire(new a.ErrorEvent(new Error(`Layer "${E}" already exists on this map.`)));let K;if(u.type==="custom"){if(Lr(this,a.validateCustomStyleLayer(u)))return;K=a.createStyleLayer(u)}else{if(typeof u.source=="object"&&(this.addSource(E,u.source),u=a.clone$1(u),u=a.extend(u,{source:E})),this._validate(a.validateStyle.layer,`layers.${E}`,u,{arrayIndex:-1},_))return;K=a.createStyleLayer(u),this._validateLayer(K),K.setEventedParent(this,{layer:{id:E}}),this._serializedLayers[K.id]=K.serialize()}const T=m?this._order.indexOf(m):this._order.length;if(m&&T===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${E}" before non-existing layer "${m}".`)));else{if(this._order.splice(T,0,E),this._layerOrderChanged=!0,this._layers[E]=K,this._removedLayers[E]&&K.source&&K.type!=="custom"){const $=this._removedLayers[E];delete this._removedLayers[E],$.type!==K.type?this._updatedSources[K.source]="clear":(this._updatedSources[K.source]="reload",this.sourceCaches[K.source].pause())}this._updateLayer(K),K.onAdd&&K.onAdd(this.map)}}moveLayer(u,m){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new a.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===m)return;const _=this._order.indexOf(u);this._order.splice(_,1);const E=m?this._order.indexOf(m):this._order.length;m&&E===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${u}" before non-existing layer "${m}".`))):(this._order.splice(E,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const m=this._layers[u];if(!m)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${u}".`)));m.setEventedParent(null);const _=this._order.indexOf(u);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=m,delete this._layers[u],delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],m.onRemove&&m.onRemove(this.map)}getLayer(u){return this._layers[u]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,m,_){this._checkLoaded();const E=this.getLayer(u);E?E.minzoom===m&&E.maxzoom===_||(m!=null&&(E.minzoom=m),_!=null&&(E.maxzoom=_),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,m,_={}){this._checkLoaded();const E=this.getLayer(u);if(E){if(!I(E.filter,m))return m==null?(E.filter=void 0,void this._updateLayer(E)):void(this._validate(a.validateStyle.filter,`layers.${E.id}.filter`,m,null,_)||(E.filter=a.clone$1(m),this._updateLayer(E)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return a.clone$1(this.getLayer(u).filter)}setLayoutProperty(u,m,_,E={}){this._checkLoaded();const K=this.getLayer(u);K?I(K.getLayoutProperty(m),_)||(K.setLayoutProperty(m,_,E),this._updateLayer(K)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,m){const _=this.getLayer(u);if(_)return _.getLayoutProperty(m);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,m,_,E={}){this._checkLoaded();const K=this.getLayer(u);K?I(K.getPaintProperty(m),_)||(K.setPaintProperty(m,_,E)&&this._updateLayer(K),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${u}".`)))}getPaintProperty(u,m){return this.getLayer(u).getPaintProperty(m)}setFeatureState(u,m){this._checkLoaded();const _=u.source,E=u.sourceLayer,K=this.sourceCaches[_];if(K===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const T=K.getSource().type;T==="geojson"&&E?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||E?(u.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),K.setFeatureState(E,u.id,m)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,m){this._checkLoaded();const _=u.source,E=this.sourceCaches[_];if(E===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const K=E.getSource().type,T=K==="vector"?u.sourceLayer:void 0;K!=="vector"||T?m&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):E.removeFeatureState(T,u.id,m):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const m=u.source,_=u.sourceLayer,E=this.sourceCaches[m];if(E!==void 0)return E.getSource().type!=="vector"||_?(u.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),E.getFeatureState(_,u.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,u=>u.serialize()),layers:this._serializeLayers(this._order)},u=>u!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(u){const m=T=>this._layers[T].type==="fill-extrusion",_={},E=[];for(let T=this._order.length-1;T>=0;T--){const $=this._order[T];if(m($)){_[$]=T;for(const H of u){const te=H[$];if(te)for(const Ae of te)E.push(Ae)}}}E.sort((T,$)=>$.intersectionZ-T.intersectionZ);const K=[];for(let T=this._order.length-1;T>=0;T--){const $=this._order[T];if(m($))for(let H=E.length-1;H>=0;H--){const te=E[H].feature;if(_[te.layer.id]<T)break;K.push(te),E.pop()}else for(const H of u){const te=H[$];if(te)for(const Ae of te)K.push(Ae.feature)}}return K}queryRenderedFeatures(u,m,_){m&&m.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",m.filter,null,m);const E={};if(m&&m.layers){if(!Array.isArray(m.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const T of m.layers){const $=this._layers[T];if(!$)return this.fire(new a.ErrorEvent(new Error(`The layer '${T}' does not exist in the map's style and cannot be queried for features.`))),[];E[$.source]=!0}}const K=[];m.availableImages=this._availableImages;for(const T in this.sourceCaches)m.layers&&!E[T]||K.push(dt(this.sourceCaches[T],this._layers,this._serializedLayers,u,m,_));return this.placement&&K.push(function(T,$,H,te,Ae,ye,Me){const We={},Fe=ye.queryRenderedSymbols(te),ze=[];for(const At of Object.keys(Fe).map(Number))ze.push(Me[At]);ze.sort(ot);for(const At of ze){const yt=At.featureIndex.lookupSymbolFeatures(Fe[At.bucketInstanceId],$,At.bucketIndex,At.sourceLayerIndex,Ae.filter,Ae.layers,Ae.availableImages,T);for(const Mt in yt){const Ye=We[Mt]=We[Mt]||[],Bt=yt[Mt];Bt.sort((kt,Ht)=>{const Zt=At.featureSortOrder;if(Zt){const fn=Zt.indexOf(kt.featureIndex);return Zt.indexOf(Ht.featureIndex)-fn}return Ht.featureIndex-kt.featureIndex});for(const kt of Bt)Ye.push(kt)}}for(const At in We)We[At].forEach(yt=>{const Mt=yt.feature,Ye=H[T[At].source].getFeatureState(Mt.layer["source-layer"],Mt.id);Mt.source=Mt.layer.source,Mt.layer["source-layer"]&&(Mt.sourceLayer=Mt.layer["source-layer"]),Mt.state=Ye});return We}(this._layers,this._serializedLayers,this.sourceCaches,u,m,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(K)}querySourceFeatures(u,m){m&&m.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",m.filter,null,m);const _=this.sourceCaches[u];return _?function(E,K){const T=E.getRenderableIds().map(te=>E.getTileByID(te)),$=[],H={};for(let te=0;te<T.length;te++){const Ae=T[te],ye=Ae.tileID.canonical.key;H[ye]||(H[ye]=!0,Ae.querySourceFeatures($,K))}return $}(_,m):[]}addSourceType(u,m,_){return je.getSourceType(u)?_(new Error(`A source type called "${u}" already exists.`)):(je.setSourceType(u,m),m.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:u,url:m.workerSourceURL},_):_(null,null))}getLight(){return this.light.getLight()}setLight(u,m={}){this._checkLoaded();const _=this.light.getLight();let E=!1;for(const T in u)if(!I(u[T],_[T])){E=!0;break}if(!E)return;const K={now:a.exported.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,m),this.light.updateTransitions(K)}_validate(u,m,_,E,K={}){return(!K||K.validate!==!1)&&Lr(this,u.call(a.validateStyle,a.extend({key:m,style:this.serialize(),value:_,styleSpec:a.spec},E)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this.sourceCaches){const m=this.sourceCaches[u];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(u){this.sourceCaches[u].clearTiles()}_reloadSource(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()}_updateSources(u){for(const m in this.sourceCaches)this.sourceCaches[m].update(u,this.terrain)}_generateCollisionBoxes(){for(const u in this.sourceCaches)this._reloadSource(u)}_updatePlacement(u,m,_,E,K=!1){let T=!1,$=!1;const H={};for(const te of this._order){const Ae=this._layers[te];if(Ae.type!=="symbol")continue;if(!H[Ae.source]){const Me=this.sourceCaches[Ae.source];H[Ae.source]=Me.getRenderableIds(!0).map(We=>Me.getTileByID(We)).sort((We,Fe)=>Fe.tileID.overscaledZ-We.tileID.overscaledZ||(We.tileID.isLessThan(Fe.tileID)?-1:1))}const ye=this.crossTileSymbolIndex.addLayer(Ae,H[Ae.source],u.center.lng);T=T||ye}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((K=K||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),u.zoom))&&(this.pauseablePlacement=new Dt(u,this.terrain,this._order,K,m,_,E,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,H),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),$=!0),T&&this.pauseablePlacement.placement.setStale()),$||T)for(const te of this._order){const Ae=this._layers[te];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,H[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,m,_){this.imageManager.getImages(m.icons,_),this._updateTilesForChangedImages();const E=this.sourceCaches[m.source];E&&E.setDependencies(m.tileID.key,m.type,m.icons)}getGlyphs(u,m,_){this.glyphManager.getGlyphs(m.stacks,_)}getResource(u,m,_){return a.makeRequest(m,_)}}je.getSourceType=function(M){return tt[M]},je.setSourceType=function(M,u){tt[M]=u},je.registerForPluginStateChange=a.registerForPluginStateChange;var Yt="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const hn={prelude:Ct(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Ct(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Ct(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Ct(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Ct("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ct(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Ct(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Ct("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Ct("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Ct("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Ct(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Ct(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Ct(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Ct(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Ct(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Ct(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Ct(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ct(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Ct(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Ct(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Ct(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Ct(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Ct(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Ct(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Ct(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Ct(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Ct("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Yt),terrainDepth:Ct("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Yt),terrainCoords:Ct("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Yt)};function Ct(M,u){const m=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=u.match(/attribute ([\w]+) ([\w]+)/g),E=M.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),K=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=K?K.concat(E):E,$={};return{fragmentSource:M=M.replace(m,(H,te,Ae,ye,Me)=>($[Me]=!0,te==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
varying ${Ae} ${ye} ${Me};
#else
uniform ${Ae} ${ye} u_${Me};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Me}
    ${Ae} ${ye} ${Me} = u_${Me};
#endif
`)),vertexSource:u=u.replace(m,(H,te,Ae,ye,Me)=>{const We=ye==="float"?"vec2":"vec4",Fe=Me.match(/color/)?"color":We;return $[Me]?te==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
attribute ${Ae} ${We} a_${Me};
varying ${Ae} ${ye} ${Me};
#else
uniform ${Ae} ${ye} u_${Me};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = a_${Me};
#else
    ${Ae} ${ye} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = unpack_mix_${Fe}(a_${Me}, u_${Me}_t);
#else
    ${Ae} ${ye} ${Me} = u_${Me};
#endif
`:te==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
attribute ${Ae} ${We} a_${Me};
#else
uniform ${Ae} ${ye} u_${Me};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Ae} ${ye} ${Me} = a_${Me};
#else
    ${Ae} ${ye} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Ae} ${ye} ${Me} = unpack_mix_${Fe}(a_${Me}, u_${Me}_t);
#else
    ${Ae} ${ye} ${Me} = u_${Me};
#endif
`}),staticAttributes:_,staticUniforms:T}}class Cn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,m,_,E,K,T,$,H,te){this.context=u;let Ae=this.boundPaintVertexBuffers.length!==E.length;for(let ye=0;!Ae&&ye<E.length;ye++)this.boundPaintVertexBuffers[ye]!==E[ye]&&(Ae=!0);u.extVertexArrayObject&&this.vao&&this.boundProgram===m&&this.boundLayoutVertexBuffer===_&&!Ae&&this.boundIndexBuffer===K&&this.boundVertexOffset===T&&this.boundDynamicVertexBuffer===$&&this.boundDynamicVertexBuffer2===H&&this.boundDynamicVertexBuffer3===te?(u.bindVertexArrayOES.set(this.vao),$&&$.bind(),K&&K.dynamicDraw&&K.bind(),H&&H.bind(),te&&te.bind()):this.freshBind(m,_,E,K,T,$,H,te)}freshBind(u,m,_,E,K,T,$,H){let te;const Ae=u.numAttributes,ye=this.context,Me=ye.gl;if(ye.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ye.extVertexArrayObject.createVertexArrayOES(),ye.bindVertexArrayOES.set(this.vao),te=0,this.boundProgram=u,this.boundLayoutVertexBuffer=m,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=E,this.boundVertexOffset=K,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=$,this.boundDynamicVertexBuffer3=H;else{te=ye.currentNumAttributes||0;for(let We=Ae;We<te;We++)Me.disableVertexAttribArray(We)}m.enableAttributes(Me,u);for(const We of _)We.enableAttributes(Me,u);T&&T.enableAttributes(Me,u),$&&$.enableAttributes(Me,u),H&&H.enableAttributes(Me,u),m.bind(),m.setVertexAttribPointers(Me,u,K);for(const We of _)We.bind(),We.setVertexAttribPointers(Me,u,K);T&&(T.bind(),T.setVertexAttribPointers(Me,u,K)),E&&E.bind(),$&&($.bind(),$.setVertexAttribPointers(Me,u,K)),H&&(H.bind(),H.setVertexAttribPointers(Me,u,K)),ye.currentNumAttributes=Ae}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ti(M){const u=[];for(let m=0;m<M.length;m++){if(M[m]===null)continue;const _=M[m].split(" ");u.push(_.pop())}return u}class Ni{constructor(u,m,_,E,K,T,$){const H=u.gl;this.program=H.createProgram();const te=ti(_.staticAttributes),Ae=E?E.getBinderAttributes():[],ye=te.concat(Ae),Me=hn.prelude.staticUniforms?ti(hn.prelude.staticUniforms):[],We=_.staticUniforms?ti(_.staticUniforms):[],Fe=E?E.getBinderUniforms():[],ze=Me.concat(We).concat(Fe),At=[];for(const Zt of ze)At.indexOf(Zt)<0&&At.push(Zt);const yt=E?E.defines():[];T&&yt.push("#define OVERDRAW_INSPECTOR;"),$&&yt.push("#define TERRAIN3D;");const Mt=yt.concat(hn.prelude.fragmentSource,_.fragmentSource).join(`
`),Ye=yt.concat(hn.prelude.vertexSource,_.vertexSource).join(`
`),Bt=H.createShader(H.FRAGMENT_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);H.shaderSource(Bt,Mt),H.compileShader(Bt),H.attachShader(this.program,Bt);const kt=H.createShader(H.VERTEX_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);H.shaderSource(kt,Ye),H.compileShader(kt),H.attachShader(this.program,kt),this.attributes={};const Ht={};this.numAttributes=ye.length;for(let Zt=0;Zt<this.numAttributes;Zt++)ye[Zt]&&(H.bindAttribLocation(this.program,Zt,ye[Zt]),this.attributes[ye[Zt]]=Zt);H.linkProgram(this.program),H.deleteShader(kt),H.deleteShader(Bt);for(let Zt=0;Zt<At.length;Zt++){const fn=At[Zt];if(fn&&!Ht[fn]){const Qt=H.getUniformLocation(this.program,fn);Qt&&(Ht[fn]=Qt)}}this.fixedUniforms=K(u,Ht),this.terrainUniforms=((Zt,fn)=>({u_depth:new a.Uniform1i(Zt,fn.u_depth),u_terrain:new a.Uniform1i(Zt,fn.u_terrain),u_terrain_dim:new a.Uniform1f(Zt,fn.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Zt,fn.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Zt,fn.u_terrain_unpack),u_terrain_offset:new a.Uniform1f(Zt,fn.u_terrain_offset),u_terrain_exaggeration:new a.Uniform1f(Zt,fn.u_terrain_exaggeration)}))(u,Ht),this.binderUniforms=E?E.getUniforms(u,Ht):[]}draw(u,m,_,E,K,T,$,H,te,Ae,ye,Me,We,Fe,ze,At,yt,Mt){const Ye=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(_),u.setStencilMode(E),u.setColorMode(K),u.setCullFace(T),H){u.activeTexture.set(Ye.TEXTURE2),Ye.bindTexture(Ye.TEXTURE_2D,H.depthTexture),u.activeTexture.set(Ye.TEXTURE3),Ye.bindTexture(Ye.TEXTURE_2D,H.texture);for(const kt in this.terrainUniforms)this.terrainUniforms[kt].set(H[kt])}for(const kt in this.fixedUniforms)this.fixedUniforms[kt].set($[kt]);ze&&ze.setUniforms(u,this.binderUniforms,We,{zoom:Fe});let Bt=0;switch(m){case Ye.LINES:Bt=2;break;case Ye.TRIANGLES:Bt=3;break;case Ye.LINE_STRIP:Bt=1}for(const kt of Me.get()){const Ht=kt.vaos||(kt.vaos={});(Ht[te]||(Ht[te]=new Cn)).bind(u,this,Ae,ze?ze.getPaintVertexBuffers():[],ye,kt.vertexOffset,At,yt,Mt),Ye.drawElements(m,kt.primitiveLength*Bt,Ye.UNSIGNED_SHORT,kt.primitiveOffset*Bt*2)}}}function Xi(M,u,m){const _=1/Ai(m,1,u.transform.tileZoom),E=Math.pow(2,m.tileID.overscaledZ),K=m.tileSize*Math.pow(2,u.transform.tileZoom)/E,T=K*(m.tileID.canonical.x+m.tileID.wrap*E),$=K*m.tileID.canonical.y;return{u_image:0,u_texsize:m.imageAtlasTexture.size,u_scale:[_,M.fromScale,M.toScale],u_fade:M.t,u_pixel_coord_upper:[T>>16,$>>16],u_pixel_coord_lower:[65535&T,65535&$]}}const ba=(M,u,m,_)=>{const E=u.style.light,K=E.properties.get("position"),T=[K.x,K.y,K.z],$=a.create$1();E.properties.get("anchor")==="viewport"&&a.fromRotation($,-u.transform.angle),a.transformMat3(T,T,$);const H=E.properties.get("color");return{u_matrix:M,u_lightpos:T,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[H.r,H.g,H.b],u_vertical_gradient:+m,u_opacity:_}},Mu=(M,u,m,_,E,K,T)=>a.extend(ba(M,u,m,_),Xi(K,u,T),{u_height_factor:-Math.pow(2,E.overscaledZ)/T.tileSize/8}),kr=M=>({u_matrix:M}),Ns=(M,u,m,_)=>a.extend(kr(M),Xi(m,u,_)),bl=(M,u)=>({u_matrix:M,u_world:u}),Gs=(M,u,m,_,E)=>a.extend(Ns(M,u,m,_),{u_world:E}),Qs=(M,u,m,_)=>{const E=M.transform;let K,T;if(_.paint.get("circle-pitch-alignment")==="map"){const $=Ai(m,1,E.zoom);K=!0,T=[$,$]}else K=!1,T=E.pixelsToGLUnits;return{u_camera_to_center_distance:E.cameraToCenterDistance,u_scale_with_map:+(_.paint.get("circle-pitch-scale")==="map"),u_matrix:M.translatePosMatrix(u.posMatrix,m,_.paint.get("circle-translate"),_.paint.get("circle-translate-anchor")),u_pitch_with_map:+K,u_device_pixel_ratio:M.pixelRatio,u_extrude_scale:T}},xl=(M,u,m)=>{const _=Ai(m,1,u.zoom),E=Math.pow(2,u.zoom-m.tileID.overscaledZ),K=m.tileID.overscaleFactor();return{u_matrix:M,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:_,u_extrude_scale:[u.pixelsToGLUnits[0]/(_*E),u.pixelsToGLUnits[1]/(_*E)],u_overscale_factor:K}},Is=(M,u,m=1)=>({u_matrix:M,u_color:u,u_overlay:0,u_overlay_scale:m}),Ho=M=>({u_matrix:M}),xa=(M,u,m,_)=>({u_matrix:M,u_extrude_scale:Ai(u,1,m),u_intensity:_});function ks(M,u){const m=Math.pow(2,u.canonical.z),_=u.canonical.y;return[new a.MercatorCoordinate(0,_/m).toLngLat().lat,new a.MercatorCoordinate(0,(_+1)/m).toLngLat().lat]}const wl=(M,u,m,_)=>{const E=M.transform;return{u_matrix:Eu(M,u,m,_),u_ratio:1/Ai(u,1,E.zoom),u_device_pixel_ratio:M.pixelRatio,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},$s=(M,u,m,_,E)=>a.extend(wl(M,u,m,E),{u_image:0,u_image_height:_}),Su=(M,u,m,_,E)=>{const K=M.transform,T=po(u,K);return{u_matrix:Eu(M,u,m,E),u_texsize:u.imageAtlasTexture.size,u_ratio:1/Ai(u,1,K.zoom),u_device_pixel_ratio:M.pixelRatio,u_image:0,u_scale:[T,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/K.pixelsToGLUnits[0],1/K.pixelsToGLUnits[1]]}},uu=(M,u,m,_,E,K)=>{const T=M.lineAtlas,$=po(u,M.transform),H=m.layout.get("line-cap")==="round",te=T.getDash(_.from,H),Ae=T.getDash(_.to,H),ye=te.width*E.fromScale,Me=Ae.width*E.toScale;return a.extend(wl(M,u,m,K),{u_patternscale_a:[$/ye,-te.height/2],u_patternscale_b:[$/Me,-Ae.height/2],u_sdfgamma:T.width/(256*Math.min(ye,Me)*M.pixelRatio)/2,u_image:0,u_tex_y_a:te.y,u_tex_y_b:Ae.y,u_mix:E.t})};function po(M,u){return 1/Ai(M,1,u.tileZoom)}function Eu(M,u,m,_){return M.translatePosMatrix(_?_.posMatrix:u.tileID.posMatrix,u,m.paint.get("line-translate"),m.paint.get("line-translate-anchor"))}const tc=(M,u,m,_,E)=>{return{u_matrix:M,u_tl_parent:u,u_scale_parent:m,u_buffer_scale:1,u_fade_t:_.mix,u_opacity:_.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(T=E.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(K=E.paint.get("raster-contrast"),K>0?1/(1-K):1+K),u_spin_weights:qa(E.paint.get("raster-hue-rotate"))};var K,T};function qa(M){M*=Math.PI/180;const u=Math.sin(M),m=Math.cos(M);return[(2*m+1)/3,(-Math.sqrt(3)*u-m+1)/3,(Math.sqrt(3)*u-m+1)/3]}const Ts=(M,u,m,_,E,K,T,$,H,te)=>{const Ae=E.transform;return{u_is_size_zoom_constant:+(M==="constant"||M==="source"),u_is_size_feature_constant:+(M==="constant"||M==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:Ae.cameraToCenterDistance,u_pitch:Ae.pitch/360*2*Math.PI,u_rotate_symbol:+m,u_aspect_ratio:Ae.width/Ae.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:K,u_label_plane_matrix:T,u_coord_matrix:$,u_is_text:+H,u_pitch_with_map:+_,u_texsize:te,u_texture:0}},Ou=(M,u,m,_,E,K,T,$,H,te,Ae)=>{const ye=E.transform;return a.extend(Ts(M,u,m,_,E,K,T,$,H,te),{u_gamma_scale:_?Math.cos(ye._pitch)*ye.cameraToCenterDistance:1,u_device_pixel_ratio:E.pixelRatio,u_is_halo:+Ae})},Zu=(M,u,m,_,E,K,T,$,H,te)=>a.extend(Ou(M,u,m,_,E,K,T,$,!0,H,!0),{u_texsize_icon:te,u_texture_icon:1}),Bu=(M,u,m)=>({u_matrix:M,u_opacity:u,u_color:m}),zl=(M,u,m,_,E,K)=>a.extend(function(T,$,H,te){const Ae=H.imageManager.getPattern(T.from.toString()),ye=H.imageManager.getPattern(T.to.toString()),{width:Me,height:We}=H.imageManager.getPixelSize(),Fe=Math.pow(2,te.tileID.overscaledZ),ze=te.tileSize*Math.pow(2,H.transform.tileZoom)/Fe,At=ze*(te.tileID.canonical.x+te.tileID.wrap*Fe),yt=ze*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Ae.tl,u_pattern_br_a:Ae.br,u_pattern_tl_b:ye.tl,u_pattern_br_b:ye.br,u_texsize:[Me,We],u_mix:$.t,u_pattern_size_a:Ae.displaySize,u_pattern_size_b:ye.displaySize,u_scale_a:$.fromScale,u_scale_b:$.toScale,u_tile_units_to_pixels:1/Ai(te,1,H.transform.tileZoom),u_pixel_coord_upper:[At>>16,yt>>16],u_pixel_coord_lower:[65535&At,65535&yt]}}(_,K,m,E),{u_matrix:M,u_opacity:u}),nc={fillExtrusion:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_lightpos:new a.Uniform3f(M,u.u_lightpos),u_lightintensity:new a.Uniform1f(M,u.u_lightintensity),u_lightcolor:new a.Uniform3f(M,u.u_lightcolor),u_vertical_gradient:new a.Uniform1f(M,u.u_vertical_gradient),u_opacity:new a.Uniform1f(M,u.u_opacity)}),fillExtrusionPattern:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_lightpos:new a.Uniform3f(M,u.u_lightpos),u_lightintensity:new a.Uniform1f(M,u.u_lightintensity),u_lightcolor:new a.Uniform3f(M,u.u_lightcolor),u_vertical_gradient:new a.Uniform1f(M,u.u_vertical_gradient),u_height_factor:new a.Uniform1f(M,u.u_height_factor),u_image:new a.Uniform1i(M,u.u_image),u_texsize:new a.Uniform2f(M,u.u_texsize),u_pixel_coord_upper:new a.Uniform2f(M,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(M,u.u_pixel_coord_lower),u_scale:new a.Uniform3f(M,u.u_scale),u_fade:new a.Uniform1f(M,u.u_fade),u_opacity:new a.Uniform1f(M,u.u_opacity)}),fill:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix)}),fillPattern:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_image:new a.Uniform1i(M,u.u_image),u_texsize:new a.Uniform2f(M,u.u_texsize),u_pixel_coord_upper:new a.Uniform2f(M,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(M,u.u_pixel_coord_lower),u_scale:new a.Uniform3f(M,u.u_scale),u_fade:new a.Uniform1f(M,u.u_fade)}),fillOutline:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_world:new a.Uniform2f(M,u.u_world)}),fillOutlinePattern:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_world:new a.Uniform2f(M,u.u_world),u_image:new a.Uniform1i(M,u.u_image),u_texsize:new a.Uniform2f(M,u.u_texsize),u_pixel_coord_upper:new a.Uniform2f(M,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(M,u.u_pixel_coord_lower),u_scale:new a.Uniform3f(M,u.u_scale),u_fade:new a.Uniform1f(M,u.u_fade)}),circle:(M,u)=>({u_camera_to_center_distance:new a.Uniform1f(M,u.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(M,u.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(M,u.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(M,u.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(M,u.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(M,u.u_matrix)}),collisionBox:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_camera_to_center_distance:new a.Uniform1f(M,u.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(M,u.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(M,u.u_extrude_scale),u_overscale_factor:new a.Uniform1f(M,u.u_overscale_factor)}),collisionCircle:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_inv_matrix:new a.UniformMatrix4f(M,u.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(M,u.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(M,u.u_viewport_size)}),debug:(M,u)=>({u_color:new a.UniformColor(M,u.u_color),u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_overlay:new a.Uniform1i(M,u.u_overlay),u_overlay_scale:new a.Uniform1f(M,u.u_overlay_scale)}),clippingMask:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix)}),heatmap:(M,u)=>({u_extrude_scale:new a.Uniform1f(M,u.u_extrude_scale),u_intensity:new a.Uniform1f(M,u.u_intensity),u_matrix:new a.UniformMatrix4f(M,u.u_matrix)}),heatmapTexture:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_world:new a.Uniform2f(M,u.u_world),u_image:new a.Uniform1i(M,u.u_image),u_color_ramp:new a.Uniform1i(M,u.u_color_ramp),u_opacity:new a.Uniform1f(M,u.u_opacity)}),hillshade:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_image:new a.Uniform1i(M,u.u_image),u_latrange:new a.Uniform2f(M,u.u_latrange),u_light:new a.Uniform2f(M,u.u_light),u_shadow:new a.UniformColor(M,u.u_shadow),u_highlight:new a.UniformColor(M,u.u_highlight),u_accent:new a.UniformColor(M,u.u_accent)}),hillshadePrepare:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_image:new a.Uniform1i(M,u.u_image),u_dimension:new a.Uniform2f(M,u.u_dimension),u_zoom:new a.Uniform1f(M,u.u_zoom),u_unpack:new a.Uniform4f(M,u.u_unpack)}),line:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_ratio:new a.Uniform1f(M,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(M,u.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(M,u.u_units_to_pixels)}),lineGradient:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_ratio:new a.Uniform1f(M,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(M,u.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(M,u.u_units_to_pixels),u_image:new a.Uniform1i(M,u.u_image),u_image_height:new a.Uniform1f(M,u.u_image_height)}),linePattern:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_texsize:new a.Uniform2f(M,u.u_texsize),u_ratio:new a.Uniform1f(M,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(M,u.u_device_pixel_ratio),u_image:new a.Uniform1i(M,u.u_image),u_units_to_pixels:new a.Uniform2f(M,u.u_units_to_pixels),u_scale:new a.Uniform3f(M,u.u_scale),u_fade:new a.Uniform1f(M,u.u_fade)}),lineSDF:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_ratio:new a.Uniform1f(M,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(M,u.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(M,u.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(M,u.u_patternscale_a),u_patternscale_b:new a.Uniform2f(M,u.u_patternscale_b),u_sdfgamma:new a.Uniform1f(M,u.u_sdfgamma),u_image:new a.Uniform1i(M,u.u_image),u_tex_y_a:new a.Uniform1f(M,u.u_tex_y_a),u_tex_y_b:new a.Uniform1f(M,u.u_tex_y_b),u_mix:new a.Uniform1f(M,u.u_mix)}),raster:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_tl_parent:new a.Uniform2f(M,u.u_tl_parent),u_scale_parent:new a.Uniform1f(M,u.u_scale_parent),u_buffer_scale:new a.Uniform1f(M,u.u_buffer_scale),u_fade_t:new a.Uniform1f(M,u.u_fade_t),u_opacity:new a.Uniform1f(M,u.u_opacity),u_image0:new a.Uniform1i(M,u.u_image0),u_image1:new a.Uniform1i(M,u.u_image1),u_brightness_low:new a.Uniform1f(M,u.u_brightness_low),u_brightness_high:new a.Uniform1f(M,u.u_brightness_high),u_saturation_factor:new a.Uniform1f(M,u.u_saturation_factor),u_contrast_factor:new a.Uniform1f(M,u.u_contrast_factor),u_spin_weights:new a.Uniform3f(M,u.u_spin_weights)}),symbolIcon:(M,u)=>({u_is_size_zoom_constant:new a.Uniform1i(M,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(M,u.u_is_size_feature_constant),u_size_t:new a.Uniform1f(M,u.u_size_t),u_size:new a.Uniform1f(M,u.u_size),u_camera_to_center_distance:new a.Uniform1f(M,u.u_camera_to_center_distance),u_pitch:new a.Uniform1f(M,u.u_pitch),u_rotate_symbol:new a.Uniform1i(M,u.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(M,u.u_aspect_ratio),u_fade_change:new a.Uniform1f(M,u.u_fade_change),u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(M,u.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(M,u.u_coord_matrix),u_is_text:new a.Uniform1i(M,u.u_is_text),u_pitch_with_map:new a.Uniform1i(M,u.u_pitch_with_map),u_texsize:new a.Uniform2f(M,u.u_texsize),u_texture:new a.Uniform1i(M,u.u_texture)}),symbolSDF:(M,u)=>({u_is_size_zoom_constant:new a.Uniform1i(M,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(M,u.u_is_size_feature_constant),u_size_t:new a.Uniform1f(M,u.u_size_t),u_size:new a.Uniform1f(M,u.u_size),u_camera_to_center_distance:new a.Uniform1f(M,u.u_camera_to_center_distance),u_pitch:new a.Uniform1f(M,u.u_pitch),u_rotate_symbol:new a.Uniform1i(M,u.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(M,u.u_aspect_ratio),u_fade_change:new a.Uniform1f(M,u.u_fade_change),u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(M,u.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(M,u.u_coord_matrix),u_is_text:new a.Uniform1i(M,u.u_is_text),u_pitch_with_map:new a.Uniform1i(M,u.u_pitch_with_map),u_texsize:new a.Uniform2f(M,u.u_texsize),u_texture:new a.Uniform1i(M,u.u_texture),u_gamma_scale:new a.Uniform1f(M,u.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(M,u.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(M,u.u_is_halo)}),symbolTextAndIcon:(M,u)=>({u_is_size_zoom_constant:new a.Uniform1i(M,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(M,u.u_is_size_feature_constant),u_size_t:new a.Uniform1f(M,u.u_size_t),u_size:new a.Uniform1f(M,u.u_size),u_camera_to_center_distance:new a.Uniform1f(M,u.u_camera_to_center_distance),u_pitch:new a.Uniform1f(M,u.u_pitch),u_rotate_symbol:new a.Uniform1i(M,u.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(M,u.u_aspect_ratio),u_fade_change:new a.Uniform1f(M,u.u_fade_change),u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(M,u.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(M,u.u_coord_matrix),u_is_text:new a.Uniform1i(M,u.u_is_text),u_pitch_with_map:new a.Uniform1i(M,u.u_pitch_with_map),u_texsize:new a.Uniform2f(M,u.u_texsize),u_texsize_icon:new a.Uniform2f(M,u.u_texsize_icon),u_texture:new a.Uniform1i(M,u.u_texture),u_texture_icon:new a.Uniform1i(M,u.u_texture_icon),u_gamma_scale:new a.Uniform1f(M,u.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(M,u.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(M,u.u_is_halo)}),background:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_opacity:new a.Uniform1f(M,u.u_opacity),u_color:new a.UniformColor(M,u.u_color)}),backgroundPattern:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_opacity:new a.Uniform1f(M,u.u_opacity),u_image:new a.Uniform1i(M,u.u_image),u_pattern_tl_a:new a.Uniform2f(M,u.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(M,u.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(M,u.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(M,u.u_pattern_br_b),u_texsize:new a.Uniform2f(M,u.u_texsize),u_mix:new a.Uniform1f(M,u.u_mix),u_pattern_size_a:new a.Uniform2f(M,u.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(M,u.u_pattern_size_b),u_scale_a:new a.Uniform1f(M,u.u_scale_a),u_scale_b:new a.Uniform1f(M,u.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(M,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(M,u.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(M,u.u_tile_units_to_pixels)}),terrain:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_texture:new a.Uniform1i(M,u.u_texture)}),terrainDepth:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix)}),terrainCoords:(M,u)=>({u_matrix:new a.UniformMatrix4f(M,u.u_matrix),u_texture:new a.Uniform1i(M,u.u_texture),u_terrain_coords_id:new a.Uniform1f(M,u.u_terrain_coords_id)})};class Iu{constructor(u,m,_){this.context=u;const E=u.gl;this.buffer=E.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),E.bufferData(E.ELEMENT_ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const m=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),m.bufferSubData(m.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Xu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class MA{constructor(u,m,_,E){this.length=m.length,this.attributes=_,this.itemSize=m.bytesPerElement,this.dynamicDraw=E,this.context=u;const K=u.gl;this.buffer=K.createBuffer(),u.bindVertexBuffer.set(this.buffer),K.bufferData(K.ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?K.DYNAMIC_DRAW:K.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const m=this.context.gl;this.bind(),m.bufferSubData(m.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,m){for(let _=0;_<this.attributes.length;_++){const E=m.attributes[this.attributes[_].name];E!==void 0&&u.enableVertexAttribArray(E)}}setVertexAttribPointers(u,m,_){for(let E=0;E<this.attributes.length;E++){const K=this.attributes[E],T=m.attributes[K.name];T!==void 0&&u.vertexAttribPointer(T,K.components,u[Xu[K.type]],!1,this.itemSize,K.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ai{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class SA extends ai{getDefault(){return a.Color.transparent}set(u){const m=this.current;(u.r!==m.r||u.g!==m.g||u.b!==m.b||u.a!==m.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class rc extends ai{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class no extends ai{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class Ji extends ai{getDefault(){return[!0,!0,!0,!0]}set(u){const m=this.current;(u[0]!==m[0]||u[1]!==m[1]||u[2]!==m[2]||u[3]!==m[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class ne extends ai{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class Ie extends ai{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class lt extends ai{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const m=this.current;(u.func!==m.func||u.ref!==m.ref||u.mask!==m.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class en extends ai{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const m=this.current;(u[0]!==m[0]||u[1]!==m[1]||u[2]!==m[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class Vr extends ai{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;u?m.enable(m.STENCIL_TEST):m.disable(m.STENCIL_TEST),this.current=u,this.dirty=!1}}class _r extends ai{getDefault(){return[0,1]}set(u){const m=this.current;(u[0]!==m[0]||u[1]!==m[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class Bi extends ai{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;u?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),this.current=u,this.dirty=!1}}class Ti extends ai{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class Hr extends ai{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;u?m.enable(m.BLEND):m.disable(m.BLEND),this.current=u,this.dirty=!1}}class $i extends ai{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const m=this.current;(u[0]!==m[0]||u[1]!==m[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class Ko extends ai{getDefault(){return a.Color.transparent}set(u){const m=this.current;(u.r!==m.r||u.g!==m.g||u.b!==m.b||u.a!==m.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class Ta extends ai{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class $o extends ai{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;u?m.enable(m.CULL_FACE):m.disable(m.CULL_FACE),this.current=u,this.dirty=!1}}class vi extends ai{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class ha extends ai{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class Va extends ai{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class Ys extends ai{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class jl extends ai{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const m=this.current;(u[0]!==m[0]||u[1]!==m[1]||u[2]!==m[2]||u[3]!==m[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class ku extends ai{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class ic extends ai{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;m.bindRenderbuffer(m.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Ka extends ai{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;m.bindTexture(m.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class lh extends ai{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;m.bindBuffer(m.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class Al extends ai{getDefault(){return null}set(u){const m=this.gl;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class uh extends ai{constructor(u){super(u),this.vao=u.extVertexArrayObject}getDefault(){return null}set(u){this.vao&&(u!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(u),this.current=u,this.dirty=!1)}}class EA extends ai{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class Ju extends ai{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class Id extends ai{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class zc extends ai{constructor(u,m){super(u),this.context=u,this.parent=m}getDefault(){return null}}class vo extends zc{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class Tu extends zc{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class OA{constructor(u,m,_,E){this.context=u,this.width=m,this.height=_;const K=u.gl,T=this.framebuffer=K.createFramebuffer();if(this.colorAttachment=new vo(u,T),E&&(this.depthAttachment=new Tu(u,T)),K.checkFramebufferStatus(K.FRAMEBUFFER)!==K.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const u=this.context.gl,m=this.colorAttachment.get();if(m&&u.deleteTexture(m),this.depthAttachment){const _=this.depthAttachment.get();_&&u.deleteRenderbuffer(_)}u.deleteFramebuffer(this.framebuffer)}}class Po{constructor(u,m,_){this.blendFunction=u,this.blendColor=m,this.mask=_}}Po.Replace=[1,0],Po.disabled=new Po(Po.Replace,a.Color.transparent,[!1,!1,!1,!1]),Po.unblended=new Po(Po.Replace,a.Color.transparent,[!0,!0,!0,!0]),Po.alphaBlended=new Po([1,771],a.Color.transparent,[!0,!0,!0,!0]);class oc{constructor(u){this.gl=u,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new SA(this),this.clearDepth=new rc(this),this.clearStencil=new no(this),this.colorMask=new Ji(this),this.depthMask=new ne(this),this.stencilMask=new Ie(this),this.stencilFunc=new lt(this),this.stencilOp=new en(this),this.stencilTest=new Vr(this),this.depthRange=new _r(this),this.depthTest=new Bi(this),this.depthFunc=new Ti(this),this.blend=new Hr(this),this.blendFunc=new $i(this),this.blendColor=new Ko(this),this.blendEquation=new Ta(this),this.cullFace=new $o(this),this.cullFaceSide=new vi(this),this.frontFace=new ha(this),this.program=new Va(this),this.activeTexture=new Ys(this),this.viewport=new jl(this),this.bindFramebuffer=new ku(this),this.bindRenderbuffer=new ic(this),this.bindTexture=new Ka(this),this.bindVertexBuffer=new lh(this),this.bindElementBuffer=new Al(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new uh(this),this.pixelStoreUnpack=new EA(this),this.pixelStoreUnpackPremultiplyAlpha=new Ju(this),this.pixelStoreUnpackFlipY=new Id(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=u.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(u.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=u.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=u.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,m){return new Iu(this,u,m)}createVertexBuffer(u,m,_){return new MA(this,u,m,_)}createRenderbuffer(u,m,_){const E=this.gl,K=E.createRenderbuffer();return this.bindRenderbuffer.set(K),E.renderbufferStorage(E.RENDERBUFFER,u,m,_),this.bindRenderbuffer.set(null),K}createFramebuffer(u,m,_){return new OA(this,u,m,_)}clear({color:u,depth:m}){const _=this.gl;let E=0;u&&(E|=_.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),m!==void 0&&(E|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),_.clear(E)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){I(u.blendFunction,Po.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class ci{constructor(u,m,_){this.func=u,this.mask=m,this.range=_}}ci.ReadOnly=!1,ci.ReadWrite=!0,ci.disabled=new ci(519,ci.ReadOnly,[0,1]);const so=7680;class Uo{constructor(u,m,_,E,K,T){this.test=u,this.ref=m,this.mask=_,this.fail=E,this.depthFail=K,this.pass=T}}Uo.disabled=new Uo({func:519,mask:0},0,0,so,so,so);class jo{constructor(u,m,_){this.enable=u,this.mode=m,this.frontFace=_}}let Wl;function xo(M,u,m,_,E,K,T){const $=M.context,H=$.gl,te=M.useProgram("collisionBox"),Ae=[];let ye=0,Me=0;for(let Ye=0;Ye<_.length;Ye++){const Bt=_[Ye],kt=u.getTile(Bt),Ht=kt.getBucket(m);if(!Ht)continue;let Zt=Bt.posMatrix;E[0]===0&&E[1]===0||(Zt=M.translatePosMatrix(Bt.posMatrix,kt,E,K));const fn=T?Ht.textCollisionBox:Ht.iconCollisionBox,Qt=Ht.collisionCircleArray;if(Qt.length>0){const Mn=a.create(),kn=Zt;a.mul(Mn,Ht.placementInvProjMatrix,M.transform.glCoordMatrix),a.mul(Mn,Mn,Ht.placementViewportMatrix),Ae.push({circleArray:Qt,circleOffset:Me,transform:kn,invTransform:Mn,coord:Bt}),ye+=Qt.length/4,Me=ye}fn&&te.draw($,H.LINES,ci.disabled,Uo.disabled,M.colorModeForRenderPass(),jo.disabled,xl(Zt,M.transform,kt),M.style.terrain&&M.style.terrain.getTerrainData(Bt),m.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,M.transform.zoom,null,null,fn.collisionVertexBuffer)}if(!T||!Ae.length)return;const We=M.useProgram("collisionCircle"),Fe=new a.CollisionCircleLayoutArray;Fe.resize(4*ye),Fe._trim();let ze=0;for(const Ye of Ae)for(let Bt=0;Bt<Ye.circleArray.length/4;Bt++){const kt=4*Bt,Ht=Ye.circleArray[kt+0],Zt=Ye.circleArray[kt+1],fn=Ye.circleArray[kt+2],Qt=Ye.circleArray[kt+3];Fe.emplace(ze++,Ht,Zt,fn,Qt,0),Fe.emplace(ze++,Ht,Zt,fn,Qt,1),Fe.emplace(ze++,Ht,Zt,fn,Qt,2),Fe.emplace(ze++,Ht,Zt,fn,Qt,3)}(!Wl||Wl.length<2*ye)&&(Wl=function(Ye){const Bt=2*Ye,kt=new a.QuadTriangleArray;kt.resize(Bt),kt._trim();for(let Ht=0;Ht<Bt;Ht++){const Zt=6*Ht;kt.uint16[Zt+0]=4*Ht+0,kt.uint16[Zt+1]=4*Ht+1,kt.uint16[Zt+2]=4*Ht+2,kt.uint16[Zt+3]=4*Ht+2,kt.uint16[Zt+4]=4*Ht+3,kt.uint16[Zt+5]=4*Ht+0}return kt}(ye));const At=$.createIndexBuffer(Wl,!0),yt=$.createVertexBuffer(Fe,a.collisionCircleLayout.members,!0);for(const Ye of Ae){const Bt={u_matrix:Ye.transform,u_inv_matrix:Ye.invTransform,u_camera_to_center_distance:(Mt=M.transform).cameraToCenterDistance,u_viewport_size:[Mt.width,Mt.height]};We.draw($,H.TRIANGLES,ci.disabled,Uo.disabled,M.colorModeForRenderPass(),jo.disabled,Bt,M.style.terrain&&M.style.terrain.getTerrainData(Ye.coord),m.id,yt,At,a.SegmentVector.simpleSegment(0,2*Ye.circleOffset,Ye.circleArray.length,Ye.circleArray.length/2),null,M.transform.zoom,null,null,null)}var Mt;yt.destroy(),At.destroy()}jo.disabled=new jo(!1,1029,2305),jo.backCCW=new jo(!0,1029,2305);const Wm=a.identity(new Float32Array(16));function lf(M,u,m,_,E,K){const{horizontalAlign:T,verticalAlign:$}=a.getAnchorAlignment(M),H=-(T-.5)*u,te=-($-.5)*m,Ae=a.evaluateVariableOffset(M,_);return new a.pointGeometry((H/E+Ae[0])*K,(te/E+Ae[1])*K)}function ac(M,u,m,_,E,K,T,$,H,te,Ae){const ye=M.text.placedSymbolArray,Me=M.text.dynamicLayoutVertexArray,We=M.icon.dynamicLayoutVertexArray,Fe={};Me.clear();for(let ze=0;ze<ye.length;ze++){const At=ye.get(ze),yt=M.allowVerticalPlacement&&!At.placedOrientation,Mt=At.hidden||!At.crossTileID||yt?null:_[At.crossTileID];if(Mt){const Ye=new a.pointGeometry(At.anchorX,At.anchorY),Bt=ct(Ye,m?T:K,Ae),kt=wt(E.cameraToCenterDistance,Bt.signedDistanceFromCamera);let Ht=a.evaluateSizeForFeature(M.textSizeData,H,At)*kt/a.ONE_EM;m&&(Ht*=M.tilePixelRatio/$);const{width:Zt,height:fn,anchor:Qt,textOffset:Mn,textBoxScale:kn}=Mt,Qn=lf(Qt,Zt,fn,Mn,kn,Ht),ii=m?ct(Ye.add(Qn),K,Ae).point:Bt.point.add(u?Qn.rotate(-E.angle):Qn),si=M.allowVerticalPlacement&&At.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let cr=0;cr<At.numGlyphs;cr++)a.addDynamicAttributes(Me,ii,si);te&&At.associatedIconIndex>=0&&(Fe[At.associatedIconIndex]={shiftedAnchor:ii,angle:si})}else un(At.numGlyphs,Me)}if(te){We.clear();const ze=M.icon.placedSymbolArray;for(let At=0;At<ze.length;At++){const yt=ze.get(At);if(yt.hidden)un(yt.numGlyphs,We);else{const Mt=Fe[At];if(Mt)for(let Ye=0;Ye<yt.numGlyphs;Ye++)a.addDynamicAttributes(We,Mt.shiftedAnchor,Mt.angle);else un(yt.numGlyphs,We)}}M.icon.dynamicLayoutVertexBuffer.updateData(We)}M.text.dynamicLayoutVertexBuffer.updateData(Me)}function uf(M,u,m){return m.iconsInText&&u?"symbolTextAndIcon":M?"symbolSDF":"symbolIcon"}function sc(M,u,m,_,E,K,T,$,H,te,Ae,ye){const Me=M.context,We=Me.gl,Fe=M.transform,ze=$==="map",At=H==="map",yt=$!=="viewport"&&m.layout.get("symbol-placement")!=="point",Mt=ze&&!At&&!yt,Ye=!m.layout.get("symbol-sort-key").isConstant();let Bt=!1;const kt=M.depthModeForSublayer(0,ci.ReadOnly),Ht=m.layout.get("text-variable-anchor"),Zt=[];for(const fn of _){const Qt=u.getTile(fn),Mn=Qt.getBucket(m);if(!Mn)continue;const kn=E?Mn.text:Mn.icon;if(!kn||!kn.segments.get().length)continue;const Qn=kn.programConfigurations.get(m.id),ii=E||Mn.sdfIcons,si=E?Mn.textSizeData:Mn.iconSizeData,cr=At||Fe.pitch!==0,Li=M.useProgram(uf(ii,E,Mn),Qn),mo=a.evaluateSizeForZoom(si,Fe.zoom),Ri=M.style.terrain&&M.style.terrain.getTerrainData(fn);let Tr,Sr,Bo,vs,ss=[0,0],hu=null;if(E){if(Sr=Qt.glyphAtlasTexture,Bo=We.LINEAR,Tr=Qt.glyphAtlasTexture.size,Mn.iconsInText){ss=Qt.imageAtlasTexture.size,hu=Qt.imageAtlasTexture;const Cs=si.kind==="composite"||si.kind==="camera";vs=cr||M.options.rotating||M.options.zooming||Cs?We.LINEAR:We.NEAREST}}else{const Cs=m.layout.get("icon-size").constantOr(0)!==1||Mn.iconsNeedLinear;Sr=Qt.imageAtlasTexture,Bo=ii||M.options.rotating||M.options.zooming||Cs||cr?We.LINEAR:We.NEAREST,Tr=Qt.imageAtlasTexture.size}const fu=Ai(Qt,1,M.transform.zoom),dl=Oe(fn.posMatrix,At,ze,M.transform,fu),hl=st(fn.posMatrix,At,ze,M.transform,fu),pu=Ht&&Mn.hasTextData(),Fu=m.layout.get("icon-text-fit")!=="none"&&pu&&Mn.hasIconData();if(yt){const Cs=M.style.terrain?(Js,Jc)=>M.style.terrain.getElevation(fn,Js,Jc):null,Xs=m.layout.get("text-rotation-alignment")==="map";qn(Mn,fn.posMatrix,M,E,dl,hl,At,te,Xs,Cs)}const Xo=M.translatePosMatrix(fn.posMatrix,Qt,K,T),li=yt||E&&Ht||Fu?Wm:dl,Ki=M.translatePosMatrix(hl,Qt,K,T,!0),Ua=ii&&m.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ha;Ha=ii?Mn.iconsInText?Zu(si.kind,mo,Mt,At,M,Xo,li,Ki,Tr,ss):Ou(si.kind,mo,Mt,At,M,Xo,li,Ki,E,Tr,!0):Ts(si.kind,mo,Mt,At,M,Xo,li,Ki,E,Tr);const Ao={program:Li,buffers:kn,uniformValues:Ha,atlasTexture:Sr,atlasTextureIcon:hu,atlasInterpolation:Bo,atlasInterpolationIcon:vs,isSDF:ii,hasHalo:Ua};if(Ye&&Mn.canOverlap){Bt=!0;const Cs=kn.segments.get();for(const Xs of Cs)Zt.push({segments:new a.SegmentVector([Xs]),sortKey:Xs.sortKey,state:Ao,terrainData:Ri})}else Zt.push({segments:kn.segments,sortKey:0,state:Ao,terrainData:Ri})}Bt&&Zt.sort((fn,Qt)=>fn.sortKey-Qt.sortKey);for(const fn of Zt){const Qt=fn.state;if(Me.activeTexture.set(We.TEXTURE0),Qt.atlasTexture.bind(Qt.atlasInterpolation,We.CLAMP_TO_EDGE),Qt.atlasTextureIcon&&(Me.activeTexture.set(We.TEXTURE1),Qt.atlasTextureIcon&&Qt.atlasTextureIcon.bind(Qt.atlasInterpolationIcon,We.CLAMP_TO_EDGE)),Qt.isSDF){const Mn=Qt.uniformValues;Qt.hasHalo&&(Mn.u_is_halo=1,jc(Qt.buffers,fn.segments,m,M,Qt.program,kt,Ae,ye,Mn,fn.terrainData)),Mn.u_is_halo=0}jc(Qt.buffers,fn.segments,m,M,Qt.program,kt,Ae,ye,Qt.uniformValues,fn.terrainData)}}function jc(M,u,m,_,E,K,T,$,H,te){const Ae=_.context;E.draw(Ae,Ae.gl.TRIANGLES,K,T,$,jo.disabled,H,te,m.id,M.layoutVertexBuffer,M.indexBuffer,u,m.paint,_.transform.zoom,M.programConfigurations.get(m.id),M.dynamicLayoutVertexBuffer,M.opacityVertexBuffer)}function lc(M,u,m,_,E,K,T){const $=M.context.gl,H=m.paint.get("fill-pattern"),te=H&&H.constantOr(1),Ae=m.getCrossfadeParameters();let ye,Me,We,Fe,ze;T?(Me=te&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ye=$.LINES):(Me=te?"fillPattern":"fill",ye=$.TRIANGLES);for(const At of _){const yt=u.getTile(At);if(te&&!yt.patternsLoaded())continue;const Mt=yt.getBucket(m);if(!Mt)continue;const Ye=Mt.programConfigurations.get(m.id),Bt=M.useProgram(Me,Ye),kt=M.style.terrain&&M.style.terrain.getTerrainData(At);te&&(M.context.activeTexture.set($.TEXTURE0),yt.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),Ye.updatePaintBuffers(Ae));const Ht=H.constantOr(null);if(Ht&&yt.imageAtlas){const Qt=yt.imageAtlas,Mn=Qt.patternPositions[Ht.to.toString()],kn=Qt.patternPositions[Ht.from.toString()];Mn&&kn&&Ye.setConstantPatternPositions(Mn,kn)}const Zt=kt?At:null,fn=M.translatePosMatrix(Zt?Zt.posMatrix:At.posMatrix,yt,m.paint.get("fill-translate"),m.paint.get("fill-translate-anchor"));if(T){Fe=Mt.indexBuffer2,ze=Mt.segments2;const Qt=[$.drawingBufferWidth,$.drawingBufferHeight];We=Me==="fillOutlinePattern"&&te?Gs(fn,M,Ae,yt,Qt):bl(fn,Qt)}else Fe=Mt.indexBuffer,ze=Mt.segments,We=te?Ns(fn,M,Ae,yt):kr(fn);Bt.draw(M.context,ye,E,M.stencilModeForClipping(At),K,jo.disabled,We,kt,m.id,Mt.layoutVertexBuffer,Fe,ze,m.paint,M.transform.zoom,Ye)}}function BA(M,u,m,_,E,K,T){const $=M.context,H=$.gl,te=m.paint.get("fill-extrusion-pattern"),Ae=te.constantOr(1),ye=m.getCrossfadeParameters(),Me=m.paint.get("fill-extrusion-opacity");for(const We of _){const Fe=u.getTile(We),ze=Fe.getBucket(m);if(!ze)continue;const At=M.style.terrain&&M.style.terrain.getTerrainData(We),yt=ze.programConfigurations.get(m.id),Mt=M.useProgram(Ae?"fillExtrusionPattern":"fillExtrusion",yt);Ae&&(M.context.activeTexture.set(H.TEXTURE0),Fe.imageAtlasTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),yt.updatePaintBuffers(ye));const Ye=te.constantOr(null);if(Ye&&Fe.imageAtlas){const Zt=Fe.imageAtlas,fn=Zt.patternPositions[Ye.to.toString()],Qt=Zt.patternPositions[Ye.from.toString()];fn&&Qt&&yt.setConstantPatternPositions(fn,Qt)}const Bt=M.translatePosMatrix(We.posMatrix,Fe,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),kt=m.paint.get("fill-extrusion-vertical-gradient"),Ht=Ae?Mu(Bt,M,kt,Me,We,ye,Fe):ba(Bt,M,kt,Me);Mt.draw($,$.gl.TRIANGLES,E,K,T,jo.backCCW,Ht,At,m.id,ze.layoutVertexBuffer,ze.indexBuffer,ze.segments,m.paint,M.transform.zoom,yt,M.style.terrain&&ze.centroidVertexBuffer)}}function kd(M,u,m,_,E,K,T){const $=M.context,H=$.gl,te=m.fbo;if(!te)return;const Ae=M.useProgram("hillshade"),ye=M.style.terrain&&M.style.terrain.getTerrainData(u);$.activeTexture.set(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,te.colorAttachment.get()),Ae.draw($,H.TRIANGLES,E,K,T,jo.disabled,((Me,We,Fe,ze)=>{const At=Fe.paint.get("hillshade-shadow-color"),yt=Fe.paint.get("hillshade-highlight-color"),Mt=Fe.paint.get("hillshade-accent-color");let Ye=Fe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Fe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ye-=Me.transform.angle);const Bt=!Me.options.moving;return{u_matrix:ze?ze.posMatrix:Me.transform.calculatePosMatrix(We.tileID.toUnwrapped(),Bt),u_image:0,u_latrange:ks(0,We.tileID),u_light:[Fe.paint.get("hillshade-exaggeration"),Ye],u_shadow:At,u_highlight:yt,u_accent:Mt}})(M,m,_,ye?u:null),ye,_.id,M.rasterBoundsBuffer,M.quadTriangleIndexBuffer,M.rasterBoundsSegments)}function yp(M,u,m,_,E,K){const T=M.context,$=T.gl,H=u.dem;if(H&&H.data){const te=H.dim,Ae=H.stride,ye=H.getPixels();if(T.activeTexture.set($.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||M.getTileTexture(Ae),u.demTexture){const We=u.demTexture;We.update(ye,{premultiply:!1}),We.bind($.NEAREST,$.CLAMP_TO_EDGE)}else u.demTexture=new V(T,ye,$.RGBA,{premultiply:!1}),u.demTexture.bind($.NEAREST,$.CLAMP_TO_EDGE);T.activeTexture.set($.TEXTURE0);let Me=u.fbo;if(!Me){const We=new V(T,{width:te,height:te,data:null},$.RGBA);We.bind($.LINEAR,$.CLAMP_TO_EDGE),Me=u.fbo=T.createFramebuffer(te,te,!0),Me.colorAttachment.set(We.texture)}T.bindFramebuffer.set(Me.framebuffer),T.viewport.set([0,0,te,te]),M.useProgram("hillshadePrepare").draw(T,$.TRIANGLES,_,E,K,jo.disabled,((We,Fe)=>{const ze=Fe.stride,At=a.create();return a.ortho(At,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(At,At,[0,-a.EXTENT,0]),{u_matrix:At,u_image:1,u_dimension:[ze,ze],u_zoom:We.overscaledZ,u_unpack:Fe.getUnpackVector()}})(u.tileID,H),null,m.id,M.rasterBoundsBuffer,M.quadTriangleIndexBuffer,M.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function Wc(M,u,m,_,E,K){const T=_.paint.get("raster-fade-duration");if(!K&&T>0){const $=a.exported.now(),H=($-M.timeAdded)/T,te=u?($-u.timeAdded)/T:-1,Ae=m.getSource(),ye=E.coveringZoomLevel({tileSize:Ae.tileSize,roundZoom:Ae.roundZoom}),Me=!u||Math.abs(u.tileID.overscaledZ-ye)>Math.abs(M.tileID.overscaledZ-ye),We=Me&&M.refreshedUponExpiration?1:a.clamp(Me?H:1-te,0,1);return M.refreshedUponExpiration&&H>=1&&(M.refreshedUponExpiration=!1),u?{opacity:1,mix:1-We}:{opacity:We,mix:0}}return{opacity:1,mix:0}}const ps=new a.Color(1,0,0,1),Ml=new a.Color(0,1,0,1),Ku=new a.Color(0,0,1,1),Nl=new a.Color(1,0,1,1),Nc=new a.Color(0,1,1,1);function eA(M,u,m,_){qs(M,0,u+m/2,M.transform.width,m,_)}function Gc(M,u,m,_){qs(M,u-m/2,0,m,M.transform.height,_)}function qs(M,u,m,_,E,K){const T=M.context,$=T.gl;$.enable($.SCISSOR_TEST),$.scissor(u*M.pixelRatio,m*M.pixelRatio,_*M.pixelRatio,E*M.pixelRatio),T.clear({color:K}),$.disable($.SCISSOR_TEST)}function uc(M,u,m){const _=M.context,E=_.gl,K=m.posMatrix,T=M.useProgram("debug"),$=ci.disabled,H=Uo.disabled,te=M.colorModeForRenderPass(),Ae="$debug",ye=M.style.terrain&&M.style.terrain.getTerrainData(m);_.activeTexture.set(E.TEXTURE0),M.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE);const Me=u.getTileByID(m.key).latestRawTileData,We=Math.floor((Me&&Me.byteLength||0)/1024),Fe=u.getTile(m).tileSize,ze=512/Math.min(Fe,512)*(m.overscaledZ/M.transform.zoom)*.5;let At=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(At+=` => ${m.overscaledZ}`),function(yt,Mt){yt.initDebugOverlayCanvas();const Ye=yt.debugOverlayCanvas,Bt=yt.context.gl,kt=yt.debugOverlayCanvas.getContext("2d");kt.clearRect(0,0,Ye.width,Ye.height),kt.shadowColor="white",kt.shadowBlur=2,kt.lineWidth=1.5,kt.strokeStyle="white",kt.textBaseline="top",kt.font="bold 36px Open Sans, sans-serif",kt.fillText(Mt,5,5),kt.strokeText(Mt,5,5),yt.debugOverlayTexture.update(Ye),yt.debugOverlayTexture.bind(Bt.LINEAR,Bt.CLAMP_TO_EDGE)}(M,`${At} ${We}kB`),T.draw(_,E.TRIANGLES,$,H,Po.alphaBlended,jo.disabled,Is(K,a.Color.transparent,ze),null,Ae,M.debugBuffer,M.quadTriangleIndexBuffer,M.debugSegments),T.draw(_,E.LINE_STRIP,$,H,te,jo.disabled,Is(K,a.Color.red),ye,Ae,M.debugBuffer,M.tileBorderIndexBuffer,M.debugSegments)}function Qc(M,u,m){const _=M.context,E=_.gl,K=M.colorModeForRenderPass(),T=new ci(E.LEQUAL,ci.ReadWrite,M.depthRangeFor3D),$=M.useProgram("terrain"),H=u.getTerrainMesh(),te=u.getTerrainData(m.tileID);_.bindFramebuffer.set(null),_.viewport.set([0,0,M.width,M.height]),_.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,u.getRTTFramebuffer().colorAttachment.get());const Ae=M.transform.calculatePosMatrix(m.tileID.toUnwrapped());$.draw(_,E.TRIANGLES,T,Uo.disabled,K,jo.backCCW,{u_matrix:Ae,u_texture:0},te,"terrain",H.vertexBuffer,H.indexBuffer,H.segments)}function Ac(M,u,m,_){const E=M.context,K=m.tileSize*u.qualityFactor;m.textures[_]||(m.textures[_]=M.getTileTexture(K)||new V(E,{width:K,height:K,data:null},E.gl.RGBA),m.textures[_].bind(E.gl.LINEAR,E.gl.CLAMP_TO_EDGE),_===0&&u.sourceCache.renderHistory.unshift(m.tileID.key));const T=u.getRTTFramebuffer();T.colorAttachment.set(m.textures[_].texture),E.bindFramebuffer.set(T.framebuffer),E.viewport.set([0,0,K,K])}class Af{constructor(u){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=u,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=u.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const u=this.painter.style,m=u.terrain;for(const _ in u.sourceCaches){this._coordsDescendingInv[_]={};const E=u.sourceCaches[_].getVisibleCoordinates();for(const K of E){const T=m.sourceCache.getTerrainCoords(K);for(const $ in T)this._coordsDescendingInv[_][$]||(this._coordsDescendingInv[_][$]=[]),this._coordsDescendingInv[_][$].push(T[$])}}for(const _ of u._order){const E=u._layers[_],K=E.source;if(this._renderToTexture[E.type]&&!this._coordsDescendingInvStr[K]){this._coordsDescendingInvStr[K]={};for(const T in this._coordsDescendingInv[K])this._coordsDescendingInvStr[K][T]=this._coordsDescendingInv[K][T].map($=>$.key).sort().join()}}return this._renderableTiles.forEach(_=>{for(const E in this._coordsDescendingInvStr){const K=this._coordsDescendingInvStr[E][_.tileID.key];K&&K!==_.textureCoords[E]&&_.clearTextures(this.painter),m.needsRerender(E,_.tileID)&&_.clearTextures(this.painter)}this._rerender[_.tileID.key]=!_.textures.length}),m.clearRerenderCache(),m.sourceCache.removeOutdated(this.painter),this}renderLayer(u){const m=u.type,_=this.painter,E=_.style._order,K=_.currentLayer,T=K+1===E.length;if(this._renderToTexture[m]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=m,this._stacks[this._stacks.length-1].push(E[K]),!T))return!0;if(this._renderToTexture[this._prevType]||m==="hillshade"||this._renderToTexture[m]&&T){this._prevType=m;const $=this._stacks.length-1,H=this._stacks[$]||[];for(const te of this._renderableTiles){if(Ac(_,_.style.terrain,te,$),this._rerender[te.tileID.key]){_.context.clear({color:a.Color.transparent});for(let Ae=0;Ae<H.length;Ae++){const ye=_.style._layers[H[Ae]],Me=ye.source?this._coordsDescendingInv[ye.source][te.tileID.key]:[te.tileID];_._renderTileClippingMasks(ye,Me),_.renderLayer(_,_.style.sourceCaches[ye.source],ye,Me),ye.source&&(te.textureCoords[ye.source]=this._coordsDescendingInvStr[ye.source][te.tileID.key])}}Qc(_,_.style.terrain,te)}if(m==="hillshade"){this._stacks.push([E[K]]);for(const te of this._renderableTiles){const Ae=this._coordsDescendingInv[u.source][te.tileID.key];Ac(_,_.style.terrain,te,this._stacks.length-1),_.context.clear({color:a.Color.transparent}),_._renderTileClippingMasks(u,Ae),_.renderLayer(_,_.style.sourceCaches[u.source],u,Ae),Qc(_,_.style.terrain,te)}return!0}return this._renderToTexture[m]}return!1}}const Td={symbol:function(M,u,m,_,E){if(M.renderPass!=="translucent")return;const K=Uo.disabled,T=M.colorModeForRenderPass();m.layout.get("text-variable-anchor")&&function($,H,te,Ae,ye,Me,We){const Fe=H.transform,ze=ye==="map",At=Me==="map";for(const yt of $){const Mt=Ae.getTile(yt),Ye=Mt.getBucket(te);if(!Ye||!Ye.text||!Ye.text.segments.get().length)continue;const Bt=a.evaluateSizeForZoom(Ye.textSizeData,Fe.zoom),kt=Ai(Mt,1,H.transform.zoom),Ht=Oe(yt.posMatrix,At,ze,H.transform,kt),Zt=te.layout.get("icon-text-fit")!=="none"&&Ye.hasIconData();if(Bt){const fn=Math.pow(2,Fe.zoom-Mt.tileID.overscaledZ);ac(Ye,ze,At,We,Fe,Ht,yt.posMatrix,fn,Bt,Zt,H.style.terrain?(Qt,Mn)=>H.style.terrain.getElevation(yt,Qt,Mn):null)}}}(_,M,m,u,m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),E),m.paint.get("icon-opacity").constantOr(1)!==0&&sc(M,u,m,_,!1,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),m.layout.get("icon-rotation-alignment"),m.layout.get("icon-pitch-alignment"),m.layout.get("icon-keep-upright"),K,T),m.paint.get("text-opacity").constantOr(1)!==0&&sc(M,u,m,_,!0,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),m.layout.get("text-keep-upright"),K,T),u.map.showCollisionBoxes&&(xo(M,u,m,_,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),!0),xo(M,u,m,_,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),!1))},circle:function(M,u,m,_){if(M.renderPass!=="translucent")return;const E=m.paint.get("circle-opacity"),K=m.paint.get("circle-stroke-width"),T=m.paint.get("circle-stroke-opacity"),$=!m.layout.get("circle-sort-key").isConstant();if(E.constantOr(1)===0&&(K.constantOr(1)===0||T.constantOr(1)===0))return;const H=M.context,te=H.gl,Ae=M.depthModeForSublayer(0,ci.ReadOnly),ye=Uo.disabled,Me=M.colorModeForRenderPass(),We=[];for(let Fe=0;Fe<_.length;Fe++){const ze=_[Fe],At=u.getTile(ze),yt=At.getBucket(m);if(!yt)continue;const Mt=yt.programConfigurations.get(m.id),Ye=M.useProgram("circle",Mt),Bt=yt.layoutVertexBuffer,kt=yt.indexBuffer,Ht=M.style.terrain&&M.style.terrain.getTerrainData(ze),Zt={programConfiguration:Mt,program:Ye,layoutVertexBuffer:Bt,indexBuffer:kt,uniformValues:Qs(M,ze,At,m),terrainData:Ht};if($){const fn=yt.segments.get();for(const Qt of fn)We.push({segments:new a.SegmentVector([Qt]),sortKey:Qt.sortKey,state:Zt})}else We.push({segments:yt.segments,sortKey:0,state:Zt})}$&&We.sort((Fe,ze)=>Fe.sortKey-ze.sortKey);for(const Fe of We){const{programConfiguration:ze,program:At,layoutVertexBuffer:yt,indexBuffer:Mt,uniformValues:Ye,terrainData:Bt}=Fe.state;At.draw(H,te.TRIANGLES,Ae,ye,Me,jo.disabled,Ye,Bt,m.id,yt,Mt,Fe.segments,m.paint,M.transform.zoom,ze)}},heatmap:function(M,u,m,_){if(m.paint.get("heatmap-opacity")!==0)if(M.renderPass==="offscreen"){const E=M.context,K=E.gl,T=Uo.disabled,$=new Po([K.ONE,K.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(H,te,Ae){const ye=H.gl;H.activeTexture.set(ye.TEXTURE1),H.viewport.set([0,0,te.width/4,te.height/4]);let Me=Ae.heatmapFbo;if(Me)ye.bindTexture(ye.TEXTURE_2D,Me.colorAttachment.get()),H.bindFramebuffer.set(Me.framebuffer);else{const We=ye.createTexture();ye.bindTexture(ye.TEXTURE_2D,We),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_WRAP_S,ye.CLAMP_TO_EDGE),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_WRAP_T,ye.CLAMP_TO_EDGE),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_MIN_FILTER,ye.LINEAR),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_MAG_FILTER,ye.LINEAR),Me=Ae.heatmapFbo=H.createFramebuffer(te.width/4,te.height/4,!1),function(Fe,ze,At,yt){const Mt=Fe.gl;Mt.texImage2D(Mt.TEXTURE_2D,0,Mt.RGBA,ze.width/4,ze.height/4,0,Mt.RGBA,Fe.extRenderToTextureHalfFloat?Fe.extTextureHalfFloat.HALF_FLOAT_OES:Mt.UNSIGNED_BYTE,null),yt.colorAttachment.set(At)}(H,te,We,Me)}})(E,M,m),E.clear({color:a.Color.transparent});for(let H=0;H<_.length;H++){const te=_[H];if(u.hasRenderableParent(te))continue;const Ae=u.getTile(te),ye=Ae.getBucket(m);if(!ye)continue;const Me=ye.programConfigurations.get(m.id),We=M.useProgram("heatmap",Me),{zoom:Fe}=M.transform;We.draw(E,K.TRIANGLES,ci.disabled,T,$,jo.disabled,xa(te.posMatrix,Ae,Fe,m.paint.get("heatmap-intensity")),null,m.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,m.paint,M.transform.zoom,Me)}E.viewport.set([0,0,M.width,M.height])}else M.renderPass==="translucent"&&(M.context.setColorMode(M.colorModeForRenderPass()),function(E,K){const T=E.context,$=T.gl,H=K.heatmapFbo;if(!H)return;T.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,H.colorAttachment.get()),T.activeTexture.set($.TEXTURE1);let te=K.colorRampTexture;te||(te=K.colorRampTexture=new V(T,K.colorRamp,$.RGBA)),te.bind($.LINEAR,$.CLAMP_TO_EDGE),E.useProgram("heatmapTexture").draw(T,$.TRIANGLES,ci.disabled,Uo.disabled,E.colorModeForRenderPass(),jo.disabled,((Ae,ye,Me,We)=>{const Fe=a.create();a.ortho(Fe,0,Ae.width,Ae.height,0,0,1);const ze=Ae.context.gl;return{u_matrix:Fe,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ye.paint.get("heatmap-opacity")}})(E,K),null,K.id,E.viewportBuffer,E.quadTriangleIndexBuffer,E.viewportSegments,K.paint,E.transform.zoom)}(M,m))},line:function(M,u,m,_){if(M.renderPass!=="translucent")return;const E=m.paint.get("line-opacity"),K=m.paint.get("line-width");if(E.constantOr(1)===0||K.constantOr(1)===0)return;const T=M.depthModeForSublayer(0,ci.ReadOnly),$=M.colorModeForRenderPass(),H=m.paint.get("line-dasharray"),te=m.paint.get("line-pattern"),Ae=te.constantOr(1),ye=m.paint.get("line-gradient"),Me=m.getCrossfadeParameters(),We=Ae?"linePattern":H?"lineSDF":ye?"lineGradient":"line",Fe=M.context,ze=Fe.gl;let At=!0;for(const yt of _){const Mt=u.getTile(yt);if(Ae&&!Mt.patternsLoaded())continue;const Ye=Mt.getBucket(m);if(!Ye)continue;const Bt=Ye.programConfigurations.get(m.id),kt=M.context.program.get(),Ht=M.useProgram(We,Bt),Zt=At||Ht.program!==kt,fn=M.style.terrain&&M.style.terrain.getTerrainData(yt),Qt=te.constantOr(null);if(Qt&&Mt.imageAtlas){const Qn=Mt.imageAtlas,ii=Qn.patternPositions[Qt.to.toString()],si=Qn.patternPositions[Qt.from.toString()];ii&&si&&Bt.setConstantPatternPositions(ii,si)}const Mn=fn?yt:null,kn=Ae?Su(M,Mt,m,Me,Mn):H?uu(M,Mt,m,H,Me,Mn):ye?$s(M,Mt,m,Ye.lineClipsArray.length,Mn):wl(M,Mt,m,Mn);if(Ae)Fe.activeTexture.set(ze.TEXTURE0),Mt.imageAtlasTexture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE),Bt.updatePaintBuffers(Me);else if(H&&(Zt||M.lineAtlas.dirty))Fe.activeTexture.set(ze.TEXTURE0),M.lineAtlas.bind(Fe);else if(ye){const Qn=Ye.gradients[m.id];let ii=Qn.texture;if(m.gradientVersion!==Qn.version){let si=256;if(m.stepInterpolant){const cr=u.getSource().maxzoom,Li=yt.canonical.z===cr?Math.ceil(1<<M.transform.maxZoom-yt.canonical.z):1;si=a.clamp(a.nextPowerOfTwo(Ye.maxLineLength/a.EXTENT*1024*Li),256,Fe.maxTextureSize)}Qn.gradient=a.renderColorRamp({expression:m.gradientExpression(),evaluationKey:"lineProgress",resolution:si,image:Qn.gradient||void 0,clips:Ye.lineClipsArray}),Qn.texture?Qn.texture.update(Qn.gradient):Qn.texture=new V(Fe,Qn.gradient,ze.RGBA),Qn.version=m.gradientVersion,ii=Qn.texture}Fe.activeTexture.set(ze.TEXTURE0),ii.bind(m.stepInterpolant?ze.NEAREST:ze.LINEAR,ze.CLAMP_TO_EDGE)}Ht.draw(Fe,ze.TRIANGLES,T,M.stencilModeForClipping(yt),$,jo.disabled,kn,fn,m.id,Ye.layoutVertexBuffer,Ye.indexBuffer,Ye.segments,m.paint,M.transform.zoom,Bt,Ye.layoutVertexBuffer2),At=!1}},fill:function(M,u,m,_){const E=m.paint.get("fill-color"),K=m.paint.get("fill-opacity");if(K.constantOr(1)===0)return;const T=M.colorModeForRenderPass(),$=m.paint.get("fill-pattern"),H=M.opaquePassEnabledForLayer()&&!$.constantOr(1)&&E.constantOr(a.Color.transparent).a===1&&K.constantOr(0)===1?"opaque":"translucent";if(M.renderPass===H){const te=M.depthModeForSublayer(1,M.renderPass==="opaque"?ci.ReadWrite:ci.ReadOnly);lc(M,u,m,_,te,T,!1)}if(M.renderPass==="translucent"&&m.paint.get("fill-antialias")){const te=M.depthModeForSublayer(m.getPaintProperty("fill-outline-color")?2:0,ci.ReadOnly);lc(M,u,m,_,te,T,!0)}},"fill-extrusion":function(M,u,m,_){const E=m.paint.get("fill-extrusion-opacity");if(E!==0&&M.renderPass==="translucent"){const K=new ci(M.context.gl.LEQUAL,ci.ReadWrite,M.depthRangeFor3D);if(E!==1||m.paint.get("fill-extrusion-pattern").constantOr(1))BA(M,u,m,_,K,Uo.disabled,Po.disabled),BA(M,u,m,_,K,M.stencilModeFor3D(),M.colorModeForRenderPass());else{const T=M.colorModeForRenderPass();BA(M,u,m,_,K,Uo.disabled,T)}}},hillshade:function(M,u,m,_){if(M.renderPass!=="offscreen"&&M.renderPass!=="translucent")return;const E=M.context,K=M.depthModeForSublayer(0,ci.ReadOnly),T=M.colorModeForRenderPass(),[$,H]=M.renderPass==="translucent"?M.stencilConfigForOverlap(_):[{},_];for(const te of H){const Ae=u.getTile(te);Ae.needsHillshadePrepare!==void 0&&Ae.needsHillshadePrepare&&M.renderPass==="offscreen"?yp(M,Ae,m,K,Uo.disabled,T):M.renderPass==="translucent"&&kd(M,te,Ae,m,K,$[te.overscaledZ],T)}E.viewport.set([0,0,M.width,M.height])},raster:function(M,u,m,_){if(M.renderPass!=="translucent"||m.paint.get("raster-opacity")===0||!_.length)return;const E=M.context,K=E.gl,T=u.getSource(),$=M.useProgram("raster"),H=M.colorModeForRenderPass(),[te,Ae]=T instanceof St?[{},_]:M.stencilConfigForOverlap(_),ye=Ae[Ae.length-1].overscaledZ,Me=!M.options.moving;for(const We of Ae){const Fe=M.depthModeForSublayer(We.overscaledZ-ye,m.paint.get("raster-opacity")===1?ci.ReadWrite:ci.ReadOnly,K.LESS),ze=u.getTile(We);ze.registerFadeDuration(m.paint.get("raster-fade-duration"));const At=u.findLoadedParent(We,0),yt=Wc(ze,At,u,m,M.transform,M.style.terrain);let Mt,Ye;const Bt=m.paint.get("raster-resampling")==="nearest"?K.NEAREST:K.LINEAR;E.activeTexture.set(K.TEXTURE0),ze.texture.bind(Bt,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(K.TEXTURE1),At?(At.texture.bind(Bt,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),Mt=Math.pow(2,At.tileID.overscaledZ-ze.tileID.overscaledZ),Ye=[ze.tileID.canonical.x*Mt%1,ze.tileID.canonical.y*Mt%1]):ze.texture.bind(Bt,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST);const kt=M.style.terrain&&M.style.terrain.getTerrainData(We),Ht=kt?We:null,Zt=Ht?Ht.posMatrix:M.transform.calculatePosMatrix(We.toUnwrapped(),Me),fn=tc(Zt,Ye||[0,0],Mt||1,yt,m);T instanceof St?$.draw(E,K.TRIANGLES,Fe,Uo.disabled,H,jo.disabled,fn,kt,m.id,T.boundsBuffer,M.quadTriangleIndexBuffer,T.boundsSegments):$.draw(E,K.TRIANGLES,Fe,te[We.overscaledZ],H,jo.disabled,fn,kt,m.id,M.rasterBoundsBuffer,M.quadTriangleIndexBuffer,M.rasterBoundsSegments)}},background:function(M,u,m,_){const E=m.paint.get("background-color"),K=m.paint.get("background-opacity");if(K===0)return;const T=M.context,$=T.gl,H=M.transform,te=H.tileSize,Ae=m.paint.get("background-pattern");if(M.isPatternMissing(Ae))return;const ye=!Ae&&E.a===1&&K===1&&M.opaquePassEnabledForLayer()?"opaque":"translucent";if(M.renderPass!==ye)return;const Me=Uo.disabled,We=M.depthModeForSublayer(0,ye==="opaque"?ci.ReadWrite:ci.ReadOnly),Fe=M.colorModeForRenderPass(),ze=M.useProgram(Ae?"backgroundPattern":"background"),At=_||H.coveringTiles({tileSize:te,terrain:M.style.terrain});Ae&&(T.activeTexture.set($.TEXTURE0),M.imageManager.bind(M.context));const yt=m.getCrossfadeParameters();for(const Mt of At){const Ye=_?Mt.posMatrix:M.transform.calculatePosMatrix(Mt.toUnwrapped()),Bt=Ae?zl(Ye,K,M,Ae,{tileID:Mt,tileSize:te},yt):Bu(Ye,K,E),kt=M.style.terrain&&M.style.terrain.getTerrainData(Mt);ze.draw(T,$.TRIANGLES,We,Me,Fe,jo.disabled,Bt,kt,m.id,M.tileExtentBuffer,M.quadTriangleIndexBuffer,M.tileExtentSegments)}},debug:function(M,u,m){for(let _=0;_<m.length;_++)uc(M,u,m[_])},custom:function(M,u,m){const _=M.context,E=m.implementation;if(M.renderPass==="offscreen"){const K=E.prerender;K&&(M.setCustomLayerDefaults(),_.setColorMode(M.colorModeForRenderPass()),K.call(E,_.gl,M.transform.customLayerMatrix()),_.setDirty(),M.setBaseState())}else if(M.renderPass==="translucent"){M.setCustomLayerDefaults(),_.setColorMode(M.colorModeForRenderPass()),_.setStencilMode(Uo.disabled);const K=E.renderingMode==="3d"?new ci(M.context.gl.LEQUAL,ci.ReadWrite,M.depthRangeFor3D):M.depthModeForSublayer(0,ci.ReadOnly);_.setDepthMode(K),E.render(_.gl,M.transform.customLayerMatrix()),_.setDirty(),M.setBaseState(),_.bindFramebuffer.set(null)}}};class $c{constructor(u,m){this.context=new oc(u),this.transform=m,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=ce.maxUnderzooming+ce.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Cr,this.gpuTimers={}}resize(u,m,_){if(this.width=u*_,this.height=m*_,this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const E of this.style._order)this.style._layers[E].resize()}setup(){const u=this.context,m=new a.PosArray;m.emplaceBack(0,0),m.emplaceBack(a.EXTENT,0),m.emplaceBack(0,a.EXTENT),m.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=u.createVertexBuffer(m,qr.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const _=new a.PosArray;_.emplaceBack(0,0),_.emplaceBack(a.EXTENT,0),_.emplaceBack(0,a.EXTENT),_.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=u.createVertexBuffer(_,qr.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const E=new a.RasterBoundsArray;E.emplaceBack(0,0,0,0),E.emplaceBack(a.EXTENT,0,a.EXTENT,0),E.emplaceBack(0,a.EXTENT,0,a.EXTENT),E.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=u.createVertexBuffer(E,tn.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const K=new a.PosArray;K.emplaceBack(0,0),K.emplaceBack(1,0),K.emplaceBack(0,1),K.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(K,qr.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const T=new a.LineStripIndexArray;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(T);const $=new a.TriangleIndexArray;$.emplaceBack(0,1,2),$.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer($),this.emptyTexture=new V(u,{width:1,height:1,data:new Uint8Array([0,0,0,0])},u.gl.RGBA);const H=this.context.gl;this.stencilClearMode=new Uo({func:H.ALWAYS,mask:0},0,255,H.ZERO,H.ZERO,H.ZERO)}clearStencil(){const u=this.context,m=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=a.create();a.ortho(_,0,this.width,this.height,0,0,1),a.scale(_,_,[m.drawingBufferWidth,m.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,m.TRIANGLES,ci.disabled,this.stencilClearMode,Po.disabled,jo.disabled,Ho(_),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,m){if(this.currentStencilSource===u.source||!u.isTileClipped()||!m||!m.length)return;this.currentStencilSource=u.source;const _=this.context,E=_.gl;this.nextStencilID+m.length>256&&this.clearStencil(),_.setColorMode(Po.disabled),_.setDepthMode(ci.disabled);const K=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const T of m){const $=this._tileClippingMaskIDs[T.key]=this.nextStencilID++,H=this.style.terrain&&this.style.terrain.getTerrainData(T);K.draw(_,E.TRIANGLES,ci.disabled,new Uo({func:E.ALWAYS,mask:0},$,255,E.KEEP,E.KEEP,E.REPLACE),Po.disabled,jo.disabled,Ho(T.posMatrix),H,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,m=this.context.gl;return new Uo({func:m.NOTEQUAL,mask:255},u,255,m.KEEP,m.KEEP,m.REPLACE)}stencilModeForClipping(u){const m=this.context.gl;return new Uo({func:m.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,m.KEEP,m.KEEP,m.REPLACE)}stencilConfigForOverlap(u){const m=this.context.gl,_=u.sort((T,$)=>$.overscaledZ-T.overscaledZ),E=_[_.length-1].overscaledZ,K=_[0].overscaledZ-E+1;if(K>1){this.currentStencilSource=void 0,this.nextStencilID+K>256&&this.clearStencil();const T={};for(let $=0;$<K;$++)T[$+E]=new Uo({func:m.GEQUAL,mask:255},$+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=K,[T,_]}return[{[E]:Uo.disabled},_]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new Po([u.CONSTANT_COLOR,u.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Po.unblended:Po.alphaBlended}depthModeForSublayer(u,m,_){if(!this.opaquePassEnabledForLayer())return ci.disabled;const E=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new ci(_||this.context.gl.LEQUAL,m,[E,E])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,m){this.style=u,this.options=m,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const _=this.style._order,E=this.style.sourceCaches,K=this.style.terrain&&new Af(this);for(const te in E){const Ae=E[te];Ae.used&&Ae.prepare(this.context)}const T={},$={},H={};for(const te in E){const Ae=E[te];T[te]=Ae.getVisibleCoordinates(),$[te]=T[te].slice().reverse(),H[te]=Ae.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let te=0;te<_.length;te++)if(this.style._layers[_[te]].is3D()){this.opaquePassCutoff=te;break}if(K){this.opaquePassCutoff=0;const te=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||te.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(Ae,ye){const Me=Ae.context,We=Me.gl,Fe=Po.unblended,ze=new ci(We.LEQUAL,ci.ReadWrite,[0,1]),At=ye.getTerrainMesh(),yt=ye.sourceCache.getRenderableTiles(),Mt=Ae.useProgram("terrainDepth");Me.bindFramebuffer.set(ye.getFramebuffer("depth").framebuffer),Me.viewport.set([0,0,Ae.width/devicePixelRatio,Ae.height/devicePixelRatio]),Me.clear({color:a.Color.transparent,depth:1});for(const Ye of yt){const Bt=ye.getTerrainData(Ye.tileID),kt=Ae.transform.calculatePosMatrix(Ye.tileID.toUnwrapped());Mt.draw(Me,We.TRIANGLES,ze,Uo.disabled,Fe,jo.backCCW,{u_matrix:kt},Bt,"terrain",At.vertexBuffer,At.indexBuffer,At.segments)}Me.bindFramebuffer.set(null),Me.viewport.set([0,0,Ae.width,Ae.height])}(this,this.style.terrain),function(Ae,ye){const Me=Ae.context,We=Me.gl,Fe=Po.unblended,ze=new ci(We.LEQUAL,ci.ReadWrite,[0,1]),At=ye.getTerrainMesh(),yt=ye.getCoordsTexture(),Mt=ye.sourceCache.getRenderableTiles(),Ye=Ae.useProgram("terrainCoords");Me.bindFramebuffer.set(ye.getFramebuffer("coords").framebuffer),Me.viewport.set([0,0,Ae.width/devicePixelRatio,Ae.height/devicePixelRatio]),Me.clear({color:a.Color.transparent,depth:1}),ye.coordsIndex=[];for(const Bt of Mt){const kt=ye.getTerrainData(Bt.tileID);Me.activeTexture.set(We.TEXTURE0),We.bindTexture(We.TEXTURE_2D,yt.texture);const Ht=Ae.transform.calculatePosMatrix(Bt.tileID.toUnwrapped());Ye.draw(Me,We.TRIANGLES,ze,Uo.disabled,Fe,jo.backCCW,{u_matrix:Ht,u_terrain_coords_id:(255-ye.coordsIndex.length)/255,u_texture:0},kt,"terrain",At.vertexBuffer,At.indexBuffer,At.segments),ye.coordsIndex.push(Bt.tileID.key)}Me.bindFramebuffer.set(null),Me.viewport.set([0,0,Ae.width,Ae.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const te of _){const Ae=this.style._layers[te];if(!Ae.hasOffscreenPass()||Ae.isHidden(this.transform.zoom))continue;const ye=$[Ae.source];(Ae.type==="custom"||ye.length)&&this.renderLayer(this,E[Ae.source],Ae,ye)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:m.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=m.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!K)for(this.renderPass="opaque",this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const te=this.style._layers[_[this.currentLayer]],Ae=E[te.source],ye=T[te.source];this._renderTileClippingMasks(te,ye),this.renderLayer(this,Ae,te,ye)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const te=this.style._layers[_[this.currentLayer]],Ae=E[te.source];if(K&&K.renderLayer(te))continue;const ye=(te.type==="symbol"?H:$)[te.source];this._renderTileClippingMasks(te,T[te.source]),this.renderLayer(this,Ae,te,ye)}if(this.options.showTileBoundaries){let te,Ae;Object.values(this.style._layers).forEach(ye=>{ye.source&&!ye.isHidden(this.transform.zoom)&&(ye.source!==(Ae&&Ae.id)&&(Ae=this.style.sourceCaches[ye.source]),(!te||te.getSource().maxzoom<Ae.getSource().maxzoom)&&(te=Ae))}),te&&Td.debug(this,te,te.getVisibleCoordinates())}this.options.showPadding&&function(te){const Ae=te.transform.padding;eA(te,te.transform.height-(Ae.top||0),3,ps),eA(te,Ae.bottom||0,3,Ml),Gc(te,Ae.left||0,3,Ku),Gc(te,te.transform.width-(Ae.right||0),3,Nl);const ye=te.transform.centerPoint;(function(Me,We,Fe,ze){qs(Me,We-1,Fe-10,2,20,ze),qs(Me,We-10,Fe-1,20,2,ze)})(te,ye.x,te.transform.height-ye.y,Nc)}(this),this.context.setDefault()}renderLayer(u,m,_,E){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="custom"||(E||[]).length)&&(this.id=_.id,this.gpuTimingStart(_),Td[_.type](u,m,_,E,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(u){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery;let _=this.gpuTimers[u.id];_||(_=this.gpuTimers[u.id]={calls:0,cpuTime:0,query:m.createQueryEXT()}),_.calls++,m.beginQueryEXT(m.TIME_ELAPSED_EXT,_.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;u.endQueryEXT(u.TIME_ELAPSED_EXT)}collectGpuTimers(){const u=this.gpuTimers;return this.gpuTimers={},u}queryGpuTimers(u){const m={};for(const _ in u){const E=u[_],K=this.context.extTimerQuery,T=K.getQueryObjectEXT(E.query,K.QUERY_RESULT_EXT)/1e6;K.deleteQueryEXT(E.query),m[_]=T}return m}translatePosMatrix(u,m,_,E,K){if(!_[0]&&!_[1])return u;const T=K?E==="map"?this.transform.angle:0:E==="viewport"?-this.transform.angle:0;if(T){const te=Math.sin(T),Ae=Math.cos(T);_=[_[0]*Ae-_[1]*te,_[0]*te+_[1]*Ae]}const $=[K?_[0]:Ai(m,_[0],this.transform.zoom),K?_[1]:Ai(m,_[1],this.transform.zoom),0],H=new Float32Array(16);return a.translate(H,u,$),H}saveTileTexture(u){const m=this._tileTextures[u.size[0]];m?m.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const m=this._tileTextures[u];return m&&m.length>0?m.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const m=this.imageManager.getPattern(u.from.toString()),_=this.imageManager.getPattern(u.to.toString());return!m||!_}useProgram(u,m){this.cache=this.cache||{};const _=u+(m?m.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[_]||(this.cache[_]=new Ni(this.context,u,hn[u],m,nc[u],this._showOverdrawInspector,this.style.terrain)),this.cache[_]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new V(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class cc{constructor(u,m){this.points=u,this.planes=m}static fromInvProjectionMatrix(u,m,_){const E=Math.pow(2,_),K=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map($=>{const H=1/($=a.transformMat4([],$,u))[3]/m*E;return a.mul$1($,$,[H,H,1/$[3],H])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map($=>{const H=a.sub([],K[$[0]],K[$[1]]),te=a.sub([],K[$[2]],K[$[1]]),Ae=a.normalize([],a.cross([],H,te)),ye=-a.dot(Ae,K[$[1]]);return Ae.concat(ye)});return new cc(K,T)}}class ms{constructor(u,m){this.min=u,this.max=m,this.center=a.scale$1([],a.add([],this.min,this.max),.5)}quadrant(u){const m=[u%2==0,u<2],_=a.clone$2(this.min),E=a.clone$2(this.max);for(let K=0;K<m.length;K++)_[K]=m[K]?this.min[K]:this.center[K],E[K]=m[K]?this.center[K]:this.max[K];return E[2]=this.max[2],new ms(_,E)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersects(u){const m=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let _=!0;for(let E=0;E<u.planes.length;E++){const K=u.planes[E];let T=0;for(let $=0;$<m.length;$++)a.dot$1(K,m[$])>=0&&T++;if(T===0)return 0;T!==m.length&&(_=!1)}if(_)return 2;for(let E=0;E<3;E++){let K=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let $=0;$<u.points.length;$++){const H=u.points[$][E]-this.min[E];K=Math.min(K,H),T=Math.max(T,H)}if(T<0||K>this.max[E]-this.min[E])return 0}return 1}}class as{constructor(u=0,m=0,_=0,E=0){if(isNaN(u)||u<0||isNaN(m)||m<0||isNaN(_)||_<0||isNaN(E)||E<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=m,this.left=_,this.right=E}interpolate(u,m,_){return m.top!=null&&u.top!=null&&(this.top=a.number(u.top,m.top,_)),m.bottom!=null&&u.bottom!=null&&(this.bottom=a.number(u.bottom,m.bottom,_)),m.left!=null&&u.left!=null&&(this.left=a.number(u.left,m.left,_)),m.right!=null&&u.right!=null&&(this.right=a.number(u.right,m.right,_)),this}getCenter(u,m){const _=a.clamp((this.left+u-this.right)/2,0,u),E=a.clamp((this.top+m-this.bottom)/2,0,m);return new a.pointGeometry(_,E)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new as(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Yc{constructor(u,m,_,E,K){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=K===void 0||!!K,this._minZoom=u||0,this._maxZoom=m||22,this._minPitch=_??0,this._maxPitch=E??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new as,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const u=new Yc(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.tileSize=this.tileSize,u.latRange=this.latRange,u.width=this.width,u.height=this.height,u._center=this._center,u._elevation=this._elevation,u.zoom=this.zoom,u.angle=this.angle,u._fov=this._fov,u._pitch=this._pitch,u._unmodified=this._unmodified,u._edgeInsets=this._edgeInsets.clone(),u._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(u){const m=-a.wrap(u,-180,180)*Math.PI/180;var _;this.angle!==m&&(this._unmodified=!1,this.angle=m,this._calcMatrices(),this.rotationMatrix=(_=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_),function(E,K,T){var $=K[0],H=K[1],te=K[2],Ae=K[3],ye=Math.sin(T),Me=Math.cos(T);E[0]=$*Me+te*ye,E[1]=H*Me+Ae*ye,E[2]=$*-ye+te*Me,E[3]=H*-ye+Ae*Me}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const m=a.clamp(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==m&&(this._unmodified=!1,this._pitch=m,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(u){const m=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==m&&(this._unmodified=!1,this._zoom=m,this.scale=this.zoomScale(m),this.tileZoom=Math.floor(m),this.zoomFraction=m-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(u){u!==this._elevation&&(this._elevation=u,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,m,_){this._unmodified=!1,this._edgeInsets.interpolate(u,m,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const m=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,m)}getVisibleUnwrappedCoordinates(u){const m=[new a.UnwrappedTileID(0,u)];if(this._renderWorldCopies){const _=this.pointCoordinate(new a.pointGeometry(0,0)),E=this.pointCoordinate(new a.pointGeometry(this.width,0)),K=this.pointCoordinate(new a.pointGeometry(this.width,this.height)),T=this.pointCoordinate(new a.pointGeometry(0,this.height)),$=Math.floor(Math.min(_.x,E.x,K.x,T.x)),H=Math.floor(Math.max(_.x,E.x,K.x,T.x)),te=1;for(let Ae=$-te;Ae<=H+te;Ae++)Ae!==0&&m.push(new a.UnwrappedTileID(Ae,u))}return m}coveringTiles(u){var m,_;let E=this.coveringZoomLevel(u);const K=E;if(u.minzoom!==void 0&&E<u.minzoom)return[];u.maxzoom!==void 0&&E>u.maxzoom&&(E=u.maxzoom);const T=this.pointCoordinate(this.getCameraPoint()),$=a.MercatorCoordinate.fromLngLat(this.center),H=Math.pow(2,E),te=[H*T.x,H*T.y,0],Ae=[H*$.x,H*$.y,0],ye=cc.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,E);let Me=u.minzoom||0;!u.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Me=E);const We=u.terrain?2/Math.min(this.tileSize,u.tileSize)*this.tileSize:3,Fe=Ye=>({aabb:new ms([Ye*H,0,0],[(Ye+1)*H,H,0]),zoom:0,x:0,y:0,wrap:Ye,fullyVisible:!1}),ze=[],At=[],yt=E,Mt=u.reparseOverscaled?K:E;if(this._renderWorldCopies)for(let Ye=1;Ye<=3;Ye++)ze.push(Fe(-Ye)),ze.push(Fe(Ye));for(ze.push(Fe(0));ze.length>0;){const Ye=ze.pop(),Bt=Ye.x,kt=Ye.y;let Ht=Ye.fullyVisible;if(!Ht){const Qn=Ye.aabb.intersects(ye);if(Qn===0)continue;Ht=Qn===2}const Zt=u.terrain?te:Ae,fn=Ye.aabb.distanceX(Zt),Qt=Ye.aabb.distanceY(Zt),Mn=Math.max(Math.abs(fn),Math.abs(Qt)),kn=We+(1<<yt-Ye.zoom)-2;if(Ye.zoom===yt||Mn>kn&&Ye.zoom>=Me){const Qn=yt-Ye.zoom,ii=te[0]-.5-(Bt<<Qn),si=te[1]-.5-(kt<<Qn);At.push({tileID:new a.OverscaledTileID(Ye.zoom===yt?Mt:Ye.zoom,Ye.wrap,Ye.zoom,Bt,kt),distanceSq:a.sqrLen([Ae[0]-.5-Bt,Ae[1]-.5-kt]),tileDistanceToCamera:Math.sqrt(ii*ii+si*si)})}else for(let Qn=0;Qn<4;Qn++){const ii=(Bt<<1)+Qn%2,si=(kt<<1)+(Qn>>1),cr=Ye.zoom+1;let Li=Ye.aabb.quadrant(Qn);if(u.terrain){const mo=new a.OverscaledTileID(cr,Ye.wrap,cr,ii,si),Ri=u.terrain.getMinMaxElevation(mo),Tr=(m=Ri.minElevation)!==null&&m!==void 0?m:this.elevation,Sr=(_=Ri.maxElevation)!==null&&_!==void 0?_:this.elevation;Li=new ms([Li.min[0],Li.min[1],Tr],[Li.max[0],Li.max[1],Sr])}ze.push({aabb:Li,zoom:cr,x:ii,y:si,wrap:Ye.wrap,fullyVisible:Ht})}}return At.sort((Ye,Bt)=>Ye.distanceSq-Bt.distanceSq).map(Ye=>Ye.tileID)}resize(u,m){this.width=u,this.height=m,this.pixelsToGLUnits=[2/u,-2/m],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const m=a.clamp(u.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.pointGeometry(a.mercatorXfromLng(u.lng)*this.worldSize,a.mercatorYfromLat(m)*this.worldSize)}unproject(u){return new a.MercatorCoordinate(u.x/this.worldSize,u.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(u){this.freezeElevation||(this.elevation=u?this.getElevation(this._center,u):0)}getElevation(u,m){const _=a.MercatorCoordinate.fromLngLat(u),E=(1<<this.tileZoom)*a.EXTENT,K=_.x*E,T=_.y*E,$=Math.floor(K/a.EXTENT),H=Math.floor(T/a.EXTENT),te=new a.OverscaledTileID(this.tileZoom,0,this.tileZoom,$,H);return m.getElevation(te,K%a.EXTENT,T%a.EXTENT,a.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(u){const m=this.pointLocation(this.centerPoint,u),_=this.getElevation(m,u);if(!(this.elevation-_))return;const E=this.getCameraPosition(),K=a.MercatorCoordinate.fromLngLat(E.lngLat,E.altitude),T=a.MercatorCoordinate.fromLngLat(m,_),$=K.x-T.x,H=K.y-T.y,te=K.z-T.z,Ae=Math.sqrt($*$+H*H+te*te),ye=this.scaleZoom(this.cameraToCenterDistance/Ae/this.tileSize);this._elevation=_,this._center=m,this.zoom=ye}setLocationAtPoint(u,m){const _=this.pointCoordinate(m),E=this.pointCoordinate(this.centerPoint),K=this.locationCoordinate(u),T=new a.MercatorCoordinate(K.x-(_.x-E.x),K.y-(_.y-E.y));this.center=this.coordinateLocation(T),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(u,m){return m?this.coordinatePoint(this.locationCoordinate(u),this.getElevation(u,m),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(u))}pointLocation(u,m){return this.coordinateLocation(this.pointCoordinate(u,m))}locationCoordinate(u){return a.MercatorCoordinate.fromLngLat(u)}coordinateLocation(u){return u&&u.toLngLat()}pointCoordinate(u,m){if(m){const Me=m.pointCoordinate(u);if(Me!=null)return Me}const _=[u.x,u.y,0,1],E=[u.x,u.y,1,1];a.transformMat4(_,_,this.pixelMatrixInverse),a.transformMat4(E,E,this.pixelMatrixInverse);const K=_[3],T=E[3],$=_[1]/K,H=E[1]/T,te=_[2]/K,Ae=E[2]/T,ye=te===Ae?0:(0-te)/(Ae-te);return new a.MercatorCoordinate(a.number(_[0]/K,E[0]/T,ye)/this.worldSize,a.number($,H,ye)/this.worldSize)}coordinatePoint(u,m=0,_=this.pixelMatrix){const E=[u.x*this.worldSize,u.y*this.worldSize,m,1];return a.transformMat4(E,E,_),new a.pointGeometry(E[0]/E[3],E[1]/E[3])}getBounds(){const u=Math.max(0,this.height/2-this.getHorizon());return new a.LngLatBounds().extend(this.pointLocation(new a.pointGeometry(0,u))).extend(this.pointLocation(new a.pointGeometry(this.width,u))).extend(this.pointLocation(new a.pointGeometry(this.width,this.height))).extend(this.pointLocation(new a.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(u,m=!1){const _=u.key,E=m?this._alignedPosMatrixCache:this._posMatrixCache;if(E[_])return E[_];const K=u.canonical,T=this.worldSize/this.zoomScale(K.z),$=K.x+Math.pow(2,K.z)*u.wrap,H=a.identity(new Float64Array(16));return a.translate(H,H,[$*T,K.y*T,0]),a.scale(H,H,[T/a.EXTENT,T/a.EXTENT,1]),a.multiply(H,m?this.alignedProjMatrix:this.projMatrix,H),E[_]=new Float32Array(H),E[_]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let u,m,_,E,K=-90,T=90,$=-180,H=180;const te=this.size,Ae=this._unmodified;if(this.latRange){const We=this.latRange;K=a.mercatorYfromLat(We[1])*this.worldSize,T=a.mercatorYfromLat(We[0])*this.worldSize,u=T-K<te.y?te.y/(T-K):0}if(this.lngRange){const We=this.lngRange;$=a.wrap(a.mercatorXfromLng(We[0])*this.worldSize,0,this.worldSize),H=a.wrap(a.mercatorXfromLng(We[1])*this.worldSize,0,this.worldSize),H<$&&(H+=this.worldSize),m=H-$<te.x?te.x/(H-$):0}const ye=this.point,Me=Math.max(m||0,u||0);if(Me)return this.center=this.unproject(new a.pointGeometry(m?(H+$)/2:ye.x,u?(T+K)/2:ye.y)),this.zoom+=this.scaleZoom(Me),this._unmodified=Ae,void(this._constraining=!1);if(this.latRange){const We=ye.y,Fe=te.y/2;We-Fe<K&&(E=K+Fe),We+Fe>T&&(E=T-Fe)}if(this.lngRange){const We=($+H)/2,Fe=a.wrap(ye.x,We-this.worldSize/2,We+this.worldSize/2),ze=te.x/2;Fe-ze<$&&(_=$+ze),Fe+ze>H&&(_=H-ze)}_===void 0&&E===void 0||(this.center=this.unproject(new a.pointGeometry(_!==void 0?_:ye.x,E!==void 0?E:ye.y)).wrap()),this._unmodified=Ae,this._constraining=!1}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,m=this.point.x,_=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let E=a.identity(new Float64Array(16));a.scale(E,E,[this.width/2,-this.height/2,1]),a.translate(E,E,[1,-1,0]),this.labelPlaneMatrix=E,E=a.identity(new Float64Array(16)),a.scale(E,E,[1,-1,1]),a.translate(E,E,[-1,-1,0]),a.scale(E,E,[2/this.width,2/this.height,1]),this.glCoordMatrix=E,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const K=Math.PI/2+this._pitch,T=this._fov*(.5+u.y/this.height),$=Math.sin(T)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-K-T,.01,Math.PI-.01)),H=this.getHorizon(),te=2*Math.atan(H/this.cameraToCenterDistance)*(.5+u.y/(2*H)),Ae=Math.sin(te)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-K-te,.01,Math.PI-.01)),ye=Math.cos(Math.PI/2-this._pitch)*$+this.cameraToSeaLevelDistance,Me=Math.cos(Math.PI/2-this._pitch)*Ae+this.cameraToSeaLevelDistance,We=1.01*Math.min(ye,Me),Fe=this.height/50;E=new Float64Array(16),a.perspective(E,this._fov,this.width/this.height,Fe,We),E[8]=2*-u.x/this.width,E[9]=2*u.y/this.height,a.scale(E,E,[1,-1,1]),a.translate(E,E,[0,0,-this.cameraToCenterDistance]),a.rotateX(E,E,this._pitch),a.rotateZ(E,E,this.angle),a.translate(E,E,[-m,-_,0]),this.mercatorMatrix=a.scale([],E,[this.worldSize,this.worldSize,this.worldSize]),a.scale(E,E,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,E),a.translate(E,E,[0,0,-this.elevation]),this.projMatrix=E,this.invProjMatrix=a.invert([],E),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,E);const ze=this.width%2/2,At=this.height%2/2,yt=Math.cos(this.angle),Mt=Math.sin(this.angle),Ye=m-Math.round(m)+yt*ze+Mt*At,Bt=_-Math.round(_)+yt*At+Mt*ze,kt=new Float64Array(E);if(a.translate(kt,kt,[Ye>.5?Ye-1:Ye,Bt>.5?Bt-1:Bt,0]),this.alignedProjMatrix=kt,E=a.invert(new Float64Array(16),this.pixelMatrix),!E)throw new Error("failed to invert matrix");this.pixelMatrixInverse=E,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const u=this.pointCoordinate(new a.pointGeometry(0,0)),m=[u.x*this.worldSize,u.y*this.worldSize,0,1];return a.transformMat4(m,m,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.pointGeometry(0,u))}getCameraQueryGeometry(u){const m=this.getCameraPoint();if(u.length===1)return[u[0],m];{let _=m.x,E=m.y,K=m.x,T=m.y;for(const $ of u)_=Math.min(_,$.x),E=Math.min(E,$.y),K=Math.max(K,$.x),T=Math.max(T,$.y);return[new a.pointGeometry(_,E),new a.pointGeometry(K,E),new a.pointGeometry(K,T),new a.pointGeometry(_,T),new a.pointGeometry(_,E)]}}}class cf{constructor(u){this._hashName=u&&encodeURIComponent(u),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(m,_){let E=!1,K=null;const T=()=>{K=null,E&&(m(),K=setTimeout(T,300),E=!1)};return()=>(E=!0,K||T(),K)}(this._updateHashUnthrottled.bind(this))}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(u){const m=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,E=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),K=Math.pow(10,E),T=Math.round(m.lng*K)/K,$=Math.round(m.lat*K)/K,H=this._map.getBearing(),te=this._map.getPitch();let Ae="";if(Ae+=u?`/${T}/${$}/${_}`:`${_}/${$}/${T}`,(H||te)&&(Ae+="/"+Math.round(10*H)/10),te&&(Ae+=`/${Math.round(te)}`),this._hashName){const ye=this._hashName;let Me=!1;const We=window.location.hash.slice(1).split("&").map(Fe=>{const ze=Fe.split("=")[0];return ze===ye?(Me=!0,`${ze}=${Ae}`):Fe}).filter(Fe=>Fe);return Me||We.push(`${ye}=${Ae}`),`#${We.join("&")}`}return`#${Ae}`}_getCurrentHash(){const u=window.location.hash.replace("#","");if(this._hashName){let m;return u.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(m=_)}),(m&&m[1]||"").split("/")}return u.split("/")}_onHashChange(){const u=this._getCurrentHash();if(u.length>=3&&!u.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:m,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const u=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,u)}catch{}}}const Kd={linearity:.3,easing:a.bezier(0,0,.3,1)},dc=a.extend({deceleration:2500,maxSpeed:1400},Kd),Gl=a.extend({deceleration:20,maxSpeed:1400},Kd),Ah=a.extend({deceleration:1e3,maxSpeed:360},Kd),hc=a.extend({deceleration:1e3,maxSpeed:90},Kd);class qc{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,m=a.exported.now();for(;u.length>0&&m-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const m={zoom:0,bearing:0,pitch:0,pan:new a.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:K}of this._inertiaBuffer)m.zoom+=K.zoomDelta||0,m.bearing+=K.bearingDelta||0,m.pitch+=K.pitchDelta||0,K.panDelta&&m.pan._add(K.panDelta),K.around&&(m.around=K.around),K.pinchAround&&(m.pinchAround=K.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,E={};if(m.pan.mag()){const K=Hc(m.pan.mag(),_,a.extend({},dc,u||{}));E.offset=m.pan.mult(K.amount/m.pan.mag()),E.center=this._map.transform.center,Vc(E,K)}if(m.zoom){const K=Hc(m.zoom,_,Gl);E.zoom=this._map.transform.zoom+K.amount,Vc(E,K)}if(m.bearing){const K=Hc(m.bearing,_,Ah);E.bearing=this._map.transform.bearing+a.clamp(K.amount,-179,179),Vc(E,K)}if(m.pitch){const K=Hc(m.pitch,_,hc);E.pitch=this._map.transform.pitch+K.amount,Vc(E,K)}if(E.zoom||E.bearing){const K=m.pinchAround===void 0?m.around:m.pinchAround;E.around=K?this._map.unproject(K):this._map.getCenter()}return this.clear(),a.extend(E,{noMoveStart:!0})}}function Vc(M,u){(!M.duration||M.duration<u.duration)&&(M.duration=u.duration,M.easing=u.easing)}function Hc(M,u,m){const{maxSpeed:_,linearity:E,deceleration:K}=m,T=a.clamp(M*E/(u/1e3),-_,_),$=Math.abs(T)/(K*E);return{easing:m.easing,duration:1e3*$,amount:T*($/2)}}class Vs extends a.Event{constructor(u,m,_,E={}){const K=B.mousePos(m.getCanvasContainer(),_),T=m.unproject(K);super(u,a.extend({point:K,lngLat:T,originalEvent:_},E)),this._defaultPrevented=!1,this.target=m}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Sl extends a.Event{constructor(u,m,_){const E=u==="touchend"?_.changedTouches:_.touches,K=B.touchPos(m.getCanvasContainer(),E),T=K.map(H=>m.unproject(H)),$=K.reduce((H,te,Ae,ye)=>H.add(te.div(ye.length)),new a.pointGeometry(0,0));super(u,{points:K,point:$,lngLats:T,lngLat:m.unproject($),originalEvent:_}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class gt extends a.Event{constructor(u,m,_){super(u,{originalEvent:_}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class on{constructor(u,m){this._map=u,this._clickTolerance=m.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new gt(u.type,this._map,u))}mousedown(u,m){return this._mousedownPos=m,this._firePreventable(new Vs(u.type,this._map,u))}mouseup(u){this._map.fire(new Vs(u.type,this._map,u))}click(u,m){this._mousedownPos&&this._mousedownPos.dist(m)>=this._clickTolerance||this._map.fire(new Vs(u.type,this._map,u))}dblclick(u){return this._firePreventable(new Vs(u.type,this._map,u))}mouseover(u){this._map.fire(new Vs(u.type,this._map,u))}mouseout(u){this._map.fire(new Vs(u.type,this._map,u))}touchstart(u){return this._firePreventable(new Sl(u.type,this._map,u))}touchmove(u){this._map.fire(new Sl(u.type,this._map,u))}touchend(u){this._map.fire(new Sl(u.type,this._map,u))}touchcancel(u){this._map.fire(new Sl(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Rt{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new Vs(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Vs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new Vs(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ar{constructor(u,m){this._map=u,this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=m.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,m){this.isEnabled()&&u.shiftKey&&u.button===0&&(B.disableDrag(),this._startPos=this._lastPos=m,this._active=!0)}mousemoveWindow(u,m){if(!this._active)return;const _=m;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const E=this._startPos;this._lastPos=_,this._box||(this._box=B.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",u));const K=Math.min(E.x,_.x),T=Math.max(E.x,_.x),$=Math.min(E.y,_.y),H=Math.max(E.y,_.y);B.setTransform(this._box,`translate(${K}px,${$}px)`),this._box.style.width=T-K+"px",this._box.style.height=H-$+"px"}mouseupWindow(u,m){if(!this._active||u.button!==0)return;const _=this._startPos,E=m;if(this.reset(),B.suppressClick(),_.x!==E.x||_.y!==E.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:u})),{cameraAnimation:K=>K.fitScreenCoordinates(_,E,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(B.remove(this._box),this._box=null),B.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,m){return this._map.fire(new a.Event(u,{originalEvent:m}))}}function Nr(M,u){if(M.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${M.length}, points ${u.length}`);const m={};for(let _=0;_<M.length;_++)m[M[_].identifier]=u[_];return m}class Gi{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,m,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),_.length===this.numTouches&&(this.centroid=function(E){const K=new a.pointGeometry(0,0);for(const T of E)K._add(T);return K.div(E.length)}(m),this.touches=Nr(_,m)))}touchmove(u,m,_){if(this.aborted||!this.centroid)return;const E=Nr(_,m);for(const K in this.touches){const T=this.touches[K],$=E[K];(!$||$.dist(T)>30)&&(this.aborted=!0)}}touchend(u,m,_){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const E=!this.aborted&&this.centroid;if(this.reset(),E)return E}}}class fa{constructor(u){this.singleTap=new Gi(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,m,_){this.singleTap.touchstart(u,m,_)}touchmove(u,m,_){this.singleTap.touchmove(u,m,_)}touchend(u,m,_){const E=this.singleTap.touchend(u,m,_);if(E){const K=u.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist(E)<30;if(K&&T||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=E,this.count===this.numTaps)return this.reset(),E}}}class Oo{constructor(){this._zoomIn=new fa({numTouches:1,numTaps:2}),this._zoomOut=new fa({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,m,_){this._zoomIn.touchstart(u,m,_),this._zoomOut.touchstart(u,m,_)}touchmove(u,m,_){this._zoomIn.touchmove(u,m,_),this._zoomOut.touchmove(u,m,_)}touchend(u,m,_){const E=this._zoomIn.touchend(u,m,_),K=this._zoomOut.touchend(u,m,_);return E?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()+1,around:T.unproject(E)},{originalEvent:u})}):K?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()-1,around:T.unproject(K)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Pd={0:1,2:2};class ch{constructor(u){this.reset(),this._clickTolerance=u.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(u,m){return!1}_move(u,m){return{}}mousedown(u,m){if(this._lastPoint)return;const _=B.mouseButton(u);this._correctButton(u,_)&&(this._lastPoint=m,this._eventButton=_)}mousemoveWindow(u,m){const _=this._lastPoint;if(_){if(u.preventDefault(),function(E,K){const T=Pd[K];return E.buttons===void 0||(E.buttons&T)!==T}(u,this._eventButton))this.reset();else if(this._moved||!(m.dist(_)<this._clickTolerance))return this._moved=!0,this._lastPoint=m,this._move(_,m)}}mouseupWindow(u){this._lastPoint&&B.mouseButton(u)===this._eventButton&&(this._moved&&B.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ks extends ch{mousedown(u,m){super.mousedown(u,m),this._lastPoint&&(this._active=!0)}_correctButton(u,m){return m===0&&!u.ctrlKey}_move(u,m){return{around:m,panDelta:m.sub(u)}}}class Ql extends ch{_correctButton(u,m){return m===0&&u.ctrlKey||m===2}_move(u,m){const _=.8*(m.x-u.x);if(_)return this._active=!0,{bearingDelta:_}}contextmenu(u){u.preventDefault()}}class Gn extends ch{_correctButton(u,m){return m===0&&u.ctrlKey||m===2}_move(u,m){const _=-.5*(m.y-u.y);if(_)return this._active=!0,{pitchDelta:_}}contextmenu(u){u.preventDefault()}}class $l{constructor(u,m){this._minTouches=u.cooperativeGestures?2:1,this._clickTolerance=u.clickTolerance||1,this._map=m,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(u,m,_){return this._calculateTransform(u,m,_)}touchmove(u,m,_){if(this._map._cooperativeGestures&&(this._minTouches===2&&_.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(u,!1,_.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(_.length<this._minTouches))return u.preventDefault(),this._calculateTransform(u,m,_)}touchend(u,m,_){this._calculateTransform(u,m,_),this._active&&_.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,m,_){_.length>0&&(this._active=!0);const E=Nr(_,m),K=new a.pointGeometry(0,0),T=new a.pointGeometry(0,0);let $=0;for(const te in E){const Ae=E[te],ye=this._touches[te];ye&&(K._add(Ae),T._add(Ae.sub(ye)),$++,E[te]=Ae)}if(this._touches=E,$<this._minTouches||!T.mag())return;const H=T.div($);return this._sum._add(H),this._sum.mag()<this._clickTolerance?void 0:{around:K.div($),panDelta:H}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hs{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(u){}_move(u,m,_){return{}}touchstart(u,m,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([m[0],m[1]]))}touchmove(u,m,_){if(!this._firstTwoTouches)return;u.preventDefault();const[E,K]=this._firstTwoTouches,T=El(_,m,E),$=El(_,m,K);if(!T||!$)return;const H=this._aroundCenter?null:T.add($).div(2);return this._move([T,$],H,u)}touchend(u,m,_){if(!this._firstTwoTouches)return;const[E,K]=this._firstTwoTouches,T=El(_,m,E),$=El(_,m,K);T&&$||(this._active&&B.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function El(M,u,m){for(let _=0;_<M.length;_++)if(M[_].identifier===m)return u[_]}function lo(M,u){return Math.log(M/u)/Math.LN2}class jn extends Hs{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,m){const _=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(lo(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:lo(this._distance,_),pinchAround:m}}}function fc(M,u){return 180*M.angleWith(u)/Math.PI}class Pu extends Hs{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,m){const _=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:fc(this._vector,_),pinchAround:m}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const m=25/(Math.PI*this._minDiameter)*360,_=fc(u,this._startVector);return Math.abs(_)<m}}function tA(M){return Math.abs(M.y)>Math.abs(M.x)}class gs extends Hs{constructor(u){super(),this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,m,_){super.touchstart(u,m,_),this._currentTouchCount=_.length}_start(u){this._lastPoints=u,tA(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,m,_){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const E=u[0].sub(this._lastPoints[0]),K=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(E,K,_.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(E.y+K.y)/2*-.5}):void 0}gestureBeginsVertically(u,m,_){if(this._valid!==void 0)return this._valid;const E=u.mag()>=2,K=m.mag()>=2;if(!E&&!K)return;if(!E||!K)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const T=u.y>0==m.y>0;return tA(u)&&tA(m)&&T}}const nA={panStep:100,bearingStep:15,pitchStep:10};class Yl{constructor(){const u=nA;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let m=0,_=0,E=0,K=0,T=0;switch(u.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:u.shiftKey?_=-1:(u.preventDefault(),K=-1);break;case 39:u.shiftKey?_=1:(u.preventDefault(),K=1);break;case 38:u.shiftKey?E=1:(u.preventDefault(),T=-1);break;case 40:u.shiftKey?E=-1:(u.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(_=0,E=0),{cameraAnimation:$=>{const H=$.getZoom();$.easeTo({duration:300,easeId:"keyboardHandler",easing:Au,zoom:m?Math.round(H)+m*(u.shiftKey?2:1):H,bearing:$.getBearing()+_*this._bearingStep,pitch:$.getPitch()+E*this._pitchStep,offset:[-K*this._panStep,-T*this._panStep],center:$.getCenter()},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Au(M){return M*(2-M)}const Ud=4.000244140625;class Dd{constructor(u,m){this._map=u,this._el=u.getCanvasContainer(),this._handler=m,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(u){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;u.preventDefault()}let m=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const _=a.exported.now(),E=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,m!==0&&m%Ud==0?this._type="wheel":m!==0&&Math.abs(m)<4?this._type="trackpad":E>400?(this._type=null,this._lastValue=m,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(E*m)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,m+=this._lastValue)),u.shiftKey&&m&&(m/=4),this._type&&(this._lastWheelEvent=u,this._delta-=m,this._active||this._start(u)),u.preventDefault()}_onTimeout(u){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const m=B.mousePos(this._el,u);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(m)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._map.transform;if(this._delta!==0){const $=this._type==="wheel"&&Math.abs(this._delta)>Ud?this._wheelZoomRate:this._defaultZoomRate;let H=2/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&H!==0&&(H=1/H);const te=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(te*H))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const m=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,_=this._startZoom,E=this._easing;let K,T=!1;if(this._type==="wheel"&&_&&E){const $=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),H=E($);K=a.number(_,m,H),$<1?this._frameId||(this._frameId=!0):T=!0}else K=m,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!T,zoomDelta:K-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let m=a.ease;if(this._prevEase){const _=this._prevEase,E=(a.exported.now()-_.start)/_.duration,K=_.easing(E+.01)-_.easing(E),T=.27/Math.sqrt(K*K+1e-4)*.01,$=Math.sqrt(.0729-T*T);m=a.bezier(T,$,.25,1)}return this._prevEase={start:a.exported.now(),duration:u,easing:m},m}reset(){this._active=!1}}class Uu{constructor(u,m){this._clickZoom=u,this._tapZoom=m}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Fd{constructor(){this.reset()}reset(){this._active=!1}dblclick(u,m){return u.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:_.getZoom()+(u.shiftKey?-1:1),around:_.unproject(m)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Zc{constructor(){this._tap=new fa({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(u,m,_){this._swipePoint||(this._tapTime&&u.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?_.length>0&&(this._swipePoint=m[0],this._swipeTouch=_[0].identifier):this._tap.touchstart(u,m,_))}touchmove(u,m,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const E=m[0],K=E.y-this._swipePoint.y;return this._swipePoint=E,u.preventDefault(),this._active=!0,{zoomDelta:K/128}}}else this._tap.touchmove(u,m,_)}touchend(u,m,_){this._tapTime?this._swipePoint&&_.length===0&&this.reset():this._tap.touchend(u,m,_)&&(this._tapTime=u.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pa{constructor(u,m,_){this._el=u,this._mousePan=m,this._touchPan=_}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class rA{constructor(u,m,_){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=m,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class IA{constructor(u,m,_,E){this._el=u,this._touchZoom=m,this._touchRotate=_,this._tapDragZoom=E,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ol=M=>M.zoom||M.drag||M.pitch||M.rotate;class kA extends a.Event{}function pc(M){return M.panDelta&&M.panDelta.mag()||M.zoomDelta||M.bearingDelta||M.pitchDelta}class mc{constructor(u,m){this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new qc(u),this._bearingSnap=m.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(m),a.bindAll(["handleEvent","handleWindowEvent"],this);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[E,K,T]of this._listeners)B.addEventListener(E,K,E===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(const[u,m,_]of this._listeners)B.removeEventListener(u,m,u===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(u){const m=this._map,_=m.getCanvasContainer();this._add("mapEvent",new on(m,u));const E=m.boxZoom=new Ar(m,u);this._add("boxZoom",E);const K=new Oo,T=new Fd;m.doubleClickZoom=new Uu(T,K),this._add("tapZoom",K),this._add("clickZoom",T);const $=new Zc;this._add("tapDragZoom",$);const H=m.touchPitch=new gs(m);this._add("touchPitch",H);const te=new Ql(u),Ae=new Gn(u);m.dragRotate=new rA(u,te,Ae),this._add("mouseRotate",te,["mousePitch"]),this._add("mousePitch",Ae,["mouseRotate"]);const ye=new Ks(u),Me=new $l(u,m);m.dragPan=new Pa(_,ye,Me),this._add("mousePan",ye),this._add("touchPan",Me,["touchZoom","touchRotate"]);const We=new Pu,Fe=new jn;m.touchZoomRotate=new IA(_,Fe,We,$),this._add("touchRotate",We,["touchPan","touchZoom"]),this._add("touchZoom",Fe,["touchPan","touchRotate"]);const ze=m.scrollZoom=new Dd(m,this);this._add("scrollZoom",ze,["mousePan"]);const At=m.keyboard=new Yl;this._add("keyboard",At),this._add("blockableMapEvent",new Rt(m));for(const yt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])u.interactive&&u[yt]&&m[yt].enable(u[yt])}_add(u,m,_){this._handlers.push({handlerName:u,handler:m,allowed:_}),this._handlersById[u]=m}stop(u){if(!this._updatingCamera){for(const{handler:m}of this._handlers)m.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ol(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,m,_){for(const E in u)if(E!==_&&(!m||m.indexOf(E)<0))return!0;return!1}handleWindowEvent(u){this.handleEvent(u,`${u.type}Window`)}_getMapTouches(u){const m=[];for(const _ of u)this._el.contains(_.target)&&m.push(_);return m}handleEvent(u,m){if(u.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const _=u.type==="renderFrame"?void 0:u,E={needsRenderFrame:!1},K={},T={},$=u.touches,H=$?this._getMapTouches($):void 0,te=H?B.touchPos(this._el,H):B.mousePos(this._el,u);for(const{handlerName:Me,handler:We,allowed:Fe}of this._handlers){if(!We.isEnabled())continue;let ze;this._blockedByActive(T,Fe,Me)?We.reset():We[m||u.type]&&(ze=We[m||u.type](u,te,H),this.mergeHandlerResult(E,K,ze,Me,_),ze&&ze.needsRenderFrame&&this._triggerRenderFrame()),(ze||We.isActive())&&(T[Me]=We)}const Ae={};for(const Me in this._previousActiveHandlers)T[Me]||(Ae[Me]=_);this._previousActiveHandlers=T,(Object.keys(Ae).length||pc(E))&&(this._changes.push([E,K,Ae]),this._triggerRenderFrame()),(Object.keys(T).length||pc(E))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ye}=E;ye&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ye(this._map))}mergeHandlerResult(u,m,_,E,K){if(!_)return;a.extend(u,_);const T={handlerName:E,originalEvent:_.originalEvent||K};_.zoomDelta!==void 0&&(m.zoom=T),_.panDelta!==void 0&&(m.drag=T),_.pitchDelta!==void 0&&(m.pitch=T),_.bearingDelta!==void 0&&(m.rotate=T)}_applyChanges(){const u={},m={},_={};for(const[E,K,T]of this._changes)E.panDelta&&(u.panDelta=(u.panDelta||new a.pointGeometry(0,0))._add(E.panDelta)),E.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+E.zoomDelta),E.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+E.bearingDelta),E.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+E.pitchDelta),E.around!==void 0&&(u.around=E.around),E.pinchAround!==void 0&&(u.pinchAround=E.pinchAround),E.noInertia&&(u.noInertia=E.noInertia),a.extend(m,K),a.extend(_,T);this._updateMapTransform(u,m,_),this._changes=[]}_updateMapTransform(u,m,_){const E=this._map,K=E.transform,T=E.style&&E.style.terrain;if(!(pc(u)||T&&this._drag))return this._fireEvents(m,_,!0);let{panDelta:$,zoomDelta:H,bearingDelta:te,pitchDelta:Ae,around:ye,pinchAround:Me}=u;Me!==void 0&&(ye=Me),E._stop(!0),ye=ye||E.transform.centerPoint;const We=K.pointLocation($?ye.sub($):ye);te&&(K.bearing+=te),Ae&&(K.pitch+=Ae),H&&(K.zoom+=H),T?m.drag&&!this._drag?(this._drag={center:K.centerPoint,lngLat:K.pointLocation(ye),point:ye,handlerName:m.drag.handlerName},E.fire(new a.Event("freezeElevation",{freeze:!0}))):this._drag&&_[this._drag.handlerName]?(E.fire(new a.Event("freezeElevation",{freeze:!1})),this._drag=null):m.drag&&this._drag&&(K.center=K.pointLocation(K.centerPoint.sub($))):K.setLocationAtPoint(We,ye),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(m,_,!0)}_fireEvents(u,m,_){const E=Ol(this._eventsInProgress),K=Ol(u),T={};for(const Ae in u){const{originalEvent:ye}=u[Ae];this._eventsInProgress[Ae]||(T[`${Ae}start`]=ye),this._eventsInProgress[Ae]=u[Ae]}!E&&K&&this._fireEvent("movestart",K.originalEvent);for(const Ae in T)this._fireEvent(Ae,T[Ae]);K&&this._fireEvent("move",K.originalEvent);for(const Ae in u){const{originalEvent:ye}=u[Ae];this._fireEvent(Ae,ye)}const $={};let H;for(const Ae in this._eventsInProgress){const{handlerName:ye,originalEvent:Me}=this._eventsInProgress[Ae];this._handlersById[ye].isActive()||(delete this._eventsInProgress[Ae],H=m[ye]||Me,$[`${Ae}end`]=H)}for(const Ae in $)this._fireEvent(Ae,$[Ae]);const te=Ol(this._eventsInProgress);if(_&&(E||K)&&!te){this._updatingCamera=!0;const Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ye=Me=>Me!==0&&-this._bearingSnap<Me&&Me<this._bearingSnap;Ae?(ye(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),this._map.easeTo(Ae,{originalEvent:H})):(this._map.fire(new a.Event("moveend",{originalEvent:H})),ye(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(u,m){this._map.fire(new a.Event(u,m?{originalEvent:m}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{delete this._frameId,this.handleEvent(new kA("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Zs={extend:(M,...u)=>a.extend(M,...u),run(M){M()},logToElement(M,u=!1,m="log"){const _=window.document.getElementById(m);_&&(u&&(_.innerHTML=""),_.innerHTML+=`<br>${M}`)}};class wo extends a.Evented{constructor(u,m){super(),this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=m.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(u,m){return this.jumpTo({center:u},m)}panBy(u,m,_){return u=a.pointGeometry.convert(u).mult(-1),this.panTo(this.transform.center,a.extend({offset:u},m),_)}panTo(u,m,_){return this.easeTo(a.extend({center:u},m),_)}getZoom(){return this.transform.zoom}setZoom(u,m){return this.jumpTo({zoom:u},m),this}zoomTo(u,m,_){return this.easeTo(a.extend({zoom:u},m),_)}zoomIn(u,m){return this.zoomTo(this.getZoom()+1,u,m),this}zoomOut(u,m){return this.zoomTo(this.getZoom()-1,u,m),this}getBearing(){return this.transform.bearing}setBearing(u,m){return this.jumpTo({bearing:u},m),this}getPadding(){return this.transform.padding}setPadding(u,m){return this.jumpTo({padding:u},m),this}rotateTo(u,m,_){return this.easeTo(a.extend({bearing:u},m),_)}resetNorth(u,m){return this.rotateTo(0,a.extend({duration:1e3},u),m),this}resetNorthPitch(u,m){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},u),m),this}snapToNorth(u,m){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,m):this}getPitch(){return this.transform.pitch}setPitch(u,m){return this.jumpTo({pitch:u},m),this}cameraForBounds(u,m){u=a.LngLatBounds.convert(u);const _=m&&m.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),_,m)}_cameraForBoxAndBearing(u,m,_,E){const K={top:0,bottom:0,right:0,left:0};if(typeof(E=a.extend({padding:K,offset:[0,0],maxZoom:this.transform.maxZoom},E)).padding=="number"){const kt=E.padding;E.padding={top:kt,bottom:kt,right:kt,left:kt}}E.padding=a.extend(K,E.padding);const T=this.transform,$=T.padding,H=T.project(a.LngLat.convert(u)),te=T.project(a.LngLat.convert(m)),Ae=H.rotate(-_*Math.PI/180),ye=te.rotate(-_*Math.PI/180),Me=new a.pointGeometry(Math.max(Ae.x,ye.x),Math.max(Ae.y,ye.y)),We=new a.pointGeometry(Math.min(Ae.x,ye.x),Math.min(Ae.y,ye.y)),Fe=Me.sub(We),ze=(T.width-($.left+$.right+E.padding.left+E.padding.right))/Fe.x,At=(T.height-($.top+$.bottom+E.padding.top+E.padding.bottom))/Fe.y;if(At<0||ze<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const yt=Math.min(T.scaleZoom(T.scale*Math.min(ze,At)),E.maxZoom),Mt=a.pointGeometry.convert(E.offset),Ye=new a.pointGeometry((E.padding.left-E.padding.right)/2,(E.padding.top-E.padding.bottom)/2).rotate(_*Math.PI/180),Bt=Mt.add(Ye).mult(T.scale/T.zoomScale(yt));return{center:T.unproject(H.add(te).div(2).sub(Bt)),zoom:yt,bearing:_}}fitBounds(u,m,_){return this._fitInternal(this.cameraForBounds(u,m),m,_)}fitScreenCoordinates(u,m,_,E,K){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.pointGeometry.convert(u)),this.transform.pointLocation(a.pointGeometry.convert(m)),_,E),E,K)}_fitInternal(u,m,_){return u?(delete(m=a.extend(u,m)).padding,m.linear?this.easeTo(m,_):this.flyTo(m,_)):this}jumpTo(u,m){this.stop();const _=this.transform;let E=!1,K=!1,T=!1;return"zoom"in u&&_.zoom!==+u.zoom&&(E=!0,_.zoom=+u.zoom),u.center!==void 0&&(_.center=a.LngLat.convert(u.center)),"bearing"in u&&_.bearing!==+u.bearing&&(K=!0,_.bearing=+u.bearing),"pitch"in u&&_.pitch!==+u.pitch&&(T=!0,_.pitch=+u.pitch),u.padding==null||_.isPaddingEqual(u.padding)||(_.padding=u.padding),this.fire(new a.Event("movestart",m)).fire(new a.Event("move",m)),E&&this.fire(new a.Event("zoomstart",m)).fire(new a.Event("zoom",m)).fire(new a.Event("zoomend",m)),K&&this.fire(new a.Event("rotatestart",m)).fire(new a.Event("rotate",m)).fire(new a.Event("rotateend",m)),T&&this.fire(new a.Event("pitchstart",m)).fire(new a.Event("pitch",m)).fire(new a.Event("pitchend",m)),this.fire(new a.Event("moveend",m))}calculateCameraOptionsFromTo(u,m,_,E=0){const K=a.MercatorCoordinate.fromLngLat(u,m),T=a.MercatorCoordinate.fromLngLat(_,E),$=T.x-K.x,H=T.y-K.y,te=T.z-K.z,Ae=Math.hypot($,H,te);if(Ae===0)throw new Error("Can't calculate camera options with same From and To");const ye=Math.hypot($,H),Me=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Ae/this.transform.tileSize),We=180*Math.atan2($,-H)/Math.PI;let Fe=180*Math.acos(ye/Ae)/Math.PI;return Fe=te<0?90-Fe:90+Fe,{center:T.toLngLat(),zoom:Me,pitch:Fe,bearing:We}}easeTo(u,m){this._stop(!1,u.easeId),((u=a.extend({offset:[0,0],duration:500,easing:a.ease},u)).animate===!1||!u.essential&&a.exported.prefersReducedMotion)&&(u.duration=0);const _=this.transform,E=this.getZoom(),K=this.getBearing(),T=this.getPitch(),$=this.getPadding(),H="zoom"in u?+u.zoom:E,te="bearing"in u?this._normalizeBearing(u.bearing,K):K,Ae="pitch"in u?+u.pitch:T,ye="padding"in u?u.padding:_.padding,Me=a.pointGeometry.convert(u.offset);let We=_.centerPoint.add(Me);const Fe=_.pointLocation(We),ze=a.LngLat.convert(u.center||Fe);this._normalizeCenter(ze);const At=_.project(Fe),yt=_.project(ze).sub(At),Mt=_.zoomScale(H-E);let Ye,Bt;u.around&&(Ye=a.LngLat.convert(u.around),Bt=_.locationPoint(Ye));const kt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||H!==E,this._rotating=this._rotating||K!==te,this._pitching=this._pitching||Ae!==T,this._padding=!_.isPaddingEqual(ye),this._easeId=u.easeId,this._prepareEase(m,u.noMoveStart,kt),this._ease(Ht=>{if(this._zooming&&(_.zoom=a.number(E,H,Ht)),this._rotating&&(_.bearing=a.number(K,te,Ht)),this._pitching&&(_.pitch=a.number(T,Ae,Ht)),this._padding&&(_.interpolatePadding($,ye,Ht),We=_.centerPoint.add(Me)),Ye)_.setLocationAtPoint(Ye,Bt);else{const Zt=_.zoomScale(_.zoom-E),fn=H>E?Math.min(2,Mt):Math.max(.5,Mt),Qt=Math.pow(fn,1-Ht),Mn=_.unproject(At.add(yt.mult(Ht*Qt)).mult(Zt));_.setLocationAtPoint(_.renderWorldCopies?Mn.wrap():Mn,We)}this._fireMoveEvents(m)},Ht=>{this._afterEase(m,Ht)},u),this}_prepareEase(u,m,_={}){this._moving=!0,this.fire(new a.Event("freezeElevation",{freeze:!0})),m||_.moving||this.fire(new a.Event("movestart",u)),this._zooming&&!_.zooming&&this.fire(new a.Event("zoomstart",u)),this._rotating&&!_.rotating&&this.fire(new a.Event("rotatestart",u)),this._pitching&&!_.pitching&&this.fire(new a.Event("pitchstart",u))}_fireMoveEvents(u){this.fire(new a.Event("move",u)),this._zooming&&this.fire(new a.Event("zoom",u)),this._rotating&&this.fire(new a.Event("rotate",u)),this._pitching&&this.fire(new a.Event("pitch",u))}_afterEase(u,m){if(this._easeId&&m&&this._easeId===m)return;delete this._easeId,this.fire(new a.Event("freezeElevation",{freeze:!1}));const _=this._zooming,E=this._rotating,K=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new a.Event("zoomend",u)),E&&this.fire(new a.Event("rotateend",u)),K&&this.fire(new a.Event("pitchend",u)),this.fire(new a.Event("moveend",u))}flyTo(u,m){if(!u.essential&&a.exported.prefersReducedMotion){const cr=a.pick(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(cr,m)}this.stop(),u=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},u);const _=this.transform,E=this.getZoom(),K=this.getBearing(),T=this.getPitch(),$=this.getPadding(),H="zoom"in u?a.clamp(+u.zoom,_.minZoom,_.maxZoom):E,te="bearing"in u?this._normalizeBearing(u.bearing,K):K,Ae="pitch"in u?+u.pitch:T,ye="padding"in u?u.padding:_.padding,Me=_.zoomScale(H-E),We=a.pointGeometry.convert(u.offset);let Fe=_.centerPoint.add(We);const ze=_.pointLocation(Fe),At=a.LngLat.convert(u.center||ze);this._normalizeCenter(At);const yt=_.project(ze),Mt=_.project(At).sub(yt);let Ye=u.curve;const Bt=Math.max(_.width,_.height),kt=Bt/Me,Ht=Mt.mag();if("minZoom"in u){const cr=a.clamp(Math.min(u.minZoom,E,H),_.minZoom,_.maxZoom),Li=Bt/_.zoomScale(cr-E);Ye=Math.sqrt(Li/Ht*2)}const Zt=Ye*Ye;function fn(cr){const Li=(kt*kt-Bt*Bt+(cr?-1:1)*Zt*Zt*Ht*Ht)/(2*(cr?kt:Bt)*Zt*Ht);return Math.log(Math.sqrt(Li*Li+1)-Li)}function Qt(cr){return(Math.exp(cr)-Math.exp(-cr))/2}function Mn(cr){return(Math.exp(cr)+Math.exp(-cr))/2}const kn=fn(0);let Qn=function(cr){return Mn(kn)/Mn(kn+Ye*cr)},ii=function(cr){return Bt*((Mn(kn)*(Qt(Li=kn+Ye*cr)/Mn(Li))-Qt(kn))/Zt)/Ht;var Li},si=(fn(1)-kn)/Ye;if(Math.abs(Ht)<1e-6||!isFinite(si)){if(Math.abs(Bt-kt)<1e-6)return this.easeTo(u,m);const cr=kt<Bt?-1:1;si=Math.abs(Math.log(kt/Bt))/Ye,ii=function(){return 0},Qn=function(Li){return Math.exp(cr*Ye*Li)}}return u.duration="duration"in u?+u.duration:1e3*si/("screenSpeed"in u?+u.screenSpeed/Ye:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=K!==te,this._pitching=Ae!==T,this._padding=!_.isPaddingEqual(ye),this._prepareEase(m,!1),this._ease(cr=>{const Li=cr*si,mo=1/Qn(Li);_.zoom=cr===1?H:E+_.scaleZoom(mo),this._rotating&&(_.bearing=a.number(K,te,cr)),this._pitching&&(_.pitch=a.number(T,Ae,cr)),this._padding&&(_.interpolatePadding($,ye,cr),Fe=_.centerPoint.add(We));const Ri=cr===1?At:_.unproject(yt.add(Mt.mult(ii(Li))).mult(mo));_.setLocationAtPoint(_.renderWorldCopies?Ri.wrap():Ri,Fe),this._fireMoveEvents(m)},()=>this._afterEase(m),u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,m){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const _=this._onEaseEnd;delete this._onEaseEnd,_.call(this,m)}if(!u){const _=this.handlers;_&&_.stop(!1)}return this}_ease(u,m,_){_.animate===!1||_.duration===0?(u(1),m()):(this._easeStart=a.exported.now(),this._easeOptions=_,this._onEaseFrame=u,this._onEaseEnd=m,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const u=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(u)),u<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(u,m){u=a.wrap(u,-180,180);const _=Math.abs(u-m);return Math.abs(u-360-m)<_&&(u-=360),Math.abs(u+360-m)<_&&(u+=360),u}_normalizeCenter(u){const m=this.transform;if(!m.renderWorldCopies||m.lngRange)return;const _=u.lng-m.center.lng;u.lng+=_>180?-360:_<-180?360:0}}class cu{constructor(u={}){this.options=u,a.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options&&this.options.compact,this._container=B.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=B.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=B.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){B.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,m){const _=this._map._getUIString(`AttributionControl.${m}`);u.title=_,u.setAttribute("aria-label",_)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(u){!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(E=>typeof E!="string"?"":E)):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const E=this._map.style.stylesheet;this.styleOwner=E.owner,this.styleId=E.id}const m=this._map.style.sourceCaches;for(const E in m){const K=m[E];if(K.used||K.usedForTerrain){const T=K.getSource();T.attribution&&u.indexOf(T.attribution)<0&&u.push(T.attribution)}}u=u.filter(E=>String(E).trim()),u.sort((E,K)=>E.length-K.length),u=u.filter((E,K)=>{for(let T=K+1;T<u.length;T++)if(u[T].indexOf(E)>=0)return!1;return!0});const _=u.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,u.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Xc{constructor(u={}){this.options=u,a.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=B.create("div","maplibregl-ctrl mapboxgl-ctrl");const m=B.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return m.target="_blank",m.rel="noopener nofollow",m.href="https://maplibre.org/",m.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),m.setAttribute("rel","noopener nofollow"),this._container.appendChild(m),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){B.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const u=this._container.children;if(u.length){const m=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact","mapboxgl-compact"):m.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class vp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const m=++this._id;return this._queue.push({callback:u,id:m,cancelled:!1}),m}remove(u){const m=this._currentlyRunning,_=m?this._queue.concat(m):this._queue;for(const E of _)if(E.id===u)return void(E.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const m=this._currentlyRunning=this._queue;this._queue=[];for(const _ of m)if(!_.cancelled&&(_.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const df={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},dh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},hf={showCompass:!0,showZoom:!0,visualizePitch:!1};class uo{constructor(u,m,_=!1){this._clickTolerance=10,this.element=m,this.mouseRotate=new Ql({clickTolerance:u.dragRotate._mouseRotate._clickTolerance}),this.map=u,_&&(this.mousePitch=new Gn({clickTolerance:u.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),B.addEventListener(m,"mousedown",this.mousedown),B.addEventListener(m,"touchstart",this.touchstart,{passive:!1}),B.addEventListener(m,"touchmove",this.touchmove),B.addEventListener(m,"touchend",this.touchend),B.addEventListener(m,"touchcancel",this.reset)}down(u,m){this.mouseRotate.mousedown(u,m),this.mousePitch&&this.mousePitch.mousedown(u,m),B.disableDrag()}move(u,m){const _=this.map,E=this.mouseRotate.mousemoveWindow(u,m);if(E&&E.bearingDelta&&_.setBearing(_.getBearing()+E.bearingDelta),this.mousePitch){const K=this.mousePitch.mousemoveWindow(u,m);K&&K.pitchDelta&&_.setPitch(_.getPitch()+K.pitchDelta)}}off(){const u=this.element;B.removeEventListener(u,"mousedown",this.mousedown),B.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),B.removeEventListener(u,"touchmove",this.touchmove),B.removeEventListener(u,"touchend",this.touchend),B.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){B.enableDrag(),B.removeEventListener(window,"mousemove",this.mousemove),B.removeEventListener(window,"mouseup",this.mouseup)}mousedown(u){this.down(a.extend({},u,{ctrlKey:!0,preventDefault:()=>u.preventDefault()}),B.mousePos(this.element,u)),B.addEventListener(window,"mousemove",this.mousemove),B.addEventListener(window,"mouseup",this.mouseup)}mousemove(u){this.move(u,B.mousePos(this.element,u))}mouseup(u){this.mouseRotate.mouseupWindow(u),this.mousePitch&&this.mousePitch.mouseupWindow(u),this.offTemp()}touchstart(u){u.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=B.touchPos(this.element,u.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>u.preventDefault()},this._startPos))}touchmove(u){u.targetTouches.length!==1?this.reset():(this._lastPos=B.touchPos(this.element,u.targetTouches)[0],this.move({preventDefault:()=>u.preventDefault()},this._lastPos))}touchend(u){u.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Zo(M,u,m){if(M=new a.LngLat(M.lng,M.lat),u){const _=new a.LngLat(M.lng-360,M.lat),E=new a.LngLat(M.lng+360,M.lat),K=m.locationPoint(M).distSqr(u);m.locationPoint(_).distSqr(u)<K?M=_:m.locationPoint(E).distSqr(u)<K&&(M=E)}for(;Math.abs(M.lng-m.center.lng)>180;){const _=m.locationPoint(M);if(_.x>=0&&_.y>=0&&_.x<=m.width&&_.y<=m.height)break;M.lng>m.center.lng?M.lng-=360:M.lng+=360}return M}const mr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Br(M,u,m){const _=M.classList;for(const E in mr)_.remove(`maplibregl-${m}-anchor-${E}`,`mapboxgl-${m}-anchor-${E}`);_.add(`maplibregl-${m}-anchor-${u}`,`mapboxgl-${m}-anchor-${u}`)}class TA extends a.Evented{constructor(u,m){if(super(),(u instanceof HTMLElement||m)&&(u=a.extend({element:u},m)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,u&&u.element)this._element=u.element,this._offset=a.pointGeometry.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=B.create("div"),this._element.setAttribute("aria-label","Map marker");const _=B.createNS("http://www.w3.org/2000/svg","svg"),E=41,K=27;_.setAttributeNS(null,"display","block"),_.setAttributeNS(null,"height",`${E}px`),_.setAttributeNS(null,"width",`${K}px`),_.setAttributeNS(null,"viewBox",`0 0 ${K} ${E}`);const T=B.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"stroke","none"),T.setAttributeNS(null,"stroke-width","1"),T.setAttributeNS(null,"fill","none"),T.setAttributeNS(null,"fill-rule","evenodd");const $=B.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"fill-rule","nonzero");const H=B.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"transform","translate(3.0, 29.0)"),H.setAttributeNS(null,"fill","#000000");const te=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Mt of te){const Ye=B.createNS("http://www.w3.org/2000/svg","ellipse");Ye.setAttributeNS(null,"opacity","0.04"),Ye.setAttributeNS(null,"cx","10.5"),Ye.setAttributeNS(null,"cy","5.80029008"),Ye.setAttributeNS(null,"rx",Mt.rx),Ye.setAttributeNS(null,"ry",Mt.ry),H.appendChild(Ye)}const Ae=B.createNS("http://www.w3.org/2000/svg","g");Ae.setAttributeNS(null,"fill",this._color);const ye=B.createNS("http://www.w3.org/2000/svg","path");ye.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ae.appendChild(ye);const Me=B.createNS("http://www.w3.org/2000/svg","g");Me.setAttributeNS(null,"opacity","0.25"),Me.setAttributeNS(null,"fill","#000000");const We=B.createNS("http://www.w3.org/2000/svg","path");We.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Me.appendChild(We);const Fe=B.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Fe.setAttributeNS(null,"fill","#FFFFFF");const ze=B.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"transform","translate(8.0, 8.0)");const At=B.createNS("http://www.w3.org/2000/svg","circle");At.setAttributeNS(null,"fill","#000000"),At.setAttributeNS(null,"opacity","0.25"),At.setAttributeNS(null,"cx","5.5"),At.setAttributeNS(null,"cy","5.5"),At.setAttributeNS(null,"r","5.4999962");const yt=B.createNS("http://www.w3.org/2000/svg","circle");yt.setAttributeNS(null,"fill","#FFFFFF"),yt.setAttributeNS(null,"cx","5.5"),yt.setAttributeNS(null,"cy","5.5"),yt.setAttributeNS(null,"r","5.4999962"),ze.appendChild(At),ze.appendChild(yt),$.appendChild(H),$.appendChild(Ae),$.appendChild(Me),$.appendChild(Fe),$.appendChild(ze),_.appendChild($),_.setAttributeNS(null,"height",E*this._scale+"px"),_.setAttributeNS(null,"width",K*this._scale+"px"),this._element.appendChild(_),this._offset=a.pointGeometry.convert(u&&u.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",_=>{_.preventDefault()}),this._element.addEventListener("mousedown",_=>{_.preventDefault()}),Br(this._element,this._anchor,"marker"),this._popup=null}addTo(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),B.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=a.LngLat.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const E=Math.sqrt(Math.pow(13.5,2)/2);u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[E,-1*(38.1-13.5+E)],"bottom-right":[-E,-1*(38.1-13.5+E)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(u){const m=u.code,_=u.charCode||u.keyCode;m!=="Space"&&m!=="Enter"&&_!==32&&_!==13||this.togglePopup()}_onMapClick(u){const m=u.originalEvent.target,_=this._element;this._popup&&(m===_||_.contains(m))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const u=this._popup;return u?(u.isOpen()?u.remove():u.addTo(this._map),this):this}_update(u){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Zo(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let m="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?m=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(m=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let _="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_="rotateX(0deg)":this._pitchAlignment==="map"&&(_=`rotateX(${this._map.getPitch()}deg)`),u&&u.type!=="moveend"||(this._pos=this._pos.round()),B.setTransform(this._element,`${mr[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${_} ${m}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const E=this._map.unproject(this._pos),K=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=E.distanceTo(this._lngLat)>20*K?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(u){return this._offset=a.pointGeometry.convert(u),this._update(),this}_onMove(u){if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(u){this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const gc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let du,Do=0,cl=!1;const wa={maxWidth:100,unit:"metric"};function Du(M,u,m){const _=m&&m.maxWidth||100,E=M._container.clientHeight/2,K=M.unproject([0,E]),T=M.unproject([_,E]),$=K.distanceTo(T);if(m&&m.unit==="imperial"){const H=3.2808*$;H>5280?ys(u,_,H/5280,M._getUIString("ScaleControl.Miles")):ys(u,_,H,M._getUIString("ScaleControl.Feet"))}else m&&m.unit==="nautical"?ys(u,_,$/1852,M._getUIString("ScaleControl.NauticalMiles")):$>=1e3?ys(u,_,$/1e3,M._getUIString("ScaleControl.Kilometers")):ys(u,_,$,M._getUIString("ScaleControl.Meters"))}function ys(M,u,m,_){const E=function(K){const T=Math.pow(10,`${Math.floor(K)}`.length-1);let $=K/T;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:$>=1?1:function(H){const te=Math.pow(10,Math.ceil(-Math.log(H)/Math.LN10));return Math.round(H*te)/te}($),T*$}(m);M.style.width=u*(E/m)+"px",M.innerHTML=`${E}&nbsp;${_}`}const Wo={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},No=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function hh(M){if(M){if(typeof M=="number"){const u=Math.round(Math.sqrt(.5*Math.pow(M,2)));return{center:new a.pointGeometry(0,0),top:new a.pointGeometry(0,M),"top-left":new a.pointGeometry(u,u),"top-right":new a.pointGeometry(-u,u),bottom:new a.pointGeometry(0,-M),"bottom-left":new a.pointGeometry(u,-u),"bottom-right":new a.pointGeometry(-u,-u),left:new a.pointGeometry(M,0),right:new a.pointGeometry(-M,0)}}if(M instanceof a.pointGeometry||Array.isArray(M)){const u=a.pointGeometry.convert(M);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:a.pointGeometry.convert(M.center||[0,0]),top:a.pointGeometry.convert(M.top||[0,0]),"top-left":a.pointGeometry.convert(M["top-left"]||[0,0]),"top-right":a.pointGeometry.convert(M["top-right"]||[0,0]),bottom:a.pointGeometry.convert(M.bottom||[0,0]),"bottom-left":a.pointGeometry.convert(M["bottom-left"]||[0,0]),"bottom-right":a.pointGeometry.convert(M["bottom-right"]||[0,0]),left:a.pointGeometry.convert(M.left||[0,0]),right:a.pointGeometry.convert(M.right||[0,0])}}return hh(new a.pointGeometry(0,0))}const yc={supported:f,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends wo{constructor(M){var u;if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(M=a.extend({},dh,M)).minZoom!=null&&M.maxZoom!=null&&M.minZoom>M.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(M.minPitch!=null&&M.maxPitch!=null&&M.minPitch>M.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(M.minPitch!=null&&M.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(M.maxPitch!=null&&M.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Yc(M.minZoom,M.maxZoom,M.minPitch,M.maxPitch,M.renderWorldCopies),{bearingSnap:M.bearingSnap}),this._interactive=M.interactive,this._cooperativeGestures=M.cooperativeGestures,this._maxTileCacheSize=M.maxTileCacheSize,this._failIfMajorPerformanceCaveat=M.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=M.preserveDrawingBuffer,this._antialias=M.antialias,this._trackResize=M.trackResize,this._bearingSnap=M.bearingSnap,this._refreshExpiredTiles=M.refreshExpiredTiles,this._fadeDuration=M.fadeDuration,this._crossSourceCollisions=M.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=M.collectResourceTiming,this._renderTaskQueue=new vp,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},df,M.locale),this._clickTolerance=M.clickTolerance,this._pixelRatio=(u=M.pixelRatio)!==null&&u!==void 0?u:devicePixelRatio,this._requestManager=new D(M.transformRequest),typeof M.container=="string"){if(this._container=document.getElementById(M.container),!this._container)throw new Error(`Container '${M.container}' not found.`)}else{if(!(M.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=M.container}if(M.maxBounds&&this.setMaxBounds(M.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new mc(this,M),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=M.hash&&new cf(typeof M.hash=="string"&&M.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:M.center,zoom:M.zoom,bearing:M.bearing,pitch:M.pitch}),M.bounds&&(this.resize(),this.fitBounds(M.bounds,a.extend({},M.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=M.localIdeographFontFamily,M.style&&this.setStyle(M.style,{localIdeographFontFamily:M.localIdeographFontFamily}),M.attributionControl&&this.addControl(new cu({customAttribution:M.customAttribution})),M.maplibreLogo&&this.addControl(new Xc,M.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",m=>{this._update(m.dataType==="style"),this.fire(new a.Event(`${m.dataType}data`,m))}),this.on("dataloading",m=>{this.fire(new a.Event(`${m.dataType}dataloading`,m))}),this.on("dataabort",m=>{this.fire(new a.Event("sourcedataabort",m))})}_getMapId(){return this._mapId}addControl(M,u){if(u===void 0&&(u=M.getDefaultPosition?M.getDefaultPosition():"top-right"),!M||!M.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const m=M.onAdd(this);this._controls.push(M);const _=this._controlPositions[u];return u.indexOf("bottom")!==-1?_.insertBefore(m,_.firstChild):_.appendChild(m),this}removeControl(M){if(!M||!M.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(M);return u>-1&&this._controls.splice(u,1),M.onRemove(this),this}hasControl(M){return this._controls.indexOf(M)>-1}calculateCameraOptionsFromTo(M,u,m,_){return _==null&&this.style.terrain&&(_=this.transform.getElevation(m,this.style.terrain)),super.calculateCameraOptionsFromTo(M,u,m,_)}resize(M){const u=this._containerDimensions(),m=u[0],_=u[1];this._resizeCanvas(m,_,this.getPixelRatio()),this.transform.resize(m,_),this.painter.resize(m,_,this.getPixelRatio());const E=!this._moving;return E&&(this.stop(),this.fire(new a.Event("movestart",M)).fire(new a.Event("move",M))),this.fire(new a.Event("resize",M)),E&&this.fire(new a.Event("moveend",M)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(M){const[u,m]=this._containerDimensions();this._pixelRatio=M,this._resizeCanvas(u,m,M),this.painter.resize(u,m,M)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(M){return this.transform.setMaxBounds(a.LngLatBounds.convert(M)),this._update()}setMinZoom(M){if((M=M??-2)>=-2&&M<=this.transform.maxZoom)return this.transform.minZoom=M,this._update(),this.getZoom()<M&&this.setZoom(M),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(M){if((M=M??22)>=this.transform.minZoom)return this.transform.maxZoom=M,this._update(),this.getZoom()>M&&this.setZoom(M),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(M){if((M=M??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(M>=0&&M<=this.transform.maxPitch)return this.transform.minPitch=M,this._update(),this.getPitch()<M&&this.setPitch(M),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(M){if((M=M??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(M>=this.transform.minPitch)return this.transform.maxPitch=M,this._update(),this.getPitch()>M&&this.setPitch(M),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(M){return this.transform.renderWorldCopies=M,this._update()}project(M){return this.transform.locationPoint(a.LngLat.convert(M),this.style&&this.style.terrain)}unproject(M){return this.transform.pointLocation(a.pointGeometry.convert(M),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(M,u,m){if(M==="mouseenter"||M==="mouseover"){let _=!1;return{layer:u,listener:m,delegates:{mousemove:K=>{const T=this.getLayer(u)?this.queryRenderedFeatures(K.point,{layers:[u]}):[];T.length?_||(_=!0,m.call(this,new Vs(M,this,K.originalEvent,{features:T}))):_=!1},mouseout:()=>{_=!1}}}}if(M==="mouseleave"||M==="mouseout"){let _=!1;return{layer:u,listener:m,delegates:{mousemove:T=>{(this.getLayer(u)?this.queryRenderedFeatures(T.point,{layers:[u]}):[]).length?_=!0:_&&(_=!1,m.call(this,new Vs(M,this,T.originalEvent)))},mouseout:T=>{_&&(_=!1,m.call(this,new Vs(M,this,T.originalEvent)))}}}}{const _=E=>{const K=this.getLayer(u)?this.queryRenderedFeatures(E.point,{layers:[u]}):[];K.length&&(E.features=K,m.call(this,E),delete E.features)};return{layer:u,listener:m,delegates:{[M]:_}}}}on(M,u,m){if(m===void 0)return super.on(M,u);const _=this._createDelegatedListener(M,u,m);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[M]=this._delegatedListeners[M]||[],this._delegatedListeners[M].push(_);for(const E in _.delegates)this.on(E,_.delegates[E]);return this}once(M,u,m){if(m===void 0)return super.once(M,u);const _=this._createDelegatedListener(M,u,m);for(const E in _.delegates)this.once(E,_.delegates[E]);return this}off(M,u,m){return m===void 0?super.off(M,u):(this._delegatedListeners&&this._delegatedListeners[M]&&(_=>{const E=this._delegatedListeners[M];for(let K=0;K<E.length;K++){const T=E[K];if(T.layer===u&&T.listener===m){for(const $ in T.delegates)this.off($,T.delegates[$]);return E.splice(K,1),this}}})(),this)}queryRenderedFeatures(M,u){if(!this.style)return[];let m;if(u!==void 0||M===void 0||M instanceof a.pointGeometry||Array.isArray(M)||(u=M,M=void 0),u=u||{},(M=M||[[0,0],[this.transform.width,this.transform.height]])instanceof a.pointGeometry||typeof M[0]=="number")m=[a.pointGeometry.convert(M)];else{const _=a.pointGeometry.convert(M[0]),E=a.pointGeometry.convert(M[1]);m=[_,new a.pointGeometry(E.x,_.y),E,new a.pointGeometry(_.x,E.y),_]}return this.style.queryRenderedFeatures(m,u,this.transform)}querySourceFeatures(M,u){return this.style.querySourceFeatures(M,u)}setStyle(M,u){return(u=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&M?(this._diffStyle(M,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(M,u))}setTransformRequest(M){return this._requestManager.setTransformRequest(M),this}_getUIString(M){const u=this._locale[M];if(u==null)throw new Error(`Missing UI string '${M}'`);return u}_updateStyle(M,u){return this.style&&(this.style.setEventedParent(null),this.style._remove()),M?(this.style=new je(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof M=="string"?this.style.loadURL(M):this.style.loadJSON(M),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new je(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(M,u){if(typeof M=="string"){const m=this._requestManager.transformRequest(M,a.ResourceType.Style);a.getJSON(m,(_,E)=>{_?this.fire(new a.ErrorEvent(_)):E&&this._updateDiff(E,u)})}else typeof M=="object"&&this._updateDiff(M,u)}_updateDiff(M,u){try{this.style.setState(M)&&this._update(!0)}catch(m){a.warnOnce(`Unable to perform style diff: ${m.message||m.error||m}.  Rebuilding the style from scratch.`),this._updateStyle(M,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(M,u){return this._lazyInitEmptyStyle(),this.style.addSource(M,u),this._update(!0)}isSourceLoaded(M){const u=this.style&&this.style.sourceCaches[M];if(u!==void 0)return u.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${M}'`)))}setTerrain(M){return this.style.setTerrain(M),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const M=this.style&&this.style.sourceCaches;for(const u in M){const m=M[u]._tiles;for(const _ in m){const E=m[_];if(E.state!=="loaded"&&E.state!=="errored")return!1}}return!0}addSourceType(M,u,m){return this._lazyInitEmptyStyle(),this.style.addSourceType(M,u,m)}removeSource(M){return this.style.removeSource(M),this._update(!0)}getSource(M){return this.style.getSource(M)}addImage(M,u,{pixelRatio:m=1,sdf:_=!1,stretchX:E,stretchY:K,content:T}={}){if(this._lazyInitEmptyStyle(),u instanceof HTMLImageElement||a.isImageBitmap(u)){const{width:$,height:H,data:te}=a.exported.getImageData(u);this.style.addImage(M,{data:new a.RGBAImage({width:$,height:H},te),pixelRatio:m,stretchX:E,stretchY:K,content:T,sdf:_,version:0})}else{if(u.width===void 0||u.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:$,height:H,data:te}=u,Ae=u;this.style.addImage(M,{data:new a.RGBAImage({width:$,height:H},new Uint8Array(te)),pixelRatio:m,stretchX:E,stretchY:K,content:T,sdf:_,version:0,userImage:Ae}),Ae.onAdd&&Ae.onAdd(this,M)}}}updateImage(M,u){const m=this.style.getImage(M);if(!m)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=u instanceof HTMLImageElement||a.isImageBitmap(u)?a.exported.getImageData(u):u,{width:E,height:K,data:T}=_;if(E===void 0||K===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(E!==m.data.width||K!==m.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const $=!(u instanceof HTMLImageElement||a.isImageBitmap(u));m.data.replace(T,$),this.style.updateImage(M,m)}hasImage(M){return M?!!this.style.getImage(M):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(M){this.style.removeImage(M)}loadImage(M,u){a.getImage(this._requestManager.transformRequest(M,a.ResourceType.Image),u)}listImages(){return this.style.listImages()}addLayer(M,u){return this._lazyInitEmptyStyle(),this.style.addLayer(M,u),this._update(!0)}moveLayer(M,u){return this.style.moveLayer(M,u),this._update(!0)}removeLayer(M){return this.style.removeLayer(M),this._update(!0)}getLayer(M){return this.style.getLayer(M)}setLayerZoomRange(M,u,m){return this.style.setLayerZoomRange(M,u,m),this._update(!0)}setFilter(M,u,m={}){return this.style.setFilter(M,u,m),this._update(!0)}getFilter(M){return this.style.getFilter(M)}setPaintProperty(M,u,m,_={}){return this.style.setPaintProperty(M,u,m,_),this._update(!0)}getPaintProperty(M,u){return this.style.getPaintProperty(M,u)}setLayoutProperty(M,u,m,_={}){return this.style.setLayoutProperty(M,u,m,_),this._update(!0)}getLayoutProperty(M,u){return this.style.getLayoutProperty(M,u)}setLight(M,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(M,u),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(M,u){return this.style.setFeatureState(M,u),this._update()}removeFeatureState(M,u){return this.style.removeFeatureState(M,u),this._update()}getFeatureState(M){return this.style.getFeatureState(M)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let M=0,u=0;return this._container&&(M=this._container.clientWidth||400,u=this._container.clientHeight||300),[M,u]}_setupContainer(){const M=this._container;M.classList.add("maplibregl-map","mapboxgl-map");const u=this._canvasContainer=B.create("div","maplibregl-canvas-container mapboxgl-canvas-container",M);this._interactive&&u.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=B.create("canvas","maplibregl-canvas mapboxgl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const m=this._containerDimensions();this._resizeCanvas(m[0],m[1],this.getPixelRatio());const _=this._controlContainer=B.create("div","maplibregl-control-container mapboxgl-control-container",M),E=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(K=>{E[K]=B.create("div",`maplibregl-ctrl-${K} mapboxgl-ctrl-${K}`,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const M=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=B.create("div","maplibregl-cooperative-gesture-screen",M);let u="Control",m=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(m=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map",u="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${m}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",_=>{_.key===u&&(this._metaPress=!0)}),document.addEventListener("keyup",_=>{_.key===u&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",_=>{this._onCooperativeGesture(_,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(M,u,m){this._canvas.width=m*M,this._canvas.height=m*u,this._canvas.style.width=`${M}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const M=a.extend({},f.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),u=this._canvas.getContext("webgl",M)||this._canvas.getContext("experimental-webgl",M);u?(this.painter=new $c(u,this.transform),a.exported$1.testSupport(u)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(M){M.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:M}))}_contextRestored(M){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:M}))}_onMapScroll(M){if(M.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(M,u,m){return!u&&m<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(M){return this.style?(this._styleDirty=this._styleDirty||M,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(M){return this._update(),this._renderTaskQueue.add(M)}_cancelRenderFrame(M){this._renderTaskQueue.remove(M)}_render(M){let u,m=0;const _=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(u=_.createQueryEXT(),_.beginQueryEXT(_.TIME_ELAPSED_EXT,u),m=a.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(M),this._removed)return;let E=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const T=this.transform.zoom,$=a.exported.now();this.style.zoomHistory.update(T,$);const H=new a.EvaluationParameters(T,{now:$,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),te=H.crossFadingFactor();te===1&&te===this._crossFadingFactor||(E=!0,this._crossFadingFactor=te),this.style.update(H)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||E)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const T=a.exported.now()-m;_.endQueryEXT(_.TIME_ELAPSED_EXT,u),setTimeout(()=>{const $=_.getQueryObjectEXT(u,_.QUERY_RESULT_EXT)/1e6;_.deleteQueryEXT(u),this.fire(new a.Event("gpu-timing-frame",{cpuTime:T,gpuTime:$}))},50)}if(this.listens("gpu-timing-layer")){const T=this.painter.collectGpuTimers();setTimeout(()=>{const $=this.painter.queryGpuTimers(T);this.fire(new a.Event("gpu-timing-layer",{layerTimes:$}))},50)}const K=this._sourcesDirty||this._styleDirty||this._placementDirty;return K||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||K||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const M=this.painter.context.gl.getExtension("WEBGL_lose_context");M&&M.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),B.remove(this._canvasContainer),B.remove(this._controlContainer),this._cooperativeGestures&&B.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.exported.frame(M=>{a.PerformanceUtils.frame(M),this._frame=null,this._render(M)}))}_onWindowOnline(){this._update()}_onWindowResize(M){this._trackResize&&this.resize({originalEvent:M})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(M){this._showTileBoundaries!==M&&(this._showTileBoundaries=M,this._update())}get showPadding(){return!!this._showPadding}set showPadding(M){this._showPadding!==M&&(this._showPadding=M,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(M){this._showCollisionBoxes!==M&&(this._showCollisionBoxes=M,M?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(M){this._showOverdrawInspector!==M&&(this._showOverdrawInspector=M,this._update())}get repaint(){return!!this._repaint}set repaint(M){this._repaint!==M&&(this._repaint=M,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(M){this._vertices=M,this._update()}_setCacheLimits(M,u){a.setCacheLimits(M,u)}get version(){return"2.4.0"}},NavigationControl:class{constructor(M){this.options=a.extend({},hf,M),this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",u=>this._map.zoomIn({},{originalEvent:u})),B.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",u=>this._map.zoomOut({},{originalEvent:u})),B.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})}),this._compassIcon=B.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const M=this._map.getZoom(),u=M===this._map.getMaxZoom(),m=M===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const M=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=M}onAdd(M){return this._map=M,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new uo(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){B.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(M,u){const m=B.create("button",M,this._container);return m.type="button",m.addEventListener("click",u),m}_setButtonTitle(M,u){const m=this._map._getUIString(`NavigationControl.${u}`);M.title=m,M.setAttribute("aria-label",m)}},GeolocateControl:class extends a.Evented{constructor(M){super(),this.options=a.extend({},gc,M),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(M){var u;return this._map=M,this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),u=this._setupUI,du!==void 0?u(du):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(m=>{du=m.state!=="denied",u(du)}):(du=!!window.navigator.geolocation,u(du)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),B.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Do=0,cl=!1}_isOutOfMapMaxBounds(M){const u=this._map.getMaxBounds(),m=M.coords;return u&&(m.longitude<u.getWest()||m.longitude>u.getEast()||m.latitude<u.getSouth()||m.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(M){if(this._map){if(this._isOutOfMapMaxBounds(M))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",M)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=M,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(M),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(M),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",M)),this._finish()}}_updateCamera(M){const u=new a.LngLat(M.coords.longitude,M.coords.latitude),m=M.coords.accuracy,_=this._map.getBearing(),E=a.extend({bearing:_},this.options.fitBoundsOptions);this._map.fitBounds(u.toBounds(m),E,{geolocateSource:!0})}_updateMarker(M){if(M){const u=new a.LngLat(M.coords.longitude,M.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=M.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const M=this._map._container.clientHeight/2,u=this._map.unproject([0,M]),m=this._map.unproject([1,M]),_=u.distanceTo(m),E=Math.ceil(2*this._accuracy/_);this._circleElement.style.width=`${E}px`,this._circleElement.style.height=`${E}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(M){if(this._map){if(this.options.trackUserLocation)if(M.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(M.code===3&&cl)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",M)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(M){if(this._container.addEventListener("contextmenu",u=>u.preventDefault()),this._geolocateButton=B.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),B.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",M===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=B.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new TA(this._dotElement),this._circleElement=B.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new TA({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u.originalEvent&&u.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Do--,cl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let M;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Do++,Do>1?(M={maximumAge:6e5,timeout:0},cl=!0):(M=this.options.positionOptions,cl=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,M)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:cu,LogoControl:Xc,ScaleControl:class{constructor(M){this.options=a.extend({},wa,M),a.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Du(this._map,this._container,this.options)}onAdd(M){return this._map=M,this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",M.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){B.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(M){this.options.unit=M,Du(this._map,this._container,this.options)}},FullscreenControl:class{constructor(M){this._fullscreen=!1,M&&M.container&&(M.container instanceof HTMLElement?this._container=M.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(M){return this._map=M,this._container||(this._container=this._map.getContainer()),this._controlContainer=B.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){B.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const M=this._fullscreenButton=B.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);B.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",M).setAttribute("aria-hidden","true"),M.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const M=this._getTitle();this._fullscreenButton.setAttribute("aria-label",M),this._fullscreenButton.title=M}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(M){this.options=M,a.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(M){return this._map=M,this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=B.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),B.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){B.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends a.Evented{constructor(M){super(),this.options=a.extend(Object.create(Wo),M),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(M){return this._map&&this.remove(),this._map=M,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&B.remove(this._content),this._container&&(B.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(M){return this._lngLat=a.LngLat.convert(M),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(M){return this.setDOMContent(document.createTextNode(M))}setHTML(M){const u=document.createDocumentFragment(),m=document.createElement("body");let _;for(m.innerHTML=M;_=m.firstChild,_;)u.appendChild(_);return this.setDOMContent(u)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(M){return this.options.maxWidth=M,this._update(),this}setDOMContent(M){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=B.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(M),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(M){this._container&&this._container.classList.add(M)}removeClassName(M){this._container&&this._container.classList.remove(M)}setOffset(M){return this.options.offset=M,this._update(),this}toggleClassName(M){if(this._container)return this._container.classList.toggle(M)}_createCloseButton(){this.options.closeButton&&(this._closeButton=B.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(M){this._update(M.point)}_onMouseMove(M){this._update(M.point)}_onDrag(M){this._update(M.point)}_update(M){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=B.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=B.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(K=>this._container.classList.add(K)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Zo(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!M))return;const u=this._pos=this._trackPointer&&M?M:this._map.project(this._lngLat);let m=this.options.anchor;const _=hh(this.options.offset);if(!m){const K=this._container.offsetWidth,T=this._container.offsetHeight;let $;$=u.y+_.bottom.y<T?["top"]:u.y>this._map.transform.height-T?["bottom"]:[],u.x<K/2?$.push("left"):u.x>this._map.transform.width-K/2&&$.push("right"),m=$.length===0?"bottom":$.join("-")}const E=u.add(_[m]).round();B.setTransform(this._container,`${mr[m]} translate(${E.x}px,${E.y}px)`),Br(this._container,m,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const M=this._container.querySelector(No);M&&M.focus()}_onClose(){this.remove()}},Marker:TA,Style:je,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.pointGeometry,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,AJAXError:a.AJAXError,config:a.config,CanvasSource:qe,GeoJSONSource:Ft,ImageSource:St,RasterDEMTileSource:ft,RasterTileSource:Je,VectorTileSource:ke,VideoSource:Ne,prewarm:function(){Lt().acquire(Ve)},clearPrewarmedResources:function(){const M=Gt;M&&(M.isPreloaded()&&M.numActive()===1?(M.release(Ve),Gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return Ze.workerCount},set workerCount(M){Ze.workerCount=M},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(M){a.config.MAX_PARALLEL_IMAGE_REQUESTS=M},clearStorage(M){a.clearTileCache(M)},workerUrl:"",addProtocol(M,u){a.config.REGISTERED_PROTOCOLS[M]=u},removeProtocol(M){delete a.config.REGISTERED_PROTOCOLS[M]}};return Zs.extend(yc,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),yc});var s=i;return s})})(PL);var Jee=PL.exports;const AC=Qo(Jee);var lp={};function a6(t,n,e){var r={id:[n,e,"circle"].join("_"),source:n,type:"circle",paint:{"circle-color":t,"circle-radius":2},filter:["==","$type","Point"]};return e&&(r["source-layer"]=e),r}function s6(t,n,e,r){var i={id:[e,r,"polygon"].join("_"),source:e,type:"fill",paint:{"fill-color":t,"fill-antialias":!0,"fill-outline-color":t},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function l6(t,n,e){var r={id:[n,e,"line"].join("_"),source:n,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":t},filter:["==","$type","LineString"]};return e&&(r["source-layer"]=e),r}function ete(t,n){var e=[],r=[],i=[];function o(s){var a=n.bind(null,s),f={circle:a(.8),line:a(.6),polygon:a(.3),polygonOutline:a(.6),default:a(1)};return f}return Object.keys(t).forEach(function(s){var a=t[s];if(!a||a.length===0){var f=o(s);r.push(a6(f.circle,s)),i.push(l6(f.line,s)),e.push(s6(f.polygon,f.polygonOutline,s))}else a.forEach(function(g){var x=o(g);r.push(a6(x.circle,s,g)),i.push(l6(x.line,s,g)),e.push(s6(x.polygon,x.polygonOutline,s,g))})}),e.concat(i).concat(r)}function tte(t,n,e){e=Object.assign({backgroundColor:"#fff"},e);var r={id:"background",type:"background",paint:{"background-color":e.backgroundColor}},i={};return Object.keys(t.sources).forEach(function(o){var s=t.sources[o];(s.type==="vector"||s.type==="geojson")&&(i[o]=s)}),Object.assign(t,{layers:[r].concat(n),soources:i})}lp.polygonLayer=s6;lp.lineLayer=l6;lp.circleLayer=a6;lp.generateInspectStyle=tte;lp.generateColoredLayers=ete;function nte(t,n){var e=document.createElement("div");return e.className="mapboxgl-ctrl mapboxgl-ctrl-group",e.appendChild(t),n||(e.style.display="none"),e}function rte(){var t=document.createElement("button");return t.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect",t.type="button",t["aria-label"]="Inspect",t}function uB(t){t=Object.assign({show:!0,onToggle:function(){}},t),this._btn=rte(),this._btn.onclick=t.onToggle,this.elem=nte(this._btn,t.show)}uB.prototype.setInspectIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect"};uB.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"};var ite=uB,z2={exports:{}};z2.exports;(function(t,n){var e=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",f="[object Array]",g="[object AsyncFunction]",x="[object Boolean]",I="[object Date]",B="[object Error]",D="[object Function]",L="[object GeneratorFunction]",V="[object Map]",W="[object Number]",j="[object Null]",G="[object Object]",ee="[object Promise]",re="[object Proxy]",se="[object RegExp]",oe="[object Set]",ue="[object String]",me="[object Symbol]",De="[object Undefined]",Re="[object WeakMap]",et="[object ArrayBuffer]",ht="[object DataView]",ke="[object Float32Array]",Je="[object Float64Array]",ve="[object Int8Array]",ft="[object Int16Array]",Ft="[object Int32Array]",tn="[object Uint8Array]",St="[object Uint8ClampedArray]",Ne="[object Uint16Array]",qe="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,Jt=/^\[object .+?Constructor\]$/,dt=/^(?:0|[1-9]\d*)$/,ot={};ot[ke]=ot[Je]=ot[ve]=ot[ft]=ot[Ft]=ot[tn]=ot[St]=ot[Ne]=ot[qe]=!0,ot[a]=ot[f]=ot[et]=ot[x]=ot[ht]=ot[I]=ot[B]=ot[D]=ot[V]=ot[W]=ot[G]=ot[se]=ot[oe]=ot[ue]=ot[Re]=!1;var Et=typeof window=="object"&&window&&window.Object===Object&&window,Kt=typeof self=="object"&&self&&self.Object===Object&&self,xe=Et||Kt||Function("return this")(),ce=n&&!n.nodeType&&n,_e=ce&&!0&&t&&!t.nodeType&&t,Ke=_e&&_e.exports===ce,Ve=Ke&&Et.process,Ze=function(){try{return Ve&&Ve.binding&&Ve.binding("util")}catch{}}(),bt=Ze&&Ze.isTypedArray;function Gt(ne,Ie){for(var lt=-1,en=ne==null?0:ne.length,Vr=0,_r=[];++lt<en;){var Bi=ne[lt];Ie(Bi,lt,ne)&&(_r[Vr++]=Bi)}return _r}function Lt(ne,Ie){for(var lt=-1,en=Ie.length,Vr=ne.length;++lt<en;)ne[Vr+lt]=Ie[lt];return ne}function Un(ne,Ie){for(var lt=-1,en=ne==null?0:ne.length;++lt<en;)if(Ie(ne[lt],lt,ne))return!0;return!1}function rr(ne,Ie){for(var lt=-1,en=Array(ne);++lt<ne;)en[lt]=Ie(lt);return en}function qt(ne){return function(Ie){return ne(Ie)}}function $n(ne,Ie){return ne.has(Ie)}function lr(ne,Ie){return ne==null?void 0:ne[Ie]}function gr(ne){var Ie=-1,lt=Array(ne.size);return ne.forEach(function(en,Vr){lt[++Ie]=[Vr,en]}),lt}function Mr(ne,Ie){return function(lt){return ne(Ie(lt))}}function Dr(ne){var Ie=-1,lt=Array(ne.size);return ne.forEach(function(en){lt[++Ie]=en}),lt}var ur=Array.prototype,yi=Function.prototype,be=Object.prototype,z=xe["__core-js_shared__"],q=yi.toString,Oe=be.hasOwnProperty,st=function(){var ne=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),ct=be.toString,wt=RegExp("^"+q.call(Oe).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vn=Ke?xe.Buffer:void 0,qn=xe.Symbol,Qr=xe.Uint8Array,It=be.propertyIsEnumerable,p=ur.splice,Pt=qn?qn.toStringTag:void 0,yr=Object.getOwnPropertySymbols,Jn=Vn?Vn.isBuffer:void 0,un=Mr(Object.keys,Object),pr=xa(xe,"DataView"),Zr=xa(xe,"Map"),ki=xa(xe,"Promise"),Ai=xa(xe,"Set"),Fr=xa(xe,"WeakMap"),Wr=xa(Object,"create"),Zi=qa(pr),Wi=qa(Zr),da=qa(ki),zo=qa(Ai),os=qa(Fr),_a=qn?qn.prototype:void 0,Pe=_a?_a.valueOf:void 0;function ie(ne){var Ie=-1,lt=ne==null?0:ne.length;for(this.clear();++Ie<lt;){var en=ne[Ie];this.set(en[0],en[1])}}function he(){this.__data__=Wr?Wr(null):{},this.size=0}function Ee(ne){var Ie=this.has(ne)&&delete this.__data__[ne];return this.size-=Ie?1:0,Ie}function Te(ne){var Ie=this.__data__;if(Wr){var lt=Ie[ne];return lt===r?void 0:lt}return Oe.call(Ie,ne)?Ie[ne]:void 0}function Qe(ne){var Ie=this.__data__;return Wr?Ie[ne]!==void 0:Oe.call(Ie,ne)}function rt(ne,Ie){var lt=this.__data__;return this.size+=this.has(ne)?0:1,lt[ne]=Wr&&Ie===void 0?r:Ie,this}ie.prototype.clear=he,ie.prototype.delete=Ee,ie.prototype.get=Te,ie.prototype.has=Qe,ie.prototype.set=rt;function Xe(ne){var Ie=-1,lt=ne==null?0:ne.length;for(this.clear();++Ie<lt;){var en=ne[Ie];this.set(en[0],en[1])}}function Ge(){this.__data__=[],this.size=0}function ut(ne){var Ie=this.__data__,lt=Cn(Ie,ne);if(lt<0)return!1;var en=Ie.length-1;return lt==en?Ie.pop():p.call(Ie,lt,1),--this.size,!0}function Tt(ne){var Ie=this.__data__,lt=Cn(Ie,ne);return lt<0?void 0:Ie[lt][1]}function nn(ne){return Cn(this.__data__,ne)>-1}function Dt(ne,Ie){var lt=this.__data__,en=Cn(lt,ne);return en<0?(++this.size,lt.push([ne,Ie])):lt[en][1]=Ie,this}Xe.prototype.clear=Ge,Xe.prototype.delete=ut,Xe.prototype.get=Tt,Xe.prototype.has=nn,Xe.prototype.set=Dt;function wn(ne){var Ie=-1,lt=ne==null?0:ne.length;for(this.clear();++Ie<lt;){var en=ne[Ie];this.set(en[0],en[1])}}function Kn(){this.size=0,this.__data__={hash:new ie,map:new(Zr||Xe),string:new ie}}function xn(ne){var Ie=Ho(this,ne).delete(ne);return this.size-=Ie?1:0,Ie}function Zn(ne){return Ho(this,ne).get(ne)}function Cr(ne){return Ho(this,ne).has(ne)}function qr(ne,Ie){var lt=Ho(this,ne),en=lt.size;return lt.set(ne,Ie),this.size+=lt.size==en?0:1,this}wn.prototype.clear=Kn,wn.prototype.delete=xn,wn.prototype.get=Zn,wn.prototype.has=Cr,wn.prototype.set=qr;function In(ne){var Ie=-1,lt=ne==null?0:ne.length;for(this.__data__=new wn;++Ie<lt;)this.add(ne[Ie])}function dn(ne){return this.__data__.set(ne,r),this}function Lr(ne){return this.__data__.has(ne)}In.prototype.add=In.prototype.push=dn,In.prototype.has=Lr;function Xr(ne){var Ie=this.__data__=new Xe(ne);this.size=Ie.size}function Oi(){this.__data__=new Xe,this.size=0}function ge(ne){var Ie=this.__data__,lt=Ie.delete(ne);return this.size=Ie.size,lt}function je(ne){return this.__data__.get(ne)}function Yt(ne){return this.__data__.has(ne)}function hn(ne,Ie){var lt=this.__data__;if(lt instanceof Xe){var en=lt.__data__;if(!Zr||en.length<e-1)return en.push([ne,Ie]),this.size=++lt.size,this;lt=this.__data__=new wn(en)}return lt.set(ne,Ie),this.size=lt.size,this}Xr.prototype.clear=Oi,Xr.prototype.delete=ge,Xr.prototype.get=je,Xr.prototype.has=Yt,Xr.prototype.set=hn;function Ct(ne,Ie){var lt=Zu(ne),en=!lt&&Ou(ne),Vr=!lt&&!en&&zl(ne),_r=!lt&&!en&&!Vr&&SA(ne),Bi=lt||en||Vr||_r,Ti=Bi?rr(ne.length,String):[],Hr=Ti.length;for(var $i in ne)(Ie||Oe.call(ne,$i))&&!(Bi&&($i=="length"||Vr&&($i=="offset"||$i=="parent")||_r&&($i=="buffer"||$i=="byteLength"||$i=="byteOffset")||Su($i,Hr)))&&Ti.push($i);return Ti}function Cn(ne,Ie){for(var lt=ne.length;lt--;)if(Ts(ne[lt][0],Ie))return lt;return-1}function ti(ne,Ie,lt){var en=Ie(ne);return Zu(ne)?en:Lt(en,lt(ne))}function Ni(ne){return ne==null?ne===void 0?De:j:Pt&&Pt in Object(ne)?ks(ne):tc(ne)}function Xi(ne){return ai(ne)&&Ni(ne)==a}function ba(ne,Ie,lt,en,Vr){return ne===Ie?!0:ne==null||Ie==null||!ai(ne)&&!ai(Ie)?ne!==ne&&Ie!==Ie:Mu(ne,Ie,lt,en,ba,Vr)}function Mu(ne,Ie,lt,en,Vr,_r){var Bi=Zu(ne),Ti=Zu(Ie),Hr=Bi?f:$s(ne),$i=Ti?f:$s(Ie);Hr=Hr==a?G:Hr,$i=$i==a?G:$i;var Ko=Hr==G,Ta=$i==G,$o=Hr==$i;if($o&&zl(ne)){if(!zl(Ie))return!1;Bi=!0,Ko=!1}if($o&&!Ko)return _r||(_r=new Xr),Bi||SA(ne)?Gs(ne,Ie,lt,en,Vr,_r):Qs(ne,Ie,Hr,lt,en,Vr,_r);if(!(lt&i)){var vi=Ko&&Oe.call(ne,"__wrapped__"),ha=Ta&&Oe.call(Ie,"__wrapped__");if(vi||ha){var Va=vi?ne.value():ne,Ys=ha?Ie.value():Ie;return _r||(_r=new Xr),Vr(Va,Ys,lt,en,_r)}}return $o?(_r||(_r=new Xr),xl(ne,Ie,lt,en,Vr,_r)):!1}function kr(ne){if(!MA(ne)||po(ne))return!1;var Ie=Iu(ne)?wt:Jt;return Ie.test(qa(ne))}function Ns(ne){return ai(ne)&&Xu(ne.length)&&!!ot[Ni(ne)]}function bl(ne){if(!Eu(ne))return un(ne);var Ie=[];for(var lt in Object(ne))Oe.call(ne,lt)&&lt!="constructor"&&Ie.push(lt);return Ie}function Gs(ne,Ie,lt,en,Vr,_r){var Bi=lt&i,Ti=ne.length,Hr=Ie.length;if(Ti!=Hr&&!(Bi&&Hr>Ti))return!1;var $i=_r.get(ne);if($i&&_r.get(Ie))return $i==Ie;var Ko=-1,Ta=!0,$o=lt&o?new In:void 0;for(_r.set(ne,Ie),_r.set(Ie,ne);++Ko<Ti;){var vi=ne[Ko],ha=Ie[Ko];if(en)var Va=Bi?en(ha,vi,Ko,Ie,ne,_r):en(vi,ha,Ko,ne,Ie,_r);if(Va!==void 0){if(Va)continue;Ta=!1;break}if($o){if(!Un(Ie,function(Ys,jl){if(!$n($o,jl)&&(vi===Ys||Vr(vi,Ys,lt,en,_r)))return $o.push(jl)})){Ta=!1;break}}else if(!(vi===ha||Vr(vi,ha,lt,en,_r))){Ta=!1;break}}return _r.delete(ne),_r.delete(Ie),Ta}function Qs(ne,Ie,lt,en,Vr,_r,Bi){switch(lt){case ht:if(ne.byteLength!=Ie.byteLength||ne.byteOffset!=Ie.byteOffset)return!1;ne=ne.buffer,Ie=Ie.buffer;case et:return!(ne.byteLength!=Ie.byteLength||!_r(new Qr(ne),new Qr(Ie)));case x:case I:case W:return Ts(+ne,+Ie);case B:return ne.name==Ie.name&&ne.message==Ie.message;case se:case ue:return ne==Ie+"";case V:var Ti=gr;case oe:var Hr=en&i;if(Ti||(Ti=Dr),ne.size!=Ie.size&&!Hr)return!1;var $i=Bi.get(ne);if($i)return $i==Ie;en|=o,Bi.set(ne,Ie);var Ko=Gs(Ti(ne),Ti(Ie),en,Vr,_r,Bi);return Bi.delete(ne),Ko;case me:if(Pe)return Pe.call(ne)==Pe.call(Ie)}return!1}function xl(ne,Ie,lt,en,Vr,_r){var Bi=lt&i,Ti=Is(ne),Hr=Ti.length,$i=Is(Ie),Ko=$i.length;if(Hr!=Ko&&!Bi)return!1;for(var Ta=Hr;Ta--;){var $o=Ti[Ta];if(!(Bi?$o in Ie:Oe.call(Ie,$o)))return!1}var vi=_r.get(ne);if(vi&&_r.get(Ie))return vi==Ie;var ha=!0;_r.set(ne,Ie),_r.set(Ie,ne);for(var Va=Bi;++Ta<Hr;){$o=Ti[Ta];var Ys=ne[$o],jl=Ie[$o];if(en)var ku=Bi?en(jl,Ys,$o,Ie,ne,_r):en(Ys,jl,$o,ne,Ie,_r);if(!(ku===void 0?Ys===jl||Vr(Ys,jl,lt,en,_r):ku)){ha=!1;break}Va||(Va=$o=="constructor")}if(ha&&!Va){var ic=ne.constructor,Ka=Ie.constructor;ic!=Ka&&"constructor"in ne&&"constructor"in Ie&&!(typeof ic=="function"&&ic instanceof ic&&typeof Ka=="function"&&Ka instanceof Ka)&&(ha=!1)}return _r.delete(ne),_r.delete(Ie),ha}function Is(ne){return ti(ne,rc,wl)}function Ho(ne,Ie){var lt=ne.__data__;return uu(Ie)?lt[typeof Ie=="string"?"string":"hash"]:lt.map}function xa(ne,Ie){var lt=lr(ne,Ie);return kr(lt)?lt:void 0}function ks(ne){var Ie=Oe.call(ne,Pt),lt=ne[Pt];try{ne[Pt]=void 0;var en=!0}catch{}var Vr=ct.call(ne);return en&&(Ie?ne[Pt]=lt:delete ne[Pt]),Vr}var wl=yr?function(ne){return ne==null?[]:(ne=Object(ne),Gt(yr(ne),function(Ie){return It.call(ne,Ie)}))}:no,$s=Ni;(pr&&$s(new pr(new ArrayBuffer(1)))!=ht||Zr&&$s(new Zr)!=V||ki&&$s(ki.resolve())!=ee||Ai&&$s(new Ai)!=oe||Fr&&$s(new Fr)!=Re)&&($s=function(ne){var Ie=Ni(ne),lt=Ie==G?ne.constructor:void 0,en=lt?qa(lt):"";if(en)switch(en){case Zi:return ht;case Wi:return V;case da:return ee;case zo:return oe;case os:return Re}return Ie});function Su(ne,Ie){return Ie=Ie??s,!!Ie&&(typeof ne=="number"||dt.test(ne))&&ne>-1&&ne%1==0&&ne<Ie}function uu(ne){var Ie=typeof ne;return Ie=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?ne!=="__proto__":ne===null}function po(ne){return!!st&&st in ne}function Eu(ne){var Ie=ne&&ne.constructor,lt=typeof Ie=="function"&&Ie.prototype||be;return ne===lt}function tc(ne){return ct.call(ne)}function qa(ne){if(ne!=null){try{return q.call(ne)}catch{}try{return ne+""}catch{}}return""}function Ts(ne,Ie){return ne===Ie||ne!==ne&&Ie!==Ie}var Ou=Xi(function(){return arguments}())?Xi:function(ne){return ai(ne)&&Oe.call(ne,"callee")&&!It.call(ne,"callee")},Zu=Array.isArray;function Bu(ne){return ne!=null&&Xu(ne.length)&&!Iu(ne)}var zl=Jn||Ji;function nc(ne,Ie){return ba(ne,Ie)}function Iu(ne){if(!MA(ne))return!1;var Ie=Ni(ne);return Ie==D||Ie==L||Ie==g||Ie==re}function Xu(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=s}function MA(ne){var Ie=typeof ne;return ne!=null&&(Ie=="object"||Ie=="function")}function ai(ne){return ne!=null&&typeof ne=="object"}var SA=bt?qt(bt):Ns;function rc(ne){return Bu(ne)?Ct(ne):bl(ne)}function no(){return[]}function Ji(){return!1}t.exports=nc})(z2,z2.exports);var DL=z2.exports;const u6=Qo(DL);function ote(t){return typeof t>"u"||t===null?t:t instanceof Date?t.toLocaleString():typeof t=="object"||typeof t=="number"||typeof t=="string"?t.toString():t}function $9(t,n){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+t+'</div><div class="mapbox-gl-inspect_property-value">'+ote(n)+"</div></div>"}function ate(t){return'<div class="mapbox-gl-inspect_layer">'+t+"</div>"}function ste(t){var n=ate(t.layer["source-layer"]||t.layer.source),e=$9("$type",t.geometry.type),r=Object.keys(t.properties).map(function(i){return $9(i,t.properties[i])});return[n,e].concat(r).join("")}function lte(t){return t.map(function(n){return'<div class="mapbox-gl-inspect_feature">'+ste(n)+"</div>"}).join("")}function ute(t){return'<div class="mapbox-gl-inspect_popup">'+lte(t)+"</div>"}var Ate=ute,M4={},A6={exports:{}};(function(t,n){(function(e,r){{var i=r();t&&t.exports&&(n=t.exports=i),n.randomColor=i}})(tf,function(){var e=null,r={};W();var i=function(re){if(re=re||{},re.seed&&re.seed===parseInt(re.seed,10))e=re.seed;else if(typeof re.seed=="string")e=ee(re.seed);else{if(re.seed!==void 0&&re.seed!==null)throw new TypeError("The seed value must be an integer or string");e=null}var se,oe,ue;if(re.count!==null&&re.count!==void 0){var me=re.count,De=[];for(re.count=null;me>De.length;)e&&re.seed&&(re.seed+=1),De.push(i(re));return re.count=me,De}return se=o(re),oe=s(se,re),ue=a(se,oe,re),f([se,oe,ue],re)};function o(re){var se=x(re.hue),oe=D(se);return oe<0&&(oe=360+oe),oe}function s(re,se){if(se.luminosity==="random")return D([0,100]);if(se.hue==="monochrome")return 0;var oe=I(re),ue=oe[0],me=oe[1];switch(se.luminosity){case"bright":ue=55;break;case"dark":ue=me-10;break;case"light":me=55;break}return D([ue,me])}function a(re,se,oe){var ue=g(re,se),me=100;switch(oe.luminosity){case"dark":me=ue+20;break;case"light":ue=(me+ue)/2;break;case"random":ue=0,me=100;break}return D([ue,me])}function f(re,se){switch(se.format){case"hsvArray":return re;case"hslArray":return G(re);case"hsl":var oe=G(re);return"hsl("+oe[0]+", "+oe[1]+"%, "+oe[2]+"%)";case"hsla":var ue=G(re);return"hsla("+ue[0]+", "+ue[1]+"%, "+ue[2]+"%, "+Math.random()+")";case"rgbArray":return j(re);case"rgb":var me=j(re);return"rgb("+me.join(", ")+")";case"rgba":var De=j(re);return"rgba("+De.join(", ")+", "+Math.random()+")";default:return L(re)}}function g(re,se){for(var oe=B(re).lowerBounds,ue=0;ue<oe.length-1;ue++){var me=oe[ue][0],De=oe[ue][1],Re=oe[ue+1][0],et=oe[ue+1][1];if(se>=me&&se<=Re){var ht=(et-De)/(Re-me),ke=De-ht*me;return ht*se+ke}}return 0}function x(re){if(typeof parseInt(re)=="number"){var se=parseInt(re);if(se<360&&se>0)return[se,se]}if(typeof re=="string"&&r[re]){var oe=r[re];if(oe.hueRange)return oe.hueRange}return[0,360]}function I(re){return B(re).saturationRange}function B(re){re>=334&&re<=360&&(re-=360);for(var se in r){var oe=r[se];if(oe.hueRange&&re>=oe.hueRange[0]&&re<=oe.hueRange[1])return r[se]}return"Color not found"}function D(re){if(e===null)return Math.floor(re[0]+Math.random()*(re[1]+1-re[0]));var se=re[1]||1,oe=re[0]||0;e=(e*9301+49297)%233280;var ue=e/233280;return Math.floor(oe+ue*(se-oe))}function L(re){var se=j(re);function oe(me){var De=me.toString(16);return De.length==1?"0"+De:De}var ue="#"+oe(se[0])+oe(se[1])+oe(se[2]);return ue}function V(re,se,oe){var ue=oe[0][0],me=oe[oe.length-1][0],De=oe[oe.length-1][1],Re=oe[0][1];r[re]={hueRange:se,lowerBounds:oe,saturationRange:[ue,me],brightnessRange:[De,Re]}}function W(){V("monochrome",null,[[0,0],[100,0]]),V("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),V("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),V("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),V("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),V("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),V("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),V("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function j(re){var se=re[0];se===0&&(se=1),se===360&&(se=359),se=se/360;var oe=re[1]/100,ue=re[2]/100,me=Math.floor(se*6),De=se*6-me,Re=ue*(1-oe),et=ue*(1-De*oe),ht=ue*(1-(1-De)*oe),ke=256,Je=256,ve=256;switch(me){case 0:ke=ue,Je=ht,ve=Re;break;case 1:ke=et,Je=ue,ve=Re;break;case 2:ke=Re,Je=ue,ve=ht;break;case 3:ke=Re,Je=et,ve=ue;break;case 4:ke=ht,Je=Re,ve=ue;break;case 5:ke=ue,Je=Re,ve=et;break}var ft=[Math.floor(ke*255),Math.floor(Je*255),Math.floor(ve*255)];return ft}function G(re){var se=re[0],oe=re[1]/100,ue=re[2]/100,me=(2-oe)*ue;return[se,Math.round(oe*ue/(me<1?me:2-me)*1e4)/100,me/2*100]}function ee(re){for(var se=0,oe=0;oe!==re.length&&!(se>=Number.MAX_SAFE_INTEGER);oe++)se+=re.charCodeAt(oe);return se}return i})})(A6,A6.exports);var cte=A6.exports,dte=cte;function hte(t,n){var e="bright",r=null;/water|ocean|lake|sea|river/.test(t)&&(r="blue"),/state|country|place/.test(t)&&(r="pink"),/road|highway|transport/.test(t)&&(r="orange"),/contour|building/.test(t)&&(r="monochrome"),/building/.test(t)&&(e="dark"),/contour|landuse/.test(t)&&(r="yellow"),/wood|forest|park|landcover/.test(t)&&(r="green");var i=dte({luminosity:e,hue:r,seed:t,format:"rgbArray"}),o=i.concat([n||1]);return"rgba("+o.join(", ")+")"}M4.brightColor=hte;var FL=lp,fte=ite,pte=DL,mte=Ate,gte=M4;function yte(t){return t.metadata&&t.metadata["mapbox-gl-inspect:inspect"]}function vte(t){return Object.assign(t,{metadata:Object.assign({},t.metadata,{"mapbox-gl-inspect:inspect":!0})})}function Cte(t){return(t.type==="raster"||t.type==="raster-dem")&&t.tileSize&&t.tiles?{type:t.type,tileSize:t.tileSize,tiles:t.tiles}:(t.type==="raster"||t.type==="raster-dem")&&t.url?{type:t.type,url:t.url}:t}function Y9(t){return Object.keys(t.sources).forEach(function(n){t.sources[n]=Cte(t.sources[n])}),t}function _te(t){var n=t.version.split(".").map(parseFloat);n[0]<1&&n[1]<29&&console.error("MapboxInspect only supports Mapbox GL JS >= v0.29.0. Please upgrade your Mapbox GL JS version.")}function of(t){if(!(this instanceof of))throw new Error("MapboxInspect needs to be called with the new keyword");var n=null;window.mapboxgl?(_te(window.mapboxgl),n=new window.mapboxgl.Popup({closeButton:!1,closeOnClick:!1})):t.popup||console.error("Mapbox GL JS can not be found. Make sure to include it or pass an initialized MapboxGL Popup to MapboxInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:gte.brightColor,buildInspectStyle:FL.generateInspectStyle,renderPopup:mte,popup:n,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{}},t),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this.toggleInspector=this.toggleInspector.bind(this),this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._onSourceChange=this._onSourceChange.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onStyleChange=this._onStyleChange.bind(this),this._originalStyle=null,this._toggle=new fte({show:this.options.showInspectButton,onToggle:this.toggleInspector.bind(this)})}of.prototype.toggleInspector=function(){this._showInspectMap=!this._showInspectMap,this.render()};of.prototype._inspectStyle=function(){var t=FL.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),t,{backgroundColor:this.options.backgroundColor})};of.prototype.render=function(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(Y9(vte(this._inspectStyle()))),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(Y9(this._originalStyle)),this._toggle.setInspectIcon())};of.prototype._onSourceChange=function(){var t=this.sources,n=this._map,e=n.getStyle(),r=Object.keys(e.sources),i=Object.assign({},t);Object.keys(n.style.sourceCaches).forEach(function(o){var s=n.style.sourceCaches[o]||{_source:{}},a=s._source.vectorLayerIds;a?t[o]=a:s._source.type==="geojson"&&(t[o]=[])}),Object.keys(t).forEach(function(o){r.indexOf(o)===-1&&delete t[o]}),!pte(i,t)&&Object.keys(t).length>0&&this.render()};of.prototype._onStyleChange=function(){var t=this._map.getStyle();yte(t)||(this._originalStyle=t)};of.prototype._onMousemove=function(t){var n;this.options.selectThreshold===0?n=t.point:n=[[t.point.x-this.options.selectThreshold,t.point.y+this.options.selectThreshold],[t.point.x+this.options.selectThreshold,t.point.y-this.options.selectThreshold]];var e=this._map.queryRenderedFeatures(n,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=e.length?"pointer":"",this._showInspectMap){if(!this.options.showInspectMapPopup||t.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;t.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||t.type==="mousemove"&&!this.options.showMapPopupOnHover)return;t.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup)if(!e.length)this._popup.remove();else{this._popup.setLngLat(t.lngLat);var r=typeof this.options.renderPopup(e);r==="string"?this._popup.setHTML(this.options.renderPopup(e)):this._popup.setDOMContent(this.options.renderPopup(e)),this._popup.addTo(this._map)}};of.prototype.onAdd=function(t){return this._map=t,Object.keys(this.sources).length===0&&(t.on("tiledata",this._onSourceChange),t.on("sourcedata",this._onSourceChange)),t.on("styledata",this._onStyleChange),t.on("load",this._onStyleChange),t.on("mousemove",this._onMousemove),t.on("click",this._onMousemove),this._toggle.elem};of.prototype.onRemove=function(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove);var t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0};var bte=of,xte=bte,wte=xte;const Mte=Qo(wte);var LL={exports:{}},Ste="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ete=Ste,Ote=Ete;function RL(){}function zL(){}zL.resetWarningCache=RL;var Bte=function(){function t(r,i,o,s,a,f){if(f!==Ote){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}t.isRequired=t;function n(){return t}var e={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:zL,resetWarningCache:RL};return e.PropTypes=e,e};LL.exports=Bte();var oh=LL.exports;const Kr=Qo(oh);var q9=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function Ite(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var Um=function(n,e){var r=n.children,i=n.color,o=n.size,s=n.style,a=n.width,f=n.height,g=Ite(n,["children","color","size","style","width","height"]),x=e.reactIconBase,I=x===void 0?{}:x,B=o||I.size||"1em";return gn.createElement("svg",q9({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:f||B,width:a||B},I,g,{style:q9({verticalAlign:"middle",color:i||I.color},I.style||{},s)}))};Um.propTypes={color:Kr.string,size:Kr.oneOfType([Kr.string,Kr.number]),width:Kr.oneOfType([Kr.string,Kr.number]),height:Kr.oneOfType([Kr.string,Kr.number]),style:Kr.object};Um.contextTypes={reactIconBase:Kr.shape(Um.propTypes)};function j2(){var t="/workspaces/maputnik/src/components/IconLine.tsx",n="cabd5271cf8544fdcd3bfde665814b870aed12c7",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cabd5271cf8544fdcd3bfde665814b870aed12c7"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return j2=function(){return s},s}j2();class kte extends gn.Component{render(){return j2().f[0]++,j2().s[0]++,N.jsx(Um,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function W2(){var t="/workspaces/maputnik/src/components/IconFill.tsx",n="3f1462b09d2fa8c4ac06984297be1f95ca6e6873",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3f1462b09d2fa8c4ac06984297be1f95ca6e6873"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return W2=function(){return s},s}W2();class $b extends gn.Component{render(){return W2().f[0]++,W2().s[0]++,N.jsx(Um,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function N2(){var t="/workspaces/maputnik/src/components/IconSymbol.tsx",n="20c43c3c83c771b7606a00e6c723aa133aeb0a18",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"20c43c3c83c771b7606a00e6c723aa133aeb0a18"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return N2=function(){return s},s}N2();class Tte extends gn.Component{render(){return N2().f[0]++,N2().s[0]++,N.jsx(Um,{viewBox:"0 0 20 20",...this.props,children:N.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:N.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function G2(){var t="/workspaces/maputnik/src/components/IconBackground.tsx",n="13b69ec7abc4d22b04c5a67dbffdbfa8eb945545",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13b69ec7abc4d22b04c5a67dbffdbfa8eb945545"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return G2=function(){return s},s}G2();class V9 extends gn.Component{render(){return G2().f[0]++,G2().s[0]++,N.jsx(Um,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function Q2(){var t="/workspaces/maputnik/src/components/IconCircle.tsx",n="6feebc6b612ad30fc717ca366336d3b19209ec9c",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6feebc6b612ad30fc717ca366336d3b19209ec9c"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Q2=function(){return s},s}Q2();class Kte extends gn.Component{render(){return Q2().f[0]++,Q2().s[0]++,N.jsx(Um,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function Pte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}}]})(t)}function Ey(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(t)}function Ute(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"}}]})(t)}function Dte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}}]})(t)}function Fte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(t)}function Lte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(t)}function Rte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4H5a2 2 0 00-2 2v12a2 2 0 002 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 00-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"}}]})(t)}function zte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(t)}function jte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 001 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}}]})(t)}function Wte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}}]})(t)}function jL(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(t)}function Nte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}}]})(t)}function Gte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}}]})(t)}function Qte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"}}]})(t)}function $te(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}}]})(t)}function c6(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}}]})(t)}function Yte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}}]})(t)}function qte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}}]})(t)}function Vte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5z"}}]})(t)}function Hte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5z"}}]})(t)}function Zte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(t)}function Xte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(t)}function Jte(t){return Bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"}},{tag:"path",attr:{d:"M10 3h4v12h-4z"}}]})(t)}function $2(){var t="/workspaces/maputnik/src/components/IconMissing.tsx",n="9a1080d9941359328040eb9b3780654146f22ea8",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9a1080d9941359328040eb9b3780654146f22ea8"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return $2=function(){return s},s}$2();class ene extends gn.Component{render(){return $2().f[0]++,$2().s[0]++,N.jsx(Jte,{...this.props})}}function Xa(){var t="/workspaces/maputnik/src/components/IconLayer.tsx",n="b60e231a14f68825f67b847b6b03e92b752b98e9",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b60e231a14f68825f67b847b6b03e92b752b98e9"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Xa=function(){return s},s}Xa();class WL extends gn.Component{render(){Xa().f[0]++;const n=(Xa().s[0]++,{style:this.props.style});switch(Xa().s[1]++,this.props.type){case"fill-extrusion":return Xa().b[0][0]++,Xa().s[2]++,N.jsx(V9,{...n});case"raster":return Xa().b[0][1]++,Xa().s[3]++,N.jsx($b,{...n});case"hillshade":return Xa().b[0][2]++,Xa().s[4]++,N.jsx($b,{...n});case"heatmap":return Xa().b[0][3]++,Xa().s[5]++,N.jsx($b,{...n});case"fill":return Xa().b[0][4]++,Xa().s[6]++,N.jsx($b,{...n});case"background":return Xa().b[0][5]++,Xa().s[7]++,N.jsx(V9,{...n});case"line":return Xa().b[0][6]++,Xa().s[8]++,N.jsx(kte,{...n});case"symbol":return Xa().b[0][7]++,Xa().s[9]++,N.jsx(Tte,{...n});case"circle":return Xa().b[0][8]++,Xa().s[10]++,N.jsx(Kte,{...n});default:return Xa().b[0][9]++,Xa().s[11]++,N.jsx(ene,{...n})}}}function sr(){var t="/workspaces/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",n="4fe793bcf692a181cf06ab97aa9d8f841954ceff",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:17,column:5}},3:{start:{line:8,column:4},end:{line:16,column:5}},4:{start:{line:9,column:6},end:{line:9,column:43}},5:{start:{line:10,column:28},end:{line:10,column:111}},6:{start:{line:10,column:79},end:{line:10,column:110}},7:{start:{line:11,column:6},end:{line:11,column:65}},8:{start:{line:13,column:6},end:{line:13,column:92}},9:{start:{line:14,column:6},end:{line:14,column:59}},10:{start:{line:15,column:6},end:{line:15,column:45}},11:{start:{line:18,column:2},end:{line:18,column:17}},12:{start:{line:22,column:4},end:{line:24,column:5}},13:{start:{line:23,column:6},end:{line:23,column:13}},14:{start:{line:25,column:4},end:{line:46,column:5}},15:{start:{line:26,column:25},end:{line:26,column:44}},16:{start:{line:28,column:6},end:{line:36,column:7}},17:{start:{line:29,column:8},end:{line:29,column:32}},18:{start:{line:30,column:13},end:{line:36,column:7}},19:{start:{line:31,column:8},end:{line:31,column:32}},20:{start:{line:32,column:13},end:{line:36,column:7}},21:{start:{line:33,column:8},end:{line:33,column:32}},22:{start:{line:34,column:13},end:{line:36,column:7}},23:{start:{line:35,column:8},end:{line:35,column:42}},24:{start:{line:37,column:6},end:{line:42,column:7}},25:{start:{line:38,column:22},end:{line:38,column:51}},26:{start:{line:39,column:8},end:{line:39,column:29}},27:{start:{line:41,column:8},end:{line:41,column:23}},28:{start:{line:44,column:6},end:{line:44,column:63}},29:{start:{line:45,column:6},end:{line:45,column:21}},30:{start:{line:49,column:20},end:{line:49,column:67}},31:{start:{line:50,column:18},end:{line:95,column:6}},32:{start:{line:51,column:21},end:{line:90,column:8}},33:{start:{line:52,column:29},end:{line:52,column:76}},34:{start:{line:53,column:8},end:{line:89,column:10}},35:{start:{line:70,column:20},end:{line:70,column:63}},36:{start:{line:91,column:6},end:{line:94,column:26}},37:{start:{line:96,column:4},end:{line:96,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:19,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:17,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:72},end:{line:10,column:73}},loc:{start:{line:10,column:79},end:{line:10,column:110}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:35},end:{line:47,column:3}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:11},end:{line:97,column:3}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:50,column:43},end:{line:50,column:44}},loc:{start:{line:50,column:62},end:{line:95,column:5}},line:50},6:{name:"(anonymous_6)",decl:{start:{line:51,column:48},end:{line:51,column:49}},loc:{start:{line:51,column:66},end:{line:90,column:7}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:69,column:27},end:{line:69,column:28}},loc:{start:{line:69,column:33},end:{line:71,column:19}},line:69}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:16,column:5}},{start:{line:12,column:11},end:{line:16,column:5}}],line:8},1:{loc:{start:{line:13,column:47},end:{line:13,column:91}},type:"binary-expr",locations:[{start:{line:13,column:47},end:{line:13,column:85}},{start:{line:13,column:89},end:{line:13,column:91}}],line:13},2:{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:28,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:36,column:7}},{start:{line:30,column:13},end:{line:36,column:7}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:100}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:72}},{start:{line:28,column:76},end:{line:28,column:100}}],line:28},5:{loc:{start:{line:30,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:30,column:13},end:{line:36,column:7}},{start:{line:32,column:13},end:{line:36,column:7}}],line:30},6:{loc:{start:{line:30,column:17},end:{line:30,column:107}},type:"binary-expr",locations:[{start:{line:30,column:17},end:{line:30,column:79}},{start:{line:30,column:83},end:{line:30,column:107}}],line:30},7:{loc:{start:{line:32,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:32,column:13},end:{line:36,column:7}},{start:{line:34,column:13},end:{line:36,column:7}}],line:32},8:{loc:{start:{line:32,column:17},end:{line:32,column:107}},type:"binary-expr",locations:[{start:{line:32,column:17},end:{line:32,column:79}},{start:{line:32,column:83},end:{line:32,column:107}}],line:32},9:{loc:{start:{line:34,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:13},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},10:{loc:{start:{line:34,column:17},end:{line:34,column:127}},type:"binary-expr",locations:[{start:{line:34,column:17},end:{line:34,column:89}},{start:{line:34,column:93},end:{line:34,column:127}}],line:34},11:{loc:{start:{line:37,column:6},end:{line:42,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:42,column:7}},{start:{line:40,column:13},end:{line:42,column:7}}],line:37},12:{loc:{start:{line:73,column:20},end:{line:77,column:24}},type:"binary-expr",locations:[{start:{line:73,column:20},end:{line:73,column:38}},{start:{line:73,column:58},end:{line:77,column:24}}],line:73},13:{loc:{start:{line:79,column:20},end:{line:82,column:24}},type:"binary-expr",locations:[{start:{line:79,column:20},end:{line:79,column:35}},{start:{line:79,column:55},end:{line:82,column:24}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AAqFU,cAkBsB,YAlBtB;AArFV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,QAAQ,MAAM,cAAc,CAAC,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAExH,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,QAAQ,MAAM,cAAc,CAAC,IAAI,QAAQ,QAAQ,MAAM,cAAc,CAAC,KAAK,CAAC;AACpF,cAAQ,QAAQ,MAAM,cAAc,CAAC,EAAE,KAAK,OAAO;AAEnD,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AACjC,UAAI;AAEJ,UAAG,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AAC7F,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AACnG,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AACnG,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,sBAAsB,KAAK,WAAW,sBAAsB,GAAG;AACvH,mBAAW;AAAA,MACb;AAEA,UAAG,UAAU;AACX,cAAM,QAAQ,QAAQ,MAAM,MAAM,QAAQ;AAC1C,eAAO,OAAO,KAAK;AAAA,MACrB,OACK;AAEH,eAAO;AAAA,MACT;AAAA,IACF,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4fe793bcf692a181cf06ab97aa9d8f841954ceff"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return sr=function(){return s},s}sr();function tne(t){sr().f[0]++;const n=(sr().s[0]++,{}),e=(sr().s[1]++,{});return sr().s[2]++,t.forEach(r=>{if(sr().f[1]++,sr().s[3]++,Object.prototype.hasOwnProperty.call(e,r.layer.id)){sr().b[0][0]++,sr().s[4]++,e[r.layer.id]++;const i=(sr().s[5]++,n[r.layer["source-layer"]].find(o=>(sr().f[2]++,sr().s[6]++,o.layer.id===r.layer.id)));sr().s[7]++,i.counter=e[r.layer.id]}else sr().b[0][1]++,sr().s[8]++,n[r.layer["source-layer"]]=(sr().b[1][0]++,n[r.layer["source-layer"]]||(sr().b[1][1]++,[])),sr().s[9]++,n[r.layer["source-layer"]].push(r),sr().s[10]++,e[r.layer.id]=1}),sr().s[11]++,n}class NL extends gn.Component{_getFeatureColor(n,e){if(sr().f[3]++,sr().s[12]++,n.layer.paint)sr().b[2][1]++;else{sr().b[2][0]++,sr().s[13]++;return}sr().s[14]++;try{const r=(sr().s[15]++,n.layer.paint);let i;if(sr().s[16]++,sr().b[4][0]++,Object.prototype.hasOwnProperty.call(r,"text-color")&&(sr().b[4][1]++,r["text-color"])?(sr().b[3][0]++,sr().s[17]++,i="text-color"):(sr().b[3][1]++,sr().s[18]++,sr().b[6][0]++,Object.prototype.hasOwnProperty.call(r,"fill-color")&&(sr().b[6][1]++,r["fill-color"])?(sr().b[5][0]++,sr().s[19]++,i="fill-color"):(sr().b[5][1]++,sr().s[20]++,sr().b[8][0]++,Object.prototype.hasOwnProperty.call(r,"line-color")&&(sr().b[8][1]++,r["line-color"])?(sr().b[7][0]++,sr().s[21]++,i="line-color"):(sr().b[7][1]++,sr().s[22]++,sr().b[10][0]++,Object.prototype.hasOwnProperty.call(r,"fill-extrusion-color")&&(sr().b[10][1]++,r["fill-extrusion-color"])?(sr().b[9][0]++,sr().s[23]++,i="fill-extrusion-color"):sr().b[9][1]++))),sr().s[24]++,i){sr().b[11][0]++;const o=(sr().s[25]++,n.layer.paint[i]);return sr().s[26]++,String(o)}else return sr().b[11][1]++,sr().s[27]++,"black"}catch(r){return sr().s[28]++,console.warn("Unable to get feature color, error:",r),sr().s[29]++,"black"}}render(){sr().f[4]++;const n=(sr().s[30]++,tne(this.props.features)),e=(sr().s[31]++,Object.keys(n).map(r=>{sr().f[5]++;const i=(sr().s[32]++,n[r].map((o,s)=>{sr().f[6]++;const a=(sr().s[33]++,this._getFeatureColor(o,this.props.zoom));return sr().s[34]++,N.jsxs("div",{className:"maputnik-popup-layer",children:[N.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:a}}),N.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{sr().f[7]++,sr().s[35]++,this.props.onLayerSelect(o.layer.id)},children:[(sr().b[12][0]++,o.layer.type&&(sr().b[12][1]++,N.jsx(WL,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(sr().b[13][0]++,o.counter&&(sr().b[13][1]++,N.jsxs("span",{children:["  ",o.counter]})))]})]},s)}));return sr().s[36]++,N.jsxs("div",{children:[N.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return sr().s[37]++,N.jsx("div",{className:"maputnik-feature-layer-popup",children:e})}}var GL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function e(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)n.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(e.default=e,t.exports=e):window.classNames=e})()})(GL);var nne=GL.exports;const rh=Qo(nne);function Eo(){var t="/workspaces/maputnik/src/components/FieldDocLabel.tsx",n="89749e6fe8dec3638a238a9c9150dc85148cf19f",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89749e6fe8dec3638a238a9c9150dc85148cf19f"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Eo=function(){return s},s}Eo();class AB extends gn.Component{constructor(e){Eo().f[0]++,Eo().s[0]++;super(e);rn(this,"onToggleDoc",(Eo().s[2]++,e=>{Eo().f[1]++,Eo().s[3]++,this.setState({open:e},()=>{Eo().f[2]++,Eo().s[4]++,this.props.onToggleDoc?(Eo().b[0][0]++,Eo().s[5]++,this.props.onToggleDoc(this.state.open)):Eo().b[0][1]++})}));Eo().s[1]++,this.state={open:!1}}render(){Eo().f[3]++;const{label:e,fieldSpec:r}=(Eo().s[6]++,this.props),{doc:i}=(Eo().s[7]++,Eo().b[1][0]++,r||(Eo().b[1][1]++,{}));if(Eo().s[8]++,i)return Eo().b[2][0]++,Eo().s[9]++,N.jsx("label",{className:"maputnik-doc-wrapper",children:N.jsxs("div",{className:"maputnik-doc-target",children:[e,"",N.jsx("button",{"aria-label":this.state.open?(Eo().b[3][0]++,"close property documentation"):(Eo().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(Eo().b[4][0]++,"open"):(Eo().b[4][1]++,"closed")}`,onClick:()=>(Eo().f[4]++,Eo().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+e,children:this.state.open?(Eo().b[5][0]++,N.jsx(Fte,{})):(Eo().b[5][1]++,N.jsx(Lte,{}))})]})});if(Eo().b[2][1]++,Eo().s[11]++,e)return Eo().b[6][0]++,Eo().s[12]++,N.jsx("label",{className:"maputnik-doc-wrapper",children:N.jsx("div",{className:"maputnik-doc-target",children:e})});Eo().b[6][1]++,Eo().s[13]++}}function la(){var t="/workspaces/maputnik/src/components/Doc.tsx",n="de215e2e514293f3dd7639dd05c966b9fe37d40b",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:28},end:{line:12,column:37}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:47,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAsCM,mBAGM,KAKQ,YARd;AAtCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAgBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,OAAM,IAAI;AACtB,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"de215e2e514293f3dd7639dd05c966b9fe37d40b"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return la=function(){return s},s}la();const H9=(la().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class cB extends gn.Component{render(){la().f[0]++;const{fieldSpec:n}=(la().s[1]++,this.props),{doc:e,values:r}=(la().s[2]++,n),i=(la().s[3]++,n["sdk-support"]),o=(la().s[4]++,la().b[0][0]++,!!r&&(la().b[0][1]++,!Array.isArray(r)));return la().s[5]++,N.jsxs(N.Fragment,{children:[(la().b[1][0]++,e&&(la().b[1][1]++,N.jsxs("div",{className:"SpecDoc",children:[N.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:e}),(la().b[2][0]++,o&&(la().b[2][1]++,N.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([s,a])=>(la().f[1]++,la().s[6]++,N.jsxs("li",{children:[N.jsx("code",{children:JSON.stringify(s)}),N.jsx("div",{children:a.doc})]},s)))})))]}))),(la().b[3][0]++,i&&(la().b[3][1]++,N.jsx("div",{className:"SpecDoc__sdk-support",children:N.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{}),Object.values(H9).map(s=>(la().f[2]++,la().s[7]++,N.jsx("th",{children:s},s)))]})}),N.jsx("tbody",{children:Object.entries(i).map(([s,a])=>(la().f[3]++,la().s[8]++,N.jsxs("tr",{children:[N.jsx("td",{children:s}),Object.keys(H9).map(f=>(la().f[4]++,la().s[9]++,Object.prototype.hasOwnProperty.call(a,f)?(la().b[4][0]++,la().s[10]++,N.jsx("td",{children:a[f]},f)):(la().b[4][1]++,la().s[11]++,N.jsx("td",{children:"no"},f))))]},s)))})]})})))]})}}function io(){var t="/workspaces/maputnik/src/components/Block.tsx",n="63eab57696e9744c7b8ed4fad241c3333d6770fa",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:38,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:37,column:27}},14:{start:{line:40,column:4},end:{line:73,column:6}},15:{start:{line:62,column:95},end:{line:62,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:38,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:11},end:{line:74,column:3}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:62,column:87},end:{line:62,column:88}},loc:{start:{line:62,column:95},end:{line:62,column:113}},line:62}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:52,column:10},end:{line:59,column:14}},type:"binary-expr",locations:[{start:{line:52,column:10},end:{line:52,column:30}},{start:{line:52,column:50},end:{line:59,column:14}}],line:52},5:{loc:{start:{line:60,column:10},end:{line:60,column:134}},type:"binary-expr",locations:[{start:{line:60,column:10},end:{line:60,column:31}},{start:{line:60,column:51},end:{line:60,column:134}}],line:60},6:{loc:{start:{line:63,column:10},end:{line:70,column:11}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:30}},{start:{line:63,column:50},end:{line:70,column:11}}],line:63},7:{loc:{start:{line:67,column:32},end:{line:67,column:64}},type:"cond-expr",locations:[{start:{line:67,column:53},end:{line:67,column:55}},{start:{line:67,column:58},end:{line:67,column:64}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/Block.tsx"],names:[],mappings:"AA8DW,SAWD,KAXC;AA9DX,OAAO,WAA6B;AACpC,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,UAAM,eAAe;AAAA,EACvB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"63eab57696e9744c7b8ed4fad241c3333d6770fa"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return io=function(){return s},s}io();class To extends gn.Component{constructor(e){io().f[0]++,io().s[1]++;super(e);rn(this,"_blockEl",(io().s[0]++,null));rn(this,"onToggleDoc",(io().s[6]++,e=>{io().f[2]++,io().s[7]++,this.setState({showDoc:e})}));rn(this,"onLabelClick",(io().s[8]++,e=>{var o;io().f[3]++;const r=(io().s[9]++,e.nativeEvent.target),i=(io().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));io().s[11]++,io().b[3][0]++,e.nativeEvent.target.nodeName!=="INPUT"&&(io().b[3][1]++,!i)?(io().b[2][0]++,io().s[12]++,e.stopPropagation()):io().b[2][1]++,io().s[13]++,e.preventDefault()}));io().s[2]++,this.state={showDoc:!1}}onChange(e){io().f[1]++;const r=(io().s[3]++,e.target.value);if(io().s[4]++,this.props.onChange)return io().b[0][0]++,io().s[5]++,this.props.onChange(r===""?(io().b[1][0]++,void 0):(io().b[1][1]++,r));io().b[0][1]++}render(){return io().f[4]++,io().s[14]++,N.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:rh({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(io().b[4][0]++,this.props.fieldSpec&&(io().b[4][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:N.jsx(AB,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(io().b[5][0]++,!this.props.fieldSpec&&(io().b[5][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),N.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),N.jsx("div",{className:"maputnik-input-block-content",ref:e=>(io().f[5]++,io().s[15]++,this._blockEl=e),children:this.props.children}),(io().b[6][0]++,this.props.fieldSpec&&(io().b[6][1]++,N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(io().b[7][0]++,""):(io().b[7][1]++,"none")},children:N.jsx(cB,{fieldSpec:this.props.fieldSpec})})))]})}}function Jr(){var t="/workspaces/maputnik/src/components/InputString.tsx",n="2105cd1ae27b9b94ef527f229fba663c5a7d553d",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:72,column:7}},14:{start:{line:51,column:8},end:{line:57,column:11}},15:{start:{line:55,column:10},end:{line:56,column:49}},16:{start:{line:56,column:12},end:{line:56,column:49}},17:{start:{line:60,column:8},end:{line:64,column:9}},18:{start:{line:61,column:10},end:{line:61,column:44}},19:{start:{line:62,column:10},end:{line:63,column:50}},20:{start:{line:63,column:12},end:{line:63,column:50}},21:{start:{line:67,column:8},end:{line:69,column:9}},22:{start:{line:68,column:10},end:{line:68,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:73,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:58,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:57,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:14},end:{line:59,column:15}},loc:{start:{line:59,column:20},end:{line:65,column:7}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:66,column:17},end:{line:66,column:18}},loc:{start:{line:66,column:24},end:{line:70,column:7}},line:66}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:56,column:49}},type:"if",locations:[{start:{line:55,column:10},end:{line:56,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:60,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:64,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:62,column:10},end:{line:63,column:50}},type:"if",locations:[{start:{line:62,column:10},end:{line:63,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},10:{loc:{start:{line:67,column:12},end:{line:67,column:51}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:28}},{start:{line:67,column:32},end:{line:67,column:51}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM;AAAS,iBAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM;AAAU,iBAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2105cd1ae27b9b94ef527f229fba663c5a7d553d"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Jr=function(){return s},s}Jr();class Sd extends gn.Component{constructor(n){Jr().f[1]++,Jr().s[1]++,super(n),Jr().s[2]++,this.state={editing:!1,value:(Jr().b[0][0]++,n.value||(Jr().b[0][1]++,""))}}static getDerivedStateFromProps(n,e){if(Jr().f[2]++,Jr().s[3]++,e.editing)Jr().b[1][1]++;else return Jr().b[1][0]++,Jr().s[4]++,{value:n.value};return Jr().s[5]++,{}}render(){Jr().f[3]++;let n,e;return Jr().s[6]++,this.props.multi?(Jr().b[2][0]++,Jr().s[7]++,n="textarea",Jr().s[8]++,e=["maputnik-string","maputnik-string--multi"]):(Jr().b[2][1]++,Jr().s[9]++,n="input",Jr().s[10]++,e=["maputnik-string"]),Jr().s[11]++,this.props.disabled?(Jr().b[3][0]++,Jr().s[12]++,e.push("maputnik-string--disabled")):Jr().b[3][1]++,Jr().s[13]++,gn.createElement(n,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(Jr().b[4][0]++,this.props.spellCheck):(Jr().b[4][1]++,n!=="input"),disabled:this.props.disabled,className:e.join(" "),style:this.props.style,value:this.state.value===void 0?(Jr().b[5][0]++,""):(Jr().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{Jr().f[4]++,Jr().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{Jr().f[5]++,Jr().s[15]++,this.props.onInput?(Jr().b[6][0]++,Jr().s[16]++,this.props.onInput(this.state.value)):Jr().b[6][1]++})},onBlur:()=>{Jr().f[6]++,Jr().s[17]++,this.state.value!==this.props.value?(Jr().b[7][0]++,Jr().s[18]++,this.setState({editing:!1}),Jr().s[19]++,this.props.onChange?(Jr().b[8][0]++,Jr().s[20]++,this.props.onChange(this.state.value)):Jr().b[8][1]++):Jr().b[7][1]++},onKeyDown:r=>{Jr().f[7]++,Jr().s[21]++,Jr().b[10][0]++,r.keyCode===13&&(Jr().b[10][1]++,this.props.onChange)?(Jr().b[9][0]++,Jr().s[22]++,this.props.onChange(this.state.value)):Jr().b[9][1]++},required:this.props.required})}}rn(Sd,"defaultProps",(Jr().s[0]++,{onInput:()=>{Jr().f[0]++}}));function Y2(){var t="/workspaces/maputnik/src/components/FieldString.tsx",n="1b80fc9d7e689f39cb2bde41ea7daff5f92f8cbc",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b80fc9d7e689f39cb2bde41ea7daff5f92f8cbc"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Y2=function(){return s},s}Y2();class Nh extends gn.Component{render(){return Y2().f[0]++,Y2().s[0]++,N.jsx(To,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(Sd,{...this.props})})}}function ri(){var t="/workspaces/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",n="3b24a031022d9c4f15157948651f84cc62cf41ad",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:7,column:17}},1:{start:{line:7,column:4},end:{line:7,column:17}},2:{start:{line:8,column:2},end:{line:9,column:34}},3:{start:{line:9,column:4},end:{line:9,column:34}},4:{start:{line:10,column:2},end:{line:11,column:28}},5:{start:{line:11,column:4},end:{line:11,column:28}},6:{start:{line:12,column:2},end:{line:12,column:15}},7:{start:{line:15,column:2},end:{line:18,column:5}},8:{start:{line:16,column:21},end:{line:16,column:53}},9:{start:{line:17,column:4},end:{line:17,column:199}},10:{start:{line:21,column:2},end:{line:21,column:199}},11:{start:{line:24,column:2},end:{line:37,column:40}},12:{start:{line:40,column:25},end:{line:40,column:27}},13:{start:{line:41,column:2},end:{line:54,column:5}},14:{start:{line:42,column:25},end:{line:44,column:6}},15:{start:{line:43,column:6},end:{line:43,column:156}},16:{start:{line:45,column:4},end:{line:53,column:5}},17:{start:{line:46,column:6},end:{line:46,column:35}},18:{start:{line:48,column:6},end:{line:52,column:7}},19:{start:{line:49,column:8},end:{line:49,column:58}},20:{start:{line:51,column:8},end:{line:51,column:60}},21:{start:{line:55,column:2},end:{line:55,column:24}},22:{start:{line:59,column:21},end:{line:59,column:66}},23:{start:{line:60,column:4},end:{line:60,column:127}}},fnMap:{0:{name:"displayValue",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:29},end:{line:13,column:1}},line:5},1:{name:"renderProperties",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:35},end:{line:19,column:1}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:45},end:{line:15,column:46}},loc:{start:{line:15,column:63},end:{line:18,column:3}},line:15},3:{name:"renderFeatureId",decl:{start:{line:20,column:9},end:{line:20,column:24}},loc:{start:{line:20,column:34},end:{line:22,column:1}},line:20},4:{name:"renderFeature",decl:{start:{line:23,column:9},end:{line:23,column:22}},loc:{start:{line:23,column:37},end:{line:38,column:1}},line:23},5:{name:"removeDuplicatedFeatures",decl:{start:{line:39,column:9},end:{line:39,column:33}},loc:{start:{line:39,column:44},end:{line:56,column:1}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:41,column:19},end:{line:41,column:20}},loc:{start:{line:41,column:32},end:{line:54,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:42,column:50},end:{line:42,column:51}},loc:{start:{line:42,column:64},end:{line:44,column:5}},line:42},8:{name:"(anonymous_8)",decl:{start:{line:58,column:2},end:{line:58,column:3}},loc:{start:{line:58,column:11},end:{line:61,column:3}},line:58}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:7,column:17}},type:"if",locations:[{start:{line:6,column:2},end:{line:7,column:17}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:6},end:{line:6,column:52}},type:"binary-expr",locations:[{start:{line:6,column:6},end:{line:6,column:34}},{start:{line:6,column:38},end:{line:6,column:52}}],line:6},2:{loc:{start:{line:8,column:2},end:{line:9,column:34}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},3:{loc:{start:{line:10,column:2},end:{line:11,column:28}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:28}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},4:{loc:{start:{line:10,column:6},end:{line:10,column:89}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:31}},{start:{line:10,column:35},end:{line:10,column:60}},{start:{line:10,column:64},end:{line:10,column:89}}],line:10},5:{loc:{start:{line:29,column:6},end:{line:32,column:10}},type:"binary-expr",locations:[{start:{line:29,column:6},end:{line:29,column:32}},{start:{line:29,column:52},end:{line:32,column:10}}],line:29},6:{loc:{start:{line:43,column:13},end:{line:43,column:155}},type:"binary-expr",locations:[{start:{line:43,column:13},end:{line:43,column:77}},{start:{line:43,column:81},end:{line:43,column:155}}],line:43},7:{loc:{start:{line:45,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:53,column:5}},{start:{line:47,column:11},end:{line:53,column:5}}],line:45},8:{loc:{start:{line:48,column:6},end:{line:52,column:7}},type:"if",locations:[{start:{line:48,column:6},end:{line:52,column:7}},{start:{line:50,column:13},end:{line:52,column:7}}],line:48}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AA2BM,cAagI,YAbhI;AA3BN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAYxB,SAAS,aAAa,OAAwC;AAC5D,MAAI,OAAO,UAAU,eAAe,UAAU;AAAM,WAAO;AAC3D,MAAI,iBAAiB;AAAM,WAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU;AAAU,WAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,iBAAiB,SAAyB;AACjD,SAAO,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACzD,UAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,WAAO,oBAAC,SAAyB,OAAO,cACtC,8BAAC,eAAY,OAAO,aAAa,QAAQ,GAAG,OAAO,EAAC,iBAAiB,cAAa,GAAE,KADnE,YAEnB;AAAA,EACF,CAAC;AACH;AAEA,SAAS,gBAAgB,SAAyB;AAChD,SAAO,oBAAC,SAAyB,OAAO,cACtC,8BAAC,eAAY,OAAO,aAAa,QAAQ,EAAE,GAAG,OAAO,EAAC,iBAAiB,cAAa,GAAG,KADtE,YAEnB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,SACN;AAAA,yBAAC,SAAI,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ;AAAA,IAC/K,oBAAC,SAA4B,OAAO,SAClC,8BAAC,eAAY,OAAO,QAAQ,SAAS,MAAM,OAAO,EAAC,iBAAiB,cAAa,GAAG,KAD1E,eAEZ;AAAA,IACC,gBAAgB,OAAO;AAAA,IACvB,iBAAiB,OAAO;AAAA,OANV,GAAG,QAAQ,WAAW,IAAI,GAAG,EAO9C;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACnB,mBAAS,IAAI,aAAa,GAC7B;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3b24a031022d9c4f15157948651f84cc62cf41ad"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return ri=function(){return s},s}ri();function QL(t){return ri().f[0]++,ri().s[0]++,ri().b[1][0]++,typeof t>"u"||(ri().b[1][1]++,t===null)?(ri().b[0][0]++,ri().s[1]++,t):(ri().b[0][1]++,ri().s[2]++,t instanceof Date?(ri().b[2][0]++,ri().s[3]++,t.toLocaleString()):(ri().b[2][1]++,ri().s[4]++,ri().b[4][0]++,typeof t=="object"||(ri().b[4][1]++,typeof t=="number")||(ri().b[4][2]++,typeof t=="string")?(ri().b[3][0]++,ri().s[5]++,t.toString()):(ri().b[3][1]++,ri().s[6]++,t)))}function rne(t){return ri().f[1]++,ri().s[7]++,Object.keys(t.properties).map(n=>{ri().f[2]++;const e=(ri().s[8]++,t.properties[n]);return ri().s[9]++,N.jsx(To,{label:n,children:N.jsx(Nh,{value:QL(e),style:{backgroundColor:"transparent"}})},n)})}function ine(t){return ri().f[3]++,ri().s[10]++,N.jsx(To,{label:"feature_id",children:N.jsx(Nh,{value:QL(t.id),style:{backgroundColor:"transparent"}})},"feature-id")}function one(t,n){return ri().f[4]++,ri().s[11]++,N.jsxs("div",{children:[N.jsxs("div",{className:"maputnik-popup-layer-id",children:[t.layer.source,": ",t.layer["source-layer"],(ri().b[5][0]++,t.inspectModeCounter&&(ri().b[5][1]++,N.jsxs("span",{children:["  ",t.inspectModeCounter]})))]}),N.jsx(To,{label:"$type",children:N.jsx(Nh,{value:t.geometry.type,style:{backgroundColor:"transparent"}})},"property-type"),ine(t),rne(t)]},`${t.sourceLayer}-${n}`)}function ane(t){ri().f[5]++;const n=(ri().s[12]++,[]);return ri().s[13]++,t.forEach(e=>{ri().f[6]++;const r=(ri().s[14]++,n.findIndex(i=>(ri().f[7]++,ri().s[15]++,ri().b[6][0]++,e.layer["source-layer"]===i.layer["source-layer"]&&(ri().b[6][1]++,JSON.stringify(e.properties)===JSON.stringify(i.properties)))));ri().s[16]++,r===-1?(ri().b[7][0]++,ri().s[17]++,n.push(e)):(ri().b[7][1]++,ri().s[18]++,"inspectModeCounter"in n[r]?(ri().b[8][0]++,ri().s[19]++,n[r].inspectModeCounter++):(ri().b[8][1]++,ri().s[20]++,n[r].inspectModeCounter=2))}),ri().s[21]++,n}class sne extends gn.Component{render(){ri().f[8]++;const n=(ri().s[22]++,ane(this.props.features));return ri().s[23]++,N.jsx("div",{className:"maputnik-feature-property-popup",children:n.map(one)})}}var $L={exports:{}},lne={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},YL={exports:{}},une=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")},Ane=une,cne=Array.prototype.concat,dne=Array.prototype.slice,Z9=YL.exports=function(n){for(var e=[],r=0,i=n.length;r<i;r++){var o=n[r];Ane(o)?e=cne.call(e,dne.call(o)):e.push(o)}return e};Z9.wrap=function(t){return function(){return t(Z9(arguments))}};var hne=YL.exports,cC=lne,x_=hne,qL=Object.hasOwnProperty,VL=Object.create(null);for(var Dw in cC)qL.call(cC,Dw)&&(VL[cC[Dw]]=Dw);var Kc=$L.exports={to:{},get:{}};Kc.get=function(t){var n=t.substring(0,3).toLowerCase(),e,r;switch(n){case"hsl":e=Kc.get.hsl(t),r="hsl";break;case"hwb":e=Kc.get.hwb(t),r="hwb";break;default:e=Kc.get.rgb(t),r="rgb";break}return e?{model:r,value:e}:null};Kc.get.rgb=function(t){if(!t)return null;var n=/^#([a-f0-9]{3,4})$/i,e=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,f,g;if(a=t.match(e)){for(g=a[2],a=a[1],f=0;f<3;f++){var x=f*2;s[f]=parseInt(a.slice(x,x+2),16)}g&&(s[3]=parseInt(g,16)/255)}else if(a=t.match(n)){for(a=a[1],g=a[3],f=0;f<3;f++)s[f]=parseInt(a[f]+a[f],16);g&&(s[3]=parseInt(g+g,16)/255)}else if(a=t.match(r)){for(f=0;f<3;f++)s[f]=parseInt(a[f+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(f=0;f<3;f++)s[f]=Math.round(parseFloat(a[f+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:qL.call(cC,a[1])?(s=cC[a[1]],s[3]=1,s):null:null;for(f=0;f<3;f++)s[f]=Sm(s[f],0,255);return s[3]=Sm(s[3],0,1),s};Kc.get.hsl=function(t){if(!t)return null;var n=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=t.match(n);if(e){var r=parseFloat(e[4]),i=(parseFloat(e[1])%360+360)%360,o=Sm(parseFloat(e[2]),0,100),s=Sm(parseFloat(e[3]),0,100),a=Sm(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};Kc.get.hwb=function(t){if(!t)return null;var n=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=t.match(n);if(e){var r=parseFloat(e[4]),i=(parseFloat(e[1])%360+360)%360,o=Sm(parseFloat(e[2]),0,100),s=Sm(parseFloat(e[3]),0,100),a=Sm(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};Kc.to.hex=function(){var t=x_(arguments);return"#"+Yb(t[0])+Yb(t[1])+Yb(t[2])+(t[3]<1?Yb(Math.round(t[3]*255)):"")};Kc.to.rgb=function(){var t=x_(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Kc.to.rgb.percent=function(){var t=x_(arguments),n=Math.round(t[0]/255*100),e=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+n+"%, "+e+"%, "+r+"%)":"rgba("+n+"%, "+e+"%, "+r+"%, "+t[3]+")"};Kc.to.hsl=function(){var t=x_(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Kc.to.hwb=function(){var t=x_(arguments),n="";return t.length>=4&&t[3]!==1&&(n=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+n+")"};Kc.to.keyword=function(t){return VL[t.slice(0,3)]};function Sm(t,n,e){return Math.min(Math.max(n,t),e)}function Yb(t){var n=Math.round(t).toString(16).toUpperCase();return n.length<2?"0"+n:n}var fne=$L.exports,pne={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const LC=pne,HL={};for(const t of Object.keys(LC))HL[LC[t]]=t;const jr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var ZL=jr;for(const t of Object.keys(jr)){if(!("channels"in jr[t]))throw new Error("missing channels property: "+t);if(!("labels"in jr[t]))throw new Error("missing channel labels property: "+t);if(jr[t].labels.length!==jr[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:n,labels:e}=jr[t];delete jr[t].channels,delete jr[t].labels,Object.defineProperty(jr[t],"channels",{value:n}),Object.defineProperty(jr[t],"labels",{value:e})}jr.rgb.hsl=function(t){const n=t[0]/255,e=t[1]/255,r=t[2]/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=o-i;let a,f;o===i?a=0:n===o?a=(e-r)/s:e===o?a=2+(r-n)/s:r===o&&(a=4+(n-e)/s),a=Math.min(a*60,360),a<0&&(a+=360);const g=(i+o)/2;return o===i?f=0:g<=.5?f=s/(o+i):f=s/(2-o-i),[a,f*100,g*100]};jr.rgb.hsv=function(t){let n,e,r,i,o;const s=t[0]/255,a=t[1]/255,f=t[2]/255,g=Math.max(s,a,f),x=g-Math.min(s,a,f),I=function(B){return(g-B)/6/x+1/2};return x===0?(i=0,o=0):(o=x/g,n=I(s),e=I(a),r=I(f),s===g?i=r-e:a===g?i=1/3+n-r:f===g&&(i=2/3+e-n),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,g*100]};jr.rgb.hwb=function(t){const n=t[0],e=t[1];let r=t[2];const i=jr.rgb.hsl(t)[0],o=1/255*Math.min(n,Math.min(e,r));return r=1-1/255*Math.max(n,Math.max(e,r)),[i,o*100,r*100]};jr.rgb.cmyk=function(t){const n=t[0]/255,e=t[1]/255,r=t[2]/255,i=Math.min(1-n,1-e,1-r),o=(1-n-i)/(1-i)||0,s=(1-e-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function mne(t,n){return(t[0]-n[0])**2+(t[1]-n[1])**2+(t[2]-n[2])**2}jr.rgb.keyword=function(t){const n=HL[t];if(n)return n;let e=1/0,r;for(const i of Object.keys(LC)){const o=LC[i],s=mne(t,o);s<e&&(e=s,r=i)}return r};jr.keyword.rgb=function(t){return LC[t]};jr.rgb.xyz=function(t){let n=t[0]/255,e=t[1]/255,r=t[2]/255;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=n*.4124+e*.3576+r*.1805,o=n*.2126+e*.7152+r*.0722,s=n*.0193+e*.1192+r*.9505;return[i*100,o*100,s*100]};jr.rgb.lab=function(t){const n=jr.rgb.xyz(t);let e=n[0],r=n[1],i=n[2];e/=95.047,r/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,s=500*(e-r),a=200*(r-i);return[o,s,a]};jr.hsl.rgb=function(t){const n=t[0]/360,e=t[1]/100,r=t[2]/100;let i,o,s;if(e===0)return s=r*255,[s,s,s];r<.5?i=r*(1+e):i=r+e-r*e;const a=2*r-i,f=[0,0,0];for(let g=0;g<3;g++)o=n+1/3*-(g-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,f[g]=s*255;return f};jr.hsl.hsv=function(t){const n=t[0];let e=t[1]/100,r=t[2]/100,i=e;const o=Math.max(r,.01);r*=2,e*=r<=1?r:2-r,i*=o<=1?o:2-o;const s=(r+e)/2,a=r===0?2*i/(o+i):2*e/(r+e);return[n,a*100,s*100]};jr.hsv.rgb=function(t){const n=t[0]/60,e=t[1]/100;let r=t[2]/100;const i=Math.floor(n)%6,o=n-Math.floor(n),s=255*r*(1-e),a=255*r*(1-e*o),f=255*r*(1-e*(1-o));switch(r*=255,i){case 0:return[r,f,s];case 1:return[a,r,s];case 2:return[s,r,f];case 3:return[s,a,r];case 4:return[f,s,r];case 5:return[r,s,a]}};jr.hsv.hsl=function(t){const n=t[0],e=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let o,s;s=(2-e)*r;const a=(2-e)*i;return o=e*i,o/=a<=1?a:2-a,o=o||0,s/=2,[n,o*100,s*100]};jr.hwb.rgb=function(t){const n=t[0]/360;let e=t[1]/100,r=t[2]/100;const i=e+r;let o;i>1&&(e/=i,r/=i);const s=Math.floor(6*n),a=1-r;o=6*n-s,s&1&&(o=1-o);const f=e+o*(a-e);let g,x,I;switch(s){default:case 6:case 0:g=a,x=f,I=e;break;case 1:g=f,x=a,I=e;break;case 2:g=e,x=a,I=f;break;case 3:g=e,x=f,I=a;break;case 4:g=f,x=e,I=a;break;case 5:g=a,x=e,I=f;break}return[g*255,x*255,I*255]};jr.cmyk.rgb=function(t){const n=t[0]/100,e=t[1]/100,r=t[2]/100,i=t[3]/100,o=1-Math.min(1,n*(1-i)+i),s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[o*255,s*255,a*255]};jr.xyz.rgb=function(t){const n=t[0]/100,e=t[1]/100,r=t[2]/100;let i,o,s;return i=n*3.2406+e*-1.5372+r*-.4986,o=n*-.9689+e*1.8758+r*.0415,s=n*.0557+e*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};jr.xyz.lab=function(t){let n=t[0],e=t[1],r=t[2];n/=95.047,e/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*e-16,o=500*(n-e),s=200*(e-r);return[i,o,s]};jr.lab.xyz=function(t){const n=t[0],e=t[1],r=t[2];let i,o,s;o=(n+16)/116,i=e/500+o,s=o-r/200;const a=o**3,f=i**3,g=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,s=g>.008856?g:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};jr.lab.lch=function(t){const n=t[0],e=t[1],r=t[2];let i;i=Math.atan2(r,e)*360/2/Math.PI,i<0&&(i+=360);const s=Math.sqrt(e*e+r*r);return[n,s,i]};jr.lch.lab=function(t){const n=t[0],e=t[1],i=t[2]/360*2*Math.PI,o=e*Math.cos(i),s=e*Math.sin(i);return[n,o,s]};jr.rgb.ansi16=function(t,n=null){const[e,r,i]=t;let o=n===null?jr.rgb.hsv(t)[2]:n;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return o===2&&(s+=60),s};jr.hsv.ansi16=function(t){return jr.rgb.ansi16(jr.hsv.rgb(t),t[2])};jr.rgb.ansi256=function(t){const n=t[0],e=t[1],r=t[2];return n===e&&e===r?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5)};jr.ansi16.rgb=function(t){let n=t%10;if(n===0||n===7)return t>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const e=(~~(t>50)+1)*.5,r=(n&1)*e*255,i=(n>>1&1)*e*255,o=(n>>2&1)*e*255;return[r,i,o]};jr.ansi256.rgb=function(t){if(t>=232){const o=(t-232)*10+8;return[o,o,o]}t-=16;let n;const e=Math.floor(t/36)/5*255,r=Math.floor((n=t%36)/6)/5*255,i=n%6/5*255;return[e,r,i]};jr.rgb.hex=function(t){const e=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(e.length)+e};jr.hex.rgb=function(t){const n=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];let e=n[0];n[0].length===3&&(e=e.split("").map(a=>a+a).join(""));const r=parseInt(e,16),i=r>>16&255,o=r>>8&255,s=r&255;return[i,o,s]};jr.rgb.hcg=function(t){const n=t[0]/255,e=t[1]/255,r=t[2]/255,i=Math.max(Math.max(n,e),r),o=Math.min(Math.min(n,e),r),s=i-o;let a,f;return s<1?a=o/(1-s):a=0,s<=0?f=0:i===n?f=(e-r)/s%6:i===e?f=2+(r-n)/s:f=4+(n-e)/s,f/=6,f%=1,[f*360,s*100,a*100]};jr.hsl.hcg=function(t){const n=t[1]/100,e=t[2]/100,r=e<.5?2*n*e:2*n*(1-e);let i=0;return r<1&&(i=(e-.5*r)/(1-r)),[t[0],r*100,i*100]};jr.hsv.hcg=function(t){const n=t[1]/100,e=t[2]/100,r=n*e;let i=0;return r<1&&(i=(e-r)/(1-r)),[t[0],r*100,i*100]};jr.hcg.rgb=function(t){const n=t[0]/360,e=t[1]/100,r=t[2]/100;if(e===0)return[r*255,r*255,r*255];const i=[0,0,0],o=n%1*6,s=o%1,a=1-s;let f=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return f=(1-e)*r,[(e*i[0]+f)*255,(e*i[1]+f)*255,(e*i[2]+f)*255]};jr.hcg.hsv=function(t){const n=t[1]/100,e=t[2]/100,r=n+e*(1-n);let i=0;return r>0&&(i=n/r),[t[0],i*100,r*100]};jr.hcg.hsl=function(t){const n=t[1]/100,r=t[2]/100*(1-n)+.5*n;let i=0;return r>0&&r<.5?i=n/(2*r):r>=.5&&r<1&&(i=n/(2*(1-r))),[t[0],i*100,r*100]};jr.hcg.hwb=function(t){const n=t[1]/100,e=t[2]/100,r=n+e*(1-n);return[t[0],(r-n)*100,(1-r)*100]};jr.hwb.hcg=function(t){const n=t[1]/100,r=1-t[2]/100,i=r-n;let o=0;return i<1&&(o=(r-i)/(1-i)),[t[0],i*100,o*100]};jr.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};jr.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};jr.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};jr.gray.hsl=function(t){return[0,0,t[0]]};jr.gray.hsv=jr.gray.hsl;jr.gray.hwb=function(t){return[0,100,t[0]]};jr.gray.cmyk=function(t){return[0,0,0,t[0]]};jr.gray.lab=function(t){return[t[0],0,0]};jr.gray.hex=function(t){const n=Math.round(t[0]/100*255)&255,r=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(r.length)+r};jr.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const q2=ZL;function gne(){const t={},n=Object.keys(q2);for(let e=n.length,r=0;r<e;r++)t[n[r]]={distance:-1,parent:null};return t}function yne(t){const n=gne(),e=[t];for(n[t].distance=0;e.length;){const r=e.pop(),i=Object.keys(q2[r]);for(let o=i.length,s=0;s<o;s++){const a=i[s],f=n[a];f.distance===-1&&(f.distance=n[r].distance+1,f.parent=r,e.unshift(a))}}return n}function vne(t,n){return function(e){return n(t(e))}}function Cne(t,n){const e=[n[t].parent,t];let r=q2[n[t].parent][t],i=n[t].parent;for(;n[i].parent;)e.unshift(n[i].parent),r=vne(q2[n[i].parent][i],r),i=n[i].parent;return r.conversion=e,r}var _ne=function(t){const n=yne(t),e={},r=Object.keys(n);for(let i=r.length,o=0;o<i;o++){const s=r[o];n[s].parent!==null&&(e[s]=Cne(s,n))}return e};const d6=ZL,bne=_ne,sg={},xne=Object.keys(d6);function wne(t){const n=function(...e){const r=e[0];return r==null?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(n.conversion=t.conversion),n}function Mne(t){const n=function(...e){const r=e[0];if(r==null)return r;r.length>1&&(e=r);const i=t(e);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in t&&(n.conversion=t.conversion),n}xne.forEach(t=>{sg[t]={},Object.defineProperty(sg[t],"channels",{value:d6[t].channels}),Object.defineProperty(sg[t],"labels",{value:d6[t].labels});const n=bne(t);Object.keys(n).forEach(r=>{const i=n[r];sg[t][r]=Mne(i),sg[t][r].raw=wne(i)})});var Sne=sg;const lg=fne,kc=Sne,XL=["keyword","gray","hex"],h6={};for(const t of Object.keys(kc))h6[[...kc[t].labels].sort().join("")]=t;const V2={};function ou(t,n){if(!(this instanceof ou))return new ou(t,n);if(n&&n in XL&&(n=null),n&&!(n in kc))throw new Error("Unknown model: "+n);let e,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof ou)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const i=lg.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,r=kc[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(t.length>0){this.model=n||"rgb",r=kc[this.model].channels;const i=Array.prototype.slice.call(t,0,r);this.color=f6(i,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const o=i.sort().join("");if(!(o in h6))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=h6[o];const{labels:s}=kc[this.model],a=[];for(e=0;e<s.length;e++)a.push(t[s[e]]);this.color=f6(a)}if(V2[this.model])for(r=kc[this.model].channels,e=0;e<r;e++){const i=V2[this.model][e];i&&(this.color[e]=i(this.color[e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ou.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let n=this.model in lg.to?this:this.rgb();n=n.round(typeof t=="number"?t:1);const e=n.valpha===1?n.color:[...n.color,this.valpha];return lg.to[n.model](e)},percentString(t){const n=this.rgb().round(typeof t=="number"?t:1),e=n.valpha===1?n.color:[...n.color,this.valpha];return lg.to.rgb.percent(e)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:n}=kc[this.model],{labels:e}=kc[this.model];for(let r=0;r<n;r++)t[e[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new ou([...this.color.map(One(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new ou([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Ls("rgb",0,Kl(255)),green:Ls("rgb",1,Kl(255)),blue:Ls("rgb",2,Kl(255)),hue:Ls(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Ls("hsl",1,Kl(100)),lightness:Ls("hsl",2,Kl(100)),saturationv:Ls("hsv",1,Kl(100)),value:Ls("hsv",2,Kl(100)),chroma:Ls("hcg",1,Kl(100)),gray:Ls("hcg",2,Kl(100)),white:Ls("hwb",1,Kl(100)),wblack:Ls("hwb",2,Kl(100)),cyan:Ls("cmyk",0,Kl(100)),magenta:Ls("cmyk",1,Kl(100)),yellow:Ls("cmyk",2,Kl(100)),black:Ls("cmyk",3,Kl(100)),x:Ls("xyz",0,Kl(95.047)),y:Ls("xyz",1,Kl(100)),z:Ls("xyz",2,Kl(108.833)),l:Ls("lab",0,Kl(100)),a:Ls("lab",1),b:Ls("lab",2),keyword(t){return t!==void 0?new ou(t):kc[this.model].keyword(this.color)},hex(t){return t!==void 0?new ou(t):lg.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new ou(t);const n=this.rgb().round().color;let e=Math.round(this.valpha*255).toString(16).toUpperCase();return e.length===1&&(e="0"+e),lg.to.hex(n)+e},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,n=[];for(const[e,r]of t.entries()){const i=r/255;n[e]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast(t){const n=this.luminosity(),e=t.luminosity();return n>e?(n+.05)/(e+.05):(e+.05)/(n+.05)},level(t){const n=this.contrast(t);return n>=7?"AAA":n>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let n=0;n<3;n++)t.color[n]=255-t.color[n];return t},lighten(t){const n=this.hsl();return n.color[2]+=n.color[2]*t,n},darken(t){const n=this.hsl();return n.color[2]-=n.color[2]*t,n},saturate(t){const n=this.hsl();return n.color[1]+=n.color[1]*t,n},desaturate(t){const n=this.hsl();return n.color[1]-=n.color[1]*t,n},whiten(t){const n=this.hwb();return n.color[1]+=n.color[1]*t,n},blacken(t){const n=this.hwb();return n.color[2]+=n.color[2]*t,n},grayscale(){const t=this.rgb().color,n=t[0]*.3+t[1]*.59+t[2]*.11;return ou.rgb(n,n,n)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const n=this.hsl();let e=n.color[0];return e=(e+t)%360,e=e<0?360+e:e,n.color[0]=e,n},mix(t,n){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const e=t.rgb(),r=this.rgb(),i=n===void 0?.5:n,o=2*i-1,s=e.alpha()-r.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,f=1-a;return ou.rgb(a*e.red()+f*r.red(),a*e.green()+f*r.green(),a*e.blue()+f*r.blue(),e.alpha()*i+r.alpha()*(1-i))}};for(const t of Object.keys(kc)){if(XL.includes(t))continue;const{channels:n}=kc[t];ou.prototype[t]=function(...e){return this.model===t?new ou(this):e.length>0?new ou(e,t):new ou([...Bne(kc[this.model][t].raw(this.color)),this.valpha],t)},ou[t]=function(...e){let r=e[0];return typeof r=="number"&&(r=f6(e,n)),new ou(r,t)}}function Ene(t,n){return Number(t.toFixed(n))}function One(t){return function(n){return Ene(n,t)}}function Ls(t,n,e){t=Array.isArray(t)?t:[t];for(const r of t)(V2[r]||(V2[r]=[]))[n]=e;return t=t[0],function(r){let i;return r!==void 0?(e&&(r=e(r)),i=this[t](),i.color[n]=r,i):(i=this[t]().color[n],e&&(i=e(i)),i)}}function Kl(t){return function(n){return Math.max(0,Math.min(t,n))}}function Bne(t){return Array.isArray(t)?t:[t]}function f6(t,n){for(let e=0;e<n;e++)typeof t[e]!="number"&&(t[e]=0);return t}var Ine=ou;const p6=Qo(Ine);function sa(){var t="/workspaces/maputnik/src/libs/zoomcontrol.ts",n="07c819138431946c44d05c254bb00508e3714522",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:6,column:4},end:{line:6,column:20}},4:{start:{line:7,column:4},end:{line:7,column:52}},5:{start:{line:8,column:4},end:{line:8,column:93}},6:{start:{line:9,column:4},end:{line:9,column:70}},7:{start:{line:10,column:4},end:{line:12,column:6}},8:{start:{line:13,column:4},end:{line:13,column:57}},9:{start:{line:14,column:4},end:{line:14,column:29}},10:{start:{line:15,column:4},end:{line:15,column:27}},11:{start:{line:18,column:4},end:{line:18,column:60}},12:{start:{line:21,column:4},end:{line:21,column:57}},13:{start:{line:21,column:33},end:{line:21,column:55}},14:{start:{line:22,column:4},end:{line:22,column:57}},15:{start:{line:22,column:33},end:{line:22,column:55}},16:{start:{line:23,column:4},end:{line:23,column:58}},17:{start:{line:23,column:34},end:{line:23,column:56}},18:{start:{line:26,column:4},end:{line:26,column:60}},19:{start:{line:27,column:4},end:{line:27,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:13},end:{line:16,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:20},end:{line:19,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:22},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:21,column:27},end:{line:21,column:28}},loc:{start:{line:21,column:33},end:{line:21,column:55}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:22,column:27},end:{line:22,column:28}},loc:{start:{line:22,column:33},end:{line:22,column:55}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:28},end:{line:23,column:29}},loc:{start:{line:23,column:34},end:{line:23,column:56}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:28,column:3}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,WAAW,YAAY;AAAA;AAAA;AAG5B,SAAK,UAAU,KAAK,WAAW,cAAc,MAAM;AAEnD,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"07c819138431946c44d05c254bb00508e3714522"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return sa=function(){return s},s}sa();class kne{constructor(){rn(this,"_map",(sa().s[0]++,void 0));rn(this,"_container",(sa().s[1]++,void 0));rn(this,"_textEl",(sa().s[2]++,null))}onAdd(n){return sa().f[0]++,sa().s[3]++,this._map=n,sa().s[4]++,this._container=document.createElement("div"),sa().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",sa().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),sa().s[7]++,this._container.innerHTML=`
      Zoom: <span></span>
    `,sa().s[8]++,this._textEl=this._container.querySelector("span"),sa().s[9]++,this.addEventListeners(),sa().s[10]++,this._container}updateZoomLevel(){sa().f[1]++,sa().s[11]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}addEventListeners(){sa().f[2]++,sa().s[12]++,this._map.on("render",()=>(sa().f[3]++,sa().s[13]++,this.updateZoomLevel())),sa().s[14]++,this._map.on("zoomIn",()=>(sa().f[4]++,sa().s[15]++,this.updateZoomLevel())),sa().s[16]++,this._map.on("zoomOut",()=>(sa().f[5]++,sa().s[17]++,this.updateZoomLevel()))}onRemove(){sa().f[6]++,sa().s[18]++,this._container.parentNode.removeChild(this._container),sa().s[19]++,this._map=void 0}}function Si(){var t="/workspaces/maputnik/src/libs/highlight.ts",n="ef04b6630ca00f32c968e331db5ab4ef168a532b",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:19,column:16}},10:{start:{line:19,column:4},end:{line:19,column:16}},11:{start:{line:20,column:24},end:{line:20,column:51}},12:{start:{line:21,column:16},end:{line:21,column:52}},13:{start:{line:22,column:2},end:{line:24,column:3}},14:{start:{line:23,column:4},end:{line:23,column:104}},15:{start:{line:25,column:2},end:{line:27,column:3}},16:{start:{line:26,column:4},end:{line:26,column:96}},17:{start:{line:28,column:2},end:{line:30,column:3}},18:{start:{line:29,column:4},end:{line:29,column:94}},19:{start:{line:31,column:2},end:{line:31,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:32,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:19,column:16}},type:"if",locations:[{start:{line:18,column:2},end:{line:19,column:16}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:20,column:24},end:{line:20,column:51}},type:"binary-expr",locations:[{start:{line:20,column:24},end:{line:20,column:45}},{start:{line:20,column:49},end:{line:20,column:51}}],line:20},6:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},7:{loc:{start:{line:22,column:6},end:{line:22,column:62}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:27}},{start:{line:22,column:31},end:{line:22,column:62}}],line:22},8:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},9:{loc:{start:{line:25,column:6},end:{line:25,column:56}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:29}},{start:{line:25,column:33},end:{line:25,column:56}}],line:25},10:{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/highlight.ts"],names:[],mappings:"AACA,OAAO,cAAc;AAErB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS;AAAU,WAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ef04b6630ca00f32c968e331db5ab4ef168a532b"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Si=function(){return s},s}Si();function Fw(t,n){return Si().f[0]++,Si().s[0]++,t.type==="circle"?(Si().b[0][0]++,Si().s[1]++,t.paint["circle-radius"]=3):(Si().b[0][1]++,Si().s[2]++,t.type==="line"?(Si().b[1][0]++,Si().s[3]++,t.paint["line-width"]=2):Si().b[1][1]++),Si().s[4]++,"filter"in n?(Si().b[2][0]++,Si().s[5]++,t.filter=n.filter):(Si().b[2][1]++,Si().s[6]++,delete t.filter),Si().s[7]++,t.id=t.id+"_highlight",Si().s[8]++,t}function Tne(t){if(Si().f[1]++,Si().s[9]++,Si().b[4][0]++,!t||(Si().b[4][1]++,t.type==="background")||(Si().b[4][2]++,t.type==="raster"))return Si().b[3][0]++,Si().s[10]++,null;Si().b[3][1]++;const n=(Si().s[11]++,Si().b[5][0]++,t["source-layer"]||(Si().b[5][1]++,"")),e=(Si().s[12]++,M4.brightColor(n,1));return Si().s[13]++,Si().b[7][0]++,t.type==="fill"||(Si().b[7][1]++,t.type==="fill-extrusion")?(Si().b[6][0]++,Si().s[14]++,Fw(lp.polygonLayer(e,e,t.source,t["source-layer"]),t)):(Si().b[6][1]++,Si().s[15]++,Si().b[9][0]++,t.type==="symbol"||(Si().b[9][1]++,t.type==="circle")?(Si().b[8][0]++,Si().s[16]++,Fw(lp.circleLayer(e,t.source,t["source-layer"]),t)):(Si().b[8][1]++,Si().s[17]++,t.type==="line"?(Si().b[10][0]++,Si().s[18]++,Fw(lp.lineLayer(e,t.source,t["source-layer"]),t)):(Si().b[10][1]++,Si().s[19]++,null)))}function S4(){var t="/workspaces/maputnik/src/libs/maplibre-rtl.ts",n="1525c4d25cf04c4202d5a2acad8982bbc0ddbc5b",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:3,column:3}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:108},end:{line:2,column:109}},loc:{start:{line:2,column:114},end:{line:3,column:1}},line:2}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,MAAM;AAAC,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1525c4d25cf04c4202d5a2acad8982bbc0ddbc5b"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return S4=function(){return s},s}S4();S4().s[0]++;AC.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",()=>{S4().f[0]++});function Xt(){var t="/workspaces/maputnik/src/components/MapMaplibreGl.tsx",n="e334f42cf1567237636e50a25c191bc033ab2efa",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:15,column:21},end:{line:15,column:43}},1:{start:{line:17,column:2},end:{line:17,column:36}},2:{start:{line:18,column:2},end:{line:18,column:19}},3:{start:{line:21,column:26},end:{line:27,column:3}},4:{start:{line:28,column:16},end:{line:28,column:55}},5:{start:{line:29,column:2},end:{line:31,column:3}},6:{start:{line:30,column:4},end:{line:30,column:30}},7:{start:{line:32,column:18},end:{line:32,column:20}},8:{start:{line:33,column:2},end:{line:38,column:5}},9:{start:{line:34,column:19},end:{line:34,column:53}},10:{start:{line:35,column:4},end:{line:37,column:5}},11:{start:{line:36,column:6},end:{line:36,column:33}},12:{start:{line:39,column:23},end:{line:43,column:3}},13:{start:{line:44,column:2},end:{line:44,column:22}},14:{start:{line:47,column:24},end:{line:57,column:3}},15:{start:{line:58,column:14},end:{line:58,column:18}},16:{start:{line:60,column:4},end:{line:60,column:17}},17:{start:{line:61,column:4},end:{line:64,column:6}},18:{start:{line:67,column:4},end:{line:68,column:13}},19:{start:{line:68,column:6},end:{line:68,column:13}},20:{start:{line:69,column:4},end:{line:70,column:13}},21:{start:{line:70,column:6},end:{line:70,column:13}},22:{start:{line:71,column:4},end:{line:74,column:6}},23:{start:{line:77,column:17},end:{line:77,column:22}},24:{start:{line:78,column:4},end:{line:81,column:5}},25:{start:{line:79,column:6},end:{line:79,column:132}},26:{start:{line:82,column:4},end:{line:82,column:18}},27:{start:{line:85,column:4},end:{line:86,column:13}},28:{start:{line:86,column:6},end:{line:86,column:13}},29:{start:{line:87,column:16},end:{line:87,column:30}},30:{start:{line:88,column:4},end:{line:88,column:40}},31:{start:{line:89,column:4},end:{line:92,column:5}},32:{start:{line:90,column:6},end:{line:90,column:47}},33:{start:{line:91,column:6},end:{line:91,column:43}},34:{start:{line:93,column:4},end:{line:104,column:5}},35:{start:{line:94,column:6},end:{line:100,column:7}},36:{start:{line:95,column:8},end:{line:99,column:9}},37:{start:{line:96,column:10},end:{line:96,column:38}},38:{start:{line:98,column:10},end:{line:98,column:52}},39:{start:{line:101,column:6},end:{line:101,column:70}},40:{start:{line:102,column:6},end:{line:102,column:70}},41:{start:{line:103,column:6},end:{line:103,column:76}},42:{start:{line:107,column:4},end:{line:108,column:13}},43:{start:{line:108,column:6},end:{line:108,column:13}},44:{start:{line:109,column:20},end:{line:115,column:5}},45:{start:{line:116,column:16},end:{line:116,column:43}},46:{start:{line:117,column:26},end:{line:121,column:5}},47:{start:{line:118,column:21},end:{line:118,column:36}},48:{start:{line:119,column:19},end:{line:119,column:32}},49:{start:{line:120,column:6},end:{line:120,column:44}},50:{start:{line:122,column:4},end:{line:122,column:20}},51:{start:{line:123,column:4},end:{line:123,column:56}},52:{start:{line:124,column:4},end:{line:124,column:56}},53:{start:{line:125,column:4},end:{line:125,column:62}},54:{start:{line:126,column:24},end:{line:126,column:41}},55:{start:{line:127,column:4},end:{line:127,column:45}},56:{start:{line:128,column:16},end:{line:128,column:74}},57:{start:{line:129,column:4},end:{line:129,column:37}},58:{start:{line:130,column:20},end:{line:130,column:49}},59:{start:{line:131,column:20},end:{line:151,column:6}},60:{start:{line:141,column:8},end:{line:141,column:82}},61:{start:{line:143,column:62},end:{line:143,column:141}},62:{start:{line:145,column:8},end:{line:149,column:9}},63:{start:{line:146,column:10},end:{line:146,column:108}},64:{start:{line:148,column:10},end:{line:148,column:160}},65:{start:{line:152,column:4},end:{line:152,column:28}},66:{start:{line:153,column:4},end:{line:159,column:7}},67:{start:{line:154,column:6},end:{line:158,column:9}},68:{start:{line:160,column:4},end:{line:166,column:7}},69:{start:{line:161,column:6},end:{line:162,column:15}},70:{start:{line:162,column:8},end:{line:162,column:15}},71:{start:{line:163,column:6},end:{line:165,column:9}},72:{start:{line:167,column:4},end:{line:169,column:7}},73:{start:{line:168,column:6},end:{line:168,column:30}},74:{start:{line:170,column:4},end:{line:174,column:7}},75:{start:{line:171,column:6},end:{line:173,column:9}},76:{start:{line:175,column:4},end:{line:175,column:37}},77:{start:{line:176,column:4},end:{line:176,column:37}},78:{start:{line:178,column:22},end:{line:181,column:3}},79:{start:{line:179,column:18},end:{line:179,column:82}},80:{start:{line:179,column:66},end:{line:179,column:81}},81:{start:{line:180,column:4},end:{line:180,column:36}},82:{start:{line:183,column:4},end:{line:202,column:5}},83:{start:{line:184,column:6},end:{line:193,column:8}},84:{start:{line:190,column:22},end:{line:190,column:40}},85:{start:{line:195,column:6},end:{line:201,column:8}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:39},end:{line:19,column:1}},line:16},1:{name:"buildInspectStyle",decl:{start:{line:20,column:9},end:{line:20,column:26}},loc:{start:{line:20,column:78},end:{line:45,column:1}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:33,column:48},end:{line:33,column:49}},loc:{start:{line:33,column:62},end:{line:38,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:48,column:17},end:{line:48,column:18}},loc:{start:{line:48,column:23},end:{line:49,column:5}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:50,column:18},end:{line:50,column:19}},loc:{start:{line:50,column:24},end:{line:51,column:5}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:52,column:19},end:{line:52,column:20}},loc:{start:{line:52,column:25},end:{line:53,column:5}},line:52},6:{name:"(anonymous_6)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:20},end:{line:55,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:21},end:{line:65,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:66,column:2},end:{line:66,column:3}},loc:{start:{line:66,column:28},end:{line:75,column:3}},line:66},9:{name:"(anonymous_9)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:46},end:{line:83,column:3}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:23},end:{line:105,column:3}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:177,column:3}},line:106},12:{name:"(anonymous_12)",decl:{start:{line:117,column:26},end:{line:117,column:27}},loc:{start:{line:117,column:32},end:{line:121,column:5}},line:117},13:{name:"(anonymous_13)",decl:{start:{line:140,column:24},end:{line:140,column:25}},loc:{start:{line:140,column:44},end:{line:142,column:7}},line:140},14:{name:"(anonymous_14)",decl:{start:{line:143,column:25},end:{line:143,column:26}},loc:{start:{line:143,column:62},end:{line:143,column:141}},line:143},15:{name:"(anonymous_15)",decl:{start:{line:144,column:19},end:{line:144,column:20}},loc:{start:{line:144,column:33},end:{line:150,column:7}},line:144},16:{name:"(anonymous_16)",decl:{start:{line:153,column:25},end:{line:153,column:26}},loc:{start:{line:153,column:31},end:{line:159,column:5}},line:153},17:{name:"(anonymous_17)",decl:{start:{line:160,column:19},end:{line:160,column:20}},loc:{start:{line:160,column:26},end:{line:166,column:5}},line:160},18:{name:"(anonymous_18)",decl:{start:{line:167,column:20},end:{line:167,column:21}},loc:{start:{line:167,column:27},end:{line:169,column:5}},line:167},19:{name:"(anonymous_19)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:27},end:{line:174,column:5}},line:170},20:{name:"(anonymous_20)",decl:{start:{line:178,column:22},end:{line:178,column:23}},loc:{start:{line:178,column:30},end:{line:181,column:3}},line:178},21:{name:"(anonymous_21)",decl:{start:{line:179,column:55},end:{line:179,column:56}},loc:{start:{line:179,column:66},end:{line:179,column:81}},line:179},22:{name:"(anonymous_22)",decl:{start:{line:182,column:2},end:{line:182,column:3}},loc:{start:{line:182,column:11},end:{line:203,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:190,column:15},end:{line:190,column:16}},loc:{start:{line:190,column:22},end:{line:190,column:40}},line:190}},branchMap:{0:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},1:{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},2:{loc:{start:{line:35,column:8},end:{line:35,column:64}},type:"binary-expr",locations:[{start:{line:35,column:8},end:{line:35,column:32}},{start:{line:35,column:36},end:{line:35,column:64}}],line:35},3:{loc:{start:{line:67,column:4},end:{line:68,column:13}},type:"if",locations:[{start:{line:67,column:4},end:{line:68,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},4:{loc:{start:{line:69,column:4},end:{line:70,column:13}},type:"if",locations:[{start:{line:69,column:4},end:{line:70,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},5:{loc:{start:{line:79,column:15},end:{line:79,column:131}},type:"binary-expr",locations:[{start:{line:79,column:15},end:{line:79,column:71}},{start:{line:79,column:75},end:{line:79,column:131}}],line:79},6:{loc:{start:{line:85,column:4},end:{line:86,column:13}},type:"if",locations:[{start:{line:85,column:4},end:{line:86,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},7:{loc:{start:{line:89,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:92,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:89},8:{loc:{start:{line:89,column:8},end:{line:89,column:98}},type:"binary-expr",locations:[{start:{line:89,column:8},end:{line:89,column:26}},{start:{line:89,column:30},end:{line:89,column:98}}],line:89},9:{loc:{start:{line:93,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:93,column:4},end:{line:104,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},10:{loc:{start:{line:94,column:6},end:{line:100,column:7}},type:"if",locations:[{start:{line:94,column:6},end:{line:100,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94},11:{loc:{start:{line:107,column:4},end:{line:108,column:13}},type:"if",locations:[{start:{line:107,column:4},end:{line:108,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:107},12:{loc:{start:{line:145,column:8},end:{line:149,column:9}},type:"if",locations:[{start:{line:145,column:8},end:{line:149,column:9}},{start:{line:147,column:15},end:{line:149,column:9}}],line:145},13:{loc:{start:{line:161,column:6},end:{line:162,column:15}},type:"if",locations:[{start:{line:161,column:6},end:{line:162,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:161},14:{loc:{start:{line:183,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:183,column:4},end:{line:202,column:5}},{start:{line:194,column:11},end:{line:202,column:5}}],line:183}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AAkM6B;AAlM7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAE/G,OAAO,mBAAmB;AAE1B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AAGP,MAAM,eAAe,WAAW,UAAU;AAE1C,SAAS,YAAY,OAAoB,WAA+B;AACtE,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AACtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAuBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,mBAAmB,OAA2B;AAC5C,QAAG,CAAC;AAAc;AAElB,QAAG,CAAC,KAAK,MAAM;AAAK;AAIpB,SAAK,MAAM,IAAI;AAAA,MACb,KAAK,MAAM,oBAAoB,MAAM,QAAQ;AAAA,MAC7C,EAAC,MAAM,KAAI;AAAA,IACb;AAAA,EACF;AAAA,EAEA,sBAAsB,WAA+B,WAA+B;AAClF,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,QAAG,CAAC;AAAc;AAElB,UAAM,MAAM,KAAK,MAAM;AAEvB,SAAK,mBAAmB,KAAK,KAAK;AAElC,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAG7F,WAAK,MAAM,QAAQ,gBAAgB;AACnC,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK;AACP,UAAI,KAAK,MAAM,oBAAoB;AAIjC,YAAI;AACF,eAAK,MAAM,QAAQ,OAAO;AAAA,QAC5B,SAAQ,KAAK;AACX,kBAAQ,MAAM,uBAAuB,GAAG;AAAA,QAC1C;AAAA,MACF;AAEA,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,QAAG,CAAC;AAAc;AAElB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAEA,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,UAAM,cAAc,IAAI;AACxB,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,cAAc;AAAA,MAChC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa;AAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,SAAS;AACP,QAAG,cAAc;AACf,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAU;AAAA,UACV,MAAK;AAAA,UACL,cAAW;AAAA,UACX,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,eAAY;AAAA;AAAA,MACb;AAAA,IACH,OACK;AACH,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAU;AAAA,UAEV,8BAAC,SAAI,WAAU,+BAA8B,oFAE7C;AAAA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e334f42cf1567237636e50a25c191bc033ab2efa"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Xt=function(){return s},s}Xt();const qb=(Xt().s[0]++,AC.supported());function X9(t,n){return Xt().f[0]++,Xt().s[1]++,$D.render(t,n),Xt().s[2]++,n}function Kne(t,n,e){Xt().f[1]++;const r=(Xt().s[3]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(Xt().s[4]++,Tne(e));Xt().s[5]++,i?(Xt().b[0][0]++,Xt().s[6]++,n.push(i)):Xt().b[0][1]++;const o=(Xt().s[7]++,{});Xt().s[8]++,Object.keys(t.sources).forEach(a=>{Xt().f[2]++;const f=(Xt().s[9]++,t.sources[a]);Xt().s[10]++,Xt().b[2][0]++,f.type!=="raster"&&(Xt().b[2][1]++,f.type!=="raster-dem")?(Xt().b[1][0]++,Xt().s[11]++,o[a]=f):Xt().b[1][1]++});const s=(Xt().s[12]++,{...t,sources:o,layers:[r].concat(n)});return Xt().s[13]++,s}class JL extends gn.Component{constructor(e){Xt().f[7]++,Xt().s[16]++;super(e);rn(this,"container",(Xt().s[15]++,null));rn(this,"onLayerSelectById",(Xt().s[78]++,e=>{Xt().f[20]++;const r=(Xt().s[79]++,this.props.mapStyle.layers.findIndex(i=>(Xt().f[21]++,Xt().s[80]++,i.id===e)));Xt().s[81]++,this.props.onLayerSelect(r)}));Xt().s[17]++,this.state={map:null,inspect:null}}updateMapFromProps(e){if(Xt().f[8]++,Xt().s[18]++,qb)Xt().b[3][1]++;else{Xt().b[3][0]++,Xt().s[19]++;return}if(Xt().s[20]++,this.state.map)Xt().b[4][1]++;else{Xt().b[4][0]++,Xt().s[21]++;return}Xt().s[22]++,this.state.map.setStyle(this.props.replaceAccessTokens(e.mapStyle),{diff:!0})}shouldComponentUpdate(e,r){Xt().f[9]++;let i=(Xt().s[23]++,!1);Xt().s[24]++;try{Xt().s[25]++,i=(Xt().b[5][0]++,JSON.stringify(this.props)!==JSON.stringify(e)||(Xt().b[5][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return Xt().s[26]++,i}componentDidUpdate(){var r,i,o;if(Xt().f[10]++,Xt().s[27]++,qb)Xt().b[6][1]++;else{Xt().b[6][0]++,Xt().s[28]++;return}const e=(Xt().s[29]++,this.state.map);if(Xt().s[30]++,this.updateMapFromProps(this.props),Xt().s[31]++,Xt().b[8][0]++,this.state.inspect&&(Xt().b[8][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(Xt().b[7][0]++,Xt().s[32]++,this.state.inspect._popupBlocked=!1,Xt().s[33]++,this.state.inspect.toggleInspector()):Xt().b[7][1]++,Xt().s[34]++,e){if(Xt().b[9][0]++,Xt().s[35]++,this.props.inspectModeEnabled){Xt().b[10][0]++,Xt().s[36]++;try{Xt().s[37]++,this.state.inspect.render()}catch(s){Xt().s[38]++,console.error("FIXME: Caught error",s)}}else Xt().b[10][1]++;Xt().s[39]++,e.showTileBoundaries=(r=this.props.options)==null?void 0:r.showTileBoundaries,Xt().s[40]++,e.showCollisionBoxes=(i=this.props.options)==null?void 0:i.showCollisionBoxes,Xt().s[41]++,e.showOverdrawInspector=(o=this.props.options)==null?void 0:o.showOverdrawInspector}else Xt().b[9][1]++}componentDidMount(){if(Xt().f[11]++,Xt().s[42]++,qb)Xt().b[11][1]++;else{Xt().b[11][0]++,Xt().s[43]++;return}const e=(Xt().s[44]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24}),r=(Xt().s[45]++,new AC.Map(e));Xt().s[46]++;const i=()=>{Xt().f[12]++;const g=(Xt().s[47]++,r.getCenter()),x=(Xt().s[48]++,r.getZoom());Xt().s[49]++,this.props.onChange({center:g,zoom:x})};Xt().s[50]++,i(),Xt().s[51]++,r.showTileBoundaries=e.showTileBoundaries,Xt().s[52]++,r.showCollisionBoxes=e.showCollisionBoxes,Xt().s[53]++,r.showOverdrawInspector=e.showOverdrawInspector;const o=(Xt().s[54]++,new kne);Xt().s[55]++,r.addControl(o,"top-right");const s=(Xt().s[56]++,new AC.NavigationControl({visualizePitch:!0}));Xt().s[57]++,r.addControl(s,"top-right");const a=(Xt().s[58]++,document.createElement("div")),f=(Xt().s[59]++,new Mte({popup:new AC.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(g,x)=>(Xt().f[13]++,Xt().s[60]++,p6(M4.brightColor(g,x)).desaturate(.5).string()),buildInspectStyle:(g,x)=>(Xt().f[14]++,Xt().s[61]++,Kne(g,x,this.props.highlightedLayer)),renderPopup:g=>(Xt().f[15]++,Xt().s[62]++,this.props.inspectModeEnabled?(Xt().b[12][0]++,Xt().s[63]++,X9(N.jsx(sne,{features:g}),a)):(Xt().b[12][1]++,Xt().s[64]++,X9(N.jsx(NL,{features:g,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),a)))}));Xt().s[65]++,r.addControl(f),Xt().s[66]++,r.on("style.load",()=>{Xt().f[16]++,Xt().s[67]++,this.setState({map:r,inspect:f,zoom:r.getZoom()})}),Xt().s[68]++,r.on("data",g=>{if(Xt().f[17]++,Xt().s[69]++,g.dataType!=="tile"){Xt().b[13][0]++,Xt().s[70]++;return}else Xt().b[13][1]++;Xt().s[71]++,this.props.onDataChange({map:this.state.map})}),Xt().s[72]++,r.on("error",g=>{Xt().f[18]++,Xt().s[73]++,console.log("ERROR",g)}),Xt().s[74]++,r.on("zoom",g=>{Xt().f[19]++,Xt().s[75]++,this.setState({zoom:r.getZoom()})}),Xt().s[76]++,r.on("dragend",i),Xt().s[77]++,r.on("zoomend",i)}render(){return Xt().f[22]++,Xt().s[82]++,qb?(Xt().b[14][0]++,Xt().s[83]++,N.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":"Map view",ref:e=>(Xt().f[23]++,Xt().s[84]++,this.container=e),"data-wd-key":"maplibre:map"})):(Xt().b[14][1]++,Xt().s[85]++,N.jsx("div",{className:"maputnik-map maputnik-map--error",children:N.jsx("div",{className:"maputnik-map__error-message",children:"Error: Cannot load MaplibreGL, WebGL is either unsupported or disabled"})}))}}rn(JL,"defaultProps",(Xt().s[14]++,{onMapLoaded:()=>{Xt().f[3]++},onDataChange:()=>{Xt().f[4]++},onLayerSelect:()=>{Xt().f[5]++},onChange:()=>{Xt().f[6]++},options:{}}));var mp=function(){function t(n){this.propagationStopped,this.defaultPrevented,this.type=n,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();const dy={PROPERTYCHANGE:"propertychange"};var Pne=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();const dB=Pne;function Une(t,n,e){for(var r,i,o=e||t1,s=0,a=t.length,f=!1;s<a;)r=s+(a-s>>1),i=+o(t[r],n),i<0?s=r+1:(a=r,f=!i);return f?s:~s}function t1(t,n){return t>n?1:t<n?-1:0}function hB(t,n,e){var r=t.length;if(t[0]<=n)return 0;if(n<=t[r-1])return r-1;var i=void 0;if(e>0){for(i=1;i<r;++i)if(t[i]<n)return i-1}else if(e<0){for(i=1;i<r;++i)if(t[i]<=n)return i}else for(i=1;i<r;++i){if(t[i]==n)return i;if(t[i]<n)return typeof e=="function"?e(n,t[i-1],t[i])>0?i-1:i:t[i-1]-n<n-t[i]?i-1:i}return r-1}function Dne(t,n,e){for(;n<e;){var r=t[n];t[n]=t[e],t[e]=r,++n,--e}}function qh(t,n){for(var e=Array.isArray(n)?n:[n],r=e.length,i=0;i<r;i++)t[t.length]=e[i]}function c1(t,n){var e=t.length;if(e!==n.length)return!1;for(var r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}function Fne(t,n,e){var r=n||t1;return t.every(function(i,o){if(o===0)return!0;var s=r(t[o-1],i);return!(s>0||e&&s===0)})}function Ng(){return!0}function E4(){return!1}function n1(){}function Lne(t){var n=!1,e,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!n||this!==i||!c1(o,r))&&(n=!0,i=this,r=o,e=t.apply(this,arguments)),e}}var ul=typeof Object.assign=="function"?Object.assign:function(t,n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e};function w_(t){for(var n in t)delete t[n]}var eR=typeof Object.values=="function"?Object.values:function(t){var n=[];for(var e in t)n.push(t[e]);return n};function r1(t){var n;for(n in t)return!1;return!n}var Rne=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zne=function(t){Rne(n,t);function n(e){var r=t.call(this)||this;return r.eventTarget_=e,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return n.prototype.addEventListener=function(e,r){if(!(!e||!r)){var i=this.listeners_||(this.listeners_={}),o=i[e]||(i[e]=[]);o.indexOf(r)===-1&&o.push(r)}},n.prototype.dispatchEvent=function(e){var r=typeof e=="string",i=r?e:e.type,o=this.listeners_&&this.listeners_[i];if(o){var s=r?new mp(e):e;s.target||(s.target=this.eventTarget_||this);var a=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,f[i]=0),++a[i];for(var g,x=0,I=o.length;x<I;++x)if("handleEvent"in o[x]?g=o[x].handleEvent(s):g=o[x].call(this,s),g===!1||s.propagationStopped){g=!1;break}if(--a[i]===0){var B=f[i];for(delete f[i];B--;)this.removeEventListener(i,n1);delete a[i]}return g}},n.prototype.disposeInternal=function(){this.listeners_&&w_(this.listeners_)},n.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},n.prototype.hasListener=function(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1},n.prototype.removeEventListener=function(e,r){var i=this.listeners_&&this.listeners_[e];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[o]=n1,++this.pendingRemovals_[e]):(i.splice(o,1),i.length===0&&delete this.listeners_[e]))}},n}(dB);const Oy=zne,Ii={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function bo(t,n,e,r,i){if(r&&r!==t&&(e=e.bind(r)),i){var o=e;e=function(){t.removeEventListener(n,e),o.apply(this,arguments)}}var s={target:t,type:n,listener:e};return t.addEventListener(n,e),s}function H2(t,n,e,r){return bo(t,n,e,r,!0)}function Ya(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),w_(t))}var jne=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),O4=function(t){jne(n,t);function n(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return n.prototype.changed=function(){++this.revision_,this.dispatchEvent(Ii.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.onInternal=function(e,r){if(Array.isArray(e)){for(var i=e.length,o=new Array(i),s=0;s<i;++s)o[s]=bo(this,e[s],r);return o}else return bo(this,e,r)},n.prototype.onceInternal=function(e,r){var i;if(Array.isArray(e)){var o=e.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=H2(this,e[s],r)}else i=H2(this,e,r);return r.ol_key=i,i},n.prototype.unInternal=function(e,r){var i=r.ol_key;if(i)RC(i);else if(Array.isArray(e))for(var o=0,s=e.length;o<s;++o)this.removeEventListener(e[o],r);else this.removeEventListener(e,r)},n}(Oy);O4.prototype.on;O4.prototype.once;O4.prototype.un;function RC(t){if(Array.isArray(t))for(var n=0,e=t.length;n<e;++n)Ya(t[n]);else Ya(t)}const tR=O4;function ui(){return function(){throw new Error("Unimplemented abstract method.")}()}var Wne=0;function Qi(t){return t.ol_uid||(t.ol_uid=String(++Wne))}var Nne="6.15.1",nR=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),J9=function(t){nR(n,t);function n(e,r,i){var o=t.call(this,e)||this;return o.key=r,o.oldValue=i,o}return n}(mp),ah=function(t){nR(n,t);function n(e){var r=t.call(this)||this;return r.on,r.once,r.un,Qi(r),r.values_=null,e!==void 0&&r.setProperties(e),r}return n.prototype.get=function(e){var r;return this.values_&&this.values_.hasOwnProperty(e)&&(r=this.values_[e]),r},n.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},n.prototype.getProperties=function(){return this.values_&&ul({},this.values_)||{}},n.prototype.hasProperties=function(){return!!this.values_},n.prototype.notify=function(e,r){var i;i="change:".concat(e),this.hasListener(i)&&this.dispatchEvent(new J9(i,e,r)),i=dy.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new J9(i,e,r))},n.prototype.addChangeListener=function(e,r){this.addEventListener("change:".concat(e),r)},n.prototype.removeChangeListener=function(e,r){this.removeEventListener("change:".concat(e),r)},n.prototype.set=function(e,r,i){var o=this.values_||(this.values_={});if(i)o[e]=r;else{var s=o[e];o[e]=r,s!==r&&this.notify(e,s)}},n.prototype.setProperties=function(e,r){for(var i in e)this.set(i,e[i],r)},n.prototype.applyProperties=function(e){e.values_&&ul(this.values_||(this.values_={}),e.values_)},n.prototype.unset=function(e,r){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],r1(this.values_)&&(this.values_=null),r||this.notify(e,i)}},n}(tR),Gne=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qne=function(t){Gne(n,t);function n(e){var r=this,i="v"+Nne.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+e+" for details.";return r=t.call(this,o)||this,r.code=e,r.name="AssertionError",r.message=o,r}return n}(Error);const rR=Qne;function ao(t,n){if(!t)throw new rR(n)}var $ne=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yne=function(t){$ne(n,t);function n(e){var r=t.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){var i=e;r.setGeometry(i)}else{var o=e;r.setProperties(o)}return r}return n.prototype.clone=function(){var e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var i=this.getStyle();return i&&e.setStyle(i),e},n.prototype.getGeometry=function(){return this.get(this.geometryName_)},n.prototype.getId=function(){return this.id_},n.prototype.getGeometryName=function(){return this.geometryName_},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.handleGeometryChange_=function(){this.changed()},n.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Ya(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=bo(e,Ii.CHANGE,this.handleGeometryChange_,this)),this.changed()},n.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},n.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?qne(e):void 0,this.changed()},n.prototype.setId=function(e){this.id_=e,this.changed()},n.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},n}(ah);function qne(t){if(typeof t=="function")return t;var n;if(Array.isArray(t))n=t;else{ao(typeof t.getZIndex=="function",41);var e=t;n=[e]}return function(){return n}}var bA={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Hh={};Hh[bA.RADIANS]=6370997/(2*Math.PI);Hh[bA.DEGREES]=2*Math.PI*6370997/360;Hh[bA.FEET]=.3048;Hh[bA.METERS]=1;Hh[bA.USFEET]=1200/3937;var Dm=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Vne=Dm.indexOf("firefox")!==-1,Hne=Dm.indexOf("safari")!==-1&&Dm.indexOf("chrom")==-1;Hne&&(Dm.indexOf("version/15.4")>=0||Dm.match(/cpu (os|iphone os) 15_4 like mac os x/));var Zne=Dm.indexOf("webkit")!==-1&&Dm.indexOf("edge")==-1,Xne=Dm.indexOf("macintosh")!==-1,iR=typeof devicePixelRatio<"u"?devicePixelRatio:1,B4=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Jne=typeof Image<"u"&&Image.prototype.decode,oR=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch{}return t}(),aR=new Array(6);function wd(){return[1,0,0,1,0,0]}function ek(t){return I4(t,1,0,0,1,0,0)}function fB(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],f=n[0],g=n[1],x=n[2],I=n[3],B=n[4],D=n[5];return t[0]=e*f+i*g,t[1]=r*f+o*g,t[2]=e*x+i*I,t[3]=r*x+o*I,t[4]=e*B+i*D+s,t[5]=r*B+o*D+a,t}function I4(t,n,e,r,i,o,s){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t}function ere(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function ol(t,n){var e=n[0],r=n[1];return n[0]=t[0]*e+t[2]*r+t[4],n[1]=t[1]*e+t[3]*r+t[5],n}function Lw(t,n,e){return fB(t,I4(aR,n,0,0,e,0,0))}function tre(t,n,e){return I4(t,n,0,0,e,0,0)}function nre(t,n,e){return fB(t,I4(aR,1,0,0,1,n,e))}function Zh(t,n,e,r,i,o,s,a){var f=Math.sin(o),g=Math.cos(o);return t[0]=r*g,t[1]=i*f,t[2]=-r*f,t[3]=i*g,t[4]=s*r*g-a*r*f+n,t[5]=s*i*f+a*i*g+e,t}function pB(t,n){var e=rre(n);ao(e!==0,32);var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],f=n[5];return t[0]=s/e,t[1]=-i/e,t[2]=-o/e,t[3]=r/e,t[4]=(o*f-s*a)/e,t[5]=-(r*f-i*a)/e,t}function rre(t){return t[0]*t[3]-t[1]*t[2]}var tk;function sR(t){var n="matrix("+t.join(", ")+")";if(B4)return n;var e=tk||(tk=document.createElement("div"));return e.style.transform=n,e.style.transform}const iu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function m6(t){for(var n=Ed(),e=0,r=t.length;e<r;++e)dC(n,t[e]);return n}function ire(t,n,e){var r=Math.min.apply(null,t),i=Math.min.apply(null,n),o=Math.max.apply(null,t),s=Math.max.apply(null,n);return Xh(r,i,o,s,e)}function Em(t,n,e){return e?(e[0]=t[0]-n,e[1]=t[1]-n,e[2]=t[2]+n,e[3]=t[3]+n,e):[t[0]-n,t[1]-n,t[2]+n,t[3]+n]}function lR(t,n){return n?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n):t.slice()}function d1(t,n,e){var r,i;return n<t[0]?r=t[0]-n:t[2]<n?r=n-t[2]:r=0,e<t[1]?i=t[1]-e:t[3]<e?i=e-t[3]:i=0,r*r+i*i}function M_(t,n){return mB(t,n[0],n[1])}function dm(t,n){return t[0]<=n[0]&&n[2]<=t[2]&&t[1]<=n[1]&&n[3]<=t[3]}function mB(t,n,e){return t[0]<=n&&n<=t[2]&&t[1]<=e&&e<=t[3]}function g6(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],s=n[0],a=n[1],f=iu.UNKNOWN;return s<e?f=f|iu.LEFT:s>i&&(f=f|iu.RIGHT),a<r?f=f|iu.BELOW:a>o&&(f=f|iu.ABOVE),f===iu.UNKNOWN&&(f=iu.INTERSECTING),f}function Ed(){return[1/0,1/0,-1/0,-1/0]}function Xh(t,n,e,r,i){return i?(i[0]=t,i[1]=n,i[2]=e,i[3]=r,i):[t,n,e,r]}function S_(t){return Xh(1/0,1/0,-1/0,-1/0,t)}function uR(t,n){var e=t[0],r=t[1];return Xh(e,r,e,r,n)}function gB(t,n,e,r,i){var o=S_(i);return cR(o,t,n,e,r)}function hy(t,n){return t[0]==n[0]&&t[2]==n[2]&&t[1]==n[1]&&t[3]==n[3]}function AR(t,n){return n[0]<t[0]&&(t[0]=n[0]),n[2]>t[2]&&(t[2]=n[2]),n[1]<t[1]&&(t[1]=n[1]),n[3]>t[3]&&(t[3]=n[3]),t}function dC(t,n){n[0]<t[0]&&(t[0]=n[0]),n[0]>t[2]&&(t[2]=n[0]),n[1]<t[1]&&(t[1]=n[1]),n[1]>t[3]&&(t[3]=n[1])}function cR(t,n,e,r,i){for(;e<r;e+=i)ore(t,n[e],n[e+1]);return t}function ore(t,n,e){t[0]=Math.min(t[0],n),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],n),t[3]=Math.max(t[3],e)}function dR(t,n){var e;return e=n(k4(t)),e||(e=n(T4(t)),e)||(e=n(K4(t)),e)||(e=n(jm(t)),e)?e:!1}function y6(t){var n=0;return yB(t)||(n=is(t)*ZA(t)),n}function k4(t){return[t[0],t[1]]}function T4(t){return[t[2],t[1]]}function Fm(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function are(t,n){var e;return n==="bottom-left"?e=k4(t):n==="bottom-right"?e=T4(t):n==="top-left"?e=jm(t):n==="top-right"?e=K4(t):ao(!1,13),e}function v6(t,n,e,r,i){var o=C6(t,n,e,r),s=o[0],a=o[1],f=o[2],g=o[3],x=o[4],I=o[5],B=o[6],D=o[7];return Xh(Math.min(s,f,x,B),Math.min(a,g,I,D),Math.max(s,f,x,B),Math.max(a,g,I,D),i)}function C6(t,n,e,r){var i=n*r[0]/2,o=n*r[1]/2,s=Math.cos(e),a=Math.sin(e),f=i*s,g=i*a,x=o*s,I=o*a,B=t[0],D=t[1];return[B-f+I,D-g-x,B-f-I,D-g+x,B+f-I,D+g+x,B+f+I,D+g-x,B-f+I,D-g-x]}function ZA(t){return t[3]-t[1]}function G0(t,n,e){var r=e||Ed();return sl(t,n)?(t[0]>n[0]?r[0]=t[0]:r[0]=n[0],t[1]>n[1]?r[1]=t[1]:r[1]=n[1],t[2]<n[2]?r[2]=t[2]:r[2]=n[2],t[3]<n[3]?r[3]=t[3]:r[3]=n[3]):S_(r),r}function jm(t){return[t[0],t[3]]}function K4(t){return[t[2],t[3]]}function is(t){return t[2]-t[0]}function sl(t,n){return t[0]<=n[2]&&t[2]>=n[0]&&t[1]<=n[3]&&t[3]>=n[1]}function yB(t){return t[2]<t[0]||t[3]<t[1]}function sre(t,n){return n?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n):t}function lre(t,n,e){var r=!1,i=g6(t,n),o=g6(t,e);if(i===iu.INTERSECTING||o===iu.INTERSECTING)r=!0;else{var s=t[0],a=t[1],f=t[2],g=t[3],x=n[0],I=n[1],B=e[0],D=e[1],L=(D-I)/(B-x),V=void 0,W=void 0;o&iu.ABOVE&&!(i&iu.ABOVE)&&(V=B-(D-g)/L,r=V>=s&&V<=f),!r&&o&iu.RIGHT&&!(i&iu.RIGHT)&&(W=D-(B-f)*L,r=W>=a&&W<=g),!r&&o&iu.BELOW&&!(i&iu.BELOW)&&(V=B-(D-a)/L,r=V>=s&&V<=f),!r&&o&iu.LEFT&&!(i&iu.LEFT)&&(W=D-(B-s)*L,r=W>=a&&W<=g)}return r}function ure(t,n,e,r){var i=[];if(r>1)for(var o=t[2]-t[0],s=t[3]-t[1],a=0;a<r;++a)i.push(t[0]+o*a/r,t[1],t[2],t[1]+s*a/r,t[2]-o*a/r,t[3],t[0],t[3]-s*a/r);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];n(i,i,2);for(var f=[],g=[],a=0,x=i.length;a<x;a+=2)f.push(i[a]),g.push(i[a+1]);return ire(f,g,e)}function hR(t,n){var e=n.getExtent(),r=Fm(t);if(n.canWrapX()&&(r[0]<e[0]||r[0]>=e[2])){var i=is(e),o=Math.floor((r[0]-e[0])/i),s=o*i;t[0]-=s,t[2]-=s}return t}function Are(t,n){if(n.canWrapX()){var e=n.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[e[0],t[1],e[2],t[3]]];hR(t,n);var r=is(e);if(is(t)>r)return[[e[0],t[1],e[2],t[3]]];if(t[0]<e[0])return[[t[0]+r,t[1],e[2],t[3]],[e[0],t[1],t[2],t[3]]];if(t[2]>e[2])return[[t[0],t[1],e[2],t[3]],[e[0],t[1],t[2]-r,t[3]]]}return[t]}var cre=function(){function t(n){this.code_=n.code,this.units_=n.units,this.extent_=n.extent!==void 0?n.extent:null,this.worldExtent_=n.worldExtent!==void 0?n.worldExtent:null,this.axisOrientation_=n.axisOrientation!==void 0?n.axisOrientation:"enu",this.global_=n.global!==void 0?n.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=n.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=n.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Hh[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(n){this.global_=n,this.canWrapX_=!!(n&&this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n},t.prototype.setExtent=function(n){this.extent_=n,this.canWrapX_=!!(this.global_&&n)},t.prototype.setWorldExtent=function(n){this.worldExtent_=n},t.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();const vB=cre;function _l(t,n,e){return Math.min(Math.max(t,n),e)}var dre=function(){var t;return"cosh"in Math?t=Math.cosh:t=function(n){var e=Math.exp(n);return(e+1/e)/2},t}(),hre=function(){var t;return"log2"in Math?t=Math.log2:t=function(n){return Math.log(n)*Math.LOG2E},t}();function fre(t,n,e,r,i,o){var s=i-e,a=o-r;if(s!==0||a!==0){var f=((t-e)*s+(n-r)*a)/(s*s+a*a);f>1?(e=i,r=o):f>0&&(e+=s*f,r+=a*f)}return Q0(t,n,e,r)}function Q0(t,n,e,r){var i=e-t,o=r-n;return i*i+o*o}function pre(t){for(var n=t.length,e=0;e<n;e++){for(var r=e,i=Math.abs(t[e][e]),o=e+1;o<n;o++){var s=Math.abs(t[o][e]);s>i&&(i=s,r=o)}if(i===0)return null;var a=t[r];t[r]=t[e],t[e]=a;for(var f=e+1;f<n;f++)for(var g=-t[f][e]/t[e][e],x=e;x<n+1;x++)e==x?t[f][x]=0:t[f][x]+=g*t[e][x]}for(var I=new Array(n),B=n-1;B>=0;B--){I[B]=t[B][n]/t[B][B];for(var D=B-1;D>=0;D--)t[D][n]-=t[D][B]*I[B]}return I}function $x(t){return t*Math.PI/180}function $0(t,n){var e=t%n;return e*n<0?e+n:e}function Zf(t,n,e){return t+e*(n-t)}function fR(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e}function Vb(t,n){return Math.floor(fR(t,n))}function Hb(t,n){return Math.ceil(fR(t,n))}var mre=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),E_=6378137,xg=Math.PI*E_,gre=[-xg,-xg,xg,xg],yre=[-180,-85,180,85],Zb=E_*Math.log(Math.tan(Math.PI/2)),Y1=function(t){mre(n,t);function n(e){return t.call(this,{code:e,units:bA.METERS,extent:gre,global:!0,worldExtent:yre,getPointResolution:function(r,i){return r/dre(i[1]/E_)}})||this}return n}(vB),nk=[new Y1("EPSG:3857"),new Y1("EPSG:102100"),new Y1("EPSG:102113"),new Y1("EPSG:900913"),new Y1("http://www.opengis.net/def/crs/EPSG/0/3857"),new Y1("http://www.opengis.net/gml/srs/epsg.xml#3857")];function vre(t,n,e){var r=t.length,i=e>1?e:2,o=n;o===void 0&&(i>2?o=t.slice():o=new Array(r));for(var s=0;s<r;s+=i){o[s]=xg*t[s]/180;var a=E_*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>Zb?a=Zb:a<-Zb&&(a=-Zb),o[s+1]=a}return o}function Cre(t,n,e){var r=t.length,i=e>1?e:2,o=n;o===void 0&&(i>2?o=t.slice():o=new Array(r));for(var s=0;s<r;s+=i)o[s]=180*t[s]/xg,o[s+1]=360*Math.atan(Math.exp(t[s+1]/E_))/Math.PI-90;return o}var _re=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bre=6378137,rk=[-180,-90,180,90],xre=Math.PI*bre/180,l0=function(t){_re(n,t);function n(e,r){return t.call(this,{code:e,units:bA.DEGREES,extent:rk,axisOrientation:r,global:!0,metersPerUnit:xre,worldExtent:rk})||this}return n}(vB),ik=[new l0("CRS:84"),new l0("EPSG:4326","neu"),new l0("urn:ogc:def:crs:OGC:1.3:CRS84"),new l0("urn:ogc:def:crs:OGC:2:84"),new l0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new l0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new l0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],_6={};function wre(t){return _6[t]||_6[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Mre(t,n){_6[t]=n}var Gg={};function Z2(t,n,e){var r=t.getCode(),i=n.getCode();r in Gg||(Gg[r]={}),Gg[r][i]=e}function Sre(t,n){var e;return t in Gg&&n in Gg[t]&&(e=Gg[t][n]),e}function Ere(t,n){return t[0]+=+n[0],t[1]+=+n[1],t}function X2(t,n){for(var e=!0,r=t.length-1;r>=0;--r)if(t[r]!=n[r]){e=!1;break}return e}function CB(t,n){var e=Math.cos(n),r=Math.sin(n),i=t[0]*e-t[1]*r,o=t[1]*e+t[0]*r;return t[0]=i,t[1]=o,t}function Ore(t,n){return t[0]*=n,t[1]*=n,t}function _B(t,n){if(n.canWrapX()){var e=is(n.getExtent()),r=Bre(t,n,e);r&&(t[0]-=r*e)}return t}function Bre(t,n,e){var r=n.getExtent(),i=0;if(n.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=e||is(r);i=Math.floor((t[0]-r[0])/o)}return i}var Ire=63710088e-1;function ok(t,n,e){var r=e||Ire,i=$x(t[1]),o=$x(n[1]),s=(o-i)/2,a=$x(n[0]-t[0])/2,f=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}var b6=!0;function pR(t){var n=t===void 0?!0:t;b6=!n}function bB(t,n,e){var r;if(n!==void 0){for(var i=0,o=t.length;i<o;++i)n[i]=t[i];r=n}else r=t.slice();return r}function mR(t,n,e){if(n!==void 0&&t!==n){for(var r=0,i=t.length;r<i;++r)n[r]=t[r];t=n}return t}function kre(t){Mre(t.getCode(),t),Z2(t,t,bB)}function Tre(t){t.forEach(kre)}function Os(t){return typeof t=="string"?wre(t):t||null}function ak(t,n,e,r){t=Os(t);var i,o=t.getPointResolutionFunc();if(o){if(i=o(n,e),r&&r!==t.getUnits()){var s=t.getMetersPerUnit();s&&(i=i*s/Hh[r])}}else{var a=t.getUnits();if(a==bA.DEGREES&&!r||r==bA.DEGREES)i=n;else{var f=P4(t,Os("EPSG:4326"));if(f===mR&&a!==bA.DEGREES)i=n*t.getMetersPerUnit();else{var g=[e[0]-n/2,e[1],e[0]+n/2,e[1],e[0],e[1]-n/2,e[0],e[1]+n/2];g=f(g,g,2);var x=ok(g.slice(0,2),g.slice(2,4)),I=ok(g.slice(4,6),g.slice(6,8));i=(x+I)/2}var s=r?Hh[r]:t.getMetersPerUnit();s!==void 0&&(i/=s)}}return i}function sk(t){Tre(t),t.forEach(function(n){t.forEach(function(e){n!==e&&Z2(n,e,bB)})})}function Kre(t,n,e,r){t.forEach(function(i){n.forEach(function(o){Z2(i,o,e),Z2(o,i,r)})})}function xB(t,n){return t?typeof t=="string"?Os(t):t:Os(n)}function x6(t,n){return pR(),wB(t,"EPSG:4326",n!==void 0?n:"EPSG:3857")}function Rw(t,n){var e=wB(t,n!==void 0?n:"EPSG:3857","EPSG:4326"),r=e[0];return(r<-180||r>180)&&(e[0]=$0(r+180,360)-180),e}function x0(t,n){if(t===n)return!0;var e=t.getUnits()===n.getUnits();if(t.getCode()===n.getCode())return e;var r=P4(t,n);return r===bB&&e}function P4(t,n){var e=t.getCode(),r=n.getCode(),i=Sre(e,r);return i||(i=mR),i}function J2(t,n){var e=Os(t),r=Os(n);return P4(e,r)}function wB(t,n,e){var r=J2(n,e);return r(t,void 0,t.length)}var Pre=null;function Ure(){return Pre}function w6(t,n){return t}function Gf(t,n){return b6&&!X2(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(b6=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function gR(t,n){return t}function T0(t,n){return t}function Dre(){sk(nk),sk(ik),Kre(ik,nk,vre,Cre)}Dre();function Om(t,n,e,r,i,o){for(var s=o||[],a=0,f=n;f<e;f+=r){var g=t[f],x=t[f+1];s[a++]=i[0]*g+i[2]*x+i[4],s[a++]=i[1]*g+i[3]*x+i[5]}return o&&s.length!=a&&(s.length=a),s}function yR(t,n,e,r,i,o,s){for(var a=s||[],f=Math.cos(i),g=Math.sin(i),x=o[0],I=o[1],B=0,D=n;D<e;D+=r){var L=t[D]-x,V=t[D+1]-I;a[B++]=x+L*f-V*g,a[B++]=I+L*g+V*f;for(var W=D+2;W<D+r;++W)a[B++]=t[W]}return s&&a.length!=B&&(a.length=B),a}function Fre(t,n,e,r,i,o,s,a){for(var f=a||[],g=s[0],x=s[1],I=0,B=n;B<e;B+=r){var D=t[B]-g,L=t[B+1]-x;f[I++]=g+i*D,f[I++]=x+o*L;for(var V=B+2;V<B+r;++V)f[I++]=t[V]}return a&&f.length!=I&&(f.length=I),f}function Lre(t,n,e,r,i,o,s){for(var a=s||[],f=0,g=n;g<e;g+=r){a[f++]=t[g]+i,a[f++]=t[g+1]+o;for(var x=g+2;x<g+r;++x)a[f++]=t[x]}return s&&a.length!=f&&(a.length=f),a}var Rre=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lk=wd(),zre=function(t){Rre(n,t);function n(){var e=t.call(this)||this;return e.extent_=Ed(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=Lne(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),e}return n.prototype.simplifyTransformed=function(e,r){return this.simplifyTransformedInternal(this.getRevision(),e,r)},n.prototype.clone=function(){return ui()},n.prototype.closestPointXY=function(e,r,i,o){return ui()},n.prototype.containsXY=function(e,r){var i=this.getClosestPoint([e,r]);return i[0]===e&&i[1]===r},n.prototype.getClosestPoint=function(e,r){var i=r||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},n.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},n.prototype.computeExtent=function(e){return ui()},n.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&S_(r),this.extentRevision_=this.getRevision()}return sre(this.extent_,e)},n.prototype.rotate=function(e,r){ui()},n.prototype.scale=function(e,r,i){ui()},n.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},n.prototype.getSimplifiedGeometry=function(e){return ui()},n.prototype.getType=function(){return ui()},n.prototype.applyTransform=function(e){ui()},n.prototype.intersectsExtent=function(e){return ui()},n.prototype.translate=function(e,r){ui()},n.prototype.transform=function(e,r){var i=Os(e),o=i.getUnits()==bA.TILE_PIXELS?function(s,a,f){var g=i.getExtent(),x=i.getWorldExtent(),I=ZA(x)/ZA(g);return Zh(lk,x[0],x[3],I,-I,0,0,0),Om(s,0,s.length,f,lk,a),J2(i,r)(s,a,f)}:J2(i,r);return this.applyTransform(o),this},n}(ah);const vR=zre;var jre=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wre=function(t){jre(n,t);function n(e){var r=t.call(this)||this;return r.geometries_=e||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return n.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Ya),this.changeEventsKeys_.length=0},n.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,r=this.geometries_.length;e<r;++e)this.changeEventsKeys_.push(bo(this.geometries_[e],Ii.CHANGE,this.changed,this))},n.prototype.clone=function(){var e=new n(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,o){if(o<d1(this.getExtent(),e,r))return o;for(var s=this.geometries_,a=0,f=s.length;a<f;++a)o=s[a].closestPointXY(e,r,i,o);return o},n.prototype.containsXY=function(e,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)if(i[o].containsXY(e,r))return!0;return!1},n.prototype.computeExtent=function(e){S_(e);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)AR(e,r[i].getExtent());return e},n.prototype.getGeometries=function(){return uk(this.geometries_)},n.prototype.getGeometriesArray=function(){return this.geometries_},n.prototype.getGeometriesArrayRecursive=function(){for(var e=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?e=e.concat(r[i].getGeometriesArrayRecursive()):e.push(r[i]);return e},n.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var f=i[s],g=f.getSimplifiedGeometry(e);r.push(g),g!==f&&(o=!0)}if(o){var x=new n(null);return x.setGeometriesArray(r),x}else return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},n.prototype.getType=function(){return"GeometryCollection"},n.prototype.intersectsExtent=function(e){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(e))return!0;return!1},n.prototype.isEmpty=function(){return this.geometries_.length===0},n.prototype.rotate=function(e,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].rotate(e,r);this.changed()},n.prototype.scale=function(e,r,i){var o=i;o||(o=Fm(this.getExtent()));for(var s=this.geometries_,a=0,f=s.length;a<f;++a)s[a].scale(e,r,o);this.changed()},n.prototype.setGeometries=function(e){this.setGeometriesArray(uk(e))},n.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},n.prototype.applyTransform=function(e){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(e);this.changed()},n.prototype.translate=function(e,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].translate(e,r);this.changed()},n.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},n}(vR);function uk(t){for(var n=[],e=0,r=t.length;e<r;++e)n.push(t[e].clone());return n}const Nre=Wre;var CR=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(n,e){var r;if(e){var i=e.dataProjection?Os(e.dataProjection):this.readProjection(n);e.extent&&i&&i.getUnits()===bA.TILE_PIXELS&&(i=Os(i),i.setWorldExtent(e.extent)),r={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(r)},t.prototype.adaptOptions=function(n){return ul({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},n)},t.prototype.getType=function(){return ui()},t.prototype.readFeature=function(n,e){return ui()},t.prototype.readFeatures=function(n,e){return ui()},t.prototype.readGeometry=function(n,e){return ui()},t.prototype.readProjection=function(n){return ui()},t.prototype.writeFeature=function(n,e){return ui()},t.prototype.writeFeatures=function(n,e){return ui()},t.prototype.writeGeometry=function(n,e){return ui()},t}();function MB(t,n,e){var r=e?Os(e.featureProjection):null,i=e?Os(e.dataProjection):null,o;if(r&&i&&!x0(r,i)?o=(n?t.clone():t).transform(n?r:i,n?i:r):o=t,n&&e&&e.decimals!==void 0){var s=Math.pow(10,e.decimals),a=function(f){for(var g=0,x=f.length;g<x;++g)f[g]=Math.round(f[g]*s)/s;return f};o===t&&(o=t.clone()),o.applyTransform(a)}return o}var Gre=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qre=function(t){Gre(n,t);function n(){return t.call(this)||this}return n.prototype.getType=function(){return"json"},n.prototype.readFeature=function(e,r){return this.readFeatureFromObject(Xb(e),this.getReadOptions(e,r))},n.prototype.readFeatures=function(e,r){return this.readFeaturesFromObject(Xb(e),this.getReadOptions(e,r))},n.prototype.readFeatureFromObject=function(e,r){return ui()},n.prototype.readFeaturesFromObject=function(e,r){return ui()},n.prototype.readGeometry=function(e,r){return this.readGeometryFromObject(Xb(e),this.getReadOptions(e,r))},n.prototype.readGeometryFromObject=function(e,r){return ui()},n.prototype.readProjection=function(e){return this.readProjectionFromObject(Xb(e))},n.prototype.readProjectionFromObject=function(e){return ui()},n.prototype.writeFeature=function(e,r){return JSON.stringify(this.writeFeatureObject(e,r))},n.prototype.writeFeatureObject=function(e,r){return ui()},n.prototype.writeFeatures=function(e,r){return JSON.stringify(this.writeFeaturesObject(e,r))},n.prototype.writeFeaturesObject=function(e,r){return ui()},n.prototype.writeGeometry=function(e,r){return JSON.stringify(this.writeGeometryObject(e,r))},n.prototype.writeGeometryObject=function(e,r){return ui()},n}(CR);function Xb(t){if(typeof t=="string"){var n=JSON.parse(t);return n||null}else return t!==null?t:null}const $re=Qre,Ia={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var Yre=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qre=function(t){Yre(n,t);function n(){var e=t.call(this)||this;return e.layout=Ia.XY,e.stride=2,e.flatCoordinates=null,e}return n.prototype.computeExtent=function(e){return gB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},n.prototype.getCoordinates=function(){return ui()},n.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},n.prototype.getFlatCoordinates=function(){return this.flatCoordinates},n.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},n.prototype.getLayout=function(){return this.layout},n.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(e),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},n.prototype.getSimplifiedGeometryInternal=function(e){return this},n.prototype.getStride=function(){return this.stride},n.prototype.setFlatCoordinates=function(e,r){this.stride=Ak(e),this.layout=e,this.flatCoordinates=r},n.prototype.setCoordinates=function(e,r){ui()},n.prototype.setLayout=function(e,r,i){var o;if(e)o=Ak(e);else{for(var s=0;s<i;++s)if(r.length===0){this.layout=Ia.XY,this.stride=2;return}else r=r[0];o=r.length,e=Vre(o)}this.layout=e,this.stride=o},n.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},n.prototype.rotate=function(e,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();yR(i,0,i.length,o,e,r,i),this.changed()}},n.prototype.scale=function(e,r,i){var o=r;o===void 0&&(o=e);var s=i;s||(s=Fm(this.getExtent()));var a=this.getFlatCoordinates();if(a){var f=this.getStride();Fre(a,0,a.length,f,e,o,s,a),this.changed()}},n.prototype.translate=function(e,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Lre(i,0,i.length,o,e,r,i),this.changed()}},n}(vR);function Vre(t){var n;return t==2?n=Ia.XY:t==3?n=Ia.XYZ:t==4&&(n=Ia.XYZM),n}function Ak(t){var n;return t==Ia.XY?n=2:t==Ia.XYZ||t==Ia.XYM?n=3:t==Ia.XYZM&&(n=4),n}function Hre(t,n,e){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return Om(r,0,r.length,i,n,e)}else return null}const h1=qre;function ck(t,n,e,r,i,o,s){var a=t[n],f=t[n+1],g=t[e]-a,x=t[e+1]-f,I;if(g===0&&x===0)I=n;else{var B=((i-a)*g+(o-f)*x)/(g*g+x*x);if(B>1)I=e;else if(B>0){for(var D=0;D<r;++D)s[D]=Zf(t[n+D],t[e+D],B);s.length=r;return}else I=n}for(var D=0;D<r;++D)s[D]=t[I+D];s.length=r}function SB(t,n,e,r,i){var o=t[n],s=t[n+1];for(n+=r;n<e;n+=r){var a=t[n],f=t[n+1],g=Q0(o,s,a,f);g>i&&(i=g),o=a,s=f}return i}function EB(t,n,e,r,i){for(var o=0,s=e.length;o<s;++o){var a=e[o];i=SB(t,n,a,r,i),n=a}return i}function Zre(t,n,e,r,i){for(var o=0,s=e.length;o<s;++o){var a=e[o];i=EB(t,n,a,r,i),n=a[a.length-1]}return i}function OB(t,n,e,r,i,o,s,a,f,g,x){if(n==e)return g;var I,B;if(i===0)if(B=Q0(s,a,t[n],t[n+1]),B<g){for(I=0;I<r;++I)f[I]=t[n+I];return f.length=r,B}else return g;for(var D=x||[NaN,NaN],L=n+r;L<e;)if(ck(t,L-r,L,r,s,a,D),B=Q0(s,a,D[0],D[1]),B<g){for(g=B,I=0;I<r;++I)f[I]=D[I];f.length=r,L+=r}else L+=r*Math.max((Math.sqrt(B)-Math.sqrt(g))/i|0,1);if(o&&(ck(t,e-r,n,r,s,a,D),B=Q0(s,a,D[0],D[1]),B<g)){for(g=B,I=0;I<r;++I)f[I]=D[I];f.length=r}return g}function BB(t,n,e,r,i,o,s,a,f,g,x){for(var I=x||[NaN,NaN],B=0,D=e.length;B<D;++B){var L=e[B];g=OB(t,n,L,r,i,o,s,a,f,g,I),n=L}return g}function Xre(t,n,e,r,i,o,s,a,f,g,x){for(var I=x||[NaN,NaN],B=0,D=e.length;B<D;++B){var L=e[B];g=BB(t,n,L,r,i,o,s,a,f,g,I),n=L[L.length-1]}return g}function Jre(t,n,e,r){for(var i=0,o=e.length;i<o;++i)t[n++]=e[i];return n}function U4(t,n,e,r){for(var i=0,o=e.length;i<o;++i)for(var s=e[i],a=0;a<r;++a)t[n++]=s[a];return n}function IB(t,n,e,r,i){for(var o=i||[],s=0,a=0,f=e.length;a<f;++a){var g=U4(t,n,e[a],r);o[s++]=g,n=g}return o.length=s,o}function eie(t,n,e,r,i){for(var o=i||[],s=0,a=0,f=e.length;a<f;++a){var g=IB(t,n,e[a],r,o[s]);o[s++]=g,n=g[g.length-1]}return o.length=s,o}function kB(t,n,e,r,i,o,s){var a=(e-n)/r;if(a<3){for(;n<e;n+=r)o[s++]=t[n],o[s++]=t[n+1];return s}var f=new Array(a);f[0]=1,f[a-1]=1;for(var g=[n,e-r],x=0;g.length>0;){for(var I=g.pop(),B=g.pop(),D=0,L=t[B],V=t[B+1],W=t[I],j=t[I+1],G=B+r;G<I;G+=r){var ee=t[G],re=t[G+1],se=fre(ee,re,L,V,W,j);se>D&&(x=G,D=se)}D>i&&(f[(x-n)/r]=1,B+r<x&&g.push(B,x),x+r<I&&g.push(x,I))}for(var G=0;G<a;++G)f[G]&&(o[s++]=t[n+G*r],o[s++]=t[n+G*r+1]);return s}function tie(t,n,e,r,i,o,s,a){for(var f=0,g=e.length;f<g;++f){var x=e[f];s=kB(t,n,x,r,i,o,s),a.push(s),n=x}return s}function g0(t,n){return n*Math.round(t/n)}function nie(t,n,e,r,i,o,s){if(n==e)return s;var a=g0(t[n],i),f=g0(t[n+1],i);n+=r,o[s++]=a,o[s++]=f;var g,x;do if(g=g0(t[n],i),x=g0(t[n+1],i),n+=r,n==e)return o[s++]=g,o[s++]=x,s;while(g==a&&x==f);for(;n<e;){var I=g0(t[n],i),B=g0(t[n+1],i);if(n+=r,!(I==g&&B==x)){var D=g-a,L=x-f,V=I-a,W=B-f;if(D*W==L*V&&(D<0&&V<D||D==V||D>0&&V>D)&&(L<0&&W<L||L==W||L>0&&W>L)){g=I,x=B;continue}o[s++]=g,o[s++]=x,a=g,f=x,g=I,x=B}}return o[s++]=g,o[s++]=x,s}function _R(t,n,e,r,i,o,s,a){for(var f=0,g=e.length;f<g;++f){var x=e[f];s=nie(t,n,x,r,i,o,s),a.push(s),n=x}return s}function rie(t,n,e,r,i,o,s,a){for(var f=0,g=e.length;f<g;++f){var x=e[f],I=[];s=_R(t,n,x,r,i,o,s,I),a.push(I),n=x[x.length-1]}return s}function bR(t,n,e,r,i){var o;for(n+=r;n<e;n+=r)if(o=i(t.slice(n-r,n),t.slice(n,n+r)),o)return o;return!1}function hm(t,n,e,r,i){for(var o=i!==void 0?i:[],s=0,a=n;a<e;a+=r)o[s++]=t.slice(a,a+r);return o.length=s,o}function zC(t,n,e,r,i){for(var o=i!==void 0?i:[],s=0,a=0,f=e.length;a<f;++a){var g=e[a];o[s++]=hm(t,n,g,r,o[s]),n=g}return o.length=s,o}function M6(t,n,e,r,i){for(var o=i!==void 0?i:[],s=0,a=0,f=e.length;a<f;++a){var g=e[a];o[s++]=zC(t,n,g,r,o[s]),n=g[g.length-1]}return o.length=s,o}function e3(t,n,e,r,i,o,s){var a,f,g=(e-n)/r;if(g===1)a=n;else if(g===2)a=n,f=i;else if(g!==0){for(var x=t[n],I=t[n+1],B=0,D=[0],L=n+r;L<e;L+=r){var V=t[L],W=t[L+1];B+=Math.sqrt((V-x)*(V-x)+(W-I)*(W-I)),D.push(B),x=V,I=W}var j=i*B,G=Une(D,j);G<0?(f=(j-D[-G-2])/(D[-G-1]-D[-G-2]),a=n+(-G-2)*r):a=n+G*r}for(var ee=s>1?s:2,re=o||new Array(ee),L=0;L<ee;++L)re[L]=a===void 0?NaN:f===void 0?t[a+L]:Zf(t[a+L],t[a+r+L],f);return re}function S6(t,n,e,r,i,o){if(e==n)return null;var s;if(i<t[n+r-1])return o?(s=t.slice(n,n+r),s[r-1]=i,s):null;if(t[e-1]<i)return o?(s=t.slice(e-r,e),s[r-1]=i,s):null;if(i==t[n+r-1])return t.slice(n,n+r);for(var a=n/r,f=e/r;a<f;){var g=a+f>>1;i<t[(g+1)*r-1]?f=g:a=g+1}var x=t[a*r-1];if(i==x)return t.slice((a-1)*r,(a-1)*r+r);var I=t[(a+1)*r-1],B=(i-x)/(I-x);s=[];for(var D=0;D<r-1;++D)s.push(Zf(t[(a-1)*r+D],t[a*r+D],B));return s.push(i),s}function iie(t,n,e,r,i,o,s){if(s)return S6(t,n,e[e.length-1],r,i,o);var a;if(i<t[r-1])return o?(a=t.slice(0,r),a[r-1]=i,a):null;if(t[t.length-1]<i)return o?(a=t.slice(t.length-r),a[r-1]=i,a):null;for(var f=0,g=e.length;f<g;++f){var x=e[f];if(n!=x){if(i<t[n+r-1])return null;if(i<=t[x-1])return S6(t,n,x,r,i,!1);n=x}}return null}function oie(t,n,e,r,i){var o=dR(i,function(s){return!K0(t,n,e,r,s[0],s[1])});return!o}function K0(t,n,e,r,i,o){for(var s=0,a=t[e-r],f=t[e-r+1];n<e;n+=r){var g=t[n],x=t[n+1];f<=o?x>o&&(g-a)*(o-f)-(i-a)*(x-f)>0&&s++:x<=o&&(g-a)*(o-f)-(i-a)*(x-f)<0&&s--,a=g,f=x}return s!==0}function TB(t,n,e,r,i,o){if(e.length===0||!K0(t,n,e[0],r,i,o))return!1;for(var s=1,a=e.length;s<a;++s)if(K0(t,e[s-1],e[s],r,i,o))return!1;return!0}function aie(t,n,e,r,i,o){if(e.length===0)return!1;for(var s=0,a=e.length;s<a;++s){var f=e[s];if(TB(t,n,f,r,i,o))return!0;n=f[f.length-1]}return!1}function D4(t,n,e,r,i){var o=cR(Ed(),t,n,e,r);return sl(i,o)?dm(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:bR(t,n,e,r,function(s,a){return lre(i,s,a)}):!1}function sie(t,n,e,r,i){for(var o=0,s=e.length;o<s;++o){if(D4(t,n,e[o],r,i))return!0;n=e[o]}return!1}function xR(t,n,e,r,i){return!!(D4(t,n,e,r,i)||K0(t,n,e,r,i[0],i[1])||K0(t,n,e,r,i[0],i[3])||K0(t,n,e,r,i[2],i[1])||K0(t,n,e,r,i[2],i[3]))}function wR(t,n,e,r,i){if(!xR(t,n,e[0],r,i))return!1;if(e.length===1)return!0;for(var o=1,s=e.length;o<s;++o)if(oie(t,e[o-1],e[o],r,i)&&!D4(t,e[o-1],e[o],r,i))return!1;return!0}function lie(t,n,e,r,i){for(var o=0,s=e.length;o<s;++o){var a=e[o];if(wR(t,n,a,r,i))return!0;n=a[a.length-1]}return!1}function MR(t,n,e,r){for(var i=t[n],o=t[n+1],s=0,a=n+r;a<e;a+=r){var f=t[a],g=t[a+1];s+=Math.sqrt((f-i)*(f-i)+(g-o)*(g-o)),i=f,o=g}return s}var uie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Aie=function(t){uie(n,t);function n(e,r){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(e[0])?i.setFlatCoordinates(r,e):i.setCoordinates(e,r),i}return n.prototype.appendCoordinate=function(e){this.flatCoordinates?qh(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,o){return o<d1(this.getExtent(),e,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(SB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),OB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,r,i,o))},n.prototype.forEachSegment=function(e){return bR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},n.prototype.getCoordinateAtM=function(e,r){if(this.layout!=Ia.XYM&&this.layout!=Ia.XYZM)return null;var i=r!==void 0?r:!1;return S6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,i)},n.prototype.getCoordinates=function(){return hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinateAt=function(e,r){return e3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,this.stride)},n.prototype.getLength=function(){return MR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},n.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=kB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new n(r,Ia.XY)},n.prototype.getType=function(){return"LineString"},n.prototype.intersectsExtent=function(e){return D4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=U4(this.flatCoordinates,0,e,this.stride),this.changed()},n}(h1);const t3=Aie;var cie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),die=function(t){cie(n,t);function n(e,r,i){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,e),o.ends_=i;else{for(var s=o.getLayout(),a=e,f=[],g=[],x=0,I=a.length;x<I;++x){var B=a[x];x===0&&(s=B.getLayout()),qh(f,B.getFlatCoordinates()),g.push(f.length)}o.setFlatCoordinates(s,f),o.ends_=g}return o}return n.prototype.appendLineString=function(e){this.flatCoordinates?qh(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,o){return o<d1(this.getExtent(),e,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(EB(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),BB(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,r,i,o))},n.prototype.getCoordinateAtM=function(e,r,i){if(this.layout!=Ia.XYM&&this.layout!=Ia.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,s=i!==void 0?i:!1;return iie(this.flatCoordinates,0,this.ends_,this.stride,e,o,s)},n.prototype.getCoordinates=function(){return zC(this.flatCoordinates,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new t3(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},n.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],s=0,a=0,f=r.length;a<f;++a){var g=r[a],x=new t3(e.slice(s,g),i);o.push(x),s=g}return o},n.prototype.getFlatMidpoints=function(){for(var e=[],r=this.flatCoordinates,i=0,o=this.ends_,s=this.stride,a=0,f=o.length;a<f;++a){var g=o[a],x=e3(r,i,g,s,.5);qh(e,x),i=g}return e},n.prototype.getSimplifiedGeometryInternal=function(e){var r=[],i=[];return r.length=tie(this.flatCoordinates,0,this.ends_,this.stride,e,r,0,i),new n(r,Ia.XY,i)},n.prototype.getType=function(){return"MultiLineString"},n.prototype.intersectsExtent=function(e){return sie(this.flatCoordinates,0,this.ends_,this.stride,e)},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=IB(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},n}(h1);const SR=die;var hie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fie=function(t){hie(n,t);function n(e,r){var i=t.call(this)||this;return i.setCoordinates(e,r),i}return n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,o){var s=this.flatCoordinates,a=Q0(e,r,s[0],s[1]);if(a<o){for(var f=this.stride,g=0;g<f;++g)i[g]=s[g];return i.length=f,a}else return o},n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},n.prototype.computeExtent=function(e){return uR(this.flatCoordinates,e)},n.prototype.getType=function(){return"Point"},n.prototype.intersectsExtent=function(e){return mB(e,this.flatCoordinates[0],this.flatCoordinates[1])},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Jre(this.flatCoordinates,0,e,this.stride),this.changed()},n}(h1);const jC=fie;var pie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mie=function(t){pie(n,t);function n(e,r){var i=t.call(this)||this;return r&&!Array.isArray(e[0])?i.setFlatCoordinates(r,e):i.setCoordinates(e,r),i}return n.prototype.appendPoint=function(e){this.flatCoordinates?qh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,o){if(o<d1(this.getExtent(),e,r))return o;for(var s=this.flatCoordinates,a=this.stride,f=0,g=s.length;f<g;f+=a){var x=Q0(e,r,s[f],s[f+1]);if(x<o){o=x;for(var I=0;I<a;++I)i[I]=s[f+I];i.length=a}}return o},n.prototype.getCoordinates=function(){return hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getPoint=function(e){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||r<=e?null:new jC(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},n.prototype.getPoints=function(){for(var e=this.flatCoordinates,r=this.layout,i=this.stride,o=[],s=0,a=e.length;s<a;s+=i){var f=new jC(e.slice(s,s+i),r);o.push(f)}return o},n.prototype.getType=function(){return"MultiPoint"},n.prototype.intersectsExtent=function(e){for(var r=this.flatCoordinates,i=this.stride,o=0,s=r.length;o<s;o+=i){var a=r[o],f=r[o+1];if(mB(e,a,f))return!0}return!1},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=U4(this.flatCoordinates,0,e,this.stride),this.changed()},n}(h1);const KB=mie;function ER(t,n,e,r){for(var i=0,o=t[e-r],s=t[e-r+1];n<e;n+=r){var a=t[n],f=t[n+1];i+=s*a-o*f,o=a,s=f}return i/2}function OR(t,n,e,r){for(var i=0,o=0,s=e.length;o<s;++o){var a=e[o];i+=ER(t,n,a,r),n=a}return i}function gie(t,n,e,r){for(var i=0,o=0,s=e.length;o<s;++o){var a=e[o];i+=OR(t,n,a,r),n=a[a.length-1]}return i}var yie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vie=function(t){yie(n,t);function n(e,r){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(e[0])?i.setFlatCoordinates(r,e):i.setCoordinates(e,r),i}return n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(e,r,i,o){return o<d1(this.getExtent(),e,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(SB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),OB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,r,i,o))},n.prototype.getArea=function(){return ER(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinates=function(){return hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=kB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new n(r,Ia.XY)},n.prototype.getType=function(){return"LinearRing"},n.prototype.intersectsExtent=function(e){return!1},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=U4(this.flatCoordinates,0,e,this.stride),this.changed()},n}(h1);const dk=vie;function PB(t,n,e,r,i,o,s){for(var a,f,g,x,I,B,D,L=i[o+1],V=[],W=0,j=e.length;W<j;++W){var G=e[W];for(x=t[G-r],B=t[G-r+1],a=n;a<G;a+=r)I=t[a],D=t[a+1],(L<=B&&D<=L||B<=L&&L<=D)&&(g=(L-B)/(D-B)*(I-x)+x,V.push(g)),x=I,B=D}var ee=NaN,re=-1/0;for(V.sort(t1),x=V[0],a=1,f=V.length;a<f;++a){I=V[a];var se=Math.abs(I-x);se>re&&(g=(x+I)/2,TB(t,n,e,r,g,L)&&(ee=g,re=se)),x=I}return isNaN(ee)&&(ee=i[o]),s?(s.push(ee,L,re),s):[ee,L,re]}function BR(t,n,e,r,i){for(var o=[],s=0,a=e.length;s<a;++s){var f=e[s];o=PB(t,n,f,r,i,2*s,o),n=f[f.length-1]}return o}function Cie(t,n,e,r){for(;n<e-r;){for(var i=0;i<r;++i){var o=t[n+i];t[n+i]=t[e-r+i],t[e-r+i]=o}n+=r,e-=r}}function UB(t,n,e,r){for(var i=0,o=t[e-r],s=t[e-r+1];n<e;n+=r){var a=t[n],f=t[n+1];i+=(a-o)*(f+s),o=a,s=f}return i===0?void 0:i>0}function IR(t,n,e,r,i){for(var o=i!==void 0?i:!1,s=0,a=e.length;s<a;++s){var f=e[s],g=UB(t,n,f,r);if(s===0){if(o&&g||!o&&!g)return!1}else if(o&&!g||!o&&g)return!1;n=f}return!0}function _ie(t,n,e,r,i){for(var o=0,s=e.length;o<s;++o){var a=e[o];if(!IR(t,n,a,r,i))return!1;a.length&&(n=a[a.length-1])}return!0}function E6(t,n,e,r,i){for(var o=i!==void 0?i:!1,s=0,a=e.length;s<a;++s){var f=e[s],g=UB(t,n,f,r),x=s===0?o&&g||!o&&!g:o&&!g||!o&&g;x&&Cie(t,n,f,r),n=f}return n}function hk(t,n,e,r,i){for(var o=0,s=e.length;o<s;++o)n=E6(t,n,e[o],r,i);return n}function bie(t,n){for(var e=[],r=0,i=0,o=0,s=n.length;o<s;++o){var a=n[o];if(!UB(t,r,a,2))e.push(n.slice(i,o+1));else{if(e.length===0)continue;e[e.length-1].push(n[i])}i=o+1,r=a}return e}var xie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kR=function(t){xie(n,t);function n(e,r,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,e),o.ends_=i):o.setCoordinates(e,r),o}return n.prototype.appendLinearRing=function(e){this.flatCoordinates?qh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},n.prototype.closestPointXY=function(e,r,i,o){return o<d1(this.getExtent(),e,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(EB(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),BB(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,r,i,o))},n.prototype.containsXY=function(e,r){return TB(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,r)},n.prototype.getArea=function(){return OR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},n.prototype.getCoordinates=function(e){var r;return e!==void 0?(r=this.getOrientedFlatCoordinates().slice(),E6(r,0,this.ends_,this.stride,e)):r=this.flatCoordinates,zC(r,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Fm(this.getExtent());this.flatInteriorPoint_=PB(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},n.prototype.getInteriorPoint=function(){return new jC(this.getFlatInteriorPoint(),Ia.XYM)},n.prototype.getLinearRingCount=function(){return this.ends_.length},n.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new dk(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},n.prototype.getLinearRings=function(){for(var e=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],s=0,a=0,f=i.length;a<f;++a){var g=i[a],x=new dk(r.slice(s,g),e);o.push(x),s=g}return o},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;IR(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=E6(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(e){var r=[],i=[];return r.length=_R(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),r,0,i),new n(r,Ia.XY,i)},n.prototype.getType=function(){return"Polygon"},n.prototype.intersectsExtent=function(e){return wR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=IB(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},n}(h1);const WC=kR;function fk(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=[n,e,n,i,r,i,r,e,n,e];return new kR(o,Ia.XY,[o.length])}function TR(t,n,e,r){for(var i=[],o=Ed(),s=0,a=e.length;s<a;++s){var f=e[s];o=gB(t,n,f[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),n=f[f.length-1]}return i}var wie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mie=function(t){wie(n,t);function n(e,r,i){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var s=o.getLayout(),a=e,f=[],g=[],x=0,I=a.length;x<I;++x){var B=a[x];x===0&&(s=B.getLayout());for(var D=f.length,L=B.getEnds(),V=0,W=L.length;V<W;++V)L[V]+=D;qh(f,B.getFlatCoordinates()),g.push(L)}r=s,e=f,i=g}return r!==void 0&&i?(o.setFlatCoordinates(r,e),o.endss_=i):o.setCoordinates(e,r),o}return n.prototype.appendPolygon=function(e){var r;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),r=e.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;qh(this.flatCoordinates,e.getFlatCoordinates()),r=e.getEnds().slice();for(var o=0,s=r.length;o<s;++o)r[o]+=i}this.endss_.push(r),this.changed()},n.prototype.clone=function(){for(var e=this.endss_.length,r=new Array(e),i=0;i<e;++i)r[i]=this.endss_[i].slice();var o=new n(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},n.prototype.closestPointXY=function(e,r,i,o){return o<d1(this.getExtent(),e,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zre(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xre(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,r,i,o))},n.prototype.containsXY=function(e,r){return aie(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,r)},n.prototype.getArea=function(){return gie(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},n.prototype.getCoordinates=function(e){var r;return e!==void 0?(r=this.getOrientedFlatCoordinates().slice(),hk(r,0,this.endss_,this.stride,e)):r=this.flatCoordinates,M6(r,0,this.endss_,this.stride)},n.prototype.getEndss=function(){return this.endss_},n.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=TR(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=BR(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},n.prototype.getInteriorPoints=function(){return new KB(this.getFlatInteriorPoints().slice(),Ia.XYM)},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;_ie(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=hk(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(e){var r=[],i=[];return r.length=rie(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,i),new n(r,Ia.XY,i)},n.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var r;if(e===0)r=0;else{var i=this.endss_[e-1];r=i[i.length-1]}var o=this.endss_[e].slice(),s=o[o.length-1];if(r!==0)for(var a=0,f=o.length;a<f;++a)o[a]-=r;return new WC(this.flatCoordinates.slice(r,s),this.layout,o)},n.prototype.getPolygons=function(){for(var e=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],s=0,a=0,f=i.length;a<f;++a){var g=i[a].slice(),x=g[g.length-1];if(s!==0)for(var I=0,B=g.length;I<B;++I)g[I]-=s;var D=new WC(r.slice(s,x),e,g);o.push(D),s=x}return o},n.prototype.getType=function(){return"MultiPolygon"},n.prototype.intersectsExtent=function(e){return lie(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},n.prototype.setCoordinates=function(e,r){this.setLayout(r,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=eie(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},n}(h1);const KR=Mie;var Sie=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eie=function(t){Sie(n,t);function n(e){var r=this,i=e||{};return r=t.call(this)||this,r.dataProjection=Os(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=Os(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return n.prototype.readFeatureFromObject=function(e,r){var i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};var o=O6(i.geometry,r),s=new Yne;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(o),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s},n.prototype.readFeaturesFromObject=function(e,r){var i=e,o=null;if(i.type==="FeatureCollection"){var s=e;o=[];for(var a=s.features,f=0,g=a.length;f<g;++f)o.push(this.readFeatureFromObject(a[f],r))}else o=[this.readFeatureFromObject(e,r)];return o},n.prototype.readGeometryFromObject=function(e,r){return O6(e,r)},n.prototype.readProjectionFromObject=function(e){var r=e.crs,i;return r?r.type=="name"?i=Os(r.properties.name):r.type==="EPSG"?i=Os("EPSG:"+r.properties.code):ao(!1,36):i=this.dataProjection,i},n.prototype.writeFeatureObject=function(e,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=e.getId();if(o!==void 0&&(i.id=o),!e.hasProperties())return i;var s=e.getProperties(),a=e.getGeometry();return a&&(i.geometry=B6(a,r),delete s[e.getGeometryName()]),r1(s)||(i.properties=s),i},n.prototype.writeFeaturesObject=function(e,r){r=this.adaptOptions(r);for(var i=[],o=0,s=e.length;o<s;++o)i.push(this.writeFeatureObject(e[o],r));return{type:"FeatureCollection",features:i}},n.prototype.writeGeometryObject=function(e,r){return B6(e,this.adaptOptions(r))},n}($re);function O6(t,n){if(!t)return null;var e;switch(t.type){case"Point":{e=Bie(t);break}case"LineString":{e=Iie(t);break}case"Polygon":{e=Pie(t);break}case"MultiPoint":{e=Tie(t);break}case"MultiLineString":{e=kie(t);break}case"MultiPolygon":{e=Kie(t);break}case"GeometryCollection":{e=Oie(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return MB(e,!1,n)}function Oie(t,n){var e=t.geometries.map(function(r){return O6(r,n)});return new Nre(e)}function Bie(t){return new jC(t.coordinates)}function Iie(t){return new t3(t.coordinates)}function kie(t){return new SR(t.coordinates)}function Tie(t){return new KB(t.coordinates)}function Kie(t){return new KR(t.coordinates)}function Pie(t){return new WC(t.coordinates)}function B6(t,n){t=MB(t,!0,n);var e=t.getType(),r;switch(e){case"Point":{r=zie(t);break}case"LineString":{r=Die(t);break}case"Polygon":{r=jie(t,n);break}case"MultiPoint":{r=Lie(t);break}case"MultiLineString":{r=Fie(t);break}case"MultiPolygon":{r=Rie(t,n);break}case"GeometryCollection":{r=Uie(t,n);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+e)}return r}function Uie(t,n){var e=t.getGeometriesArray().map(function(r){var i=ul({},n);return delete i.featureProjection,B6(r,i)});return{type:"GeometryCollection",geometries:e}}function Die(t,n){return{type:"LineString",coordinates:t.getCoordinates()}}function Fie(t,n){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function Lie(t,n){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function Rie(t,n){var e;return n&&(e=n.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(e)}}function zie(t,n){return{type:"Point",coordinates:t.getCoordinates()}}function jie(t,n){var e;return n&&(e=n.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(e)}}var Wie=qo,Jb=f4;function qo(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}qo.Varint=0;qo.Fixed64=1;qo.Bytes=2;qo.Fixed32=5;var I6=65536*65536,pk=1/I6,Nie=12,PR=typeof TextDecoder>"u"?null:new TextDecoder("utf8");qo.prototype={destroy:function(){this.buf=null},readFields:function(t,n,e){for(e=e||this.length;this.pos<e;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,t(i,n,this),this.pos===o&&this.skip(r)}return n},readMessage:function(t,n){return this.readFields(t,n,this.readVarint()+this.pos)},readFixed32:function(){var t=ex(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=gk(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=ex(this.buf,this.pos)+ex(this.buf,this.pos+4)*I6;return this.pos+=8,t},readSFixed64:function(){var t=ex(this.buf,this.pos)+gk(this.buf,this.pos+4)*I6;return this.pos+=8,t},readFloat:function(){var t=Jb.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Jb.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var n=this.buf,e,r;return r=n[this.pos++],e=r&127,r<128||(r=n[this.pos++],e|=(r&127)<<7,r<128)||(r=n[this.pos++],e|=(r&127)<<14,r<128)||(r=n[this.pos++],e|=(r&127)<<21,r<128)?e:(r=n[this.pos],e|=(r&15)<<28,Gie(e,t,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,n=this.pos;return this.pos=t,t-n>=Nie&&PR?ioe(this.buf,n,t):roe(this.buf,n,t)},readBytes:function(){var t=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,t);return this.pos=t,n},readPackedVarint:function(t,n){if(this.type!==qo.Bytes)return t.push(this.readVarint(n));var e=Ff(this);for(t=t||[];this.pos<e;)t.push(this.readVarint(n));return t},readPackedSVarint:function(t){if(this.type!==qo.Bytes)return t.push(this.readSVarint());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==qo.Bytes)return t.push(this.readBoolean());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==qo.Bytes)return t.push(this.readFloat());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==qo.Bytes)return t.push(this.readDouble());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==qo.Bytes)return t.push(this.readFixed32());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==qo.Bytes)return t.push(this.readSFixed32());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==qo.Bytes)return t.push(this.readFixed64());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==qo.Bytes)return t.push(this.readSFixed64());var n=Ff(this);for(t=t||[];this.pos<n;)t.push(this.readSFixed64());return t},skip:function(t){var n=t&7;if(n===qo.Varint)for(;this.buf[this.pos++]>127;);else if(n===qo.Bytes)this.pos=this.readVarint()+this.pos;else if(n===qo.Fixed32)this.pos+=4;else if(n===qo.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+n)},writeTag:function(t,n){this.writeVarint(t<<3|n)},realloc:function(t){for(var n=this.length||16;n<this.pos+t;)n*=2;if(n!==this.length){var e=new Uint8Array(n);e.set(this.buf),this.buf=e,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),V1(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),V1(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),V1(this.buf,t&-1,this.pos),V1(this.buf,Math.floor(t*pk),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),V1(this.buf,t&-1,this.pos),V1(this.buf,Math.floor(t*pk),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t||0,t>268435455||t<0){Qie(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?-t*2-1:t*2)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(t.length*4),this.pos++;var n=this.pos;this.pos=ooe(this.buf,t,this.pos);var e=this.pos-n;e>=128&&mk(n,e,this),this.pos=n-1,this.writeVarint(e),this.pos+=e},writeFloat:function(t){this.realloc(4),Jb.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Jb.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var n=t.length;this.writeVarint(n),this.realloc(n);for(var e=0;e<n;e++)this.buf[this.pos++]=t[e]},writeRawMessage:function(t,n){this.pos++;var e=this.pos;t(n,this);var r=this.pos-e;r>=128&&mk(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,n,e){this.writeTag(t,qo.Bytes),this.writeRawMessage(n,e)},writePackedVarint:function(t,n){n.length&&this.writeMessage(t,qie,n)},writePackedSVarint:function(t,n){n.length&&this.writeMessage(t,Vie,n)},writePackedBoolean:function(t,n){n.length&&this.writeMessage(t,Xie,n)},writePackedFloat:function(t,n){n.length&&this.writeMessage(t,Hie,n)},writePackedDouble:function(t,n){n.length&&this.writeMessage(t,Zie,n)},writePackedFixed32:function(t,n){n.length&&this.writeMessage(t,Jie,n)},writePackedSFixed32:function(t,n){n.length&&this.writeMessage(t,eoe,n)},writePackedFixed64:function(t,n){n.length&&this.writeMessage(t,toe,n)},writePackedSFixed64:function(t,n){n.length&&this.writeMessage(t,noe,n)},writeBytesField:function(t,n){this.writeTag(t,qo.Bytes),this.writeBytes(n)},writeFixed32Field:function(t,n){this.writeTag(t,qo.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(t,n){this.writeTag(t,qo.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(t,n){this.writeTag(t,qo.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(t,n){this.writeTag(t,qo.Fixed64),this.writeSFixed64(n)},writeVarintField:function(t,n){this.writeTag(t,qo.Varint),this.writeVarint(n)},writeSVarintField:function(t,n){this.writeTag(t,qo.Varint),this.writeSVarint(n)},writeStringField:function(t,n){this.writeTag(t,qo.Bytes),this.writeString(n)},writeFloatField:function(t,n){this.writeTag(t,qo.Fixed32),this.writeFloat(n)},writeDoubleField:function(t,n){this.writeTag(t,qo.Fixed64),this.writeDouble(n)},writeBooleanField:function(t,n){this.writeVarintField(t,!!n)}};function Gie(t,n,e){var r=e.buf,i,o;if(o=r[e.pos++],i=(o&112)>>4,o<128||(o=r[e.pos++],i|=(o&127)<<3,o<128)||(o=r[e.pos++],i|=(o&127)<<10,o<128)||(o=r[e.pos++],i|=(o&127)<<17,o<128)||(o=r[e.pos++],i|=(o&127)<<24,o<128)||(o=r[e.pos++],i|=(o&1)<<31,o<128))return q1(t,i,n);throw new Error("Expected varint not more than 10 bytes")}function Ff(t){return t.type===qo.Bytes?t.readVarint()+t.pos:t.pos+1}function q1(t,n,e){return e?n*4294967296+(t>>>0):(n>>>0)*4294967296+(t>>>0)}function Qie(t,n){var e,r;if(t>=0?(e=t%4294967296|0,r=t/4294967296|0):(e=~(-t%4294967296),r=~(-t/4294967296),e^4294967295?e=e+1|0:(e=0,r=r+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");n.realloc(10),$ie(e,r,n),Yie(r,n)}function $ie(t,n,e){e.buf[e.pos++]=t&127|128,t>>>=7,e.buf[e.pos++]=t&127|128,t>>>=7,e.buf[e.pos++]=t&127|128,t>>>=7,e.buf[e.pos++]=t&127|128,t>>>=7,e.buf[e.pos]=t&127}function Yie(t,n){var e=(t&7)<<4;n.buf[n.pos++]|=e|((t>>>=3)?128:0),t&&(n.buf[n.pos++]=t&127|((t>>>=7)?128:0),t&&(n.buf[n.pos++]=t&127|((t>>>=7)?128:0),t&&(n.buf[n.pos++]=t&127|((t>>>=7)?128:0),t&&(n.buf[n.pos++]=t&127|((t>>>=7)?128:0),t&&(n.buf[n.pos++]=t&127)))))}function mk(t,n,e){var r=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(Math.LN2*7));e.realloc(r);for(var i=e.pos-1;i>=t;i--)e.buf[i+r]=e.buf[i]}function qie(t,n){for(var e=0;e<t.length;e++)n.writeVarint(t[e])}function Vie(t,n){for(var e=0;e<t.length;e++)n.writeSVarint(t[e])}function Hie(t,n){for(var e=0;e<t.length;e++)n.writeFloat(t[e])}function Zie(t,n){for(var e=0;e<t.length;e++)n.writeDouble(t[e])}function Xie(t,n){for(var e=0;e<t.length;e++)n.writeBoolean(t[e])}function Jie(t,n){for(var e=0;e<t.length;e++)n.writeFixed32(t[e])}function eoe(t,n){for(var e=0;e<t.length;e++)n.writeSFixed32(t[e])}function toe(t,n){for(var e=0;e<t.length;e++)n.writeFixed64(t[e])}function noe(t,n){for(var e=0;e<t.length;e++)n.writeSFixed64(t[e])}function ex(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16)+t[n+3]*16777216}function V1(t,n,e){t[e]=n,t[e+1]=n>>>8,t[e+2]=n>>>16,t[e+3]=n>>>24}function gk(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16)+(t[n+3]<<24)}function roe(t,n,e){for(var r="",i=n;i<e;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>e)break;var f,g,x;a===1?o<128&&(s=o):a===2?(f=t[i+1],(f&192)===128&&(s=(o&31)<<6|f&63,s<=127&&(s=null))):a===3?(f=t[i+1],g=t[i+2],(f&192)===128&&(g&192)===128&&(s=(o&15)<<12|(f&63)<<6|g&63,(s<=2047||s>=55296&&s<=57343)&&(s=null))):a===4&&(f=t[i+1],g=t[i+2],x=t[i+3],(f&192)===128&&(g&192)===128&&(x&192)===128&&(s=(o&15)<<18|(f&63)<<12|(g&63)<<6|x&63,(s<=65535||s>=1114112)&&(s=null))),s===null?(s=65533,a=1):s>65535&&(s-=65536,r+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),r+=String.fromCharCode(s),i+=a}return r}function ioe(t,n,e){return PR.decode(t.subarray(n,e))}function ooe(t,n,e){for(var r=0,i,o;r<n.length;r++){if(i=n.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){t[e++]=239,t[e++]=191,t[e++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===n.length?(t[e++]=239,t[e++]=191,t[e++]=189):o=i;continue}else o&&(t[e++]=239,t[e++]=191,t[e++]=189,o=null);i<128?t[e++]=i:(i<2048?t[e++]=i>>6|192:(i<65536?t[e++]=i>>12|224:(t[e++]=i>>18|240,t[e++]=i>>12&63|128),t[e++]=i>>6&63|128),t[e++]=i&63|128)}return e}const aoe=Qo(Wie);var yk=wd(),NC=function(){function t(n,e,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=n,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return t.prototype.get=function(n){return this.properties_[n]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?uR(this.flatCoordinates_):gB(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var n=Fm(this.getExtent());this.flatInteriorPoints_=PB(this.flatCoordinates_,0,this.ends_,2,n,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var n=TR(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=BR(this.flatCoordinates_,0,this.ends_,2,n)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=e3(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var n=this.flatCoordinates_,e=0,r=this.ends_,i=0,o=r.length;i<o;++i){var s=r[i],a=e3(n,e,s,2,.5);qh(this.flatMidpoints_,a),e=s}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(n){return this},t.prototype.simplifyTransformed=function(n,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){return this.styleFunction},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(n){n=Os(n);var e=n.getExtent(),r=n.getWorldExtent();if(e&&r){var i=ZA(r)/ZA(e);Zh(yk,r[0],r[3],i,-i,0,0,0),Om(this.flatCoordinates_,0,this.flatCoordinates_.length,2,yk,this.flatCoordinates_)}},t.prototype.getEnds=function(){return this.ends_},t}();NC.prototype.getEndss=NC.prototype.getEnds;NC.prototype.getFlatCoordinates=NC.prototype.getOrientedFlatCoordinates;const k6=NC;var soe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),loe=function(t){soe(n,t);function n(e){var r=t.call(this)||this,i=e||{};return r.dataProjection=new vB({code:"",units:bA.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:k6,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return n.prototype.readRawGeometry_=function(e,r,i,o){e.pos=r.geometry;for(var s=e.readVarint()+e.pos,a=1,f=0,g=0,x=0,I=0,B=0;e.pos<s;){if(!f){var D=e.readVarint();a=D&7,f=D>>3}f--,a===1||a===2?(g+=e.readSVarint(),x+=e.readSVarint(),a===1&&I>B&&(o.push(I),B=I),i.push(g,x),I+=2):a===7?I>B&&(i.push(i[B],i[B+1]),I+=2):ao(!1,59)}I>B&&(o.push(I),B=I)},n.prototype.createFeature_=function(e,r,i){var o=r.type;if(o===0)return null;var s,a=r.properties,f;this.idProperty_?(f=a[this.idProperty_],delete a[this.idProperty_]):f=r.id,a[this.layerName_]=r.layer.name;var g=[],x=[];this.readRawGeometry_(e,r,g,x);var I=hoe(o,x.length);if(this.featureClass_===k6)s=new this.featureClass_(I,g,x,a,f),s.transform(i.dataProjection);else{var B=void 0;if(I=="Polygon"){var D=bie(g,x);B=D.length>1?new KR(g,Ia.XY,D):new WC(g,Ia.XY,x)}else B=I==="Point"?new jC(g,Ia.XY):I==="LineString"?new t3(g,Ia.XY):I==="MultiPoint"?new KB(g,Ia.XY):I==="MultiLineString"?new SR(g,Ia.XY,x):null;var L=this.featureClass_;s=new L,this.geometryName_&&s.setGeometryName(this.geometryName_);var V=MB(B,!1,i);s.setGeometry(V),f!==void 0&&s.setId(f),s.setProperties(a,!0)}return s},n.prototype.getType=function(){return"arraybuffer"},n.prototype.readFeatures=function(e,r){var i=this.layers_,o=this.adaptOptions(r),s=Os(o.dataProjection);s.setWorldExtent(o.extent),o.dataProjection=s;var a=new aoe(e),f=a.readFields(uoe,{}),g=[];for(var x in f)if(!(i&&i.indexOf(x)==-1)){var I=f[x],B=I?[0,0,I.extent,I.extent]:null;s.setExtent(B);for(var D=0,L=I.length;D<L;++D){var V=doe(a,I,D),W=this.createFeature_(a,V,o);W!==null&&g.push(W)}}return g},n.prototype.readProjection=function(e){return this.dataProjection},n.prototype.setLayers=function(e){this.layers_=e},n}(CR);function uoe(t,n,e){if(t===3){var r={keys:[],values:[],features:[]},i=e.readVarint()+e.pos;e.readFields(Aoe,r,i),r.length=r.features.length,r.length&&(n[r.name]=r)}}function Aoe(t,n,e){if(t===15)n.version=e.readVarint();else if(t===1)n.name=e.readString();else if(t===5)n.extent=e.readVarint();else if(t===2)n.features.push(e.pos);else if(t===3)n.keys.push(e.readString());else if(t===4){for(var r=null,i=e.readVarint()+e.pos;e.pos<i;)t=e.readVarint()>>3,r=t===1?e.readString():t===2?e.readFloat():t===3?e.readDouble():t===4?e.readVarint64():t===5?e.readVarint():t===6?e.readSVarint():t===7?e.readBoolean():null;n.values.push(r)}}function coe(t,n,e){if(t==1)n.id=e.readVarint();else if(t==2)for(var r=e.readVarint()+e.pos;e.pos<r;){var i=n.layer.keys[e.readVarint()],o=n.layer.values[e.readVarint()];n.properties[i]=o}else t==3?n.type=e.readVarint():t==4&&(n.geometry=e.pos)}function doe(t,n,e){t.pos=n.features[e];var r=t.readVarint()+t.pos,i={layer:n,type:0,properties:{}};return t.readFields(coe,i,r),i}function hoe(t,n){var e;return t===1?e=n===1?"Point":"MultiPoint":t===2?e=n===1?"LineString":"MultiLineString":t===3&&(e="Polygon"),e}const foe=loe;var poe=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,moe=/^([a-z]*)$|^hsla?\(.*\)$/i;function UR(t){return typeof t=="string"?t:DR(t)}function goe(t){var n=document.createElement("div");if(n.style.color=t,n.style.color!==""){document.body.appendChild(n);var e=getComputedStyle(n).color;return document.body.removeChild(n),e}else return""}var yoe=function(){var t=1024,n={},e=0;return function(r){var i;if(n.hasOwnProperty(r))i=n[r];else{if(e>=t){var o=0;for(var s in n)o++&3||(delete n[s],--e)}i=voe(r),n[r]=i,++e}return i}}();function n3(t){return Array.isArray(t)?t:yoe(t)}function voe(t){var n,e,r,i,o;if(moe.exec(t)&&(t=goe(t)),poe.exec(t)){var s=t.length-1,a=void 0;s<=4?a=1:a=2;var f=s===4||s===8;n=parseInt(t.substr(1+0*a,a),16),e=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),f?i=parseInt(t.substr(1+3*a,a),16):i=255,a==1&&(n=(n<<4)+n,e=(e<<4)+e,r=(r<<4)+r,f&&(i=(i<<4)+i)),o=[n,e,r,i/255]}else t.indexOf("rgba(")==0?(o=t.slice(5,-1).split(",").map(Number),vk(o)):t.indexOf("rgb(")==0?(o=t.slice(4,-1).split(",").map(Number),o.push(1),vk(o)):ao(!1,14);return o}function vk(t){return t[0]=_l(t[0]+.5|0,0,255),t[1]=_l(t[1]+.5|0,0,255),t[2]=_l(t[2]+.5|0,0,255),t[3]=_l(t[3],0,1),t}function DR(t){var n=t[0];n!=(n|0)&&(n=n+.5|0);var e=t[1];e!=(e|0)&&(e=e+.5|0);var r=t[2];r!=(r|0)&&(r=r+.5|0);var i=t[3]===void 0?1:Math.round(t[3]*100)/100;return"rgba("+n+","+e+","+r+","+i+")"}var Coe=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var n=0;for(var e in this.cache_){var r=this.cache_[e];!(n++&3)&&!r.hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(n,e,r){var i=Ck(n,e,r);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(n,e,r,i){var o=Ck(n,e,r);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(n){this.maxCacheSize_=n,this.expire()},t}();function Ck(t,n,e){var r=e?UR(e):"null";return n+":"+t+":"+r}var r3=new Coe;const ua={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var _oe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),boe=function(t){_oe(n,t);function n(e){var r=t.call(this)||this;r.on,r.once,r.un,r.background_=e.background;var i=ul({},e);return typeof e.properties=="object"&&(delete i.properties,ul(i,e.properties)),i[ua.OPACITY]=e.opacity!==void 0?e.opacity:1,ao(typeof i[ua.OPACITY]=="number",64),i[ua.VISIBLE]=e.visible!==void 0?e.visible:!0,i[ua.Z_INDEX]=e.zIndex,i[ua.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,i[ua.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,i[ua.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,i[ua.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return n.prototype.getBackground=function(){return this.background_},n.prototype.getClassName=function(){return this.className_},n.prototype.getLayerState=function(e){var r=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return r.opacity=_l(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},n.prototype.getLayersArray=function(e){return ui()},n.prototype.getLayerStatesArray=function(e){return ui()},n.prototype.getExtent=function(){return this.get(ua.EXTENT)},n.prototype.getMaxResolution=function(){return this.get(ua.MAX_RESOLUTION)},n.prototype.getMinResolution=function(){return this.get(ua.MIN_RESOLUTION)},n.prototype.getMinZoom=function(){return this.get(ua.MIN_ZOOM)},n.prototype.getMaxZoom=function(){return this.get(ua.MAX_ZOOM)},n.prototype.getOpacity=function(){return this.get(ua.OPACITY)},n.prototype.getSourceState=function(){return ui()},n.prototype.getVisible=function(){return this.get(ua.VISIBLE)},n.prototype.getZIndex=function(){return this.get(ua.Z_INDEX)},n.prototype.setBackground=function(e){this.background_=e,this.changed()},n.prototype.setExtent=function(e){this.set(ua.EXTENT,e)},n.prototype.setMaxResolution=function(e){this.set(ua.MAX_RESOLUTION,e)},n.prototype.setMinResolution=function(e){this.set(ua.MIN_RESOLUTION,e)},n.prototype.setMaxZoom=function(e){this.set(ua.MAX_ZOOM,e)},n.prototype.setMinZoom=function(e){this.set(ua.MIN_ZOOM,e)},n.prototype.setOpacity=function(e){ao(typeof e=="number",64),this.set(ua.OPACITY,e)},n.prototype.setVisible=function(e){this.set(ua.VISIBLE,e)},n.prototype.setZIndex=function(e){this.set(ua.Z_INDEX,e)},n.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},n}(ah);const FR=boe,Bm={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var xoe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),F4=function(t){xoe(n,t);function n(e){var r=this,i=ul({},e);delete i.source,r=t.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,e.render&&(r.render=e.render),e.map&&r.setMap(e.map),r.addChangeListener(ua.SOURCE,r.handleSourcePropertyChange_);var o=e.source?e.source:null;return r.setSource(o),r}return n.prototype.getLayersArray=function(e){var r=e||[];return r.push(this),r},n.prototype.getLayerStatesArray=function(e){var r=e||[];return r.push(this.getLayerState()),r},n.prototype.getSource=function(){return this.get(ua.SOURCE)||null},n.prototype.getRenderSource=function(){return this.getSource()},n.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},n.prototype.handleSourceChange_=function(){this.changed()},n.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Ya(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=bo(e,Ii.CHANGE,this.handleSourceChange_,this)),this.changed()},n.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(r){return r([])})},n.prototype.getData=function(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)},n.prototype.render=function(e,r){var i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,r)},n.prototype.unrender=function(){this.rendered=!1},n.prototype.setMapInternal=function(e){e||this.unrender(),this.set(ua.MAP,e)},n.prototype.getMapInternal=function(){return this.get(ua.MAP)},n.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Ya(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ya(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=bo(e,Bm.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,s=this.getLayerState(!1);ao(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=bo(this,Ii.CHANGE,e.render,e),this.changed())},n.prototype.setSource=function(e){this.set(ua.SOURCE,e)},n.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},n.prototype.hasRenderer=function(){return!!this.renderer_},n.prototype.createRenderer=function(){return null},n.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},n}(FR);function i3(t,n){if(!t.visible)return!1;var e=n.resolution;if(e<t.minResolution||e>=t.maxResolution)return!1;var r=n.zoom;return r>t.minZoom&&r<=t.maxZoom}var woe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Moe=function(t){woe(n,t);function n(e){var r=t.call(this)||this;return r.map_=e,r}return n.prototype.dispatchRenderEvent=function(e,r){ui()},n.prototype.calculateMatrices2D=function(e){var r=e.viewState,i=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;Zh(i,e.size[0]/2,e.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),pB(o,i)},n.prototype.forEachFeatureAtCoordinate=function(e,r,i,o,s,a,f,g){var x,I=r.viewState;function B(ve,ft,Ft,tn){return s.call(a,ft,ve?Ft:null,tn)}var D=I.projection,L=_B(e.slice(),D),V=[[0,0]];if(D.canWrapX()&&o){var W=D.getExtent(),j=is(W);V.push([-j,0],[j,0])}for(var G=r.layerStatesArray,ee=G.length,re=[],se=[],oe=0;oe<V.length;oe++)for(var ue=ee-1;ue>=0;--ue){var me=G[ue],De=me.layer;if(De.hasRenderer()&&i3(me,I)&&f.call(g,De)){var Re=De.getRenderer(),et=De.getSource();if(Re&&et){var ht=et.getWrapX()?L:e,ke=B.bind(null,me.managed);se[0]=ht[0]+V[oe][0],se[1]=ht[1]+V[oe][1],x=Re.forEachFeatureAtCoordinate(se,r,i,ke,re)}if(x)return x}}if(re.length!==0){var Je=1/re.length;return re.forEach(function(ve,ft){return ve.distanceSq+=ft*Je}),re.sort(function(ve,ft){return ve.distanceSq-ft.distanceSq}),re.some(function(ve){return x=ve.callback(ve.feature,ve.layer,ve.geometry)}),x}},n.prototype.forEachLayerAtPixel=function(e,r,i,o,s){return ui()},n.prototype.hasFeatureAtCoordinate=function(e,r,i,o,s,a){var f=this.forEachFeatureAtCoordinate(e,r,i,o,Ng,this,s,a);return f!==void 0},n.prototype.getMap=function(){return this.map_},n.prototype.renderFrame=function(e){ui()},n.prototype.scheduleExpireIconCache=function(e){r3.canExpireCache()&&e.postRenderFunctions.push(Soe)},n}(dB);function Soe(t,n){r3.expire()}const Eoe=Moe;var Ooe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LR=function(t){Ooe(n,t);function n(e,r,i,o){var s=t.call(this,e)||this;return s.inversePixelTransform=r,s.frameState=i,s.context=o,s}return n}(mp),tx="ol-hidden",Boe="ol-selectable",L4="ol-unselectable",DB="ol-control",_k="ol-collapsed",Ioe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),bk=["style","variant","weight","size","lineHeight","family"],RR=function(t){var n=t.match(Ioe);if(!n)return null;for(var e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=bk.length;r<i;++r){var o=n[r+1];o!==void 0&&(e[bk[r]]=o)}return e.families=e.family.split(/,\s?/),e};function XA(t,n,e,r){var i;return e&&e.length?i=e.shift():B4?i=new OffscreenCanvas(t||300,n||300):i=document.createElement("canvas"),t&&(i.width=t),n&&(i.height=n),i.getContext("2d",r)}function FB(t){var n=t.canvas;n.width=1,n.height=1,t.clearRect(0,0,1,1)}function koe(t){var n=t.offsetWidth,e=getComputedStyle(t);return n+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10),n}function Toe(t){var n=t.offsetHeight,e=getComputedStyle(t);return n+=parseInt(e.marginTop,10)+parseInt(e.marginBottom,10),n}function xk(t,n){var e=n.parentNode;e&&e.replaceChild(t,n)}function o3(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function zR(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function Koe(t,n){for(var e=t.childNodes,r=0;;++r){var i=e[r],o=n[r];if(!i&&!o)break;if(i!==o){if(!i){t.appendChild(o);continue}if(!o){t.removeChild(i),--r;continue}t.insertBefore(o,i)}}}var jR="10px sans-serif",up="#000",a3="round",GC=[],QC=0,fy="round",$C=10,YC="#000",qC="center",s3="middle",P0=[0,0,0,0],VC=1,Qf=new ah,T6=new Oy;T6.setSize=function(){console.warn("labelCache is deprecated.")};var ug=null,K6,P6={},Poe=function(){var t=100,n="32px ",e=["monospace","serif"],r=e.length,i="wmytzilWMYTZIL@#/&?$%10",o,s;function a(g,x,I){for(var B=!0,D=0;D<r;++D){var L=e[D];if(s=l3(g+" "+x+" "+n+L,i),I!=L){var V=l3(g+" "+x+" "+n+I+","+L,i);B=B&&V!=s}}return!!B}function f(){for(var g=!0,x=Qf.getKeys(),I=0,B=x.length;I<B;++I){var D=x[I];Qf.get(D)<t&&(a.apply(this,D.split(`
`))?(w_(P6),ug=null,K6=void 0,Qf.set(D,t)):(Qf.set(D,Qf.get(D)+1,!0),g=!1))}g&&(clearInterval(o),o=void 0)}return function(g){var x=RR(g);if(x)for(var I=x.families,B=0,D=I.length;B<D;++B){var L=I[B],V=x.style+`
`+x.weight+`
`+L;Qf.get(V)===void 0&&(Qf.set(V,t,!0),a(x.style,x.weight,L)||(Qf.set(V,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),Uoe=function(){var t;return function(n){var e=P6[n];if(e==null){if(B4){var r=RR(n),i=WR(n,"g"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);e=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=n,document.body.appendChild(t),e=t.offsetHeight,document.body.removeChild(t);P6[n]=e}return e}}();function WR(t,n){return ug||(ug=XA(1,1)),t!=K6&&(ug.font=t,K6=ug.font),ug.measureText(n)}function l3(t,n){return WR(t,n).width}function wk(t,n,e){if(n in e)return e[n];var r=n.split(`
`).reduce(function(i,o){return Math.max(i,l3(t,o))},0);return e[n]=r,r}function Doe(t,n){for(var e=[],r=[],i=[],o=0,s=0,a=0,f=0,g=0,x=n.length;g<=x;g+=2){var I=n[g];if(I===`
`||g===x){o=Math.max(o,s),i.push(s),s=0,a+=f;continue}var B=n[g+1]||t.font,D=l3(B,I);e.push(D),s+=D;var L=Uoe(B);r.push(L),f=Math.max(f,L)}return{width:o,height:a,widths:e,heights:r,lineWidths:i}}function Foe(t,n,e,r,i,o,s,a,f,g,x){t.save(),e!==1&&(t.globalAlpha*=e),n&&t.setTransform.apply(t,n),r.contextInstructions?(t.translate(f,g),t.scale(x[0],x[1]),Loe(r,t)):x[0]<0||x[1]<0?(t.translate(f,g),t.scale(x[0],x[1]),t.drawImage(r,i,o,s,a,0,0,s,a)):t.drawImage(r,i,o,s,a,f,g,s*x[0],a*x[1]),t.restore()}function Loe(t,n){for(var e=t.contextInstructions,r=0,i=e.length;r<i;r+=2)Array.isArray(e[r+1])?n[e[r]].apply(n,e[r+1]):n[e[r]]=e[r+1]}var Roe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zoe=function(t){Roe(n,t);function n(e){var r=t.call(this,e)||this;r.fontChangeListenerKey_=bo(Qf,dy.PROPERTYCHANGE,e.redrawText.bind(e)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=L4+" ol-layers";var o=e.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return n.prototype.dispatchRenderEvent=function(e,r){var i=this.getMap();if(i.hasListener(e)){var o=new LR(e,void 0,r);i.dispatchEvent(o)}},n.prototype.disposeInternal=function(){Ya(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},n.prototype.renderFrame=function(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Bm.PRECOMPOSE,e);var r=e.layerStatesArray.sort(function(D,L){return D.zIndex-L.zIndex}),i=e.viewState;this.children_.length=0;for(var o=[],s=null,a=0,f=r.length;a<f;++a){var g=r[a];e.layerIndex=a;var x=g.layer,I=x.getSourceState();if(!i3(g,i)||I!="ready"&&I!="undefined"){x.unrender();continue}var B=x.render(e,s);B&&(B!==s&&(this.children_.push(B),s=B),"getDeclutter"in x&&o.push(x))}for(var a=o.length-1;a>=0;--a)o[a].renderDeclutter(e);Koe(this.element_,this.children_),this.dispatchRenderEvent(Bm.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)},n.prototype.forEachLayerAtPixel=function(e,r,i,o,s){for(var a=r.viewState,f=r.layerStatesArray,g=f.length,x=g-1;x>=0;--x){var I=f[x],B=I.layer;if(B.hasRenderer()&&i3(I,a)&&s(B)){var D=B.getRenderer(),L=D.getDataAtPixel(e,r,i);if(L){var V=o(B,L);if(V)return V}}}},n}(Eoe);const joe=zoe,YA={ADD:"add",REMOVE:"remove"};var NR=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mk={LENGTH:"length"},nx=function(t){NR(n,t);function n(e,r,i){var o=t.call(this,e)||this;return o.element=r,o.index=i,o}return n}(mp),_d=function(t){NR(n,t);function n(e,r){var i=t.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=e||[],i.unique_)for(var s=0,a=i.array_.length;s<a;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return n.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},n.prototype.extend=function(e){for(var r=0,i=e.length;r<i;++r)this.push(e[r]);return this},n.prototype.forEach=function(e){for(var r=this.array_,i=0,o=r.length;i<o;++i)e(r[i],i,r)},n.prototype.getArray=function(){return this.array_},n.prototype.item=function(e){return this.array_[e]},n.prototype.getLength=function(){return this.get(Mk.LENGTH)},n.prototype.insertAt=function(e,r){this.unique_&&this.assertUnique_(r),this.array_.splice(e,0,r),this.updateLength_(),this.dispatchEvent(new nx(YA.ADD,r,e))},n.prototype.pop=function(){return this.removeAt(this.getLength()-1)},n.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var r=this.getLength();return this.insertAt(r,e),this.getLength()},n.prototype.remove=function(e){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===e)return this.removeAt(i)},n.prototype.removeAt=function(e){var r=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new nx(YA.REMOVE,r,e)),r},n.prototype.setAt=function(e,r){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(r,e);var o=this.array_[e];this.array_[e]=r,this.dispatchEvent(new nx(YA.REMOVE,o,e)),this.dispatchEvent(new nx(YA.ADD,r,e))}else{for(var s=i;s<e;++s)this.insertAt(s,void 0);this.insertAt(e,r)}},n.prototype.updateLength_=function(){this.set(Mk.LENGTH,this.array_.length)},n.prototype.assertUnique_=function(e,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===e&&i!==r)throw new rR(58)},n}(ah),GR=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),em=function(t){GR(n,t);function n(e,r){var i=t.call(this,e)||this;return i.layer=r,i}return n}(mp),zw={LAYERS:"layers"},Woe=function(t){GR(n,t);function n(e){var r=this,i=e||{},o=ul({},i);delete o.layers;var s=i.layers;return r=t.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(zw.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new _d(s.slice(),{unique:!0}):ao(typeof s.getArray=="function",43):s=new _d(void 0,{unique:!0}),r.setLayers(s),r}return n.prototype.handleLayerChange_=function(){this.changed()},n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Ya),this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(bo(e,YA.ADD,this.handleLayersAdd_,this),bo(e,YA.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(Ya);w_(this.listenerKeys_);for(var i=e.getArray(),o=0,s=i.length;o<s;o++){var a=i[o];this.registerLayerListeners_(a),this.dispatchEvent(new em("addlayer",a))}this.changed()},n.prototype.registerLayerListeners_=function(e){var r=[bo(e,dy.PROPERTYCHANGE,this.handleLayerChange_,this),bo(e,Ii.CHANGE,this.handleLayerChange_,this)];e instanceof n&&r.push(bo(e,"addlayer",this.handleLayerGroupAdd_,this),bo(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Qi(e)]=r},n.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new em("addlayer",e.layer))},n.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new em("removelayer",e.layer))},n.prototype.handleLayersAdd_=function(e){var r=e.element;this.registerLayerListeners_(r),this.dispatchEvent(new em("addlayer",r)),this.changed()},n.prototype.handleLayersRemove_=function(e){var r=e.element,i=Qi(r);this.listenerKeys_[i].forEach(Ya),delete this.listenerKeys_[i],this.dispatchEvent(new em("removelayer",r)),this.changed()},n.prototype.getLayers=function(){return this.get(zw.LAYERS)},n.prototype.setLayers=function(e){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,s=i.length;o<s;++o)this.dispatchEvent(new em("removelayer",i[o]));this.set(zw.LAYERS,e)},n.prototype.getLayersArray=function(e){var r=e!==void 0?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},n.prototype.getLayerStatesArray=function(e){var r=e!==void 0?e:[],i=r.length;this.getLayers().forEach(function(x){x.getLayerStatesArray(r)});var o=this.getLayerState(),s=o.zIndex;!e&&o.zIndex===void 0&&(s=0);for(var a=i,f=r.length;a<f;a++){var g=r[a];g.opacity*=o.opacity,g.visible=g.visible&&o.visible,g.maxResolution=Math.min(g.maxResolution,o.maxResolution),g.minResolution=Math.max(g.minResolution,o.minResolution),g.minZoom=Math.max(g.minZoom,o.minZoom),g.maxZoom=Math.min(g.maxZoom,o.maxZoom),o.extent!==void 0&&(g.extent!==void 0?g.extent=G0(g.extent,o.extent):g.extent=o.extent),g.zIndex===void 0&&(g.zIndex=s)}return r},n.prototype.getSourceState=function(){return"ready"},n}(FR);const R4=Woe;var Noe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ag=function(t){Noe(n,t);function n(e,r,i){var o=t.call(this,e)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return n}(mp),Goe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hp=function(t){Goe(n,t);function n(e,r,i,o,s,a){var f=t.call(this,e,r,s)||this;return f.originalEvent=i,f.pixel_=null,f.coordinate_=null,f.dragging=o!==void 0?o:!1,f.activePointers=a,f}return Object.defineProperty(n.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),n.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},n.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},n}(Ag);const Rs={SINGLECLICK:"singleclick",CLICK:Ii.CLICK,DBLCLICK:Ii.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},U6={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Qoe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$oe=function(t){Qoe(n,t);function n(e,r){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=bo(o,U6.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=bo(o,U6.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(Ii.TOUCHMOVE,i.boundHandleTouchMove_,oR?{passive:!1}:!1),i}return n.prototype.emulateClick_=function(e){var r=new Hp(Rs.CLICK,this.map_,e);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new Hp(Rs.DBLCLICK,this.map_,e),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new Hp(Rs.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}).bind(this),250)},n.prototype.updateActivePointers_=function(e){var r=e,i=r.pointerId;if(r.type==Rs.POINTERUP||r.type==Rs.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==Rs.POINTERDOWN||r.type==Rs.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=eR(this.trackedTouches_)},n.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var r=new Hp(Rs.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ya),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},n.prototype.isMouseActionButton_=function(e){return e.button===0},n.prototype.handlePointerDown_=function(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);var r=new Hp(Rs.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in e){var o=e[i];this.down_[i]=typeof o=="function"?n1:o}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(bo(s,Rs.POINTERMOVE,this.handlePointerMove_,this),bo(s,Rs.POINTERUP,this.handlePointerUp_,this),bo(this.element_,Rs.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(bo(this.element_.getRootNode(),Rs.POINTERUP,this.handlePointerUp_,this))}},n.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var r=new Hp(Rs.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},n.prototype.relayMoveEvent_=function(e){this.originalPointerMoveEvent_=e;var r=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Hp(Rs.POINTERMOVE,this.map_,e,r))},n.prototype.handleTouchMove_=function(e){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()},n.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},n.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Ya(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ii.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ya(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ya),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},n}(Oy);const Yoe=$oe,$f={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},$u={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var u3=1/0,qoe=function(){function t(n,e){this.priorityFunction_=n,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,w_(this.queuedElements_)},t.prototype.dequeue=function(){var n=this.elements_,e=this.priorities_,r=n[0];n.length==1?(n.length=0,e.length=0):(n[0]=n.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},t.prototype.enqueue=function(n){ao(!(this.keyFunction_(n)in this.queuedElements_),31);var e=this.priorityFunction_(n);return e!=u3?(this.elements_.push(n),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(n)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(n){return n*2+1},t.prototype.getRightChildIndex_=function(n){return n*2+2},t.prototype.getParentIndex_=function(n){return n-1>>1},t.prototype.heapify_=function(){var n;for(n=(this.elements_.length>>1)-1;n>=0;n--)this.siftUp_(n)},t.prototype.isEmpty=function(){return this.elements_.length===0},t.prototype.isKeyQueued=function(n){return n in this.queuedElements_},t.prototype.isQueued=function(n){return this.isKeyQueued(this.keyFunction_(n))},t.prototype.siftUp_=function(n){for(var e=this.elements_,r=this.priorities_,i=e.length,o=e[n],s=r[n],a=n;n<i>>1;){var f=this.getLeftChildIndex_(n),g=this.getRightChildIndex_(n),x=g<i&&r[g]<r[f]?g:f;e[n]=e[x],r[n]=r[x],n=x}e[n]=o,r[n]=s,this.siftDown_(a,n)},t.prototype.siftDown_=function(n,e){for(var r=this.elements_,i=this.priorities_,o=r[e],s=i[e];e>n;){var a=this.getParentIndex_(e);if(i[a]>s)r[e]=r[a],i[e]=i[a],e=a;else break}r[e]=o,i[e]=s},t.prototype.reprioritize=function(){var n=this.priorityFunction_,e=this.elements_,r=this.priorities_,i=0,o=e.length,s,a,f;for(a=0;a<o;++a)s=e[a],f=n(s),f==u3?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=f,e[i++]=s);e.length=i,r.length=i,this.heapify_()},t}();const Voe=qoe,fr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Hoe=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zoe=function(t){Hoe(n,t);function n(e,r){var i=t.call(this,function(o){return e.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return n.prototype.enqueue=function(e){var r=t.prototype.enqueue.call(this,e);if(r){var i=e[0];i.addEventListener(Ii.CHANGE,this.boundHandleTileChange_)}return r},n.prototype.getTilesLoading=function(){return this.tilesLoading_},n.prototype.handleTileChange=function(e){var r=e.target,i=r.getState();if(i===fr.LOADED||i===fr.ERROR||i===fr.EMPTY){r.removeEventListener(Ii.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},n.prototype.loadMoreTiles=function(e,r){for(var i=0,o,s,a;this.tilesLoading_<e&&i<r&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),o=s.getState(),o===fr.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())},n}(Voe);const Xoe=Zoe;function Joe(t,n,e,r,i){if(!t||!(e in t.wantedTiles)||!t.wantedTiles[e][n.getKey()])return u3;var o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}const zs={ANIMATING:0,INTERACTING:1},qd={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var QR=42,LB=256;function Sk(t,n,e){return function(r,i,o,s,a){if(r){if(!i&&!n)return r;var f=n?0:o[0]*i,g=n?0:o[1]*i,x=a?a[0]:0,I=a?a[1]:0,B=t[0]+f/2+x,D=t[2]-f/2+x,L=t[1]+g/2+I,V=t[3]-g/2+I;B>D&&(B=(D+B)/2,D=B),L>V&&(L=(V+L)/2,V=L);var W=_l(r[0],B,D),j=_l(r[1],L,V);if(s&&e&&i){var G=30*i;W+=-G*Math.log(1+Math.max(0,B-r[0])/G)+G*Math.log(1+Math.max(0,r[0]-D)/G),j+=-G*Math.log(1+Math.max(0,L-r[1])/G)+G*Math.log(1+Math.max(0,r[1]-V)/G)}return[W,j]}}}function eae(t){return t}function RB(t,n,e,r){var i=is(n)/e[0],o=ZA(n)/e[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function zB(t,n,e){var r=Math.min(t,n),i=50;return r*=Math.log(1+i*Math.max(0,t/n-1))/i+1,e&&(r=Math.max(r,e),r/=Math.log(1+i*Math.max(0,e/t-1))/i+1),_l(r,e/2,n*2)}function tae(t,n,e,r){return function(i,o,s,a){if(i!==void 0){var f=t[0],g=t[t.length-1],x=e?RB(f,e,s,r):f;if(a){var I=n!==void 0?n:!0;return I?zB(i,x,g):_l(i,g,x)}var B=Math.min(x,i),D=Math.floor(hB(t,B,o));return t[D]>x&&D<t.length-1?t[D+1]:t[D]}else return}}function nae(t,n,e,r,i,o){return function(s,a,f,g){if(s!==void 0){var x=i?RB(n,i,f,o):n,I=e!==void 0?e:0;if(g){var B=r!==void 0?r:!0;return B?zB(s,x,I):_l(s,I,x)}var D=1e-9,L=Math.ceil(Math.log(n/x)/Math.log(t)-D),V=-a*(.5-D)+.5,W=Math.min(x,s),j=Math.floor(Math.log(n/W)/Math.log(t)+V),G=Math.max(L,j),ee=n/Math.pow(t,G);return _l(ee,I,x)}else return}}function Ek(t,n,e,r,i){return function(o,s,a,f){if(o!==void 0){var g=r?RB(t,r,a,i):t,x=e!==void 0?e:!0;return!x||!f?_l(o,n,g):zB(o,g,n)}else return}}function jB(t){if(t!==void 0)return 0}function Ok(t){if(t!==void 0)return t}function rae(t){var n=2*Math.PI/t;return function(e,r){if(r)return e;if(e!==void 0)return e=Math.floor(e/n+.5)*n,e}}function iae(t){var n=t||$x(5);return function(e,r){if(r)return e;if(e!==void 0)return Math.abs(e)<=n?0:e}}function $R(t){return Math.pow(t,3)}function By(t){return 1-$R(1-t)}function oae(t){return 3*t*t-2*t*t*t}function aae(t){return t}var sae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jw=0,tp=function(t){sae(n,t);function n(e){var r=t.call(this)||this;r.on,r.once,r.un;var i=ul({},e);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=xB(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&pR(),i.center&&(i.center=Gf(i.center,r.projection_)),i.extent&&(i.extent=T0(i.extent,r.projection_)),r.applyOptions_(i),r}return n.prototype.applyOptions_=function(e){var r=ul({},e);for(var i in qd)delete r[i];this.setProperties(r,!0);var o=uae(e);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=o.minZoom;var s=lae(e),a=o.constraint,f=Aae(e);this.constraints_={center:s,resolution:a,rotation:f},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)},Object.defineProperty(n.prototype,"padding",{get:function(){return this.padding_},set:function(e){var r=this.padding_;this.padding_=e;var i=this.getCenter();if(i){var o=e||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),a=s/2*(o[3]-r[3]+r[1]-o[1]),f=s/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+a,i[1]-f])}},enumerable:!1,configurable:!0}),n.prototype.getUpdatedOptions_=function(e){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),ul({},r,e)},n.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=ul({},o),o.center=Gf(o.center,this.getProjection())),o.anchor&&(o=ul({},o),o.anchor=Gf(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},n.prototype.animateInternal=function(e){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var s=arguments[o];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(o===r){i&&rx(i,!0);return}for(var a=Date.now(),f=this.targetCenter_.slice(),g=this.targetResolution_,x=this.targetRotation_,I=[];o<r;++o){var B=arguments[o],D={start:a,complete:!1,anchor:B.anchor,duration:B.duration!==void 0?B.duration:1e3,easing:B.easing||oae,callback:i};if(B.center&&(D.sourceCenter=f,D.targetCenter=B.center.slice(),f=D.targetCenter),B.zoom!==void 0?(D.sourceResolution=g,D.targetResolution=this.getResolutionForZoom(B.zoom),g=D.targetResolution):B.resolution&&(D.sourceResolution=g,D.targetResolution=B.resolution,g=D.targetResolution),B.rotation!==void 0){D.sourceRotation=x;var L=$0(B.rotation-x+Math.PI,2*Math.PI)-Math.PI;D.targetRotation=x+L,x=D.targetRotation}cae(D)?D.complete=!0:a+=D.duration,I.push(D)}this.animations_.push(I),this.setHint(zs.ANIMATING,1),this.updateAnimations_()},n.prototype.getAnimating=function(){return this.hints_[zs.ANIMATING]>0},n.prototype.getInteracting=function(){return this.hints_[zs.INTERACTING]>0},n.prototype.cancelAnimations=function(){this.setHint(zs.ANIMATING,-this.hints_[zs.ANIMATING]);for(var e,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&rx(o[0].callback,!1),!e)for(var s=0,a=o.length;s<a;++s){var f=o[s];if(!f.complete){e=f.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},n.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var e=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,a=0,f=o.length;a<f;++a){var g=o[a];if(!g.complete){var x=e-g.start,I=g.duration>0?x/g.duration:1;I>=1?(g.complete=!0,I=1):s=!1;var B=g.easing(I);if(g.sourceCenter){var D=g.sourceCenter[0],L=g.sourceCenter[1],V=g.targetCenter[0],W=g.targetCenter[1];this.nextCenter_=g.targetCenter;var j=D+B*(V-D),G=L+B*(W-L);this.targetCenter_=[j,G]}if(g.sourceResolution&&g.targetResolution){var ee=B===1?g.targetResolution:g.sourceResolution+B*(g.targetResolution-g.sourceResolution);if(g.anchor){var re=this.getViewportSize_(this.getRotation()),se=this.constraints_.resolution(ee,0,re,!0);this.targetCenter_=this.calculateCenterZoom(se,g.anchor)}this.nextResolution_=g.targetResolution,this.targetResolution_=ee,this.applyTargetState_(!0)}if(g.sourceRotation!==void 0&&g.targetRotation!==void 0){var oe=B===1?$0(g.targetRotation+Math.PI,2*Math.PI)-Math.PI:g.sourceRotation+B*(g.targetRotation-g.sourceRotation);if(g.anchor){var ue=this.constraints_.rotation(oe,!0);this.targetCenter_=this.calculateCenterRotate(ue,g.anchor)}this.nextRotation_=g.targetRotation,this.targetRotation_=oe}if(this.applyTargetState_(!0),r=!0,!g.complete)break}}if(s){this.animations_[i]=null,this.setHint(zs.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var me=o[0].callback;me&&rx(me,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},n.prototype.calculateCenterRotate=function(e,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],CB(i,e-this.getRotation()),Ere(i,r)),i},n.prototype.calculateCenterZoom=function(e,r){var i,o=this.getCenterInternal(),s=this.getResolution();if(o!==void 0&&s!==void 0){var a=r[0]-e*(r[0]-o[0])/s,f=r[1]-e*(r[1]-o[1])/s;i=[a,f]}return i},n.prototype.getViewportSize_=function(e){var r=this.viewportSize_;if(e){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(e))+Math.abs(o*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(o*Math.cos(e))]}else return r},n.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},n.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&w6(e,this.getProjection())},n.prototype.getCenterInternal=function(){return this.get(qd.CENTER)},n.prototype.getConstraints=function(){return this.constraints_},n.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},n.prototype.getHints=function(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},n.prototype.calculateExtent=function(e){var r=this.calculateExtentInternal(e);return gR(r,this.getProjection())},n.prototype.calculateExtentInternal=function(e){var r=e||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();ao(i,1);var o=this.getResolution();ao(o!==void 0,2);var s=this.getRotation();return ao(s!==void 0,3),v6(i,o,s,r)},n.prototype.getMaxResolution=function(){return this.maxResolution_},n.prototype.getMinResolution=function(){return this.minResolution_},n.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},n.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},n.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},n.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},n.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},n.prototype.getProjection=function(){return this.projection_},n.prototype.getResolution=function(){return this.get(qd.RESOLUTION)},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getResolutionForExtent=function(e,r){return this.getResolutionForExtentInternal(T0(e,this.getProjection()),r)},n.prototype.getResolutionForExtentInternal=function(e,r){var i=r||this.getViewportSizeMinusPadding_(),o=is(e)/i[0],s=ZA(e)/i[1];return Math.max(o,s)},n.prototype.getResolutionForValueFunction=function(e){var r=e||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/Math.log(r);return function(a){var f=i/Math.pow(r,a*s);return f}},n.prototype.getRotation=function(){return this.get(qd.ROTATION)},n.prototype.getValueForResolutionFunction=function(e){var r=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/r;return function(a){var f=Math.log(i/a)/r/s;return f}},n.prototype.getViewportSizeMinusPadding_=function(e){var r=this.getViewportSize_(e),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},n.prototype.getState=function(){var e=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding_;if(s){var a=this.getViewportSizeMinusPadding_();o=Ww(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],r,i)}return{center:o.slice(0),projection:e!==void 0?e:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},n.prototype.getZoom=function(){var e,r=this.getResolution();return r!==void 0&&(e=this.getZoomForResolution(r)),e},n.prototype.getZoomForResolution=function(e){var r=this.minZoom_||0,i,o;if(this.resolutions_){var s=hB(this.resolutions_,e,1);r=s,i=this.resolutions_[s],s==this.resolutions_.length-1?o=2:o=i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/e)/Math.log(o)},n.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=_l(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,_l(e-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},n.prototype.fit=function(e,r){var i;if(ao(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){ao(!yB(e),25);var o=T0(e,this.getProjection());i=fk(o)}else if(e.getType()==="Circle"){var o=T0(e.getExtent(),this.getProjection());i=fk(o),i.rotate(this.getRotation(),Fm(o))}else{var s=Ure();s?i=e.clone().transform(s,this.getProjection()):i=e}this.fitInternal(i,r)},n.prototype.rotatedExtentForGeometry=function(e){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),s=e.getFlatCoordinates(),a=e.getStride(),f=1/0,g=1/0,x=-1/0,I=-1/0,B=0,D=s.length;B<D;B+=a){var L=s[B]*i-s[B+1]*o,V=s[B]*o+s[B+1]*i;f=Math.min(f,L),g=Math.min(g,V),x=Math.max(x,L),I=Math.max(I,V)}return[f,g,x,I]},n.prototype.fitInternal=function(e,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var s=i.padding!==void 0?i.padding:[0,0,0,0],a=i.nearest!==void 0?i.nearest:!1,f;i.minResolution!==void 0?f=i.minResolution:i.maxZoom!==void 0?f=this.getResolutionForZoom(i.maxZoom):f=0;var g=this.rotatedExtentForGeometry(e),x=this.getResolutionForExtentInternal(g,[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);x=isNaN(x)?f:Math.max(x,f),x=this.getConstrainedResolution(x,a?0:1);var I=this.getRotation(),B=Math.sin(I),D=Math.cos(I),L=Fm(g);L[0]+=(s[1]-s[3])/2*x,L[1]+=(s[0]-s[2])/2*x;var V=L[0]*D-L[1]*B,W=L[1]*D+L[0]*B,j=this.getConstrainedCenter([V,W],x),G=i.callback?i.callback:n1;i.duration!==void 0?this.animateInternal({resolution:x,center:j,duration:i.duration,easing:i.easing},G):(this.targetResolution_=x,this.targetCenter_=j,this.applyTargetState_(!1,!0),rx(G,!0))},n.prototype.centerOn=function(e,r,i){this.centerOnInternal(Gf(e,this.getProjection()),r,i)},n.prototype.centerOnInternal=function(e,r,i){this.setCenterInternal(Ww(e,r,i,this.getResolution(),this.getRotation()))},n.prototype.calculateCenterShift=function(e,r,i,o){var s,a=this.padding_;if(a&&e){var f=this.getViewportSizeMinusPadding_(-i),g=Ww(e,o,[f[0]/2+a[3],f[1]/2+a[0]],r,i);s=[e[0]-g[0],e[1]-g[1]]}return s},n.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},n.prototype.adjustCenter=function(e){var r=w6(this.targetCenter_,this.getProjection());this.setCenter([r[0]+e[0],r[1]+e[1]])},n.prototype.adjustCenterInternal=function(e){var r=this.targetCenter_;this.setCenterInternal([r[0]+e[0],r[1]+e[1]])},n.prototype.adjustResolution=function(e,r){var i=r&&Gf(r,this.getProjection());this.adjustResolutionInternal(e,i)},n.prototype.adjustResolutionInternal=function(e,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=e,this.applyTargetState_()},n.prototype.adjustZoom=function(e,r){this.adjustResolution(Math.pow(this.zoomFactor_,-e),r)},n.prototype.adjustRotation=function(e,r){r&&(r=Gf(r,this.getProjection())),this.adjustRotationInternal(e,r)},n.prototype.adjustRotationInternal=function(e,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+e,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=e,this.applyTargetState_()},n.prototype.setCenter=function(e){this.setCenterInternal(e&&Gf(e,this.getProjection()))},n.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},n.prototype.setHint=function(e,r){return this.hints_[e]+=r,this.changed(),this.hints_[e]},n.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},n.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},n.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},n.prototype.applyTargetState_=function(e,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,i),f=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get(qd.ROTATION)!==o&&this.set(qd.ROTATION,o),this.get(qd.RESOLUTION)!==a&&(this.set(qd.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!f||!this.get(qd.CENTER)||!X2(this.get(qd.CENTER),f))&&this.set(qd.CENTER,f),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},n.prototype.resolveConstraints=function(e,r,i){var o=e!==void 0?e:200,s=r||0,a=this.constraints_.rotation(this.targetRotation_),f=this.getViewportSize_(a),g=this.constraints_.resolution(this.targetResolution_,s,f),x=this.constraints_.center(this.targetCenter_,g,f,!1,this.calculateCenterShift(this.targetCenter_,g,a,f));if(o===0&&!this.cancelAnchor_){this.targetResolution_=g,this.targetRotation_=a,this.targetCenter_=x,this.applyTargetState_();return}var I=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==g||this.getRotation()!==a||!this.getCenterInternal()||!X2(this.getCenterInternal(),x))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:x,resolution:g,duration:o,easing:By,anchor:I}))},n.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(zs.INTERACTING,1)},n.prototype.endInteraction=function(e,r,i){var o=i&&Gf(i,this.getProjection());this.endInteractionInternal(e,r,o)},n.prototype.endInteractionInternal=function(e,r,i){this.setHint(zs.INTERACTING,-1),this.resolveConstraints(e,r,i)},n.prototype.getConstrainedCenter=function(e,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,r||this.getResolution(),i)},n.prototype.getConstrainedZoom=function(e,r){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},n.prototype.getConstrainedResolution=function(e,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,o)},n}(ah);function rx(t,n){setTimeout(function(){t(n)},0)}function lae(t){if(t.extent!==void 0){var n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return Sk(t.extent,t.constrainOnlyCenter,n)}var e=xB(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){var r=e.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Sk(r,!1,!1)}return eae}function uae(t){var n,e,r,i=28,o=2,s=t.minZoom!==void 0?t.minZoom:jw,a=t.maxZoom!==void 0?t.maxZoom:i,f=t.zoomFactor!==void 0?t.zoomFactor:o,g=t.multiWorld!==void 0?t.multiWorld:!1,x=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,I=t.showFullExtent!==void 0?t.showFullExtent:!1,B=xB(t.projection,"EPSG:3857"),D=B.getExtent(),L=t.constrainOnlyCenter,V=t.extent;if(!g&&!V&&B.isGlobal()&&(L=!1,V=D),t.resolutions!==void 0){var W=t.resolutions;e=W[s],r=W[a]!==void 0?W[a]:W[W.length-1],t.constrainResolution?n=tae(W,x,!L&&V,I):n=Ek(e,r,x,!L&&V,I)}else{var j=D?Math.max(is(D),ZA(D)):360*Hh[bA.DEGREES]/B.getMetersPerUnit(),G=j/LB/Math.pow(o,jw),ee=G/Math.pow(o,i-jw);e=t.maxResolution,e!==void 0?s=0:e=G/Math.pow(f,s),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=e/Math.pow(f,a):r=G/Math.pow(f,a):r=ee),a=s+Math.floor(Math.log(e/r)/Math.log(f)),r=e/Math.pow(f,a-s),t.constrainResolution?n=nae(f,e,r,x,!L&&V,I):n=Ek(e,r,x,!L&&V,I)}return{constraint:n,maxResolution:e,minResolution:r,minZoom:s,zoomFactor:f}}function Aae(t){var n=t.enableRotation!==void 0?t.enableRotation:!0;if(n){var e=t.constrainRotation;return e===void 0||e===!0?iae():e===!1?Ok:typeof e=="number"?rae(e):Ok}else return jB}function cae(t){return!(t.sourceCenter&&t.targetCenter&&!X2(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Ww(t,n,e,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=t[0]*o-t[1]*s,f=t[1]*o+t[0]*s;a+=(n[0]/2-e[0])*r,f+=(e[1]-n[1]/2)*r,s=-s;var g=a*o-f*s,x=f*o+a*s;return[g,x]}function Bk(t){return t[0]>0&&t[1]>0}function dae(t,n,e){return e===void 0&&(e=[0,0]),e[0]=t[0]*n+.5|0,e[1]=t[1]*n+.5|0,e}function CA(t,n){return Array.isArray(t)?t:(n===void 0?n=[t,t]:(n[0]=t,n[1]=t),n)}var hae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function YR(t){if(t instanceof F4){t.setMapInternal(null);return}t instanceof R4&&t.getLayers().forEach(YR)}function qR(t,n){if(t instanceof F4){t.setMapInternal(n);return}if(t instanceof R4)for(var e=t.getLayers().getArray(),r=0,i=e.length;r<i;++r)qR(e[r],n)}var fae=function(t){hae(n,t);function n(e){var r=t.call(this)||this;r.on,r.once,r.un;var i=pae(e);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,r.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:iR,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=wd(),r.pixelToCoordinateTransform_=wd(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=e.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new _d,r.interactions=i.interactions||new _d,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new Xoe(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener($u.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener($u.VIEW,r.handleViewChanged_),r.addChangeListener($u.SIZE,r.handleSizeChanged_),r.addChangeListener($u.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return e.view&&!(e.view instanceof tp)&&e.view.then(function(s){o.setView(new tp(s))}),r.controls.addEventListener(YA.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.controls.addEventListener(YA.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.interactions.addEventListener(YA.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.interactions.addEventListener(YA.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(YA.ADD,(function(s){this.addOverlayInternal_(s.element)}).bind(r)),r.overlays_.addEventListener(YA.REMOVE,(function(s){var a=s.element,f=a.getId();f!==void 0&&delete this.overlayIdIndex_[f.toString()],s.element.setMap(null)}).bind(r)),r.controls.forEach((function(s){s.setMap(this)}).bind(r)),r.interactions.forEach((function(s){s.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return n.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},n.prototype.addControl=function(e){this.getControls().push(e)},n.prototype.addInteraction=function(e){this.getInteractions().push(e)},n.prototype.addLayer=function(e){var r=this.getLayerGroup().getLayers();r.push(e)},n.prototype.handleLayerAdd_=function(e){qR(e.layer,this)},n.prototype.addOverlay=function(e){this.getOverlays().push(e)},n.prototype.addOverlayInternal_=function(e){var r=e.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=e),e.setMap(this)},n.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),t.prototype.disposeInternal.call(this)},n.prototype.forEachFeatureAtPixel=function(e,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};var s=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:Ng,f=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,s,f,r,null,a,null)}},n.prototype.getFeaturesAtPixel=function(e,r){var i=[];return this.forEachFeatureAtPixel(e,function(o){i.push(o)},r),i},n.prototype.getAllLayers=function(){var e=[];function r(i){i.forEach(function(o){o instanceof R4?r(o.getLayers()):e.push(o)})}return r(this.getLayers()),e},n.prototype.forEachLayerAtPixel=function(e,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},s=o.hitTolerance!==void 0?o.hitTolerance:0,a=o.layerFilter||Ng;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,s,r,a)}},n.prototype.hasFeatureAtPixel=function(e,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:Ng,s=r.hitTolerance!==void 0?r.hitTolerance:0,a=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,a,o,null)},n.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},n.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},n.prototype.getEventPixel=function(e){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-r.left,i.clientY-r.top]},n.prototype.getTarget=function(){return this.get($u.TARGET)},n.prototype.getTargetElement=function(){var e=this.getTarget();return e!==void 0?typeof e=="string"?document.getElementById(e):e:null},n.prototype.getCoordinateFromPixel=function(e){return w6(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},n.prototype.getCoordinateFromPixelInternal=function(e){var r=this.frameState_;return r?ol(r.pixelToCoordinateTransform,e.slice()):null},n.prototype.getControls=function(){return this.controls},n.prototype.getOverlays=function(){return this.overlays_},n.prototype.getOverlayById=function(e){var r=this.overlayIdIndex_[e.toString()];return r!==void 0?r:null},n.prototype.getInteractions=function(){return this.interactions},n.prototype.getLayerGroup=function(){return this.get($u.LAYERGROUP)},n.prototype.setLayers=function(e){var r=this.getLayerGroup();if(e instanceof _d){r.setLayers(e);return}var i=r.getLayers();i.clear(),i.extend(e)},n.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e},n.prototype.getLoadingOrNotReady=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),r=0,i=e.length;r<i;++r){var o=e[r];if(o.visible){var s=o.layer.getRenderer();if(s&&!s.ready)return!0;var a=o.layer.getSource();if(a&&a.loading)return!0}}return!1},n.prototype.getPixelFromCoordinate=function(e){var r=Gf(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},n.prototype.getPixelFromCoordinateInternal=function(e){var r=this.frameState_;return r?ol(r.coordinateToPixelTransform,e.slice(0,2)):null},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.getSize=function(){return this.get($u.SIZE)},n.prototype.getView=function(){return this.get($u.VIEW)},n.prototype.getViewport=function(){return this.viewport_},n.prototype.getOverlayContainer=function(){return this.overlayContainer_},n.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},n.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},n.prototype.getTilePriority=function(e,r,i,o){return Joe(this.frameState_,e,r,i,o)},n.prototype.handleBrowserEvent=function(e,r){var i=r||e.type,o=new Hp(i,this,e);this.handleMapBrowserEvent(o)},n.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var r=e.originalEvent,i=r.type;if(i===U6.POINTERDOWN||i===Ii.WHEEL||i===Ii.KEYDOWN){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a=r.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1)for(var f=this.getInteractions().getArray().slice(),g=f.length-1;g>=0;g--){var x=f[g];if(!(x.getMap()!==this||!x.getActive()||!this.getTargetElement())){var I=x.handleEvent(e);if(!I||e.propagationStopped)break}}}},n.prototype.handlePostRender=function(){var e=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(e){var s=e.viewHints;if(s[zs.ANIMATING]||s[zs.INTERACTING]){var a=Date.now()-e.time>8;i=a?0:8,o=a?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(Bm.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Bm.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Ag($f.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Ag($f.LOADSTART,this,e))));for(var f=this.postRenderFunctions_,g=0,x=f.length;g<x;++g)f[g](this,e);f.length=0},n.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},n.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,r=this.targetChangeHandlerKeys_.length;e<r;++e)Ya(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ii.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ii.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,o3(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Yoe(this,this.moveTolerance_);for(var o in Rs)this.mapBrowserEventHandler_.addEventListener(Rs[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ii.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ii.WHEEL,this.boundHandleBrowserEvent_,oR?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,a=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[bo(a,Ii.KEYDOWN,this.handleBrowserEvent,this),bo(a,Ii.KEYPRESS,this.handleBrowserEvent,this),bo(s,Ii.RESIZE,this.updateSize,this)]}this.updateSize()},n.prototype.handleTileChange_=function(){this.render()},n.prototype.handleViewPropertyChanged_=function(){this.render()},n.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Ya(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ya(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=bo(e,dy.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=bo(e,Ii.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},n.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ya),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new em("addlayer",e)),this.layerGroupPropertyListenerKeys_=[bo(e,dy.PROPERTYCHANGE,this.render,this),bo(e,Ii.CHANGE,this.render,this),bo(e,"addlayer",this.handleLayerAdd_,this),bo(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},n.prototype.isRendered=function(){return!!this.frameState_},n.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},n.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),r=0,i=e.length;r<i;++r){var o=e[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},n.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},n.prototype.removeControl=function(e){return this.getControls().remove(e)},n.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},n.prototype.removeLayer=function(e){var r=this.getLayerGroup().getLayers();return r.remove(e)},n.prototype.handleLayerRemove_=function(e){YR(e.layer)},n.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},n.prototype.renderFrame_=function(e){var r=this,i=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(i!==void 0&&Bk(i)&&o&&o.isDef()){var f=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),g=o.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:v6(g.center,g.resolution,g.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:g,viewHints:f,wantedTiles:{},mapId:Qi(this),renderTargets:{}},g.nextCenter&&g.nextResolution){var x=isNaN(g.nextRotation)?g.rotation:g.nextRotation;a.nextExtent=v6(g.nextCenter,g.nextResolution,x,i)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s){var I=!this.previousExtent_||!yB(this.previousExtent_)&&!hy(a.extent,this.previousExtent_);I&&(this.dispatchEvent(new Ag($f.MOVESTART,this,s)),this.previousExtent_=S_(this.previousExtent_))}var B=this.previousExtent_&&!a.viewHints[zs.ANIMATING]&&!a.viewHints[zs.INTERACTING]&&!hy(a.extent,this.previousExtent_);B&&(this.dispatchEvent(new Ag($f.MOVEEND,this,a)),lR(a.extent,this.previousExtent_))}this.dispatchEvent(new Ag($f.POSTRENDER,this,a)),this.renderComplete_=this.hasListener($f.LOADSTART)||this.hasListener($f.LOADEND)||this.hasListener(Bm.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},n.prototype.setLayerGroup=function(e){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new em("removelayer",r)),this.set($u.LAYERGROUP,e)},n.prototype.setSize=function(e){this.set($u.SIZE,e)},n.prototype.setTarget=function(e){this.set($u.TARGET,e)},n.prototype.setView=function(e){if(!e||e instanceof tp){this.set($u.VIEW,e);return}this.set($u.VIEW,new tp);var r=this;e.then(function(i){r.setView(new tp(i))})},n.prototype.updateSize=function(){var e=this.getTargetElement(),r=void 0;if(e){var i=getComputedStyle(e),o=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(r=[o,s],!Bk(r)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},n.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(r)}},n}(ah);function pae(t){var n=null;t.keyboardEventTarget!==void 0&&(n=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var e={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new R4({layers:t.layers});e[$u.LAYERGROUP]=r,e[$u.TARGET]=t.target,e[$u.VIEW]=t.view instanceof tp?t.view:new tp;var i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new _d(t.controls.slice()):(ao(typeof t.controls.getArray=="function",47),i=t.controls));var o;t.interactions!==void 0&&(Array.isArray(t.interactions)?o=new _d(t.interactions.slice()):(ao(typeof t.interactions.getArray=="function",48),o=t.interactions));var s;return t.overlays!==void 0?Array.isArray(t.overlays)?s=new _d(t.overlays.slice()):(ao(typeof t.overlays.getArray=="function",49),s=t.overlays):s=new _d,{controls:i,interactions:o,keyboardEventTarget:n,overlays:s,values:e}}const mae=fae;var gae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yae=function(t){gae(n,t);function n(e){var r=t.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],e.render&&(r.render=e.render),e.target&&r.setTarget(e.target),r}return n.prototype.disposeInternal=function(){o3(this.element),t.prototype.disposeInternal.call(this)},n.prototype.getMap=function(){return this.map_},n.prototype.setMap=function(e){this.map_&&o3(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)Ya(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=e,e){var o=this.target_?this.target_:e.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==n1&&this.listenerKeys.push(bo(e,$f.POSTRENDER,this.render,this)),e.render()}},n.prototype.render=function(e){},n.prototype.setTarget=function(e){this.target_=typeof e=="string"?document.getElementById(e):e},n}(ah);const WB=yae;var vae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cae=function(t){vae(n,t);function n(e){var r=this,i=e||{};r=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",s=i.tipLabel!==void 0?i.tipLabel:"Attributions",a=i.expandClassName!==void 0?i.expandClassName:o+"-expand",f=i.collapseLabel!==void 0?i.collapseLabel:"",g=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof f=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=f,r.collapseLabel_.className=g):r.collapseLabel_=f;var x=i.label!==void 0?i.label:"i";typeof x=="string"?(r.label_=document.createElement("span"),r.label_.textContent=x,r.label_.className=a):r.label_=x;var I=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(I),r.toggleButton_.addEventListener(Ii.CLICK,r.handleClick_.bind(r),!1);var B=o+" "+L4+" "+DB+(r.collapsed_&&r.collapsible_?" "+_k:"")+(r.collapsible_?"":" ol-uncollapsible"),D=r.element;return D.className=B,D.appendChild(r.toggleButton_),D.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return n.prototype.collectSourceAttributions_=function(e){for(var r={},i=[],o=!0,s=e.layerStatesArray,a=0,f=s.length;a<f;++a){var g=s[a];if(i3(g,e.viewState)){var x=g.layer.getSource();if(x){var I=x.getAttributions();if(I){var B=I(e);if(B)if(o=o&&x.getAttributionsCollapsible()!==!1,Array.isArray(B))for(var D=0,L=B.length;D<L;++D)B[D]in r||(i.push(B[D]),r[B[D]]=!0);else B in r||(i.push(B),r[B]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},n.prototype.updateElement_=function(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(e),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!c1(r,this.renderedAttributions_)){zR(this.ulElement_);for(var o=0,s=r.length;o<s;++o){var a=document.createElement("li");a.innerHTML=r[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=r}},n.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},n.prototype.handleToggle_=function(){this.element.classList.toggle(_k),this.collapsed_?xk(this.collapseLabel_,this.label_):xk(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},n.prototype.getCollapsible=function(){return this.collapsible_},n.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},n.prototype.setCollapsed=function(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()},n.prototype.getCollapsed=function(){return this.collapsed_},n.prototype.render=function(e){this.updateElement_(e.frameState)},n}(WB);const _ae=Cae;var bae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xae=function(t){bae(n,t);function n(e){var r=this,i=e||{};r=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",s=i.label!==void 0?i.label:"",a=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(a));var f=i.tipLabel?i.tipLabel:"Reset rotation",g=document.createElement("button");g.className=o+"-reset",g.setAttribute("type","button"),g.title=f,g.appendChild(r.label_),g.addEventListener(Ii.CLICK,r.handleClick_.bind(r),!1);var x=o+" "+L4+" "+DB,I=r.element;return I.className=x,I.appendChild(g),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(tx),r}return n.prototype.handleClick_=function(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},n.prototype.resetNorth_=function(){var e=this.getMap(),r=e.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:By}):r.setRotation(0))}},n.prototype.render=function(e){var r=e.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(tx);!s&&i===0?this.element.classList.add(tx):s&&i!==0&&this.element.classList.remove(tx)}this.label_.style.transform=o}this.rotation_=i}},n}(WB);const wae=xae;var Mae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sae=function(t){Mae(n,t);function n(e){var r=this,i=e||{};r=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",s=i.delta!==void 0?i.delta:1,a=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",f=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",g=i.zoomInLabel!==void 0?i.zoomInLabel:"+",x=i.zoomOutLabel!==void 0?i.zoomOutLabel:"",I=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",B=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",D=document.createElement("button");D.className=a,D.setAttribute("type","button"),D.title=I,D.appendChild(typeof g=="string"?document.createTextNode(g):g),D.addEventListener(Ii.CLICK,r.handleClick_.bind(r,s),!1);var L=document.createElement("button");L.className=f,L.setAttribute("type","button"),L.title=B,L.appendChild(typeof x=="string"?document.createTextNode(x):x),L.addEventListener(Ii.CLICK,r.handleClick_.bind(r,-s),!1);var V=o+" "+L4+" "+DB,W=r.element;return W.className=V,W.appendChild(D),W.appendChild(L),r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleClick_=function(e,r){r.preventDefault(),this.zoomByDelta_(e)},n.prototype.zoomByDelta_=function(e){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var s=i.getConstrainedZoom(o+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:By})):i.setZoom(s)}}},n}(WB);const Eae=Sae;var Oae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gu={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Bae=function(t){Oae(n,t);function n(e){var r=t.call(this)||this;r.on,r.once,r.un,r.options=e,r.id=e.id,r.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,r.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,r.element=document.createElement("div"),r.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Boe,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=e.autoPan;return i&&typeof i!="object"&&(i={animation:e.autoPanAnimation,margin:e.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(Gu.ELEMENT,r.handleElementChanged),r.addChangeListener(Gu.MAP,r.handleMapChanged),r.addChangeListener(Gu.OFFSET,r.handleOffsetChanged),r.addChangeListener(Gu.POSITION,r.handlePositionChanged),r.addChangeListener(Gu.POSITIONING,r.handlePositioningChanged),e.element!==void 0&&r.setElement(e.element),r.setOffset(e.offset!==void 0?e.offset:[0,0]),r.setPositioning(e.positioning||"top-left"),e.position!==void 0&&r.setPosition(e.position),r}return n.prototype.getElement=function(){return this.get(Gu.ELEMENT)},n.prototype.getId=function(){return this.id},n.prototype.getMap=function(){return this.get(Gu.MAP)||null},n.prototype.getOffset=function(){return this.get(Gu.OFFSET)},n.prototype.getPosition=function(){return this.get(Gu.POSITION)},n.prototype.getPositioning=function(){return this.get(Gu.POSITIONING)},n.prototype.handleElementChanged=function(){zR(this.element);var e=this.getElement();e&&this.element.appendChild(e)},n.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(o3(this.element),Ya(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=bo(e,$f.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},n.prototype.render=function(){this.updatePixelPosition()},n.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},n.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},n.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},n.prototype.setElement=function(e){this.set(Gu.ELEMENT,e)},n.prototype.setMap=function(e){this.set(Gu.MAP,e)},n.prototype.setOffset=function(e){this.set(Gu.OFFSET,e)},n.prototype.setPosition=function(e){this.set(Gu.POSITION,e)},n.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},n.prototype.panIntoView=function(e){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get(Gu.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),s=this.getRect(o,[koe(o),Toe(o)]),a=e||{},f=a.margin===void 0?20:a.margin;if(!dm(i,s)){var g=s[0]-i[0],x=i[2]-s[2],I=s[1]-i[1],B=i[3]-s[3],D=[0,0];if(g<0?D[0]=g-f:x<0&&(D[0]=Math.abs(x)+f),I<0?D[1]=I-f:B<0&&(D[1]=Math.abs(B)+f),D[0]!==0||D[1]!==0){var L=r.getView().getCenterInternal(),V=r.getPixelFromCoordinateInternal(L);if(!V)return;var W=[V[0]+D[0],V[1]+D[1]],j=a.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(W),duration:j.duration,easing:j.easing})}}}},n.prototype.getRect=function(e,r){var i=e.getBoundingClientRect(),o=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[o,s,o+r[0],s+r[1]]},n.prototype.setPositioning=function(e){this.set(Gu.POSITIONING,e)},n.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},n.prototype.updatePixelPosition=function(){var e=this.getMap(),r=this.getPosition();if(!e||!e.isRendered()||!r){this.setVisible(!1);return}var i=e.getPixelFromCoordinate(r),o=e.getSize();this.updateRenderedPosition(i,o)},n.prototype.updateRenderedPosition=function(e,r){var i=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var a=Math.round(e[0]+o[0])+"px",f=Math.round(e[1]+o[1])+"px",g="0%",x="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?g="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(g="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?x="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(x="-50%");var I="translate(".concat(g,", ").concat(x,") translate(").concat(a,", ").concat(f,")");this.rendered.transform_!=I&&(this.rendered.transform_=I,i.transform=I,i.msTransform=I)},n.prototype.getOptions=function(){return this.options},n}(ah);function Iae(t){var n=t||{},e=new _d,r=n.zoom!==void 0?n.zoom:!0;r&&e.push(new Eae(n.zoomOptions));var i=n.rotate!==void 0?n.rotate:!0;i&&e.push(new wae(n.rotateOptions));var o=n.attribution!==void 0?n.attribution:!0;return o&&e.push(new _ae(n.attributionOptions)),e}const Ik={ACTIVE:"active"};var kae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tae=function(t){kae(n,t);function n(e){var r=t.call(this)||this;return r.on,r.once,r.un,e&&e.handleEvent&&(r.handleEvent=e.handleEvent),r.map_=null,r.setActive(!0),r}return n.prototype.getActive=function(){return this.get(Ik.ACTIVE)},n.prototype.getMap=function(){return this.map_},n.prototype.handleEvent=function(e){return!0},n.prototype.setActive=function(e){this.set(Ik.ACTIVE,e)},n.prototype.setMap=function(e){this.map_=e},n}(ah);function Kae(t,n,e){var r=t.getCenterInternal();if(r){var i=[r[0]+n[0],r[1]+n[1]];t.animateInternal({duration:e!==void 0?e:250,easing:aae,center:t.getConstrainedCenter(i)})}}function NB(t,n,e,r){var i=t.getZoom();if(i!==void 0){var o=t.getConstrainedZoom(i+n),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:e,duration:r!==void 0?r:250,easing:By})}}const O_=Tae;var Pae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uae=function(t){Pae(n,t);function n(e){var r=t.call(this)||this,i=e||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleEvent=function(e){var r=!1;if(e.type==Rs.DBLCLICK){var i=e.originalEvent,o=e.map,s=e.coordinate,a=i.shiftKey?-this.delta_:this.delta_,f=o.getView();NB(f,a,s,this.duration_),i.preventDefault(),r=!0}return!r},n}(O_);const Dae=Uae;var Fae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lae=function(t){Fae(n,t);function n(e){var r=this,i=e||{};return r=t.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return n.prototype.getPointerCount=function(){return this.targetPointers.length},n.prototype.handleDownEvent=function(e){return!1},n.prototype.handleDragEvent=function(e){},n.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Rs.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Rs.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Rs.POINTERDOWN){var o=this.handleDownEvent(e);this.handlingDownUpSequence=o,r=this.stopDown(o)}else e.type==Rs.POINTERMOVE&&this.handleMoveEvent(e);return!r},n.prototype.handleMoveEvent=function(e){},n.prototype.handleUpEvent=function(e){return!1},n.prototype.stopDown=function(e){return e},n.prototype.updateTrackedPointers_=function(e){e.activePointers&&(this.targetPointers=e.activePointers)},n}(O_);function GB(t){for(var n=t.length,e=0,r=0,i=0;i<n;i++)e+=t[i].clientX,r+=t[i].clientY;return[e/n,r/n]}const B_=Lae;function D6(t){var n=arguments;return function(e){for(var r=!0,i=0,o=n.length;i<o&&(r=r&&n[i](e),!!r);++i);return r}}var Rae=function(t){var n=t.originalEvent;return n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey},zae=function(t){var n=t.map.getTargetElement(),e=t.map.getOwnerDocument().activeElement;return n.contains(e)},VR=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?zae(t):!0},jae=Ng,HR=function(t){var n=t.originalEvent;return n.button==0&&!(Zne&&Xne&&n.ctrlKey)},ZR=function(t){var n=t.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&!n.shiftKey},Wae=function(t){var n=t.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey},XR=function(t){var n=t.originalEvent,e=n.target.tagName;return e!=="INPUT"&&e!=="SELECT"&&e!=="TEXTAREA"&&!n.target.isContentEditable},Nw=function(t){var n=t.originalEvent;return ao(n!==void 0,56),n.pointerType=="mouse"},Nae=function(t){var n=t.originalEvent;return ao(n!==void 0,56),n.isPrimary&&n.button===0},Gae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qae=function(t){Gae(n,t);function n(e){var r=t.call(this,{stopDown:E4})||this,i=e||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:D6(ZR,Nae);return r.condition_=i.onFocusOnly?D6(VR,o):o,r.noKinetic_=!1,r}return n.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=GB(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=e.map,a=s.getView();Ore(o,a.getResolution()),CB(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()},n.prototype.handleUpEvent=function(e){var r=e.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),f=r.getPixelFromCoordinateInternal(a),g=r.getCoordinateFromPixelInternal([f[0]-o*Math.cos(s),f[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(g),duration:500,easing:By})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},n.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var r=e.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},n}(B_);const $ae=Qae;var Yae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qae=function(t){Yae(n,t);function n(e){var r=this,i=e||{};return r=t.call(this,{stopDown:E4})||this,r.condition_=i.condition?i.condition:Rae,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleDragEvent=function(e){if(Nw(e)){var r=e.map,i=r.getView();if(i.getConstraints().rotation!==jB){var o=r.getSize(),s=e.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);if(this.lastAngle_!==void 0){var f=a-this.lastAngle_;i.adjustRotationInternal(-f)}this.lastAngle_=a}}},n.prototype.handleUpEvent=function(e){if(!Nw(e))return!0;var r=e.map,i=r.getView();return i.endInteraction(this.duration_),!1},n.prototype.handleDownEvent=function(e){if(!Nw(e))return!1;if(HR(e)&&this.condition_(e)){var r=e.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},n}(B_),Vae=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hae=function(t){Vae(n,t);function n(e){var r=t.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+e,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return n.prototype.disposeInternal=function(){this.setMap(null)},n.prototype.render_=function(){var e=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(e[0],r[0])+i,o.top=Math.min(e[1],r[1])+i,o.width=Math.abs(r[0]-e[0])+i,o.height=Math.abs(r[1]-e[1])+i},n.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},n.prototype.setPixels=function(e,r){this.startPixel_=e,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},n.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,r=this.endPixel_,i=[e,[e[0],r[1]],r,[r[0],e[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new WC([o])},n.prototype.getGeometry=function(){return this.geometry_},n}(dB);const Zae=Hae;var JR=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ix={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Gw=function(t){JR(n,t);function n(e,r,i){var o=t.call(this,e)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return n}(mp),Xae=function(t){JR(n,t);function n(e){var r=t.call(this)||this;r.on,r.once,r.un;var i=e||{};return r.box_=new Zae(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:HR,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return n.prototype.defaultBoxEndCondition=function(e,r,i){var o=i[0]-r[0],s=i[1]-r[1];return o*o+s*s>=this.minArea_},n.prototype.getGeometry=function(){return this.box_.getGeometry()},n.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Gw(ix.BOXDRAG,e.coordinate,e))},n.prototype.handleUpEvent=function(e){this.box_.setMap(null);var r=this.boxEndCondition_(e,this.startPixel_,e.pixel);return r&&this.onBoxEnd(e),this.dispatchEvent(new Gw(r?ix.BOXEND:ix.BOXCANCEL,e.coordinate,e)),!1},n.prototype.handleDownEvent=function(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Gw(ix.BOXSTART,e.coordinate,e)),!0):!1},n.prototype.onBoxEnd=function(e){},n}(B_);const Jae=Xae;var ese=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tse=function(t){ese(n,t);function n(e){var r=this,i=e||{},o=i.condition?i.condition:Wae;return r=t.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return n.prototype.onBoxEnd=function(e){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var s=i.rotatedExtentForGeometry(o),a=i.getResolutionForExtentInternal(s),f=i.getResolution()/a;o=o.clone(),o.scale(f*f)}i.fitInternal(o,{duration:this.duration_,easing:By})},n}(Jae);const nse=tse,u0={LEFT:37,UP:38,RIGHT:39,DOWN:40};var rse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ise=function(t){rse(n,t);function n(e){var r=t.call(this)||this,i=e||{};return r.defaultCondition_=function(o){return ZR(o)&&XR(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return n.prototype.handleEvent=function(e){var r=!1;if(e.type==Ii.KEYDOWN){var i=e.originalEvent,o=i.keyCode;if(this.condition_(e)&&(o==u0.DOWN||o==u0.LEFT||o==u0.RIGHT||o==u0.UP)){var s=e.map,a=s.getView(),f=a.getResolution()*this.pixelDelta_,g=0,x=0;o==u0.DOWN?x=-f:o==u0.LEFT?g=-f:o==u0.RIGHT?g=f:x=f;var I=[g,x];CB(I,a.getRotation()),Kae(a,I,this.duration_),i.preventDefault(),r=!0}}return!r},n}(O_),ose=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ase=function(t){ose(n,t);function n(e){var r=t.call(this)||this,i=e||{};return r.condition_=i.condition?i.condition:XR,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return n.prototype.handleEvent=function(e){var r=!1;if(e.type==Ii.KEYDOWN||e.type==Ii.KEYPRESS){var i=e.originalEvent,o=i.charCode;if(this.condition_(e)&&(o==43||o==45)){var s=e.map,a=o==43?this.delta_:-this.delta_,f=s.getView();NB(f,a,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},n}(O_);const sse=ase;var lse=function(){function t(n,e,r){this.decay_=n,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(n,e){this.points_.push(n,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var n=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<n)return!1;for(var r=e-3;r>0&&this.points_[r+2]>n;)r-=3;var i=this.points_[e+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[r],s=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),use=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qw={TRACKPAD:"trackpad",WHEEL:"wheel"},Ase=function(t){use(n,t);function n(e){var r=this,i=e||{};r=t.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:jae;return r.condition_=i.onFocusOnly?D6(VR,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return n.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();if(e){var r=e.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},n.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var r=e.type;if(r!==Ii.WHEEL)return!0;var i=e.map,o=e.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);var s;if(e.type==Ii.WHEEL&&(s=o.deltaY,Vne&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=iR),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?Qw.TRACKPAD:Qw.WHEEL);var f=i.getView();if(this.mode_===Qw.TRACKPAD&&!(f.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var g=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),g),!1},n.prototype.handleWheelZoom_=function(e){var r=e.getView();r.getAnimating()&&r.cancelAnimations();var i=-_l(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),NB(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},n.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},n}(O_);const cse=Ase;var dse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hse=function(t){dse(n,t);function n(e){var r=this,i=e||{},o=i;return o.stopDown||(o.stopDown=E4),r=t.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleDragEvent=function(e){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=a}this.lastAngle_=s;var f=e.map,g=f.getView();if(g.getConstraints().rotation!==jB){var x=f.getViewport().getBoundingClientRect(),I=GB(this.targetPointers);I[0]-=x.left,I[1]-=x.top,this.anchor_=f.getCoordinateFromPixelInternal(I),this.rotating_&&(f.render(),g.adjustRotationInternal(r,this.anchor_))}},n.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var r=e.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},n.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},n}(B_),fse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pse=function(t){fse(n,t);function n(e){var r=this,i=e||{},o=i;return o.stopDown||(o.stopDown=E4),r=t.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return n.prototype.handleDragEvent=function(e){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,a=i.clientY-o.clientY,f=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(r=this.lastDistance_/f),this.lastDistance_=f;var g=e.map,x=g.getView();r!=1&&(this.lastScaleDelta_=r);var I=g.getViewport().getBoundingClientRect(),B=GB(this.targetPointers);B[0]-=I.left,B[1]-=I.top,this.anchor_=g.getCoordinateFromPixelInternal(B),g.render(),x.adjustResolutionInternal(r,this.anchor_)},n.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var r=e.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},n.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},n}(B_);const mse=pse;function gse(t,n,e,r,i){ez(t,n,e||0,r||t.length-1,i||yse)}function ez(t,n,e,r,i){for(;r>e;){if(r-e>600){var o=r-e+1,s=n-e+1,a=Math.log(o),f=.5*Math.exp(2*a/3),g=.5*Math.sqrt(a*f*(o-f)/o)*(s-o/2<0?-1:1),x=Math.max(e,Math.floor(n-s*f/o+g)),I=Math.min(r,Math.floor(n+(o-s)*f/o+g));ez(t,n,x,I,i)}var B=t[n],D=e,L=r;for(gv(t,e,n),i(t[r],B)>0&&gv(t,e,r);D<L;){for(gv(t,D,L),D++,L--;i(t[D],B)<0;)D++;for(;i(t[L],B)>0;)L--}i(t[e],B)===0?gv(t,e,L):(L++,gv(t,L,r)),L<=n&&(e=L+1),n<=L&&(r=L-1)}}function gv(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function yse(t,n){return t<n?-1:t>n?1:0}let tz=class{constructor(n=9){this._maxEntries=Math.max(4,n),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(n){let e=this.data;const r=[];if(!ax(n,e))return r;const i=this.toBBox,o=[];for(;e;){for(let s=0;s<e.children.length;s++){const a=e.children[s],f=e.leaf?i(a):a;ax(n,f)&&(e.leaf?r.push(a):Yw(n,f)?this._all(a,r):o.push(a))}e=o.pop()}return r}collides(n){let e=this.data;if(!ax(n,e))return!1;const r=[];for(;e;){for(let i=0;i<e.children.length;i++){const o=e.children[i],s=e.leaf?this.toBBox(o):o;if(ax(n,s)){if(e.leaf||Yw(n,s))return!0;r.push(o)}}e=r.pop()}return!1}load(n){if(!(n&&n.length))return this;if(n.length<this._minEntries){for(let r=0;r<n.length;r++)this.insert(n[r]);return this}let e=this._build(n.slice(),0,n.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(n){return n&&this._insert(n,this.data.height-1),this}clear(){return this.data=cg([]),this}remove(n,e){if(!n)return this;let r=this.data;const i=this.toBBox(n),o=[],s=[];let a,f,g;for(;r||o.length;){if(r||(r=o.pop(),f=o[o.length-1],a=s.pop(),g=!0),r.leaf){const x=vse(n,r.children,e);if(x!==-1)return r.children.splice(x,1),o.push(r),this._condense(o),this}!g&&!r.leaf&&Yw(r,i)?(o.push(r),s.push(a),a=0,f=r,r=r.children[0]):f?(a++,r=f.children[a],g=!1):r=null}return this}toBBox(n){return n}compareMinX(n,e){return n.minX-e.minX}compareMinY(n,e){return n.minY-e.minY}toJSON(){return this.data}fromJSON(n){return this.data=n,this}_all(n,e){const r=[];for(;n;)n.leaf?e.push(...n.children):r.push(...n.children),n=r.pop();return e}_build(n,e,r,i){const o=r-e+1;let s=this._maxEntries,a;if(o<=s)return a=cg(n.slice(e,r+1)),H1(a,this.toBBox),a;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),a=cg([]),a.leaf=!1,a.height=i;const f=Math.ceil(o/s),g=f*Math.ceil(Math.sqrt(s));kk(n,e,r,g,this.compareMinX);for(let x=e;x<=r;x+=g){const I=Math.min(x+g-1,r);kk(n,x,I,f,this.compareMinY);for(let B=x;B<=I;B+=f){const D=Math.min(B+f-1,I);a.children.push(this._build(n,B,D,i-1))}}return H1(a,this.toBBox),a}_chooseSubtree(n,e,r,i){for(;i.push(e),!(e.leaf||i.length-1===r);){let o=1/0,s=1/0,a;for(let f=0;f<e.children.length;f++){const g=e.children[f],x=$w(g),I=bse(n,g)-x;I<s?(s=I,o=x<o?x:o,a=g):I===s&&x<o&&(o=x,a=g)}e=a||e.children[0]}return e}_insert(n,e,r){const i=r?n:this.toBBox(n),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(n),Dv(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)}_split(n,e){const r=n[e],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const s=this._chooseSplitIndex(r,o,i),a=cg(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,H1(r,this.toBBox),H1(a,this.toBBox),e?n[e-1].children.push(a):this._splitRoot(r,a)}_splitRoot(n,e){this.data=cg([n,e]),this.data.height=n.height+1,this.data.leaf=!1,H1(this.data,this.toBBox)}_chooseSplitIndex(n,e,r){let i,o=1/0,s=1/0;for(let a=e;a<=r-e;a++){const f=Uv(n,0,a,this.toBBox),g=Uv(n,a,r,this.toBBox),x=xse(f,g),I=$w(f)+$w(g);x<o?(o=x,i=a,s=I<s?I:s):x===o&&I<s&&(s=I,i=a)}return i||r-e}_chooseSplitAxis(n,e,r){const i=n.leaf?this.compareMinX:Cse,o=n.leaf?this.compareMinY:_se,s=this._allDistMargin(n,e,r,i),a=this._allDistMargin(n,e,r,o);s<a&&n.children.sort(i)}_allDistMargin(n,e,r,i){n.children.sort(i);const o=this.toBBox,s=Uv(n,0,e,o),a=Uv(n,r-e,r,o);let f=ox(s)+ox(a);for(let g=e;g<r-e;g++){const x=n.children[g];Dv(s,n.leaf?o(x):x),f+=ox(s)}for(let g=r-e-1;g>=e;g--){const x=n.children[g];Dv(a,n.leaf?o(x):x),f+=ox(a)}return f}_adjustParentBBoxes(n,e,r){for(let i=r;i>=0;i--)Dv(e[i],n)}_condense(n){for(let e=n.length-1,r;e>=0;e--)n[e].children.length===0?e>0?(r=n[e-1].children,r.splice(r.indexOf(n[e]),1)):this.clear():H1(n[e],this.toBBox)}};function vse(t,n,e){if(!e)return n.indexOf(t);for(let r=0;r<n.length;r++)if(e(t,n[r]))return r;return-1}function H1(t,n){Uv(t,0,t.children.length,n,t)}function Uv(t,n,e,r,i){i||(i=cg(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=n;o<e;o++){const s=t.children[o];Dv(i,t.leaf?r(s):s)}return i}function Dv(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function Cse(t,n){return t.minX-n.minX}function _se(t,n){return t.minY-n.minY}function $w(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ox(t){return t.maxX-t.minX+(t.maxY-t.minY)}function bse(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}function xse(t,n){const e=Math.max(t.minX,n.minX),r=Math.max(t.minY,n.minY),i=Math.min(t.maxX,n.maxX),o=Math.min(t.maxY,n.maxY);return Math.max(0,i-e)*Math.max(0,o-r)}function Yw(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function ax(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function cg(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function kk(t,n,e,r,i){const o=[n,e];for(;o.length;){if(e=o.pop(),n=o.pop(),e-n<=r)continue;const s=n+Math.ceil((e-n)/r/2)*r;gse(t,s,n,e,i),o.push(n,s,s,e)}}const $a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var wse=function(){function t(n){this.opacity_=n.opacity,this.rotateWithView_=n.rotateWithView,this.rotation_=n.rotation,this.scale_=n.scale,this.scaleArray_=CA(n.scale),this.displacement_=n.displacement,this.declutterMode_=n.declutterMode}return t.prototype.clone=function(){var n=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(n)?n.slice():n,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getDeclutterMode=function(){return this.declutterMode_},t.prototype.getAnchor=function(){return ui()},t.prototype.getImage=function(n){return ui()},t.prototype.getHitDetectionImage=function(){return ui()},t.prototype.getPixelRatio=function(n){return 1},t.prototype.getImageState=function(){return ui()},t.prototype.getImageSize=function(){return ui()},t.prototype.getOrigin=function(){return ui()},t.prototype.getSize=function(){return ui()},t.prototype.setDisplacement=function(n){this.displacement_=n},t.prototype.setOpacity=function(n){this.opacity_=n},t.prototype.setRotateWithView=function(n){this.rotateWithView_=n},t.prototype.setRotation=function(n){this.rotation_=n},t.prototype.setScale=function(n){this.scale_=n,this.scaleArray_=CA(n)},t.prototype.listenImageChange=function(n){ui()},t.prototype.load=function(){ui()},t.prototype.unlistenImageChange=function(n){ui()},t}();const nz=wse;function Gh(t){return Array.isArray(t)?DR(t):t}var Mse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sse=function(t){Mse(n,t);function n(e){var r=this,i=e.rotateWithView!==void 0?e.rotateWithView:!1;return r=t.call(this,{opacity:1,rotateWithView:i,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=e.fill!==void 0?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=e.radius!==void 0?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=e.angle!==void 0?e.angle:0,r.stroke_=e.stroke!==void 0?e.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return n.prototype.clone=function(){var e=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},n.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var r=this.getDisplacement();return[e[0]/2-r[0],e[1]/2+r[1]]},n.prototype.getAngle=function(){return this.angle_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e,this.render()},n.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},n.prototype.getImage=function(e){var r=this.canvas_[e];if(!r){var i=this.renderOptions_,o=XA(i.size*e,i.size*e);this.draw_(i,o,e),r=o.canvas,this.canvas_[e]=r}return r},n.prototype.getPixelRatio=function(e){return e},n.prototype.getImageSize=function(){return this.size_},n.prototype.getImageState=function(){return $a.LOADED},n.prototype.getOrigin=function(){return this.origin_},n.prototype.getPoints=function(){return this.points_},n.prototype.getRadius=function(){return this.radius_},n.prototype.getRadius2=function(){return this.radius2_},n.prototype.getSize=function(){return this.size_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e,this.render()},n.prototype.listenImageChange=function(e){},n.prototype.load=function(){},n.prototype.unlistenImageChange=function(e){},n.prototype.calculateLineJoinSize_=function(e,r,i){if(r===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return r;var o=this.radius_,s=this.radius2_===void 0?o:this.radius2_;if(o<s){var a=o;o=s,s=a}var f=this.radius2_===void 0?this.points_:this.points_*2,g=2*Math.PI/f,x=s*Math.sin(g),I=Math.sqrt(s*s-x*x),B=o-I,D=Math.sqrt(x*x+B*B),L=D/x;if(e==="miter"&&L<=i)return L*r;var V=r/2/L,W=r/2*(B/D),j=Math.sqrt((o+V)*(o+V)+W*W),G=j-o;if(this.radius2_===void 0||e==="bevel")return G*2;var ee=o*Math.sin(g),re=Math.sqrt(o*o-ee*ee),se=s-re,oe=Math.sqrt(ee*ee+se*se),ue=oe/ee;if(ue<=i){var me=ue*r/2-s-o;return 2*Math.max(G,me)}return G*2},n.prototype.createRenderOptions=function(){var e=fy,r=0,i=null,o=0,s,a=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=YC),s=Gh(s),a=this.stroke_.getWidth(),a===void 0&&(a=VC),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=fy),r=this.stroke_.getMiterLimit(),r===void 0&&(r=$C));var f=this.calculateLineJoinSize_(e,a,r),g=Math.max(this.radius_,this.radius2_||0),x=Math.ceil(2*g+f);return{strokeStyle:s,strokeWidth:a,size:x,lineDash:i,lineDashOffset:o,lineJoin:e,miterLimit:r}},n.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},n.prototype.draw_=function(e,r,i){if(r.scale(i,i),r.translate(e.size/2,e.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=up),r.fillStyle=Gh(o),r.fill()}this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,r.setLineDash&&e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},n.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=n3(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=XA(e.size,e.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(e,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},n.prototype.createPath_=function(e){var r=this.points_,i=this.radius_;if(r===1/0)e.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,a=2*Math.PI/r,f=0;f<r;f++){var g=s+f*a,x=f%2===0?i:o;e.lineTo(x*Math.cos(g),x*Math.sin(g))}e.closePath()}},n.prototype.drawHitDetectionCanvas_=function(e,r){r.translate(e.size/2,e.size/2),this.createPath_(r),r.fillStyle=up,r.fill(),this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},n}(nz);const Ese=Sse;var Ose=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rz=function(t){Ose(n,t);function n(e){var r=e||{};return t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return n.prototype.clone=function(){var e=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},n.prototype.setRadius=function(e){this.radius_=e,this.render()},n}(Ese),wg=function(){function t(n){var e=n||{};this.color_=e.color!==void 0?e.color:null}return t.prototype.clone=function(){var n=this.getColor();return new t({color:Array.isArray(n)?n.slice():n||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(n){this.color_=n},t}(),Fv=function(){function t(n){var e=n||{};this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var n=this.getColor();return new t({color:Array.isArray(n)?n.slice():n||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(n){this.color_=n},t.prototype.setLineCap=function(n){this.lineCap_=n},t.prototype.setLineDash=function(n){this.lineDash_=n},t.prototype.setLineDashOffset=function(n){this.lineDashOffset_=n},t.prototype.setLineJoin=function(n){this.lineJoin_=n},t.prototype.setMiterLimit=function(n){this.miterLimit_=n},t.prototype.setWidth=function(n){this.width_=n},t}(),y0=function(){function t(n){var e=n||{};this.geometry_=null,this.geometryFunction_=Tk,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var n=this.getGeometry();return n&&typeof n=="object"&&(n=n.clone()),new t({geometry:n,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(n){this.renderer_=n},t.prototype.setHitDetectionRenderer=function(n){this.hitDetectionRenderer_=n},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(n){this.fill_=n},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(n){this.image_=n},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(n){this.stroke_=n},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(n){this.text_=n},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(n){typeof n=="function"?this.geometryFunction_=n:typeof n=="string"?this.geometryFunction_=function(e){return e.get(n)}:n?n!==void 0&&(this.geometryFunction_=function(){return n}):this.geometryFunction_=Tk,this.geometry_=n},t.prototype.setZIndex=function(n){this.zIndex_=n},t}();function Bse(t){var n;if(typeof t=="function")n=t;else{var e;if(Array.isArray(t))e=t;else{ao(typeof t.getZIndex=="function",41);var r=t;e=[r]}n=function(){return e}}return n}var qw=null;function Ise(t,n){if(!qw){var e=new wg({color:"rgba(255,255,255,0.4)"}),r=new Fv({color:"#3399CC",width:1.25});qw=[new y0({image:new rz({fill:e,stroke:r,radius:5}),fill:e,stroke:r})]}return qw}function Tk(t){return t.getGeometry()}var kse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kk={RENDER_ORDER:"renderOrder"},Tse=function(t){kse(n,t);function n(e){var r=this,i=e||{},o=ul({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=t.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return n.prototype.getDeclutter=function(){return this.declutter_},n.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},n.prototype.getRenderBuffer=function(){return this.renderBuffer_},n.prototype.getRenderOrder=function(){return this.get(Kk.RENDER_ORDER)},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},n.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},n.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new tz(9)),this.getRenderer().renderDeclutter(e)},n.prototype.setRenderOrder=function(e){this.set(Kk.RENDER_ORDER,e)},n.prototype.setStyle=function(e){this.style_=e!==void 0?e:Ise,this.styleFunction_=e===null?void 0:Bse(this.style_),this.changed()},n}(F4);const iz=Tse;var oi={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},sx=[oi.FILL],fm=[oi.STROKE],U0=[oi.BEGIN_PATH],Pk=[oi.CLOSE_PATH],Kse=function(){function t(){}return t.prototype.drawCustom=function(n,e,r,i){},t.prototype.drawGeometry=function(n){},t.prototype.setStyle=function(n){},t.prototype.drawCircle=function(n,e){},t.prototype.drawFeature=function(n,e){},t.prototype.drawGeometryCollection=function(n,e){},t.prototype.drawLineString=function(n,e){},t.prototype.drawMultiLineString=function(n,e){},t.prototype.drawMultiPoint=function(n,e){},t.prototype.drawMultiPolygon=function(n,e){},t.prototype.drawPoint=function(n,e){},t.prototype.drawPolygon=function(n,e){},t.prototype.drawText=function(n,e){},t.prototype.setFillStrokeStyle=function(n,e){},t.prototype.setImageStyle=function(n,e){},t.prototype.setTextStyle=function(n,e){},t}();const oz=Kse;var Pse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Use=function(t){Pse(n,t);function n(e,r,i,o){var s=t.call(this)||this;return s.tolerance=e,s.maxExtent=r,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=i,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return n.prototype.applyPixelRatio=function(e){var r=this.pixelRatio;return r==1?e:e.map(function(i){return i*r})},n.prototype.appendFlatPointCoordinates=function(e,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,s=this.coordinates,a=s.length,f=0,g=e.length;f<g;f+=r)o[0]=e[f],o[1]=e[f+1],M_(i,o)&&(s[a++]=o[0],s[a++]=o[1]);return a},n.prototype.appendFlatLineCoordinates=function(e,r,i,o,s,a){var f=this.coordinates,g=f.length,x=this.getBufferedMaxExtent();a&&(r+=o);var I=e[r],B=e[r+1],D=this.tmpCoordinate_,L=!0,V,W,j;for(V=r+o;V<i;V+=o)D[0]=e[V],D[1]=e[V+1],j=g6(x,D),j!==W?(L&&(f[g++]=I,f[g++]=B,L=!1),f[g++]=D[0],f[g++]=D[1]):j===iu.INTERSECTING?(f[g++]=D[0],f[g++]=D[1],L=!1):L=!0,I=D[0],B=D[1],W=j;return(s&&L||V===r+o)&&(f[g++]=I,f[g++]=B),g},n.prototype.drawCustomCoordinates_=function(e,r,i,o,s){for(var a=0,f=i.length;a<f;++a){var g=i[a],x=this.appendFlatLineCoordinates(e,r,g,o,!1,!1);s.push(x),r=g}return r},n.prototype.drawCustom=function(e,r,i,o){this.beginGeometry(e,r);var s=e.getType(),a=e.getStride(),f=this.coordinates.length,g,x,I,B,D;switch(s){case"MultiPolygon":g=e.getOrientedFlatCoordinates(),B=[];var L=e.getEndss();D=0;for(var V=0,W=L.length;V<W;++V){var j=[];D=this.drawCustomCoordinates_(g,D,L[V],a,j),B.push(j)}this.instructions.push([oi.CUSTOM,f,B,e,i,M6]),this.hitDetectionInstructions.push([oi.CUSTOM,f,B,e,o||i,M6]);break;case"Polygon":case"MultiLineString":I=[],g=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),D=this.drawCustomCoordinates_(g,0,e.getEnds(),a,I),this.instructions.push([oi.CUSTOM,f,I,e,i,zC]),this.hitDetectionInstructions.push([oi.CUSTOM,f,I,e,o||i,zC]);break;case"LineString":case"Circle":g=e.getFlatCoordinates(),x=this.appendFlatLineCoordinates(g,0,g.length,a,!1,!1),this.instructions.push([oi.CUSTOM,f,x,e,i,hm]),this.hitDetectionInstructions.push([oi.CUSTOM,f,x,e,o||i,hm]);break;case"MultiPoint":g=e.getFlatCoordinates(),x=this.appendFlatPointCoordinates(g,a),x>f&&(this.instructions.push([oi.CUSTOM,f,x,e,i,hm]),this.hitDetectionInstructions.push([oi.CUSTOM,f,x,e,o||i,hm]));break;case"Point":g=e.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),x=this.coordinates.length,this.instructions.push([oi.CUSTOM,f,x,e,i]),this.hitDetectionInstructions.push([oi.CUSTOM,f,x,e,o||i]);break}this.endGeometry(r)},n.prototype.beginGeometry=function(e,r){this.beginGeometryInstruction1_=[oi.BEGIN_GEOMETRY,r,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[oi.BEGIN_GEOMETRY,r,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},n.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},n.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var r,i=e.length,o,s,a=-1;for(r=0;r<i;++r)o=e[r],s=o[0],s==oi.END_GEOMETRY?a=r:s==oi.BEGIN_GEOMETRY&&(o[2]=r,Dne(this.hitDetectionInstructions,a,r),a=-1)},n.prototype.setFillStrokeStyle=function(e,r){var i=this.state;if(e){var o=e.getColor();i.fillStyle=Gh(o||up)}else i.fillStyle=void 0;if(r){var s=r.getColor();i.strokeStyle=Gh(s||YC);var a=r.getLineCap();i.lineCap=a!==void 0?a:a3;var f=r.getLineDash();i.lineDash=f?f.slice():GC;var g=r.getLineDashOffset();i.lineDashOffset=g||QC;var x=r.getLineJoin();i.lineJoin=x!==void 0?x:fy;var I=r.getWidth();i.lineWidth=I!==void 0?I:VC;var B=r.getMiterLimit();i.miterLimit=B!==void 0?B:$C,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},n.prototype.createFill=function(e){var r=e.fillStyle,i=[oi.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},n.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},n.prototype.createStroke=function(e){return[oi.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},n.prototype.updateFillStyle=function(e,r){var i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,e)),e.currentFillStyle=i)},n.prototype.updateStrokeStyle=function(e,r){var i=e.strokeStyle,o=e.lineCap,s=e.lineDash,a=e.lineDashOffset,f=e.lineJoin,g=e.lineWidth,x=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=o||s!=e.currentLineDash&&!c1(e.currentLineDash,s)||e.currentLineDashOffset!=a||e.currentLineJoin!=f||e.currentLineWidth!=g||e.currentMiterLimit!=x)&&(i!==void 0&&r.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=o,e.currentLineDash=s,e.currentLineDashOffset=a,e.currentLineJoin=f,e.currentLineWidth=g,e.currentMiterLimit=x)},n.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[oi.END_GEOMETRY,e];this.instructions.push(r),this.hitDetectionInstructions.push(r)},n.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=lR(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Em(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},n}(oz);const I_=Use;var Dse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fse=function(t){Dse(n,t);function n(e,r,i,o){var s=t.call(this,e,r,i,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterMode_=void 0,s.declutterImageWithText_=void 0,s}return n.prototype.drawPoint=function(e,r){if(this.image_){this.beginGeometry(e,r);var i=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([oi.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oi.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.drawMultiPoint=function(e,r){if(this.image_){this.beginGeometry(e,r);var i=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([oi.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oi.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},n.prototype.setImageStyle=function(e,r){var i=e.getAnchor(),o=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=o[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=r},n}(I_);const Lse=Fse;var Rse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zse=function(t){Rse(n,t);function n(e,r,i,o){return t.call(this,e,r,i,o)||this}return n.prototype.drawFlatCoordinates_=function(e,r,i,o){var s=this.coordinates.length,a=this.appendFlatLineCoordinates(e,r,i,o,!1,!1),f=[oi.MOVE_TO_LINE_TO,s,a];return this.instructions.push(f),this.hitDetectionInstructions.push(f),i},n.prototype.drawLineString=function(e,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,r),this.hitDetectionInstructions.push([oi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,GC,QC],U0);var a=e.getFlatCoordinates(),f=e.getStride();this.drawFlatCoordinates_(a,0,a.length,f),this.hitDetectionInstructions.push(fm),this.endGeometry(r)}},n.prototype.drawMultiLineString=function(e,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,r),this.hitDetectionInstructions.push([oi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],U0);for(var a=e.getEnds(),f=e.getFlatCoordinates(),g=e.getStride(),x=0,I=0,B=a.length;I<B;++I)x=this.drawFlatCoordinates_(f,x,a[I],g);this.hitDetectionInstructions.push(fm),this.endGeometry(r)}},n.prototype.finish=function(){var e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(fm),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},n.prototype.applyStroke=function(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(fm),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(U0)},n}(I_);const jse=zse;var Wse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nse=function(t){Wse(n,t);function n(e,r,i,o){return t.call(this,e,r,i,o)||this}return n.prototype.drawFlatCoordinatess_=function(e,r,i,o){var s=this.state,a=s.fillStyle!==void 0,f=s.strokeStyle!==void 0,g=i.length;this.instructions.push(U0),this.hitDetectionInstructions.push(U0);for(var x=0;x<g;++x){var I=i[x],B=this.coordinates.length,D=this.appendFlatLineCoordinates(e,r,I,o,!0,!f),L=[oi.MOVE_TO_LINE_TO,B,D];this.instructions.push(L),this.hitDetectionInstructions.push(L),f&&(this.instructions.push(Pk),this.hitDetectionInstructions.push(Pk)),r=I}return a&&(this.instructions.push(sx),this.hitDetectionInstructions.push(sx)),f&&(this.instructions.push(fm),this.hitDetectionInstructions.push(fm)),r},n.prototype.drawCircle=function(e,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([oi.SET_FILL_STYLE,up]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([oi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=e.getFlatCoordinates(),f=e.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,f,!1,!1);var x=[oi.CIRCLE,g];this.instructions.push(U0,x),this.hitDetectionInstructions.push(U0,x),i.fillStyle!==void 0&&(this.instructions.push(sx),this.hitDetectionInstructions.push(sx)),i.strokeStyle!==void 0&&(this.instructions.push(fm),this.hitDetectionInstructions.push(fm)),this.endGeometry(r)}},n.prototype.drawPolygon=function(e,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([oi.SET_FILL_STYLE,up]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([oi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=e.getEnds(),f=e.getOrientedFlatCoordinates(),g=e.getStride();this.drawFlatCoordinatess_(f,0,a,g),this.endGeometry(r)}},n.prototype.drawMultiPolygon=function(e,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([oi.SET_FILL_STYLE,up]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([oi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var a=e.getEndss(),f=e.getOrientedFlatCoordinates(),g=e.getStride(),x=0,I=0,B=a.length;I<B;++I)x=this.drawFlatCoordinatess_(f,x,a[I],g);this.endGeometry(r)}},n.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(e!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=g0(r[i],e);return t.prototype.finish.call(this)},n.prototype.setFillStrokeStyles_=function(){var e=this.state,r=e.fillStyle;r!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)},n}(I_);const Uk=Nse,az={POINT:"point",LINE:"line"};function Gse(t,n,e,r,i){var o=e,s=e,a=0,f=0,g=e,x,I,B,D,L,V,W,j,G,ee;for(I=e;I<r;I+=i){var re=n[I],se=n[I+1];L!==void 0&&(G=re-L,ee=se-V,D=Math.sqrt(G*G+ee*ee),W!==void 0&&(f+=B,x=Math.acos((W*G+j*ee)/(B*D)),x>t&&(f>a&&(a=f,o=g,s=I),f=0,g=I-i)),B=D,W=G,j=ee),L=re,V=se}return f+=D,f>a?[g,I]:[o,s]}var Qse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hC={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},$se=function(t){Qse(n,t);function n(e,r,i,o){var s=t.call(this,e,r,i,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return n.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},n.prototype.drawText=function(e,r){var i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!i&&!o)){var a=this.coordinates,f=a.length,g=e.getType(),x=null,I=e.getStride();if(s.placement===az.LINE&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!sl(this.getBufferedMaxExtent(),e.getExtent()))return;var B=void 0;if(x=e.getFlatCoordinates(),g=="LineString")B=[x.length];else if(g=="MultiLineString")B=e.getEnds();else if(g=="Polygon")B=e.getEnds().slice(0,1);else if(g=="MultiPolygon"){var D=e.getEndss();B=[];for(var L=0,V=D.length;L<V;++L)B.push(D[L][0])}this.beginGeometry(e,r);for(var W=s.textAlign,j=0,G=void 0,ee=0,re=B.length;ee<re;++ee){if(W==null){var se=Gse(s.maxAngle,x,j,B[ee],I);j=se[0],G=se[1]}else G=B[ee];for(var L=j;L<G;L+=I)a.push(x[L],x[L+1]);var oe=a.length;j=B[ee],this.drawChars_(f,oe),f=oe}this.endGeometry(r)}else{var ue=s.overflow?null:[];switch(g){case"Point":case"MultiPoint":x=e.getFlatCoordinates();break;case"LineString":x=e.getFlatMidpoint();break;case"Circle":x=e.getCenter();break;case"MultiLineString":x=e.getFlatMidpoints(),I=2;break;case"Polygon":x=e.getFlatInteriorPoint(),s.overflow||ue.push(x[2]/this.resolution),I=3;break;case"MultiPolygon":var me=e.getFlatInteriorPoints();x=[];for(var L=0,V=me.length;L<V;L+=3)s.overflow||ue.push(me[L+2]/this.resolution),x.push(me[L],me[L+1]);if(x.length===0)return;I=2;break}var oe=this.appendFlatPointCoordinates(x,I);if(oe===f)return;if(ue&&(oe-f)/2!==x.length/I){var De=f/2;ue=ue.filter(function(tn,St){var Ne=a[(De+St)*2]===x[St*I]&&a[(De+St)*2+1]===x[St*I+1];return Ne||--De,Ne})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,r);var Re=s.padding;if(Re!=P0&&(s.scale[0]<0||s.scale[1]<0)){var et=s.padding[0],ht=s.padding[1],ke=s.padding[2],Je=s.padding[3];s.scale[0]<0&&(ht=-ht,Je=-Je),s.scale[1]<0&&(et=-et,ke=-ke),Re=[et,ht,ke,Je]}var ve=this.pixelRatio;this.instructions.push([oi.DRAW_IMAGE,f,oe,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,Re==P0?P0:Re.map(function(tn){return tn*ve}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,ue]);var ft=1/ve;this.hitDetectionInstructions.push([oi.DRAW_IMAGE,f,oe,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ft,ft],NaN,void 0,this.declutterImageWithText_,Re,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,ue]),this.endGeometry(r)}}},n.prototype.saveTextStates_=function(){var e=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;e&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||qC,justify:r.justify,textBaseline:r.textBaseline||s3,scale:r.scale});var a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))},n.prototype.drawChars_=function(e,r){var i=this.textStrokeState_,o=this.textState_,s=this.strokeKey_,a=this.textKey_,f=this.fillKey_;this.saveTextStates_();var g=this.pixelRatio,x=hC[o.textBaseline],I=this.textOffsetY_*g,B=this.text_,D=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([oi.DRAW_CHARS,e,r,x,o.overflow,f,o.maxAngle,g,I,s,D*g,B,a,1]),this.hitDetectionInstructions.push([oi.DRAW_CHARS,e,r,x,o.overflow,f,o.maxAngle,1,I,s,D,B,a,1/g])},n.prototype.setTextStyle=function(e,r){var i,o,s;if(!e)this.text_="";else{var a=e.getFill();a?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Gh(a.getColor()||up)):(o=null,this.textFillState_=o);var f=e.getStroke();if(!f)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var g=f.getLineDash(),x=f.getLineDashOffset(),I=f.getWidth(),B=f.getMiterLimit();s.lineCap=f.getLineCap()||a3,s.lineDash=g?g.slice():GC,s.lineDashOffset=x===void 0?QC:x,s.lineJoin=f.getLineJoin()||fy,s.lineWidth=I===void 0?VC:I,s.miterLimit=B===void 0?$C:B,s.strokeStyle=Gh(f.getColor()||YC)}i=this.textState_;var D=e.getFont()||jR;Poe(D);var L=e.getScaleArray();i.overflow=e.getOverflow(),i.font=D,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||s3,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||P0,i.scale=L===void 0?[1,1]:L;var V=e.getOffsetX(),W=e.getOffsetY(),j=e.getRotateWithView(),G=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=V===void 0?0:V,this.textOffsetY_=W===void 0?0:W,this.textRotateWithView_=j===void 0?!1:j,this.textRotation_=G===void 0?0:G,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Qi(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Qi(o.fillStyle):""}this.declutterImageWithText_=r},n}(I_),Yse={Circle:Uk,Default:I_,Image:Lse,LineString:jse,Polygon:Uk,Text:$se},A3=function(){function t(n,e,r,i){this.tolerance_=n,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return t.prototype.finish=function(){var n={};for(var e in this.buildersByZIndex_){n[e]=n[e]||{};var r=this.buildersByZIndex_[e];for(var i in r){var o=r[i].finish();n[e][i]=o}}return n},t.prototype.getBuilder=function(n,e){var r=n!==void 0?n.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[e];if(o===void 0){var s=Yse[e];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=o}return o},t}(),qse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vse=function(t){qse(n,t);function n(e){var r=t.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=e,r.declutterExecutorGroup=null,r}return n.prototype.getFeatures=function(e){return ui()},n.prototype.getData=function(e){return null},n.prototype.prepareFrame=function(e){return ui()},n.prototype.renderFrame=function(e,r){return ui()},n.prototype.loadedTileCallback=function(e,r,i){e[r]||(e[r]={}),e[r][i.tileCoord.toString()]=i},n.prototype.createLoadedTileFinder=function(e,r,i){return(function(o,s){var a=this.loadedTileCallback.bind(this,i,o);return e.forEachLoadedTile(r,o,s,a)}).bind(this)},n.prototype.forEachFeatureAtCoordinate=function(e,r,i,o,s){},n.prototype.getDataAtPixel=function(e,r,i){return null},n.prototype.getLayer=function(){return this.layer_},n.prototype.handleFontsChanged=function(){},n.prototype.handleImageChange_=function(e){var r=e.target;r.getState()===$a.LOADED&&this.renderIfReadyAndVisible()},n.prototype.loadImage=function(e){var r=e.getState();return r!=$a.LOADED&&r!=$a.ERROR&&e.addEventListener(Ii.CHANGE,this.boundHandleImageChange_),r==$a.IDLE&&(e.load(),r=e.getState()),r==$a.LOADED},n.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()},n.prototype.disposeInternal=function(){delete this.layer_,t.prototype.disposeInternal.call(this)},n}(tR);const Hse=Vse;var Zse=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dk=[],dg=null;function Xse(){var t=document.createElement("canvas");t.width=1,t.height=1,dg=t.getContext("2d")}var Jse=function(t){Zse(n,t);function n(e){var r=t.call(this,e)||this;return r.container=null,r.renderedResolution,r.tempTransform=wd(),r.pixelTransform=wd(),r.inversePixelTransform=wd(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return n.prototype.getImageData=function(e,r,i){dg||Xse(),dg.clearRect(0,0,1,1);var o;try{dg.drawImage(e,r,i,1,1,0,0,1,1),o=dg.getImageData(0,0,1,1).data}catch{return dg=null,null}return o},n.prototype.getBackground=function(e){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0},n.prototype.useContainer=function(e,r,i){var o=this.getLayer().getClassName(),s,a;if(e&&e.className===o&&(!i||e&&e.style.backgroundColor&&c1(n3(e.style.backgroundColor),n3(i)))){var f=e.firstElementChild;f instanceof HTMLCanvasElement&&(a=f.getContext("2d"))}if(a&&a.canvas.style.transform===r?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=o;var g=s.style;g.position="absolute",g.width="100%",g.height="100%",a=XA();var f=a.canvas;s.appendChild(f),g=f.style,g.position="absolute",g.left="0",g.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},n.prototype.clipUnrotated=function(e,r,i){var o=jm(i),s=K4(i),a=T4(i),f=k4(i);ol(r.coordinateToPixelTransform,o),ol(r.coordinateToPixelTransform,s),ol(r.coordinateToPixelTransform,a),ol(r.coordinateToPixelTransform,f);var g=this.inversePixelTransform;ol(g,o),ol(g,s),ol(g,a),ol(g,f),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(f[0]),Math.round(f[1])),e.clip()},n.prototype.dispatchRenderEvent_=function(e,r,i){var o=this.getLayer();if(o.hasListener(e)){var s=new LR(e,this.inversePixelTransform,i,r);o.dispatchEvent(s)}},n.prototype.preRender=function(e,r){this.frameState=r,this.dispatchRenderEvent_(Bm.PRERENDER,e,r)},n.prototype.postRender=function(e,r){this.dispatchRenderEvent_(Bm.POSTRENDER,e,r)},n.prototype.getRenderTransform=function(e,r,i,o,s,a,f){var g=s/2,x=a/2,I=o/r,B=-I,D=-e[0]+f,L=-e[1];return Zh(this.tempTransform,g,x,I,B,-i,D,L)},n.prototype.getDataAtPixel=function(e,r,i){var o=ol(this.inversePixelTransform,e.slice()),s=this.context,a=this.getLayer(),f=a.getExtent();if(f){var g=ol(r.pixelToCoordinateTransform,e.slice());if(!M_(f,g))return null}var x=Math.round(o[0]),I=Math.round(o[1]),B=this.pixelContext_;if(!B){var D=document.createElement("canvas");D.width=1,D.height=1,B=D.getContext("2d"),this.pixelContext_=B}B.clearRect(0,0,1,1);var L;try{B.drawImage(s.canvas,x,I,1,1,0,0,1,1),L=B.getImageData(0,0,1,1).data}catch(V){return V.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):L}return L[3]===0?null:L},n.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},n}(Hse);const sz=Jse;function ele(t,n,e,r,i,o,s,a,f,g,x,I){var B=t[n],D=t[n+1],L=0,V=0,W=0,j=0;function G(){L=B,V=D,n+=r,B=t[n],D=t[n+1],j+=W,W=Math.sqrt((B-L)*(B-L)+(D-V)*(D-V))}do G();while(n<e-r&&j+W<o);for(var ee=W===0?0:(o-j)/W,re=Zf(L,B,ee),se=Zf(V,D,ee),oe=n-r,ue=j,me=o+a*f(g,i,x);n<e-r&&j+W<me;)G();ee=W===0?0:(me-j)/W;var De=Zf(L,B,ee),Re=Zf(V,D,ee),et;if(I){var ht=[re,se,De,Re];yR(ht,0,4,2,I,ht,ht),et=ht[0]>ht[2]}else et=re>De;var ke=Math.PI,Je=[],ve=oe+r===n;n=oe,W=0,j=ue,B=t[n],D=t[n+1];var ft;if(ve){G(),ft=Math.atan2(D-V,B-L),et&&(ft+=ft>0?-ke:ke);var Ft=(De+re)/2,tn=(Re+se)/2;return Je[0]=[Ft,tn,(me-o)/2,ft,i],Je}i=i.replace(/\n/g," ");for(var St=0,Ne=i.length;St<Ne;){G();var qe=Math.atan2(D-V,B-L);if(et&&(qe+=qe>0?-ke:ke),ft!==void 0){var tt=qe-ft;if(tt+=tt>ke?-2*ke:tt<-ke?2*ke:0,Math.abs(tt)>s)return null}ft=qe;for(var Jt=St,dt=0;St<Ne;++St){var ot=et?Ne-St-1:St,Et=a*f(g,i[ot],x);if(n+r<e&&j+W<o+dt+Et/2)break;dt+=Et}if(St!==Jt){var Kt=et?i.substring(Ne-Jt,Ne-St):i.substring(Jt,St);ee=W===0?0:(o+dt/2-j)/W;var Ft=Zf(L,B,ee),tn=Zf(V,D,ee);Je.push([Ft,tn,dt/2,qe,Kt]),o+=dt}}return Je}var Z1=Ed(),Gp=[],Lf=[],Rf=[],Qp=[];function Fk(t){return t[3].declutterBox}var tle=new RegExp("[-----]");function Lk(t,n){return(n==="start"||n==="end")&&!tle.test(t)&&(n=n==="start"?"left":"right"),hC[n]}function nle(t,n,e){return e>0&&t.push(`
`,""),t.push(n,""),t}var rle=function(){function t(n,e,r,i){this.overlaps=r,this.pixelRatio=e,this.resolution=n,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=wd(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(n,e,r,i){var o=n+e+r+i;if(this.labels_[o])return this.labels_[o];var s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,f=this.textStates[e],g=this.pixelRatio,x=[f.scale[0]*g,f.scale[1]*g],I=Array.isArray(n),B=f.justify?hC[f.justify]:Lk(Array.isArray(n)?n[0]:n,f.textAlign||qC),D=i&&s.lineWidth?s.lineWidth:0,L=I?n:n.split(`
`).reduce(nle,[]),V=Doe(f,L),W=V.width,j=V.height,G=V.widths,ee=V.heights,re=V.lineWidths,se=W+D,oe=[],ue=(se+2)*x[0],me=(j+D)*x[1],De={width:ue<0?Math.floor(ue):Math.ceil(ue),height:me<0?Math.floor(me):Math.ceil(me),contextInstructions:oe};if((x[0]!=1||x[1]!=1)&&oe.push("scale",x),i){oe.push("strokeStyle",s.strokeStyle),oe.push("lineWidth",D),oe.push("lineCap",s.lineCap),oe.push("lineJoin",s.lineJoin),oe.push("miterLimit",s.miterLimit);var Re=B4?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Re.prototype.setLineDash&&(oe.push("setLineDash",[s.lineDash]),oe.push("lineDashOffset",s.lineDashOffset))}r&&oe.push("fillStyle",a.fillStyle),oe.push("textBaseline","middle"),oe.push("textAlign","center");for(var et=.5-B,ht=B*se+et*D,ke=[],Je=[],ve=0,ft=0,Ft=0,tn=0,St,Ne=0,qe=L.length;Ne<qe;Ne+=2){var tt=L[Ne];if(tt===`
`){ft+=ve,ve=0,ht=B*se+et*D,++tn;continue}var Jt=L[Ne+1]||f.font;Jt!==St&&(i&&ke.push("font",Jt),r&&Je.push("font",Jt),St=Jt),ve=Math.max(ve,ee[Ft]);var dt=[tt,ht+et*G[Ft]+B*(G[Ft]-re[tn]),.5*(D+ve)+ft];ht+=G[Ft],i&&ke.push("strokeText",dt),r&&Je.push("fillText",dt),++Ft}return Array.prototype.push.apply(oe,ke),Array.prototype.push.apply(oe,Je),this.labels_[o]=De,De},t.prototype.replayTextBackground_=function(n,e,r,i,o,s,a){n.beginPath(),n.moveTo.apply(n,e),n.lineTo.apply(n,r),n.lineTo.apply(n,i),n.lineTo.apply(n,o),n.lineTo.apply(n,e),s&&(this.alignFill_=s[2],this.fill_(n)),a&&(this.setStrokeStyle_(n,a),n.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(n,e,r,i,o,s,a,f,g,x,I,B,D,L,V,W){a*=B[0],f*=B[1];var j=r-a,G=i-f,ee=o+g>n?n-g:o,re=s+x>e?e-x:s,se=L[3]+ee*B[0]+L[1],oe=L[0]+re*B[1]+L[2],ue=j-L[3],me=G-L[0];(V||I!==0)&&(Gp[0]=ue,Qp[0]=ue,Gp[1]=me,Lf[1]=me,Lf[0]=ue+se,Rf[0]=Lf[0],Rf[1]=me+oe,Qp[1]=Rf[1]);var De;return I!==0?(De=Zh(wd(),r,i,1,1,I,-r,-i),ol(De,Gp),ol(De,Lf),ol(De,Rf),ol(De,Qp),Xh(Math.min(Gp[0],Lf[0],Rf[0],Qp[0]),Math.min(Gp[1],Lf[1],Rf[1],Qp[1]),Math.max(Gp[0],Lf[0],Rf[0],Qp[0]),Math.max(Gp[1],Lf[1],Rf[1],Qp[1]),Z1)):Xh(Math.min(ue,ue+se),Math.min(me,me+oe),Math.max(ue,ue+se),Math.max(me,me+oe),Z1),D&&(j=Math.round(j),G=Math.round(G)),{drawImageX:j,drawImageY:G,drawImageW:ee,drawImageH:re,originX:g,originY:x,declutterBox:{minX:Z1[0],minY:Z1[1],maxX:Z1[2],maxY:Z1[3],value:W},canvasTransform:De,scale:B}},t.prototype.replayImageOrLabel_=function(n,e,r,i,o,s,a){var f=!!(s||a),g=i.declutterBox,x=n.canvas,I=a?a[2]*i.scale[0]/2:0,B=g.minX-I<=x.width/e&&g.maxX+I>=0&&g.minY-I<=x.height/e&&g.maxY+I>=0;return B&&(f&&this.replayTextBackground_(n,Gp,Lf,Rf,Qp,s,a),Foe(n,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(n){if(this.alignFill_){var e=ol(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;n.save(),n.translate(e[0]%r,e[1]%r),n.rotate(this.viewRotation_)}n.fill(),this.alignFill_&&n.restore()},t.prototype.setStrokeStyle_=function(n,e){n.strokeStyle=e[1],n.lineWidth=e[2],n.lineCap=e[3],n.lineJoin=e[4],n.miterLimit=e[5],n.setLineDash&&(n.lineDashOffset=e[7],n.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(n,e,r,i){var o=this.textStates[e],s=this.createLabel(n,e,i,r),a=this.strokeStates[r],f=this.pixelRatio,g=Lk(Array.isArray(n)?n[0]:n,o.textAlign||qC),x=hC[o.textBaseline||s3],I=a&&a.lineWidth?a.lineWidth:0,B=s.width/f-2*o.scale[0],D=g*B+2*(.5-g)*I,L=x*s.height/f+2*(.5-x)*I;return{label:s,anchorX:D,anchorY:L}},t.prototype.execute_=function(n,e,r,i,o,s,a,f){var g;this.pixelCoordinates_&&c1(r,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=Om(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),ere(this.renderedTransform_,r));for(var x=0,I=i.length,B=0,D,L,V,W,j,G,ee,re,se,oe,ue,me,De=0,Re=0,et=null,ht=null,ke=this.coordinateCache_,Je=this.viewRotation_,ve=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,ft={context:n,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Je},Ft=this.instructions!=i||this.overlaps?0:200,tn,St,Ne,qe;x<I;){var tt=i[x],Jt=tt[0];switch(Jt){case oi.BEGIN_GEOMETRY:tn=tt[1],qe=tt[3],tn.getGeometry()?a!==void 0&&!sl(a,qe.getExtent())?x=tt[2]+1:++x:x=tt[2];break;case oi.BEGIN_PATH:De>Ft&&(this.fill_(n),De=0),Re>Ft&&(n.stroke(),Re=0),!De&&!Re&&(n.beginPath(),W=NaN,j=NaN),++x;break;case oi.CIRCLE:B=tt[1];var dt=g[B],ot=g[B+1],Et=g[B+2],Kt=g[B+3],xe=Et-dt,ce=Kt-ot,_e=Math.sqrt(xe*xe+ce*ce);n.moveTo(dt+_e,ot),n.arc(dt,ot,_e,0,2*Math.PI,!0),++x;break;case oi.CLOSE_PATH:n.closePath(),++x;break;case oi.CUSTOM:B=tt[1],D=tt[2];var Ke=tt[3],Ve=tt[4],Ze=tt.length==6?tt[5]:void 0;ft.geometry=Ke,ft.feature=tn,x in ke||(ke[x]=[]);var bt=ke[x];Ze?Ze(g,B,D,2,bt):(bt[0]=g[B],bt[1]=g[B+1],bt.length=2),Ve(bt,ft),++x;break;case oi.DRAW_IMAGE:B=tt[1],D=tt[2],re=tt[3],L=tt[4],V=tt[5];var Gt=tt[6],Lt=tt[7],Un=tt[8],rr=tt[9],qt=tt[10],$n=tt[11],lr=tt[12],gr=tt[13],Mr=tt[14],Dr=tt[15];if(!re&&tt.length>=20){se=tt[19],oe=tt[20],ue=tt[21],me=tt[22];var ur=this.drawLabelWithPointPlacement_(se,oe,ue,me);re=ur.label,tt[3]=re;var yi=tt[23];L=(ur.anchorX-yi)*this.pixelRatio,tt[4]=L;var be=tt[24];V=(ur.anchorY-be)*this.pixelRatio,tt[5]=V,Gt=re.height,tt[6]=Gt,gr=re.width,tt[13]=gr}var z=void 0;tt.length>25&&(z=tt[25]);var q=void 0,Oe=void 0,st=void 0;tt.length>17?(q=tt[16],Oe=tt[17],st=tt[18]):(q=P0,Oe=!1,st=!1),qt&&ve?$n+=Je:!qt&&!ve&&($n-=Je);for(var ct=0;B<D;B+=2)if(!(z&&z[ct++]<gr/this.pixelRatio)){var wt=this.calculateImageOrLabelDimensions_(re.width,re.height,g[B],g[B+1],gr,Gt,L,V,Un,rr,$n,lr,o,q,Oe||st,tn),Vn=[n,e,re,wt,Lt,Oe?et:null,st?ht:null];if(f){if(Mr==="none")continue;if(Mr==="obstacle"){f.insert(wt.declutterBox);continue}else{var qn=void 0,Qr=void 0;if(Dr){var It=D-B;if(!Dr[It]){Dr[It]=Vn;continue}if(qn=Dr[It],delete Dr[It],Qr=Fk(qn),f.collides(Qr))continue}if(f.collides(wt.declutterBox))continue;qn&&(f.insert(Qr),this.replayImageOrLabel_.apply(this,qn)),f.insert(wt.declutterBox)}}this.replayImageOrLabel_.apply(this,Vn)}++x;break;case oi.DRAW_CHARS:var p=tt[1],Pt=tt[2],yr=tt[3],Jn=tt[4];me=tt[5];var un=tt[6],pr=tt[7],Zr=tt[8];ue=tt[9];var ki=tt[10];se=tt[11],oe=tt[12];var Ai=[tt[13],tt[13]],Fr=this.textStates[oe],Wr=Fr.font,Zi=[Fr.scale[0]*pr,Fr.scale[1]*pr],Wi=void 0;Wr in this.widths_?Wi=this.widths_[Wr]:(Wi={},this.widths_[Wr]=Wi);var da=MR(g,p,Pt,2),zo=Math.abs(Zi[0])*wk(Wr,se,Wi);if(Jn||zo<=da){var os=this.textStates[oe].textAlign,_a=(da-zo)*hC[os],Pe=ele(g,p,Pt,2,se,_a,un,Math.abs(Zi[0]),wk,Wr,Wi,ve?0:this.viewRotation_);e:if(Pe){var ie=[],he=void 0,Ee=void 0,Te=void 0,Qe=void 0,rt=void 0;if(ue)for(he=0,Ee=Pe.length;he<Ee;++he){rt=Pe[he],Te=rt[4],Qe=this.createLabel(Te,oe,"",ue),L=rt[2]+(Zi[0]<0?-ki:ki),V=yr*Qe.height+(.5-yr)*2*ki*Zi[1]/Zi[0]-Zr;var wt=this.calculateImageOrLabelDimensions_(Qe.width,Qe.height,rt[0],rt[1],Qe.width,Qe.height,L,V,0,0,rt[3],Ai,!1,P0,!1,tn);if(f&&f.collides(wt.declutterBox))break e;ie.push([n,e,Qe,wt,1,null,null])}if(me)for(he=0,Ee=Pe.length;he<Ee;++he){rt=Pe[he],Te=rt[4],Qe=this.createLabel(Te,oe,me,""),L=rt[2],V=yr*Qe.height-Zr;var wt=this.calculateImageOrLabelDimensions_(Qe.width,Qe.height,rt[0],rt[1],Qe.width,Qe.height,L,V,0,0,rt[3],Ai,!1,P0,!1,tn);if(f&&f.collides(wt.declutterBox))break e;ie.push([n,e,Qe,wt,1,null,null])}f&&f.load(ie.map(Fk));for(var Xe=0,Ge=ie.length;Xe<Ge;++Xe)this.replayImageOrLabel_.apply(this,ie[Xe])}}++x;break;case oi.END_GEOMETRY:if(s!==void 0){tn=tt[1];var ut=s(tn,qe);if(ut)return ut}++x;break;case oi.FILL:Ft?De++:this.fill_(n),++x;break;case oi.MOVE_TO_LINE_TO:for(B=tt[1],D=tt[2],St=g[B],Ne=g[B+1],G=St+.5|0,ee=Ne+.5|0,(G!==W||ee!==j)&&(n.moveTo(St,Ne),W=G,j=ee),B+=2;B<D;B+=2)St=g[B],Ne=g[B+1],G=St+.5|0,ee=Ne+.5|0,(B==D-2||G!==W||ee!==j)&&(n.lineTo(St,Ne),W=G,j=ee);++x;break;case oi.SET_FILL_STYLE:et=tt,this.alignFill_=tt[2],De&&(this.fill_(n),De=0,Re&&(n.stroke(),Re=0)),n.fillStyle=tt[1],++x;break;case oi.SET_STROKE_STYLE:ht=tt,Re&&(n.stroke(),Re=0),this.setStrokeStyle_(n,tt),++x;break;case oi.STROKE:Ft?Re++:n.stroke(),++x;break;default:++x;break}}De&&this.fill_(n),Re&&n.stroke()},t.prototype.execute=function(n,e,r,i,o,s){this.viewRotation_=i,this.execute_(n,e,r,this.instructions,o,void 0,void 0,s)},t.prototype.executeHitDetection=function(n,e,r,i,o){return this.viewRotation_=r,this.execute_(n,1,e,this.hitDetectionInstructions,!0,i,o)},t}();const ile=rle;var Vw=["Polygon","Circle","LineString","Image","Text","Default"],ole=function(){function t(n,e,r,i,o,s){this.maxExtent_=n,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=wd(),this.createExecutors_(o)}return t.prototype.clip=function(n,e){var r=this.getClipCoords(e);n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[2],r[3]),n.lineTo(r[4],r[5]),n.lineTo(r[6],r[7]),n.clip()},t.prototype.createExecutors_=function(n){for(var e in n){var r=this.executorsByZIndex_[e];r===void 0&&(r={},this.executorsByZIndex_[e]=r);var i=n[e];for(var o in i){var s=i[o];r[o]=new ile(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},t.prototype.hasExecutors=function(n){for(var e in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[e],i=0,o=n.length;i<o;++i)if(n[i]in r)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(n,e,r,i,o,s){i=Math.round(i);var a=i*2+1,f=Zh(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-r,-n[0],-n[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=XA(a,a));var x=this.hitDetectionContext_;x.canvas.width!==a||x.canvas.height!==a?(x.canvas.width=a,x.canvas.height=a):g||x.clearRect(0,0,a,a);var I;this.renderBuffer_!==void 0&&(I=Ed(),dC(I,n),Em(I,e*(this.renderBuffer_+i),I));var B=ale(i),D;function L(oe,ue){for(var me=x.getImageData(0,0,a,a).data,De=0,Re=B.length;De<Re;De++)if(me[B[De]]>0){if(!s||D!=="Image"&&D!=="Text"||s.indexOf(oe)!==-1){var et=(B[De]-3)/4,ht=i-et%a,ke=i-(et/a|0),Je=o(oe,ue,ht*ht+ke*ke);if(Je)return Je}x.clearRect(0,0,a,a);break}}var V=Object.keys(this.executorsByZIndex_).map(Number);V.sort(t1);var W,j,G,ee,re;for(W=V.length-1;W>=0;--W){var se=V[W].toString();for(G=this.executorsByZIndex_[se],j=Vw.length-1;j>=0;--j)if(D=Vw[j],ee=G[D],ee!==void 0&&(re=ee.executeHitDetection(x,f,r,L,I),re))return re}},t.prototype.getClipCoords=function(n){var e=this.maxExtent_;if(!e)return null;var r=e[0],i=e[1],o=e[2],s=e[3],a=[r,i,r,s,o,s,o,i];return Om(a,0,8,2,n,a),a},t.prototype.isEmpty=function(){return r1(this.executorsByZIndex_)},t.prototype.execute=function(n,e,r,i,o,s,a){var f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(t1),this.maxExtent_&&(n.save(),this.clip(n,r));var g=s||Vw,x,I,B,D,L,V;for(a&&f.reverse(),x=0,I=f.length;x<I;++x){var W=f[x].toString();for(L=this.executorsByZIndex_[W],B=0,D=g.length;B<D;++B){var j=g[B];V=L[j],V!==void 0&&V.execute(n,e,r,i,o,a)}}this.maxExtent_&&n.restore()},t}(),Hw={};function ale(t){if(Hw[t]!==void 0)return Hw[t];for(var n=t*2+1,e=t*t,r=new Array(e+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var s=i*i+o*o;if(s>e)break;var a=r[s];a||(a=[],r[s]=a),a.push(((t+i)*n+(t+o))*4+3),i>0&&a.push(((t-i)*n+(t+o))*4+3),o>0&&(a.push(((t+i)*n+(t-o))*4+3),i>0&&a.push(((t-i)*n+(t-o))*4+3))}for(var f=[],i=0,g=r.length;i<g;++i)r[i]&&f.push.apply(f,r[i]);return Hw[t]=f,f}const c3=ole;var sle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lle=function(t){sle(n,t);function n(e,r,i,o,s,a,f){var g=t.call(this)||this;return g.context_=e,g.pixelRatio_=r,g.extent_=i,g.transform_=o,g.viewRotation_=s,g.squaredTolerance_=a,g.userTransform_=f,g.contextFillState_=null,g.contextStrokeState_=null,g.contextTextState_=null,g.fillState_=null,g.strokeState_=null,g.image_=null,g.imageAnchorX_=0,g.imageAnchorY_=0,g.imageHeight_=0,g.imageOpacity_=0,g.imageOriginX_=0,g.imageOriginY_=0,g.imageRotateWithView_=!1,g.imageRotation_=0,g.imageScale_=[0,0],g.imageWidth_=0,g.text_="",g.textOffsetX_=0,g.textOffsetY_=0,g.textRotateWithView_=!1,g.textRotation_=0,g.textScale_=[0,0],g.textFillState_=null,g.textStrokeState_=null,g.textState_=null,g.pixelCoordinates_=[],g.tmpLocalTransform_=wd(),g}return n.prototype.drawImages_=function(e,r,i,o){if(this.image_){var s=Om(e,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,f=this.tmpLocalTransform_,g=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=g*this.imageOpacity_);var x=this.imageRotation_;this.imageRotateWithView_&&(x+=this.viewRotation_);for(var I=0,B=s.length;I<B;I+=2){var D=s[I]-this.imageAnchorX_,L=s[I+1]-this.imageAnchorY_;if(x!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var V=D+this.imageAnchorX_,W=L+this.imageAnchorY_;Zh(f,V,W,1,1,x,-V,-W),a.setTransform.apply(a,f),a.translate(V,W),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,D,L,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=g)}},n.prototype.drawText_=function(e,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=Om(e,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,f=this.textRotation_;for(this.textRotateWithView_&&(f+=this.viewRotation_);r<i;r+=o){var g=s[r]+this.textOffsetX_,x=s[r+1]+this.textOffsetY_;if(f!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var I=Zh(this.tmpLocalTransform_,g,x,1,1,f,-g,-x);a.setTransform.apply(a,I),a.translate(g,x),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,g,x),this.textFillState_&&a.fillText(this.text_,g,x)}}},n.prototype.moveToLineTo_=function(e,r,i,o,s){var a=this.context_,f=Om(e,r,i,o,this.transform_,this.pixelCoordinates_);a.moveTo(f[0],f[1]);var g=f.length;s&&(g-=2);for(var x=2;x<g;x+=2)a.lineTo(f[x],f[x+1]);return s&&a.closePath(),i},n.prototype.drawRings_=function(e,r,i,o){for(var s=0,a=i.length;s<a;++s)r=this.moveToLineTo_(e,r,i[s],o,!0);return r},n.prototype.drawCircle=function(e){if(sl(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Hre(e,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],s=Math.sqrt(i*i+o*o),a=this.context_;a.beginPath(),a.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}},n.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},n.prototype.setTransform=function(e){this.transform_=e},n.prototype.drawGeometry=function(e){var r=e.getType();switch(r){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}},n.prototype.drawFeature=function(e,r){var i=r.getGeometryFunction()(e);!i||!sl(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},n.prototype.drawGeometryCollection=function(e){for(var r=e.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},n.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},n.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},n.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!sl(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=e.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),r.stroke()}if(this.text_!==""){var o=e.getFlatMidpoint();this.drawText_(o,0,2,2)}}},n.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getExtent();if(sl(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=e.getFlatCoordinates(),s=0,a=e.getEnds(),f=e.getStride();i.beginPath();for(var g=0,x=a.length;g<x;++g)s=this.moveToLineTo_(o,s,a[g],f,!1);i.stroke()}if(this.text_!==""){var I=e.getFlatMidpoints();this.drawText_(I,0,I.length,2)}}},n.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!sl(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},n.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!sl(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=e.getOrientedFlatCoordinates(),o=0,s=e.getEndss(),a=e.getStride();r.beginPath();for(var f=0,g=s.length;f<g;++f){var x=s[f];o=this.drawRings_(i,o,x,a)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var I=e.getFlatInteriorPoints();this.drawText_(I,0,I.length,2)}}},n.prototype.setContextFillState_=function(e){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,r.fillStyle=e.fillStyle):(r.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},n.prototype.setContextStrokeState_=function(e){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,r.lineCap=e.lineCap),r.setLineDash&&(c1(i.lineDash,e.lineDash)||r.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,r.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,r.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,r.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,r.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,r.strokeStyle=e.strokeStyle)):(r.lineCap=e.lineCap,r.setLineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.lineWidth=e.lineWidth,r.miterLimit=e.miterLimit,r.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},n.prototype.setContextTextState_=function(e){var r=this.context_,i=this.contextTextState_,o=e.textAlign?e.textAlign:qC;i?(i.font!=e.font&&(i.font=e.font,r.font=e.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,r.textBaseline=e.textBaseline)):(r.font=e.font,r.textAlign=o,r.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:o,textBaseline:e.textBaseline})},n.prototype.setFillStrokeStyle=function(e,r){var i=this;if(!e)this.fillState_=null;else{var o=e.getColor();this.fillState_={fillStyle:Gh(o||up)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),a=r.getLineCap(),f=r.getLineDash(),g=r.getLineDashOffset(),x=r.getLineJoin(),I=r.getWidth(),B=r.getMiterLimit(),D=f||GC;this.strokeState_={lineCap:a!==void 0?a:a3,lineDash:this.pixelRatio_===1?D:D.map(function(L){return L*i.pixelRatio_}),lineDashOffset:(g||QC)*this.pixelRatio_,lineJoin:x!==void 0?x:fy,lineWidth:(I!==void 0?I:VC)*this.pixelRatio_,miterLimit:B!==void 0?B:$C,strokeStyle:Gh(s||YC)}}},n.prototype.setImageStyle=function(e){var r;if(!e||!(r=e.getSize())){this.image_=null;return}var i=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},n.prototype.setTextStyle=function(e){if(!e)this.text_="";else{var r=e.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:Gh(i||up)}}var o=e.getStroke();if(!o)this.textStrokeState_=null;else{var s=o.getColor(),a=o.getLineCap(),f=o.getLineDash(),g=o.getLineDashOffset(),x=o.getLineJoin(),I=o.getWidth(),B=o.getMiterLimit();this.textStrokeState_={lineCap:a!==void 0?a:a3,lineDash:f||GC,lineDashOffset:g||QC,lineJoin:x!==void 0?x:fy,lineWidth:I!==void 0?I:VC,miterLimit:B!==void 0?B:$C,strokeStyle:Gh(s||YC)}}var D=e.getFont(),L=e.getOffsetX(),V=e.getOffsetY(),W=e.getRotateWithView(),j=e.getRotation(),G=e.getScaleArray(),ee=e.getText(),re=e.getTextAlign(),se=e.getTextBaseline();this.textState_={font:D!==void 0?D:jR,textAlign:re!==void 0?re:qC,textBaseline:se!==void 0?se:s3},this.text_=ee!==void 0?Array.isArray(ee)?ee.reduce(function(oe,ue,me){return oe+=me%2?" ":ue},""):ee:"",this.textOffsetX_=L!==void 0?this.pixelRatio_*L:0,this.textOffsetY_=V!==void 0?this.pixelRatio_*V:0,this.textRotateWithView_=W!==void 0?W:!1,this.textRotation_=j!==void 0?j:0,this.textScale_=[this.pixelRatio_*G[0],this.pixelRatio_*G[1]]}},n}(oz);const tm={FRACTION:"fraction",PIXELS:"pixels"},hd={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var ule=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ale=function(t){ule(n,t);function n(e,r,i,o){var s=t.call(this)||this;return s.extent=e,s.pixelRatio_=i,s.resolution=r,s.state=o,s}return n.prototype.changed=function(){this.dispatchEvent(Ii.CHANGE)},n.prototype.getExtent=function(){return this.extent},n.prototype.getImage=function(){return ui()},n.prototype.getPixelRatio=function(){return this.pixelRatio_},n.prototype.getResolution=function(){return this.resolution},n.prototype.getState=function(){return this.state},n.prototype.load=function(){ui()},n}(Oy);const cle=Ale;var dle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){dle(n,t);function n(e,r,i,o,s,a){var f=t.call(this,e,r,i,$a.IDLE)||this;return f.src_=o,f.image_=new Image,s!==null&&(f.image_.crossOrigin=s),f.unlisten_=null,f.state=$a.IDLE,f.imageLoadFunction_=a,f}return n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=$a.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=ZA(this.extent)/this.image_.height),this.state=$a.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){(this.state==$a.IDLE||this.state==$a.ERROR)&&(this.state=$a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=QB(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.setImage=function(e){this.image_=e,this.resolution=ZA(this.extent)/this.image_.height},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n})(cle);function QB(t,n,e){var r=t,i=!0,o=!1,s=!1,a=[H2(r,Ii.LOAD,function(){s=!0,o||n()})];return r.src&&Jne?(o=!0,r.decode().then(function(){i&&n()}).catch(function(f){i&&(s?n():e())})):a.push(H2(r,Ii.ERROR,e)),function(){i=!1,a.forEach(Ya)}}var hle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yv=null,fle=function(t){hle(n,t);function n(e,r,i,o,s,a){var f=t.call(this)||this;return f.hitDetectionImage_=null,f.image_=e||new Image,o!==null&&(f.image_.crossOrigin=o),f.canvas_={},f.color_=a,f.unlisten_=null,f.imageState_=s,f.size_=i,f.src_=r,f.tainted_,f}return n.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===$a.LOADED){yv||(yv=XA(1,1)),yv.drawImage(this.image_,0,0);try{yv.getImageData(0,0,1,1),this.tainted_=!1}catch{yv=null,this.tainted_=!0}}return this.tainted_===!0},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Ii.CHANGE)},n.prototype.handleImageError_=function(){this.imageState_=$a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=$a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},n.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],r=this.size_[1],i=XA(e,r);i.fillRect(0,0,e,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(this.imageState_==$a.IDLE){this.imageState_=$a.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=QB(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},n.prototype.replaceColor_=function(e){if(!(!this.color_||this.canvas_[e]||this.imageState_!==$a.LOADED)){var r=document.createElement("canvas");this.canvas_[e]=r,r.width=Math.ceil(this.image_.width*e),r.height=Math.ceil(this.image_.height*e);var i=r.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=UR(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),s=o.data,a=this.color_[0]/255,f=this.color_[1]/255,g=this.color_[2]/255,x=this.color_[3],I=0,B=s.length;I<B;I+=4)s[I]*=a,s[I+1]*=f,s[I+2]*=g,s[I+3]*=x;i.putImageData(o,0,0)}}},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(Oy);function ple(t,n,e,r,i,o){var s=r3.get(n,r,o);return s||(s=new fle(t,n,e,r,i,o),r3.set(n,r,o,s)),s}var mle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gle=function(t){mle(n,t);function n(e){var r=this,i=e||{},o=i.opacity!==void 0?i.opacity:1,s=i.rotation!==void 0?i.rotation:0,a=i.scale!==void 0?i.scale:1,f=i.rotateWithView!==void 0?i.rotateWithView:!1;r=t.call(this,{opacity:o,rotation:s,scale:a,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:f,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:hd.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:tm.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:tm.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var g=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var x=i.src;ao(!(x!==void 0&&g),4),ao(!g||g&&r.imgSize_,5),(x===void 0||x.length===0)&&g&&(x=g.src||Qi(g)),ao(x!==void 0&&x.length>0,6);var I=i.src!==void 0?$a.IDLE:$a.LOADED;return r.color_=i.color!==void 0?n3(i.color):null,r.iconImage_=ple(g,x,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,I,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:hd.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return n.prototype.clone=function(){var e=this.getScale();return new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},n.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==tm.FRACTION||this.anchorYUnits_==tm.FRACTION){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_==tm.FRACTION&&(e[0]*=r[0]),this.anchorYUnits_==tm.FRACTION&&(e[1]*=r[1])}if(this.anchorOrigin_!=hd.TOP_LEFT){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==hd.TOP_RIGHT||this.anchorOrigin_==hd.BOTTOM_RIGHT)&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_==hd.BOTTOM_LEFT||this.anchorOrigin_==hd.BOTTOM_RIGHT)&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}var i=this.getDisplacement();return[e[0]-i[0],e[1]+i[1]]},n.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},n.prototype.getColor=function(){return this.color_},n.prototype.getImage=function(e){return this.iconImage_.getImage(e)},n.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},n.prototype.getImageSize=function(){return this.iconImage_.getSize()},n.prototype.getImageState=function(){return this.iconImage_.getImageState()},n.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},n.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=hd.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;e=e.slice(),(this.offsetOrigin_==hd.TOP_RIGHT||this.offsetOrigin_==hd.BOTTOM_RIGHT)&&(e[0]=i[0]-r[0]-e[0]),(this.offsetOrigin_==hd.BOTTOM_LEFT||this.offsetOrigin_==hd.BOTTOM_RIGHT)&&(e[1]=i[1]-r[1]-e[1])}return this.origin_=e,this.origin_},n.prototype.getSrc=function(){return this.iconImage_.getSrc()},n.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},n.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(Ii.CHANGE,e)},n.prototype.load=function(){this.iconImage_.load()},n.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(Ii.CHANGE,e)},n}(nz);const lz=gle;var yle="#333",vle=function(){function t(n){var e=n||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=CA(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new wg({color:yle}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:az.POINT,this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}return t.prototype.clone=function(){var n=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(n)?n.slice():n,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getJustify=function(){return this.justify_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(n){this.overflow_=n},t.prototype.setFont=function(n){this.font_=n},t.prototype.setMaxAngle=function(n){this.maxAngle_=n},t.prototype.setOffsetX=function(n){this.offsetX_=n},t.prototype.setOffsetY=function(n){this.offsetY_=n},t.prototype.setPlacement=function(n){this.placement_=n},t.prototype.setRotateWithView=function(n){this.rotateWithView_=n},t.prototype.setFill=function(n){this.fill_=n},t.prototype.setRotation=function(n){this.rotation_=n},t.prototype.setScale=function(n){this.scale_=n,this.scaleArray_=CA(n!==void 0?n:1)},t.prototype.setStroke=function(n){this.stroke_=n},t.prototype.setText=function(n){this.text_=n},t.prototype.setTextAlign=function(n){this.textAlign_=n},t.prototype.setJustify=function(n){this.justify_=n},t.prototype.setTextBaseline=function(n){this.textBaseline_=n},t.prototype.setBackgroundFill=function(n){this.backgroundFill_=n},t.prototype.setBackgroundStroke=function(n){this.backgroundStroke_=n},t.prototype.setPadding=function(n){this.padding_=n},t}(),Tc=.5;function uz(t,n,e,r,i,o,s){var a=t[0]*Tc,f=t[1]*Tc,g=XA(a,f);g.imageSmoothingEnabled=!1;for(var x=g.canvas,I=new lle(g,Tc,i,null,s),B=e.length,D=Math.floor((256*256*256-1)/B),L={},V=1;V<=B;++V){var W=e[V-1],j=W.getStyleFunction()||r;if(r){var G=j(W,o);if(G){Array.isArray(G)||(G=[G]);for(var ee=V*D,re="#"+("000000"+ee.toString(16)).slice(-6),se=0,oe=G.length;se<oe;++se){var ue=G[se],me=ue.getGeometryFunction()(W);if(!(!me||!sl(i,me.getExtent()))){var De=ue.clone(),Re=De.getFill();Re&&Re.setColor(re);var et=De.getStroke();et&&(et.setColor(re),et.setLineDash(null)),De.setText(void 0);var ht=ue.getImage();if(ht&&ht.getOpacity()!==0){var ke=ht.getImageSize();if(!ke)continue;var Je=XA(ke[0],ke[1],void 0,{alpha:!1}),ve=Je.canvas;Je.fillStyle=re,Je.fillRect(0,0,ve.width,ve.height),De.setImage(new lz({img:ve,imgSize:ke,anchor:ht.getAnchor(),anchorXUnits:tm.PIXELS,anchorYUnits:tm.PIXELS,offset:ht.getOrigin(),opacity:1,size:ht.getSize(),scale:ht.getScale(),rotation:ht.getRotation(),rotateWithView:ht.getRotateWithView()}))}var ft=De.getZIndex()||0,Ft=L[ft];Ft||(Ft={},L[ft]=Ft,Ft.Polygon=[],Ft.Circle=[],Ft.LineString=[],Ft.Point=[]),Ft[me.getType().replace("Multi","")].push(me,De)}}}}}for(var tn=Object.keys(L).map(Number).sort(t1),V=0,St=tn.length;V<St;++V){var Ft=L[tn[V]];for(var Ne in Ft)for(var qe=Ft[Ne],se=0,oe=qe.length;se<oe;se+=2){I.setStyle(qe[se+1]);for(var tt=0,Jt=n.length;tt<Jt;++tt)I.setTransform(n[tt]),I.drawGeometry(qe[se])}}return g.getImageData(0,0,x.width,x.height)}function Az(t,n,e){var r=[];if(e){var i=Math.floor(Math.round(t[0])*Tc),o=Math.floor(Math.round(t[1])*Tc),s=(_l(i,0,e.width-1)+_l(o,0,e.height-1)*e.width)*4,a=e.data[s],f=e.data[s+1],g=e.data[s+2],x=g+256*(f+256*a),I=Math.floor((256*256*256-1)/n.length);x&&x%I===0&&r.push(n[x/I-1])}return r}var Cle=.5,cz={Point:Ole,LineString:Mle,Polygon:Ile,MultiPoint:Ble,MultiLineString:Sle,MultiPolygon:Ele,GeometryCollection:wle,Circle:ble};function _le(t,n){return parseInt(Qi(t),10)-parseInt(Qi(n),10)}function dz(t,n){var e=F6(t,n);return e*e}function F6(t,n){return Cle*t/n}function ble(t,n,e,r,i){var o=e.getFill(),s=e.getStroke();if(o||s){var a=t.getBuilder(e.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(n,r)}var f=e.getText();if(f&&f.getText()){var g=(i||t).getBuilder(e.getZIndex(),"Text");g.setTextStyle(f),g.drawText(n,r)}}function d3(t,n,e,r,i,o,s){var a=!1,f=e.getImage();if(f){var g=f.getImageState();g==$a.LOADED||g==$a.ERROR?f.unlistenImageChange(i):(g==$a.IDLE&&f.load(),f.listenImageChange(i),a=!0)}return xle(t,n,e,r,o,s),a}function xle(t,n,e,r,i,o){var s=e.getGeometryFunction()(n);if(s){var a=s.simplifyTransformed(r,i),f=e.getRenderer();if(f)hz(t,a,e,n);else{var g=cz[a.getType()];g(t,a,e,n,o)}}}function hz(t,n,e,r){if(n.getType()=="GeometryCollection"){for(var i=n.getGeometries(),o=0,s=i.length;o<s;++o)hz(t,i[o],e,r);return}var a=t.getBuilder(e.getZIndex(),"Default");a.drawCustom(n,r,e.getRenderer(),e.getHitDetectionRenderer())}function wle(t,n,e,r,i){var o=n.getGeometriesArray(),s,a;for(s=0,a=o.length;s<a;++s){var f=cz[o[s].getType()];f(t,o[s],e,r,i)}}function Mle(t,n,e,r,i){var o=e.getStroke();if(o){var s=t.getBuilder(e.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(n,r)}var a=e.getText();if(a&&a.getText()){var f=(i||t).getBuilder(e.getZIndex(),"Text");f.setTextStyle(a),f.drawText(n,r)}}function Sle(t,n,e,r,i){var o=e.getStroke();if(o){var s=t.getBuilder(e.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(n,r)}var a=e.getText();if(a&&a.getText()){var f=(i||t).getBuilder(e.getZIndex(),"Text");f.setTextStyle(a),f.drawText(n,r)}}function Ele(t,n,e,r,i){var o=e.getFill(),s=e.getStroke();if(s||o){var a=t.getBuilder(e.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(n,r)}var f=e.getText();if(f&&f.getText()){var g=(i||t).getBuilder(e.getZIndex(),"Text");g.setTextStyle(f),g.drawText(n,r)}}function Ole(t,n,e,r,i){var o=e.getImage(),s=e.getText(),a;if(o){if(o.getImageState()!=$a.LOADED)return;var f=t;if(i){var g=o.getDeclutterMode();if(g!=="none")if(f=i,g==="obstacle"){var x=t.getBuilder(e.getZIndex(),"Image");x.setImageStyle(o,a),x.drawPoint(n,r)}else s&&s.getText()&&(a={})}var I=f.getBuilder(e.getZIndex(),"Image");I.setImageStyle(o,a),I.drawPoint(n,r)}if(s&&s.getText()){var B=t;i&&(B=i);var D=B.getBuilder(e.getZIndex(),"Text");D.setTextStyle(s,a),D.drawText(n,r)}}function Ble(t,n,e,r,i){var o=e.getImage(),s=e.getText(),a;if(o){if(o.getImageState()!=$a.LOADED)return;var f=t;if(i){var g=o.getDeclutterMode();if(g!=="none")if(f=i,g==="obstacle"){var x=t.getBuilder(e.getZIndex(),"Image");x.setImageStyle(o,a),x.drawMultiPoint(n,r)}else s&&s.getText()&&(a={})}var I=f.getBuilder(e.getZIndex(),"Image");I.setImageStyle(o,a),I.drawMultiPoint(n,r)}if(s&&s.getText()){var B=t;i&&(B=i);var D=B.getBuilder(e.getZIndex(),"Text");D.setTextStyle(s,a),D.drawText(n,r)}}function Ile(t,n,e,r,i){var o=e.getFill(),s=e.getStroke();if(o||s){var a=t.getBuilder(e.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(n,r)}var f=e.getText();if(f&&f.getText()){var g=(i||t).getBuilder(e.getZIndex(),"Text");g.setTextStyle(f),g.drawText(n,r)}}var kle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tle=function(t){kle(n,t);function n(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Ed(),r.wrappedRenderedExtent_=Ed(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return n.prototype.renderWorlds=function(e,r,i){var o=r.extent,s=r.viewState,a=s.center,f=s.resolution,g=s.projection,x=s.rotation,I=g.getExtent(),B=this.getLayer().getSource(),D=r.pixelRatio,L=r.viewHints,V=!(L[zs.ANIMATING]||L[zs.INTERACTING]),W=this.compositionContext_,j=Math.round(r.size[0]*D),G=Math.round(r.size[1]*D),ee=B.getWrapX()&&g.canWrapX(),re=ee?is(I):null,se=ee?Math.ceil((o[2]-I[2])/re)+1:1,oe=ee?Math.floor((o[0]-I[0])/re):0;do{var ue=this.getRenderTransform(a,f,x,D,j,G,oe*re);e.execute(W,1,ue,x,V,void 0,i)}while(++oe<se)},n.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var e=XA(this.context.canvas.width,this.context.canvas.height,Dk);this.compositionContext_=e}else this.compositionContext_=this.context},n.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,FB(this.compositionContext_),Dk.push(this.compositionContext_.canvas),this.compositionContext_=null}},n.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())},n.prototype.renderFrame=function(e,r){var i=e.pixelRatio,o=e.layerStatesArray[e.layerIndex];tre(this.pixelTransform,1/i,1/i),pB(this.inversePixelTransform,this.pixelTransform);var s=sR(this.pixelTransform);this.useContainer(r,s,this.getBackground(e));var a=this.context,f=a.canvas,g=this.replayGroup_,x=this.declutterExecutorGroup;if((!g||g.isEmpty())&&(!x||x.isEmpty()))return null;var I=Math.round(e.size[0]*i),B=Math.round(e.size[1]*i);f.width!=I||f.height!=B?(f.width=I,f.height=B,f.style.transform!==s&&(f.style.transform=s)):this.containerReused||a.clearRect(0,0,I,B),this.preRender(a,e);var D=e.viewState;D.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var L=!1,V=!0;if(o.extent&&this.clipping){var W=T0(o.extent);V=sl(W,e.extent),L=V&&!dm(W,e.extent),L&&this.clipUnrotated(this.compositionContext_,e,W)}return V&&this.renderWorlds(g,e),L&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(a,e),this.renderedRotation_!==D.rotation&&(this.renderedRotation_=D.rotation,this.hitDetectionImageData_=null),this.container},n.prototype.getFeatures=function(e){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];ol(this.pixelTransform,i);var o=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,f=this.renderedProjection_,g=this.wrappedRenderedExtent_,x=this.getLayer(),I=[],B=i[0]*Tc,D=i[1]*Tc;I.push(this.getRenderTransform(o,s,a,Tc,B,D,0).slice());var L=x.getSource(),V=f.getExtent();if(L.getWrapX()&&f.canWrapX()&&!dm(V,g)){for(var W=g[0],j=is(V),G=0,ee=void 0;W<V[0];)--G,ee=j*G,I.push(this.getRenderTransform(o,s,a,Tc,B,D,ee).slice()),W+=j;for(G=0,W=g[2];W>V[2];)++G,ee=j*G,I.push(this.getRenderTransform(o,s,a,Tc,B,D,ee).slice()),W-=j}this.hitDetectionImageData_=uz(i,I,this.renderedFeatures_,x.getStyleFunction(),g,s,a)}r(Az(e,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},n.prototype.forEachFeatureAtCoordinate=function(e,r,i,o,s){var a=this;if(this.replayGroup_){var f=r.viewState.resolution,g=r.viewState.rotation,x=this.getLayer(),I={},B=function(V,W,j){var G=Qi(V),ee=I[G];if(ee){if(ee!==!0&&j<ee.distanceSq){if(j===0)return I[G]=!0,s.splice(s.lastIndexOf(ee),1),o(V,x,W);ee.geometry=W,ee.distanceSq=j}}else{if(j===0)return I[G]=!0,o(V,x,W);s.push(I[G]={feature:V,layer:x,geometry:W,distanceSq:j,callback:o})}},D,L=[this.replayGroup_];return this.declutterExecutorGroup&&L.push(this.declutterExecutorGroup),L.some(function(V){return D=V.forEachFeatureAtCoordinate(e,f,g,i,B,V===a.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(W){return W.value}):null)}),D}},n.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},n.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},n.prototype.prepareFrame=function(e){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=e.viewHints[zs.ANIMATING],s=e.viewHints[zs.INTERACTING],a=r.getUpdateWhileAnimating(),f=r.getUpdateWhileInteracting();if(this.ready&&!a&&o||!f&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var g=e.extent,x=e.viewState,I=x.projection,B=x.resolution,D=e.pixelRatio,L=r.getRevision(),V=r.getRenderBuffer(),W=r.getRenderOrder();W===void 0&&(W=_le);var j=x.center.slice(),G=Em(g,V*B),ee=G.slice(),re=[G.slice()],se=I.getExtent();if(i.getWrapX()&&I.canWrapX()&&!dm(se,e.extent)){var oe=is(se),ue=Math.max(is(G)/2,oe);G[0]=se[0]-ue,G[2]=se[2]+ue,_B(j,I);var me=hR(re[0],I);me[0]<se[0]&&me[2]<se[2]?re.push([me[0]+oe,me[1],me[2]+oe,me[3]]):me[0]>se[0]&&me[2]>se[2]&&re.push([me[0]-oe,me[1],me[2]-oe,me[3]])}if(this.ready&&this.renderedResolution_==B&&this.renderedRevision_==L&&this.renderedRenderOrder_==W&&dm(this.wrappedRenderedExtent_,G))return c1(this.renderedExtent_,ee)||(this.hitDetectionImageData_=null,this.renderedExtent_=ee),this.renderedCenter_=j,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var De=new A3(F6(B,D),G,B,D),Re;this.getLayer().getDeclutter()&&(Re=new A3(F6(B,D),G,B,D));for(var et,ht,ke,ht=0,ke=re.length;ht<ke;++ht)i.loadFeatures(re[ht],B,I);var Je=dz(B,D),ve=!0,ft=(function(qe){var tt,Jt=qe.getStyleFunction()||r.getStyleFunction();if(Jt&&(tt=Jt(qe,B)),tt){var dt=this.renderFeature(qe,Je,tt,De,et,Re);ve=ve&&!dt}}).bind(this),Ft=gR(G),tn=i.getFeaturesInExtent(Ft);W&&tn.sort(W);for(var ht=0,ke=tn.length;ht<ke;++ht)ft(tn[ht]);this.renderedFeatures_=tn,this.ready=ve;var St=De.finish(),Ne=new c3(G,B,D,i.getOverlaps(),St,r.getRenderBuffer());return Re&&(this.declutterExecutorGroup=new c3(G,B,D,i.getOverlaps(),Re.finish(),r.getRenderBuffer())),this.renderedResolution_=B,this.renderedRevision_=L,this.renderedRenderOrder_=W,this.renderedExtent_=ee,this.wrappedRenderedExtent_=G,this.renderedCenter_=j,this.renderedProjection_=I,this.replayGroup_=Ne,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},n.prototype.renderFeature=function(e,r,i,o,s,a){if(!i)return!1;var f=!1;if(Array.isArray(i))for(var g=0,x=i.length;g<x;++g)f=d3(o,e,i[g],r,this.boundHandleStyleImageChange_,s,a)||f;else f=d3(o,e,i,r,this.boundHandleStyleImageChange_,s,a);return f},n}(sz);const Kle=Tle;var Ple=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ule=function(t){Ple(n,t);function n(e){return t.call(this,e)||this}return n.prototype.createRenderer=function(){return new Kle(this)},n}(iz);const fz=Ule;var Rk=function(){function t(n){this.rbush_=new tz(n),this.items_={}}return t.prototype.insert=function(n,e){var r={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:e};this.rbush_.insert(r),this.items_[Qi(e)]=r},t.prototype.load=function(n,e){for(var r=new Array(e.length),i=0,o=e.length;i<o;i++){var s=n[i],a=e[i],f={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=f,this.items_[Qi(a)]=f}this.rbush_.load(r)},t.prototype.remove=function(n){var e=Qi(n),r=this.items_[e];return delete this.items_[e],this.rbush_.remove(r)!==null},t.prototype.update=function(n,e){var r=this.items_[Qi(e)],i=[r.minX,r.minY,r.maxX,r.maxY];hy(i,n)||(this.remove(e),this.insert(n,e))},t.prototype.getAll=function(){var n=this.rbush_.all();return n.map(function(e){return e.value})},t.prototype.getInExtent=function(n){var e={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]},r=this.rbush_.search(e);return r.map(function(i){return i.value})},t.prototype.forEach=function(n){return this.forEach_(this.getAll(),n)},t.prototype.forEachInExtent=function(n,e){return this.forEach_(this.getInExtent(n),e)},t.prototype.forEach_=function(n,e){for(var r,i=0,o=n.length;i<o;i++)if(r=e(n[i]),r)return r;return r},t.prototype.isEmpty=function(){return r1(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(n){var e=this.rbush_.toJSON();return Xh(e.minX,e.minY,e.maxX,e.maxY,n)},t.prototype.concat=function(n){this.rbush_.load(n.rbush_.all());for(var e in n.items_)this.items_[e]=n.items_[e]},t}(),Dle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fle=function(t){Dle(n,t);function n(e){var r=t.call(this)||this;r.projection=Os(e.projection),r.attributions_=zk(e.attributions),r.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,r.loading=!1,r.state_=e.state!==void 0?e.state:"ready",r.wrapX_=e.wrapX!==void 0?e.wrapX:!1,r.interpolate_=!!e.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,s){i.viewResolver=o,i.viewRejector=s}),r}return n.prototype.getAttributions=function(){return this.attributions_},n.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},n.prototype.getProjection=function(){return this.projection},n.prototype.getResolutions=function(){return ui()},n.prototype.getView=function(){return this.viewPromise_},n.prototype.getState=function(){return this.state_},n.prototype.getWrapX=function(){return this.wrapX_},n.prototype.getInterpolate=function(){return this.interpolate_},n.prototype.refresh=function(){this.changed()},n.prototype.setAttributions=function(e){this.attributions_=zk(e),this.changed()},n.prototype.setState=function(e){this.state_=e,this.changed()},n}(ah);function zk(t){return t?Array.isArray(t)?function(n){return t}:typeof t=="function"?t:function(n){return[t]}:null}const pz=Fle,Vd={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Lle(t,n){return[[-1/0,-1/0,1/0,1/0]]}var Rle=!1;function mz(t,n,e,r,i,o,s){var a=new XMLHttpRequest;a.open("GET",typeof t=="function"?t(e,r,i):t,!0),n.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Rle,a.onload=function(f){if(!a.status||a.status>=200&&a.status<300){var g=n.getType(),x=void 0;g=="json"||g=="text"?x=a.responseText:g=="xml"?(x=a.responseXML,x||(x=new DOMParser().parseFromString(a.responseText,"application/xml"))):g=="arraybuffer"&&(x=a.response),x?o(n.readFeatures(x,{extent:e,featureProjection:i}),n.readProjection(x)):s()}else s()},a.onerror=s,a.send()}function jk(t,n){return function(e,r,i,o,s){var a=this;mz(t,n,e,r,i,function(f,g){a.addFeatures(f),o!==void 0&&o(f)},s||n1)}}var gz=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$p=function(t){gz(n,t);function n(e,r,i){var o=t.call(this,e)||this;return o.feature=r,o.features=i,o}return n}(mp),zle=function(t){gz(n,t);function n(e){var r=this,i=e||{};r=t.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=n1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(ao(r.format_,7),r.loader_=jk(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:Lle;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new Rk:null,r.loadedExtentsRtree_=new Rk,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,a;return Array.isArray(i.features)?a=i.features:i.features&&(s=i.features,a=s.getArray()),!o&&s===void 0&&(s=new _d(a)),a!==void 0&&r.addFeaturesInternal(a),s!==void 0&&r.bindFeaturesCollection_(s),r}return n.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},n.prototype.addFeatureInternal=function(e){var r=Qi(e);if(!this.addToIndex_(r,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(r,e);var i=e.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,e)}else this.nullGeometryFeatures_[r]=e;this.dispatchEvent(new $p(Vd.ADDFEATURE,e))},n.prototype.setupChangeEvents_=function(e,r){this.featureChangeKeys_[e]=[bo(r,Ii.CHANGE,this.handleFeatureChange_,this),bo(r,dy.PROPERTYCHANGE,this.handleFeatureChange_,this)]},n.prototype.addToIndex_=function(e,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(ao(!(e in this.uidIndex_),30),this.uidIndex_[e]=r),i},n.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},n.prototype.addFeaturesInternal=function(e){for(var r=[],i=[],o=[],s=0,a=e.length;s<a;s++){var f=e[s],g=Qi(f);this.addToIndex_(g,f)&&i.push(f)}for(var s=0,x=i.length;s<x;s++){var f=i[s],g=Qi(f);this.setupChangeEvents_(g,f);var I=f.getGeometry();if(I){var B=I.getExtent();r.push(B),o.push(f)}else this.nullGeometryFeatures_[g]=f}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(Vd.ADDFEATURE))for(var s=0,D=i.length;s<D;s++)this.dispatchEvent(new $p(Vd.ADDFEATURE,i[s]))},n.prototype.bindFeaturesCollection_=function(e){var r=!1;this.addEventListener(Vd.ADDFEATURE,function(i){r||(r=!0,e.push(i.feature),r=!1)}),this.addEventListener(Vd.REMOVEFEATURE,function(i){r||(r=!0,e.remove(i.feature),r=!1)}),e.addEventListener(YA.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),e.addEventListener(YA.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=e},n.prototype.clear=function(e){if(e){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(Ya)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(f){this.removeFeatureInternal(f)}).bind(this);this.featuresRtree_.forEach(o);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new $p(Vd.CLEAR);this.dispatchEvent(a),this.changed()},n.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},n.prototype.forEachFeatureAtCoordinateDirect=function(e,r){var i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(o){var s=o.getGeometry();if(s.intersectsCoordinate(e))return r(o)})},n.prototype.forEachFeatureInExtent=function(e,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},n.prototype.forEachFeatureIntersectingExtent=function(e,r){return this.forEachFeatureInExtent(e,function(i){var o=i.getGeometry();if(o.intersectsExtent(e)){var s=r(i);if(s)return s}})},n.prototype.getFeaturesCollection=function(){return this.featuresCollection_},n.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),r1(this.nullGeometryFeatures_)||qh(e,eR(this.nullGeometryFeatures_))),e},n.prototype.getFeaturesAtCoordinate=function(e){var r=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){r.push(i)}),r},n.prototype.getFeaturesInExtent=function(e,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(e);var s=Are(e,r);return[].concat.apply([],s.map(function(a){return i.featuresRtree_.getInExtent(a)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},n.prototype.getClosestFeatureToCoordinate=function(e,r){var i=e[0],o=e[1],s=null,a=[NaN,NaN],f=1/0,g=[-1/0,-1/0,1/0,1/0],x=r||Ng;return this.featuresRtree_.forEachInExtent(g,function(I){if(x(I)){var B=I.getGeometry(),D=f;if(f=B.closestPointXY(i,o,a,f),f<D){s=I;var L=Math.sqrt(f);g[0]=i-L,g[1]=o-L,g[2]=i+L,g[3]=o+L}}}),s},n.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},n.prototype.getFeatureById=function(e){var r=this.idIndex_[e.toString()];return r!==void 0?r:null},n.prototype.getFeatureByUid=function(e){var r=this.uidIndex_[e];return r!==void 0?r:null},n.prototype.getFormat=function(){return this.format_},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.getUrl=function(){return this.url_},n.prototype.handleFeatureChange_=function(e){var r=e.target,i=Qi(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var s=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var a=r.getId();if(a!==void 0){var f=a.toString();this.idIndex_[f]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[f]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new $p(Vd.CHANGEFEATURE,r))},n.prototype.hasFeature=function(e){var r=e.getId();return r!==void 0?r in this.idIndex_:Qi(e)in this.uidIndex_},n.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&r1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},n.prototype.loadFeatures=function(e,r,i){for(var o=this.loadedExtentsRtree_,s=this.strategy_(e,r,i),a=function(I,B){var D=s[I],L=o.forEachInExtent(D,function(V){return dm(V.extent,D)});L||(++f.loadingExtentsCount_,f.dispatchEvent(new $p(Vd.FEATURESLOADSTART)),f.loader_.call(f,D,r,i,(function(V){--this.loadingExtentsCount_,this.dispatchEvent(new $p(Vd.FEATURESLOADEND,void 0,V))}).bind(f),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new $p(Vd.FEATURESLOADERROR))}).bind(f)),o.insert(D,{extent:D.slice()}))},f=this,g=0,x=s.length;g<x;++g)a(g);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},n.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},n.prototype.removeLoadedExtent=function(e){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(e,function(o){if(hy(o.extent,e))return i=o,!0}),i&&r.remove(i)},n.prototype.removeFeature=function(e){if(e){var r=Qi(e);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(e);var i=this.removeFeatureInternal(e);i&&this.changed()}},n.prototype.removeFeatureInternal=function(e){var r=Qi(e),i=this.featureChangeKeys_[r];if(i){i.forEach(Ya),delete this.featureChangeKeys_[r];var o=e.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new $p(Vd.REMOVEFEATURE,e)),e}},n.prototype.removeFromIdIndex_=function(e){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],r=!0;break}return r},n.prototype.setLoader=function(e){this.loader_=e},n.prototype.setUrl=function(e){ao(this.format_,7),this.url_=e,this.setLoader(jk(e,this.format_))},n}(pz);const yz=zle;function jle(t){var n=t||{},e=new _d,r=new lse(-.005,.05,100),i=n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0;i&&e.push(new qae);var o=n.doubleClickZoom!==void 0?n.doubleClickZoom:!0;o&&e.push(new Dae({delta:n.zoomDelta,duration:n.zoomDuration}));var s=n.dragPan!==void 0?n.dragPan:!0;s&&e.push(new $ae({onFocusOnly:n.onFocusOnly,kinetic:r}));var a=n.pinchRotate!==void 0?n.pinchRotate:!0;a&&e.push(new hse);var f=n.pinchZoom!==void 0?n.pinchZoom:!0;f&&e.push(new mse({duration:n.zoomDuration}));var g=n.keyboard!==void 0?n.keyboard:!0;g&&(e.push(new ise),e.push(new sse({delta:n.zoomDelta,duration:n.zoomDuration})));var x=n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0;x&&e.push(new cse({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration}));var I=n.shiftDragZoom!==void 0?n.shiftDragZoom:!0;return I&&e.push(new nse({duration:n.zoomDuration})),e}var Wle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$B=function(t){Wle(n,t);function n(e){return e=ul({},e),e.controls||(e.controls=Iae()),e.interactions||(e.interactions=jle({onFocusOnly:!0})),t.call(this,e)||this}return n.prototype.createRenderer=function(){return new joe(this)},n}(mae),vz=function(){function t(n,e,r,i){this.minX=n,this.maxX=e,this.minY=r,this.maxY=i}return t.prototype.contains=function(n){return this.containsXY(n[1],n[2])},t.prototype.containsTileRange=function(n){return this.minX<=n.minX&&n.maxX<=this.maxX&&this.minY<=n.minY&&n.maxY<=this.maxY},t.prototype.containsXY=function(n,e){return this.minX<=n&&n<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(n){return this.minX==n.minX&&this.minY==n.minY&&this.maxX==n.maxX&&this.maxY==n.maxY},t.prototype.extend=function(n){n.minX<this.minX&&(this.minX=n.minX),n.maxX>this.maxX&&(this.maxX=n.maxX),n.minY<this.minY&&(this.minY=n.minY),n.maxY>this.maxY&&(this.maxY=n.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(n){return this.minX<=n.maxX&&this.maxX>=n.minX&&this.minY<=n.maxY&&this.maxY>=n.minY},t}();function X1(t,n,e,r,i){return i!==void 0?(i.minX=t,i.maxX=n,i.minY=e,i.maxY=r,i):new vz(t,n,e,r)}const Cz=vz;function Wk(t,n,e,r){return r!==void 0?(r[0]=t,r[1]=n,r[2]=e,r):[t,n,e]}function Iy(t,n,e){return t+"/"+n+"/"+e}function _z(t){return Iy(t[0],t[1],t[2])}function Nle(t){var n=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number),e=n[0],r=n[1],i=n[2];return Iy(e,r,i)}function bz(t){return t.split("/").map(Number)}function Gle(t){return(t[1]<<t[0])+t[2]}function Qle(t,n){var e=t[0],r=t[1],i=t[2];if(n.getMinZoom()>e||e>n.getMaxZoom())return!1;var o=n.getFullTileRange(e);return o?o.containsXY(r,i):!0}var $le=[0,0,0],Yp=5,Yle=function(){function t(n){this.minZoom=n.minZoom!==void 0?n.minZoom:0,this.resolutions_=n.resolutions,ao(Fne(this.resolutions_,function(s,a){return a-s},!0),17);var e;if(!n.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!e)e=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=n.origin!==void 0?n.origin:null,this.origins_=null,n.origins!==void 0&&(this.origins_=n.origins,ao(this.origins_.length==this.resolutions_.length,20));var o=n.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=jm(o)),ao(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,n.tileSizes!==void 0&&(this.tileSizes_=n.tileSizes,ao(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=n.tileSize!==void 0?n.tileSize:this.tileSizes_?null:LB,ao(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],n.sizes!==void 0?this.fullTileRanges_=n.sizes.map(function(s,a){var f=new Cz(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var g=this.getTileRangeForExtentAndZ(o,a);f.minX=Math.max(g.minX,f.minX),f.maxX=Math.min(g.maxX,f.maxX),f.minY=Math.max(g.minY,f.minY),f.maxY=Math.min(g.maxY,f.maxY)}return f},this):o&&this.calculateTileRanges_(o)}return t.prototype.forEachTileCoord=function(n,e,r){for(var i=this.getTileRangeForExtentAndZ(n,e),o=i.minX,s=i.maxX;o<=s;++o)for(var a=i.minY,f=i.maxY;a<=f;++a)r([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(n,e,r,i){var o,s,a,f=null,g=n[0]-1;for(this.zoomFactor_===2?(s=n[1],a=n[2]):f=this.getTileCoordExtent(n,i);g>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),a=Math.floor(a/2),o=X1(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(f,g,r),e(g,o))return!0;--g}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(n){return this.origin_?this.origin_:this.origins_[n]},t.prototype.getResolution=function(n){return this.resolutions_[n]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(n,e,r){if(n[0]<this.maxZoom){if(this.zoomFactor_===2){var i=n[1]*2,o=n[2]*2;return X1(i,i+1,o,o+1,e)}var s=this.getTileCoordExtent(n,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,n[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(n,e,r){if(e>this.maxZoom||e<this.minZoom)return null;var i=n[0],o=n[1],s=n[2];if(e===i)return X1(o,s,o,s,r);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-i),f=Math.floor(o*a),g=Math.floor(s*a);if(e<i)return X1(f,f,g,g,r);var x=Math.floor(a*(o+1))-1,I=Math.floor(a*(s+1))-1;return X1(f,x,g,I,r)}var B=this.getTileCoordExtent(n,this.tmpExtent_);return this.getTileRangeForExtentAndZ(B,e,r)},t.prototype.getTileRangeExtent=function(n,e,r){var i=this.getOrigin(n),o=this.getResolution(n),s=CA(this.getTileSize(n),this.tmpSize_),a=i[0]+e.minX*s[0]*o,f=i[0]+(e.maxX+1)*s[0]*o,g=i[1]+e.minY*s[1]*o,x=i[1]+(e.maxY+1)*s[1]*o;return Xh(a,g,f,x,r)},t.prototype.getTileRangeForExtentAndZ=function(n,e,r){var i=$le;this.getTileCoordForXYAndZ_(n[0],n[3],e,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(n[2],n[1],e,!0,i),X1(o,i[1],s,i[2],r)},t.prototype.getTileCoordCenter=function(n){var e=this.getOrigin(n[0]),r=this.getResolution(n[0]),i=CA(this.getTileSize(n[0]),this.tmpSize_);return[e[0]+(n[1]+.5)*i[0]*r,e[1]-(n[2]+.5)*i[1]*r]},t.prototype.getTileCoordExtent=function(n,e){var r=this.getOrigin(n[0]),i=this.getResolution(n[0]),o=CA(this.getTileSize(n[0]),this.tmpSize_),s=r[0]+n[1]*o[0]*i,a=r[1]-(n[2]+1)*o[1]*i,f=s+o[0]*i,g=a+o[1]*i;return Xh(s,a,f,g,e)},t.prototype.getTileCoordForCoordAndResolution=function(n,e,r){return this.getTileCoordForXYAndResolution_(n[0],n[1],e,!1,r)},t.prototype.getTileCoordForXYAndResolution_=function(n,e,r,i,o){var s=this.getZForResolution(r),a=r/this.getResolution(s),f=this.getOrigin(s),g=CA(this.getTileSize(s),this.tmpSize_),x=a*(n-f[0])/r/g[0],I=a*(f[1]-e)/r/g[1];return i?(x=Hb(x,Yp)-1,I=Hb(I,Yp)-1):(x=Vb(x,Yp),I=Vb(I,Yp)),Wk(s,x,I,o)},t.prototype.getTileCoordForXYAndZ_=function(n,e,r,i,o){var s=this.getOrigin(r),a=this.getResolution(r),f=CA(this.getTileSize(r),this.tmpSize_),g=(n-s[0])/a/f[0],x=(s[1]-e)/a/f[1];return i?(g=Hb(g,Yp)-1,x=Hb(x,Yp)-1):(g=Vb(g,Yp),x=Vb(x,Yp)),Wk(r,g,x,o)},t.prototype.getTileCoordForCoordAndZ=function(n,e,r){return this.getTileCoordForXYAndZ_(n[0],n[1],e,!1,r)},t.prototype.getTileCoordResolution=function(n){return this.resolutions_[n[0]]},t.prototype.getTileSize=function(n){return this.tileSize_?this.tileSize_:this.tileSizes_[n]},t.prototype.getFullTileRange=function(n){return this.fullTileRanges_?this.fullTileRanges_[n]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,n):null},t.prototype.getZForResolution=function(n,e){var r=hB(this.resolutions_,n,e||0);return _l(r,this.minZoom,this.maxZoom)},t.prototype.tileCoordIntersectsViewport=function(n,e){return xR(e,0,e.length,2,this.getTileCoordExtent(n))},t.prototype.calculateTileRanges_=function(n){for(var e=this.resolutions_.length,r=new Array(e),i=this.minZoom;i<e;++i)r[i]=this.getTileRangeForExtentAndZ(n,i);this.fullTileRanges_=r},t}();const k_=Yle;var qle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vle=function(t){qle(n,t);function n(e,r,i){var o=t.call(this)||this,s=i||{};return o.tileCoord=e,o.state=r,o.interimTile=null,o.key="",o.transition_=s.transition===void 0?250:s.transition,o.transitionStarts_={},o.interpolate=!!s.interpolate,o}return n.prototype.changed=function(){this.dispatchEvent(Ii.CHANGE)},n.prototype.release=function(){},n.prototype.getKey=function(){return this.key+"/"+this.tileCoord},n.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==fr.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},n.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,r=this;do{if(e.getState()==fr.LOADED){e.interimTile=null;break}else e.getState()==fr.LOADING?r=e:e.getState()==fr.IDLE?r.interimTile=e.interimTile:r=e;e=r.interimTile}while(e)}},n.prototype.getTileCoord=function(){return this.tileCoord},n.prototype.getState=function(){return this.state},n.prototype.setState=function(e){if(this.state!==fr.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},n.prototype.load=function(){ui()},n.prototype.getAlpha=function(e,r){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(!i)i=r,this.transitionStarts_[e]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:$R(o/this.transition_)},n.prototype.inTransition=function(e){return this.transition_?this.transitionStarts_[e]!==-1:!1},n.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},n}(Oy);const z4=Vle;var Hle=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zle=function(t){Hle(n,t);function n(e,r,i,o,s,a){var f=t.call(this,e,r,a)||this;return f.crossOrigin_=o,f.src_=i,f.key=i,f.image_=new Image,o!==null&&(f.image_.crossOrigin=o),f.unlisten_=null,f.tileLoadFunction_=s,f}return n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e,this.state=fr.LOADED,this.unlistenImage_(),this.changed()},n.prototype.handleImageError_=function(){this.state=fr.ERROR,this.unlistenImage_(),this.image_=Xle(),this.changed()},n.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=fr.LOADED:this.state=fr.EMPTY,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state==fr.ERROR&&(this.state=fr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==fr.IDLE&&(this.state=fr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=QB(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(z4);function Xle(){var t=XA(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const xz=Zle;var Jle=.5,eue=10,Nk=.25,tue=function(){function t(n,e,r,i,o,s){this.sourceProj_=n,this.targetProj_=e;var a={},f=J2(this.targetProj_,this.sourceProj_);this.transformInv_=function(ee){var re=ee[0]+"/"+ee[1];return a[re]||(a[re]=f(ee)),a[re]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&is(i)==is(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?is(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?is(this.targetProj_.getExtent()):null;var g=jm(r),x=K4(r),I=T4(r),B=k4(r),D=this.transformInv_(g),L=this.transformInv_(x),V=this.transformInv_(I),W=this.transformInv_(B),j=eue+(s?Math.max(0,Math.ceil(hre(y6(r)/(s*s*256*256)))):0);if(this.addQuad_(g,x,I,B,D,L,V,W,j),this.wrapsXInSource_){var G=1/0;this.triangles_.forEach(function(ee,re,se){G=Math.min(G,ee.source[0][0],ee.source[1][0],ee.source[2][0])}),this.triangles_.forEach((function(ee){if(Math.max(ee.source[0][0],ee.source[1][0],ee.source[2][0])-G>this.sourceWorldWidth_/2){var re=[[ee.source[0][0],ee.source[0][1]],[ee.source[1][0],ee.source[1][1]],[ee.source[2][0],ee.source[2][1]]];re[0][0]-G>this.sourceWorldWidth_/2&&(re[0][0]-=this.sourceWorldWidth_),re[1][0]-G>this.sourceWorldWidth_/2&&(re[1][0]-=this.sourceWorldWidth_),re[2][0]-G>this.sourceWorldWidth_/2&&(re[2][0]-=this.sourceWorldWidth_);var se=Math.min(re[0][0],re[1][0],re[2][0]),oe=Math.max(re[0][0],re[1][0],re[2][0]);oe-se<this.sourceWorldWidth_/2&&(ee.source=re)}}).bind(this))}a={}}return t.prototype.addTriangle_=function(n,e,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[n,e,r]})},t.prototype.addQuad_=function(n,e,r,i,o,s,a,f,g){var x=m6([o,s,a,f]),I=this.sourceWorldWidth_?is(x)/this.sourceWorldWidth_:null,B=this.sourceWorldWidth_,D=this.sourceProj_.canWrapX()&&I>.5&&I<1,L=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var V=m6([n,e,r,i]),W=is(V)/this.targetWorldWidth_;L=W>Nk||L}!D&&this.sourceProj_.isGlobal()&&I&&(L=I>Nk||L)}if(!(!L&&this.maxSourceExtent_&&isFinite(x[0])&&isFinite(x[1])&&isFinite(x[2])&&isFinite(x[3])&&!sl(x,this.maxSourceExtent_))){var j=0;if(!L&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(f[0])||!isFinite(f[1]))){if(g>0)L=!0;else if(j=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),j!=1&&j!=2&&j!=4&&j!=8)return}if(g>0){if(!L){var G=[(n[0]+r[0])/2,(n[1]+r[1])/2],ee=this.transformInv_(G),re=void 0;if(D){var se=($0(o[0],B)+$0(a[0],B))/2;re=se-$0(ee[0],B)}else re=(o[0]+a[0])/2-ee[0];var oe=(o[1]+a[1])/2-ee[1],ue=re*re+oe*oe;L=ue>this.errorThresholdSquared_}if(L){if(Math.abs(n[0]-r[0])<=Math.abs(n[1]-r[1])){var me=[(e[0]+r[0])/2,(e[1]+r[1])/2],De=this.transformInv_(me),Re=[(i[0]+n[0])/2,(i[1]+n[1])/2],et=this.transformInv_(Re);this.addQuad_(n,e,me,Re,o,s,De,et,g-1),this.addQuad_(Re,me,r,i,et,De,a,f,g-1)}else{var ht=[(n[0]+e[0])/2,(n[1]+e[1])/2],ke=this.transformInv_(ht),Je=[(r[0]+i[0])/2,(r[1]+i[1])/2],ve=this.transformInv_(Je);this.addQuad_(n,ht,Je,i,o,ke,ve,f,g-1),this.addQuad_(ht,e,r,Je,ke,s,a,ve,g-1)}return}}if(D){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}j&11||this.addTriangle_(n,r,i,o,a,f),j&14||this.addTriangle_(n,r,e,o,a,s),j&&(j&13||this.addTriangle_(e,i,n,s,f,o),j&7||this.addTriangle_(e,i,r,s,f,a))}},t.prototype.calculateSourceExtent=function(){var n=Ed();return this.triangles_.forEach(function(e,r,i){var o=e.source;dC(n,o[0]),dC(n,o[1]),dC(n,o[2])}),n},t.prototype.getTriangles=function(){return this.triangles_},t}(),L6={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},nue={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Zw,wz=[];function Gk(t,n,e,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(n,e),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(n,r)+1,Math.max(e,i)),t.restore()}function Xw(t,n){return Math.abs(t[n*4]-210)>2||Math.abs(t[n*4+3]-.75*255)>2}function rue(){if(Zw===void 0){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Gk(t,4,5,4,0),Gk(t,4,5,0,5);var n=t.getImageData(0,0,3,3).data;Zw=Xw(n,0)||Xw(n,4)||Xw(n,8)}return Zw}function Qk(t,n,e,r){var i=wB(e,n,t),o=ak(n,r,e),s=n.getMetersPerUnit();s!==void 0&&(o*=s);var a=t.getMetersPerUnit();a!==void 0&&(o/=a);var f=t.getExtent();if(!f||M_(f,i)){var g=ak(t,o,i)/o;isFinite(g)&&g>0&&(o/=g)}return o}function iue(t,n,e,r){var i=Fm(e),o=Qk(t,n,i,r);return(!isFinite(o)||o<=0)&&dR(e,function(s){return o=Qk(t,n,s,r),isFinite(o)&&o>0}),o}function oue(t,n,e,r,i,o,s,a,f,g,x,I){var B=XA(Math.round(e*t),Math.round(e*n),wz);if(I||ul(B,L6),f.length===0)return B.canvas;B.scale(e,e);function D(re){return Math.round(re*e)/e}B.globalCompositeOperation="lighter";var L=Ed();f.forEach(function(re,se,oe){AR(L,re.extent)});var V=is(L),W=ZA(L),j=XA(Math.round(e*V/r),Math.round(e*W/r));I||ul(j,L6);var G=e/r;f.forEach(function(re,se,oe){var ue=re.extent[0]-L[0],me=-(re.extent[3]-L[3]),De=is(re.extent),Re=ZA(re.extent);re.image.width>0&&re.image.height>0&&j.drawImage(re.image,g,g,re.image.width-2*g,re.image.height-2*g,ue*G,me*G,De*G,Re*G)});var ee=jm(s);return a.getTriangles().forEach(function(re,se,oe){var ue=re.source,me=re.target,De=ue[0][0],Re=ue[0][1],et=ue[1][0],ht=ue[1][1],ke=ue[2][0],Je=ue[2][1],ve=D((me[0][0]-ee[0])/o),ft=D(-(me[0][1]-ee[1])/o),Ft=D((me[1][0]-ee[0])/o),tn=D(-(me[1][1]-ee[1])/o),St=D((me[2][0]-ee[0])/o),Ne=D(-(me[2][1]-ee[1])/o),qe=De,tt=Re;De=0,Re=0,et-=qe,ht-=tt,ke-=qe,Je-=tt;var Jt=[[et,ht,0,0,Ft-ve],[ke,Je,0,0,St-ve],[0,0,et,ht,tn-ft],[0,0,ke,Je,Ne-ft]],dt=pre(Jt);if(dt){if(B.save(),B.beginPath(),rue()||!I){B.moveTo(Ft,tn);for(var ot=4,Et=ve-Ft,Kt=ft-tn,xe=0;xe<ot;xe++)B.lineTo(Ft+D((xe+1)*Et/ot),tn+D(xe*Kt/(ot-1))),xe!=ot-1&&B.lineTo(Ft+D((xe+1)*Et/ot),tn+D((xe+1)*Kt/(ot-1)));B.lineTo(St,Ne)}else B.moveTo(Ft,tn),B.lineTo(ve,ft),B.lineTo(St,Ne);B.clip(),B.transform(dt[0],dt[2],dt[1],dt[3],ve,ft),B.translate(L[0]-qe,L[3]-tt),B.scale(r/e,-r/e),B.drawImage(j.canvas,0,0),B.restore()}}),x&&(B.save(),B.globalCompositeOperation="source-over",B.strokeStyle="black",B.lineWidth=1,a.getTriangles().forEach(function(re,se,oe){var ue=re.target,me=(ue[0][0]-ee[0])/o,De=-(ue[0][1]-ee[1])/o,Re=(ue[1][0]-ee[0])/o,et=-(ue[1][1]-ee[1])/o,ht=(ue[2][0]-ee[0])/o,ke=-(ue[2][1]-ee[1])/o;B.beginPath(),B.moveTo(Re,et),B.lineTo(me,De),B.lineTo(ht,ke),B.closePath(),B.stroke()}),B.restore()),B.canvas}var aue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sue=function(t){aue(n,t);function n(e,r,i,o,s,a,f,g,x,I,B,D){var L=t.call(this,s,fr.IDLE,{interpolate:!!D})||this;L.renderEdges_=B!==void 0?B:!1,L.pixelRatio_=f,L.gutter_=g,L.canvas_=null,L.sourceTileGrid_=r,L.targetTileGrid_=o,L.wrappedTileCoord_=a||s,L.sourceTiles_=[],L.sourcesListenerKeys_=null,L.sourceZ_=0;var V=o.getTileCoordExtent(L.wrappedTileCoord_),W=L.targetTileGrid_.getExtent(),j=L.sourceTileGrid_.getExtent(),G=W?G0(V,W):V;if(y6(G)===0)return L.state=fr.EMPTY,L;var ee=e.getExtent();ee&&(j?j=G0(j,ee):j=ee);var re=o.getResolution(L.wrappedTileCoord_[0]),se=iue(e,i,G,re);if(!isFinite(se)||se<=0)return L.state=fr.EMPTY,L;var oe=I!==void 0?I:Jle;if(L.triangulation_=new tue(e,i,G,j,se*oe,re),L.triangulation_.getTriangles().length===0)return L.state=fr.EMPTY,L;L.sourceZ_=r.getZForResolution(se);var ue=L.triangulation_.calculateSourceExtent();if(j&&(e.canWrapX()?(ue[1]=_l(ue[1],j[1],j[3]),ue[3]=_l(ue[3],j[1],j[3])):ue=G0(ue,j)),!y6(ue))L.state=fr.EMPTY;else{for(var me=r.getTileRangeForExtentAndZ(ue,L.sourceZ_),De=me.minX;De<=me.maxX;De++)for(var Re=me.minY;Re<=me.maxY;Re++){var et=x(L.sourceZ_,De,Re,f);et&&L.sourceTiles_.push(et)}L.sourceTiles_.length===0&&(L.state=fr.EMPTY)}return L}return n.prototype.getImage=function(){return this.canvas_},n.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach((function(x,I,B){x&&x.getState()==fr.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(x.tileCoord),image:x.getImage()})}).bind(this)),this.sourceTiles_.length=0,e.length===0)this.state=fr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(r),f=this.sourceTileGrid_.getResolution(this.sourceZ_),g=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=oue(o,s,this.pixelRatio_,f,this.sourceTileGrid_.getExtent(),a,g,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=fr.LOADED}this.changed()},n.prototype.load=function(){if(this.state==fr.IDLE){this.state=fr.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var s=r.getState();if(s==fr.IDLE||s==fr.LOADING){e++;var a=bo(r,Ii.CHANGE,function(f){var g=r.getState();(g==fr.LOADED||g==fr.ERROR||g==fr.EMPTY)&&(Ya(a),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}).bind(this)),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var s=r.getState();s==fr.IDLE&&r.load()})}},n.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Ya),this.sourcesListenerKeys_=null},n.prototype.release=function(){this.canvas_&&(FB(this.canvas_.getContext("2d")),wz.push(this.canvas_),this.canvas_=null),t.prototype.release.call(this)},n}(z4);const Mz=sue;var lue=function(){function t(n){this.highWaterMark=n!==void 0?n:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.expireCache=function(n){for(;this.canExpireCache();)this.pop()},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(n){return this.entries_.hasOwnProperty(n)},t.prototype.forEach=function(n){for(var e=this.oldest_;e;)n(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(n,e){var r=this.entries_[n];return ao(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},t.prototype.remove=function(n){var e=this.entries_[n];return ao(e!==void 0,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[n],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var n=new Array(this.count_),e=0,r;for(r=this.newest_;r;r=r.older)n[e++]=r.key_;return n},t.prototype.getValues=function(){var n=new Array(this.count_),e=0,r;for(r=this.newest_;r;r=r.older)n[e++]=r.value_;return n},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.peek=function(n){if(this.containsKey(n))return this.entries_[n].value_},t.prototype.pop=function(){var n=this.oldest_;return delete this.entries_[n.key_],n.newer&&(n.newer.older=null),this.oldest_=n.newer,this.oldest_||(this.newest_=null),--this.count_,n.value_},t.prototype.replace=function(n,e){this.get(n),this.entries_[n].value_=e},t.prototype.set=function(n,e){ao(!(n in this.entries_),16);var r={key_:n,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[n]=r,++this.count_},t.prototype.setSize=function(n){this.highWaterMark=n},t}();const uue=lue;var Aue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cue=function(t){Aue(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.expireCache=function(e){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in e)break;this.pop().release()}},n.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var e=this.peekFirstKey(),r=bz(e),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove(_z(o.tileCoord)),o.release())}).bind(this))}},n}(uue);const YB=cue,Jw={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function Sz(t){var n=t.getDefaultTileGrid();return n||(n=fue(t),t.setDefaultTileGrid(n)),n}function due(t,n,e){var r=n[0],i=t.getTileCoordCenter(n),o=j4(e);if(M_(o,i))return n;var s=is(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}function hue(t,n,e,r){var i=r!==void 0?r:"top-left",o=Ez(t,n,e);return new k_({extent:t,origin:are(t,i),resolutions:o,tileSize:e})}function qB(t){var n=t||{},e=n.extent||Os("EPSG:3857").getExtent(),r={extent:e,minZoom:n.minZoom,tileSize:n.tileSize,resolutions:Ez(e,n.maxZoom,n.tileSize,n.maxResolution)};return new k_(r)}function Ez(t,n,e,r){for(var i=n!==void 0?n:QR,o=ZA(t),s=is(t),a=CA(e!==void 0?e:LB),f=r>0?r:Math.max(s/a[0],o/a[1]),g=i+1,x=new Array(g),I=0;I<g;++I)x[I]=f/Math.pow(2,I);return x}function fue(t,n,e,r){var i=j4(t);return hue(i,n,e,r)}function j4(t){t=Os(t);var n=t.getExtent();if(!n){var e=180*Hh[bA.DEGREES]/t.getMetersPerUnit();n=Xh(-e,-e,e,e)}return n}var Oz=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pue=function(t){Oz(n,t);function n(e){var r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;r.on,r.once,r.un,r.opaque_=e.opaque!==void 0?e.opaque:!1,r.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,r.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;var i=[256,256];return r.tileGrid&&CA(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new YB(e.cacheSize||0),r.tmpSize=[0,0],r.key_=e.key||"",r.tileOptions={transition:e.transition,interpolate:e.interpolate},r.zDirection=e.zDirection?e.zDirection:0,r}return n.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},n.prototype.expireCache=function(e,r){var i=this.getTileCacheForProjection(e);i&&i.expireCache(r)},n.prototype.forEachLoadedTile=function(e,r,i,o){var s=this.getTileCacheForProjection(e);if(!s)return!1;for(var a=!0,f,g,x,I=i.minX;I<=i.maxX;++I)for(var B=i.minY;B<=i.maxY;++B)g=Iy(r,I,B),x=!1,s.containsKey(g)&&(f=s.get(g),x=f.getState()===fr.LOADED,x&&(x=o(f)!==!1)),x||(a=!1);return a},n.prototype.getGutterForProjection=function(e){return 0},n.prototype.getKey=function(){return this.key_},n.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},n.prototype.getOpaque=function(e){return this.opaque_},n.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},n.prototype.getTile=function(e,r,i,o,s){return ui()},n.prototype.getTileGrid=function(){return this.tileGrid},n.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:Sz(e)},n.prototype.getTileCacheForProjection=function(e){var r=this.getProjection();return ao(r===null||x0(r,e),68),this.tileCache},n.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},n.prototype.getTilePixelSize=function(e,r,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),a=CA(o.getTileSize(e),this.tmpSize);return s==1?a:dae(a,s,this.tmpSize)},n.prototype.getTileCoordForTileUrlFunction=function(e,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=due(o,e,i)),Qle(e,o)?e:null},n.prototype.clear=function(){this.tileCache.clear()},n.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},n.prototype.updateCacheSize=function(e,r){var i=this.getTileCacheForProjection(r);e>i.highWaterMark&&(i.highWaterMark=e)},n.prototype.useTile=function(e,r,i,o){},n}(pz),mue=function(t){Oz(n,t);function n(e,r){var i=t.call(this,e)||this;return i.tile=r,i}return n}(mp);const gue=pue;function yue(t,n){var e=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,f){if(s)return t.replace(e,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var g=s[0],x=n.getFullTileRange(g);ao(x,55);var I=x.getHeight()-s[2]-1;return I.toString()})}}function Bz(t,n){for(var e=t.length,r=new Array(e),i=0;i<e;++i)r[i]=yue(t[i],n);return vue(r)}function vue(t){return t.length===1?t[0]:function(n,e,r){if(n){var i=Gle(n),o=$0(i,t.length);return t[o](n,e,r)}else return}}function Cue(t){var n=[],e=/\{([a-z])-([a-z])\}/.exec(t);if(e){var r=e[1].charCodeAt(0),i=e[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)n.push(t.replace(e[0],String.fromCharCode(o)));return n}if(e=/\{(\d+)-(\d+)\}/.exec(t),e){for(var s=parseInt(e[2],10),a=parseInt(e[1],10);a<=s;a++)n.push(t.replace(e[0],a.toString()));return n}return n.push(t),n}var _ue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bue=function(t){_ue(n,t);function n(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===n.prototype.tileUrlFunction,r.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(r.tileUrlFunction=e.tileUrlFunction),r.urls=null,e.urls?r.setUrls(e.urls):e.url&&r.setUrl(e.url),r.tileLoadingKeys_={},r}return n.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},n.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},n.prototype.getUrls=function(){return this.urls},n.prototype.handleTileChange=function(e){var r=e.target,i=Qi(r),o=r.getState(),s;o==fr.LOADING?(this.tileLoadingKeys_[i]=!0,s=Jw.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=o==fr.ERROR?Jw.TILELOADERROR:o==fr.LOADED?Jw.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new mue(s,r))},n.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},n.prototype.setTileUrlFunction=function(e,r){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},n.prototype.setUrl=function(e){var r=Cue(e);this.urls=r,this.setUrls(r)},n.prototype.setUrls=function(e){this.urls=e;var r=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Bz(e,this.tileGrid),r):this.setKey(r)},n.prototype.tileUrlFunction=function(e,r,i){},n.prototype.useTile=function(e,r,i){var o=Iy(e,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},n}(gue);const Iz=bue;var xue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wue=function(t){xue(n,t);function n(e){var r=this,i=e.imageSmoothing!==void 0?e.imageSmoothing:!0;return e.interpolate!==void 0&&(i=e.interpolate),r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Mue,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:i,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this,r.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,r.tileClass=e.tileClass!==void 0?e.tileClass:xz,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return n.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},n.prototype.expireCache=function(e,r){var i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?r:{})}},n.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!x0(this.getProjection(),e)?0:this.getGutter()},n.prototype.getGutter=function(){return 0},n.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},n.prototype.getOpaque=function(e){return this.getProjection()&&e&&!x0(this.getProjection(),e)?!1:t.prototype.getOpaque.call(this,e)},n.prototype.getTileGridForProjection=function(e){var r=this.getProjection();if(this.tileGrid&&(!r||x0(r,e)))return this.tileGrid;var i=Qi(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Sz(e)),this.tileGridForProjection[i]},n.prototype.getTileCacheForProjection=function(e){var r=this.getProjection();if(!r||x0(r,e))return this.tileCache;var i=Qi(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new YB(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},n.prototype.createTile_=function(e,r,i,o,s,a){var f=[e,r,i],g=this.getTileCoordForTileUrlFunction(f,s),x=g?this.tileUrlFunction(g,o,s):void 0,I=new this.tileClass(f,x!==void 0?fr.IDLE:fr.EMPTY,x!==void 0?x:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return I.key=a,I.addEventListener(Ii.CHANGE,this.handleTileChange.bind(this)),I},n.prototype.getTile=function(e,r,i,o,s){var a=this.getProjection();if(!a||!s||x0(a,s))return this.getTileInternal(e,r,i,o,a||s);var f=this.getTileCacheForProjection(s),g=[e,r,i],x=void 0,I=_z(g);f.containsKey(I)&&(x=f.get(I));var B=this.getKey();if(x&&x.key==B)return x;var D=this.getTileGridForProjection(a),L=this.getTileGridForProjection(s),V=this.getTileCoordForTileUrlFunction(g,s),W=new Mz(a,D,s,L,g,V,this.getTilePixelRatio(o),this.getGutter(),(function(j,G,ee,re){return this.getTileInternal(j,G,ee,re,a)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return W.key=B,x?(W.interimTile=x,W.refreshInterimChain(),f.replace(I,W)):f.set(I,W),W},n.prototype.getTileInternal=function(e,r,i,o,s){var a=null,f=Iy(e,r,i),g=this.getKey();if(!this.tileCache.containsKey(f))a=this.createTile_(e,r,i,o,s,g),this.tileCache.set(f,a);else if(a=this.tileCache.get(f),a.key!=g){var x=a;a=this.createTile_(e,r,i,o,s,g),x.getState()==fr.IDLE?a.interimTile=x.interimTile:a.interimTile=x,a.refreshInterimChain(),this.tileCache.replace(f,a)}return a},n.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},n.prototype.setTileGridForProjection=function(e,r){{var i=Os(e);if(i){var o=Qi(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},n}(Iz);function Mue(t,n){t.getImage().src=n}const Sue=wue;var kz=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function Eue(t,n,e,r){var i=document.createElement("script"),o="olc_"+Qi(n);function s(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=t+(t.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+o;var a=setTimeout(function(){s(),e&&e()},1e4);window[o]=function(f){clearTimeout(a),s(),n(f)},document.head.appendChild(i)}(function(t){kz(n,t);function n(e){var r=this,i="Unexpected response status: "+e.status;return r=t.call(this,i)||this,r.name="ResponseError",r.response=e,r}return n})(Error);(function(t){kz(n,t);function n(e){var r=t.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=e,r}return n})(Error);var Oue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bue=function(t){Oue(n,t);function n(e){var r=this,i=e.imageSmoothing!==void 0?e.imageSmoothing:!0;if(e.interpolate!==void 0&&(i=e.interpolate),r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:i,projection:Os("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection})||this,r.tileJSON_=null,r.tileSize_=e.tileSize,e.url)if(e.jsonp)Eue(e.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",e.url),o.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):ao(!1,51);return r}return n.prototype.onXHRLoad_=function(e){var r=e.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},n.prototype.onXHRError_=function(e){this.handleTileJSONError()},n.prototype.getTileJSON=function(){return this.tileJSON_},n.prototype.handleTileJSONResponse=function(e){var r=Os("EPSG:4326"),i=this.getProjection(),o;if(e.bounds!==void 0){var s=P4(r,i);o=ure(e.bounds,s)}var a=j4(i),f=e.minzoom||0,g=e.maxzoom||22,x=qB({extent:a,maxZoom:g,minZoom:f,tileSize:this.tileSize_});if(this.tileGrid=x,this.tileUrlFunction=Bz(e.tiles,x),e.attribution!==void 0&&!this.getAttributions()){var I=o!==void 0?o:a;this.setAttributions(function(B){return sl(I,B.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")},n.prototype.handleTileJSONError=function(){this.setState("error")},n}(Sue);const Tz=Bue,pm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var Iue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kue=function(t){Iue(n,t);function n(e){var r=this,i=e||{},o=ul({},i);return delete o.preload,delete o.useInterimTilesOnError,r=t.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return n.prototype.getPreload=function(){return this.get(pm.PRELOAD)},n.prototype.setPreload=function(e){this.set(pm.PRELOAD,e)},n.prototype.getUseInterimTilesOnError=function(){return this.get(pm.USE_INTERIM_TILES_ON_ERROR)},n.prototype.setUseInterimTilesOnError=function(e){this.set(pm.USE_INTERIM_TILES_ON_ERROR,e)},n.prototype.getData=function(e){return t.prototype.getData.call(this,e)},n}(F4);const Tue=kue;var Kue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pue=function(t){Kue(n,t);function n(e){var r=t.call(this,e)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Ed(),r.tmpTileRange_=new Cz(0,0,0,0),r}return n.prototype.isDrawableTile=function(e){var r=this.getLayer(),i=e.getState(),o=r.getUseInterimTilesOnError();return i==fr.LOADED||i==fr.EMPTY||i==fr.ERROR&&!o},n.prototype.getTile=function(e,r,i,o){var s=o.pixelRatio,a=o.viewState.projection,f=this.getLayer(),g=f.getSource(),x=g.getTile(e,r,i,s,a);return x.getState()==fr.ERROR&&(f.getUseInterimTilesOnError()?f.getPreload()>0&&(this.newTiles_=!0):x.setState(fr.LOADED)),this.isDrawableTile(x)||(x=x.getInterimTile()),x},n.prototype.getData=function(e){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=ol(r.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!M_(s,o))return null;for(var a=r.pixelRatio,f=r.viewState.projection,g=r.viewState,x=i.getRenderSource(),I=x.getTileGridForProjection(g.projection),B=x.getTilePixelRatio(r.pixelRatio),D=I.getZForResolution(g.resolution);D>=I.getMinZoom();--D){var L=I.getTileCoordForCoordAndZ(o,D),V=x.getTile(D,L[1],L[2],a,f);if(!(V instanceof xz||V instanceof Mz))return null;if(V.getState()===fr.LOADED){var W=I.getOrigin(D),j=CA(I.getTileSize(D)),G=I.getResolution(D),ee=Math.floor(B*((o[0]-W[0])/G-L[1]*j[0])),re=Math.floor(B*((W[1]-o[1])/G-L[2]*j[1])),se=Math.round(B*x.getGutterForProjection(g.projection));return this.getImageData(V.getImage(),ee+se,re+se)}}return null},n.prototype.loadedTileCallback=function(e,r,i){return this.isDrawableTile(i)?t.prototype.loadedTileCallback.call(this,e,r,i):!1},n.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},n.prototype.renderFrame=function(e,r){var i=e.layerStatesArray[e.layerIndex],o=e.viewState,s=o.projection,a=o.resolution,f=o.center,g=o.rotation,x=e.pixelRatio,I=this.getLayer(),B=I.getSource(),D=B.getRevision(),L=B.getTileGridForProjection(s),V=L.getZForResolution(a,B.zDirection),W=L.getResolution(V),j=e.extent,G=e.viewState.resolution,ee=B.getTilePixelRatio(x),re=Math.round(is(j)/G*x),se=Math.round(ZA(j)/G*x),oe=i.extent&&T0(i.extent);oe&&(j=G0(j,T0(i.extent)));var ue=W*re/2/ee,me=W*se/2/ee,De=[f[0]-ue,f[1]-me,f[0]+ue,f[1]+me],Re=L.getTileRangeForExtentAndZ(j,V),et={};et[V]={};var ht=this.createLoadedTileFinder(B,s,et),ke=this.tmpExtent,Je=this.tmpTileRange_;this.newTiles_=!1;for(var ve=g?C6(o.center,G,g,e.size):void 0,ft=Re.minX;ft<=Re.maxX;++ft)for(var Ft=Re.minY;Ft<=Re.maxY;++Ft)if(!(g&&!L.tileCoordIntersectsViewport([V,ft,Ft],ve))){var tn=this.getTile(V,ft,Ft,e);if(this.isDrawableTile(tn)){var St=Qi(this);if(tn.getState()==fr.LOADED){et[V][tn.tileCoord.toString()]=tn;var Ne=tn.inTransition(St);Ne&&i.opacity!==1&&(tn.endTransition(St),Ne=!1),!this.newTiles_&&(Ne||this.renderedTiles.indexOf(tn)===-1)&&(this.newTiles_=!0)}if(tn.getAlpha(St,e.time)===1)continue}var qe=L.getTileCoordChildTileRange(tn.tileCoord,Je,ke),tt=!1;qe&&(tt=ht(V+1,qe)),tt||L.forEachTileCoordParentTileRange(tn.tileCoord,ht,Je,ke)}var Jt=W/a*x/ee;Zh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/x,1/x,g,-re/2,-se/2);var dt=sR(this.pixelTransform);this.useContainer(r,dt,this.getBackground(e));var ot=this.context,Et=ot.canvas;pB(this.inversePixelTransform,this.pixelTransform),Zh(this.tempTransform,re/2,se/2,Jt,Jt,0,-re/2,-se/2),Et.width!=re||Et.height!=se?(Et.width=re,Et.height=se):this.containerReused||ot.clearRect(0,0,re,se),oe&&this.clipUnrotated(ot,e,oe),B.getInterpolate()||ul(ot,L6),this.preRender(ot,e),this.renderedTiles.length=0;var Kt=Object.keys(et).map(Number);Kt.sort(t1);var xe,ce,_e;i.opacity===1&&(!this.containerReused||B.getOpaque(e.viewState.projection))?Kt=Kt.reverse():(xe=[],ce=[]);for(var Ke=Kt.length-1;Ke>=0;--Ke){var Ve=Kt[Ke],Ze=B.getTilePixelSize(Ve,x,s),bt=L.getResolution(Ve),Gt=bt/W,Lt=Ze[0]*Gt*Jt,Un=Ze[1]*Gt*Jt,rr=L.getTileCoordForCoordAndZ(jm(De),Ve),qt=L.getTileCoordExtent(rr),$n=ol(this.tempTransform,[ee*(qt[0]-De[0])/W,ee*(De[3]-qt[3])/W]),lr=ee*B.getGutterForProjection(s),gr=et[Ve];for(var Mr in gr){var tn=gr[Mr],Dr=tn.tileCoord,ur=rr[1]-Dr[1],yi=Math.round($n[0]-(ur-1)*Lt),be=rr[2]-Dr[2],z=Math.round($n[1]-(be-1)*Un),ft=Math.round($n[0]-ur*Lt),Ft=Math.round($n[1]-be*Un),q=yi-ft,Oe=z-Ft,st=V===Ve,Ne=st&&tn.getAlpha(Qi(this),e.time)!==1,ct=!1;if(!Ne)if(xe){_e=[ft,Ft,ft+q,Ft,ft+q,Ft+Oe,ft,Ft+Oe];for(var wt=0,Vn=xe.length;wt<Vn;++wt)if(V!==Ve&&Ve<ce[wt]){var qn=xe[wt];sl([ft,Ft,ft+q,Ft+Oe],[qn[0],qn[3],qn[4],qn[7]])&&(ct||(ot.save(),ct=!0),ot.beginPath(),ot.moveTo(_e[0],_e[1]),ot.lineTo(_e[2],_e[3]),ot.lineTo(_e[4],_e[5]),ot.lineTo(_e[6],_e[7]),ot.moveTo(qn[6],qn[7]),ot.lineTo(qn[4],qn[5]),ot.lineTo(qn[2],qn[3]),ot.lineTo(qn[0],qn[1]),ot.clip())}xe.push(_e),ce.push(Ve)}else ot.clearRect(ft,Ft,q,Oe);this.drawTileImage(tn,e,ft,Ft,q,Oe,lr,st),xe&&!Ne?(ct&&ot.restore(),this.renderedTiles.unshift(tn)):this.renderedTiles.push(tn),this.updateUsedTiles(e.usedTiles,B,tn)}}return this.renderedRevision=D,this.renderedResolution=W,this.extentChanged=!this.renderedExtent_||!hy(this.renderedExtent_,De),this.renderedExtent_=De,this.renderedPixelRatio=x,this.renderedProjection=s,this.manageTilePyramid(e,B,L,x,s,j,V,I.getPreload()),this.scheduleExpireCache(e,B),this.postRender(ot,e),i.extent&&ot.restore(),ul(ot,nue),dt!==Et.style.transform&&(Et.style.transform=dt),this.container},n.prototype.drawTileImage=function(e,r,i,o,s,a,f,g){var x=this.getTileImage(e);if(x){var I=Qi(this),B=r.layerStatesArray[r.layerIndex],D=B.opacity*(g?e.getAlpha(I,r.time):1),L=D!==this.context.globalAlpha;L&&(this.context.save(),this.context.globalAlpha=D),this.context.drawImage(x,f,f,x.width-2*f,x.height-2*f,i,o,s,a),L&&this.context.restore(),D!==B.opacity?r.animate=!0:g&&e.endTransition(I)}},n.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},n.prototype.getTileImage=function(e){return e.getImage()},n.prototype.scheduleExpireCache=function(e,r){if(r.canExpireCache()){var i=(function(o,s,a){var f=Qi(o);f in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[f])}).bind(null,r);e.postRenderFunctions.push(i)}},n.prototype.updateUsedTiles=function(e,r,i){var o=Qi(r);o in e||(e[o]={}),e[o][i.getKey()]=!0},n.prototype.manageTilePyramid=function(e,r,i,o,s,a,f,g,x){var I=Qi(r);I in e.wantedTiles||(e.wantedTiles[I]={});var B=e.wantedTiles[I],D=e.tileQueue,L=i.getMinZoom(),V=e.viewState.rotation,W=V?C6(e.viewState.center,e.viewState.resolution,V,e.size):void 0,j=0,G,ee,re,se,oe,ue;for(ue=L;ue<=f;++ue)for(ee=i.getTileRangeForExtentAndZ(a,ue,ee),re=i.getResolution(ue),se=ee.minX;se<=ee.maxX;++se)for(oe=ee.minY;oe<=ee.maxY;++oe)V&&!i.tileCoordIntersectsViewport([ue,se,oe],W)||(f-ue<=g?(++j,G=r.getTile(ue,se,oe,o,s),G.getState()==fr.IDLE&&(B[G.getKey()]=!0,D.isKeyQueued(G.getKey())||D.enqueue([G,I,i.getTileCoordCenter(G.tileCoord),re])),x!==void 0&&x(G)):r.useTile(ue,se,oe,s));r.updateCacheSize(j,s)},n}(sz);const Kz=Pue;var Uue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Due=function(t){Uue(n,t);function n(e){return t.call(this,e)||this}return n.prototype.createRenderer=function(){return new Kz(this)},n}(Tue);const mm={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var Fue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lue={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Rue={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},zue=function(t){Fue(n,t);function n(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=wd(),r}return n.prototype.prepareTile=function(e,r,i){var o,s=e.getState();return(s===fr.LOADED||s===fr.ERROR)&&(this.updateExecutorGroup_(e,r,i),this.tileImageNeedsRender_(e)&&(o=!0)),o},n.prototype.getTile=function(e,r,i,o){var s=o.pixelRatio,a=o.viewState,f=a.resolution,g=a.projection,x=this.getLayer(),I=x.getSource().getTile(e,r,i,s,g),B=o.viewHints,D=!(B[zs.ANIMATING]||B[zs.INTERACTING]);(D||!I.wantedResolution)&&(I.wantedResolution=f);var L=this.prepareTile(I,s,g);return L&&(D||Date.now()-o.time<8)&&x.getRenderMode()!==mm.VECTOR&&this.renderTileImage_(I,o),t.prototype.getTile.call(this,e,r,i,o)},n.prototype.isDrawableTile=function(e){var r=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&(r.getRenderMode()===mm.VECTOR?Qi(r)in e.executorGroups:e.hasContext(r))},n.prototype.getTileImage=function(e){return e.getImage(this.getLayer())},n.prototype.prepareFrame=function(e){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),t.prototype.prepareFrame.call(this,e)},n.prototype.updateExecutorGroup_=function(e,r,i){var o=this.getLayer(),s=o.getRevision(),a=o.getRenderOrder()||null,f=e.wantedResolution,g=e.getReplayState(o);if(!(!g.dirty&&g.renderedResolution===f&&g.renderedRevision==s&&g.renderedRenderOrder==a)){var x=o.getSource(),I=o.getDeclutter(),B=x.getTileGrid(),D=x.getTileGridForProjection(i),L=D.getTileCoordExtent(e.wrappedTileCoord),V=x.getSourceTiles(r,i,e),W=Qi(o);delete e.hitDetectionImageData[W],e.executorGroups[W]=[],I&&(e.declutterExecutorGroups[W]=[]),g.dirty=!1;for(var j=function(se,oe){var ue=V[se];if(ue.getState()!=fr.LOADED)return"continue";var me=ue.tileCoord,De=B.getTileCoordExtent(me),Re=G0(L,De),et=Em(Re,o.getRenderBuffer()*f,G.tmpExtent),ht=hy(De,Re)?null:et,ke=new A3(0,et,f,r),Je=I?new A3(0,Re,f,r):void 0,ve=dz(f,r),ft=function(ot){var Et,Kt=ot.getStyleFunction()||o.getStyleFunction();if(Kt&&(Et=Kt(ot,f)),Et){var xe=this.renderFeature(ot,ve,Et,ke,Je);g.dirty=g.dirty||xe}},Ft=ue.getFeatures();a&&a!==g.renderedRenderOrder&&Ft.sort(a);for(var tn=0,St=Ft.length;tn<St;++tn){var Ne=Ft[tn];(!ht||sl(ht,Ne.getGeometry().getExtent()))&&ft.call(G,Ne)}var qe=ke.finish(),tt=o.getRenderMode()!==mm.VECTOR&&I&&V.length===1?null:Re,Jt=new c3(tt,f,r,x.getOverlaps(),qe,o.getRenderBuffer());if(e.executorGroups[W].push(Jt),Je){var dt=new c3(null,f,r,x.getOverlaps(),Je.finish(),o.getRenderBuffer());e.declutterExecutorGroups[W].push(dt)}},G=this,ee=0,re=V.length;ee<re;++ee)j(ee);g.renderedRevision=s,g.renderedRenderOrder=a,g.renderedResolution=f}},n.prototype.forEachFeatureAtCoordinate=function(e,r,i,o,s){var a=r.viewState.resolution,f=r.viewState.rotation;i=i??0;var g=this.getLayer(),x=g.getSource(),I=x.getTileGridForProjection(r.viewState.projection),B=m6([e]);Em(B,a*i,B);for(var D={},L=function(re,se,oe){var ue=re.getId();ue===void 0&&(ue=Qi(re));var me=D[ue];if(me){if(me!==!0&&oe<me.distanceSq){if(oe===0)return D[ue]=!0,s.splice(s.lastIndexOf(me),1),o(re,g,se);me.geometry=se,me.distanceSq=oe}}else{if(oe===0)return D[ue]=!0,o(re,g,se);s.push(D[ue]={feature:re,layer:g,geometry:se,distanceSq:oe,callback:o})}},V=this.renderedTiles,W,j=function(re,se){var oe=V[re],ue=I.getTileCoordExtent(oe.wrappedTileCoord);if(!sl(ue,B))return"continue";var me=Qi(g),De=[oe.executorGroups[me]],Re=oe.declutterExecutorGroups[me];Re&&De.push(Re),De.some(function(et){for(var ht=et===Re?r.declutterTree.all().map(function(ft){return ft.value}):null,ke=0,Je=et.length;ke<Je;++ke){var ve=et[ke];if(W=ve.forEachFeatureAtCoordinate(e,a,f,i,L,ht),W)return!0}})},G=0,ee=V.length;!W&&G<ee;++G)j(G);return W},n.prototype.getFeatures=function(e){return new Promise((function(r,i){for(var o=this.getLayer(),s=Qi(o),a=o.getSource(),f=this.renderedProjection,g=f.getExtent(),x=this.renderedResolution,I=a.getTileGridForProjection(f),B=ol(this.renderedPixelToCoordinateTransform_,e.slice()),D=I.getTileCoordForCoordAndResolution(B,x),L,V=0,W=this.renderedTiles.length;V<W;++V)if(D.toString()===this.renderedTiles[V].tileCoord.toString()){if(L=this.renderedTiles[V],L.getState()===fr.LOADED){var j=I.getTileCoordExtent(L.tileCoord);a.getWrapX()&&f.canWrapX()&&!dm(g,j)&&_B(B,f);break}L=void 0}if(!L||L.loadingSourceTiles>0){r([]);return}var G=I.getTileCoordExtent(L.wrappedTileCoord),ee=jm(G),re=[(B[0]-ee[0])/x,(ee[1]-B[1])/x],se=L.getSourceTiles().reduce(function(Re,et){return Re.concat(et.getFeatures())},[]),oe=L.hitDetectionImageData[s];if(!oe&&!this.animatingOrInteracting_){var ue=CA(I.getTileSize(I.getZForResolution(x,a.zDirection))),me=this.renderedRotation_,De=[this.getRenderTransform(I.getTileCoordCenter(L.wrappedTileCoord),x,0,Tc,ue[0]*Tc,ue[1]*Tc,0)];oe=uz(ue,De,se,o.getStyleFunction(),I.getTileCoordExtent(L.wrappedTileCoord),L.getReplayState(o).renderedResolution,me),L.hitDetectionImageData[s]=oe}r(Az(re,se,oe))}).bind(this))},n.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()},n.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},n.prototype.renderDeclutter=function(e){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=e.viewHints,s=!(o[zs.ANIMATING]||o[zs.INTERACTING]),a=this.renderedTiles,f=0,g=a.length;f<g;++f){var x=a[f],I=x.declutterExecutorGroups[Qi(this.getLayer())];if(I)for(var B=I.length-1;B>=0;--B)I[B].execute(this.context,1,this.getTileRenderTransform(x,e),e.viewState.rotation,s,void 0,e.declutterTree)}r.globalAlpha=i},n.prototype.getTileRenderTransform=function(e,r){var i=r.pixelRatio,o=r.viewState,s=o.center,a=o.resolution,f=o.rotation,g=r.size,x=Math.round(g[0]*i),I=Math.round(g[1]*i),B=this.getLayer().getSource(),D=B.getTileGridForProjection(r.viewState.projection),L=e.tileCoord,V=D.getTileCoordExtent(e.wrappedTileCoord),W=D.getTileCoordExtent(L,this.tmpExtent)[0]-V[0],j=fB(Lw(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,a,f,i,x,I,W));return j},n.prototype.renderFrame=function(e,r){var i=e.viewHints,o=!(i[zs.ANIMATING]||i[zs.INTERACTING]);t.prototype.renderFrame.call(this,e,r),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var s=this.getLayer(),a=s.getRenderMode(),f=this.context,g=f.globalAlpha;f.globalAlpha=s.getOpacity();for(var x=Rue[a],I=e.viewState,B=I.rotation,D=s.getSource(),L=D.getTileGridForProjection(I.projection),V=L.getZForResolution(I.resolution,D.zDirection),W=this.renderedTiles,j=[],G=[],ee=!0,re=W.length-1;re>=0;--re){var se=W[re];ee=ee&&!se.getReplayState(s).dirty;var oe=se.executorGroups[Qi(s)].filter(function(Ft){return Ft.hasExecutors(x)});if(oe.length!==0){var ue=this.getTileRenderTransform(se,e),me=se.tileCoord[0],De=!1,Re=oe[0].getClipCoords(ue);if(Re){for(var et=0,ht=j.length;et<ht;++et)if(V!==me&&me<G[et]){var ke=j[et];sl([Re[0],Re[3],Re[4],Re[7]],[ke[0],ke[3],ke[4],ke[7]])&&(De||(f.save(),De=!0),f.beginPath(),f.moveTo(Re[0],Re[1]),f.lineTo(Re[2],Re[3]),f.lineTo(Re[4],Re[5]),f.lineTo(Re[6],Re[7]),f.moveTo(ke[6],ke[7]),f.lineTo(ke[4],ke[5]),f.lineTo(ke[2],ke[3]),f.lineTo(ke[0],ke[1]),f.clip())}j.push(Re),G.push(me)}for(var Je=0,ve=oe.length;Je<ve;++Je){var ft=oe[Je];ft.execute(f,1,ue,B,o,x)}De&&f.restore()}}return f.globalAlpha=g,this.ready=ee,this.container},n.prototype.renderFeature=function(e,r,i,o,s){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var f=0,g=i.length;f<g;++f)a=d3(o,e,i[f],r,this.boundHandleStyleImageChange_,void 0,s)||a;else a=d3(o,e,i,r,this.boundHandleStyleImageChange_,void 0,s);return a},n.prototype.tileImageNeedsRender_=function(e){var r=this.getLayer();if(r.getRenderMode()===mm.VECTOR)return!1;var i=e.getReplayState(r),o=r.getRevision(),s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o},n.prototype.renderTileImage_=function(e,r){var i=this.getLayer(),o=e.getReplayState(i),s=i.getRevision(),a=e.executorGroups[Qi(i)];o.renderedTileRevision=s;var f=e.wrappedTileCoord,g=f[0],x=i.getSource(),I=r.pixelRatio,B=r.viewState,D=B.projection,L=x.getTileGridForProjection(D),V=L.getResolution(e.tileCoord[0]),W=r.pixelRatio/e.wantedResolution*V,j=L.getResolution(g),G=e.getContext(i);I=Math.round(Math.max(I,W/I));var ee=x.getTilePixelSize(g,I,D);G.canvas.width=ee[0],G.canvas.height=ee[1];var re=I/W;if(re!==1){var se=ek(this.tmpTransform_);Lw(se,re,re),G.setTransform.apply(G,se)}var oe=L.getTileCoordExtent(f,this.tmpExtent),ue=W/j,me=ek(this.tmpTransform_);Lw(me,ue,-ue),nre(me,-oe[0],-oe[3]);for(var De=0,Re=a.length;De<Re;++De){var et=a[De];et.execute(G,re,me,0,!0,Lue[i.getRenderMode()])}o.renderedTileResolution=e.wantedResolution},n}(Kz);const jue=zue;var Wue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pz=function(t){Wue(n,t);function n(e){var r=this,i=e||{},o=ul({},i);delete o.preload,delete o.useInterimTilesOnError,r=t.call(this,o)||this,r.on,r.once,r.un,i.renderMode===mm.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var s=i.renderMode||mm.HYBRID;return ao(s==mm.HYBRID||s==mm.VECTOR,28),r.renderMode_=s,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return n.prototype.createRenderer=function(){return new jue(this)},n.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},n.prototype.getRenderMode=function(){return this.renderMode_},n.prototype.getPreload=function(){return this.get(pm.PRELOAD)},n.prototype.getUseInterimTilesOnError=function(){return this.get(pm.USE_INTERIM_TILES_ON_ERROR)},n.prototype.setPreload=function(e){this.set(pm.PRELOAD,e)},n.prototype.setUseInterimTilesOnError=function(e){this.set(pm.USE_INTERIM_TILES_ON_ERROR,e)},n}(iz),Nue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gue=function(t){Nue(n,t);function n(e,r,i,o,s,a){var f=t.call(this,e,r,a)||this;return f.extent=null,f.format_=o,f.features_=null,f.loader_,f.projection=null,f.resolution,f.tileLoadFunction_=s,f.url_=i,f.key=i,f}return n.prototype.getFormat=function(){return this.format_},n.prototype.getFeatures=function(){return this.features_},n.prototype.load=function(){this.state==fr.IDLE&&(this.setState(fr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},n.prototype.onLoad=function(e,r){this.setFeatures(e)},n.prototype.onError=function(){this.setState(fr.ERROR)},n.prototype.setFeatures=function(e){this.features_=e,this.setState(fr.LOADED)},n.prototype.setLoader=function(e){this.loader_=e},n}(z4);const Que=Gue;var $ue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$k=[],Yue=function(t){$ue(n,t);function n(e,r,i,o){var s=t.call(this,e,r,{transition:0})||this;return s.context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=[],s.errorTileKeys={},s.wantedResolution,s.getSourceTiles=o.bind(void 0,s),s.wrappedTileCoord=i,s}return n.prototype.getContext=function(e){var r=Qi(e);return r in this.context_||(this.context_[r]=XA(1,1,$k)),this.context_[r]},n.prototype.hasContext=function(e){return Qi(e)in this.context_},n.prototype.getImage=function(e){return this.hasContext(e)?this.getContext(e).canvas:null},n.prototype.getReplayState=function(e){var r=Qi(e);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},n.prototype.load=function(){this.getSourceTiles()},n.prototype.release=function(){for(var e in this.context_){var r=this.context_[e];FB(r),$k.push(r.canvas),delete this.context_[e]}t.prototype.release.call(this)},n}(z4);const que=Yue;var Vue=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hue=function(t){Vue(n,t);function n(e){var r=this,i=e.projection||"EPSG:3857",o=e.extent||j4(i),s=e.tileGrid||qB({extent:o,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:i,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Zue,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection})||this,r.format_=e.format?e.format:null,r.sourceTileCache=new YB(r.tileCache.highWaterMark),r.overlaps_=e.overlaps==null?!0:e.overlaps,r.tileClass=e.tileClass?e.tileClass:Que,r.tileGrids_={},r}return n.prototype.getFeaturesInExtent=function(e){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=bz(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach(function(a){if(!(a.tileCoord[0]!==o||a.getState()!==fr.LOADED))for(var f=a.getSourceTiles(),g=0,x=f.length;g<x;++g){var I=f[g],B=I.tileCoord;if(sl(e,s.getTileCoordExtent(B))){var D=I.getFeatures();if(D)for(var L=0,V=D.length;L<V;++L){var W=D[L],j=W.getGeometry();sl(e,j.getExtent())&&r.push(W)}}}}),r},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},n.prototype.expireCache=function(e,r){var i=this.getTileCacheForProjection(e),o=Object.keys(r).reduce(function(s,a){var f=Nle(a),g=i.peek(f);if(g)for(var x=g.sourceTiles,I=0,B=x.length;I<B;++I)s[x[I].getKey()]=!0;return s},{});t.prototype.expireCache.call(this,e,r),this.sourceTileCache.expireCache(o)},n.prototype.getSourceTiles=function(e,r,i){var o=this;if(i.getState()===fr.IDLE){i.setState(fr.LOADING);var s=i.wrappedTileCoord,a=this.getTileGridForProjection(r),f=a.getTileCoordExtent(s),g=s[0],x=a.getResolution(g);Em(f,-x,f);var I=this.tileGrid,B=I.getExtent();B&&G0(f,B,f);var D=I.getZForResolution(x,this.zDirection);I.forEachTileCoord(f,D,function(L){var V=o.tileUrlFunction(L,e,r),W=o.sourceTileCache.containsKey(V)?o.sourceTileCache.get(V):new o.tileClass(L,V?fr.IDLE:fr.EMPTY,V,o.format_,o.tileLoadFunction);i.sourceTiles.push(W);var j=W.getState();if(j<fr.LOADED){var G=function(ee){o.handleTileChange(ee);var re=W.getState();if(re===fr.LOADED||re===fr.ERROR){var se=W.getKey();se in i.errorTileKeys?W.getState()===fr.LOADED&&delete i.errorTileKeys[se]:i.loadingSourceTiles--,re===fr.ERROR?i.errorTileKeys[se]=!0:W.removeEventListener(Ii.CHANGE,G),i.loadingSourceTiles===0&&i.setState(r1(i.errorTileKeys)?fr.LOADED:fr.ERROR)}};W.addEventListener(Ii.CHANGE,G),i.loadingSourceTiles++}j===fr.IDLE&&(W.extent=I.getTileCoordExtent(L),W.projection=r,W.resolution=I.getResolution(L[0]),o.sourceTileCache.set(V,W),W.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(L){return L.getState()===fr.ERROR})?fr.ERROR:fr.LOADED)}return i.sourceTiles},n.prototype.getTile=function(e,r,i,o,s){var a=Iy(e,r,i),f=this.getKey(),g;if(this.tileCache.containsKey(a)&&(g=this.tileCache.get(a),g.key===f))return g;var x=[e,r,i],I=this.getTileCoordForTileUrlFunction(x,s),B=this.getTileGrid().getExtent(),D=this.getTileGridForProjection(s);if(I&&B){var L=D.getTileCoordExtent(I);Em(L,-D.getResolution(e),L),sl(B,L)||(I=null)}var V=!0;if(I!==null){var W=this.tileGrid,j=D.getResolution(e),G=W.getZForResolution(j,1),ee=D.getTileCoordExtent(I);Em(ee,-j,ee),W.forEachTileCoord(ee,G,(function(se){V=V&&!this.tileUrlFunction(se,o,s)}).bind(this))}var re=new que(x,V?fr.EMPTY:fr.IDLE,I,this.getSourceTiles.bind(this,o,s));return re.key=f,g?(re.interimTile=g,re.refreshInterimChain(),this.tileCache.replace(a,re)):this.tileCache.set(a,re),re},n.prototype.getTileGridForProjection=function(e){var r=e.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,s=o.getResolutions().slice(),a=s.map(function(I,B){return o.getOrigin(B)}),f=s.map(function(I,B){return o.getTileSize(B)}),g=QR+1,x=s.length;x<g;++x)s.push(s[x-1]/2),a.push(a[x-1]),f.push(f[x-1]);i=new k_({extent:o.getExtent(),origins:a,resolutions:s,tileSizes:f}),this.tileGrids_[r]=i}return i},n.prototype.getTilePixelRatio=function(e){return e},n.prototype.getTilePixelSize=function(e,r,i){var o=this.getTileGridForProjection(i),s=CA(o.getTileSize(e),this.tmpSize);return[Math.round(s[0]*r),Math.round(s[1]*r)]},n.prototype.updateCacheSize=function(e,r){t.prototype.updateCacheSize.call(this,e*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},n}(Iz);const Uz=Hue;function Zue(t,n){t.setLoader(function(e,r,i){mz(n,t.getFormat(),e,r,i,t.onLoad.bind(t),t.onError.bind(t))})}var Yk={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},vv=" ",qk=/(italic|oblique)$/i,Vk={},Xue=function(t,n,e){var r=Vk[t];if(!r){Array.isArray(t)||(t=[t]);for(var i=400,o="normal",s=[],a,f,g=0,x=t.length;g<x;++g){var I=t[g],B=I.split(" "),D=B[B.length-1].toLowerCase();D=="normal"||D=="italic"||D=="oblique"?(o=f?o:D,B.pop(),D=B[B.length-1].toLowerCase()):qk.test(D)&&(D=D.replace(qk,""),o=f?o:B[B.length-1].replace(D,""));for(var L in Yk){var V=B.length>1?B[B.length-2].toLowerCase():"";if(D==L||D==L.replace("-","")||V+"-"+D==L){i=a?i:Yk[L],B.pop(),V&&L.startsWith(V)&&B.pop();break}}!a&&typeof D=="number"&&(i=D);var W=B.join(vv).replace("Klokantech Noto Sans","Noto Sans");W.indexOf(vv)!==-1&&(W='"'+W+'"'),s.push(W)}r=Vk[t]=[o,i,s]}return r[0]+vv+r[1]+vv+n+"px"+(e?"/"+e:"")+vv+r[2]};const R6=Qo(Xue);var Jue=8,eAe={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},tAe={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},nAe=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],rAe={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},iAe={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},oAe={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},aAe={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},sAe={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},lAe={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},uAe={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},AAe=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],cAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},dAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},hAe={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},fAe={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},pAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},mAe={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},gAe={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},yAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},vAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},CAe={type:"array",value:"*",doc:"A filter selects specific features from a layer."},_Ae={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},bAe={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},xAe={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},wAe={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},MAe={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},SAe={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},EAe={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},OAe={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},BAe={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},IAe={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},kAe={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},TAe={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},KAe={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carre projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},PAe={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},UAe=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],DAe={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},FAe={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},LAe={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},RAe={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},zAe={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},jAe={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},WAe={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},NAe={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},GAe={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},QAe={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},$Ae={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},Dz={$version:Jue,$root:eAe,sources:tAe,source:nAe,source_vector:rAe,source_raster:iAe,source_raster_dem:oAe,source_geojson:aAe,source_video:sAe,source_image:lAe,layer:uAe,layout:AAe,layout_background:cAe,layout_sky:dAe,layout_fill:hAe,layout_circle:fAe,layout_heatmap:pAe,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:mAe,layout_symbol:gAe,layout_raster:yAe,layout_hillshade:vAe,filter:CAe,filter_symbol:_Ae,filter_fill:bAe,filter_line:xAe,filter_circle:wAe,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:MAe,filter_operator:SAe,geometry_type:EAe,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:OAe,expression:BAe,expression_name:IAe,fog:kAe,light:TAe,projection:KAe,terrain:PAe,paint:UAe,paint_fill:DAe,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:FAe,paint_circle:LAe,paint_heatmap:RAe,paint_symbol:zAe,paint_raster:jAe,paint_hillshade:WAe,paint_background:NAe,paint_sky:GAe,transition:QAe,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:$Ae},eM=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},z6={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,n){(function(e){var r=n&&!n.nodeType&&n,i=t&&!t.nodeType&&t,o=typeof eM=="object"&&eM;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,a=2147483647,f=36,g=1,x=26,I=38,B=700,D=72,L=128,V="-",W=/^xn--/,j=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,ee={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=f-g,se=Math.floor,oe=String.fromCharCode,ue;function me(Ne){throw RangeError(ee[Ne])}function De(Ne,qe){for(var tt=Ne.length,Jt=[];tt--;)Jt[tt]=qe(Ne[tt]);return Jt}function Re(Ne,qe){var tt=Ne.split("@"),Jt="";tt.length>1&&(Jt=tt[0]+"@",Ne=tt[1]),Ne=Ne.replace(G,".");var dt=Ne.split("."),ot=De(dt,qe).join(".");return Jt+ot}function et(Ne){for(var qe=[],tt=0,Jt=Ne.length,dt,ot;tt<Jt;)dt=Ne.charCodeAt(tt++),dt>=55296&&dt<=56319&&tt<Jt?(ot=Ne.charCodeAt(tt++),(ot&64512)==56320?qe.push(((dt&1023)<<10)+(ot&1023)+65536):(qe.push(dt),tt--)):qe.push(dt);return qe}function ht(Ne){return De(Ne,function(qe){var tt="";return qe>65535&&(qe-=65536,tt+=oe(qe>>>10&1023|55296),qe=56320|qe&1023),tt+=oe(qe),tt}).join("")}function ke(Ne){return Ne-48<10?Ne-22:Ne-65<26?Ne-65:Ne-97<26?Ne-97:f}function Je(Ne,qe){return Ne+22+75*(Ne<26)-((qe!=0)<<5)}function ve(Ne,qe,tt){var Jt=0;for(Ne=tt?se(Ne/B):Ne>>1,Ne+=se(Ne/qe);Ne>re*x>>1;Jt+=f)Ne=se(Ne/re);return se(Jt+(re+1)*Ne/(Ne+I))}function ft(Ne){var qe=[],tt=Ne.length,Jt,dt=0,ot=L,Et=D,Kt,xe,ce,_e,Ke,Ve,Ze,bt,Gt;for(Kt=Ne.lastIndexOf(V),Kt<0&&(Kt=0),xe=0;xe<Kt;++xe)Ne.charCodeAt(xe)>=128&&me("not-basic"),qe.push(Ne.charCodeAt(xe));for(ce=Kt>0?Kt+1:0;ce<tt;){for(_e=dt,Ke=1,Ve=f;ce>=tt&&me("invalid-input"),Ze=ke(Ne.charCodeAt(ce++)),(Ze>=f||Ze>se((a-dt)/Ke))&&me("overflow"),dt+=Ze*Ke,bt=Ve<=Et?g:Ve>=Et+x?x:Ve-Et,!(Ze<bt);Ve+=f)Gt=f-bt,Ke>se(a/Gt)&&me("overflow"),Ke*=Gt;Jt=qe.length+1,Et=ve(dt-_e,Jt,_e==0),se(dt/Jt)>a-ot&&me("overflow"),ot+=se(dt/Jt),dt%=Jt,qe.splice(dt++,0,ot)}return ht(qe)}function Ft(Ne){var qe,tt,Jt,dt,ot,Et,Kt,xe,ce,_e,Ke,Ve=[],Ze,bt,Gt,Lt;for(Ne=et(Ne),Ze=Ne.length,qe=L,tt=0,ot=D,Et=0;Et<Ze;++Et)Ke=Ne[Et],Ke<128&&Ve.push(oe(Ke));for(Jt=dt=Ve.length,dt&&Ve.push(V);Jt<Ze;){for(Kt=a,Et=0;Et<Ze;++Et)Ke=Ne[Et],Ke>=qe&&Ke<Kt&&(Kt=Ke);for(bt=Jt+1,Kt-qe>se((a-tt)/bt)&&me("overflow"),tt+=(Kt-qe)*bt,qe=Kt,Et=0;Et<Ze;++Et)if(Ke=Ne[Et],Ke<qe&&++tt>a&&me("overflow"),Ke==qe){for(xe=tt,ce=f;_e=ce<=ot?g:ce>=ot+x?x:ce-ot,!(xe<_e);ce+=f)Lt=xe-_e,Gt=f-_e,Ve.push(oe(Je(_e+Lt%Gt,0))),xe=se(Lt/Gt);Ve.push(oe(Je(xe,0))),ot=ve(tt,bt,Jt==dt),tt=0,++Jt}++tt,++qe}return Ve.join("")}function tn(Ne){return Re(Ne,function(qe){return W.test(qe)?ft(qe.slice(4).toLowerCase()):qe})}function St(Ne){return Re(Ne,function(qe){return j.test(qe)?"xn--"+Ft(qe):qe})}if(s={version:"1.3.2",ucs2:{decode:et,encode:ht},decode:ft,encode:Ft,toASCII:St,toUnicode:tn},r&&i)if(t.exports==r)i.exports=s;else for(ue in s)s.hasOwnProperty(ue)&&(r[ue]=s[ue]);else e.punycode=s})(eM)})(z6,z6.exports);var YAe={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},HC={};function qAe(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var VAe=function(t,n,e,r){n=n||"&",e=e||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;t=t.split(n);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var f=0;f<a;++f){var g=t[f].replace(o,"%20"),x=g.indexOf(e),I,B,D,L;x>=0?(I=g.substr(0,x),B=g.substr(x+1)):(I=g,B=""),D=decodeURIComponent(I),L=decodeURIComponent(B),qAe(i,D)?Array.isArray(i[D])?i[D].push(L):i[D]=[i[D],L]:i[D]=L}return i},Cv=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},HAe=function(t,n,e,r){return n=n||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var o=encodeURIComponent(Cv(i))+e;return Array.isArray(t[i])?t[i].map(function(s){return o+encodeURIComponent(Cv(s))}).join(n):o+encodeURIComponent(Cv(t[i]))}).join(n):r?encodeURIComponent(Cv(r))+e+encodeURIComponent(Cv(t)):""};HC.decode=HC.parse=VAe;HC.encode=HC.stringify=HAe;var ZAe=z6.exports,Xf=YAe;function Ap(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var XAe=/^([a-z0-9.+-]+:)/i,JAe=/:[0-9]*$/,ece=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,tce=["<",">",'"',"`"," ","\r",`
`,"	"],nce=["{","}","|","\\","^","`"].concat(tce),j6=["'"].concat(nce),Hk=["%","/","?",";","#"].concat(j6),Zk=["/","?","#"],rce=255,Xk=/^[+a-z0-9A-Z_-]{0,63}$/,ice=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,oce={javascript:!0,"javascript:":!0},W6={javascript:!0,"javascript:":!0},Qg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},N6=HC;function ace(t,n,e){if(t&&Xf.isObject(t)&&t instanceof Ap)return t;var r=new Ap;return r.parse(t,n,e),r}Ap.prototype.parse=function(t,n,e){if(!Xf.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!e&&t.split("#").length===1){var f=ece.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],n?this.query=N6.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var g=XAe.exec(a);if(g){g=g[0];var x=g.toLowerCase();this.protocol=x,a=a.substr(g.length)}if(e||g||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var I=a.substr(0,2)==="//";I&&!(g&&W6[g])&&(a=a.substr(2),this.slashes=!0)}if(!W6[g]&&(I||g&&!Qg[g])){for(var B=-1,D=0;D<Zk.length;D++){var L=a.indexOf(Zk[D]);L!==-1&&(B===-1||L<B)&&(B=L)}var V,W;B===-1?W=a.lastIndexOf("@"):W=a.lastIndexOf("@",B),W!==-1&&(V=a.slice(0,W),a=a.slice(W+1),this.auth=decodeURIComponent(V)),B=-1;for(var D=0;D<Hk.length;D++){var L=a.indexOf(Hk[D]);L!==-1&&(B===-1||L<B)&&(B=L)}B===-1&&(B=a.length),this.host=a.slice(0,B),a=a.slice(B),this.parseHost(),this.hostname=this.hostname||"";var j=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!j)for(var G=this.hostname.split(/\./),D=0,ee=G.length;D<ee;D++){var re=G[D];if(re&&!re.match(Xk)){for(var se="",oe=0,ue=re.length;oe<ue;oe++)re.charCodeAt(oe)>127?se+="x":se+=re[oe];if(!se.match(Xk)){var me=G.slice(0,D),De=G.slice(D+1),Re=re.match(ice);Re&&(me.push(Re[1]),De.unshift(Re[2])),De.length&&(a="/"+De.join(".")+a),this.hostname=me.join(".");break}}}this.hostname.length>rce?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=ZAe.toASCII(this.hostname));var et=this.port?":"+this.port:"",ht=this.hostname||"";this.host=ht+et,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!oce[x])for(var D=0,ee=j6.length;D<ee;D++){var ke=j6[D];if(a.indexOf(ke)!==-1){var Je=encodeURIComponent(ke);Je===ke&&(Je=escape(ke)),a=a.split(ke).join(Je)}}var ve=a.indexOf("#");ve!==-1&&(this.hash=a.substr(ve),a=a.slice(0,ve));var ft=a.indexOf("?");if(ft!==-1?(this.search=a.substr(ft),this.query=a.substr(ft+1),n&&(this.query=N6.parse(this.query)),a=a.slice(0,ft)):n&&(this.search="",this.query={}),a&&(this.pathname=a),Qg[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var et=this.pathname||"",Ft=this.search||"";this.path=et+Ft}return this.href=this.format(),this};Ap.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var n=this.protocol||"",e=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Xf.isObject(this.query)&&Object.keys(this.query).length&&(o=N6.stringify(this.query));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||Qg[n])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),n+i+e+s+r};Ap.prototype.resolve=function(t){return this.resolveObject(ace(t,!1,!0)).format()};Ap.prototype.resolveObject=function(t){if(Xf.isString(t)){var n=new Ap;n.parse(t,!1,!0),t=n}for(var e=new Ap,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];e[o]=this[o]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var f=s[a];f!=="protocol"&&(e[f]=t[f])}return Qg[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Qg[t.protocol]){for(var g=Object.keys(t),x=0;x<g.length;x++){var I=g[x];e[I]=t[I]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!W6[t.protocol]){for(var ee=(t.pathname||"").split("/");ee.length&&!(t.host=ee.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),e.pathname=ee.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var B=e.pathname||"",D=e.search||"";e.path=B+D}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var L=e.pathname&&e.pathname.charAt(0)==="/",V=t.host||t.pathname&&t.pathname.charAt(0)==="/",W=V||L||e.host&&t.pathname,j=W,G=e.pathname&&e.pathname.split("/")||[],ee=t.pathname&&t.pathname.split("/")||[],re=e.protocol&&!Qg[e.protocol];if(re&&(e.hostname="",e.port=null,e.host&&(G[0]===""?G[0]=e.host:G.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(ee[0]===""?ee[0]=t.host:ee.unshift(t.host)),t.host=null),W=W&&(ee[0]===""||G[0]==="")),V)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,G=ee;else if(ee.length)G||(G=[]),G.pop(),G=G.concat(ee),e.search=t.search,e.query=t.query;else if(!Xf.isNullOrUndefined(t.search)){if(re){e.hostname=e.host=G.shift();var se=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;se&&(e.auth=se.shift(),e.host=e.hostname=se.shift())}return e.search=t.search,e.query=t.query,(!Xf.isNull(e.pathname)||!Xf.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!G.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var oe=G.slice(-1)[0],ue=(e.host||t.host||G.length>1)&&(oe==="."||oe==="..")||oe==="",me=0,De=G.length;De>=0;De--)oe=G[De],oe==="."?G.splice(De,1):oe===".."?(G.splice(De,1),me++):me&&(G.splice(De,1),me--);if(!W&&!j)for(;me--;me)G.unshift("..");W&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),ue&&G.join("/").substr(-1)!=="/"&&G.push("");var Re=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(re){e.hostname=e.host=Re?"":G.length?G.shift():"";var se=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;se&&(e.auth=se.shift(),e.host=e.hostname=se.shift())}return W=W||e.host&&G.length,W&&!Re&&G.unshift(""),G.length?e.pathname=G.join("/"):(e.pathname=null,e.path=null),(!Xf.isNull(e.pathname)||!Xf.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};Ap.prototype.parseHost=function(){var t=this.host,n=JAe.exec(t);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(this.hostname=t)};function Fz(t,...n){for(const e of n)for(const r in e)t[r]=e[r];return t}class sce extends Error{constructor(n,e){super(e),this.message=e,this.key=n}}var Rh=sce;class VB{constructor(n,e=[]){this.parent=n,this.bindings={};for(const[r,i]of e)this.bindings[r]=i}concat(n){return new VB(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return this.bindings[n]?!0:this.parent?this.parent.has(n):!1}}var lce=VB;const W4={kind:"null"},Yn={kind:"number"},oo={kind:"string"},qi={kind:"boolean"},cp={kind:"color"},$g={kind:"object"},Hi={kind:"value"},uce={kind:"error"},N4={kind:"collator"},G4={kind:"formatted"},T_={kind:"resolvedImage"};function yd(t,n){return{kind:"array",itemType:t,N:n}}function hs(t){if(t.kind==="array"){const n=hs(t.itemType);return typeof t.N=="number"?`array<${n}, ${t.N}>`:t.itemType.kind==="value"?"array":`array<${n}>`}else return t.kind}const Ace=[W4,Yn,oo,qi,cp,G4,$g,yd(Hi),T_];function ZC(t,n){if(n.kind==="error")return null;if(t.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!ZC(t.itemType,n.itemType))&&(typeof t.N!="number"||t.N===n.N))return null}else{if(t.kind===n.kind)return null;if(t.kind==="value"){for(const e of Ace)if(!ZC(e,n))return null}}return`Expected ${hs(t)} but found ${hs(n)} instead.`}function HB(t,n){return n.some(e=>e.kind===t.kind)}function XC(t,n){return n.some(e=>e==="null"?t===null:e==="array"?Array.isArray(t):e==="object"?t&&!Array.isArray(t)&&typeof t=="object":e===typeof t)}var cce={},Lz,Jk={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function fC(t){return t=Math.round(t),t<0?0:t>255?255:t}function eT(t){return t<0?0:t>1?1:t}function tM(t){return t[t.length-1]==="%"?fC(parseFloat(t)/100*255):fC(parseInt(t))}function lx(t){return t[t.length-1]==="%"?eT(parseFloat(t)/100):eT(parseFloat(t))}function nM(t,n,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?t+(n-t)*e*6:e*2<1?n:e*3<2?t+(n-t)*(2/3-e)*6:t}function dce(t){var n=t.replace(/ /g,"").toLowerCase();if(n in Jk)return Jk[n].slice();if(n[0]==="#"){if(n.length===4){var e=parseInt(n.substr(1),16);return e>=0&&e<=4095?[(e&3840)>>4|(e&3840)>>8,e&240|(e&240)>>4,e&15|(e&15)<<4,1]:null}else if(n.length===7){var e=parseInt(n.substr(1),16);return e>=0&&e<=16777215?[(e&16711680)>>16,(e&65280)>>8,e&255,1]:null}return null}var r=n.indexOf("("),i=n.indexOf(")");if(r!==-1&&i+1===n.length){var o=n.substr(0,r),s=n.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(s.length!==4)return null;a=lx(s.pop());case"rgb":return s.length!==3?null:[tM(s[0]),tM(s[1]),tM(s[2]),a];case"hsla":if(s.length!==4)return null;a=lx(s.pop());case"hsl":if(s.length!==3)return null;var f=(parseFloat(s[0])%360+360)%360/360,g=lx(s[1]),x=lx(s[2]),I=x<=.5?x*(g+1):x+g-x*g,B=x*2-I;return[fC(nM(B,I,f+1/3)*255),fC(nM(B,I,f)*255),fC(nM(B,I,f-1/3)*255),a];default:return null}}return null}try{Lz=cce.parseCSSColor=dce}catch{}class JA{constructor(n,e,r,i=1){this.r=n,this.g=e,this.b=r,this.a=i}static parse(n){if(!n)return;if(n instanceof JA)return n;if(typeof n!="string")return;const e=Lz(n);if(e)return new JA(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}toString(){const[n,e,r,i]=this.toArray();return`rgba(${Math.round(n)},${Math.round(e)},${Math.round(r)},${i})`}toArray(){const{r:n,g:e,b:r,a:i}=this;return i===0?[0,0,0,0]:[n*255/i,e*255/i,r*255/i,i]}toArray01(){const{r:n,g:e,b:r,a:i}=this;return i===0?[0,0,0,0]:[n/i,e/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:n,g:e,b:r,a:i}=this;return[n,e,r,i]}}JA.black=new JA(0,0,0,1);JA.white=new JA(1,1,1,1);JA.transparent=new JA(0,0,0,0);JA.red=new JA(1,0,0,1);JA.blue=new JA(0,0,1,1);var Rl=JA;class ZB{constructor(n,e,r){n?this.sensitivity=e?"variant":"case":this.sensitivity=e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,e){return this.collator.compare(n,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class G6{constructor(n,e,r,i,o){this.text=n.normalize?n.normalize():n,this.image=e,this.scale=r,this.fontStack=i,this.textColor=o}}class eh{constructor(n){this.sections=n}static fromString(n){return new eh([new G6(n,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof eh?n:eh.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const e of this.sections){if(e.image){n.push(["image",e.image.name]);continue}n.push(e.text);const r={};e.fontStack&&(r["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(r["font-scale"]=e.scale),e.textColor&&(r["text-color"]=["rgba"].concat(e.textColor.toArray())),n.push(r)}return n}}class gp{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new gp({name:n,available:!1}):null}serialize(){return["image",this.name]}}function Rz(t,n,e,r){return typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[t,n,e,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[t,n,e,r]:[t,n,e]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function h3(t){if(t===null)return!0;if(typeof t=="string")return!0;if(typeof t=="boolean")return!0;if(typeof t=="number")return!0;if(t instanceof Rl)return!0;if(t instanceof ZB)return!0;if(t instanceof eh)return!0;if(t instanceof gp)return!0;if(Array.isArray(t)){for(const n of t)if(!h3(n))return!1;return!0}else if(typeof t=="object"){for(const n in t)if(!h3(t[n]))return!1;return!0}else return!1}function Fl(t){if(t===null)return W4;if(typeof t=="string")return oo;if(typeof t=="boolean")return qi;if(typeof t=="number")return Yn;if(t instanceof Rl)return cp;if(t instanceof ZB)return N4;if(t instanceof eh)return G4;if(t instanceof gp)return T_;if(Array.isArray(t)){const n=t.length;let e;for(const r of t){const i=Fl(r);if(!e)e=i;else{if(e===i)continue;e=Hi;break}}return yd(e||Hi,n)}else return $g}function pC(t){const n=typeof t;return t===null?"":n==="string"||n==="number"||n==="boolean"?String(t):t instanceof Rl||t instanceof eh||t instanceof gp?t.toString():JSON.stringify(t)}class XB{constructor(n,e){this.type=n,this.value=e}static parse(n,e){if(n.length!==2)return e.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!h3(n[1]))return e.error("invalid value");const r=n[1];let i=Fl(r);const o=e.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new XB(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Rl?["rgba"].concat(this.value.toArray()):this.value instanceof eh?this.value.serialize():this.value}}var f3=XB;class hce{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}var bu=hce;const rM={string:oo,number:Yn,boolean:qi,object:$g};class JB{constructor(n,e){this.type=n,this.args=e}static parse(n,e){if(n.length<2)return e.error("Expected at least one argument.");let r=1,i;const o=n[0];if(o==="array"){let a;if(n.length>2){const g=n[1];if(typeof g!="string"||!(g in rM)||g==="object")return e.error('The item type argument of "array" must be one of string, number, boolean',1);a=rM[g],r++}else a=Hi;let f;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return e.error('The length argument to "array" must be a positive integer literal',2);f=n[2],r++}i=yd(a,f)}else i=rM[o];const s=[];for(;r<n.length;r++){const a=e.parse(n[r],r,Hi);if(!a)return null;s.push(a)}return new JB(i,s)}evaluate(n){for(let e=0;e<this.args.length;e++){const r=this.args[e].evaluate(n);if(ZC(this.type,Fl(r))){if(e===this.args.length-1)throw new bu(`Expected value to be of type ${hs(this.type)}, but found ${hs(Fl(r))} instead.`)}else return r}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,e=[n.kind];if(n.kind==="array"){const r=n.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){e.push(r.kind);const i=n.N;(typeof i=="number"||this.args.length>1)&&e.push(i)}}return e.concat(this.args.map(r=>r.serialize()))}}var np=JB;class Q4{constructor(n){this.type=G4,this.sections=n}static parse(n,e){if(n.length<2)return e.error("Expected at least one argument.");const r=n[1];if(!Array.isArray(r)&&typeof r=="object")return e.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=n.length-1;++s){const a=n[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let f=null;if(a["font-scale"]&&(f=e.parse(a["font-scale"],1,Yn),!f))return null;let g=null;if(a["text-font"]&&(g=e.parse(a["text-font"],1,yd(oo)),!g))return null;let x=null;if(a["text-color"]&&(x=e.parse(a["text-color"],1,cp),!x))return null;const I=i[i.length-1];I.scale=f,I.font=g,I.textColor=x}else{const f=e.parse(n[s],1,Hi);if(!f)return null;const g=f.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new Q4(i)}evaluate(n){const e=r=>{const i=r.content.evaluate(n);return Fl(i)===T_?new G6("",i,null,null,null):new G6(pC(i),null,r.scale?r.scale.evaluate(n):null,r.font?r.font.evaluate(n).join(","):null,r.textColor?r.textColor.evaluate(n):null)};return new eh(this.sections.map(e))}eachChild(n){for(const e of this.sections)n(e.content),e.scale&&n(e.scale),e.font&&n(e.font),e.textColor&&n(e.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const e of this.sections){n.push(e.content.serialize());const r={};e.scale&&(r["font-scale"]=e.scale.serialize()),e.font&&(r["text-font"]=e.font.serialize()),e.textColor&&(r["text-color"]=e.textColor.serialize()),n.push(r)}return n}}class $4{constructor(n){this.type=T_,this.input=n}static parse(n,e){if(n.length!==2)return e.error("Expected two arguments.");const r=e.parse(n[1],1,oo);return r?new $4(r):e.error("No image name provided.")}evaluate(n){const e=this.input.evaluate(n),r=gp.fromString(e);return r&&n.availableImages&&(r.available=n.availableImages.indexOf(e)>-1),r}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const fce={"to-boolean":qi,"to-color":cp,"to-number":Yn,"to-string":oo};class e7{constructor(n,e){this.type=n,this.args=e}static parse(n,e){if(n.length<2)return e.error("Expected at least one argument.");const r=n[0];if((r==="to-boolean"||r==="to-string")&&n.length!==2)return e.error("Expected one argument.");const i=fce[r],o=[];for(let s=1;s<n.length;s++){const a=e.parse(n[s],s,Hi);if(!a)return null;o.push(a)}return new e7(i,o)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let e,r;for(const i of this.args){if(e=i.evaluate(n),r=null,e instanceof Rl)return e;if(typeof e=="string"){const o=n.parseColor(e);if(o)return o}else if(Array.isArray(e)&&(e.length<3||e.length>4?r=`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:r=Rz(e[0],e[1],e[2],e[3]),!r))return new Rl(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new bu(r||`Could not parse color from value '${typeof e=="string"?e:String(JSON.stringify(e))}'`)}else if(this.type.kind==="number"){let e=null;for(const r of this.args){if(e=r.evaluate(n),e===null)return 0;const i=Number(e);if(!isNaN(i))return i}throw new bu(`Could not convert ${JSON.stringify(e)} to number.`)}else return this.type.kind==="formatted"?eh.fromString(pC(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?gp.fromString(pC(this.args[0].evaluate(n))):pC(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Q4([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new $4(this.args[0]).serialize();const n=[`to-${this.type.kind}`];return this.eachChild(e=>{n.push(e.serialize())}),n}}var Mg=e7;const pce=["Unknown","Point","LineString","Polygon"];class mce{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?pce[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*e-n[0],s=i*e-n[1],a=this.featureDistanceData.bearing[0],f=this.featureDistanceData.bearing[1];return a*o+f*s}return 0}parseColor(n){let e=this._parseColorCache[n];return e||(e=this._parseColorCache[n]=Rl.parse(n)),e}}var zz=mce;class Sg{constructor(n,e,r,i){this.name=n,this.type=e,this._evaluate=r,this.args=i}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,e){const r=n[0],i=Sg.definitions[r];if(!i)return e.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([g])=>!Array.isArray(g)||g.length===n.length-1);let f=null;for(const[g,x]of a){f=new Qz(e.registry,e.path,null,e.scope);const I=[];let B=!1;for(let D=1;D<n.length;D++){const L=n[D],V=Array.isArray(g)?g[D-1]:g.type,W=f.parse(L,1+I.length,V);if(!W){B=!0;break}I.push(W)}if(!B){if(Array.isArray(g)&&g.length!==I.length){f.error(`Expected ${g.length} arguments, but found ${I.length} instead.`);continue}for(let D=0;D<I.length;D++){const L=Array.isArray(g)?g[D]:g.type,V=I[D];f.concat(D+1).checkSubtype(L,V.type)}if(f.errors.length===0)return new Sg(r,o,x,I)}}if(a.length===1)e.errors.push(...f.errors);else{const x=(a.length?a:s).map(([B])=>gce(B)).join(" | "),I=[];for(let B=1;B<n.length;B++){const D=e.parse(n[B],1+I.length);if(!D)return null;I.push(hs(D.type))}e.error(`Expected arguments of type ${x}, but found (${I.join(", ")}) instead.`)}return null}static register(n,e){Sg.definitions=e;for(const r in e)n[r]=Sg}}function gce(t){return Array.isArray(t)?`(${t.map(hs).join(", ")})`:`(${hs(t.type)}...)`}var ky=Sg;class Y4{constructor(n,e,r){this.type=N4,this.locale=r,this.caseSensitive=n,this.diacriticSensitive=e}static parse(n,e){if(n.length!==2)return e.error("Expected one argument.");const r=n[1];if(typeof r!="object"||Array.isArray(r))return e.error("Collator options argument must be an object.");const i=e.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,qi);if(!i)return null;const o=e.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,qi);if(!o)return null;let s=null;return r.locale&&(s=e.parse(r.locale,1,oo),!s)?null:new Y4(i,o,s)}evaluate(n){return new ZB(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}const Im=8192;function t7(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.max(t[2],n[0]),t[3]=Math.max(t[3],n[1])}function yce(t){return(180+t)/360}function vce(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function p3(t,n){return!(t[0]<=n[0]||t[2]>=n[2]||t[1]<=n[1]||t[3]>=n[3])}function Cce(t,n){const e=yce(t[0]),r=vce(t[1]),i=Math.pow(2,n.z);return[Math.round(e*i*Im),Math.round(r*i*Im)]}function _ce(t,n,e){const r=t[0]-n[0],i=t[1]-n[1],o=t[0]-e[0],s=t[1]-e[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function bce(t,n,e){return n[1]>t[1]!=e[1]>t[1]&&t[0]<(e[0]-n[0])*(t[1]-n[1])/(e[1]-n[1])+n[0]}function n7(t,n){let e=!1;for(let r=0,i=n.length;r<i;r++){const o=n[r];for(let s=0,a=o.length;s<a-1;s++){if(_ce(t,o[s],o[s+1]))return!1;bce(t,o[s],o[s+1])&&(e=!e)}}return e}function xce(t,n){for(let e=0;e<n.length;e++)if(n7(t,n[e]))return!0;return!1}function wce(t,n){return t[0]*n[1]-t[1]*n[0]}function tT(t,n,e,r){const i=t[0]-e[0],o=t[1]-e[1],s=n[0]-e[0],a=n[1]-e[1],f=r[0]-e[0],g=r[1]-e[1],x=i*g-f*o,I=s*g-f*a;return x>0&&I<0||x<0&&I>0}function Mce(t,n,e,r){const i=[n[0]-t[0],n[1]-t[1]],o=[r[0]-e[0],r[1]-e[1]];return wce(o,i)===0?!1:!!(tT(t,n,e,r)&&tT(e,r,t,n))}function Sce(t,n,e){for(const r of e)for(let i=0;i<r.length-1;++i)if(Mce(t,n,r[i],r[i+1]))return!0;return!1}function jz(t,n){for(let e=0;e<t.length;++e)if(!n7(t[e],n))return!1;for(let e=0;e<t.length-1;++e)if(Sce(t[e],t[e+1],n))return!1;return!0}function Ece(t,n){for(let e=0;e<n.length;e++)if(jz(t,n[e]))return!0;return!1}function r7(t,n,e){const r=[];for(let i=0;i<t.length;i++){const o=[];for(let s=0;s<t[i].length;s++){const a=Cce(t[i][s],e);t7(n,a),o.push(a)}r.push(o)}return r}function Wz(t,n,e){const r=[];for(let i=0;i<t.length;i++){const o=r7(t[i],n,e);r.push(o)}return r}function Nz(t,n,e,r){if(t[0]<e[0]||t[0]>e[2]){const i=r*.5;let o=t[0]-e[0]>i?-r:e[0]-t[0]>i?r:0;o===0&&(o=t[0]-e[2]>i?-r:e[2]-t[0]>i?r:0),t[0]+=o}t7(n,t)}function Oce(t){t[0]=t[1]=1/0,t[2]=t[3]=-1/0}function nT(t,n,e,r){const i=Math.pow(2,r.z)*Im,o=[r.x*Im,r.y*Im],s=[];if(!t)return s;for(const a of t)for(const f of a){const g=[f.x+o[0],f.y+o[1]];Nz(g,n,e,i),s.push(g)}return s}function rT(t,n,e,r){const i=Math.pow(2,r.z)*Im,o=[r.x*Im,r.y*Im],s=[];if(!t)return s;for(const a of t){const f=[];for(const g of a){const x=[g.x+o[0],g.y+o[1]];t7(n,x),f.push(x)}s.push(f)}if(n[2]-n[0]<=i/2){Oce(n);for(const a of s)for(const f of a)Nz(f,n,e,i)}return s}function Bce(t,n){const e=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return!1;if(n.type==="Polygon"){const o=r7(n.coordinates,r,i),s=nT(t.geometry(),e,r,i);if(!p3(e,r))return!1;for(const a of s)if(!n7(a,o))return!1}if(n.type==="MultiPolygon"){const o=Wz(n.coordinates,r,i),s=nT(t.geometry(),e,r,i);if(!p3(e,r))return!1;for(const a of s)if(!xce(a,o))return!1}return!0}function Ice(t,n){const e=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return!1;if(n.type==="Polygon"){const o=r7(n.coordinates,r,i),s=rT(t.geometry(),e,r,i);if(!p3(e,r))return!1;for(const a of s)if(!jz(a,o))return!1}if(n.type==="MultiPolygon"){const o=Wz(n.coordinates,r,i),s=rT(t.geometry(),e,r,i);if(!p3(e,r))return!1;for(const a of s)if(!Ece(a,o))return!1}return!0}class mC{constructor(n,e){this.type=qi,this.geojson=n,this.geometries=e}static parse(n,e){if(n.length!==2)return e.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(h3(n[1])){const r=n[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new mC(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new mC(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new mC(r,r)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return Bce(n,this.geometries);if(n.geometryType()==="LineString")return Ice(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var i7=mC;function q4(t){if(t instanceof ky){if(t.name==="get"&&t.args.length===1)return!1;if(t.name==="feature-state")return!1;if(t.name==="has"&&t.args.length===1)return!1;if(t.name==="properties"||t.name==="geometry-type"||t.name==="id")return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof i7)return!1;let n=!0;return t.eachChild(e=>{n&&!q4(e)&&(n=!1)}),n}function o7(t){if(t instanceof ky&&t.name==="feature-state")return!1;let n=!0;return t.eachChild(e=>{n&&!o7(e)&&(n=!1)}),n}function a7(t,n){if(t instanceof ky&&n.indexOf(t.name)>=0)return!1;let e=!0;return t.eachChild(r=>{e&&!a7(r,n)&&(e=!1)}),e}class s7{constructor(n,e){this.type=e.type,this.name=n,this.boundExpression=e}static parse(n,e){if(n.length!==2||typeof n[1]!="string")return e.error("'var' expression requires exactly one string literal argument.");const r=n[1];return e.scope.has(r)?new s7(r,e.scope.get(r)):e.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Gz=s7;class l7{constructor(n,e=[],r,i=new lce,o=[]){this.registry=n,this.path=e,this.key=e.map(s=>`[${s}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(n,e,r,i,o={}){return e?this.concat(e,r,i)._parse(n,o):this._parse(n,o)}_parse(n,e){(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number")&&(n=["literal",n]);function r(i,o,s){return s==="assert"?new np(o,[i]):s==="coerce"?new Mg(o,[i]):i}if(Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=n[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(n,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,f=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&f.kind==="value")s=r(s,a,e.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(f.kind==="value"||f.kind==="string"))s=r(s,a,e.typeAnnotation||"coerce");else if(this.checkSubtype(a,f))return null}if(!(s instanceof f3)&&s.type.kind!=="resolvedImage"&&Q6(s)){const a=new zz;try{s=new f3(s.type,s.evaluate(a))}catch(f){return this.error(f.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof n>"u"?this.error("'undefined' value invalid. Use null instead."):typeof n=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof n} instead.`)}concat(n,e,r){const i=typeof n=="number"?this.path.concat(n):this.path,o=r?this.scope.concat(r):this.scope;return new l7(this.registry,i,e||null,o,this.errors)}error(n,...e){const r=`${this.key}${e.map(i=>`[${i}]`).join("")}`;this.errors.push(new Rh(r,n))}checkSubtype(n,e){const r=ZC(n,e);return r&&this.error(r),r}}var Qz=l7;function Q6(t){if(t instanceof Gz)return Q6(t.boundExpression);if(t instanceof ky&&t.name==="error")return!1;if(t instanceof Y4)return!1;if(t instanceof i7)return!1;const n=t instanceof Mg||t instanceof np;let e=!0;return t.eachChild(r=>{n?e=e&&Q6(r):e=e&&r instanceof f3}),e?q4(t)&&a7(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function V4(t,n){const e=t.length-1;let r=0,i=e,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=t[o],a=t[o+1],s<=n){if(o===e||n<a)return o;r=o+1}else if(s>n)i=o-1;else throw new bu("Input is not a number.");return 0}class u7{constructor(n,e,r){this.type=n,this.input=e,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(n,e){if(n.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return e.error("Expected an even number of arguments.");const r=e.parse(n[1],1,Yn);if(!r)return null;const i=[];let o=null;e.expectedType&&e.expectedType.kind!=="value"&&(o=e.expectedType);for(let s=1;s<n.length;s+=2){const a=s===1?-1/0:n[s],f=n[s+1],g=s,x=s+1;if(typeof a!="number")return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const I=e.parse(f,x,o);if(!I)return null;o=o||I.type,i.push([a,I])}return new u7(o,r,i)}evaluate(n){const e=this.labels,r=this.outputs;if(e.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=e[0])return r[0].evaluate(n);const o=e.length;if(i>=e[o-1])return r[o-1].evaluate(n);const s=V4(e,i);return r[s].evaluate(n)}eachChild(n){n(this.input);for(const e of this.outputs)n(e)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&n.push(this.labels[e]),n.push(this.outputs[e].serialize());return n}}var $z=u7,kce=Yz;function Yz(t,n,e,r){this.cx=3*t,this.bx=3*(e-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(r-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=e,this.p2y=r}Yz.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,n){if(n===void 0&&(n=1e-6),t<0)return 0;if(t>1)return 1;for(var e=t,r=0;r<8;r++){var i=this.sampleCurveX(e)-t;if(Math.abs(i)<n)return e;var o=this.sampleCurveDerivativeX(e);if(Math.abs(o)<1e-6)break;e=e-i/o}var s=0,a=1;for(e=t,r=0;r<20&&(i=this.sampleCurveX(e),!(Math.abs(i-t)<n));r++)t>i?s=e:a=e,e=(a-s)*.5+s;return e},solve:function(t,n){return this.sampleCurveY(this.solveCurveX(t,n))}};function Pc(t,n,e){return t*(1-e)+n*e}function Tce(t,n,e){return new Rl(Pc(t.r,n.r,e),Pc(t.g,n.g,e),Pc(t.b,n.b,e),Pc(t.a,n.a,e))}function Kce(t,n,e){return t.map((r,i)=>Pc(r,n[i],e))}var qz=Object.freeze({__proto__:null,number:Pc,color:Tce,array:Kce});const Vz=.95047,Hz=1,Zz=1.08883,Xz=4/29,Yg=6/29,Jz=3*Yg*Yg,Pce=Yg*Yg*Yg,Uce=Math.PI/180,Dce=180/Math.PI;function iM(t){return t>Pce?Math.pow(t,1/3):t/Jz+Xz}function oM(t){return t>Yg?t*t*t:Jz*(t-Xz)}function aM(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function sM(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ej(t){const n=sM(t.r),e=sM(t.g),r=sM(t.b),i=iM((.4124564*n+.3575761*e+.1804375*r)/Vz),o=iM((.2126729*n+.7151522*e+.072175*r)/Hz),s=iM((.0193339*n+.119192*e+.9503041*r)/Zz);return{l:116*o-16,a:500*(i-o),b:200*(o-s),alpha:t.a}}function tj(t){let n=(t.l+16)/116,e=isNaN(t.a)?n:n+t.a/500,r=isNaN(t.b)?n:n-t.b/200;return n=Hz*oM(n),e=Vz*oM(e),r=Zz*oM(r),new Rl(aM(3.2404542*e-1.5371385*n-.4985314*r),aM(-.969266*e+1.8760108*n+.041556*r),aM(.0556434*e-.2040259*n+1.0572252*r),t.alpha)}function Fce(t,n,e){return{l:Pc(t.l,n.l,e),a:Pc(t.a,n.a,e),b:Pc(t.b,n.b,e),alpha:Pc(t.alpha,n.alpha,e)}}function Lce(t){const{l:n,a:e,b:r}=ej(t),i=Math.atan2(r,e)*Dce;return{h:i<0?i+360:i,c:Math.sqrt(e*e+r*r),l:n,alpha:t.a}}function Rce(t){const n=t.h*Uce,e=t.c,r=t.l;return tj({l:r,a:Math.cos(n)*e,b:Math.sin(n)*e,alpha:t.alpha})}function zce(t,n,e){const r=n-t;return t+e*(r>180||r<-180?r-360*Math.round(r/360):r)}function jce(t,n,e){return{h:zce(t.h,n.h,e),c:Pc(t.c,n.c,e),l:Pc(t.l,n.l,e),alpha:Pc(t.alpha,n.alpha,e)}}const Lv={forward:ej,reverse:tj,interpolate:Fce},Rv={forward:Lce,reverse:Rce,interpolate:jce};var nj=Object.freeze({__proto__:null,lab:Lv,hcl:Rv});class m3{constructor(n,e,r,i,o){this.type=n,this.operator=e,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(n,e,r,i){let o=0;if(n.name==="exponential")o=lM(e,n.base,r,i);else if(n.name==="linear")o=lM(e,1,r,i);else if(n.name==="cubic-bezier"){const s=n.controlPoints;o=new kce(s[0],s[1],s[2],s[3]).solve(lM(e,1,r,i))}return o}static parse(n,e){let[r,i,o,...s]=n;if(!Array.isArray(i)||i.length===0)return e.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(x=>typeof x!="number"||x<0||x>1))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return e.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(n.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(o=e.parse(o,2,Yn),!o)return null;const a=[];let f=null;r==="interpolate-hcl"||r==="interpolate-lab"?f=cp:e.expectedType&&e.expectedType.kind!=="value"&&(f=e.expectedType);for(let g=0;g<s.length;g+=2){const x=s[g],I=s[g+1],B=g+3,D=g+4;if(typeof x!="number")return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',B);if(a.length&&a[a.length-1][0]>=x)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',B);const L=e.parse(I,D,f);if(!L)return null;f=f||L.type,a.push([x,L])}return f.kind!=="number"&&f.kind!=="color"&&!(f.kind==="array"&&f.itemType.kind==="number"&&typeof f.N=="number")?e.error(`Type ${hs(f)} is not interpolatable.`):new m3(f,r,i,o,a)}evaluate(n){const e=this.labels,r=this.outputs;if(e.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=e[0])return r[0].evaluate(n);const o=e.length;if(i>=e[o-1])return r[o-1].evaluate(n);const s=V4(e,i),a=e[s],f=e[s+1],g=m3.interpolationFactor(this.interpolation,i,a,f),x=r[s].evaluate(n),I=r[s+1].evaluate(n);return this.operator==="interpolate"?qz[this.type.kind.toLowerCase()](x,I,g):this.operator==="interpolate-hcl"?Rv.reverse(Rv.interpolate(Rv.forward(x),Rv.forward(I),g)):Lv.reverse(Lv.interpolate(Lv.forward(x),Lv.forward(I),g))}eachChild(n){n(this.input);for(const e of this.outputs)n(e)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;this.interpolation.name==="linear"?n=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?n=["linear"]:n=["exponential",this.interpolation.base]:n=["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,n,this.input.serialize()];for(let r=0;r<this.labels.length;r++)e.push(this.labels[r],this.outputs[r].serialize());return e}}function lM(t,n,e,r){const i=r-e,o=t-e;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}var dp=m3;class g3{constructor(n,e){this.type=n,this.args=e}static parse(n,e){if(n.length<2)return e.error("Expectected at least one argument.");let r=null;const i=e.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of n.slice(1)){const f=e.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!f)return null;r=r||f.type,o.push(f)}return i&&o.some(a=>ZC(i,a.type))?new g3(Hi,o):new g3(r,o)}evaluate(n){let e=null,r=0,i;for(const o of this.args){if(r++,e=o.evaluate(n),e&&e instanceof gp&&!e.available&&(i||(i=e),e=null,r===this.args.length))return i;if(e!==null)break}return e}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(e=>{n.push(e.serialize())}),n}}var rj=g3;class A7{constructor(n,e){this.type=e.type,this.bindings=[].concat(n),this.result=e}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const e of this.bindings)n(e[1]);n(this.result)}static parse(n,e){if(n.length<4)return e.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const r=[];for(let o=1;o<n.length-1;o+=2){const s=n[o];if(typeof s!="string")return e.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return e.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=e.parse(n[o+1],o+1);if(!a)return null;r.push([s,a])}const i=e.parse(n[n.length-1],n.length-1,e.expectedType,r);return i?new A7(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[e,r]of this.bindings)n.push(e,r.serialize());return n.push(this.result.serialize()),n}}var ij=A7;class c7{constructor(n,e,r){this.type=n,this.index=e,this.input=r}static parse(n,e){if(n.length!==3)return e.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Yn),i=e.parse(n[2],2,yd(e.expectedType||Hi));if(!r||!i)return null;const o=i.type;return new c7(o.itemType,r,i)}evaluate(n){const e=this.index.evaluate(n),r=this.input.evaluate(n);if(e<0)throw new bu(`Array index out of bounds: ${e} < 0.`);if(e>=r.length)throw new bu(`Array index out of bounds: ${e} > ${r.length-1}.`);if(e!==Math.floor(e))throw new bu(`Array index must be an integer, but found ${e} instead.`);return r[e]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Wce=c7;class d7{constructor(n,e){this.type=qi,this.needle=n,this.haystack=e}static parse(n,e){if(n.length!==3)return e.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Hi),i=e.parse(n[2],2,Hi);return!r||!i?null:HB(r.type,[qi,oo,Yn,W4,Hi])?new d7(r,i):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${hs(r.type)} instead`)}evaluate(n){const e=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(r==null)return!1;if(!XC(e,["boolean","string","number","null"]))throw new bu(`Expected first argument to be of type boolean, string, number or null, but found ${hs(Fl(e))} instead.`);if(!XC(r,["string","array"]))throw new bu(`Expected second argument to be of type array or string, but found ${hs(Fl(r))} instead.`);return r.indexOf(e)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Nce=d7;class y3{constructor(n,e,r){this.type=Yn,this.needle=n,this.haystack=e,this.fromIndex=r}static parse(n,e){if(n.length<=2||n.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Hi),i=e.parse(n[2],2,Hi);if(!r||!i)return null;if(!HB(r.type,[qi,oo,Yn,W4,Hi]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${hs(r.type)} instead`);if(n.length===4){const o=e.parse(n[3],3,Yn);return o?new y3(r,i,o):null}else return new y3(r,i)}evaluate(n){const e=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!XC(e,["boolean","string","number","null"]))throw new bu(`Expected first argument to be of type boolean, string, number or null, but found ${hs(Fl(e))} instead.`);if(!XC(r,["string","array"]))throw new bu(`Expected second argument to be of type array or string, but found ${hs(Fl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(n);return r.indexOf(e,i)}return r.indexOf(e)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Gce=y3;class h7{constructor(n,e,r,i,o,s){this.inputType=n,this.type=e,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(n,e){if(n.length<5)return e.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!==1)return e.error("Expected an even number of arguments.");let r,i;e.expectedType&&e.expectedType.kind!=="value"&&(i=e.expectedType);const o={},s=[];for(let g=2;g<n.length-1;g+=2){let x=n[g];const I=n[g+1];Array.isArray(x)||(x=[x]);const B=e.concat(g);if(x.length===0)return B.error("Expected at least one branch label.");for(const L of x){if(typeof L!="number"&&typeof L!="string")return B.error("Branch labels must be numbers or strings.");if(typeof L=="number"&&Math.abs(L)>Number.MAX_SAFE_INTEGER)return B.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof L=="number"&&Math.floor(L)!==L)return B.error("Numeric branch labels must be integer values.");if(!r)r=Fl(L);else if(B.checkSubtype(r,Fl(L)))return null;if(typeof o[String(L)]<"u")return B.error("Branch labels must be unique.");o[String(L)]=s.length}const D=e.parse(I,g,i);if(!D)return null;i=i||D.type,s.push(D)}const a=e.parse(n[1],1,Hi);if(!a)return null;const f=e.parse(n[n.length-1],n.length-1,i);return!f||a.type.kind!=="value"&&e.concat(1).checkSubtype(r,a.type)?null:new h7(r,i,a,o,s,f)}evaluate(n){const e=this.input.evaluate(n);return(Fl(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),r=[],i={};for(const s of e){const a=i[this.cases[s]];a===void 0?(i[this.cases[s]]=r.length,r.push([this.cases[s],[s]])):r[a][1].push(s)}const o=s=>this.inputType.kind==="number"?Number(s):s;for(const[s,a]of r)a.length===1?n.push(o(a[0])):n.push(a.map(o)),n.push(this.outputs[s].serialize());return n.push(this.otherwise.serialize()),n}}var Qce=h7;class f7{constructor(n,e,r){this.type=n,this.branches=e,this.otherwise=r}static parse(n,e){if(n.length<4)return e.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!==0)return e.error("Expected an odd number of arguments.");let r;e.expectedType&&e.expectedType.kind!=="value"&&(r=e.expectedType);const i=[];for(let s=1;s<n.length-1;s+=2){const a=e.parse(n[s],s,qi);if(!a)return null;const f=e.parse(n[s+1],s+1,r);if(!f)return null;i.push([a,f]),r=r||f.type}const o=e.parse(n[n.length-1],n.length-1,r);return o?new f7(r,i,o):null}evaluate(n){for(const[e,r]of this.branches)if(e.evaluate(n))return r.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[e,r]of this.branches)n(e),n(r);n(this.otherwise)}outputDefined(){return this.branches.every(([n,e])=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(e=>{n.push(e.serialize())}),n}}var $ce=f7;class v3{constructor(n,e,r,i){this.type=n,this.input=e,this.beginIndex=r,this.endIndex=i}static parse(n,e){if(n.length<=2||n.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=e.parse(n[1],1,Hi),i=e.parse(n[2],2,Yn);if(!r||!i)return null;if(!HB(r.type,[yd(Hi),oo,Hi]))return e.error(`Expected first argument to be of type array or string, but found ${hs(r.type)} instead`);if(n.length===4){const o=e.parse(n[3],3,Yn);return o?new v3(r.type,r,i,o):null}else return new v3(r.type,r,i)}evaluate(n){const e=this.input.evaluate(n),r=this.beginIndex.evaluate(n);if(!XC(e,["string","array"]))throw new bu(`Expected first argument to be of type array or string, but found ${hs(Fl(e))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(n);return e.slice(r,i)}return e.slice(r)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Yce=v3;function iT(t,n){return t==="=="||t==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function qce(t,n,e){return n===e}function Vce(t,n,e){return n!==e}function Hce(t,n,e){return n<e}function Zce(t,n,e){return n>e}function Xce(t,n,e){return n<=e}function Jce(t,n,e){return n>=e}function oj(t,n,e,r){return r.compare(n,e)===0}function ede(t,n,e,r){return!oj(t,n,e,r)}function tde(t,n,e,r){return r.compare(n,e)<0}function nde(t,n,e,r){return r.compare(n,e)>0}function rde(t,n,e,r){return r.compare(n,e)<=0}function ide(t,n,e,r){return r.compare(n,e)>=0}function Ty(t,n,e){const r=t!=="=="&&t!=="!=";return class aj{constructor(o,s,a){this.type=qi,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let f=s.parse(o[1],1,Hi);if(!f)return null;if(!iT(a,f.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${hs(f.type)}'.`);let g=s.parse(o[2],2,Hi);if(!g)return null;if(!iT(a,g.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${hs(g.type)}'.`);if(f.type.kind!==g.type.kind&&f.type.kind!=="value"&&g.type.kind!=="value")return s.error(`Cannot compare types '${hs(f.type)}' and '${hs(g.type)}'.`);r&&(f.type.kind==="value"&&g.type.kind!=="value"?f=new np(g.type,[f]):f.type.kind!=="value"&&g.type.kind==="value"&&(g=new np(f.type,[g])));let x=null;if(o.length===4){if(f.type.kind!=="string"&&g.type.kind!=="string"&&f.type.kind!=="value"&&g.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(x=s.parse(o[3],3,N4),!x)return null}return new aj(f,g,x)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const f=Fl(s),g=Fl(a);if(f.kind!==g.kind||!(f.kind==="string"||f.kind==="number"))throw new bu(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${f.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const f=Fl(s),g=Fl(a);if(f.kind!=="string"||g.kind!=="string")return n(o,s,a)}return this.collator?e(o,s,a,this.collator.evaluate(o)):n(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[t];return this.eachChild(s=>{o.push(s.serialize())}),o}}}const ode=Ty("==",qce,oj),ade=Ty("!=",Vce,ede),sde=Ty("<",Hce,tde),lde=Ty(">",Zce,nde),ude=Ty("<=",Xce,rde),Ade=Ty(">=",Jce,ide);class p7{constructor(n,e,r,i,o,s){this.type=oo,this.number=n,this.locale=e,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=s}static parse(n,e){if(n.length!==3)return e.error("Expected two arguments.");const r=e.parse(n[1],1,Yn);if(!r)return null;const i=n[2];if(typeof i!="object"||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=e.parse(i.locale,1,oo),!o))return null;let s=null;if(i.currency&&(s=e.parse(i.currency,1,oo),!s))return null;let a=null;if(i.unit&&(a=e.parse(i.unit,1,oo),!a))return null;let f=null;if(i["min-fraction-digits"]&&(f=e.parse(i["min-fraction-digits"],1,Yn),!f))return null;let g=null;return i["max-fraction-digits"]&&(g=e.parse(i["max-fraction-digits"],1,Yn),!g)?null:new p7(r,o,s,a,f,g)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class m7{constructor(n){this.type=Yn,this.input=n}static parse(n,e){if(n.length!==2)return e.error(`Expected 1 argument, but found ${n.length-1} instead.`);const r=e.parse(n[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?e.error(`Expected argument of type string or array, but found ${hs(r.type)} instead.`):new m7(r):null}evaluate(n){const e=this.input.evaluate(n);if(typeof e=="string")return e.length;if(Array.isArray(e))return e.length;throw new bu(`Expected value to be of type string or array, but found ${hs(Fl(e))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(e=>{n.push(e.serialize())}),n}}var cde=m7;const sj={"==":ode,"!=":ade,">":lde,"<":sde,">=":Ade,"<=":ude,array:np,at:Wce,boolean:np,case:$ce,coalesce:rj,collator:Y4,format:Q4,image:$4,in:Nce,"index-of":Gce,interpolate:dp,"interpolate-hcl":dp,"interpolate-lab":dp,length:cde,let:ij,literal:f3,match:Qce,number:np,"number-format":p7,object:np,slice:Yce,step:$z,string:np,"to-boolean":Mg,"to-color":Mg,"to-number":Mg,"to-string":Mg,var:Gz,within:i7};function oT(t,[n,e,r,i]){n=n.evaluate(t),e=e.evaluate(t),r=r.evaluate(t);const o=i?i.evaluate(t):1,s=Rz(n,e,r,o);if(s)throw new bu(s);return new Rl(n/255*o,e/255*o,r/255*o,o)}function aT(t,n){return t in n}function uM(t,n){const e=n[t];return typeof e>"u"?null:e}function dde(t,n,e,r){for(;e<=r;){const i=e+r>>1;if(n[i]===t)return!0;n[i]>t?r=i-1:e=i+1}return!1}function A0(t){return{type:t}}ky.register(sj,{error:[uce,[oo],(t,[n])=>{throw new bu(n.evaluate(t))}],typeof:[oo,[Hi],(t,[n])=>hs(Fl(n.evaluate(t)))],"to-rgba":[yd(Yn,4),[cp],(t,[n])=>n.evaluate(t).toArray()],rgb:[cp,[Yn,Yn,Yn],oT],rgba:[cp,[Yn,Yn,Yn,Yn],oT],has:{type:qi,overloads:[[[oo],(t,[n])=>aT(n.evaluate(t),t.properties())],[[oo,$g],(t,[n,e])=>aT(n.evaluate(t),e.evaluate(t))]]},get:{type:Hi,overloads:[[[oo],(t,[n])=>uM(n.evaluate(t),t.properties())],[[oo,$g],(t,[n,e])=>uM(n.evaluate(t),e.evaluate(t))]]},"feature-state":[Hi,[oo],(t,[n])=>uM(n.evaluate(t),t.featureState||{})],properties:[$g,[],t=>t.properties()],"geometry-type":[oo,[],t=>t.geometryType()],id:[Hi,[],t=>t.id()],zoom:[Yn,[],t=>t.globals.zoom],pitch:[Yn,[],t=>t.globals.pitch||0],"distance-from-center":[Yn,[],t=>t.distanceFromCenter()],"heatmap-density":[Yn,[],t=>t.globals.heatmapDensity||0],"line-progress":[Yn,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[Yn,[],t=>t.globals.skyRadialProgress||0],accumulated:[Hi,[],t=>t.globals.accumulated===void 0?null:t.globals.accumulated],"+":[Yn,A0(Yn),(t,n)=>{let e=0;for(const r of n)e+=r.evaluate(t);return e}],"*":[Yn,A0(Yn),(t,n)=>{let e=1;for(const r of n)e*=r.evaluate(t);return e}],"-":{type:Yn,overloads:[[[Yn,Yn],(t,[n,e])=>n.evaluate(t)-e.evaluate(t)],[[Yn],(t,[n])=>-n.evaluate(t)]]},"/":[Yn,[Yn,Yn],(t,[n,e])=>n.evaluate(t)/e.evaluate(t)],"%":[Yn,[Yn,Yn],(t,[n,e])=>n.evaluate(t)%e.evaluate(t)],ln2:[Yn,[],()=>Math.LN2],pi:[Yn,[],()=>Math.PI],e:[Yn,[],()=>Math.E],"^":[Yn,[Yn,Yn],(t,[n,e])=>Math.pow(n.evaluate(t),e.evaluate(t))],sqrt:[Yn,[Yn],(t,[n])=>Math.sqrt(n.evaluate(t))],log10:[Yn,[Yn],(t,[n])=>Math.log(n.evaluate(t))/Math.LN10],ln:[Yn,[Yn],(t,[n])=>Math.log(n.evaluate(t))],log2:[Yn,[Yn],(t,[n])=>Math.log(n.evaluate(t))/Math.LN2],sin:[Yn,[Yn],(t,[n])=>Math.sin(n.evaluate(t))],cos:[Yn,[Yn],(t,[n])=>Math.cos(n.evaluate(t))],tan:[Yn,[Yn],(t,[n])=>Math.tan(n.evaluate(t))],asin:[Yn,[Yn],(t,[n])=>Math.asin(n.evaluate(t))],acos:[Yn,[Yn],(t,[n])=>Math.acos(n.evaluate(t))],atan:[Yn,[Yn],(t,[n])=>Math.atan(n.evaluate(t))],min:[Yn,A0(Yn),(t,n)=>Math.min(...n.map(e=>e.evaluate(t)))],max:[Yn,A0(Yn),(t,n)=>Math.max(...n.map(e=>e.evaluate(t)))],abs:[Yn,[Yn],(t,[n])=>Math.abs(n.evaluate(t))],round:[Yn,[Yn],(t,[n])=>{const e=n.evaluate(t);return e<0?-Math.round(-e):Math.round(e)}],floor:[Yn,[Yn],(t,[n])=>Math.floor(n.evaluate(t))],ceil:[Yn,[Yn],(t,[n])=>Math.ceil(n.evaluate(t))],"filter-==":[qi,[oo,Hi],(t,[n,e])=>t.properties()[n.value]===e.value],"filter-id-==":[qi,[Hi],(t,[n])=>t.id()===n.value],"filter-type-==":[qi,[oo],(t,[n])=>t.geometryType()===n.value],"filter-<":[qi,[oo,Hi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r<i}],"filter-id-<":[qi,[Hi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e<r}],"filter->":[qi,[oo,Hi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r>i}],"filter-id->":[qi,[Hi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e>r}],"filter-<=":[qi,[oo,Hi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[qi,[Hi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e<=r}],"filter->=":[qi,[oo,Hi],(t,[n,e])=>{const r=t.properties()[n.value],i=e.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[qi,[Hi],(t,[n])=>{const e=t.id(),r=n.value;return typeof e==typeof r&&e>=r}],"filter-has":[qi,[Hi],(t,[n])=>n.value in t.properties()],"filter-has-id":[qi,[],t=>t.id()!==null&&t.id()!==void 0],"filter-type-in":[qi,[yd(oo)],(t,[n])=>n.value.indexOf(t.geometryType())>=0],"filter-id-in":[qi,[yd(Hi)],(t,[n])=>n.value.indexOf(t.id())>=0],"filter-in-small":[qi,[oo,yd(Hi)],(t,[n,e])=>e.value.indexOf(t.properties()[n.value])>=0],"filter-in-large":[qi,[oo,yd(Hi)],(t,[n,e])=>dde(t.properties()[n.value],e.value,0,e.value.length-1)],all:{type:qi,overloads:[[[qi,qi],(t,[n,e])=>n.evaluate(t)&&e.evaluate(t)],[A0(qi),(t,n)=>{for(const e of n)if(!e.evaluate(t))return!1;return!0}]]},any:{type:qi,overloads:[[[qi,qi],(t,[n,e])=>n.evaluate(t)||e.evaluate(t)],[A0(qi),(t,n)=>{for(const e of n)if(e.evaluate(t))return!0;return!1}]]},"!":[qi,[qi],(t,[n])=>!n.evaluate(t)],"is-supported-script":[qi,[oo],(t,[n])=>{const e=t.globals&&t.globals.isSupportedScript;return e?e(n.evaluate(t)):!0}],upcase:[oo,[oo],(t,[n])=>n.evaluate(t).toUpperCase()],downcase:[oo,[oo],(t,[n])=>n.evaluate(t).toLowerCase()],concat:[oo,A0(Hi),(t,n)=>n.map(e=>pC(e.evaluate(t))).join("")],"resolved-locale":[oo,[N4],(t,[n])=>n.evaluate(t).resolvedLocale()]});var lj=sj;function $6(t){return{result:"success",value:t}}function hg(t){return{result:"error",value:t}}function hde(t){return t["property-type"]==="data-driven"}function fde(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function uj(t){return!!t.expression&&t.expression.interpolated}function g7(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function y7(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function pde(t){return t}function v7(t,n){const e=n.type==="color",r=t.stops&&typeof t.stops[0][0]=="object",i=r||t.property!==void 0,o=r||!i,s=t.type||(uj(n)?"exponential":"interval");if(e&&(t=Fz({},t),t.stops&&(t.stops=t.stops.map(x=>[x[0],Rl.parse(x[1])])),t.default?t.default=Rl.parse(t.default):t.default=Rl.parse(n.default)),t.colorSpace&&t.colorSpace!=="rgb"&&!nj[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let a,f,g;if(s==="exponential")a=sT;else if(s==="interval")a=gde;else if(s==="categorical"){a=mde,f=Object.create(null);for(const x of t.stops)f[x[0]]=x[1];g=typeof t.stops[0][0]}else if(s==="identity")a=yde;else throw new Error(`Unknown function type "${s}"`);if(r){const x={},I=[];for(let L=0;L<t.stops.length;L++){const V=t.stops[L],W=V[0].zoom;x[W]===void 0&&(x[W]={zoom:W,type:t.type,property:t.property,default:t.default,stops:[]},I.push(W)),x[W].stops.push([V[0].value,V[1]])}const B=[];for(const L of I)B.push([x[L].zoom,v7(x[L],n)]);const D={name:"linear"};return{kind:"composite",interpolationType:D,interpolationFactor:dp.interpolationFactor.bind(void 0,D),zoomStops:B.map(L=>L[0]),evaluate({zoom:L},V){return sT({stops:B,base:t.base},n,L).evaluate(L,V)}}}else if(o){const x=s==="exponential"?{name:"exponential",base:t.base!==void 0?t.base:1}:null;return{kind:"camera",interpolationType:x,interpolationFactor:dp.interpolationFactor.bind(void 0,x),zoomStops:t.stops.map(I=>I[0]),evaluate:({zoom:I})=>a(t,n,I,f,g)}}else return{kind:"source",evaluate(x,I){const B=I&&I.properties?I.properties[t.property]:void 0;return B===void 0?K_(t.default,n.default):a(t,n,B,f,g)}}}function K_(t,n,e){if(t!==void 0)return t;if(n!==void 0)return n;if(e!==void 0)return e}function mde(t,n,e,r,i){const o=typeof e===i?r[e]:void 0;return K_(o,t.default,n.default)}function gde(t,n,e){if(g7(e)!=="number")return K_(t.default,n.default);const r=t.stops.length;if(r===1||e<=t.stops[0][0])return t.stops[0][1];if(e>=t.stops[r-1][0])return t.stops[r-1][1];const i=V4(t.stops.map(o=>o[0]),e);return t.stops[i][1]}function sT(t,n,e){const r=t.base!==void 0?t.base:1;if(g7(e)!=="number")return K_(t.default,n.default);const i=t.stops.length;if(i===1||e<=t.stops[0][0])return t.stops[0][1];if(e>=t.stops[i-1][0])return t.stops[i-1][1];const o=V4(t.stops.map(x=>x[0]),e),s=vde(e,r,t.stops[o][0],t.stops[o+1][0]),a=t.stops[o][1],f=t.stops[o+1][1];let g=qz[n.type]||pde;if(t.colorSpace&&t.colorSpace!=="rgb"){const x=nj[t.colorSpace];g=(I,B)=>x.reverse(x.interpolate(x.forward(I),x.forward(B),s))}return typeof a.evaluate=="function"?{evaluate(...x){const I=a.evaluate.apply(void 0,x),B=f.evaluate.apply(void 0,x);if(!(I===void 0||B===void 0))return g(I,B,s)}}:g(a,f,s)}function yde(t,n,e){return n.type==="color"?e=Rl.parse(e):n.type==="formatted"?e=eh.fromString(e.toString()):n.type==="resolvedImage"?e=gp.fromString(e.toString()):g7(e)!==n.type&&(n.type!=="enum"||!n.values[e])&&(e=void 0),K_(e,t.default,n.default)}function vde(t,n,e,r){const i=r-e,o=t-e;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}class Aj{constructor(n,e){this.expression=n,this._warningHistory={},this._evaluator=new zz,this._defaultValue=e?bde(e):null,this._enumValues=e&&e.type==="enum"?e.values:null}evaluateWithoutErrorHandling(n,e,r,i,o,s,a,f){return this._evaluator.globals=n,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=f||null,this.expression.evaluate(this._evaluator)}evaluate(n,e,r,i,o,s,a,f){this._evaluator.globals=n,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=f||null;try{const g=this.expression.evaluate(this._evaluator);if(g==null||typeof g=="number"&&g!==g)return this._defaultValue;if(this._enumValues&&!(g in this._enumValues))throw new bu(`Expected value to be one of ${Object.keys(this._enumValues).map(x=>JSON.stringify(x)).join(", ")}, but found ${JSON.stringify(g)} instead.`);return g}catch(g){return this._warningHistory[g.message]||(this._warningHistory[g.message]=!0,typeof console<"u"&&console.warn(g.message)),this._defaultValue}}}function cj(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in lj}function C3(t,n){const e=new Qz(lj,[],n?_de(n):void 0),r=e.parse(t,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?$6(new Aj(r,n)):hg(e.errors)}class Y6{constructor(n,e){this.kind=n,this._styleExpression=e,this.isStateDependent=n!=="constant"&&!o7(e.expression)}evaluateWithoutErrorHandling(n,e,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,e,r,i,o,s)}evaluate(n,e,r,i,o,s){return this._styleExpression.evaluate(n,e,r,i,o,s)}}class q6{constructor(n,e,r,i){this.kind=n,this.zoomStops=r,this._styleExpression=e,this.isStateDependent=n!=="camera"&&!o7(e.expression),this.interpolationType=i}evaluateWithoutErrorHandling(n,e,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,e,r,i,o,s)}evaluate(n,e,r,i,o,s){return this._styleExpression.evaluate(n,e,r,i,o,s)}interpolationFactor(n,e,r){return this.interpolationType?dp.interpolationFactor(this.interpolationType,n,e,r):0}}function dj(t,n){if(t=C3(t,n),t.result==="error")return t;const e=t.value.expression,r=q4(e);if(!r&&!hde(n))return hg([new Rh("","data expressions not supported")]);const i=a7(e,["zoom","pitch","distance-from-center"]);if(!i&&!fde(n))return hg([new Rh("","zoom expressions not supported")]);const o=Yx(e);if(!o&&!i)return hg([new Rh("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Rh)return hg([o]);if(o instanceof dp&&!uj(n))return hg([new Rh("",'"interpolate" expressions cannot be used with this property')]);if(!o)return $6(r?new Y6("constant",t.value):new Y6("source",t.value));const s=o instanceof dp?o.interpolation:void 0;return $6(r?new q6("camera",t.value,o.labels,s):new q6("composite",t.value,o.labels,s))}class H4{constructor(n,e){this._parameters=n,this._specification=e,Fz(this,v7(this._parameters,this._specification))}static deserialize(n){return new H4(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Cde(t,n){if(y7(t))return new H4(t,n);if(cj(t)){const e=dj(t,n);if(e.result==="error")throw new Error(e.value.map(r=>`${r.key}: ${r.message}`).join(", "));return e.value}else{let e=t;return typeof t=="string"&&n.type==="color"&&(e=Rl.parse(t)),{kind:"constant",evaluate:()=>e}}}function Yx(t){let n=null;if(t instanceof ij)n=Yx(t.result);else if(t instanceof rj){for(const e of t.args)if(n=Yx(e),n)break}else(t instanceof $z||t instanceof dp)&&t.input instanceof ky&&t.input.name==="zoom"&&(n=t);return n instanceof Rh||t.eachChild(e=>{const r=Yx(e);r instanceof Rh?n=r:!n&&r?n=new Rh("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Rh("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function _de(t){const n={color:cp,string:oo,number:Yn,enum:oo,boolean:qi,formatted:G4,resolvedImage:T_};return t.type==="array"?yd(n[t.value]||Hi,t.length):n[t.type]}function bde(t){return t.type==="color"&&(y7(t.default)||Array.isArray(t.default))?new Rl(0,0,0,0):t.type==="color"?Rl.parse(t.default)||null:t.default===void 0?null:t.default}function JC(t){return typeof t=="object"?["literal",t]:t}function xde(t,n){let e=t.stops;if(!e)return wde(t,n);const r=e&&typeof e[0][0]=="object",i=r||t.property!==void 0,o=r||!i;return e=e.map(s=>!i&&n.tokens&&typeof s[1]=="string"?[s[0],Ode(s[1])]:[s[0],JC(s[1])]),r?Mde(t,n,e):o?Ede(t,n,e):V6(t,n,e)}function wde(t,n){const e=["get",t.property];if(t.default===void 0)return n.type==="string"?["string",e]:e;if(n.type==="enum")return["match",e,Object.keys(n.values),e,t.default];{const r=[n.type==="color"?"to-color":n.type,e,JC(t.default)];return n.type==="array"&&r.splice(1,0,n.value,n.length||null),r}}function C7(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Mde(t,n,e){const r={},i={},o=[];for(let a=0;a<e.length;a++){const f=e[a],g=f[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:t.type,property:t.property,default:t.default},i[g]=[],o.push(g)),i[g].push([f[0].value,f[1]])}if(b7({},n)==="exponential"){const a=[C7(t),["linear"],["zoom"]];for(const f of o){const g=V6(r[f],n,i[f]);qg(a,f,g,!1)}return a}else{const a=["step",["zoom"]];for(const f of o){const g=V6(r[f],n,i[f]);qg(a,f,g,!0)}return _7(a),a}}function Sde(t,n){if(t!==void 0)return t;if(n!==void 0)return n}function lT(t,n){const e=JC(Sde(t.default,n.default));return e===void 0&&n.type==="resolvedImage"?"":e}function V6(t,n,e){const r=b7(t,n),i=["get",t.property];if(r==="categorical"&&typeof e[0][0]=="boolean"){const o=["case"];for(const s of e)o.push(["==",i,s[0]],s[1]);return o.push(lT(t,n)),o}else if(r==="categorical"){const o=["match",i];for(const s of e)qg(o,s[0],s[1],!1);return o.push(lT(t,n)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of e)qg(o,s[0],s[1],!0);return _7(o),t.default===void 0?o:["case",["==",["typeof",i],"number"],o,JC(t.default)]}else if(r==="exponential"){const o=t.base!==void 0?t.base:1,s=[C7(t),o===1?["linear"]:["exponential",o],["number",i]];for(const a of e)qg(s,a[0],a[1],!1);return t.default===void 0?s:["case",["==",["typeof",i],"number"],s,JC(t.default)]}else throw new Error(`Unknown property function type ${r}`)}function Ede(t,n,e,r=["zoom"]){const i=b7(t,n);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=t.base!==void 0?t.base:1;o=[C7(t),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of e)qg(o,a[0],a[1],s);return _7(o),o}function _7(t){t[0]==="step"&&t.length===3&&(t.push(0),t.push(t[3]))}function qg(t,n,e,r){t.length>3&&n===t[t.length-2]||(r&&t.length===2||t.push(n),t.push(e))}function b7(t,n){return t.type?t.type:n.expression.interpolated?"exponential":"interval"}function Ode(t){const n=["concat"],e=/{([^{}]+)}/g;let r=0;for(let i=e.exec(t);i!==null;i=e.exec(t)){const o=t.slice(r,e.lastIndex-i[0].length);r=e.lastIndex,o.length>0&&n.push(o),n.push(["get",i[1]])}if(n.length===1)return t;if(r<t.length)n.push(t.slice(r));else if(n.length===2)return["to-string",n[1]];return n}function Bde(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function H6(t){if(Array.isArray(t))return t.map(H6);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const n={};for(const e in t)n[e]=H6(t[e]);return n}return Bde(t)}function x7(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&(typeof t[1]!="string"||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const n of t.slice(1))if(!x7(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function Ide(t,n="fill"){if(t==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};x7(t)||(t=_3(t));const e=t;let r=!0;try{r=kde(e)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(e,null,2)}
        `)}const i=Dz[`filter_${n}`],o=C3(r,i);let s=null;if(o.result==="error")throw new Error(o.value.map(x=>`${x.key}: ${x.message}`).join(", "));s=(x,I,B)=>o.value.evaluate(x,I,{},B);let a=null,f=null;if(r!==e){const x=C3(e,i);if(x.result==="error")throw new Error(x.value.map(I=>`${I.key}: ${I.message}`).join(", "));a=(I,B,D,L,V)=>x.value.evaluate(I,B,{},D,void 0,void 0,L,V),f=!q4(x.value.expression)}s=s;const g=pj(r);return{filter:s,dynamicFilter:a||void 0,needGeometry:g,needFeature:!!f}}function kde(t){if(!Vg(t))return t;let n=H6(t);return fj(n),n=hj(n),n}function hj(t){if(!Array.isArray(t))return t;const n=Pde(t);return n===!0?n:n.map(e=>hj(e))}function fj(t){let n=!1;const e=[];if(t[0]==="case"){for(let r=1;r<t.length-1;r+=2)n=n||Vg(t[r]),e.push(t[r+1]);e.push(t[t.length-1])}else if(t[0]==="match"){n=n||Vg(t[1]);for(let r=2;r<t.length-1;r+=2)e.push(t[r+1]);e.push(t[t.length-1])}else if(t[0]==="step"){n=n||Vg(t[1]);for(let r=1;r<t.length-1;r+=2)e.push(t[r+1])}n&&(t.length=0,t.push("any",...e));for(let r=1;r<t.length;r++)fj(t[r])}function Vg(t){if(!Array.isArray(t))return!1;if(Tde(t[0]))return!0;for(let n=1;n<t.length;n++){const e=t[n];if(Vg(e))return!0}return!1}function Tde(t){return t==="pitch"||t==="distance-from-center"}const Kde=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Pde(t){if(Kde.has(t[0]))for(let n=1;n<t.length;n++){const e=t[n];if(Vg(e))return!0}return t}function Ude(t,n){return t<n?-1:t>n?1:0}function pj(t){if(!Array.isArray(t))return!1;if(t[0]==="within")return!0;for(let n=1;n<t.length;n++)if(pj(t[n]))return!0;return!1}function _3(t){if(!t)return!0;const n=t[0];return t.length<=1?n!=="any":n==="=="?AM(t[1],t[2],"=="):n==="!="?ux(AM(t[1],t[2],"==")):n==="<"||n===">"||n==="<="||n===">="?AM(t[1],t[2],n):n==="any"?Dde(t.slice(1)):n==="all"?["all"].concat(t.slice(1).map(_3)):n==="none"?["all"].concat(t.slice(1).map(_3).map(ux)):n==="in"?uT(t[1],t.slice(2)):n==="!in"?ux(uT(t[1],t.slice(2))):n==="has"?AT(t[1]):n==="!has"?ux(AT(t[1])):n==="within"?t:!0}function AM(t,n,e){switch(t){case"$type":return[`filter-type-${e}`,n];case"$id":return[`filter-id-${e}`,n];default:return[`filter-${e}`,t,n]}}function Dde(t){return["any"].concat(t.map(_3))}function uT(t,n){if(n.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(e=>typeof e!=typeof n[0])?["filter-in-large",t,["literal",n.sort(Ude)]]:["filter-in-small",t,["literal",n]]}}function AT(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function ux(t){return["!",t]}var Fde=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Lde(t,n){const e={};for(const r in t)r!=="ref"&&(e[r]=t[r]);return Fde.forEach(r=>{r in n&&(e[r]=n[r])}),e}function Rde(t){t=t.slice();const n=Object.create(null);for(let e=0;e<t.length;e++)n[t[e].id]=t[e];for(let e=0;e<t.length;e++)"ref"in t[e]&&(t[e]=Lde(t[e],n[t[e].ref]));return t}function zde(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jde={};(function(t){var n=function(){var e=function(W,j,G,ee){for(G=G||{},ee=W.length;ee--;G[W[ee]]=j);return G},r=[1,12],i=[1,13],o=[1,9],s=[1,10],a=[1,11],f=[1,14],g=[1,15],x=[14,18,22,24],I=[18,22],B=[22,24],D={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(j,G,ee,re,se,oe,ue){var me=oe.length-1;switch(se){case 1:this.$=new String(j.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(j),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=oe[me-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=oe[me-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[oe[me-2],oe[me]];break;case 16:this.$={},this.$[oe[me][0]]=oe[me][1];break;case 17:this.$=oe[me-2],oe[me-2][oe[me][0]]=oe[me][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[oe[me]];break;case 21:this.$=oe[me-2],oe[me-2].push(oe[me]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,12:1,13:2,15:7,16:8,17:f,23:g},{1:[3]},{14:[1,16]},e(x,[2,7]),e(x,[2,8]),e(x,[2,9]),e(x,[2,10]),e(x,[2,11]),e(x,[2,12]),e(x,[2,3]),e(x,[2,4]),e(x,[2,5]),e([14,18,21,22,24],[2,1]),e(x,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:23,15:7,16:8,17:f,23:g,24:[1,21],25:22},{1:[2,6]},e(x,[2,13]),{18:[1,24],22:[1,25]},e(I,[2,16]),{21:[1,26]},e(x,[2,18]),{22:[1,28],24:[1,27]},e(B,[2,20]),e(x,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:30,15:7,16:8,17:f,23:g},e(x,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:31,15:7,16:8,17:f,23:g},e(I,[2,17]),e(I,[2,15]),e(B,[2,21])],defaultActions:{16:[2,6]},parseError:function(j,G){if(G.recoverable)this.trace(j);else throw new Error(j)},parse:function(j){var G=this,ee=[0],re=[null],se=[],oe=this.table,ue="",me=0,De=0,Re=2,et=1,ht=se.slice.call(arguments,1),ke=Object.create(this.lexer),Je={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(Je.yy[ve]=this.yy[ve]);ke.setInput(j,Je.yy),Je.yy.lexer=ke,Je.yy.parser=this,typeof ke.yylloc>"u"&&(ke.yylloc={});var ft=ke.yylloc;se.push(ft);var Ft=ke.options&&ke.options.ranges;typeof Je.yy.parseError=="function"?this.parseError=Je.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tn(){var ce;return ce=ke.lex()||et,typeof ce!="number"&&(ce=G.symbols_[ce]||ce),ce}for(var St,Ne,qe,tt,Jt={},dt,ot,Et,Kt;;){if(Ne=ee[ee.length-1],this.defaultActions[Ne]?qe=this.defaultActions[Ne]:((St===null||typeof St>"u")&&(St=tn()),qe=oe[Ne]&&oe[Ne][St]),typeof qe>"u"||!qe.length||!qe[0]){var xe="";Kt=[];for(dt in oe[Ne])this.terminals_[dt]&&dt>Re&&Kt.push("'"+this.terminals_[dt]+"'");ke.showPosition?xe="Parse error on line "+(me+1)+`:
`+ke.showPosition()+`
Expecting `+Kt.join(", ")+", got '"+(this.terminals_[St]||St)+"'":xe="Parse error on line "+(me+1)+": Unexpected "+(St==et?"end of input":"'"+(this.terminals_[St]||St)+"'"),this.parseError(xe,{text:ke.match,token:this.terminals_[St]||St,line:ke.yylineno,loc:ft,expected:Kt})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ne+", token: "+St);switch(qe[0]){case 1:ee.push(St),re.push(ke.yytext),se.push(ke.yylloc),ee.push(qe[1]),St=null,De=ke.yyleng,ue=ke.yytext,me=ke.yylineno,ft=ke.yylloc;break;case 2:if(ot=this.productions_[qe[1]][1],Jt.$=re[re.length-ot],Jt._$={first_line:se[se.length-(ot||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(ot||1)].first_column,last_column:se[se.length-1].last_column},Ft&&(Jt._$.range=[se[se.length-(ot||1)].range[0],se[se.length-1].range[1]]),tt=this.performAction.apply(Jt,[ue,De,me,Je.yy,qe[1],re,se].concat(ht)),typeof tt<"u")return tt;ot&&(ee=ee.slice(0,-1*ot*2),re=re.slice(0,-1*ot),se=se.slice(0,-1*ot)),ee.push(this.productions_[qe[1]][0]),re.push(Jt.$),se.push(Jt._$),Et=oe[ee[ee.length-2]][ee[ee.length-1]],ee.push(Et);break;case 3:return!0}}return!0}},L=function(){var W={EOF:1,parseError:function(G,ee){if(this.yy.parser)this.yy.parser.parseError(G,ee);else throw new Error(G)},setInput:function(j,G){return this.yy=G||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var G=j.match(/(?:\r\n?|\n).*/g);return G?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},unput:function(j){var G=j.length,ee=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===re.length?this.yylloc.first_column:0)+re[re.length-ee.length].length-ee[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(j){this.unput(this.match.slice(j))},pastInput:function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var j=this.pastInput(),G=new Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+G+"^"},test_match:function(j,G){var ee,re,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),re=j[0].match(/(?:\r\n?|\n).*/g),re&&(this.yylineno+=re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:re?re[re.length-1].length-re[re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],ee=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var oe in se)this[oe]=se[oe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var j,G,ee,re;this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),oe=0;oe<se.length;oe++)if(ee=this._input.match(this.rules[se[oe]]),ee&&(!G||ee[0].length>G[0].length)){if(G=ee,re=oe,this.options.backtrack_lexer){if(j=this.test_match(ee,se[oe]),j!==!1)return j;if(this._backtrack){G=!1;continue}else return!1}else if(!this.options.flex)break}return G?(j=this.test_match(G,se[re]),j!==!1?j:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var G=this.next();return G||this.lex()},begin:function(G){this.conditionStack.push(G)},popState:function(){var G=this.conditionStack.length-1;return G>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},pushState:function(G){this.begin(G)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(G,ee,re,se){switch(re){case 0:break;case 1:return 6;case 2:return ee.yytext=ee.yytext.substr(1,ee.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return W}();D.lexer=L;function V(){this.yy={}}return V.prototype=D,D.Parser=V,new V}();typeof zde<"u"&&(t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)})})(jde);const mj={StyleExpression:Aj,isExpression:cj,isExpressionFilter:x7,createExpression:C3,createPropertyExpression:dj,normalizePropertyExpression:Cde,ZoomConstantExpression:Y6,ZoomDependentExpression:q6,StylePropertyFunction:H4},gj={convertFunction:xde,createFunction:v7,isFunction:y7};var yj=typeof Object.assign=="function"?Object.assign:function(t,n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e};function cM(t){return t*Math.PI/180}var py=function(){for(var t=[],n=78271.51696402048;t.length<=24;n/=2)t.push(n);return t}();function vj(t,n){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(t,n);var e=document.createElement("canvas");return e.width=t,e.height=n,e}function Wde(t,n){for(var e=0,r=n.length;e<r;++e){var i=n[e];if(i<t&&e+1<r){var o=n[e]/n[e+1];return e+Math.log(n[e]/t)/Math.log(o)}}return r-1}var Nde=Array(256).join("");function Z6(t,n){if(n>=.05){for(var e="",r=t.split(`
`),i=Nde.slice(0,Math.round(n/.1)),o=0,s=r.length;o<s;++o)o>0&&(e+=`
`),e+=r[o].split("").join(i);return e}return t}var dM;function Cj(){return dM||(dM=vj(1,1).getContext("2d")),dM}function c0(t,n){return Cj().measureText(t).width+(t.length-1)*n}var X6={};T6&&bo(T6,Ii.CLEAR,function(){X6={}});function J6(t,n,e,r){if(t.indexOf(`
`)!==-1){for(var i=t.split(`
`),o=[],s=0,a=i.length;s<a;++s)o.push(J6(i[s],n,e,r));return o.join(`
`)}var f=e+","+n+","+t+","+r,g=X6[f];if(!g){var x=t.split(" ");if(x.length>1){var I=Cj();I.font=n;for(var B=I.measureText("M").width,D=B*e,L="",o=[],s=0,a=x.length;s<a;++s){var V=x[s],W=L+(L?" ":"")+V;c0(W,r)<=D?L=W:(L&&o.push(L),L=V)}L&&o.push(L);for(var s=0,a=o.length;s<a&&a>1;++s){var j=o[s];if(c0(j,r)<D*.35){var G=s>0?c0(o[s-1],r):1/0,ee=s<a-1?c0(o[s+1],r):1/0;o.splice(s,1),a-=1,G<ee?(o[s-1]+=" "+j,s-=1):o[s]=j+" "+o[s]}}for(var s=0,a=o.length-1;s<a;++s){var re=o[s],se=o[s+1];if(c0(re,r)>D*.7&&c0(se,r)<D*.6){var oe=re.split(" "),ue=oe.pop();c0(ue,r)<D*.2&&(o[s]=oe.join(" "),o[s+1]=ue+" "+se),a-=1}}g=o.join(`
`)}else g=t;g=Z6(g,r),X6[f]=g}return g}var Gde=gj.isFunction,Qde=gj.convertFunction,$de=mj.isExpression,Yde=mj.createPropertyExpression,qde={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Vde={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Hde=function(t,n){var e=Yde(t,n);if(e.result==="error")throw new Error(e.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return e.value},eE={},b3={zoom:0},Ax,hM;function wi(t,n,e,r,i,o){var s=t.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});var a=o[s];if(!a[e]){var f=(t[n]||eE)[e],g=Dz["".concat(n,"_").concat(t.type)][e];f===void 0&&(f=g.default);var x=$de(f);if(!x&&Gde(f)&&(f=Qde(f,g),x=!0),x){var I=Hde(f,g);a[e]=I.evaluate.bind(I)}else g.type=="color"&&(f=Rl.parse(f)),a[e]=function(){return f}}return b3.zoom=r,a[e](b3,i)}function Zde(t,n,e,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),t in i||(i[t]=Ide(n).filter),b3.zoom=r,i[t](b3,e)}function Zp(t,n){if(t){if(t.a===0||n===0)return;var e=t.a;return n=n===void 0?1:n,e===0?"transparent":"rgba("+Math.round(t.r*255/e)+","+Math.round(t.g*255/e)+","+Math.round(t.b*255/e)+","+e*n+")"}return t}var Xde=/^([^]*)\{(.*)\}([^]*)$/;function fM(t,n){var e;do if(e=t.match(Xde),e){var r=n[e[2]]||"";t=e[1]+r+e[3]}while(e);return t}function Jde(t,n,e,r,i,o,s){if(r===void 0&&(r=py),typeof n=="string"&&(n=JSON.parse(n)),n.version!=8)throw new Error("glStyle version 8 required.");var a,f;if(o){if(typeof Image<"u"){var g=new Image;g.crossOrigin="anonymous",g.onload=function(){a=g,f=[g.width,g.height],t.changed(),g.onload=null},g.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var x=self;x.postMessage({action:"loadImage",src:o}),x.addEventListener("message",function(ft){ft.data.action==="imageLoaded"&&ft.data.src===o&&(a=ft.data.image,f=[a.width,a.height])})}}for(var I=Rde(n.layers),B={},D=[],L={},V={},W={},j={},G,ee=0,re=I.length;ee<re;++ee){var se=I[ee],oe=se.id;if(typeof e=="string"&&se.source==e||e.indexOf(oe)!==-1){var ue=se["source-layer"];if(!G){G=se.source;var me=n.sources[G];if(!me)throw new Error('Source "'.concat(G,'" is not defined'));var De=me.type;if(De!=="vector"&&De!=="geojson")throw new Error('Source "'.concat(G,'" is not of type "vector" or "geojson", but "').concat(De,'"'))}var Re=B[ue];Re||(Re=[],B[ue]=Re),Re.push({layer:se,index:ee}),D.push(oe)}}var et=new Fv,ht=new wg,ke=[],Je=function(ve,ft){var Ft=ve.getProperties(),tn=B[Ft.layer];if(tn){var St=r.indexOf(ft);St==-1&&(St=Wde(ft,r));for(var Ne=qde[ve.getGeometry().getType()],qe={properties:Ft,type:Ne},tt=-1,Jt=function(Et,Kt){var xe=tn[Et],ce=xe.layer,_e=ce.id,Ke=ce.layout||eE,Ve=ce.paint||eE;if(Ke.visibility==="none"||"minzoom"in ce&&St<ce.minzoom||"maxzoom"in ce&&St>=ce.maxzoom)return"continue";var Ze=ce.filter;if(!Ze||Zde(_e,Ze,qe,St,j)){var bt=void 0,Gt=void 0,Lt=void 0,Un=void 0,rr=void 0,qt=void 0,$n=xe.index;if(Ne==3&&(ce.type=="fill"||ce.type=="fill-extrusion"))if(Gt=wi(ce,"paint",ce.type+"-opacity",St,qe,W),ce.type+"-pattern"in Ve){var lr=wi(ce,"paint",ce.type+"-pattern",St,qe,W);if(lr){var gr=typeof lr=="string"?fM(lr,Ft):lr.toString();if(a&&i&&i[gr]){++tt,qt=ke[tt],(!qt||!qt.getFill()||qt.getStroke()||qt.getText())&&(qt=new y0({fill:new wg}),ke[tt]=qt),Lt=qt.getFill(),qt.setZIndex($n);var Mr=gr+"."+Gt,Dr=V[Mr];if(!Dr){var ur=i[gr],yi=vj(ur.width,ur.height),be=yi.getContext("2d");be.globalAlpha=Gt,be.drawImage(a,ur.x,ur.y,ur.width,ur.height,0,0,ur.width,ur.height),Dr=be.createPattern(yi,"repeat"),V[Mr]=Dr}Lt.setColor(Dr)}}}else bt=Zp(wi(ce,"paint",ce.type+"-color",St,qe,W),Gt),ce.type+"-outline-color"in Ve&&(rr=Zp(wi(ce,"paint",ce.type+"-outline-color",St,qe,W),Gt)),rr||(rr=bt),(bt||rr)&&(++tt,qt=ke[tt],(!qt||bt&&!qt.getFill()||!bt&&qt.getFill()||rr&&!qt.getStroke()||!rr&&qt.getStroke()||qt.getText())&&(qt=new y0({fill:bt?new wg:void 0,stroke:rr?new Fv:void 0}),ke[tt]=qt),bt&&(Lt=qt.getFill(),Lt.setColor(bt)),rr&&(Un=qt.getStroke(),Un.setColor(rr),Un.setWidth(.5)),qt.setZIndex($n));if(Ne!=1&&ce.type=="line"){bt=!("line-pattern"in Ve)&&"line-color"in Ve?Zp(wi(ce,"paint","line-color",St,qe,W),wi(ce,"paint","line-opacity",St,qe,W)):void 0;var z=wi(ce,"paint","line-width",St,qe,W);bt&&z>0&&(++tt,qt=ke[tt],(!qt||!qt.getStroke()||qt.getFill()||qt.getText())&&(qt=new y0({stroke:new Fv}),ke[tt]=qt),Un=qt.getStroke(),Un.setLineCap(wi(ce,"layout","line-cap",St,qe,W)),Un.setLineJoin(wi(ce,"layout","line-join",St,qe,W)),Un.setMiterLimit(wi(ce,"layout","line-miter-limit",St,qe,W)),Un.setColor(bt),Un.setWidth(z),Un.setLineDash(Ve["line-dasharray"]?wi(ce,"paint","line-dasharray",St,qe,W).map(function(Ni){return Ni*z}):null),qt.setZIndex($n))}var q=!1,Oe=null,st=0,ct=void 0,wt=void 0,Vn=void 0;if((Ne==1||Ne==2)&&"icon-image"in Ke){var qn=wi(ce,"layout","icon-image",St,qe,W);if(qn){ct=typeof qn=="string"?fM(qn,Ft):qn.toString();var Qr=void 0;if(a&&i&&i[ct]){var It=wi(ce,"layout","icon-rotation-alignment",St,qe,W);if(Ne==2){var p=ve.getGeometry();if(p.getFlatMidpoint||p.getFlatMidpoints){var Pt=p.getExtent(),yr=Math.sqrt(Math.max(Math.pow((Pt[2]-Pt[0])/ft,2),Math.pow((Pt[3]-Pt[1])/ft,2)));if(yr>150){var Jn=p.getType()==="MultiLineString"?p.getFlatMidpoints():p.getFlatMidpoint();hM||(Ax=[NaN,NaN],hM=new k6("Point",Ax,[],{},null)),Qr=hM,Ax[0]=Jn[0],Ax[1]=Jn[1];var un=wi(ce,"layout","symbol-placement",St,qe,W);if(un==="line"&&It==="map")for(var pr=p.getStride(),Zr=p.getFlatCoordinates(),ki=0,Ai=Zr.length-pr;ki<Ai;ki+=pr){var Fr=Zr[ki],Wr=Zr[ki+1],Zi=Zr[ki+pr],Wi=Zr[ki+pr+1],da=Math.min(Fr,Zi),zo=Math.min(Wr,Wi),os=Math.max(Fr,Zi),_a=Math.max(Wr,Wi);if(Jn[0]>=da&&Jn[0]<=os&&Jn[1]>=zo&&Jn[1]<=_a){st=Math.atan2(Wr-Wi,Zi-Fr);break}}}}}if(Ne!==2||Qr){var Pe=wi(ce,"layout","icon-size",St,qe,W),ie=Ve["icon-color"]!==void 0?wi(ce,"paint","icon-color",St,qe,W):null;if(!ie||ie.a!==0){var Mr=ct+"."+Pe;if(ie!==null&&(Mr+="."+ie),wt=L[Mr],!wt){var he=i[ct];wt=new lz({color:ie?[ie.r*255,ie.g*255,ie.b*255,ie.a]:void 0,img:a,imgSize:f,size:[he.width,he.height],offset:[he.x,he.y],rotateWithView:It==="map",scale:Pe/he.pixelRatio,displacement:"icon-offset"in Ke?wi(ce,"layout","icon-offset",St,qe,W).map(function(Xi){return-Xi*he.pixelRatio}):void 0}),L[Mr]=wt}}wt&&(++tt,qt=ke[tt],(!qt||!qt.getImage()||qt.getFill()||qt.getStroke())&&(qt=new y0,ke[tt]=qt),qt.setGeometry(Qr),wt.setRotation(st+cM(wi(ce,"layout","icon-rotate",St,qe,W))),wt.setOpacity(wi(ce,"paint","icon-opacity",St,qe,W)),wt.setAnchor(Vde[wi(ce,"layout","icon-anchor",St,qe,W)]),qt.setImage(wt),Oe=qt.getText(),qt.setText(void 0),qt.setZIndex($n),q=!0,Vn=!1)}else Vn=!0}}}if(Ne==1&&ce.type==="circle"){++tt,qt=ke[tt],(!qt||!qt.getImage()||qt.getFill()||qt.getStroke())&&(qt=new y0,ke[tt]=qt);var Ee="circle-radius"in Ve?wi(ce,"paint","circle-radius",St,qe,W):5,Te=Zp(wi(ce,"paint","circle-stroke-color",St,qe,W),wi(ce,"paint","circle-stroke-opacity",St,qe,W)),Qe=Zp(wi(ce,"paint","circle-color",St,qe,W),wi(ce,"paint","circle-opacity",St,qe,W)),rt=wi(ce,"paint","circle-stroke-width",St,qe,W),Xe=Ee+"."+Te+"."+Qe+"."+rt;wt=L[Xe],wt||(wt=new rz({radius:Ee,stroke:Te&&rt>0?new Fv({width:rt,color:Te}):void 0,fill:Qe?new wg({color:Qe}):void 0}),L[Xe]=wt),qt.setImage(wt),Oe=qt.getText(),qt.setText(void 0),qt.setGeometry(void 0),qt.setZIndex($n),q=!0}var Ge=void 0,ut=void 0,Tt,nn,Dt,wn;if("text-field"in Ke){nn=Math.round(wi(ce,"layout","text-size",St,qe,W));var Kn=wi(ce,"layout","text-font",St,qe,W);Tt=wi(ce,"layout","text-line-height",St,qe,W),ut=R6(s?s(Kn):Kn,nn,Tt),Dt=wi(ce,"layout","text-letter-spacing",St,qe,W),wn=wi(ce,"layout","text-max-width",St,qe,W);var xn=wi(ce,"layout","text-field",St,qe,W);typeof xn=="object"&&xn.sections?xn.sections.length===1?Ge=xn.toString():Ge=xn.sections.reduce(function(Ni,Xi,ba){var Mu=Xi.fontStack?Xi.fontStack.split(","):Kn,kr=R6(s?s(Mu):Mu,nn*(Xi.scale||1),Tt),Ns=Xi.text;if(Ns===`
`)return Ni.push(`
`,""),Ni;if(Ne==2){Ni.push(Z6(Ns,Dt),kr);return}Ns=J6(Ns,kr,wn,Dt).split(`
`);for(var bl=0,Gs=Ns.length;bl<Gs;++bl)bl>0&&Ni.push(`
`,""),Ni.push(Ns[bl],kr);return Ni},[]):Ge=fM(xn,Ft).trim(),Gt=wi(ce,"paint","text-opacity",St,qe,W)}if(Ge&&Gt&&!Vn){q||(++tt,qt=ke[tt],(!qt||!qt.getText()||qt.getFill()||qt.getStroke())&&(qt=new y0,ke[tt]=qt),qt.setImage(void 0),qt.setGeometry(void 0)),qt.getText()||qt.setText(Oe||new vle({padding:[2,2,2,2]})),Oe=qt.getText();var Zn=Ke["text-transform"];Zn=="uppercase"?Ge=Array.isArray(Ge)?Ge.map(function(Xi,ba){return ba%2?Xi:Xi.toUpperCase()}):Ge.toUpperCase():Zn=="lowercase"&&(Ge=Array.isArray(Ge)?Ge.map(function(Xi,ba){return ba%2?Xi:Xi.toLowerCase()}):Ge.toLowerCase());var Cr=Array.isArray(Ge)?Ge:Ne==2?Z6(Ge,Dt):J6(Ge,ut,wn,Dt);Oe.setText(Cr),Oe.setFont(ut),Oe.setRotation(cM(wi(ce,"layout","text-rotate",St,qe,W)));var qr=wi(ce,"layout","text-anchor",St,qe,W),un=q||Ne==1?"point":wi(ce,"layout","symbol-placement",St,qe,W);Oe.setPlacement(un),Oe.setOverflow(un==="point");var In=wi(ce,"paint","text-halo-width",St,qe,W),dn=wi(ce,"layout","text-offset",St,qe,W),Lr=wi(ce,"paint","text-translate",St,qe,W),Xr=0,Oi=0;if(un=="point"){var ge="center";qr.indexOf("left")!==-1?(ge="left",Oi=In):qr.indexOf("right")!==-1&&(ge="right",Oi=-In),Oe.setTextAlign(ge);var je=wi(ce,"layout","text-rotation-alignment",St,qe,W);Oe.setRotateWithView(je=="map")}else Oe.setMaxAngle(cM(wi(ce,"layout","text-max-angle",St,qe,W))*Ge.length/Cr.length),Oe.setTextAlign(),Oe.setRotateWithView(!1);var Yt="middle";qr.indexOf("bottom")==0?(Yt="bottom",Xr=-In-.5*(Tt-1)*nn):qr.indexOf("top")==0&&(Yt="top",Xr=In+.5*(Tt-1)*nn),Oe.setTextBaseline(Yt),Oe.setOffsetX(dn[0]*nn+Oi+Lr[0]),Oe.setOffsetY(dn[1]*nn+Xr+Lr[1]),ht.setColor(Zp(wi(ce,"paint","text-color",St,qe,W),Gt)),Oe.setFill(ht);var hn=Zp(wi(ce,"paint","text-halo-color",St,qe,W),Gt);if(hn){et.setColor(hn),In*=2;var Ct=.5*nn;et.setWidth(In<=Ct?In:Ct),Oe.setStroke(et)}else Oe.setStroke(void 0);var Cn=wi(ce,"layout","text-padding",St,qe,W),ti=Oe.getPadding();Cn!==ti[0]&&(ti[0]=Cn,ti[1]=Cn,ti[2]=Cn,ti[3]=Cn),qt.setZIndex($n)}}},dt=0,ot=tn.length;dt<ot;++dt)Jt(dt);if(tt>-1)return ke.length=tt+1,ke}};return t.setStyle(Je),t.set("mapbox-source",G),t.set("mapbox-layers",D),Je}var _j={exports:{}};(function(){var t;_j.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return t},getLink:function(n){return"https://fonts.google.com/specimen/"+n.replace(/( )/g,"+")},normalizeName:function(n){return n}},t=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(tf);var ehe=_j.exports;const the=Qo(ehe);var cT={},nhe=/font-family: ?([^;]*);/,rhe=/("|')/g,cx;function ihe(t){if(!cx){cx={};for(var n=document.styleSheets,e=0,r=n.length;e<r;++e){var i=n[e];try{var o=i.rules||i.cssRules;if(o)for(var s=0,a=o.length;s<a;++s){var f=o[s];if(f.type==5){var g=f.cssText.match(nhe);cx[g[1].replace(rhe,"")]=!0}}}catch{}}}return t in cx}var dT={},ohe=the.getNames();function ahe(t){var n=t.toString();if(n in dT)return t;for(var e=t.map(function(g){var x=R6(g,1).split(" ");return[x.slice(3).join(" ").replace(/"/g,""),x[1]+x[0]]}),r=0,i=e.length;r<i;++r){var o=e[r],s=o[0];if(!ihe(s)&&ohe.indexOf(s)!==-1){var a="https://fonts.googleapis.com/css?family="+s.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+a+'"]')){var f=document.createElement("link");f.href=a,f.rel="stylesheet",document.head.appendChild(f)}}}return dT[n]=!0,t}var bj=/^(.*)(\?.*)$/;function x3(t,n){return n&&t.indexOf(".")===0&&(t=n+t),t}function pM(t,n,e){t=x3(t,n);var r=t.match(bj);return r?r[1]+e+(r.length>2?r[2]:""):t+e}function she(t,n,e,r,i){return new Promise(function(o,s){if(typeof n!="object"&&(n=JSON.parse(n)),n.version!=8)return s(new Error("glStyle version 8 required."));if(!(t instanceof fz||t instanceof Pz))return s(new Error("Can only apply to VectorLayer or VectorTileLayer"));var a,f,g,x;function I(){!x&&(!n.sprite||f)?(x=Jde(t,n,e,i,f,g,ahe),t.getStyle()?o():s(new Error("Nothing to show for source [".concat(e,"]")))):x?(t.setStyle(x),o()):s(new Error("Something went wrong trying to apply style."))}if(n.sprite){a=window.devicePixelRatio>=1.5?.5:1;var B=a==.5?"@2x":"",D=pM(n.sprite,r,B+".json");fetch(D,{credentials:"same-origin"}).then(function(L){return!L.ok&&B!==""?(D=pM(n.sprite,r,".json"),fetch(D,{credentials:"same-origin"})):L}).then(function(L){if(L.ok)return L.json();s(new Error("Problem fetching sprite from ".concat(D,": ").concat(L.statusText)))}).then(function(L){if(L===void 0)return s(new Error("No sprites found."));f=L,g=pM(n.sprite,r,B+".png"),I()}).catch(function(L){s(new Error("Sprites cannot be loaded: ".concat(D,": ").concat(L.message)))})}else I()})}var tE={};function lhe(t,n){var e={id:n.id,type:n.type},r={};function i(o){var s=n.layout||{},a=n.paint||{};e.paint=a;var f=typeof t.getSource=="function"?t.getSource().getTileGrid().getZForResolution(o):t.getView().getZoom(),g=typeof t.getTargetElement=="function"?t.getTargetElement():void 0,x,I;if(a["background-color"]!==void 0&&(x=wi(e,"paint","background-color",f,tE,r),g&&(g.style.background=Rl.parse(x).toString())),a["background-opacity"]!==void 0&&(I=wi(e,"paint","background-opacity",f,tE,r),g&&(g.style.opacity=I)),s.visibility=="none"){g&&(g.style.backgroundColor="",g.style.opacity="");return}return Zp(x,I)}if(typeof t.getTargetElement=="function")t.getTargetElement()&&i(),t.on(["change:resolution","change:target"],i);else if(typeof t.setBackground=="function")t.setBackground(i);else throw new Error("Unable to apply background.")}function uhe(t,n){var e;return t.some(function(r){if(r.id==n)return e=r.source,!0}),e}function xj(t){var n=t.bounds;if(n){var e=x6([n[0],n[1]]),r=x6([n[2],n[3]]);return[e[0],e[1],r[0],r[1]]}}function Ahe(t,n){t=yj({},t);var e=[n,JSON.stringify(t)].toString(),r=cT[e];return r||(r=new Tz({url:t.tiles?void 0:n,tileJSON:t.tiles?t:void 0}),cT[e]=r),new Promise(function(i){var o=r.on("change",function(){var s=r.getState();if(s==="ready"){var a=r.getTileJSON(),f=Array.isArray(a.tiles)?a.tiles:[a.tiles];if(n)for(var g=0,x=f.length;g<x;++g)f[g]=decodeURI(new URL(f[g],n).href);var I=r.getTileGrid(),B=xj(a),D=a.minzoom||0,L=a.maxzoom||22,V=r.get("ol-source");V===void 0&&(V=new Uz({attributions:r.getAttributions(),format:new foe,tileGrid:new k_({origin:I.getOrigin(0),extent:B||I.getExtent(),minZoom:D,resolutions:py.slice(0,L+1),tileSize:512}),urls:f}),r.set("ol-source",V)),RC(o),i(V)}else s==="error"&&(r.set("ol-source",null),RC(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function che(t,n){var e=new Pz({declutter:!0,visible:!1});return Ahe(t,n).then(function(r){e.setSource(r)}),e}function dhe(t,n){var e=new Due,r=new Tz({transition:0,url:t.tiles?void 0:n,tileJSON:t.tiles?t:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){RC(i);var s=r.getTileJSON(),a=xj(s),f=r.getTileGrid(),g=t.tileSize||s.tileSize||512,x=s.minzoom||0,I=s.maxzoom||22;r.tileGrid=new k_({origin:f.getOrigin(0),extent:a||f.getExtent(),minZoom:x,resolutions:qB({maxZoom:I,tileSize:g}).getResolutions(),tileSize:g}),e.setSource(r)}else o==="error"&&(RC(i),e.setSource(void 0))});return r.setTileLoadFunction(function(o,s){if(s.indexOf("{bbox-epsg-3857}")!=-1){var a=r.getTileGrid().getTileCoordExtent(o.getTileCoord());s=s.replace("{bbox-epsg-3857}",a.toString())}var f=o.getImage();f.src=s}),e}var hT=new Eie;function hhe(t,n){var e=t.data,r,i;return typeof e=="string"?i=x3(e,n):r=hT.readFeatures(e,{featureProjection:"EPSG:3857"}),new fz({declutter:!0,source:new yz({attributions:t.attribution,features:r,format:hT,url:i}),visible:!1})}function fT(t,n,e,r){var i=e.getZoom(),o=wi(t,"paint","raster-opacity",i,tE,r);n.setOpacity(o)}function pT(t,n,e,r,i,o){o===void 0&&(o="");var s=[],a=n.getView();!a.isDef()&&!a.getRotation()&&!a.getResolutions()&&(a=new tp(yj(a.getProperties(),{maxResolution:py[0]})),n.setView(a)),"center"in t&&!a.getCenter()&&a.setCenter(x6(t.center)),"zoom"in t&&a.getZoom()===void 0&&a.setResolution(py[0]/Math.pow(2,t.zoom)),(!a.getCenter()||a.getZoom()===void 0)&&a.fit(a.getProjection().getExtent(),{nearest:!0,size:n.getSize()}),t.sprite&&(t.sprite.indexOf("mapbox://")==0?t.sprite=e+"/sprite"+o:t.sprite.indexOf("http")!=0&&(t.sprite=(r?r+i:"")+t.sprite+o));for(var f=t.layers,g=[],x,I,B,D,L,V,W=function(re,se){x=f[re];var oe=x.type;if(!(oe=="heatmap"||oe=="hillshade"))if(oe=="background")lhe(n,x);else{if(D=x.source||uhe(f,x.ref),D!=B){if(g.length&&(s.push(mT(L,g,t,i,n)),g=[]),I=t.sources[D],V=I.url,V)if(V=x3(V,i),V.indexOf("mapbox://")==0){var ue=V.replace("mapbox://","");I.tiles=["a","b","c","d"].map(function(De){return"https://"+De+".tiles.mapbox.com/v4/"+ue+"/{z}/{x}/{y}."+(I.type=="vector"?"vector.pbf":"png")+o})}else V.indexOf("/")===0&&r.indexOf("http")===0&&(V=r+V);if(I.tiles&&(I.tiles=I.tiles.map(function(De){return x3(De,i)})),I.type=="vector")L=che(I,V);else if(I.type=="raster"){L=dhe(I,V),L.setVisible(x.layout?x.layout.visibility!=="none":!0);var me={};a.on("change:resolution",fT.bind(j,x,L,a,me)),fT(x,L,a,me)}else I.type=="geojson"&&(L=hhe(I,i));B=D,L&&L.set("mapbox-source",B)}g.push(x.id)}},j=this,G=0,ee=f.length;G<ee;++G)W(G);return s.push(mT(L,g,t,i,n)),n.set("mapbox-style",t),Promise.all(s)}function fhe(t,n){var e,r="",i="",o="",s="";if((typeof t=="string"||t instanceof HTMLElement)&&(t=new $B({target:t})),typeof n=="string"){var a=n.match(bj);a&&(i=a[1],r=a.length>2?a[2]:""),e=new Promise(function(f,g){fetch(n,{credentials:"same-origin"}).then(function(x){return x.json()}).then(function(x){var I=document.createElement("A");I.href=n;var B=I.href;s=I.pathname.split("/").slice(0,-1).join("/")+"/",o=B.substr(0,B.indexOf(s)),pT(x,t,i,o,s,r).then(function(){f(t)}).catch(g)}).catch(function(x){g(new Error("Could not load ".concat(n,": ").concat(x.message)))})})}else e=new Promise(function(f,g){pT(n,t).then(function(){f(t)}).catch(g)});return e}function phe(t,n){return(typeof t=="string"||t instanceof HTMLElement)&&(t=new $B({target:t})),setTimeout(function(){fhe(t,n)},0),t}function mT(t,n,e,r,i){for(var o=24,s=0,a=e.layers,f=0,g=a.length;f<g;++f){var x=a[f];n.indexOf(x.id)!==-1&&(o=Math.min("minzoom"in x?x.minzoom:0,o),s=Math.max("maxzoom"in x?x.maxzoom:24,s))}return new Promise(function(I,B){var D=function(){var L=t.getSource();if(!L||L.getState()==="error"){B(new Error("Error accessing data for source "+t.get("mapbox-source")));return}if("getTileGrid"in L){var V=L.getTileGrid();if(V){var W=V.getMinZoom();(o>0||W>0)&&t.setMaxResolution(Math.min(py[o],V.getResolution(W))+1e-9),s<24&&t.setMinResolution(py[s]+1e-9)}}L instanceof yz||L instanceof Uz?she(t,e,n,r).then(function(){t.setVisible(!0),I()},function(j){B(j)}):I()};t.set("mapbox-layers",n),i.getLayers().getArray().indexOf(t)===-1&&i.addLayer(t),t.getSource()?D():t.once("change:source",D)})}function wr(){var t="/workspaces/maputnik/src/components/MapOpenLayers.tsx",n="56a3ec587e879dacdce8f2147964e7eda63759f0",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:14,column:3}},1:{start:{line:11,column:4},end:{line:11,column:16}},2:{start:{line:13,column:4},end:{line:13,column:149}},3:{start:{line:13,column:103},end:{line:13,column:133}},4:{start:{line:17,column:24},end:{line:24,column:3}},5:{start:{line:27,column:14},end:{line:27,column:18}},6:{start:{line:29,column:19},end:{line:29,column:23}},7:{start:{line:31,column:4},end:{line:31,column:17}},8:{start:{line:32,column:4},end:{line:37,column:6}},9:{start:{line:38,column:4},end:{line:38,column:67}},10:{start:{line:41,column:4},end:{line:42,column:13}},11:{start:{line:42,column:6},end:{line:42,column:13}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:4},end:{line:169,column:9}},36:{start:{line:116,column:22},end:{line:116,column:45}},37:{start:{line:161,column:22},end:{line:161,column:40}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:9,column:9},end:{line:9,column:21}},loc:{start:{line:9,column:30},end:{line:15,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:92},end:{line:13,column:93}},loc:{start:{line:13,column:103},end:{line:13,column:133}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:23},end:{line:19,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:20,column:18},end:{line:20,column:19}},loc:{start:{line:20,column:24},end:{line:21,column:5}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:25},end:{line:23,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:21},end:{line:39,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:28},end:{line:45,column:3}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:170,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:116,column:15},end:{line:116,column:16}},loc:{start:{line:116,column:22},end:{line:116,column:45}},line:116},15:{name:"(anonymous_15)",decl:{start:{line:161,column:15},end:{line:161,column:16}},loc:{start:{line:161,column:22},end:{line:161,column:40}},line:161}},branchMap:{0:{loc:{start:{line:10,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:14,column:3}},{start:{line:12,column:9},end:{line:14,column:3}}],line:10},1:{loc:{start:{line:10,column:6},end:{line:10,column:34}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:13}},{start:{line:10,column:17},end:{line:10,column:34}}],line:10},2:{loc:{start:{line:41,column:4},end:{line:42,column:13}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:132,column:26},end:{line:132,column:59}},type:"binary-expr",locations:[{start:{line:132,column:26},end:{line:132,column:53}},{start:{line:132,column:57},end:{line:132,column:59}}],line:132},5:{loc:{start:{line:143,column:6},end:{line:156,column:10}},type:"binary-expr",locations:[{start:{line:143,column:6},end:{line:143,column:29}},{start:{line:143,column:49},end:{line:156,column:10}}],line:143}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAkBW,cAuIL,YAvIK;AAlBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AAEvB,OAAO,6BAA6B;AAEpC,OAAO;AACP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK;AAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAA+B;AAChD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAW;AAAA,gBACZ;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBAAmB;AAAA;AAAA,QACzB,KAAK,MAAM;AAAA,SACpB;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,wBAAU;AAAA,UACjB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAW;AAAA,UACX,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"56a3ec587e879dacdce8f2147964e7eda63759f0"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return wr=function(){return s},s}wr();function gT(t){return wr().f[0]++,wr().s[0]++,wr().b[1][0]++,!t||(wr().b[1][1]++,t.length<2)?(wr().b[0][0]++,wr().s[1]++,null):(wr().b[0][1]++,wr().s[2]++,N.jsx("span",{className:"maputnik-coords",children:t.map(n=>(wr().f[1]++,wr().s[3]++,String(n).padStart(7,""))).join(", ")}))}class wj extends gn.Component{constructor(e){wr().f[5]++,wr().s[7]++;super(e);rn(this,"updateStyle");rn(this,"map");rn(this,"container",(wr().s[5]++,null));rn(this,"overlay");rn(this,"popupContainer",(wr().s[6]++,null));rn(this,"closeOverlay",(wr().s[32]++,e=>{wr().f[12]++,wr().s[33]++,e.target.blur(),wr().s[34]++,this.overlay.setPosition(void 0)}));wr().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},wr().s[9]++,this.updateStyle=g4.throttle(this._updateStyle.bind(this),200)}_updateStyle(e){if(wr().f[6]++,wr().s[10]++,this.map)wr().b[2][1]++;else{wr().b[2][0]++,wr().s[11]++;return}wr().s[12]++,this.map.getLayers().clear(),wr().s[13]++,phe(this.map,e)}componentDidUpdate(e){wr().f[7]++,wr().s[14]++,this.props.mapStyle!==e.mapStyle?(wr().b[3][0]++,wr().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):wr().b[3][1]++}componentDidMount(){wr().f[8]++,wr().s[16]++,this.overlay=new Bae({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const e=(wr().s[17]++,new $B({target:this.container,overlays:[this.overlay],view:new tp({zoom:1,center:[180,-90]})}));wr().s[18]++,e.on("pointermove",i=>{wr().f[9]++;const o=(wr().s[19]++,Rw(i.coordinate));wr().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),wr().s[21]++;const r=()=>{wr().f[10]++;const i=(wr().s[22]++,e.getView().getZoom()),o=(wr().s[23]++,Rw(e.getView().getCenter()));wr().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};wr().s[25]++,r(),wr().s[26]++,e.on("moveend",r),wr().s[27]++,e.on("postrender",i=>{wr().f[11]++;const o=(wr().s[28]++,Rw(e.getView().getCenter()));wr().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:e.getView().getRotation().toFixed(2),zoom:e.getView().getZoom().toFixed(2)})}),wr().s[30]++,this.map=e,wr().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){return wr().f[13]++,wr().s[35]++,N.jsxs("div",{className:"maputnik-ol-container",children:[N.jsxs("div",{ref:e=>(wr().f[14]++,wr().s[36]++,this.popupContainer=e),style:{background:"black"},className:"maputnik-popup",children:[N.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":"Close popup",children:""}),N.jsx(NL,{features:(wr().b[4][0]++,this.state.selectedFeatures||(wr().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),N.jsxs("div",{className:"maputnik-ol-zoom",children:["Zoom: ",this.state.zoom]}),(wr().b[5][0]++,this.props.debugToolbox&&(wr().b[5][1]++,N.jsxs("div",{className:"maputnik-ol-debug",children:[N.jsxs("div",{children:[N.jsx("label",{children:"cursor: "}),N.jsx("span",{children:gT(this.state.cursor)})]}),N.jsxs("div",{children:[N.jsx("label",{children:"center: "}),N.jsx("span",{children:gT(this.state.center)})]}),N.jsxs("div",{children:[N.jsx("label",{children:"rotation: "}),N.jsx("span",{children:this.state.rotation})]})]}))),N.jsx("div",{className:"maputnik-ol",ref:e=>(wr().f[15]++,wr().s[37]++,this.container=e),role:"region","aria-label":"Map view",style:{...this.props.style}})]})}}rn(wj,"defaultProps",(wr().s[4]++,{onMapLoaded:()=>{wr().f[2]++},onDataChange:()=>{wr().f[3]++},onLayerSelect:()=>{wr().f[4]++}}));function w0(){var t="/workspaces/maputnik/src/components/Collapser.tsx",n="51b55923680004689cc9a3703d36a9eb7822278c",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"51b55923680004689cc9a3703d36a9eb7822278c"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return w0=function(){return s},s}w0();class mhe extends gn.Component{render(){w0().f[0]++;const n=(w0().s[0]++,{width:20,height:20,...this.props.style});return w0().s[1]++,this.props.isCollapsed?(w0().b[0][0]++,N.jsx(Hte,{style:n})):(w0().b[0][1]++,N.jsx(Vte,{style:n}))}}function Eg(){var t="/workspaces/maputnik/src/components/LayerListGroup.tsx",n="b747e4ba6cc6925e3a304fff8183a9fd003e8bd8",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b747e4ba6cc6925e3a304fff8183a9fd003e8bd8"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Eg=function(){return s},s}Eg();class ghe extends gn.Component{render(){return Eg().f[0]++,Eg().s[0]++,N.jsx("li",{className:"maputnik-layer-list-group",children:N.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:n=>(Eg().f[1]++,Eg().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[N.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),N.jsx("span",{className:"maputnik-space"}),N.jsx(mhe,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},e_.apply(this,arguments)}function yhe(t){if(Array.isArray(t))return t}function vhe(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var r,i,o,s,a=[],f=!0,g=!1;try{if(o=(e=e.call(t)).next,n===0){if(Object(e)!==e)return;f=!1}else for(;!(f=(r=o.call(e)).done)&&(a.push(r.value),a.length!==n);f=!0);}catch(x){g=!0,i=x}finally{try{if(!f&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(g)throw i}}return a}}function nE(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Mj(t,n){if(t){if(typeof t=="string")return nE(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return nE(t,n)}}function Che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sj(t,n){return yhe(t)||vhe(t,n)||Mj(t,n)||Che()}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},my(t)}function _he(t,n){if(my(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var r=e.call(t,n||"default");if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Ej(t){var n=_he(t,"string");return my(n)=="symbol"?n:String(n)}function Aa(t,n,e){return n=Ej(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function mM(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?Object(arguments[n]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.forEach(function(i){Aa(t,i,e[i])})}return t}function P_(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function yT(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ej(r.key),r)}}function U_(t,n,e){return n&&yT(t.prototype,n),e&&yT(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ho(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(t,n){if(n&&(my(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ho(t)}function t_(t){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t_(t)}function rE(t,n){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,n)}function M7(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&rE(t,n)}var bhe=function(t,n,e,r,i,o,s,a){if(!t){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[e,r,i,o,s,a],x=0;f=new Error(n.replace(/%s/g,function(){return g[x++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}},xhe=bhe;const i1=Qo(xhe);function whe(t){if(Array.isArray(t))return nE(t)}function Mhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function She(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(t){return whe(t)||Mhe(t)||Mj(t)||She()}var Ohe=function(){function t(){P_(this,t),Aa(this,"refs",{})}return U_(t,[{key:"add",value:function(e,r){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(r)}},{key:"remove",value:function(e,r){var i=this.getIndex(e,r);i!==-1&&this.refs[e].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,r){return this.refs[e].indexOf(r)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[e].sort(Bhe)}}]),t}();function Bhe(t,n){var e=t.node.sortableInfo.index,r=n.node.sortableInfo.index;return e-r}function Oj(t,n){return Object.keys(t).reduce(function(e,r){return n.indexOf(r)===-1&&(e[r]=t[r]),e},{})}var J1={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},Bj=function(){if(typeof window>"u"||typeof document>"u")return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],n=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||t.OLink===""&&["","o"])[1];switch(n){case"ms":return"ms";default:return n&&n.length?n[0].toUpperCase()+n.substr(1):""}}();function dx(t,n){Object.keys(n).forEach(function(e){t.style[e]=n[e]})}function hx(t,n){t.style["".concat(Bj,"Transform")]=n==null?"":"translate3d(".concat(n.x,"px,").concat(n.y,"px,0)")}function gM(t,n){t.style["".concat(Bj,"TransitionDuration")]=n==null?"":"".concat(n,"ms")}function zv(t,n){for(;t;){if(n(t))return t;t=t.parentNode}return null}function vT(t,n,e){return Math.max(t,Math.min(e,n))}function Og(t){return t.substr(-2)==="px"?parseFloat(t):0}function Ihe(t){var n=window.getComputedStyle(t);return{bottom:Og(n.marginBottom),left:Og(n.marginLeft),right:Og(n.marginRight),top:Og(n.marginTop)}}function S7(t,n){var e=n.displayName||n.name;return e?"".concat(t,"(").concat(e,")"):t}function yM(t,n){var e=t.getBoundingClientRect();return{top:e.top+n.top,left:e.left+n.left}}function _v(t){return t.touches&&t.touches.length?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches.length?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.pageX,y:t.pageY}}function khe(t){return t.touches&&t.touches.length||t.changedTouches&&t.changedTouches.length}function qx(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(t){var r={left:e.left+t.offsetLeft,top:e.top+t.offsetTop};return t.parentNode===n?r:qx(t.parentNode,n,r)}}function The(t,n,e){return t<e&&t>n?t-1:t>e&&t<n?t+1:t}function CT(t){var n=t.lockOffset,e=t.width,r=t.height,i=n,o=n,s="px";if(typeof n=="string"){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(n);i1(a!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',n),i=parseFloat(n),o=parseFloat(n),s=a[1]}return i1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",n),s==="%"&&(i=i*e/100,o=o*r/100),{x:i,y:o}}function Khe(t){var n=t.height,e=t.width,r=t.lockOffset,i=Array.isArray(r)?r:[r,r];i1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=Sj(i,2),s=o[0],a=o[1];return[CT({height:n,lockOffset:s,width:e}),CT({height:n,lockOffset:a,width:e})]}function Phe(t){var n=window.getComputedStyle(t),e=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return e.test(n[i])})}function Ij(t){return t instanceof HTMLElement?Phe(t)?t:Ij(t.parentNode):null}function Uhe(t){var n=window.getComputedStyle(t);return n.display==="grid"?{x:Og(n.gridColumnGap),y:Og(n.gridRowGap)}:{x:0,y:0}}var d0={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},M0={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function Dhe(t){var n="input, textarea, select, canvas, [contenteditable]",e=t.querySelectorAll(n),r=t.cloneNode(!0),i=Ehe(r.querySelectorAll(n));return i.forEach(function(o,s){if(o.type!=="file"&&(o.value=e[s].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===M0.Canvas&&e[s].width>0&&e[s].height>0){var a=o.getContext("2d");a.drawImage(e[s],0,0)}}),r}function Fhe(t){var n,e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return e=n=function(i){M7(o,i);function o(){var s,a;P_(this,o);for(var f=arguments.length,g=new Array(f),x=0;x<f;x++)g[x]=arguments[x];return a=w7(this,(s=t_(o)).call.apply(s,[this].concat(g))),Aa(ho(ho(a)),"wrappedInstance",Or.createRef()),a}return U_(o,[{key:"componentDidMount",value:function(){var a=Rm.findDOMNode(this);a.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return i1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Or.createElement(t,e_({ref:a},this.props))}}]),o}(Or.Component),Aa(n,"displayName",S7("sortableHandle",t)),e}function _T(t){return t.sortableHandle!=null}var Lhe=function(){function t(n,e){P_(this,t),this.container=n,this.onScrollCallback=e}return U_(t,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var r=this,i=e.translate,o=e.minTranslate,s=e.maxTranslate,a=e.width,f=e.height,g={x:0,y:0},x={x:1,y:1},I={x:10,y:10},B=this.container,D=B.scrollTop,L=B.scrollLeft,V=B.scrollHeight,W=B.scrollWidth,j=B.clientHeight,G=B.clientWidth,ee=D===0,re=V-D-j===0,se=L===0,oe=W-L-G===0;i.y>=s.y-f/2&&!re?(g.y=1,x.y=I.y*Math.abs((s.y-f/2-i.y)/f)):i.x>=s.x-a/2&&!oe?(g.x=1,x.x=I.x*Math.abs((s.x-a/2-i.x)/a)):i.y<=o.y+f/2&&!ee?(g.y=-1,x.y=I.y*Math.abs((i.y-f/2-o.y)/f)):i.x<=o.x+a/2&&!se&&(g.x=-1,x.x=I.x*Math.abs((i.x-a/2-o.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(g.x!==0||g.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var ue={left:x.x*g.x,top:x.y*g.y};r.container.scrollTop+=ue.top,r.container.scrollLeft+=ue.left,r.onScrollCallback(ue)},5))}}]),t}();function Rhe(t){var n=t.node;return{height:n.offsetHeight,width:n.offsetWidth}}function zhe(t){var n=[M0.Input,M0.Textarea,M0.Select,M0.Option,M0.Button];return!!(n.indexOf(t.target.tagName)!==-1||zv(t.target,function(e){return e.contentEditable==="true"}))}var kj={axis:Kr.oneOf(["x","y","xy"]),contentWindow:Kr.any,disableAutoscroll:Kr.bool,distance:Kr.number,getContainer:Kr.func,getHelperDimensions:Kr.func,helperClass:Kr.string,helperContainer:Kr.oneOfType([Kr.func,typeof HTMLElement>"u"?Kr.any:Kr.instanceOf(HTMLElement)]),hideSortableGhost:Kr.bool,keyboardSortingTransitionDuration:Kr.number,lockAxis:Kr.string,lockOffset:Kr.oneOfType([Kr.number,Kr.string,Kr.arrayOf(Kr.oneOfType([Kr.number,Kr.string]))]),lockToContainerEdges:Kr.bool,onSortEnd:Kr.func,onSortMove:Kr.func,onSortOver:Kr.func,onSortStart:Kr.func,pressDelay:Kr.number,pressThreshold:Kr.number,keyCodes:Kr.shape({lift:Kr.arrayOf(Kr.number),drop:Kr.arrayOf(Kr.number),cancel:Kr.arrayOf(Kr.number),up:Kr.arrayOf(Kr.number),down:Kr.arrayOf(Kr.number)}),shouldCancelStart:Kr.func,transitionDuration:Kr.number,updateBeforeSortStart:Kr.func,useDragHandle:Kr.bool,useWindowAsScrollContainer:Kr.bool},Tj={lift:[d0.SPACE],drop:[d0.SPACE],cancel:[d0.ESC],up:[d0.UP,d0.LEFT],down:[d0.DOWN,d0.RIGHT]},jhe={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:Rhe,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Tj,shouldCancelStart:zhe,transitionDuration:300,useWindowAsScrollContainer:!1},Whe=Object.keys(kj);function Nhe(t){i1(!(t.distance&&t.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function Ghe(t,n){try{var e=t()}catch(r){return n(!0,r)}return e&&e.then?e.then(n.bind(null,!1),n.bind(null,!0)):n(!1,value)}var Kj=Or.createContext({manager:{}});function Qhe(t){var n,e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return e=n=function(i){M7(o,i);function o(s){var a;P_(this,o),a=w7(this,t_(o).call(this,s)),Aa(ho(ho(a)),"state",{}),Aa(ho(ho(a)),"handleStart",function(g){var x=a.props,I=x.distance,B=x.shouldCancelStart;if(!(g.button===2||B(g))){a.touched=!0,a.position=_v(g);var D=zv(g.target,function(ee){return ee.sortableInfo!=null});if(D&&D.sortableInfo&&a.nodeIsChild(D)&&!a.state.sorting){var L=a.props.useDragHandle,V=D.sortableInfo,W=V.index,j=V.collection,G=V.disabled;if(G||L&&!zv(g.target,_T))return;a.manager.active={collection:j,index:W},!khe(g)&&g.target.tagName===M0.Anchor&&g.preventDefault(),I||(a.props.pressDelay===0?a.handlePress(g):a.pressTimer=setTimeout(function(){return a.handlePress(g)},a.props.pressDelay))}}}),Aa(ho(ho(a)),"nodeIsChild",function(g){return g.sortableInfo.manager===a.manager}),Aa(ho(ho(a)),"handleMove",function(g){var x=a.props,I=x.distance,B=x.pressThreshold;if(!a.state.sorting&&a.touched&&!a._awaitingUpdateBeforeSortStart){var D=_v(g),L={x:a.position.x-D.x,y:a.position.y-D.y},V=Math.abs(L.x)+Math.abs(L.y);a.delta=L,!I&&(!B||V>=B)?(clearTimeout(a.cancelTimer),a.cancelTimer=setTimeout(a.cancel,0)):I&&V>=I&&a.manager.isActive()&&a.handlePress(g)}}),Aa(ho(ho(a)),"handleEnd",function(){a.touched=!1,a.cancel()}),Aa(ho(ho(a)),"cancel",function(){var g=a.props.distance,x=a.state.sorting;x||(g||clearTimeout(a.pressTimer),a.manager.active=null)}),Aa(ho(ho(a)),"handlePress",function(g){try{var x=a.manager.getActive(),I=function(){if(x){var B=function(){var Re=se.sortableInfo.index,et=Ihe(se),ht=Uhe(a.container),ke=a.scrollContainer.getBoundingClientRect(),Je=V({index:Re,node:se,collection:oe});if(a.node=se,a.margin=et,a.gridGap=ht,a.width=Je.width,a.height=Je.height,a.marginOffset={x:a.margin.left+a.margin.right+a.gridGap.x,y:Math.max(a.margin.top,a.margin.bottom,a.gridGap.y)},a.boundingClientRect=se.getBoundingClientRect(),a.containerBoundingRect=ke,a.index=Re,a.newIndex=Re,a.axis={x:L.indexOf("x")>=0,y:L.indexOf("y")>=0},a.offsetEdge=qx(se,a.container),ue?a.initialOffset=_v(mM({},g,{pageX:a.boundingClientRect.left,pageY:a.boundingClientRect.top})):a.initialOffset=_v(g),a.initialScroll={left:a.scrollContainer.scrollLeft,top:a.scrollContainer.scrollTop},a.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},a.helper=a.helperContainer.appendChild(Dhe(se)),dx(a.helper,{boxSizing:"border-box",height:"".concat(a.height,"px"),left:"".concat(a.boundingClientRect.left-et.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(a.boundingClientRect.top-et.top,"px"),width:"".concat(a.width,"px")}),ue&&a.helper.focus(),j&&(a.sortableGhost=se,dx(se,{opacity:0,visibility:"hidden"})),a.minTranslate={},a.maxTranslate={},ue){var ve=re?{top:0,left:0,width:a.contentWindow.innerWidth,height:a.contentWindow.innerHeight}:a.containerBoundingRect,ft=ve.top,Ft=ve.left,tn=ve.width,St=ve.height,Ne=ft+St,qe=Ft+tn;a.axis.x&&(a.minTranslate.x=Ft-a.boundingClientRect.left,a.maxTranslate.x=qe-(a.boundingClientRect.left+a.width)),a.axis.y&&(a.minTranslate.y=ft-a.boundingClientRect.top,a.maxTranslate.y=Ne-(a.boundingClientRect.top+a.height))}else a.axis.x&&(a.minTranslate.x=(re?0:ke.left)-a.boundingClientRect.left-a.width/2,a.maxTranslate.x=(re?a.contentWindow.innerWidth:ke.left+ke.width)-a.boundingClientRect.left-a.width/2),a.axis.y&&(a.minTranslate.y=(re?0:ke.top)-a.boundingClientRect.top-a.height/2,a.maxTranslate.y=(re?a.contentWindow.innerHeight:ke.top+ke.height)-a.boundingClientRect.top-a.height/2);W&&W.split(" ").forEach(function(tt){return a.helper.classList.add(tt)}),a.listenerNode=g.touches?g.target:a.contentWindow,ue?(a.listenerNode.addEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.addEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.addEventListener("keydown",a.handleKeyDown)):(J1.move.forEach(function(tt){return a.listenerNode.addEventListener(tt,a.handleSortMove,!1)}),J1.end.forEach(function(tt){return a.listenerNode.addEventListener(tt,a.handleSortEnd,!1)})),a.setState({sorting:!0,sortingIndex:Re}),ee&&ee({node:se,index:Re,collection:oe,isKeySorting:ue,nodes:a.manager.getOrderedRefs(),helper:a.helper},g),ue&&a.keyMove(0)},D=a.props,L=D.axis,V=D.getHelperDimensions,W=D.helperClass,j=D.hideSortableGhost,G=D.updateBeforeSortStart,ee=D.onSortStart,re=D.useWindowAsScrollContainer,se=x.node,oe=x.collection,ue=a.manager.isKeySorting,me=function(){if(typeof G=="function"){a._awaitingUpdateBeforeSortStart=!0;var De=Ghe(function(){var Re=se.sortableInfo.index;return Promise.resolve(G({collection:oe,index:Re,node:se,isKeySorting:ue},g)).then(function(){})},function(Re,et){if(a._awaitingUpdateBeforeSortStart=!1,Re)throw et;return et});if(De&&De.then)return De.then(function(){})}}();return me&&me.then?me.then(B):B(me)}}();return Promise.resolve(I&&I.then?I.then(function(){}):void 0)}catch(B){return Promise.reject(B)}}),Aa(ho(ho(a)),"handleSortMove",function(g){var x=a.props.onSortMove;typeof g.preventDefault=="function"&&g.cancelable&&g.preventDefault(),a.updateHelperPosition(g),a.animateNodes(),a.autoscroll(),x&&x(g)}),Aa(ho(ho(a)),"handleSortEnd",function(g){var x=a.props,I=x.hideSortableGhost,B=x.onSortEnd,D=a.manager,L=D.active.collection,V=D.isKeySorting,W=a.manager.getOrderedRefs();a.listenerNode&&(V?(a.listenerNode.removeEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("keydown",a.handleKeyDown)):(J1.move.forEach(function(se){return a.listenerNode.removeEventListener(se,a.handleSortMove)}),J1.end.forEach(function(se){return a.listenerNode.removeEventListener(se,a.handleSortEnd)}))),a.helper.parentNode.removeChild(a.helper),I&&a.sortableGhost&&dx(a.sortableGhost,{opacity:"",visibility:""});for(var j=0,G=W.length;j<G;j++){var ee=W[j],re=ee.node;ee.edgeOffset=null,ee.boundingClientRect=null,hx(re,null),gM(re,null),ee.translate=null}a.autoScroller.clear(),a.manager.active=null,a.manager.isKeySorting=!1,a.setState({sorting:!1,sortingIndex:null}),typeof B=="function"&&B({collection:L,newIndex:a.newIndex,oldIndex:a.index,isKeySorting:V,nodes:W},g),a.touched=!1}),Aa(ho(ho(a)),"autoscroll",function(){var g=a.props.disableAutoscroll,x=a.manager.isKeySorting;if(g){a.autoScroller.clear();return}if(x){var I=mM({},a.translate),B=0,D=0;a.axis.x&&(I.x=Math.min(a.maxTranslate.x,Math.max(a.minTranslate.x,a.translate.x)),B=a.translate.x-I.x),a.axis.y&&(I.y=Math.min(a.maxTranslate.y,Math.max(a.minTranslate.y,a.translate.y)),D=a.translate.y-I.y),a.translate=I,hx(a.helper,a.translate),a.scrollContainer.scrollLeft+=B,a.scrollContainer.scrollTop+=D;return}a.autoScroller.update({height:a.height,maxTranslate:a.maxTranslate,minTranslate:a.minTranslate,translate:a.translate,width:a.width})}),Aa(ho(ho(a)),"onAutoScroll",function(g){a.translate.x+=g.left,a.translate.y+=g.top,a.animateNodes()}),Aa(ho(ho(a)),"handleKeyDown",function(g){var x=g.keyCode,I=a.props,B=I.shouldCancelStart,D=I.keyCodes,L=D===void 0?{}:D,V=mM({},Tj,L);a.manager.active&&!a.manager.isKeySorting||!a.manager.active&&(!V.lift.includes(x)||B(g)||!a.isValidSortingTarget(g))||(g.stopPropagation(),g.preventDefault(),V.lift.includes(x)&&!a.manager.active?a.keyLift(g):V.drop.includes(x)&&a.manager.active?a.keyDrop(g):V.cancel.includes(x)?(a.newIndex=a.manager.active.index,a.keyDrop(g)):V.up.includes(x)?a.keyMove(-1):V.down.includes(x)&&a.keyMove(1))}),Aa(ho(ho(a)),"keyLift",function(g){var x=g.target,I=zv(x,function(V){return V.sortableInfo!=null}),B=I.sortableInfo,D=B.index,L=B.collection;a.initialFocusedNode=x,a.manager.isKeySorting=!0,a.manager.active={index:D,collection:L},a.handlePress(g)}),Aa(ho(ho(a)),"keyMove",function(g){var x=a.manager.getOrderedRefs(),I=x[x.length-1].node.sortableInfo.index,B=a.newIndex+g,D=a.newIndex;if(!(B<0||B>I)){a.prevIndex=D,a.newIndex=B;var L=The(a.newIndex,a.prevIndex,a.index),V=x.find(function(ue){var me=ue.node;return me.sortableInfo.index===L}),W=V.node,j=a.containerScrollDelta,G=V.boundingClientRect||yM(W,j),ee=V.translate||{x:0,y:0},re={top:G.top+ee.y-j.top,left:G.left+ee.x-j.left},se=D<B,oe={x:se&&a.axis.x?W.offsetWidth-a.width:0,y:se&&a.axis.y?W.offsetHeight-a.height:0};a.handleSortMove({pageX:re.left+oe.x,pageY:re.top+oe.y,ignoreTransition:g===0})}}),Aa(ho(ho(a)),"keyDrop",function(g){a.handleSortEnd(g),a.initialFocusedNode&&a.initialFocusedNode.focus()}),Aa(ho(ho(a)),"handleKeyEnd",function(g){a.manager.active&&a.keyDrop(g)}),Aa(ho(ho(a)),"isValidSortingTarget",function(g){var x=a.props.useDragHandle,I=g.target,B=zv(I,function(D){return D.sortableInfo!=null});return B&&B.sortableInfo&&!B.sortableInfo.disabled&&(x?_T(I):I.sortableInfo)});var f=new Ohe;return Nhe(s),a.manager=f,a.wrappedInstance=Or.createRef(),a.sortableContextValue={manager:f},a.events={end:a.handleEnd,move:a.handleMove,start:a.handleStart},a}return U_(o,[{key:"componentDidMount",value:function(){var a=this,f=this.props.useWindowAsScrollContainer,g=this.getContainer();Promise.resolve(g).then(function(x){a.container=x,a.document=a.container.ownerDocument||document;var I=a.props.contentWindow||a.document.defaultView||window;a.contentWindow=typeof I=="function"?I():I,a.scrollContainer=f?a.document.scrollingElement||a.document.documentElement:Ij(a.container)||a.container,a.autoScroller=new Lhe(a.scrollContainer,a.onAutoScroll),Object.keys(a.events).forEach(function(B){return J1[B].forEach(function(D){return a.container.addEventListener(D,a.events[B],!1)})}),a.container.addEventListener("keydown",a.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var a=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(f){return J1[f].forEach(function(g){return a.container.removeEventListener(g,a.events[f])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(a){var f=this.props,g=f.lockAxis,x=f.lockOffset,I=f.lockToContainerEdges,B=f.transitionDuration,D=f.keyboardSortingTransitionDuration,L=D===void 0?B:D,V=this.manager.isKeySorting,W=a.ignoreTransition,j=_v(a),G={x:j.x-this.initialOffset.x,y:j.y-this.initialOffset.y};if(G.y-=window.pageYOffset-this.initialWindowScroll.top,G.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=G,I){var ee=Khe({height:this.height,lockOffset:x,width:this.width}),re=Sj(ee,2),se=re[0],oe=re[1],ue={x:this.width/2-se.x,y:this.height/2-se.y},me={x:this.width/2-oe.x,y:this.height/2-oe.y};G.x=vT(this.minTranslate.x+ue.x,this.maxTranslate.x-me.x,G.x),G.y=vT(this.minTranslate.y+ue.y,this.maxTranslate.y-me.y,G.y)}g==="x"?G.y=0:g==="y"&&(G.x=0),V&&L&&!W&&gM(this.helper,L),hx(this.helper,G)}},{key:"animateNodes",value:function(){var a=this.props,f=a.transitionDuration,g=a.hideSortableGhost,x=a.onSortOver,I=this.containerScrollDelta,B=this.windowScrollDelta,D=this.manager.getOrderedRefs(),L={left:this.offsetEdge.left+this.translate.x+I.left,top:this.offsetEdge.top+this.translate.y+I.top},V=this.manager.isKeySorting,W=this.newIndex;this.newIndex=null;for(var j=0,G=D.length;j<G;j++){var ee=D[j].node,re=ee.sortableInfo.index,se=ee.offsetWidth,oe=ee.offsetHeight,ue={height:this.height>oe?oe/2:this.height/2,width:this.width>se?se/2:this.width/2},me=V&&re>this.index&&re<=W,De=V&&re<this.index&&re>=W,Re={x:0,y:0},et=D[j].edgeOffset;et||(et=qx(ee,this.container),D[j].edgeOffset=et,V&&(D[j].boundingClientRect=yM(ee,I)));var ht=j<D.length-1&&D[j+1],ke=j>0&&D[j-1];if(ht&&!ht.edgeOffset&&(ht.edgeOffset=qx(ht.node,this.container),V&&(ht.boundingClientRect=yM(ht.node,I))),re===this.index){g&&(this.sortableGhost=ee,dx(ee,{opacity:0,visibility:"hidden"}));continue}f&&gM(ee,f),this.axis.x?this.axis.y?De||re<this.index&&(L.left+B.left-ue.width<=et.left&&L.top+B.top<=et.top+ue.height||L.top+B.top+ue.height<=et.top)?(Re.x=this.width+this.marginOffset.x,et.left+Re.x>this.containerBoundingRect.width-ue.width&&ht&&(Re.x=ht.edgeOffset.left-et.left,Re.y=ht.edgeOffset.top-et.top),this.newIndex===null&&(this.newIndex=re)):(me||re>this.index&&(L.left+B.left+ue.width>=et.left&&L.top+B.top+ue.height>=et.top||L.top+B.top+ue.height>=et.top+oe))&&(Re.x=-(this.width+this.marginOffset.x),et.left+Re.x<this.containerBoundingRect.left+ue.width&&ke&&(Re.x=ke.edgeOffset.left-et.left,Re.y=ke.edgeOffset.top-et.top),this.newIndex=re):me||re>this.index&&L.left+B.left+ue.width>=et.left?(Re.x=-(this.width+this.marginOffset.x),this.newIndex=re):(De||re<this.index&&L.left+B.left<=et.left+ue.width)&&(Re.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=re)):this.axis.y&&(me||re>this.index&&L.top+B.top+ue.height>=et.top?(Re.y=-(this.height+this.marginOffset.y),this.newIndex=re):(De||re<this.index&&L.top+B.top<=et.top+ue.height)&&(Re.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=re))),hx(ee,Re),D[j].translate=Re}this.newIndex==null&&(this.newIndex=this.index),V&&(this.newIndex=W);var Je=V?this.prevIndex:W;x&&this.newIndex!==Je&&x({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:Je,isKeySorting:V,nodes:D,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return i1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var a=this.props.getContainer;return typeof a!="function"?Rm.findDOMNode(this):a(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Or.createElement(Kj.Provider,{value:this.sortableContextValue},Or.createElement(t,e_({ref:a},Oj(this.props,Whe))))}},{key:"helperContainer",get:function(){var a=this.props.helperContainer;return typeof a=="function"?a():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var a=this.props.useWindowAsScrollContainer;return a?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(Or.Component),Aa(n,"displayName",S7("sortableList",t)),Aa(n,"defaultProps",jhe),Aa(n,"propTypes",kj),e}var Pj={index:Kr.number.isRequired,collection:Kr.oneOfType([Kr.number,Kr.string]),disabled:Kr.bool},$he=Object.keys(Pj);function Yhe(t){var n,e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return e=n=function(i){M7(o,i);function o(){var s,a;P_(this,o);for(var f=arguments.length,g=new Array(f),x=0;x<f;x++)g[x]=arguments[x];return a=w7(this,(s=t_(o)).call.apply(s,[this].concat(g))),Aa(ho(ho(a)),"wrappedInstance",Or.createRef()),a}return U_(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(a){this.node&&(a.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),a.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),a.collection!==this.props.collection&&(this.unregister(a.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var a=this.props,f=a.collection,g=a.disabled,x=a.index,I=Rm.findDOMNode(this);I.sortableInfo={collection:f,disabled:g,index:x,manager:this.context.manager},this.node=I,this.ref={node:I},this.context.manager.add(f,this.ref)}},{key:"unregister",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(a,this.ref)}},{key:"getWrappedInstance",value:function(){return i1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Or.createElement(t,e_({ref:a},Oj(this.props,$he)))}}]),o}(Or.Component),Aa(n,"displayName",S7("sortableElement",t)),Aa(n,"contextType",Kj),Aa(n,"propTypes",Pj),Aa(n,"defaultProps",{collection:0}),e}function pi(){var t="/workspaces/maputnik/src/components/LayerListItem.tsx",n="77324f080d4a7102b6d1a77c768601070cfeef86",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAgB,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAEzG,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77324f080d4a7102b6d1a77c768601070cfeef86"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return pi=function(){return s},s}pi();const qhe=(pi().s[0]++,Fhe(t=>(pi().f[0]++,pi().s[1]++,N.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[N.jsx(WL,{className:"layer-handle__icon",type:t.layerType}),N.jsx("button",{className:"maputnik-layer-list-item-id",children:t.layerId})]}))));class vM extends gn.Component{renderIcon(){switch(pi().f[1]++,pi().s[2]++,this.props.action){case"duplicate":return pi().b[0][0]++,pi().s[3]++,N.jsx(Nte,{});case"show":return pi().b[0][1]++,pi().s[4]++,N.jsx(Wte,{});case"hide":return pi().b[0][2]++,pi().s[5]++,N.jsx(jte,{});case"delete":return pi().b[0][3]++,pi().s[6]++,N.jsx(Ey,{})}}render(){pi().f[2]++;const{classBlockName:n,classBlockModifier:e}=(pi().s[7]++,this.props);let r=(pi().s[8]++,"");return pi().s[9]++,n?(pi().b[1][0]++,pi().s[10]++,r=`maputnik-layer-list-icon-action__${n}`,pi().s[11]++,e?(pi().b[2][0]++,pi().s[12]++,r+=` maputnik-layer-list-icon-action__${n}--${e}`):pi().b[2][1]++):pi().b[1][1]++,pi().s[13]++,N.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class iE extends gn.Component{getChildContext(){return pi().f[6]++,pi().s[16]++,{reactIconBase:{size:14}}}render(){pi().f[7]++;const n=(pi().s[17]++,this.props.visibility==="visible"?(pi().b[3][0]++,"show"):(pi().b[3][1]++,"hide"));return pi().s[18]++,N.jsxs("li",{id:this.props.id,onClick:e=>(pi().f[8]++,pi().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:rh({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[N.jsx(qhe,{...this.props}),N.jsx("span",{style:{flexGrow:1}}),N.jsx(vM,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:e=>(pi().f[9]++,pi().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),N.jsx(vM,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:e=>(pi().f[10]++,pi().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),N.jsx(vM,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:n,classBlockName:"visibility",classBlockModifier:n,onClick:e=>(pi().f[11]++,pi().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}rn(iE,"defaultProps",(pi().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{pi().f[3]++},onLayerDestroy:()=>{pi().f[4]++},onLayerVisibilityToggle:()=>{pi().f[5]++}})),rn(iE,"childContextTypes",(pi().s[15]++,{reactIconBase:Kr.object}));const Vhe=(pi().s[23]++,Yhe(t=>(pi().f[12]++,pi().s[24]++,N.jsx(iE,{...t}))));function w3(){var t="/workspaces/maputnik/src/components/InputButton.tsx",n="6a3417b98eacfb63ed8154292c895df3da68543c",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6a3417b98eacfb63ed8154292c895df3da68543c"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return w3=function(){return s},s}w3();class ka extends gn.Component{render(){return w3().f[0]++,w3().s[0]++,N.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:rh("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Uj=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],M3=Uj.join(","),Dj=typeof Element>"u",o1=Dj?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,oE=!Dj&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},Fj=function(n,e,r){var i=Array.prototype.slice.apply(n.querySelectorAll(M3));return e&&o1.call(n,M3)&&i.unshift(n),i=i.filter(r),i},Lj=function t(n,e,r){for(var i=[],o=Array.from(n);o.length;){var s=o.shift();if(s.tagName==="SLOT"){var a=s.assignedElements(),f=a.length?a:s.children,g=t(f,!0,r);r.flatten?i.push.apply(i,g):i.push({scope:s,candidates:g})}else{var x=o1.call(s,M3);x&&r.filter(s)&&(e||!n.includes(s))&&i.push(s);var I=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),B=!r.shadowRootFilter||r.shadowRootFilter(s);if(I&&B){var D=t(I===!0?s.children:I.children,!0,r);r.flatten?i.push.apply(i,D):i.push({scope:s,candidates:D})}else o.unshift.apply(o,s.children)}}return i},Rj=function(n,e){return n.tabIndex<0&&(e||/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||n.isContentEditable)&&isNaN(parseInt(n.getAttribute("tabindex"),10))?0:n.tabIndex},Hhe=function(n,e){return n.tabIndex===e.tabIndex?n.documentOrder-e.documentOrder:n.tabIndex-e.tabIndex},zj=function(n){return n.tagName==="INPUT"},Zhe=function(n){return zj(n)&&n.type==="hidden"},Xhe=function(n){var e=n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(r){return r.tagName==="SUMMARY"});return e},Jhe=function(n,e){for(var r=0;r<n.length;r++)if(n[r].checked&&n[r].form===e)return n[r]},efe=function(n){if(!n.name)return!0;var e=n.form||oE(n),r=function(a){return e.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(n.name));else try{i=r(n.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=Jhe(i,n.form);return!o||o===n},tfe=function(n){return zj(n)&&n.type==="radio"},nfe=function(n){return tfe(n)&&!efe(n)},bT=function(n){var e=n.getBoundingClientRect(),r=e.width,i=e.height;return r===0&&i===0},rfe=function(n,e){var r=e.displayCheck,i=e.getShadowRoot;if(getComputedStyle(n).visibility==="hidden")return!0;var o=o1.call(n,"details>summary:first-of-type"),s=o?n.parentElement:n;if(o1.call(s,"details:not([open]) *"))return!0;var a=oE(n).host,f=(a==null?void 0:a.ownerDocument.contains(a))||n.ownerDocument.contains(n);if(!r||r==="full"){if(typeof i=="function"){for(var g=n;n;){var x=n.parentElement,I=oE(n);if(x&&!x.shadowRoot&&i(x)===!0)return bT(n);n.assignedSlot?n=n.assignedSlot:!x&&I!==n.ownerDocument?n=I.host:n=x}n=g}if(f)return!n.getClientRects().length}else if(r==="non-zero-area")return bT(n);return!1},ife=function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var e=n.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var i=e.children.item(r);if(i.tagName==="LEGEND")return o1.call(e,"fieldset[disabled] *")?!0:!i.contains(n)}return!0}e=e.parentElement}return!1},S3=function(n,e){return!(e.disabled||Zhe(e)||rfe(e,n)||Xhe(e)||ife(e))},aE=function(n,e){return!(nfe(e)||Rj(e)<0||!S3(n,e))},ofe=function(n){var e=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},afe=function t(n){var e=[],r=[];return n.forEach(function(i,o){var s=!!i.scope,a=s?i.scope:i,f=Rj(a,s),g=s?t(i.candidates):a;f===0?s?e.push.apply(e,g):e.push(a):r.push({documentOrder:o,tabIndex:f,item:i,isScope:s,content:g})}),r.sort(Hhe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(e)},jj=function(n,e){e=e||{};var r;return e.getShadowRoot?r=Lj([n],e.includeContainer,{filter:aE.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:ofe}):r=Fj(n,e.includeContainer,aE.bind(null,e)),afe(r)},Wj=function(n,e){e=e||{};var r;return e.getShadowRoot?r=Lj([n],e.includeContainer,{filter:S3.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):r=Fj(n,e.includeContainer,S3.bind(null,e)),r},jv=function(n,e){if(e=e||{},!n)throw new Error("No node provided");return o1.call(n,M3)===!1?!1:aE(e,n)},sfe=Uj.concat("iframe").join(","),Vx=function(n,e){if(e=e||{},!n)throw new Error("No node provided");return o1.call(n,sfe)===!1?!1:S3(e,n)};const lfe=Object.freeze(Object.defineProperty({__proto__:null,focusable:Wj,isFocusable:Vx,isTabbable:jv,tabbable:jj},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function xT(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function wT(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?xT(Object(e),!0).forEach(function(r){ufe(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xT(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function ufe(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var MT=function(){var t=[];return{activateTrap:function(e){if(t.length>0){var r=t[t.length-1];r!==e&&r.pause()}var i=t.indexOf(e);i===-1||t.splice(i,1),t.push(e)},deactivateTrap:function(e){var r=t.indexOf(e);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}}(),Afe=function(n){return n.tagName&&n.tagName.toLowerCase()==="input"&&typeof n.select=="function"},cfe=function(n){return n.key==="Escape"||n.key==="Esc"||n.keyCode===27},dfe=function(n){return n.key==="Tab"||n.keyCode===9},ST=function(n){return setTimeout(n,0)},ET=function(n,e){var r=-1;return n.every(function(i,o){return e(i)?(r=o,!1):!0}),r},bv=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return typeof n=="function"?n.apply(void 0,r):n},fx=function(n){return n.target.shadowRoot&&typeof n.composedPath=="function"?n.composedPath()[0]:n.target},hfe=function(n,e){var r=(e==null?void 0:e.document)||document,i=wT({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(oe,ue,me){return oe&&oe[ue]!==void 0?oe[ue]:i[me||ue]},f=function(oe){return o.containerGroups.findIndex(function(ue){var me=ue.container,De=ue.tabbableNodes;return me.contains(oe)||De.find(function(Re){return Re===oe})})},g=function(oe){var ue=i[oe];if(typeof ue=="function"){for(var me=arguments.length,De=new Array(me>1?me-1:0),Re=1;Re<me;Re++)De[Re-1]=arguments[Re];ue=ue.apply(void 0,De)}if(ue===!0&&(ue=void 0),!ue){if(ue===void 0||ue===!1)return ue;throw new Error("`".concat(oe,"` was specified but was not a node, or did not return a node"))}var et=ue;if(typeof ue=="string"&&(et=r.querySelector(ue),!et))throw new Error("`".concat(oe,"` as selector refers to no known node"));return et},x=function(){var oe=g("initialFocus");if(oe===!1)return!1;if(oe===void 0)if(f(r.activeElement)>=0)oe=r.activeElement;else{var ue=o.tabbableGroups[0],me=ue&&ue.firstTabbableNode;oe=me||g("fallbackFocus")}if(!oe)throw new Error("Your focus-trap needs to have at least one focusable element");return oe},I=function(){if(o.containerGroups=o.containers.map(function(oe){var ue=jj(oe,i.tabbableOptions),me=Wj(oe,i.tabbableOptions);return{container:oe,tabbableNodes:ue,focusableNodes:me,firstTabbableNode:ue.length>0?ue[0]:null,lastTabbableNode:ue.length>0?ue[ue.length-1]:null,nextTabbableNode:function(Re){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ht=me.findIndex(function(ke){return ke===Re});if(!(ht<0))return et?me.slice(ht+1).find(function(ke){return jv(ke,i.tabbableOptions)}):me.slice(0,ht).reverse().find(function(ke){return jv(ke,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(oe){return oe.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!g("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},B=function se(oe){if(oe!==!1&&oe!==r.activeElement){if(!oe||!oe.focus){se(x());return}oe.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=oe,Afe(oe)&&oe.select()}},D=function(oe){var ue=g("setReturnFocus",oe);return ue||(ue===!1?!1:oe)},L=function(oe){var ue=fx(oe);if(!(f(ue)>=0)){if(bv(i.clickOutsideDeactivates,oe)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!Vx(ue,i.tabbableOptions)});return}bv(i.allowOutsideClick,oe)||oe.preventDefault()}},V=function(oe){var ue=fx(oe),me=f(ue)>=0;me||ue instanceof Document?me&&(o.mostRecentlyFocusedNode=ue):(oe.stopImmediatePropagation(),B(o.mostRecentlyFocusedNode||x()))},W=function(oe){var ue=fx(oe);I();var me=null;if(o.tabbableGroups.length>0){var De=f(ue),Re=De>=0?o.containerGroups[De]:void 0;if(De<0)oe.shiftKey?me=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:me=o.tabbableGroups[0].firstTabbableNode;else if(oe.shiftKey){var et=ET(o.tabbableGroups,function(Ft){var tn=Ft.firstTabbableNode;return ue===tn});if(et<0&&(Re.container===ue||Vx(ue,i.tabbableOptions)&&!jv(ue,i.tabbableOptions)&&!Re.nextTabbableNode(ue,!1))&&(et=De),et>=0){var ht=et===0?o.tabbableGroups.length-1:et-1,ke=o.tabbableGroups[ht];me=ke.lastTabbableNode}}else{var Je=ET(o.tabbableGroups,function(Ft){var tn=Ft.lastTabbableNode;return ue===tn});if(Je<0&&(Re.container===ue||Vx(ue,i.tabbableOptions)&&!jv(ue,i.tabbableOptions)&&!Re.nextTabbableNode(ue))&&(Je=De),Je>=0){var ve=Je===o.tabbableGroups.length-1?0:Je+1,ft=o.tabbableGroups[ve];me=ft.firstTabbableNode}}}else me=g("fallbackFocus");me&&(oe.preventDefault(),B(me))},j=function(oe){if(cfe(oe)&&bv(i.escapeDeactivates,oe)!==!1){oe.preventDefault(),s.deactivate();return}if(dfe(oe)){W(oe);return}},G=function(oe){var ue=fx(oe);f(ue)>=0||bv(i.clickOutsideDeactivates,oe)||bv(i.allowOutsideClick,oe)||(oe.preventDefault(),oe.stopImmediatePropagation())},ee=function(){if(o.active)return MT.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?ST(function(){B(x())}):B(x()),r.addEventListener("focusin",V,!0),r.addEventListener("mousedown",L,{capture:!0,passive:!1}),r.addEventListener("touchstart",L,{capture:!0,passive:!1}),r.addEventListener("click",G,{capture:!0,passive:!1}),r.addEventListener("keydown",j,{capture:!0,passive:!1}),s},re=function(){if(o.active)return r.removeEventListener("focusin",V,!0),r.removeEventListener("mousedown",L,!0),r.removeEventListener("touchstart",L,!0),r.removeEventListener("click",G,!0),r.removeEventListener("keydown",j,!0),s};return s={get active(){return o.active},get paused(){return o.paused},activate:function(oe){if(o.active)return this;var ue=a(oe,"onActivate"),me=a(oe,"onPostActivate"),De=a(oe,"checkCanFocusTrap");De||I(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,ue&&ue();var Re=function(){De&&I(),ee(),me&&me()};return De?(De(o.containers.concat()).then(Re,Re),this):(Re(),this)},deactivate:function(oe){if(!o.active)return this;var ue=wT({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},oe);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,re(),o.active=!1,o.paused=!1,MT.deactivateTrap(s);var me=a(ue,"onDeactivate"),De=a(ue,"onPostDeactivate"),Re=a(ue,"checkCanReturnFocus"),et=a(ue,"returnFocus","returnFocusOnDeactivate");me&&me();var ht=function(){ST(function(){et&&B(D(o.nodeFocusedBeforeActivation)),De&&De()})};return et&&Re?(Re(D(o.nodeFocusedBeforeActivation)).then(ht,ht),this):(ht(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,re(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,I(),ee(),this)},updateContainerElements:function(oe){var ue=[].concat(oe).filter(Boolean);return o.containers=ue.map(function(me){return typeof me=="string"?r.querySelector(me):me}),o.active&&I(),this}},s.updateContainerElements(n),s};const ffe=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:hfe},Symbol.toStringTag,{value:"Module"})),pfe=DE(ffe),mfe=DE(lfe);function sE(t){"@babel/helpers - typeof";return sE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sE(t)}function gfe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function OT(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yfe(t,n,e){return n&&OT(t.prototype,n),e&&OT(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vfe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&lE(t,n)}function lE(t,n){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,n)}function Cfe(t){var n=bfe();return function(){var r=E3(t),i;if(n){var o=E3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _fe(this,i)}}function _fe(t,n){if(n&&(sE(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wv(t)}function Wv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E3(t){return E3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E3(t)}function xfe(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var px=Or,wfe=Rm,Ui=oh,Mfe=pfe,Sfe=Mfe.createFocusTrap,Efe=mfe,Ofe=Efe.isFocusable,E7=function(t){vfe(e,t);var n=Cfe(e);function e(r){var i;gfe(this,e),i=n.call(this,r),xfe(Wv(i),"getNodeForOption",function(a){var f,g=(f=this.internalOptions[a])!==null&&f!==void 0?f:this.originalOptions[a];if(typeof g=="function"){for(var x=arguments.length,I=new Array(x>1?x-1:0),B=1;B<x;B++)I[B-1]=arguments[B];g=g.apply(void 0,I)}if(g===!0&&(g=void 0),!g){if(g===void 0||g===!1)return g;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var D=g;if(typeof g=="string"){var L;if(D=(L=this.getDocument())===null||L===void 0?void 0:L.querySelector(g),!D)throw new Error("`".concat(a,"` as selector refers to no known node"))}return D}),i.handleDeactivate=i.handleDeactivate.bind(Wv(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(Wv(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(Wv(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){i.originalOptions[s]=o[s];continue}i.internalOptions[s]=o[s]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return yfe(e,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var a=i.getReturnFocusNode(),f=!!(i.originalOptions.returnFocusOnDeactivate&&a!==null&&a!==void 0&&a.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!Ofe(i.outsideClick.target,i.internalOptions.tabbableOptions))),g=i.internalOptions.preventScroll,x=g===void 0?!1:g;f&&a.focus({preventScroll:x}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(!this.focusTrap){var i=this.focusTrapElements.map(wfe.findDOMNode),o=i.some(Boolean);o&&(this.focusTrap=this.props._createFocusTrap(i,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,s=i.active&&!this.props.active,a=!i.paused&&this.props.paused,f=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}a&&this.focusTrap.pause(),f&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?px.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===px.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=function(g){var x=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(g):o.ref&&(o.ref.current=g)),i.focusTrapElements=x||[g]},a=px.cloneElement(o,{ref:s});return a}return null}}]),e}(px.Component),xv=typeof Element>"u"?Function:Element;E7.propTypes={active:Ui.bool,paused:Ui.bool,focusTrapOptions:Ui.shape({document:Ui.object,onActivate:Ui.func,onPostActivate:Ui.func,checkCanFocusTrap:Ui.func,onDeactivate:Ui.func,onPostDeactivate:Ui.func,checkCanReturnFocus:Ui.func,initialFocus:Ui.oneOfType([Ui.instanceOf(xv),Ui.string,Ui.bool,Ui.func]),fallbackFocus:Ui.oneOfType([Ui.instanceOf(xv),Ui.string,Ui.func]),escapeDeactivates:Ui.oneOfType([Ui.bool,Ui.func]),clickOutsideDeactivates:Ui.oneOfType([Ui.bool,Ui.func]),returnFocusOnDeactivate:Ui.bool,setReturnFocus:Ui.oneOfType([Ui.instanceOf(xv),Ui.string,Ui.bool,Ui.func]),allowOutsideClick:Ui.oneOfType([Ui.bool,Ui.func]),preventScroll:Ui.bool,tabbableOptions:Ui.shape({displayCheck:Ui.oneOf(["full","non-zero-area","none"]),getShadowRoot:Ui.oneOfType([Ui.bool,Ui.func])})}),containerElements:Ui.arrayOf(Ui.instanceOf(xv)),children:Ui.oneOfType([Ui.element,Ui.instanceOf(xv)])};E7.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:Sfe};var Bfe=E7,BT=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function IT(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function CM(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function kT(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var mx=Or,fg=Rm,gx=!!fg.createPortal;function Ife(t,n){if(!window.document)return function(r){kT(i,r);function i(){return IT(this,i),CM(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return BT(i,[{key:"render",value:function(){return!1}}]),i}(mx.Component);n=n||{};var e=function(r){kT(i,r);function i(){var o,s,a,f;IT(this,i);for(var g=arguments.length,x=Array(g),I=0;I<g;I++)x[I]=arguments[I];return f=(s=(a=CM(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(x))),a),a.renderDisplaced=function(){fg.unstable_renderSubtreeIntoContainer(a,mx.createElement(t,a.props,a.props.children),a.container)},a.removeDisplaced=function(){fg.unmountComponentAtNode(a.container)},s),CM(a,f)}return BT(i,[{key:"componentWillMount",value:function(){this.container=function(){if(n.renderTo)return typeof n.renderTo=="string"?document.querySelector(n.renderTo):n.renderTo;var s=document.createElement("div");return document.body.appendChild(s),s}()}},{key:"componentDidMount",value:function(){gx||this.props.mounted&&this.renderDisplaced()}},{key:"componentDidUpdate",value:function(s){gx||(s.mounted&&!this.props.mounted?fg.unmountComponentAtNode(this.container):this.props.mounted&&this.renderDisplaced())}},{key:"componentWillUnmount",value:function(){gx||fg.unmountComponentAtNode(this.container),n.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return!gx||this.props.mounted===!1?null:fg.createPortal(mx.createElement(t,this.props,this.props.children),this.container)}}]),i}(mx.Component);return e.defaultProps={mounted:!0},e.WrappedComponent=t,e}var kfe=Ife,Nj={exports:{}};(function(t){(function(n){var e=!1,r,i;function o(){if(typeof r<"u")return r;var I=document.documentElement,B=document.createElement("div");return B.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),I.appendChild(B),r=B.offsetWidth-B.clientWidth,I.removeChild(B),r}function s(){return document.documentElement.scrollHeight>window.innerHeight}function a(I){if(!(typeof document>"u"||e)){var B=document.documentElement;i=window.pageYOffset,s()?B.style.width="calc(100% - "+o()+"px)":B.style.width="100%",B.style.position="fixed",B.style.top=-i+"px",B.style.overflow="hidden",e=!0}}function f(){if(!(typeof document>"u"||!e)){var I=document.documentElement;I.style.width="",I.style.position="",I.style.top="",I.style.overflow="",window.scroll(0,i),e=!1}}function g(){if(e){f();return}a()}var x={on:a,off:f,toggle:g};t.exports=x})()})(Nj);var Tfe=Nj.exports;function uE(t){"@babel/helpers - typeof";return uE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uE(t)}function Kfe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function TT(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pfe(t,n,e){return n&&TT(t.prototype,n),e&&TT(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ufe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&AE(t,n)}function AE(t,n){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,n)}function Dfe(t){var n=Lfe();return function(){var r=O3(t),i;if(n){var o=O3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ffe(this,i)}}function Ffe(t,n){if(n&&(uE(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nv(t)}function Nv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O3(t){return O3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O3(t)}function Gv(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var wv=Or,Rfe=Bfe,Gj=kfe,yx=Tfe,O7=function(t){Ufe(e,t);var n=Dfe(e);function e(r){var i;if(Kfe(this,e),i=n.call(this,r),Gv(Nv(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),Gv(Nv(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),Gv(Nv(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),Gv(Nv(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return Pfe(e,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&yx.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?yx.off():!i.scrollDisabled&&this.props.scrollDisabled&&yx.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&yx.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var s in i.underlayStyle)i.underlayStyle.hasOwnProperty(s)&&(o[s]=i.underlayStyle[s]);var a={className:i.underlayClass,style:o};i.underlayClickExits&&(a.onMouseDown=this.checkUnderlayClick);for(var f in this.props.underlayProps)a[f]=this.props.underlayProps[f];var g={};i.includeDefaultStyles&&(g={display:"inline-block",height:"100%",verticalAlign:"middle"});var x={key:"a",style:g},I={};if(i.includeDefaultStyles&&(I={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(I.verticalAlign="middle",I.top=0)),i.dialogStyle)for(var B in i.dialogStyle)i.dialogStyle.hasOwnProperty(B)&&(I[B]=i.dialogStyle[B]);var D={key:"b",ref:(function(j){this.dialogNode=j}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:I};i.titleId?D["aria-labelledby"]=i.titleId:i.titleText&&(D["aria-label"]=i.titleText),i.focusDialog&&(D.tabIndex="-1");for(var L in i)/^(data-|aria-)/.test(L)&&(D[L]=i[L]);var V=[wv.createElement("div",D,i.children)];i.verticallyCenter&&V.unshift(wv.createElement("div",x));var W=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(W.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),W.escapeDeactivates=i.escapeExits,wv.createElement(Rfe,{focusTrapOptions:W,paused:i.focusTrapPaused},wv.createElement("div",a,V))}}]),e}(wv.Component);Gv(O7,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});var Qj=Gj(O7);Qj.renderTo=function(t){return Gj(O7,{renderTo:t})};var zfe=Qj;const jfe=Qo(zfe);function tu(){var t="/workspaces/maputnik/src/components/Modal.tsx",n="f086f0fdac9faa00f78440864498e4f42cba4f0f",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:12},end:{line:18,column:3}},2:{start:{line:12,column:4},end:{line:14,column:5}},3:{start:{line:13,column:6},end:{line:13,column:36}},4:{start:{line:15,column:4},end:{line:17,column:10}},5:{start:{line:16,column:6},end:{line:16,column:37}},6:{start:{line:20,column:4},end:{line:58,column:5}},7:{start:{line:21,column:6},end:{line:55,column:8}},8:{start:{line:57,column:6},end:{line:57,column:19}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:18},end:{line:18,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:15,column:15},end:{line:15,column:16}},loc:{start:{line:15,column:21},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:11},end:{line:59,column:3}},line:19}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:20,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/Modal.tsx"],names:[],mappings:"AA+CU,SACE,KADF;AA/CV,OAAO,WAAW;AAClB,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAcvB,qBAAqB,cAAc,MAAM,UAAsB;AAAA,EAC7D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAM;AAAA,sBACN,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f086f0fdac9faa00f78440864498e4f42cba4f0f"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return tu=function(){return s},s}tu();class af extends gn.Component{constructor(){super(...arguments);rn(this,"onClose",(tu().s[1]++,()=>{tu().f[0]++,tu().s[2]++,document.activeElement?(tu().b[0][0]++,tu().s[3]++,document.activeElement.blur()):tu().b[0][1]++,tu().s[4]++,setTimeout(()=>{tu().f[1]++,tu().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){return tu().f[2]++,tu().s[6]++,this.props.isOpen?(tu().b[1][0]++,tu().s[7]++,N.jsx(jfe,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:N.jsxs("div",{className:rh("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[N.jsxs("header",{className:"maputnik-modal-header",children:[N.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),N.jsx("span",{className:"maputnik-modal-header-space"}),N.jsx("button",{className:"maputnik-modal-header-toggle",title:"Close modal",onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:N.jsx(Zte,{})})]}),N.jsx("div",{className:"maputnik-modal-scroller",children:N.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(tu().b[1][1]++,tu().s[8]++,!1)}}rn(af,"defaultProps",(tu().s[0]++,{underlayClickExits:!0}));function vu(){var t="/workspaces/maputnik/src/components/InputSelect.tsx",n="f41e9f4a29568855e6a870874d4ac08060c13b21",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f41e9f4a29568855e6a870874d4ac08060c13b21"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return vu=function(){return s},s}vu();class f1 extends gn.Component{render(){vu().f[0]++;let n=(vu().s[0]++,this.props.options);return vu().s[1]++,vu().b[1][0]++,n.length>0&&(vu().b[1][1]++,!Array.isArray(n[0]))?(vu().b[0][0]++,vu().s[2]++,n=n.map(e=>(vu().f[1]++,vu().s[3]++,[e,e]))):vu().b[0][1]++,vu().s[4]++,N.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:e=>(vu().f[2]++,vu().s[5]++,this.props.onChange(e.target.value)),"aria-label":this.props["aria-label"],children:n.map(([e,r])=>(vu().f[3]++,vu().s[6]++,N.jsx("option",{value:e,children:r},e)))})}}function Yf(){var t="/workspaces/maputnik/src/components/FieldType.tsx",n="0f3fa1da7c97f3831a0d69f91bb681cac88c00b5",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:4},end:{line:48,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:49,column:3}},line:11}},branchMap:{0:{loc:{start:{line:20,column:10},end:{line:26,column:11}},type:"binary-expr",locations:[{start:{line:20,column:10},end:{line:20,column:29}},{start:{line:20,column:49},end:{line:26,column:11}}],line:20},1:{loc:{start:{line:27,column:10},end:{line:45,column:11}},type:"binary-expr",locations:[{start:{line:27,column:10},end:{line:27,column:30}},{start:{line:27,column:50},end:{line:45,column:11}}],line:27}},s:{0:0,1:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAqBW,SAKH,KALG;AArBX,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAUxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAQ,WAAW,OAAO,MAAM;AAAA,QACnD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0f3fa1da7c97f3831a0d69f91bb681cac88c00b5"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Yf=function(){return s},s}Yf();class B7 extends gn.Component{render(){return Yf().f[0]++,Yf().s[1]++,N.jsxs(To,{label:"Type",fieldSpec:vr.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(Yf().b[0][0]++,this.props.disabled&&(Yf().b[0][1]++,N.jsx(Sd,{value:this.props.value,disabled:!0}))),(Yf().b[1][0]++,!this.props.disabled&&(Yf().b[1][1]++,N.jsx(f1,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}rn(B7,"defaultProps",(Yf().s[0]++,{disabled:!1}));function B3(){var t="/workspaces/maputnik/src/components/FieldId.tsx",n="7b27dbdca9b515826a704e8381c8507506940899",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAmBM;AAnBN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAM,WAAW,OAAO,MAAM;AAAA,QACjD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7b27dbdca9b515826a704e8381c8507506940899"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return B3=function(){return s},s}B3();class $j extends gn.Component{render(){return B3().f[0]++,B3().s[0]++,N.jsx(To,{label:"ID",fieldSpec:vr.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:N.jsx(Sd,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var Yj={exports:{}},Wfe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function Nfe(t){var n,e,r,i=t.ownerDocument,o=i.body,s=i&&i.documentElement;return n=t.getBoundingClientRect(),e=n.left,r=n.top,e-=s.clientLeft||o.clientLeft||0,r-=s.clientTop||o.clientTop||0,{left:e,top:r}}function qj(t,n){var e=t["page"+(n?"Y":"X")+"Offset"],r="scroll"+(n?"Top":"Left");if(typeof e!="number"){var i=t.document;e=i.documentElement[r],typeof e!="number"&&(e=i.body[r])}return e}function cE(t){return qj(t)}function dE(t){return qj(t,!0)}function Vj(t){var n=Nfe(t),e=t.ownerDocument,r=e.defaultView||e.parentWindow;return n.left+=cE(r),n.top+=dE(r),n}function Gfe(t,n,e){var r="",i=t.ownerDocument;return(e=e||i.defaultView.getComputedStyle(t,null))&&(r=e.getPropertyValue(n)||e[n]),r}var Qfe=new RegExp("^("+Wfe+")(?!px)[a-z%]+$","i"),$fe=/^(top|right|bottom|left)$/,_M="currentStyle",bM="runtimeStyle",h0="left",Yfe="px";function qfe(t,n){var e=t[_M]&&t[_M][n];if(Qfe.test(e)&&!$fe.test(n)){var r=t.style,i=r[h0],o=t[bM][h0];t[bM][h0]=t[_M][h0],r[h0]=n==="fontSize"?"1em":e||0,e=r.pixelLeft+Yfe,r[h0]=i,t[bM][h0]=o}return e===""?"auto":e}var a1;typeof window<"u"&&(a1=window.getComputedStyle?Gfe:qfe);function Vfe(t,n){Hg(t,"position")==="static"&&(t.style.position="relative");var e=Vj(t),r={},i,o;for(o in n)i=parseFloat(Hg(t,o))||0,r[o]=i+n[o]-e[o];Hg(t,r)}function I7(t,n){for(var e=0;e<t.length;e++)n(t[e])}function Hj(t){return a1(t,"boxSizing")==="border-box"}var Hfe=["margin","border","padding"],hE=-1,Zfe=2,fE=1,Xfe=0;function Jfe(t,n,e){var r={},i=t.style,o;for(o in n)r[o]=i[o],i[o]=n[o];e.call(t);for(o in n)i[o]=r[o]}function Qv(t,n,e){var r=0,i,o,s;for(o=0;o<n.length;o++)if(i=n[o],i)for(s=0;s<e.length;s++){var a;i==="border"?a=i+e[s]+"Width":a=i+e[s],r+=parseFloat(a1(t,a))||0}return r}function Hx(t){return t!=null&&t==t.window}var Qh={};I7(["Width","Height"],function(t){Qh["doc"+t]=function(n){var e=n.document;return Math.max(e.documentElement["scroll"+t],e.body["scroll"+t],Qh["viewport"+t](e))},Qh["viewport"+t]=function(n){var e="client"+t,r=n.document,i=r.body,o=r.documentElement,s=o[e];return r.compatMode==="CSS1Compat"&&s||i&&i[e]||s}});function KT(t,n,e){if(Hx(t))return n==="width"?Qh.viewportWidth(t):Qh.viewportHeight(t);if(t.nodeType===9)return n==="width"?Qh.docWidth(t):Qh.docHeight(t);var r=n==="width"?["Left","Right"]:["Top","Bottom"],i=n==="width"?t.offsetWidth:t.offsetHeight;a1(t);var o=Hj(t),s=0;(i==null||i<=0)&&(i=void 0,s=a1(t,n),(s==null||Number(s)<0)&&(s=t.style[n]||0),s=parseFloat(s)||0),e===void 0&&(e=o?fE:hE);var a=i!==void 0||o,f=i||s;return e===hE?a?f-Qv(t,["border","padding"],r):s:a?f+(e===fE?0:e===Zfe?-Qv(t,["border"],r):Qv(t,["margin"],r)):s+Qv(t,Hfe.slice(e),r)}var epe={position:"absolute",visibility:"hidden",display:"block"};function PT(t){var n,e=arguments;return t.offsetWidth!==0?n=KT.apply(void 0,e):Jfe(t,epe,function(){n=KT.apply(void 0,e)}),n}I7(["width","height"],function(t){var n=t.charAt(0).toUpperCase()+t.slice(1);Qh["outer"+n]=function(r,i){return r&&PT(r,t,i?Xfe:fE)};var e=t==="width"?["Left","Right"]:["Top","Bottom"];Qh[t]=function(r,i){if(i!==void 0){if(r){a1(r);var o=Hj(r);return o&&(i+=Qv(r,["padding","border"],e)),Hg(r,t,i)}return}return r&&PT(r,t,hE)}});function Hg(t,n,e){if(typeof n=="object"){for(var r in n)Hg(t,r,n[r]);return}if(typeof e<"u")typeof e=="number"&&(e=e+"px"),t.style[n]=e;else return a1(t,n)}function Zj(t,n){for(var e in n)t[e]=n[e];return t}var Xj=Yj.exports={getWindow:function(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow},offset:function(t,n){if(typeof n<"u")Vfe(t,n);else return Vj(t)},isWindow:Hx,each:I7,css:Hg,clone:function(t){var n={};for(var e in t)n[e]=t[e];var r=t.overflow;if(r)for(e in t)n.overflow[e]=t.overflow[e];return n},mix:Zj,scrollLeft:function(t,n){if(Hx(t)){if(n===void 0)return cE(t);window.scrollTo(n,dE(t))}else{if(n===void 0)return t.scrollLeft;t.scrollLeft=n}},scrollTop:function(t,n){if(Hx(t)){if(n===void 0)return dE(t);window.scrollTo(cE(t),n)}else{if(n===void 0)return t.scrollTop;t.scrollTop=n}},merge:function(){for(var t={},n=0;n<arguments.length;n++)Xj.mix(t,arguments[n]);return t},viewportWidth:0,viewportHeight:0};Zj(Xj,Qh);var tpe=Yj.exports,Wa=tpe;function npe(t,n,e){e=e||{},n.nodeType===9&&(n=Wa.getWindow(n));var r=e.allowHorizontalScroll,i=e.onlyScrollIfNeeded,o=e.alignWithTop,s=e.alignWithLeft;r=r===void 0?!0:r;var a=Wa.isWindow(n),f=Wa.offset(t),g=Wa.outerHeight(t),x=Wa.outerWidth(t),I,B,D,L,V,W,j,G,ee,re;a?(j=n,re=Wa.height(j),ee=Wa.width(j),G={left:Wa.scrollLeft(j),top:Wa.scrollTop(j)},V={left:f.left-G.left,top:f.top-G.top},W={left:f.left+x-(G.left+ee),top:f.top+g-(G.top+re)},L=G):(I=Wa.offset(n),B=n.clientHeight,D=n.clientWidth,L={left:n.scrollLeft,top:n.scrollTop},V={left:f.left-(I.left+(parseFloat(Wa.css(n,"borderLeftWidth"))||0)),top:f.top-(I.top+(parseFloat(Wa.css(n,"borderTopWidth"))||0))},W={left:f.left+x-(I.left+D+(parseFloat(Wa.css(n,"borderRightWidth"))||0)),top:f.top+g-(I.top+B+(parseFloat(Wa.css(n,"borderBottomWidth"))||0))}),V.top<0||W.top>0?o===!0?Wa.scrollTop(n,L.top+V.top):o===!1?Wa.scrollTop(n,L.top+W.top):V.top<0?Wa.scrollTop(n,L.top+V.top):Wa.scrollTop(n,L.top+W.top):i||(o=o===void 0?!0:!!o,o?Wa.scrollTop(n,L.top+V.top):Wa.scrollTop(n,L.top+W.top)),r&&(V.left<0||W.left>0?s===!0?Wa.scrollLeft(n,L.left+V.left):s===!1?Wa.scrollLeft(n,L.left+W.left):V.left<0?Wa.scrollLeft(n,L.left+V.left):Wa.scrollLeft(n,L.left+W.left):i||(s=s===void 0?!0:!!s,s?Wa.scrollLeft(n,L.left+V.left):Wa.scrollLeft(n,L.left+W.left)))}var rpe=npe,ipe=rpe,Zx=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ope=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function ape(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function spe(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function lpe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var S0=Or,vl=oh,upe=Rm,UT=upe.findDOMNode,Ape=ipe,cpe=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function dpe(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var Z4=function(t){lpe(n,t);function n(e){ape(this,n);var r=spe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return ope(n,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,cpe.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;Ape(UT(r),UT(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){n.keyDownHandlers[r.key]?n.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,s){return r.sortItems(o,s,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,s=i.value,a=i.getItemValue,f=o===null?0:o,g=this.getFilteredItems(i),x=0;x<g.length&&!i.isItemSelectable(g[f]);x++)f=(f+1)%g.length;var I=g[f]&&i.isItemSelectable(g[f])?g[f]:null;if(s!==""&&I){var B=a(I),D=B.toLowerCase().indexOf(s.toLowerCase())===0;if(D)return{highlightedIndex:f}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),s=parseInt(o.marginBottom,10)||0,a=parseInt(o.marginLeft,10)||0,f=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+s,menuLeft:i.left+a,menuWidth:i.width+a+f})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(a,f){var g=r.props.renderItem(a,r.state.highlightedIndex===f,{cursor:"default"});return S0.cloneElement(g,{onMouseEnter:r.props.isItemSelectable(a)?function(){return r.highlightItemFromMouse(f)}:null,onClick:r.props.isItemSelectable(a)?function(){return r.selectItemFromMouse(a)}:null,ref:function(I){return r.refs["item-"+f]=I}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},s=this.props.renderMenu(i,this.props.value,o);return S0.cloneElement(s,{ref:function(f){return r.refs.menu=f},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=dpe(),this.refs.input.focus();return}var o=void 0,s=this.state.highlightedIndex;if(this.props.selectOnBlur&&s!==null){var a=this.getFilteredItems(this.props),f=a[s],g=this.props.getItemValue(f);o=function(){return i.props.onSelect(g,f)}}this.setState({isOpen:!1,highlightedIndex:null},o);var x=this.props.inputProps.onBlur;x&&x(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,s=o.x,a=o.y;this._scrollOffset=null,window.scrollTo(s,a),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(s,a)},0);return}this.setState({isOpen:!0});var f=this.props.inputProps.onFocus;f&&f(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return S0.createElement("div",Zx({style:Zx({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(Zx({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&S0.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),n}(S0.Component);Z4.propTypes={items:vl.array.isRequired,value:vl.any,onChange:vl.func,onSelect:vl.func,shouldItemRender:vl.func,isItemSelectable:vl.func,sortItems:vl.func,getItemValue:vl.func.isRequired,renderItem:vl.func.isRequired,renderMenu:vl.func,menuStyle:vl.object,renderInput:vl.func,inputProps:vl.object,wrapperProps:vl.object,wrapperStyle:vl.object,autoHighlight:vl.bool,selectOnBlur:vl.bool,onMenuVisibilityChange:vl.func,open:vl.bool,debug:vl.bool};Z4.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(n){return S0.createElement("input",n)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(n,e,r){return S0.createElement("div",{style:Zx({},r,this.menuStyle),children:n})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};Z4.keyDownHandlers={ArrowDown:function(n){n.preventDefault();var e=this.getFilteredItems(this.props);if(e.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<e.length;o++){var s=(i+o+1)%e.length;if(this.props.isItemSelectable(e[s])){i=s;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(n){n.preventDefault();var e=this.getFilteredItems(this.props);if(e.length){for(var r=this.state.highlightedIndex,i=r===null?e.length:r,o=0;o<e.length;o++){var s=(i-(1+o)+e.length)%e.length;if(this.props.isItemSelectable(e[s])){i=s;break}}i!==e.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(n){var e=this;if(n.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){e.refs.input.select()});else{n.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){e.refs.input.setSelectionRange(i.length,i.length),e.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var hpe=Z4;const fpe=Qo(hpe);function ji(){var t="/workspaces/maputnik/src/components/InputAutocomplete.tsx",n="1b0ce97338f22d67cb77aa769a33852c179a8268",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b0ce97338f22d67cb77aa769a33852c179a8268"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return ji=function(){return s},s}ji();const DT=(ji().s[0]++,140);class Ky extends gn.Component{constructor(){super(...arguments);rn(this,"state",(ji().s[1]++,{maxHeight:DT}));rn(this,"autocompleteMenuEl",(ji().s[2]++,null))}calcMaxHeight(){if(ji().f[1]++,ji().s[4]++,this.props.keepMenuWithinWindowBounds){ji().b[0][0]++;const e=(ji().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(ji().s[6]++,Math.min(e,DT));ji().s[7]++,r!=this.state.maxHeight?(ji().b[1][0]++,ji().s[8]++,this.setState({maxHeight:r})):ji().b[1][1]++}else ji().b[0][1]++}componentDidMount(){ji().f[2]++,ji().s[9]++,this.calcMaxHeight()}componentDidUpdate(){ji().f[3]++,ji().s[10]++,this.calcMaxHeight()}onChange(e){ji().f[4]++,ji().s[11]++,this.props.onChange(e===""?(ji().b[2][0]++,void 0):(ji().b[2][1]++,e))}render(){return ji().f[5]++,ji().s[12]++,N.jsx("div",{ref:e=>{ji().f[6]++,ji().s[13]++,this.autocompleteMenuEl=e},children:N.jsx(fpe,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:e=>(ji().f[7]++,ji().s[14]++,e[0]),onSelect:e=>(ji().f[8]++,ji().s[15]++,this.onChange(e)),onChange:(e,r)=>(ji().f[9]++,ji().s[16]++,this.onChange(r)),shouldItemRender:(e,r=(ji().b[3][0]++,""))=>(ji().f[10]++,ji().s[17]++,typeof r=="string"?(ji().b[4][0]++,ji().s[18]++,e[0].toLowerCase().indexOf(r.toLowerCase())>-1):(ji().b[4][1]++,ji().s[19]++,!1)),renderItem:(e,r)=>(ji().f[11]++,ji().s[20]++,N.jsx("div",{className:rh({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:e[1]},e[0]))})})}}rn(Ky,"defaultProps",(ji().s[3]++,{onChange:()=>{ji().f[0]++},options:[]}));function nm(){var t="/workspaces/maputnik/src/components/FieldSource.tsx",n="1027060e10802e77d9bc740e51595ccc79ca1288",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:11,column:3}},1:{start:{line:13,column:4},end:{line:29,column:6}},2:{start:{line:25,column:56},end:{line:25,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:30,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:56},end:{line:25,column:66}},line:25}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA2BM;AA3BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1027060e10802e77d9bc740e51595ccc79ca1288"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return nm=function(){return s},s}nm();class k7 extends gn.Component{render(){var n;return nm().f[1]++,nm().s[1]++,N.jsx(To,{label:"Source",fieldSpec:vr.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:N.jsx(Ky,{value:this.props.value,onChange:this.props.onChange,options:(n=this.props.sourceIds)==null?void 0:n.map(e=>(nm().f[2]++,nm().s[2]++,[e,e]))})})}}rn(k7,"defaultProps",(nm().s[0]++,{onChange:()=>{nm().f[0]++},sourceIds:[]}));function rm(){var t="/workspaces/maputnik/src/components/FieldSourceLayer.tsx",n="cfa94fda2ca746a153c85b1584db89454be8a7f3",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:12,column:3}},1:{start:{line:14,column:4},end:{line:31,column:6}},2:{start:{line:27,column:59},end:{line:27,column:65}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:52},end:{line:27,column:53}},loc:{start:{line:27,column:59},end:{line:27,column:65}},line:27}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA5BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cfa94fda2ca746a153c85b1584db89454be8a7f3"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return rm=function(){return s},s}rm();class T7 extends gn.Component{render(){var n;return rm().f[1]++,rm().s[1]++,N.jsx(To,{label:"Source Layer",fieldSpec:vr.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:N.jsx(Ky,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(n=this.props.sourceLayerIds)==null?void 0:n.map(e=>(rm().f[2]++,rm().s[2]++,[e,e]))})})}}rn(T7,"defaultProps",(rm().s[0]++,{onChange:()=>{rm().f[0]++},sourceLayerIds:[],isFixed:!1}));function ar(){var t="/workspaces/maputnik/src/components/ModalAdd.tsx",n="26d9db9a622d1e9d2acaf51c330433d07e5f1073",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:10,column:13},end:{line:25,column:3}},1:{start:{line:11,column:26},end:{line:11,column:52}},2:{start:{line:12,column:18},end:{line:15,column:5}},3:{start:{line:16,column:4},end:{line:21,column:5}},4:{start:{line:17,column:6},end:{line:17,column:39}},5:{start:{line:18,column:6},end:{line:20,column:7}},6:{start:{line:19,column:8},end:{line:19,column:59}},7:{start:{line:22,column:4},end:{line:22,column:30}},8:{start:{line:23,column:4},end:{line:23,column:45}},9:{start:{line:24,column:4},end:{line:24,column:35}},10:{start:{line:27,column:4},end:{line:27,column:17}},11:{start:{line:28,column:18},end:{line:31,column:5}},12:{start:{line:32,column:4},end:{line:35,column:5}},13:{start:{line:33,column:6},end:{line:33,column:56}},14:{start:{line:34,column:6},end:{line:34,column:66}},15:{start:{line:36,column:4},end:{line:36,column:23}},16:{start:{line:39,column:20},end:{line:39,column:34}},17:{start:{line:40,column:20},end:{line:40,column:35}},18:{start:{line:41,column:32},end:{line:41,column:56}},19:{start:{line:42,column:32},end:{line:42,column:56}},20:{start:{line:43,column:4},end:{line:50,column:5}},21:{start:{line:47,column:6},end:{line:49,column:9}},22:{start:{line:53,column:22},end:{line:53,column:54}},23:{start:{line:54,column:4},end:{line:54,column:34}},24:{start:{line:57,column:20},end:{line:57,column:22}},25:{start:{line:58,column:18},end:{line:78,column:5}},26:{start:{line:79,column:4},end:{line:84,column:5}},27:{start:{line:80,column:22},end:{line:80,column:30}},28:{start:{line:81,column:6},end:{line:83,column:7}},29:{start:{line:82,column:8},end:{line:82,column:26}},30:{start:{line:85,column:4},end:{line:85,column:19}},31:{start:{line:88,column:20},end:{line:88,column:52}},32:{start:{line:89,column:19},end:{line:89,column:61}},33:{start:{line:90,column:4},end:{line:146,column:6}},34:{start:{line:105,column:16},end:{line:105,column:41}},35:{start:{line:114,column:31},end:{line:114,column:57}},36:{start:{line:123,column:31},end:{line:123,column:59}},37:{start:{line:132,column:31},end:{line:132,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:13},end:{line:10,column:14}},loc:{start:{line:10,column:19},end:{line:25,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:21},end:{line:37,column:3}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:44},end:{line:51,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:29},end:{line:55,column:3}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:19},end:{line:86,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:11},end:{line:147,column:3}},line:87},6:{name:"(anonymous_6)",decl:{start:{line:104,column:24},end:{line:104,column:25}},loc:{start:{line:104,column:31},end:{line:106,column:15}},line:104},7:{name:"(anonymous_7)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:31},end:{line:114,column:57}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:123,column:24},end:{line:123,column:25}},loc:{start:{line:123,column:31},end:{line:123,column:59}},line:123},9:{name:"(anonymous_9)",decl:{start:{line:132,column:24},end:{line:132,column:25}},loc:{start:{line:132,column:31},end:{line:132,column:67}},line:132}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:18,column:6},end:{line:20,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:20,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:18,column:10},end:{line:18,column:68}},type:"binary-expr",locations:[{start:{line:18,column:10},end:{line:18,column:38}},{start:{line:18,column:42},end:{line:18,column:68}}],line:18},3:{loc:{start:{line:32,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:35,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},4:{loc:{start:{line:43,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},5:{loc:{start:{line:45,column:6},end:{line:45,column:160}},type:"binary-expr",locations:[{start:{line:45,column:6},end:{line:45,column:25}},{start:{line:45,column:29},end:{line:45,column:52}},{start:{line:45,column:56},end:{line:45,column:106}},{start:{line:45,column:110},end:{line:45,column:160}}],line:45},6:{loc:{start:{line:53,column:22},end:{line:53,column:54}},type:"binary-expr",locations:[{start:{line:53,column:22},end:{line:53,column:48}},{start:{line:53,column:52},end:{line:53,column:54}}],line:53},7:{loc:{start:{line:54,column:11},end:{line:54,column:33}},type:"binary-expr",locations:[{start:{line:54,column:11},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:54,column:33}}],line:54},8:{loc:{start:{line:81,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:83,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:81},9:{loc:{start:{line:81,column:10},end:{line:81,column:61}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:24}},{start:{line:81,column:28},end:{line:81,column:61}}],line:81},10:{loc:{start:{line:117,column:10},end:{line:125,column:11}},type:"binary-expr",locations:[{start:{line:117,column:10},end:{line:117,column:42}},{start:{line:117,column:62},end:{line:125,column:11}}],line:117},11:{loc:{start:{line:126,column:10},end:{line:134,column:11}},type:"binary-expr",locations:[{start:{line:126,column:10},end:{line:126,column:87}},{start:{line:126,column:107},end:{line:134,column:11}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AAyIM,SACE,KADF;AAzIN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAmB7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAAsB;AAChC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAwC,EAAE,CAAC;AAAA,IAC9F;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAA2B,WAA0B;AAEtE,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cACb;AAAA;AAAA,UAED;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"26d9db9a622d1e9d2acaf51c330433d07e5f1073"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return ar=function(){return s},s}ar();class ppe extends gn.Component{constructor(e){ar().f[1]++,ar().s[10]++;super(e);rn(this,"addLayer",(ar().s[0]++,()=>{ar().f[0]++;const e=(ar().s[1]++,this.props.layers.slice(0)),r=(ar().s[2]++,{id:this.state.id,type:this.state.type});ar().s[3]++,this.state.type!=="background"?(ar().b[0][0]++,ar().s[4]++,r.source=this.state.source,ar().s[5]++,ar().b[2][0]++,this.state.type!=="raster"&&(ar().b[2][1]++,this.state["source-layer"])?(ar().b[1][0]++,ar().s[6]++,r["source-layer"]=this.state["source-layer"]):ar().b[1][1]++):ar().b[0][1]++,ar().s[7]++,e.push(r),ar().s[8]++,this.props.onLayersChange(e),ar().s[9]++,this.props.onOpenToggle(!1)}));const r=(ar().s[11]++,{type:"fill",id:""});ar().s[12]++,e.sources.length>0?(ar().b[3][0]++,ar().s[13]++,r.source=Object.keys(this.props.sources)[0],ar().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):ar().b[3][1]++,ar().s[15]++,this.state=r}componentDidUpdate(e,r){ar().f[2]++;const i=(ar().s[16]++,r.type),o=(ar().s[17]++,this.state.type),s=(ar().s[18]++,this.getSources(i)),a=(ar().s[19]++,this.getSources(o));ar().s[20]++,ar().b[5][0]++,i!==o&&(ar().b[5][1]++,r.source!=="")&&(ar().b[5][2]++,s.indexOf(r.source)>-1)&&(ar().b[5][3]++,a.indexOf(this.state.source)<0)?(ar().b[4][0]++,ar().s[21]++,this.setState({source:""})):ar().b[4][1]++}getLayersForSource(e){ar().f[3]++;const r=(ar().s[22]++,ar().b[6][0]++,this.props.sources[e]||(ar().b[6][1]++,{}));return ar().s[23]++,ar().b[7][0]++,r.layers||(ar().b[7][1]++,[])}getSources(e){ar().f[4]++;const r=(ar().s[24]++,[]),i=(ar().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});ar().s[26]++;for(const[o,s]of Object.entries(this.props.sources)){const a=(ar().s[27]++,s.type);ar().s[28]++,ar().b[9][0]++,i[a]&&(ar().b[9][1]++,i[a].indexOf(e)>-1)?(ar().b[8][0]++,ar().s[29]++,r.push(o)):ar().b[8][1]++}return ar().s[30]++,r}render(){ar().f[5]++;const e=(ar().s[31]++,this.getSources(this.state.type)),r=(ar().s[32]++,this.getLayersForSource(this.state.source));return ar().s[33]++,N.jsx(af,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Add Layer","data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:N.jsxs("div",{className:"maputnik-add-layer",children:[N.jsx($j,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:i=>{ar().f[6]++,ar().s[34]++,this.setState({id:i})}}),N.jsx(B7,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:i=>(ar().f[7]++,ar().s[35]++,this.setState({type:i}))}),(ar().b[10][0]++,this.state.type!=="background"&&(ar().b[10][1]++,N.jsx(k7,{sourceIds:e,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:i=>(ar().f[8]++,ar().s[36]++,this.setState({source:i}))}))),(ar().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(ar().b[11][1]++,N.jsx(T7,{isFixed:!0,sourceLayerIds:r,value:this.state["source-layer"],onChange:i=>(ar().f[9]++,ar().s[37]++,this.setState({"source-layer":i}))}))),N.jsx(ka,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:"Add Layer"})]})})}}function D0(){var t="/workspaces/maputnik/src/libs/document-uid.ts",n="e22fbb0e784a56d028b2bb08d71d49df2689bbfd",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e22fbb0e784a56d028b2bb08d71d49df2689bbfd"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return D0=function(){return s},s}D0();let FT=(D0().s[0]++,0);function gy(t=(D0().b[0][0]++,"")){return D0().f[0]++,D0().s[1]++,FT++,D0().s[2]++,t+FT}function ni(){var t="/workspaces/maputnik/src/libs/layer.ts",n="78a3a430ed0c958985f6bc8b11ff63ec0719dfe2",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"78a3a430ed0c958985f6bc8b11ff63ec0719dfe2"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return ni=function(){return s},s}ni();function mpe(t,n){ni().f[0]++;const e=(ni().s[0]++,{...t.paint});ni().s[1]++,Object.keys(e).forEach(i=>{ni().f[1]++,ni().s[2]++,i in vr["paint_"+n]?ni().b[0][1]++:(ni().b[0][0]++,ni().s[3]++,delete e[i])});const r=(ni().s[4]++,{...t.layout});return ni().s[5]++,Object.keys(r).forEach(i=>{ni().f[2]++,ni().s[6]++,i in vr["layout_"+n]?ni().b[1][1]++:(ni().b[1][0]++,ni().s[7]++,delete r[i])}),ni().s[8]++,{...t,paint:e,layout:r,type:n}}function gpe(t,n,e,r){if(ni().f[3]++,ni().s[9]++,r===void 0)if(ni().b[2][0]++,ni().s[10]++,n){ni().b[3][0]++;const i=(ni().s[11]++,{...t,[n]:{...t[n]}});return ni().s[12]++,delete i[n][e],ni().s[13]++,Object.keys(i[n]).length<1?(ni().b[4][0]++,ni().s[14]++,delete i[n]):ni().b[4][1]++,ni().s[15]++,i}else{ni().b[3][1]++;const i=(ni().s[16]++,{...t});return ni().s[17]++,delete i[e],ni().s[18]++,i}else return ni().b[2][1]++,ni().s[19]++,n?(ni().b[5][0]++,ni().s[20]++,{...t,[n]:{...t[n],[e]:r}}):(ni().b[5][1]++,ni().s[21]++,{...t,[e]:r})}function Bg(t){return ni().f[4]++,ni().s[22]++,t.replace(" ","-").replace("_","-").split("-")[0]}function ype(t,n){ni().f[5]++;const e=(ni().s[23]++,Bg(t[n].id));let r=(ni().s[24]++,n);ni().s[25]++;for(let i=(ni().s[26]++,n);i>0;i--){const o=(ni().s[27]++,Bg(t[i-1].id));if(ni().s[28]++,o===e)ni().b[6][0]++,ni().s[29]++,r=i-1;else return ni().b[6][1]++,ni().s[30]++,r}return ni().s[31]++,r}function Nt(){var t="/workspaces/maputnik/src/components/LayerList.tsx",n="d2e02c85ec5fc83ffbce6d479ba9684bf8657069",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:12,column:24},end:{line:15,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:20,column:45}},3:{start:{line:21,column:4},end:{line:21,column:48}},4:{start:{line:22,column:4},end:{line:31,column:6}},5:{start:{line:34,column:4},end:{line:43,column:7}},6:{start:{line:45,column:17},end:{line:62,column:3}},7:{start:{line:46,column:14},end:{line:46,column:15}},8:{start:{line:47,column:22},end:{line:47,column:24}},9:{start:{line:48,column:4},end:{line:57,column:7}},10:{start:{line:49,column:26},end:{line:49,column:51}},11:{start:{line:50,column:24},end:{line:50,column:52}},12:{start:{line:51,column:6},end:{line:53,column:7}},13:{start:{line:52,column:8},end:{line:52,column:63}},14:{start:{line:54,column:6},end:{line:56,column:9}},15:{start:{line:55,column:8},end:{line:55,column:17}},16:{start:{line:58,column:4},end:{line:61,column:7}},17:{start:{line:64,column:19},end:{line:64,column:21}},18:{start:{line:65,column:41},end:{line:65,column:50}},19:{start:{line:66,column:4},end:{line:83,column:5}},20:{start:{line:66,column:17},end:{line:66,column:18}},21:{start:{line:67,column:24},end:{line:67,column:44}},22:{start:{line:68,column:28},end:{line:68,column:52}},23:{start:{line:69,column:6},end:{line:72,column:8}},24:{start:{line:73,column:20},end:{line:76,column:7}},25:{start:{line:77,column:6},end:{line:82,column:7}},26:{start:{line:78,column:26},end:{line:78,column:51}},27:{start:{line:79,column:8},end:{line:79,column:30}},28:{start:{line:81,column:8},end:{line:81,column:29}},29:{start:{line:84,column:4},end:{line:84,column:18}},30:{start:{line:87,column:22},end:{line:87,column:50}},31:{start:{line:88,column:22},end:{line:88,column:55}},32:{start:{line:89,column:4},end:{line:93,column:5}},33:{start:{line:90,column:6},end:{line:90,column:68}},34:{start:{line:92,column:6},end:{line:92,column:35}},35:{start:{line:94,column:4},end:{line:96,column:7}},36:{start:{line:99,column:22},end:{line:99,column:78}},37:{start:{line:100,column:4},end:{line:100,column:51}},38:{start:{line:103,column:4},end:{line:105,column:5}},39:{start:{line:104,column:6},end:{line:104,column:18}},40:{start:{line:107,column:18},end:{line:109,column:7}},41:{start:{line:110,column:6},end:{line:114,column:7}},42:{start:{line:111,column:8},end:{line:113,column:10}},43:{start:{line:115,column:6},end:{line:115,column:17}},44:{start:{line:117,column:24},end:{line:120,column:5}},45:{start:{line:122,column:18},end:{line:124,column:7}},46:{start:{line:125,column:6},end:{line:125,column:27}},47:{start:{line:126,column:6},end:{line:126,column:17}},48:{start:{line:128,column:23},end:{line:131,column:5}},49:{start:{line:132,column:25},end:{line:132,column:53}},50:{start:{line:133,column:4},end:{line:133,column:24}},51:{start:{line:136,column:4},end:{line:152,column:5}},52:{start:{line:137,column:31},end:{line:137,column:59}},53:{start:{line:138,column:6},end:{line:151,column:7}},54:{start:{line:139,column:23},end:{line:139,column:44}},55:{start:{line:140,column:24},end:{line:143,column:9}},56:{start:{line:144,column:25},end:{line:149,column:19}},57:{start:{line:145,column:10},end:{line:145,column:37}},58:{start:{line:146,column:10},end:{line:148,column:11}},59:{start:{line:147,column:12},end:{line:147,column:36}},60:{start:{line:150,column:8},end:{line:150,column:33}},61:{start:{line:155,column:22},end:{line:155,column:24}},62:{start:{line:156,column:14},end:{line:156,column:15}},63:{start:{line:157,column:26},end:{line:157,column:46}},64:{start:{line:158,column:4},end:{line:209,column:7}},65:{start:{line:159,column:26},end:{line:159,column:51}},66:{start:{line:160,column:6},end:{line:173,column:7}},67:{start:{line:161,column:36},end:{line:171,column:9}},68:{start:{line:165,column:47},end:{line:165,column:52}},69:{start:{line:172,column:8},end:{line:172,column:28}},70:{start:{line:174,column:6},end:{line:208,column:9}},71:{start:{line:175,column:25},end:{line:175,column:72}},72:{start:{line:176,column:27},end:{line:178,column:10}},73:{start:{line:177,column:10},end:{line:177,column:97}},74:{start:{line:179,column:32},end:{line:179,column:34}},75:{start:{line:180,column:8},end:{line:182,column:9}},76:{start:{line:181,column:10},end:{line:181,column:53}},77:{start:{line:183,column:41},end:{line:205,column:9}},78:{start:{line:206,column:8},end:{line:206,column:33}},79:{start:{line:207,column:8},end:{line:207,column:17}},80:{start:{line:210,column:4},end:{line:262,column:6}},81:{start:{line:265,column:35},end:{line:265,column:118}},82:{start:{line:265,column:80},end:{line:265,column:117}},83:{start:{line:268,column:4},end:{line:277,column:6}},84:{start:{line:275,column:33},end:{line:275,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:25},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:32,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:25},end:{line:44,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:45,column:17},end:{line:45,column:18}},loc:{start:{line:45,column:23},end:{line:62,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:48,column:33},end:{line:48,column:34}},loc:{start:{line:48,column:45},end:{line:57,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:54,column:21},end:{line:54,column:22}},loc:{start:{line:54,column:33},end:{line:56,column:7}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:18},end:{line:85,column:3}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:37},end:{line:97,column:3}},line:86},8:{name:"(anonymous_8)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:32},end:{line:101,column:3}},line:98},9:{name:"(anonymous_9)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:46},end:{line:134,column:3}},line:102},10:{name:"getRequiredProps",decl:{start:{line:106,column:13},end:{line:106,column:29}},loc:{start:{line:106,column:37},end:{line:116,column:5}},line:106},11:{name:"withoutLayers",decl:{start:{line:121,column:13},end:{line:121,column:26}},loc:{start:{line:121,column:34},end:{line:127,column:5}},line:121},12:{name:"(anonymous_12)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:32},end:{line:153,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:144,column:50},end:{line:144,column:51}},loc:{start:{line:144,column:63},end:{line:149,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:11},end:{line:263,column:3}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:158,column:26},end:{line:158,column:27}},loc:{start:{line:158,column:38},end:{line:209,column:5}},line:158},16:{name:"(anonymous_16)",decl:{start:{line:165,column:40},end:{line:165,column:41}},loc:{start:{line:165,column:47},end:{line:165,column:52}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:174,column:21},end:{line:174,column:22}},loc:{start:{line:174,column:44},end:{line:208,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:176,column:50},end:{line:176,column:51}},loc:{start:{line:176,column:61},end:{line:178,column:9}},line:176},19:{name:"(anonymous_19)",decl:{start:{line:265,column:53},end:{line:265,column:54}},loc:{start:{line:265,column:80},end:{line:265,column:117}},line:265},20:{name:"(anonymous_20)",decl:{start:{line:267,column:2},end:{line:267,column:3}},loc:{start:{line:267,column:11},end:{line:278,column:3}},line:267},21:{name:"(anonymous_21)",decl:{start:{line:275,column:27},end:{line:275,column:28}},loc:{start:{line:275,column:33},end:{line:275,column:38}},line:275}},branchMap:{0:{loc:{start:{line:51,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:51,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},1:{loc:{start:{line:71,column:8},end:{line:71,column:79}},type:"cond-expr",locations:[{start:{line:71,column:41},end:{line:71,column:75}},{start:{line:71,column:78},end:{line:71,column:79}}],line:71},2:{loc:{start:{line:77,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:82,column:7}},{start:{line:80,column:13},end:{line:82,column:7}}],line:77},3:{loc:{start:{line:77,column:10},end:{line:77,column:81}},type:"binary-expr",locations:[{start:{line:77,column:10},end:{line:77,column:23}},{start:{line:77,column:27},end:{line:77,column:81}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:89},5:{loc:{start:{line:100,column:11},end:{line:100,column:50}},type:"cond-expr",locations:[{start:{line:100,column:34},end:{line:100,column:38}},{start:{line:100,column:41},end:{line:100,column:50}}],line:100},6:{loc:{start:{line:103,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:103,column:4},end:{line:105,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:103},7:{loc:{start:{line:110,column:6},end:{line:114,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:114,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:110},8:{loc:{start:{line:132,column:27},end:{line:132,column:52}},type:"binary-expr",locations:[{start:{line:132,column:27},end:{line:132,column:38}},{start:{line:132,column:42},end:{line:132,column:52}}],line:132},9:{loc:{start:{line:136,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:136,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:136},10:{loc:{start:{line:138,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:138},11:{loc:{start:{line:138,column:10},end:{line:138,column:51}},type:"binary-expr",locations:[{start:{line:138,column:10},end:{line:138,column:26}},{start:{line:138,column:30},end:{line:138,column:51}}],line:138},12:{loc:{start:{line:146,column:10},end:{line:148,column:11}},type:"if",locations:[{start:{line:146,column:10},end:{line:148,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},13:{loc:{start:{line:146,column:14},end:{line:146,column:68}},type:"binary-expr",locations:[{start:{line:146,column:14},end:{line:146,column:32}},{start:{line:146,column:36},end:{line:146,column:68}}],line:146},14:{loc:{start:{line:160,column:6},end:{line:173,column:7}},type:"if",locations:[{start:{line:160,column:6},end:{line:173,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},15:{loc:{start:{line:167,column:22},end:{line:167,column:98}},type:"binary-expr",locations:[{start:{line:167,column:22},end:{line:167,column:57}},{start:{line:167,column:61},end:{line:167,column:98}}],line:167},16:{loc:{start:{line:177,column:17},end:{line:177,column:96}},type:"binary-expr",locations:[{start:{line:177,column:17},end:{line:177,column:29}},{start:{line:177,column:33},end:{line:177,column:62}},{start:{line:177,column:66},end:{line:177,column:96}}],line:177},17:{loc:{start:{line:180,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:180,column:8},end:{line:182,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:180},18:{loc:{start:{line:187,column:52},end:{line:187,column:153}},type:"binary-expr",locations:[{start:{line:187,column:52},end:{line:187,column:69}},{start:{line:187,column:73},end:{line:187,column:112}},{start:{line:187,column:116},end:{line:187,column:153}}],line:187},19:{loc:{start:{line:188,column:53},end:{line:188,column:105}},type:"binary-expr",locations:[{start:{line:188,column:53},end:{line:188,column:84}},{start:{line:188,column:88},end:{line:188,column:105}}],line:188},20:{loc:{start:{line:196,column:25},end:{line:196,column:43}},type:"binary-expr",locations:[{start:{line:196,column:25},end:{line:196,column:37}},{start:{line:196,column:41},end:{line:196,column:43}}],line:196},21:{loc:{start:{line:239,column:26},end:{line:239,column:90}},type:"cond-expr",locations:[{start:{line:239,column:69},end:{line:239,column:79}},{start:{line:239,column:82},end:{line:239,column:90}}],line:239}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAiNoB,cAkEd,YAlEc;AAjNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AAsBrD,MAAM,2BAA2B,MAAM,UAA4D;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAgC;AAC1C,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAmC,oBAAM;AAAA,YACzD,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OAAO,aAAa;AAAA;AAAA,YAC3D,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBAA2C;AAAA;AAAA,YAEvD,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAW;AAAA,cAEX,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAGA,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d2e02c85ec5fc83ffbce6d479ba9684bf8657069"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Nt=function(){return s},s}Nt();class Jj extends gn.Component{constructor(e){Nt().f[1]++,Nt().s[1]++;super(e);rn(this,"selectedItemRef");rn(this,"scrollContainerRef");rn(this,"toggleLayers",(Nt().s[6]++,()=>{Nt().f[3]++;let e=(Nt().s[7]++,0);const r=(Nt().s[8]++,{});Nt().s[9]++,this.groupedLayers().forEach(i=>{Nt().f[4]++;const o=(Nt().s[10]++,Bg(i[0].id)),s=(Nt().s[11]++,[o,e].join("-"));Nt().s[12]++,i.length>1?(Nt().b[0][0]++,Nt().s[13]++,r[s]=this.state.areAllGroupsExpanded):Nt().b[0][1]++,Nt().s[14]++,i.forEach(a=>{Nt().f[5]++,Nt().s[15]++,e+=1})}),Nt().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));Nt().s[2]++,this.selectedItemRef=gn.createRef(),Nt().s[3]++,this.scrollContainerRef=gn.createRef(),Nt().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+gy()},isOpen:{add:!1}}}toggleModal(e){Nt().f[2]++,Nt().s[5]++,this.setState({keys:{...this.state.keys,[e]:+gy()},isOpen:{...this.state.isOpen,[e]:!this.state.isOpen[e]}})}groupedLayers(){Nt().f[6]++;const e=(Nt().s[17]++,[]),r=(Nt().s[18]++,new Map);Nt().s[19]++;for(let i=(Nt().s[20]++,0);i<this.props.layers.length;i++){const o=(Nt().s[21]++,this.props.layers[i]),s=(Nt().s[22]++,this.props.layers[i-1]);Nt().s[23]++,r.set(o.id,r.has(o.id)?(Nt().b[1][0]++,r.get(o.id)+1):(Nt().b[1][1]++,0));const a=(Nt().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if(Nt().s[25]++,Nt().b[3][0]++,s&&(Nt().b[3][1]++,Bg(s.id)==Bg(a.id))){Nt().b[2][0]++;const f=(Nt().s[26]++,e[e.length-1]);Nt().s[27]++,f.push(a)}else Nt().b[2][1]++,Nt().s[28]++,e.push([a])}return Nt().s[29]++,e}toggleLayerGroup(e,r){Nt().f[7]++;const i=(Nt().s[30]++,[e,r].join("-")),o=(Nt().s[31]++,{...this.state.collapsedGroups});Nt().s[32]++,i in this.state.collapsedGroups?(Nt().b[4][0]++,Nt().s[33]++,o[i]=!this.state.collapsedGroups[i]):(Nt().b[4][1]++,Nt().s[34]++,o[i]=!1),Nt().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(e,r){Nt().f[8]++;const i=(Nt().s[36]++,this.state.collapsedGroups[[e,r].join("-")]);return Nt().s[37]++,i===void 0?(Nt().b[5][0]++,!0):(Nt().b[5][1]++,i)}shouldComponentUpdate(e,r){if(Nt().f[9]++,Nt().s[38]++,this.state!==r)return Nt().b[6][0]++,Nt().s[39]++,!0;Nt().b[6][1]++;function i(g){Nt().f[10]++;const x=(Nt().s[40]++,{id:g.id});return Nt().s[41]++,g.layout?(Nt().b[7][0]++,Nt().s[42]++,x.layout={visibility:g.layout.visibility}):Nt().b[7][1]++,Nt().s[43]++,x}const o=(Nt().s[44]++,FS.isEqual(e.layers.map(i),this.props.layers.map(i)));function s(g){Nt().f[11]++;const x=(Nt().s[45]++,{...g});return Nt().s[46]++,delete x.layers,Nt().s[47]++,x}const a=(Nt().s[48]++,FS.isEqual(s(this.props),s(e))),f=(Nt().s[49]++,Nt().b[8][0]++,!(o&&(Nt().b[8][1]++,a)));return Nt().s[50]++,f}componentDidUpdate(e){if(Nt().f[12]++,Nt().s[51]++,e.selectedLayerIndex!==this.props.selectedLayerIndex){Nt().b[9][0]++;const r=(Nt().s[52]++,this.selectedItemRef.current);if(Nt().s[53]++,Nt().b[11][0]++,r&&(Nt().b[11][1]++,r.node)){Nt().b[10][0]++;const i=(Nt().s[54]++,r.node),o=(Nt().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),s=(Nt().s[56]++,new IntersectionObserver(a=>{Nt().f[13]++,Nt().s[57]++,s.unobserve(i),Nt().s[58]++,Nt().b[13][0]++,a.length>0&&(Nt().b[13][1]++,a[0].intersectionRatio<1)?(Nt().b[12][0]++,Nt().s[59]++,i.scrollIntoView()):Nt().b[12][1]++},o));Nt().s[60]++,s.observe(i)}else Nt().b[10][1]++}else Nt().b[9][1]++}render(){Nt().f[14]++;const e=(Nt().s[61]++,[]);let r=(Nt().s[62]++,0);const i=(Nt().s[63]++,this.groupedLayers());return Nt().s[64]++,i.forEach(o=>{Nt().f[15]++;const s=(Nt().s[65]++,Bg(o[0].id));if(Nt().s[66]++,o.length>1){Nt().b[14][0]++;const a=(Nt().s[67]++,N.jsx(ghe,{"data-wd-key":[s,r].join("-"),"aria-controls":o.map(f=>(Nt().f[16]++,Nt().s[68]++,f.key)).join(" "),title:s,isActive:(Nt().b[15][0]++,!this.isCollapsed(s,r)||(Nt().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,s,r)},`group-${s}-${r}`));Nt().s[69]++,e.push(a)}else Nt().b[14][1]++;Nt().s[70]++,o.forEach((a,f)=>{var D;Nt().f[17]++;const g=(Nt().s[71]++,ype(this.props.layers,r)),x=(Nt().s[72]++,this.props.errors.find(L=>(Nt().f[18]++,Nt().s[73]++,Nt().b[16][0]++,L.parsed&&(Nt().b[16][1]++,L.parsed.type==="layer")&&(Nt().b[16][2]++,L.parsed.data.index==r)))),I=(Nt().s[74]++,{});Nt().s[75]++,r===this.props.selectedLayerIndex?(Nt().b[17][0]++,Nt().s[76]++,I.ref=this.selectedItemRef):Nt().b[17][1]++;const B=(Nt().s[77]++,N.jsx(Vhe,{className:rh({"maputnik-layer-list-item-collapsed":(Nt().b[18][0]++,o.length>1&&(Nt().b[18][1]++,this.isCollapsed(s,g))&&(Nt().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(Nt().b[19][0]++,f==o.length-1&&(Nt().b[19][1]++,o.length>1)),"maputnik-layer-list-item--error":!!x}),index:r,id:a.key,layerId:a.id,layerIndex:r,layerType:a.type,visibility:(Nt().b[20][0]++,a.layout||(Nt().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(D=this.props.onLayerDestroy)==null?void 0:D.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...I},a.key));Nt().s[78]++,e.push(B),Nt().s[79]++,r+=1})}),Nt().s[80]++,N.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":"Layers list",ref:this.scrollContainerRef,children:[N.jsx(ppe,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),N.jsxs("header",{className:"maputnik-layer-list-header",children:[N.jsx("span",{className:"maputnik-layer-list-header-title",children:"Layers"}),N.jsx("span",{className:"maputnik-space"}),N.jsx("div",{className:"maputnik-default-property",children:N.jsx("div",{className:"maputnik-multibutton",children:N.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(Nt().b[21][0]++,"Collapse"):(Nt().b[21][1]++,"Expand")})})}),N.jsx("div",{className:"maputnik-default-property",children:N.jsx("div",{className:"maputnik-multibutton",children:N.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:"Add Layer"})})})]}),N.jsx("div",{role:"navigation","aria-label":"Layers list",children:N.jsx("ul",{className:"maputnik-layer-list-container",children:e})})]})}}rn(Jj,"defaultProps",(Nt().s[0]++,{onLayerSelect:()=>{Nt().f[0]++}}));const vpe=(Nt().s[81]++,Qhe(t=>(Nt().f[19]++,Nt().s[82]++,N.jsx(Jj,{...t}))));class Cpe extends gn.Component{render(){return Nt().f[20]++,Nt().s[83]++,N.jsx(vpe,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>(Nt().f[21]++,Nt().s[84]++,!1)})}}var X4={},eW="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function _pe(t,n){X4[t]=n}function bpe(t){delete X4[t]}function xpe(t,n){var e=X4[t];if(!e)throw new Error("Cannot open "+eW);e.openMenu(n)}function wpe(t,n){var e=X4[t];if(!e)throw new Error("Cannot close "+eW);e.closeMenu(n)}var tW={registerManager:_pe,unregisterManager:bpe,openMenu:xpe,closeMenu:wpe};function fs(t){t=t||{};var n=t.keybindings||{};this._settings={keybindings:{next:n.next||{keyCode:40},prev:n.prev||{keyCode:38},first:n.first,last:n.last},wrap:t.wrap,stringSearch:t.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var e,r;for(e in this._settings.keybindings)r=this._settings.keybindings[e],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:e,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],t.members&&this.setMembers(t.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}fs.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};fs.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};fs.prototype._handleKeydownEvent=function(t){var n=this._getActiveElementIndex();if(n!==-1){var e=!1;this._keybindingsLookup.forEach((function(r){if(Mpe(r.eventMatcher,t))switch(e=!0,t.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),e||this._handleUnboundKey(t)}};fs.prototype.moveFocusForward=function(){var t=this._getActiveElementIndex(),n;return t<this._members.length-1?n=t+1:this._settings.wrap?n=0:n=t,this.focusNodeAtIndex(n),n};fs.prototype.moveFocusBack=function(){var t=this._getActiveElementIndex(),n;return t>0?n=t-1:this._settings.wrap?n=this._members.length-1:n=t,this.focusNodeAtIndex(n),n};fs.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};fs.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};fs.prototype._handleUnboundKey=function(t){if(this._settings.stringSearch){if(this._searchString!==""&&(t.key===" "||t.keyCode===32))return t.preventDefault(),-1;if(!Spe(t.keyCode)||t.ctrlKey||t.metaKey||t.altKey)return-1;t.preventDefault(),this._addToSearchString(String.fromCharCode(t.keyCode)),this._runStringSearch()}};fs.prototype._clearSearchString=function(){this._searchString=""};fs.prototype._addToSearchString=function(t){this._searchString+=t.toLowerCase()};fs.prototype._startSearchStringRefreshTimer=function(){var t=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){t._clearSearchString()},this._settings.stringSearchDelay)};fs.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};fs.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};fs.prototype.moveFocusByString=function(t){for(var n,e=0,r=this._members.length;e<r;e++)if(n=this._members[e],!!n.text&&n.text.indexOf(t)===0)return nW(n.node)};fs.prototype._findIndexOfNode=function(t){for(var n=0,e=this._members.length;n<e;n++)if(this._members[n].node===t)return n;return-1};fs.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};fs.prototype.focusNodeAtIndex=function(t){var n=this._members[t];return n&&nW(n.node),this};fs.prototype.addMember=function(t,n){var e=t.node||t,r=t.text||e.getAttribute("data-focus-group-text")||e.textContent||"";this._checkNode(e);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:e,text:i};return n!=null?this._members.splice(n,0,o):this._members.push(o),this};fs.prototype.removeMember=function(t){var n=typeof t=="number"?t:this._findIndexOfNode(t);if(n!==-1)return this._members.splice(n,1),this};fs.prototype.clearMembers=function(){return this._members=[],this};fs.prototype.setMembers=function(t){this.clearMembers();for(var n=0,e=t.length;n<e;n++)this.addMember(t[n]);return this};fs.prototype.getMembers=function(){return this._members};fs.prototype._checkNode=function(t){if(!t.nodeType||t.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return t};function Mpe(t,n){for(var e in t)if(n[e]!==void 0&&t[e]!==n[e])return!1;return!0}function Spe(t){return t>=65&&t<=90}function nW(t){!t||!t.focus||(t.focus(),t.tagName.toLowerCase()==="input"&&t.select())}var Epe=function(n){return new fs(n)},Ope=Epe,LT=tW,Bpe={wrap:!0,stringSearch:!0},Ipe={init:function(n){this.updateOptions(n),this.handleBlur=kpe.bind(this),this.handleSelection=Tpe.bind(this),this.handleMenuKey=Kpe.bind(this),this.focusGroup=Ope(Bpe),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(n){var e=this.options;this.options=n||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&LT.registerManager(this.options.id,this),e&&e.id&&e.id!==this.options.id&&LT.unregisterManager(this.options.id,this)},focusItem:function(n){this.focusGroup.focusNodeAtIndex(n)},addItem:function(n){this.focusGroup.addMember(n)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(n){this.focusGroup._handleUnboundKey(n)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(n){if(!this.isOpen&&(n=n||{},n.focusMenu===void 0&&(n.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),n.focusMenu)){var e=this;this.moveFocusTimer=setTimeout(function(){e.focusItem(0)},0)}},closeMenu:function(n){this.isOpen&&(n=n||{},this.isOpen=!1,this.update(),n.focusButton&&this.button.ref.current.focus())},toggleMenu:function(n,e){n=n||{},e=e||{},this.isOpen?this.closeMenu(n):this.openMenu(e)}};function kpe(){var t=this;t.blurTimer=setTimeout(function(){if(t.button){var n=t.button.ref.current;if(n){var e=n.ownerDocument.activeElement;if(!(n&&e===n)){var r=t.menu.ref.current;if(r===e){t.focusItem(0);return}r&&r.contains(e)||t.isOpen&&t.closeMenu({focusButton:!1})}}}},0)}function Tpe(t,n){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(t,n)}function Kpe(t){if(this.isOpen)switch(t.key){case"Escape":t.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":t.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":t.preventDefault(),this.focusGroup.moveFocusToLast();break}}var Ppe=function(t){var n=Object.create(Ipe);return n.init(t),n},Upe=Or,Dpe=Upe.createContext(),J4=Dpe,vx=oh,e5={refType:vx.oneOfType([vx.func,vx.shape({current:vx.elementType})])},t5=function(t,n,e){e=e||{};for(var r in n)n.hasOwnProperty(r)&&(e[r]||(t[r]=n[r]))};function Fpe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Lpe(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function Rpe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var gC=Or,eg=oh,zpe=Ppe,jpe=J4,Wpe=e5,Npe=Wpe.refType,pE=t5,I3={children:eg.node.isRequired,forwardedRef:Npe,onMenuToggle:eg.func,onSelection:eg.func,closeOnSelection:eg.bool,closeOnBlur:eg.bool,tag:eg.string},RT=function(n){return{onMenuToggle:n.onMenuToggle,onSelection:n.onSelection,closeOnSelection:n.closeOnSelection,closeOnBlur:n.closeOnBlur,id:n.id}},K7=function(t){Rpe(n,t);function n(e){Fpe(this,n);var r=Lpe(this,t.call(this,e));return r.manager=zpe(RT(e)),r}return n.prototype.componentDidUpdate=function(){this.manager.updateOptions(RT(this.props))},n.prototype.render=function(){var r={};return pE(r,this.props,I3),gC.createElement(jpe.Provider,{value:this.manager},gC.createElement(this.props.tag,r,this.props.children))},n}(gC.Component);K7.propTypes=I3;K7.defaultProps={tag:"div"};var Gpe=gC.forwardRef(function(t,n){var e={forwardedRef:n};return pE(e,t,{children:I3.children,forwardedRef:I3.forwardedRef}),pE(e,{forwardedRef:n}),gC.createElement(K7,e,t.children)});function Qpe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function zT(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function $pe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var Zg=Or,Cx=oh,Ype=J4,qpe=e5,Vpe=qpe.refType,Xx=t5,yC={ambManager:Cx.object.isRequired,children:Cx.node.isRequired,disabled:Cx.bool,forwardedRef:Vpe,tag:Cx.string},Hpe=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},P7=function(t){$pe(n,t);function n(){var e,r,i;Qpe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(e=(r=zT(this,t.call.apply(t,[this].concat(s))),r),r.ref=Zg.createRef(),r.handleKeyDown=function(f){if(!r.props.disabled){var g=r.props.ambManager;switch(f.key){case"ArrowDown":f.preventDefault(),g.isOpen?g.focusItem(0):g.openMenu();break;case"Enter":case" ":f.preventDefault(),g.toggleMenu();break;case"Escape":g.handleMenuKey(f);break;default:g.handleButtonNonArrowKey(f)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},e),zT(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.button=this},n.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},n.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},s={};return Xx(s,yC),Hpe().indexOf(r.tag)>=0&&delete s.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),Xx(o,r,s),Xx(o,{ref:this.setRef}),Zg.createElement(r.tag,o,r.children)},n}(Zg.Component);P7.propTypes=yC;P7.defaultProps={tag:"span"};var Zpe=Zg.forwardRef(function(t,n){return Zg.createElement(Ype.Consumer,null,function(e){var r={ambManager:e,forwardedRef:n};return Xx(r,t,{ambManager:yC.ambManager,children:yC.children,forwardedRef:yC.forwardedRef}),Zg.createElement(P7,r,t.children)})}),Xpe=function(n,e,r){var i=0,o=0,s=!1,a=!1,f=!1;n.addEventListener("click",g,r),n.addEventListener("touchstart",x,r);function g(W){f||e(W)}function x(W){f=!0,!s&&(s=!0,n.addEventListener("touchmove",I,r),n.addEventListener("touchend",B,r),n.addEventListener("touchcancel",D,r),a=!1,i=W.touches[0].clientX,o=W.touches[0].clientY)}function I(W){a||Math.abs(W.touches[0].clientX-i)<=10&&Math.abs(W.touches[0].clientY-o)<=10||(a=!0)}function B(W){s=!1,L(),a||e(W)}function D(){s=!1,a=!1,i=0,o=0}function L(){n.removeEventListener("touchmove",I,r),n.removeEventListener("touchend",B,r),n.removeEventListener("touchcancel",D,r)}function V(){n.removeEventListener("click",g,r),n.removeEventListener("touchstart",x,r),L()}return{remove:V}};function Jpe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function jT(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function eme(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var Xg=Or,Mv=oh,tme=Xpe,nme=J4,rme=e5,ime=rme.refType,mE=t5,vC={ambManager:Mv.object.isRequired,children:Mv.oneOfType([Mv.func,Mv.node]).isRequired,forwardedRef:ime,tag:Mv.string},U7=function(t){eme(n,t);function n(){var e,r,i;Jpe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(e=(r=jT(this,t.call.apply(t,[this].concat(s))),r),r.ref=Xg.createRef(),r.addTapListener=function(){var f=r.ref.current;if(f){var g=f.ownerDocument;g&&(r.tapListener=tme(g.documentElement,r.handleTap))}},r.handleTap=function(f){r.ref.current.contains(f.target)||r.props.ambManager.button.ref.current.contains(f.target)||r.props.ambManager.closeMenu()},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},e),jT(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.menu=this},n.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},n.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},n.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var s={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(s.onBlur=i.handleBlur),mE(s,r,vC),mE(s,{ref:this.setRef}),Xg.createElement(r.tag,s,o)},n}(Xg.Component);U7.propTypes=vC;U7.defaultProps={tag:"div"};var ome=Xg.forwardRef(function(t,n){return Xg.createElement(nme.Consumer,null,function(e){var r={ambManager:e,forwardedRef:n};return mE(r,t,{ambManager:vC.ambManager,children:vC.children,forwardedRef:vC.forwardedRef}),Xg.createElement(U7,r,t.children)})});function ame(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function WT(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function sme(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var Jg=Or,Sv=oh,lme=J4,ume=e5,Ame=ume.refType,rW=t5,CC={ambManager:Sv.object.isRequired,children:Sv.node.isRequired,forwardedRef:Ame,tag:Sv.string,text:Sv.string,value:Sv.any},D7=function(t){sme(n,t);function n(){var e,r,i;ame(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(e=(r=WT(this,t.call.apply(t,[this].concat(s))),r),r.ref=Jg.createRef(),r.handleKeyDown=function(f){f.key!=="Enter"&&f.key!==" "||r.props.tag==="a"&&r.props.href||(f.preventDefault(),r.selectItem(f))},r.selectItem=function(f){var g=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(g,f)},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},e),WT(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},n.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return rW(r,this.props,CC),Jg.createElement(this.props.tag,r,this.props.children)},n}(Jg.Component);D7.propTypes=CC;D7.defaultProps={tag:"div"};var cme=Jg.forwardRef(function(t,n){return Jg.createElement(lme.Consumer,null,function(e){var r={ambManager:e,forwardedRef:n};return rW(r,t,{ambManager:CC.ambManager,children:CC.children,forwardedRef:CC.forwardedRef}),Jg.createElement(D7,r,t.children)})}),NT=tW,_x={Wrapper:Gpe,Button:Zpe,Menu:ome,MenuItem:cme,openMenu:NT.openMenu,closeMenu:NT.closeMenu};function n5(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function GT(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F7(t,n,e){return n&&GT(t.prototype,n),e&&GT(t,e),t}function ns(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Jh(){return Jh=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Jh.apply(this,arguments)}function QT(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function gE(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?QT(Object(e),!0).forEach(function(r){ns(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):QT(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function L7(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&yE(t,n)}function k3(t){return k3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k3(t)}function yE(t,n){return yE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},yE(t,n)}function dme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function hme(t,n){if(t==null)return{};var e={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(e[i]=t[i]);return e}function r5(t,n){if(t==null)return{};var e=hme(t,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function Xd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fme(t,n){return n&&(typeof n=="object"||typeof n=="function")?n:Xd(t)}function R7(t){var n=dme();return function(){var r=k3(t),i;if(n){var o=k3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fme(this,i)}}function pme(t,n){return yme(t)||Cme(t,n)||iW(t,n)||bme()}function mme(t){return gme(t)||vme(t)||iW(t)||_me()}function gme(t){if(Array.isArray(t))return vE(t)}function yme(t){if(Array.isArray(t))return t}function vme(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cme(t,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var e=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(e.push(a.value),!(n&&e.length===n));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return e}}function iW(t,n){if(t){if(typeof t=="string")return vE(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return vE(t,n)}}function vE(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function _me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xme=function t(n){var e=this,r=n.expanded,i=r===void 0?[]:r,o=n.allowMultipleExpanded,s=o===void 0?!1:o,a=n.allowZeroExpanded,f=a===void 0?!1:a;n5(this,t),ns(this,"expanded",void 0),ns(this,"allowMultipleExpanded",void 0),ns(this,"allowZeroExpanded",void 0),ns(this,"toggleExpanded",function(g){if(e.isItemDisabled(g))return e;var x=e.isItemExpanded(g);return x?e.augment({expanded:e.expanded.filter(function(I){return I!==g})}):e.augment({expanded:e.allowMultipleExpanded?[].concat(mme(e.expanded),[g]):[g]})}),ns(this,"isItemDisabled",function(g){var x=e.isItemExpanded(g),I=e.expanded.length===1;return!!(x&&!e.allowZeroExpanded&&I)}),ns(this,"isItemExpanded",function(g){return e.expanded.indexOf(g)!==-1}),ns(this,"getPanelAttributes",function(g,x){var I=x??e.isItemExpanded(g);return{role:e.allowMultipleExpanded?void 0:"region","aria-hidden":e.allowMultipleExpanded?!I:void 0,"aria-labelledby":e.getButtonId(g),id:e.getPanelId(g),hidden:I?void 0:!0}}),ns(this,"getHeadingAttributes",function(){return{role:"heading"}}),ns(this,"getButtonAttributes",function(g,x){var I=x??e.isItemExpanded(g),B=e.isItemDisabled(g);return{id:e.getButtonId(g),"aria-disabled":B,"aria-expanded":I,"aria-controls":e.getPanelId(g),role:"button",tabIndex:0}}),ns(this,"getPanelId",function(g){return"accordion__panel-".concat(g)}),ns(this,"getButtonId",function(g){return"accordion__heading-".concat(g)}),ns(this,"augment",function(g){return new t(gE({expanded:e.expanded,allowMultipleExpanded:e.allowMultipleExpanded,allowZeroExpanded:e.allowZeroExpanded},g))}),this.expanded=i,this.allowMultipleExpanded=s,this.allowZeroExpanded=f},oW=Or.createContext(null),aW=function(t){L7(e,t);var n=R7(e);function e(){var r;n5(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ns(Xd(r),"state",new xme({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),ns(Xd(r),"toggleExpanded",function(a){r.setState(function(f){return f.toggleExpanded(a)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),ns(Xd(r),"isItemDisabled",function(a){return r.state.isItemDisabled(a)}),ns(Xd(r),"isItemExpanded",function(a){return r.state.isItemExpanded(a)}),ns(Xd(r),"getPanelAttributes",function(a,f){return r.state.getPanelAttributes(a,f)}),ns(Xd(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),ns(Xd(r),"getButtonAttributes",function(a,f){return r.state.getButtonAttributes(a,f)}),r}return F7(e,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,s=i.allowMultipleExpanded;return Or.createElement(oW.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),e}(Or.PureComponent);ns(aW,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var sW=function(t){L7(e,t);var n=R7(e);function e(){var r;n5(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ns(Xd(r),"renderChildren",function(a){return a?r.props.children(a):null}),r}return F7(e,[{key:"render",value:function(){return Or.createElement(oW.Consumer,null,this.renderChildren)}}]),e}(Or.PureComponent),wme=function(n){var e=n.className,r=e===void 0?"accordion":e,i=n.allowMultipleExpanded,o=n.allowZeroExpanded,s=n.onChange,a=n.preExpanded,f=r5(n,["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"]);return Or.createElement(aW,{preExpanded:a,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:s},Or.createElement("div",Jh({"data-accordion-component":"Accordion",className:r},f)))},CE;(function(t){t.Accordion="Accordion",t.AccordionItem="AccordionItem",t.AccordionItemButton="AccordionItemButton",t.AccordionItemHeading="AccordionItemHeading",t.AccordionItemPanel="AccordionItemPanel"})(CE||(CE={}));var lW=CE,Mme=0,xM=Mme;function Sme(){var t=xM;return xM=xM+1,"raa-".concat(t)}var Eme=/[\u0009\u000a\u000c\u000d\u0020]/g;function n_(t){return t===""||Eme.test(t)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(t,'", ASCII whitespaces are forbidden')),!1):!0}var uW=Or.createContext(null),Ome=function(n){var e=n.children,r=n.uuid,i=n.accordionContext,o=n.dangerouslySetExpanded,s=function(){i.toggleExpanded(r)},a=function(g){var x=o??g.isItemExpanded(r),I=g.isItemDisabled(r),B=g.getPanelAttributes(r,o),D=g.getHeadingAttributes(r),L=g.getButtonAttributes(r,o);return Or.createElement(uW.Provider,{value:{uuid:r,expanded:x,disabled:I,toggleExpanded:s,panelAttributes:B,headingAttributes:D,buttonAttributes:L}},e)};return Or.createElement(sW,null,a)},Bme=function(n){return Or.createElement(sW,null,function(e){return Or.createElement(Ome,Jh({},n,{accordionContext:e}))})},i5=function(n){var e=n.children,r=function(o){return o?e(o):null};return Or.createElement(uW.Consumer,null,r)},AW=function(n){var e=n.uuid,r=n.dangerouslySetExpanded,i=n.className,o=i===void 0?"accordion__item":i,s=n.activeClassName,a=r5(n,["uuid","dangerouslySetExpanded","className","activeClassName"]),f=Or.useState(Sme()),g=pme(f,1),x=g[0],I=e??x,B=function(L){var V=L.expanded,W=V&&s?s:o;return Or.createElement("div",Jh({"data-accordion-component":"AccordionItem",className:W},a))};return n_(I.toString()),a.id&&n_(a.id),Or.createElement(Bme,{uuid:I,dangerouslySetExpanded:r},Or.createElement(i5,null,B))};AW.displayName=lW.AccordionItem;function cW(t){return t&&(t.matches('[data-accordion-component="Accordion"]')?t:cW(t.parentElement))}function o5(t){var n=cW(t);return n&&Array.from(n.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Ime(t){var n=o5(t)||[],e=n[0];e&&e.focus()}function kme(t){var n=o5(t)||[],e=n[n.length-1];e&&e.focus()}function Tme(t){var n=o5(t)||[],e=n.indexOf(t);if(e!==-1){var r=n[e+1];r&&r.focus()}}function Kme(t){var n=o5(t)||[],e=n.indexOf(t);if(e!==-1){var r=n[e-1];r&&r.focus()}}var zf={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},Pme=function(n){var e=n.toggleExpanded,r=n.className,i=r===void 0?"accordion__button":r,o=r5(n,["toggleExpanded","className"]),s=function(f){var g=f.key;if((g===zf.ENTER||g===zf.SPACE||g===zf.SPACE_DEPRECATED)&&(f.preventDefault(),e()),f.target instanceof HTMLElement)switch(g){case zf.HOME:{f.preventDefault(),Ime(f.target);break}case zf.END:{f.preventDefault(),kme(f.target);break}case zf.LEFT:case zf.UP:{f.preventDefault(),Kme(f.target);break}case zf.RIGHT:case zf.DOWN:{f.preventDefault(),Tme(f.target);break}}};return o.id&&n_(o.id),Or.createElement("div",Jh({className:i},o,{role:"button",tabIndex:0,onClick:e,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},Ume=function(n){return Or.createElement(i5,null,function(e){var r=e.toggleExpanded,i=e.buttonAttributes;return Or.createElement(Pme,Jh({toggleExpanded:r},n,i))})},Dme={className:"accordion__heading","aria-level":3},Fme=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,dW=function(t){L7(e,t);var n=R7(e);function e(){var r;n5(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ns(Xd(r),"ref",void 0),ns(Xd(r),"setRef",function(a){r.ref=a}),r}return F7(e,[{key:"componentDidUpdate",value:function(){e.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){e.VALIDATE(this.ref)}},{key:"render",value:function(){return Or.createElement("div",Jh({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(Fme)}}]),e}(Or.PureComponent);ns(dW,"defaultProps",Dme);var hW=function(n){return Or.createElement(i5,null,function(e){var r=e.headingAttributes;return n.id&&n_(n.id),Or.createElement(dW,Jh({},n,r))})};hW.displayName=lW.AccordionItemHeading;var Lme=function(n){var e=n.className,r=e===void 0?"accordion__panel":e,i=n.region,o=n.id,s=r5(n,["className","region","id"]),a=function(g){var x=g.panelAttributes;o&&n_(o);var I=gE(gE({},x),{},{"aria-labelledby":i?x["aria-labelledby"]:void 0});return Or.createElement("div",Jh({"data-accordion-component":"AccordionItemPanel",className:r},s,I,{role:i?"region":void 0}))};return Or.createElement(i5,null,a)},wM={exports:{}},$T;function a5(){return $T||($T=1,function(t,n){(function(e,r){t.exports=r()})(tf,function(){var e=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(e),o=/MSIE \d/.test(e),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),a=/Edge\/(\d+)/.exec(e),f=o||s||a,g=f&&(o?document.documentMode||6:+(a||s)[1]),x=!a&&/WebKit\//.test(e),I=x&&/Qt\/\d+\.\d+/.test(e),B=!a&&/Chrome\/(\d+)/.exec(e),D=B&&+B[1],L=/Opera\//.test(e),V=/Apple Computer/.test(navigator.vendor),W=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),j=/PhantomJS/.test(e),G=V&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),ee=/Android/.test(e),re=G||ee||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),se=G||/Mac/.test(r),oe=/\bCrOS\b/.test(e),ue=/win/i.test(r),me=L&&e.match(/Version\/(\d*\.\d*)/);me&&(me=Number(me[1])),me&&me>=15&&(L=!1,x=!0);var De=se&&(I||L&&(me==null||me<12.11)),Re=i||f&&g>=9;function et(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var ht=function(A,h){var b=A.className,C=et(h).exec(b);if(C){var O=b.slice(C.index+C[0].length);A.className=b.slice(0,C.index)+(O?C[1]+O:"")}};function ke(A){for(var h=A.childNodes.length;h>0;--h)A.removeChild(A.firstChild);return A}function Je(A,h){return ke(A).appendChild(h)}function ve(A,h,b,C){var O=document.createElement(A);if(b&&(O.className=b),C&&(O.style.cssText=C),typeof h=="string")O.appendChild(document.createTextNode(h));else if(h)for(var F=0;F<h.length;++F)O.appendChild(h[F]);return O}function ft(A,h,b,C){var O=ve(A,h,b,C);return O.setAttribute("role","presentation"),O}var Ft;document.createRange?Ft=function(A,h,b,C){var O=document.createRange();return O.setEnd(C||A,b),O.setStart(A,h),O}:Ft=function(A,h,b){var C=document.body.createTextRange();try{C.moveToElementText(A.parentNode)}catch{return C}return C.collapse(!0),C.moveEnd("character",b),C.moveStart("character",h),C};function tn(A,h){if(h.nodeType==3&&(h=h.parentNode),A.contains)return A.contains(h);do if(h.nodeType==11&&(h=h.host),h==A)return!0;while(h=h.parentNode)}function St(A){var h=A.ownerDocument||A,b;try{b=A.activeElement}catch{b=h.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;return b}function Ne(A,h){var b=A.className;et(h).test(b)||(A.className+=(b?" ":"")+h)}function qe(A,h){for(var b=A.split(" "),C=0;C<b.length;C++)b[C]&&!et(b[C]).test(h)&&(h+=" "+b[C]);return h}var tt=function(A){A.select()};G?tt=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:f&&(tt=function(A){try{A.select()}catch{}});function Jt(A){return A.display.wrapper.ownerDocument}function dt(A){return ot(A.display.wrapper)}function ot(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function Et(A){return Jt(A).defaultView}function Kt(A){var h=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,h)}}function xe(A,h,b){h||(h={});for(var C in A)A.hasOwnProperty(C)&&(b!==!1||!h.hasOwnProperty(C))&&(h[C]=A[C]);return h}function ce(A,h,b,C,O){h==null&&(h=A.search(/[^\s\u00a0]/),h==-1&&(h=A.length));for(var F=C||0,Y=O||0;;){var X=A.indexOf("	",F);if(X<0||X>=h)return Y+(h-F);Y+=X-F,Y+=b-Y%b,F=X+1}}var _e=function(){this.id=null,this.f=null,this.time=0,this.handler=Kt(this.onTimeout,this)};_e.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},_e.prototype.set=function(A,h){this.f=h;var b=+new Date+A;(!this.id||b<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=b)};function Ke(A,h){for(var b=0;b<A.length;++b)if(A[b]==h)return b;return-1}var Ve=50,Ze={toString:function(){return"CodeMirror.Pass"}},bt={scroll:!1},Gt={origin:"*mouse"},Lt={origin:"+move"};function Un(A,h,b){for(var C=0,O=0;;){var F=A.indexOf("	",C);F==-1&&(F=A.length);var Y=F-C;if(F==A.length||O+Y>=h)return C+Math.min(Y,h-O);if(O+=F-C,O+=b-O%b,C=F+1,O>=h)return C}}var rr=[""];function qt(A){for(;rr.length<=A;)rr.push($n(rr)+" ");return rr[A]}function $n(A){return A[A.length-1]}function lr(A,h){for(var b=[],C=0;C<A.length;C++)b[C]=h(A[C],C);return b}function gr(A,h,b){for(var C=0,O=b(h);C<A.length&&b(A[C])<=O;)C++;A.splice(C,0,h)}function Mr(){}function Dr(A,h){var b;return Object.create?b=Object.create(A):(Mr.prototype=A,b=new Mr),h&&xe(h,b),b}var ur=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function yi(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||ur.test(A))}function be(A,h){return h?h.source.indexOf("\\w")>-1&&yi(A)?!0:h.test(A):yi(A)}function z(A){for(var h in A)if(A.hasOwnProperty(h)&&A[h])return!1;return!0}var q=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Oe(A){return A.charCodeAt(0)>=768&&q.test(A)}function st(A,h,b){for(;(b<0?h>0:h<A.length)&&Oe(A.charAt(h));)h+=b;return h}function ct(A,h,b){for(var C=h>b?-1:1;;){if(h==b)return h;var O=(h+b)/2,F=C<0?Math.ceil(O):Math.floor(O);if(F==h)return A(F)?h:b;A(F)?b=F:h=F+C}}function wt(A,h,b,C){if(!A)return C(h,b,"ltr",0);for(var O=!1,F=0;F<A.length;++F){var Y=A[F];(Y.from<b&&Y.to>h||h==b&&Y.to==h)&&(C(Math.max(Y.from,h),Math.min(Y.to,b),Y.level==1?"rtl":"ltr",F),O=!0)}O||C(h,b,"ltr")}var Vn=null;function qn(A,h,b){var C;Vn=null;for(var O=0;O<A.length;++O){var F=A[O];if(F.from<h&&F.to>h)return O;F.to==h&&(F.from!=F.to&&b=="before"?C=O:Vn=O),F.from==h&&(F.from!=F.to&&b!="before"?C=O:Vn=O)}return C??Vn}var Qr=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",h="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function b(fe){return fe<=247?A.charAt(fe):1424<=fe&&fe<=1524?"R":1536<=fe&&fe<=1785?h.charAt(fe-1536):1774<=fe&&fe<=2220?"r":8192<=fe&&fe<=8203?"w":fe==8204?"b":"L"}var C=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,O=/[stwN]/,F=/[LRr]/,Y=/[Lb1n]/,X=/[1n]/;function le(fe,Le,$e){this.level=fe,this.from=Le,this.to=$e}return function(fe,Le){var $e=Le=="ltr"?"L":"R";if(fe.length==0||Le=="ltr"&&!C.test(fe))return!1;for(var _t=fe.length,mt=[],Vt=0;Vt<_t;++Vt)mt.push(b(fe.charCodeAt(Vt)));for(var An=0,_n=$e;An<_t;++An){var Dn=mt[An];Dn=="m"?mt[An]=_n:_n=Dn}for(var Hn=0,Pn=$e;Hn<_t;++Hn){var er=mt[Hn];er=="1"&&Pn=="r"?mt[Hn]="n":F.test(er)&&(Pn=er,er=="r"&&(mt[Hn]="R"))}for(var br=1,Er=mt[0];br<_t-1;++br){var Ci=mt[br];Ci=="+"&&Er=="1"&&mt[br+1]=="1"?mt[br]="1":Ci==","&&Er==mt[br+1]&&(Er=="1"||Er=="n")&&(mt[br]=Er),Er=Ci}for(var Fo=0;Fo<_t;++Fo){var La=mt[Fo];if(La==",")mt[Fo]="N";else if(La=="%"){var Jo=void 0;for(Jo=Fo+1;Jo<_t&&mt[Jo]=="%";++Jo);for(var ra=Fo&&mt[Fo-1]=="!"||Jo<_t&&mt[Jo]=="1"?"1":"N",Ra=Fo;Ra<Jo;++Ra)mt[Ra]=ra;Fo=Jo-1}}for(var ma=0,ls=$e;ma<_t;++ma){var Ea=mt[ma];ls=="L"&&Ea=="1"?mt[ma]="L":F.test(Ea)&&(ls=Ea)}for(var Oa=0;Oa<_t;++Oa)if(O.test(mt[Oa])){var ga=void 0;for(ga=Oa+1;ga<_t&&O.test(mt[ga]);++ga);for(var Ba=(Oa?mt[Oa-1]:$e)=="L",fl=(ga<_t?mt[ga]:$e)=="L",Gd=Ba==fl?Ba?"L":"R":$e,cd=Oa;cd<ga;++cd)mt[cd]=Gd;Oa=ga-1}for(var Ds=[],uA,Za=0;Za<_t;)if(Y.test(mt[Za])){var Pf=Za;for(++Za;Za<_t&&Y.test(mt[Za]);++Za);Ds.push(new le(0,Pf,Za))}else{var zA=Za,dd=Ds.length,xc=Le=="rtl"?1:0;for(++Za;Za<_t&&mt[Za]!="L";++Za);for(var ya=zA;ya<Za;)if(X.test(mt[ya])){zA<ya&&(Ds.splice(dd,0,new le(1,zA,ya)),dd+=xc);var Qd=ya;for(++ya;ya<Za&&X.test(mt[ya]);++ya);Ds.splice(dd,0,new le(2,Qd,ya)),dd+=xc,zA=ya}else++ya;zA<Za&&Ds.splice(dd,0,new le(1,zA,Za))}return Le=="ltr"&&(Ds[0].level==1&&(uA=fe.match(/^\s+/))&&(Ds[0].from=uA[0].length,Ds.unshift(new le(0,0,uA[0].length))),$n(Ds).level==1&&(uA=fe.match(/\s+$/))&&($n(Ds).to-=uA[0].length,Ds.push(new le(0,_t-uA[0].length,_t)))),Le=="rtl"?Ds.reverse():Ds}}();function It(A,h){var b=A.order;return b==null&&(b=A.order=Qr(A.text,h)),b}var p=[],Pt=function(A,h,b){if(A.addEventListener)A.addEventListener(h,b,!1);else if(A.attachEvent)A.attachEvent("on"+h,b);else{var C=A._handlers||(A._handlers={});C[h]=(C[h]||p).concat(b)}};function yr(A,h){return A._handlers&&A._handlers[h]||p}function Jn(A,h,b){if(A.removeEventListener)A.removeEventListener(h,b,!1);else if(A.detachEvent)A.detachEvent("on"+h,b);else{var C=A._handlers,O=C&&C[h];if(O){var F=Ke(O,b);F>-1&&(C[h]=O.slice(0,F).concat(O.slice(F+1)))}}}function un(A,h){var b=yr(A,h);if(b.length)for(var C=Array.prototype.slice.call(arguments,2),O=0;O<b.length;++O)b[O].apply(null,C)}function pr(A,h,b){return typeof h=="string"&&(h={type:h,preventDefault:function(){this.defaultPrevented=!0}}),un(A,b||h.type,A,h),Zi(h)||h.codemirrorIgnore}function Zr(A){var h=A._handlers&&A._handlers.cursorActivity;if(h)for(var b=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),C=0;C<h.length;++C)Ke(b,h[C])==-1&&b.push(h[C])}function ki(A,h){return yr(A,h).length>0}function Ai(A){A.prototype.on=function(h,b){Pt(this,h,b)},A.prototype.off=function(h,b){Jn(this,h,b)}}function Fr(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function Wr(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function Zi(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function Wi(A){Fr(A),Wr(A)}function da(A){return A.target||A.srcElement}function zo(A){var h=A.which;return h==null&&(A.button&1?h=1:A.button&2?h=3:A.button&4&&(h=2)),se&&A.ctrlKey&&h==1&&(h=3),h}var os=function(){if(f&&g<9)return!1;var A=ve("div");return"draggable"in A||"dragDrop"in A}(),_a;function Pe(A){if(_a==null){var h=ve("span","");Je(A,ve("span",[h,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(_a=h.offsetWidth<=1&&h.offsetHeight>2&&!(f&&g<8))}var b=_a?ve("span",""):ve("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return b.setAttribute("cm-text",""),b}var ie;function he(A){if(ie!=null)return ie;var h=Je(A,document.createTextNode("AA")),b=Ft(h,0,1).getBoundingClientRect(),C=Ft(h,1,2).getBoundingClientRect();return ke(A),!b||b.left==b.right?!1:ie=C.right-b.right<3}var Ee=`

b`.split(/\n/).length!=3?function(A){for(var h=0,b=[],C=A.length;h<=C;){var O=A.indexOf(`
`,h);O==-1&&(O=A.length);var F=A.slice(h,A.charAt(O-1)=="\r"?O-1:O),Y=F.indexOf("\r");Y!=-1?(b.push(F.slice(0,Y)),h+=Y+1):(b.push(F),h=O+1)}return b}:function(A){return A.split(/\r\n?|\n/)},Te=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var h;try{h=A.ownerDocument.selection.createRange()}catch{}return!h||h.parentElement()!=A?!1:h.compareEndPoints("StartToEnd",h)!=0},Qe=function(){var A=ve("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),rt=null;function Xe(A){if(rt!=null)return rt;var h=Je(A,ve("span","x")),b=h.getBoundingClientRect(),C=Ft(h,0,1).getBoundingClientRect();return rt=Math.abs(b.left-C.left)>1}var Ge={},ut={};function Tt(A,h){arguments.length>2&&(h.dependencies=Array.prototype.slice.call(arguments,2)),Ge[A]=h}function nn(A,h){ut[A]=h}function Dt(A){if(typeof A=="string"&&ut.hasOwnProperty(A))A=ut[A];else if(A&&typeof A.name=="string"&&ut.hasOwnProperty(A.name)){var h=ut[A.name];typeof h=="string"&&(h={name:h}),A=Dr(h,A),A.name=h.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return Dt("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return Dt("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function wn(A,h){h=Dt(h);var b=Ge[h.name];if(!b)return wn(A,"text/plain");var C=b(A,h);if(Kn.hasOwnProperty(h.name)){var O=Kn[h.name];for(var F in O)O.hasOwnProperty(F)&&(C.hasOwnProperty(F)&&(C["_"+F]=C[F]),C[F]=O[F])}if(C.name=h.name,h.helperType&&(C.helperType=h.helperType),h.modeProps)for(var Y in h.modeProps)C[Y]=h.modeProps[Y];return C}var Kn={};function xn(A,h){var b=Kn.hasOwnProperty(A)?Kn[A]:Kn[A]={};xe(h,b)}function Zn(A,h){if(h===!0)return h;if(A.copyState)return A.copyState(h);var b={};for(var C in h){var O=h[C];O instanceof Array&&(O=O.concat([])),b[C]=O}return b}function Cr(A,h){for(var b;A.innerMode&&(b=A.innerMode(h),!(!b||b.mode==A));)h=b.state,A=b.mode;return b||{mode:A,state:h}}function qr(A,h,b){return A.startState?A.startState(h,b):!0}var In=function(A,h,b){this.pos=this.start=0,this.string=A,this.tabSize=h||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=b};In.prototype.eol=function(){return this.pos>=this.string.length},In.prototype.sol=function(){return this.pos==this.lineStart},In.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},In.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},In.prototype.eat=function(A){var h=this.string.charAt(this.pos),b;if(typeof A=="string"?b=h==A:b=h&&(A.test?A.test(h):A(h)),b)return++this.pos,h},In.prototype.eatWhile=function(A){for(var h=this.pos;this.eat(A););return this.pos>h},In.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},In.prototype.skipToEnd=function(){this.pos=this.string.length},In.prototype.skipTo=function(A){var h=this.string.indexOf(A,this.pos);if(h>-1)return this.pos=h,!0},In.prototype.backUp=function(A){this.pos-=A},In.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ce(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)},In.prototype.indentation=function(){return ce(this.string,null,this.tabSize)-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)},In.prototype.match=function(A,h,b){if(typeof A=="string"){var C=function(Y){return b?Y.toLowerCase():Y},O=this.string.substr(this.pos,A.length);if(C(O)==C(A))return h!==!1&&(this.pos+=A.length),!0}else{var F=this.string.slice(this.pos).match(A);return F&&F.index>0?null:(F&&h!==!1&&(this.pos+=F[0].length),F)}},In.prototype.current=function(){return this.string.slice(this.start,this.pos)},In.prototype.hideFirstChars=function(A,h){this.lineStart+=A;try{return h()}finally{this.lineStart-=A}},In.prototype.lookAhead=function(A){var h=this.lineOracle;return h&&h.lookAhead(A)},In.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function dn(A,h){if(h-=A.first,h<0||h>=A.size)throw new Error("There is no line "+(h+A.first)+" in the document.");for(var b=A;!b.lines;)for(var C=0;;++C){var O=b.children[C],F=O.chunkSize();if(h<F){b=O;break}h-=F}return b.lines[h]}function Lr(A,h,b){var C=[],O=h.line;return A.iter(h.line,b.line+1,function(F){var Y=F.text;O==b.line&&(Y=Y.slice(0,b.ch)),O==h.line&&(Y=Y.slice(h.ch)),C.push(Y),++O}),C}function Xr(A,h,b){var C=[];return A.iter(h,b,function(O){C.push(O.text)}),C}function Oi(A,h){var b=h-A.height;if(b)for(var C=A;C;C=C.parent)C.height+=b}function ge(A){if(A.parent==null)return null;for(var h=A.parent,b=Ke(h.lines,A),C=h.parent;C;h=C,C=C.parent)for(var O=0;C.children[O]!=h;++O)b+=C.children[O].chunkSize();return b+h.first}function je(A,h){var b=A.first;e:do{for(var C=0;C<A.children.length;++C){var O=A.children[C],F=O.height;if(h<F){A=O;continue e}h-=F,b+=O.chunkSize()}return b}while(!A.lines);for(var Y=0;Y<A.lines.length;++Y){var X=A.lines[Y],le=X.height;if(h<le)break;h-=le}return b+Y}function Yt(A,h){return h>=A.first&&h<A.first+A.size}function hn(A,h){return String(A.lineNumberFormatter(h+A.firstLineNumber))}function Ct(A,h,b){if(b===void 0&&(b=null),!(this instanceof Ct))return new Ct(A,h,b);this.line=A,this.ch=h,this.sticky=b}function Cn(A,h){return A.line-h.line||A.ch-h.ch}function ti(A,h){return A.sticky==h.sticky&&Cn(A,h)==0}function Ni(A){return Ct(A.line,A.ch)}function Xi(A,h){return Cn(A,h)<0?h:A}function ba(A,h){return Cn(A,h)<0?A:h}function Mu(A,h){return Math.max(A.first,Math.min(h,A.first+A.size-1))}function kr(A,h){if(h.line<A.first)return Ct(A.first,0);var b=A.first+A.size-1;return h.line>b?Ct(b,dn(A,b).text.length):Ns(h,dn(A,h.line).text.length)}function Ns(A,h){var b=A.ch;return b==null||b>h?Ct(A.line,h):b<0?Ct(A.line,0):A}function bl(A,h){for(var b=[],C=0;C<h.length;C++)b[C]=kr(A,h[C]);return b}var Gs=function(A,h){this.state=A,this.lookAhead=h},Qs=function(A,h,b,C){this.state=h,this.doc=A,this.line=b,this.maxLookAhead=C||0,this.baseTokens=null,this.baseTokenPos=1};Qs.prototype.lookAhead=function(A){var h=this.doc.getLine(this.line+A);return h!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),h},Qs.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var h=this.baseTokens[this.baseTokenPos+1];return{type:h&&h.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},Qs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Qs.fromSaved=function(A,h,b){return h instanceof Gs?new Qs(A,Zn(A.mode,h.state),b,h.lookAhead):new Qs(A,Zn(A.mode,h),b)},Qs.prototype.save=function(A){var h=A!==!1?Zn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Gs(h,this.maxLookAhead):h};function xl(A,h,b,C){var O=[A.state.modeGen],F={};po(A,h.text,A.doc.mode,b,function(fe,Le){return O.push(fe,Le)},F,C);for(var Y=b.state,X=function(fe){b.baseTokens=O;var Le=A.state.overlays[fe],$e=1,_t=0;b.state=!0,po(A,h.text,Le.mode,b,function(mt,Vt){for(var An=$e;_t<mt;){var _n=O[$e];_n>mt&&O.splice($e,1,mt,O[$e+1],_n),$e+=2,_t=Math.min(mt,_n)}if(Vt)if(Le.opaque)O.splice(An,$e-An,mt,"overlay "+Vt),$e=An+2;else for(;An<$e;An+=2){var Dn=O[An+1];O[An+1]=(Dn?Dn+" ":"")+"overlay "+Vt}},F),b.state=Y,b.baseTokens=null,b.baseTokenPos=1},le=0;le<A.state.overlays.length;++le)X(le);return{styles:O,classes:F.bgClass||F.textClass?F:null}}function Is(A,h,b){if(!h.styles||h.styles[0]!=A.state.modeGen){var C=Ho(A,ge(h)),O=h.text.length>A.options.maxHighlightLength&&Zn(A.doc.mode,C.state),F=xl(A,h,C);O&&(C.state=O),h.stateAfter=C.save(!O),h.styles=F.styles,F.classes?h.styleClasses=F.classes:h.styleClasses&&(h.styleClasses=null),b===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return h.styles}function Ho(A,h,b){var C=A.doc,O=A.display;if(!C.mode.startState)return new Qs(C,!0,h);var F=Eu(A,h,b),Y=F>C.first&&dn(C,F-1).stateAfter,X=Y?Qs.fromSaved(C,Y,F):new Qs(C,qr(C.mode),F);return C.iter(F,h,function(le){xa(A,le.text,X);var fe=X.line;le.stateAfter=fe==h-1||fe%5==0||fe>=O.viewFrom&&fe<O.viewTo?X.save():null,X.nextLine()}),b&&(C.modeFrontier=X.line),X}function xa(A,h,b,C){var O=A.doc.mode,F=new In(h,A.options.tabSize,b);for(F.start=F.pos=C||0,h==""&&ks(O,b.state);!F.eol();)wl(O,F,b.state),F.start=F.pos}function ks(A,h){if(A.blankLine)return A.blankLine(h);if(A.innerMode){var b=Cr(A,h);if(b.mode.blankLine)return b.mode.blankLine(b.state)}}function wl(A,h,b,C){for(var O=0;O<10;O++){C&&(C[0]=Cr(A,b).mode);var F=A.token(h,b);if(h.pos>h.start)return F}throw new Error("Mode "+A.name+" failed to advance stream.")}var $s=function(A,h,b){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=h||null,this.state=b};function Su(A,h,b,C){var O=A.doc,F=O.mode,Y;h=kr(O,h);var X=dn(O,h.line),le=Ho(A,h.line,b),fe=new In(X.text,A.options.tabSize,le),Le;for(C&&(Le=[]);(C||fe.pos<h.ch)&&!fe.eol();)fe.start=fe.pos,Y=wl(F,fe,le.state),C&&Le.push(new $s(fe,Y,Zn(O.mode,le.state)));return C?Le:new $s(fe,Y,le.state)}function uu(A,h){if(A)for(;;){var b=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!b)break;A=A.slice(0,b.index)+A.slice(b.index+b[0].length);var C=b[1]?"bgClass":"textClass";h[C]==null?h[C]=b[2]:new RegExp("(?:^|\\s)"+b[2]+"(?:$|\\s)").test(h[C])||(h[C]+=" "+b[2])}return A}function po(A,h,b,C,O,F,Y){var X=b.flattenSpans;X==null&&(X=A.options.flattenSpans);var le=0,fe=null,Le=new In(h,A.options.tabSize,C),$e,_t=A.options.addModeClass&&[null];for(h==""&&uu(ks(b,C.state),F);!Le.eol();){if(Le.pos>A.options.maxHighlightLength?(X=!1,Y&&xa(A,h,C,Le.pos),Le.pos=h.length,$e=null):$e=uu(wl(b,Le,C.state,_t),F),_t){var mt=_t[0].name;mt&&($e="m-"+($e?mt+" "+$e:mt))}if(!X||fe!=$e){for(;le<Le.start;)le=Math.min(Le.start,le+5e3),O(le,fe);fe=$e}Le.start=Le.pos}for(;le<Le.pos;){var Vt=Math.min(Le.pos,le+5e3);O(Vt,fe),le=Vt}}function Eu(A,h,b){for(var C,O,F=A.doc,Y=b?-1:h-(A.doc.mode.innerMode?1e3:100),X=h;X>Y;--X){if(X<=F.first)return F.first;var le=dn(F,X-1),fe=le.stateAfter;if(fe&&(!b||X+(fe instanceof Gs?fe.lookAhead:0)<=F.modeFrontier))return X;var Le=ce(le.text,null,A.options.tabSize);(O==null||C>Le)&&(O=X-1,C=Le)}return O}function tc(A,h){if(A.modeFrontier=Math.min(A.modeFrontier,h),!(A.highlightFrontier<h-10)){for(var b=A.first,C=h-1;C>b;C--){var O=dn(A,C).stateAfter;if(O&&(!(O instanceof Gs)||C+O.lookAhead<h)){b=C+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,b)}}var qa=!1,Ts=!1;function Ou(){qa=!0}function Zu(){Ts=!0}function Bu(A,h,b){this.marker=A,this.from=h,this.to=b}function zl(A,h){if(A)for(var b=0;b<A.length;++b){var C=A[b];if(C.marker==h)return C}}function nc(A,h){for(var b,C=0;C<A.length;++C)A[C]!=h&&(b||(b=[])).push(A[C]);return b}function Iu(A,h,b){var C=b&&window.WeakSet&&(b.markedSpans||(b.markedSpans=new WeakSet));C&&A.markedSpans&&C.has(A.markedSpans)?A.markedSpans.push(h):(A.markedSpans=A.markedSpans?A.markedSpans.concat([h]):[h],C&&C.add(A.markedSpans)),h.marker.attachLine(A)}function Xu(A,h,b){var C;if(A)for(var O=0;O<A.length;++O){var F=A[O],Y=F.marker,X=F.from==null||(Y.inclusiveLeft?F.from<=h:F.from<h);if(X||F.from==h&&Y.type=="bookmark"&&(!b||!F.marker.insertLeft)){var le=F.to==null||(Y.inclusiveRight?F.to>=h:F.to>h);(C||(C=[])).push(new Bu(Y,F.from,le?null:F.to))}}return C}function MA(A,h,b){var C;if(A)for(var O=0;O<A.length;++O){var F=A[O],Y=F.marker,X=F.to==null||(Y.inclusiveRight?F.to>=h:F.to>h);if(X||F.from==h&&Y.type=="bookmark"&&(!b||F.marker.insertLeft)){var le=F.from==null||(Y.inclusiveLeft?F.from<=h:F.from<h);(C||(C=[])).push(new Bu(Y,le?null:F.from-h,F.to==null?null:F.to-h))}}return C}function ai(A,h){if(h.full)return null;var b=Yt(A,h.from.line)&&dn(A,h.from.line).markedSpans,C=Yt(A,h.to.line)&&dn(A,h.to.line).markedSpans;if(!b&&!C)return null;var O=h.from.ch,F=h.to.ch,Y=Cn(h.from,h.to)==0,X=Xu(b,O,Y),le=MA(C,F,Y),fe=h.text.length==1,Le=$n(h.text).length+(fe?O:0);if(X)for(var $e=0;$e<X.length;++$e){var _t=X[$e];if(_t.to==null){var mt=zl(le,_t.marker);mt?fe&&(_t.to=mt.to==null?null:mt.to+Le):_t.to=O}}if(le)for(var Vt=0;Vt<le.length;++Vt){var An=le[Vt];if(An.to!=null&&(An.to+=Le),An.from==null){var _n=zl(X,An.marker);_n||(An.from=Le,fe&&(X||(X=[])).push(An))}else An.from+=Le,fe&&(X||(X=[])).push(An)}X&&(X=SA(X)),le&&le!=X&&(le=SA(le));var Dn=[X];if(!fe){var Hn=h.text.length-2,Pn;if(Hn>0&&X)for(var er=0;er<X.length;++er)X[er].to==null&&(Pn||(Pn=[])).push(new Bu(X[er].marker,null,null));for(var br=0;br<Hn;++br)Dn.push(Pn);Dn.push(le)}return Dn}function SA(A){for(var h=0;h<A.length;++h){var b=A[h];b.from!=null&&b.from==b.to&&b.marker.clearWhenEmpty!==!1&&A.splice(h--,1)}return A.length?A:null}function rc(A,h,b){var C=null;if(A.iter(h.line,b.line+1,function(mt){if(mt.markedSpans)for(var Vt=0;Vt<mt.markedSpans.length;++Vt){var An=mt.markedSpans[Vt].marker;An.readOnly&&(!C||Ke(C,An)==-1)&&(C||(C=[])).push(An)}}),!C)return null;for(var O=[{from:h,to:b}],F=0;F<C.length;++F)for(var Y=C[F],X=Y.find(0),le=0;le<O.length;++le){var fe=O[le];if(!(Cn(fe.to,X.from)<0||Cn(fe.from,X.to)>0)){var Le=[le,1],$e=Cn(fe.from,X.from),_t=Cn(fe.to,X.to);($e<0||!Y.inclusiveLeft&&!$e)&&Le.push({from:fe.from,to:X.from}),(_t>0||!Y.inclusiveRight&&!_t)&&Le.push({from:X.to,to:fe.to}),O.splice.apply(O,Le),le+=Le.length-3}}return O}function no(A){var h=A.markedSpans;if(h){for(var b=0;b<h.length;++b)h[b].marker.detachLine(A);A.markedSpans=null}}function Ji(A,h){if(h){for(var b=0;b<h.length;++b)h[b].marker.attachLine(A);A.markedSpans=h}}function ne(A){return A.inclusiveLeft?-1:0}function Ie(A){return A.inclusiveRight?1:0}function lt(A,h){var b=A.lines.length-h.lines.length;if(b!=0)return b;var C=A.find(),O=h.find(),F=Cn(C.from,O.from)||ne(A)-ne(h);if(F)return-F;var Y=Cn(C.to,O.to)||Ie(A)-Ie(h);return Y||h.id-A.id}function en(A,h){var b=Ts&&A.markedSpans,C;if(b)for(var O=void 0,F=0;F<b.length;++F)O=b[F],O.marker.collapsed&&(h?O.from:O.to)==null&&(!C||lt(C,O.marker)<0)&&(C=O.marker);return C}function Vr(A){return en(A,!0)}function _r(A){return en(A,!1)}function Bi(A,h){var b=Ts&&A.markedSpans,C;if(b)for(var O=0;O<b.length;++O){var F=b[O];F.marker.collapsed&&(F.from==null||F.from<h)&&(F.to==null||F.to>h)&&(!C||lt(C,F.marker)<0)&&(C=F.marker)}return C}function Ti(A,h,b,C,O){var F=dn(A,h),Y=Ts&&F.markedSpans;if(Y)for(var X=0;X<Y.length;++X){var le=Y[X];if(le.marker.collapsed){var fe=le.marker.find(0),Le=Cn(fe.from,b)||ne(le.marker)-ne(O),$e=Cn(fe.to,C)||Ie(le.marker)-Ie(O);if(!(Le>=0&&$e<=0||Le<=0&&$e>=0)&&(Le<=0&&(le.marker.inclusiveRight&&O.inclusiveLeft?Cn(fe.to,b)>=0:Cn(fe.to,b)>0)||Le>=0&&(le.marker.inclusiveRight&&O.inclusiveLeft?Cn(fe.from,C)<=0:Cn(fe.from,C)<0)))return!0}}}function Hr(A){for(var h;h=Vr(A);)A=h.find(-1,!0).line;return A}function $i(A){for(var h;h=_r(A);)A=h.find(1,!0).line;return A}function Ko(A){for(var h,b;h=_r(A);)A=h.find(1,!0).line,(b||(b=[])).push(A);return b}function Ta(A,h){var b=dn(A,h),C=Hr(b);return b==C?h:ge(C)}function $o(A,h){if(h>A.lastLine())return h;var b=dn(A,h),C;if(!vi(A,b))return h;for(;C=_r(b);)b=C.find(1,!0).line;return ge(b)+1}function vi(A,h){var b=Ts&&h.markedSpans;if(b){for(var C=void 0,O=0;O<b.length;++O)if(C=b[O],!!C.marker.collapsed){if(C.from==null)return!0;if(!C.marker.widgetNode&&C.from==0&&C.marker.inclusiveLeft&&ha(A,h,C))return!0}}}function ha(A,h,b){if(b.to==null){var C=b.marker.find(1,!0);return ha(A,C.line,zl(C.line.markedSpans,b.marker))}if(b.marker.inclusiveRight&&b.to==h.text.length)return!0;for(var O=void 0,F=0;F<h.markedSpans.length;++F)if(O=h.markedSpans[F],O.marker.collapsed&&!O.marker.widgetNode&&O.from==b.to&&(O.to==null||O.to!=b.from)&&(O.marker.inclusiveLeft||b.marker.inclusiveRight)&&ha(A,h,O))return!0}function Va(A){A=Hr(A);for(var h=0,b=A.parent,C=0;C<b.lines.length;++C){var O=b.lines[C];if(O==A)break;h+=O.height}for(var F=b.parent;F;b=F,F=b.parent)for(var Y=0;Y<F.children.length;++Y){var X=F.children[Y];if(X==b)break;h+=X.height}return h}function Ys(A){if(A.height==0)return 0;for(var h=A.text.length,b,C=A;b=Vr(C);){var O=b.find(0,!0);C=O.from.line,h+=O.from.ch-O.to.ch}for(C=A;b=_r(C);){var F=b.find(0,!0);h-=C.text.length-F.from.ch,C=F.to.line,h+=C.text.length-F.to.ch}return h}function jl(A){var h=A.display,b=A.doc;h.maxLine=dn(b,b.first),h.maxLineLength=Ys(h.maxLine),h.maxLineChanged=!0,b.iter(function(C){var O=Ys(C);O>h.maxLineLength&&(h.maxLineLength=O,h.maxLine=C)})}var ku=function(A,h,b){this.text=A,Ji(this,h),this.height=b?b(this):1};ku.prototype.lineNo=function(){return ge(this)},Ai(ku);function ic(A,h,b,C){A.text=h,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),no(A),Ji(A,b);var O=C?C(A):1;O!=A.height&&Oi(A,O)}function Ka(A){A.parent=null,no(A)}var lh={},Al={};function uh(A,h){if(!A||/^\s*$/.test(A))return null;var b=h.addModeClass?Al:lh;return b[A]||(b[A]=A.replace(/\S+/g,"cm-$&"))}function EA(A,h){var b=ft("span",null,null,x?"padding-right: .1px":null),C={pre:ft("pre",[b],"CodeMirror-line"),content:b,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};h.measure={};for(var O=0;O<=(h.rest?h.rest.length:0);O++){var F=O?h.rest[O-1]:h.line,Y=void 0;C.pos=0,C.addToken=Id,he(A.display.measure)&&(Y=It(F,A.doc.direction))&&(C.addToken=vo(C.addToken,Y)),C.map=[];var X=h!=A.display.externalMeasured&&ge(F);OA(F,C,Is(A,F,X)),F.styleClasses&&(F.styleClasses.bgClass&&(C.bgClass=qe(F.styleClasses.bgClass,C.bgClass||"")),F.styleClasses.textClass&&(C.textClass=qe(F.styleClasses.textClass,C.textClass||""))),C.map.length==0&&C.map.push(0,0,C.content.appendChild(Pe(A.display.measure))),O==0?(h.measure.map=C.map,h.measure.cache={}):((h.measure.maps||(h.measure.maps=[])).push(C.map),(h.measure.caches||(h.measure.caches=[])).push({}))}if(x){var le=C.content.lastChild;(/\bcm-tab\b/.test(le.className)||le.querySelector&&le.querySelector(".cm-tab"))&&(C.content.className="cm-tab-wrap-hack")}return un(A,"renderLine",A,h.line,C.pre),C.pre.className&&(C.textClass=qe(C.pre.className,C.textClass||"")),C}function Ju(A){var h=ve("span","","cm-invalidchar");return h.title="\\u"+A.charCodeAt(0).toString(16),h.setAttribute("aria-label",h.title),h}function Id(A,h,b,C,O,F,Y){if(h){var X=A.splitSpaces?zc(h,A.trailingSpace):h,le=A.cm.state.specialChars,fe=!1,Le;if(!le.test(h))A.col+=h.length,Le=document.createTextNode(X),A.map.push(A.pos,A.pos+h.length,Le),f&&g<9&&(fe=!0),A.pos+=h.length;else{Le=document.createDocumentFragment();for(var $e=0;;){le.lastIndex=$e;var _t=le.exec(h),mt=_t?_t.index-$e:h.length-$e;if(mt){var Vt=document.createTextNode(X.slice($e,$e+mt));f&&g<9?Le.appendChild(ve("span",[Vt])):Le.appendChild(Vt),A.map.push(A.pos,A.pos+mt,Vt),A.col+=mt,A.pos+=mt}if(!_t)break;$e+=mt+1;var An=void 0;if(_t[0]=="	"){var _n=A.cm.options.tabSize,Dn=_n-A.col%_n;An=Le.appendChild(ve("span",qt(Dn),"cm-tab")),An.setAttribute("role","presentation"),An.setAttribute("cm-text","	"),A.col+=Dn}else _t[0]=="\r"||_t[0]==`
`?(An=Le.appendChild(ve("span",_t[0]=="\r"?"":"","cm-invalidchar")),An.setAttribute("cm-text",_t[0]),A.col+=1):(An=A.cm.options.specialCharPlaceholder(_t[0]),An.setAttribute("cm-text",_t[0]),f&&g<9?Le.appendChild(ve("span",[An])):Le.appendChild(An),A.col+=1);A.map.push(A.pos,A.pos+1,An),A.pos++}}if(A.trailingSpace=X.charCodeAt(h.length-1)==32,b||C||O||fe||F||Y){var Hn=b||"";C&&(Hn+=C),O&&(Hn+=O);var Pn=ve("span",[Le],Hn,F);if(Y)for(var er in Y)Y.hasOwnProperty(er)&&er!="style"&&er!="class"&&Pn.setAttribute(er,Y[er]);return A.content.appendChild(Pn)}A.content.appendChild(Le)}}function zc(A,h){if(A.length>1&&!/  /.test(A))return A;for(var b=h,C="",O=0;O<A.length;O++){var F=A.charAt(O);F==" "&&b&&(O==A.length-1||A.charCodeAt(O+1)==32)&&(F=""),C+=F,b=F==" "}return C}function vo(A,h){return function(b,C,O,F,Y,X,le){O=O?O+" cm-force-border":"cm-force-border";for(var fe=b.pos,Le=fe+C.length;;){for(var $e=void 0,_t=0;_t<h.length&&($e=h[_t],!($e.to>fe&&$e.from<=fe));_t++);if($e.to>=Le)return A(b,C,O,F,Y,X,le);A(b,C.slice(0,$e.to-fe),O,F,null,X,le),F=null,C=C.slice($e.to-fe),fe=$e.to}}}function Tu(A,h,b,C){var O=!C&&b.widgetNode;O&&A.map.push(A.pos,A.pos+h,O),!C&&A.cm.display.input.needsContentAttribute&&(O||(O=A.content.appendChild(document.createElement("span"))),O.setAttribute("cm-marker",b.id)),O&&(A.cm.display.input.setUneditable(O),A.content.appendChild(O)),A.pos+=h,A.trailingSpace=!1}function OA(A,h,b){var C=A.markedSpans,O=A.text,F=0;if(!C){for(var Y=1;Y<b.length;Y+=2)h.addToken(h,O.slice(F,F=b[Y]),uh(b[Y+1],h.cm.options));return}for(var X=O.length,le=0,fe=1,Le="",$e,_t,mt=0,Vt,An,_n,Dn,Hn;;){if(mt==le){Vt=An=_n=_t="",Hn=null,Dn=null,mt=1/0;for(var Pn=[],er=void 0,br=0;br<C.length;++br){var Er=C[br],Ci=Er.marker;if(Ci.type=="bookmark"&&Er.from==le&&Ci.widgetNode)Pn.push(Ci);else if(Er.from<=le&&(Er.to==null||Er.to>le||Ci.collapsed&&Er.to==le&&Er.from==le)){if(Er.to!=null&&Er.to!=le&&mt>Er.to&&(mt=Er.to,An=""),Ci.className&&(Vt+=" "+Ci.className),Ci.css&&(_t=(_t?_t+";":"")+Ci.css),Ci.startStyle&&Er.from==le&&(_n+=" "+Ci.startStyle),Ci.endStyle&&Er.to==mt&&(er||(er=[])).push(Ci.endStyle,Er.to),Ci.title&&((Hn||(Hn={})).title=Ci.title),Ci.attributes)for(var Fo in Ci.attributes)(Hn||(Hn={}))[Fo]=Ci.attributes[Fo];Ci.collapsed&&(!Dn||lt(Dn.marker,Ci)<0)&&(Dn=Er)}else Er.from>le&&mt>Er.from&&(mt=Er.from)}if(er)for(var La=0;La<er.length;La+=2)er[La+1]==mt&&(An+=" "+er[La]);if(!Dn||Dn.from==le)for(var Jo=0;Jo<Pn.length;++Jo)Tu(h,0,Pn[Jo]);if(Dn&&(Dn.from||0)==le){if(Tu(h,(Dn.to==null?X+1:Dn.to)-le,Dn.marker,Dn.from==null),Dn.to==null)return;Dn.to==le&&(Dn=!1)}}if(le>=X)break;for(var ra=Math.min(X,mt);;){if(Le){var Ra=le+Le.length;if(!Dn){var ma=Ra>ra?Le.slice(0,ra-le):Le;h.addToken(h,ma,$e?$e+Vt:Vt,_n,le+ma.length==mt?An:"",_t,Hn)}if(Ra>=ra){Le=Le.slice(ra-le),le=ra;break}le=Ra,_n=""}Le=O.slice(F,F=b[fe++]),$e=uh(b[fe++],h.cm.options)}}}function Po(A,h,b){this.line=h,this.rest=Ko(h),this.size=this.rest?ge($n(this.rest))-b+1:1,this.node=this.text=null,this.hidden=vi(A,h)}function oc(A,h,b){for(var C=[],O,F=h;F<b;F=O){var Y=new Po(A.doc,dn(A.doc,F),F);O=F+Y.size,C.push(Y)}return C}var ci=null;function so(A){ci?ci.ops.push(A):A.ownsGroup=ci={ops:[A],delayedCallbacks:[]}}function Uo(A){var h=A.delayedCallbacks,b=0;do{for(;b<h.length;b++)h[b].call(null);for(var C=0;C<A.ops.length;C++){var O=A.ops[C];if(O.cursorActivityHandlers)for(;O.cursorActivityCalled<O.cursorActivityHandlers.length;)O.cursorActivityHandlers[O.cursorActivityCalled++].call(null,O.cm)}}while(b<h.length)}function jo(A,h){var b=A.ownsGroup;if(b)try{Uo(b)}finally{ci=null,h(b)}}var Wl=null;function xo(A,h){var b=yr(A,h);if(b.length){var C=Array.prototype.slice.call(arguments,2),O;ci?O=ci.delayedCallbacks:Wl?O=Wl:(O=Wl=[],setTimeout(Wm,0));for(var F=function(X){O.push(function(){return b[X].apply(null,C)})},Y=0;Y<b.length;++Y)F(Y)}}function Wm(){var A=Wl;Wl=null;for(var h=0;h<A.length;++h)A[h]()}function lf(A,h,b,C){for(var O=0;O<h.changes.length;O++){var F=h.changes[O];F=="text"?jc(A,h):F=="gutter"?BA(A,h,b,C):F=="class"?lc(A,h):F=="widget"&&kd(A,h,C)}h.changes=null}function ac(A){return A.node==A.text&&(A.node=ve("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),f&&g<8&&(A.node.style.zIndex=2)),A.node}function uf(A,h){var b=h.bgClass?h.bgClass+" "+(h.line.bgClass||""):h.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),h.background)b?h.background.className=b:(h.background.parentNode.removeChild(h.background),h.background=null);else if(b){var C=ac(h);h.background=C.insertBefore(ve("div",null,b),C.firstChild),A.display.input.setUneditable(h.background)}}function sc(A,h){var b=A.display.externalMeasured;return b&&b.line==h.line?(A.display.externalMeasured=null,h.measure=b.measure,b.built):EA(A,h)}function jc(A,h){var b=h.text.className,C=sc(A,h);h.text==h.node&&(h.node=C.pre),h.text.parentNode.replaceChild(C.pre,h.text),h.text=C.pre,C.bgClass!=h.bgClass||C.textClass!=h.textClass?(h.bgClass=C.bgClass,h.textClass=C.textClass,lc(A,h)):b&&(h.text.className=b)}function lc(A,h){uf(A,h),h.line.wrapClass?ac(h).className=h.line.wrapClass:h.node!=h.text&&(h.node.className="");var b=h.textClass?h.textClass+" "+(h.line.textClass||""):h.line.textClass;h.text.className=b||""}function BA(A,h,b,C){if(h.gutter&&(h.node.removeChild(h.gutter),h.gutter=null),h.gutterBackground&&(h.node.removeChild(h.gutterBackground),h.gutterBackground=null),h.line.gutterClass){var O=ac(h);h.gutterBackground=ve("div",null,"CodeMirror-gutter-background "+h.line.gutterClass,"left: "+(A.options.fixedGutter?C.fixedPos:-C.gutterTotalWidth)+"px; width: "+C.gutterTotalWidth+"px"),A.display.input.setUneditable(h.gutterBackground),O.insertBefore(h.gutterBackground,h.text)}var F=h.line.gutterMarkers;if(A.options.lineNumbers||F){var Y=ac(h),X=h.gutter=ve("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?C.fixedPos:-C.gutterTotalWidth)+"px");if(X.setAttribute("aria-hidden","true"),A.display.input.setUneditable(X),Y.insertBefore(X,h.text),h.line.gutterClass&&(X.className+=" "+h.line.gutterClass),A.options.lineNumbers&&(!F||!F["CodeMirror-linenumbers"])&&(h.lineNumber=X.appendChild(ve("div",hn(A.options,b),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+C.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),F)for(var le=0;le<A.display.gutterSpecs.length;++le){var fe=A.display.gutterSpecs[le].className,Le=F.hasOwnProperty(fe)&&F[fe];Le&&X.appendChild(ve("div",[Le],"CodeMirror-gutter-elt","left: "+C.gutterLeft[fe]+"px; width: "+C.gutterWidth[fe]+"px"))}}}function kd(A,h,b){h.alignable&&(h.alignable=null);for(var C=et("CodeMirror-linewidget"),O=h.node.firstChild,F=void 0;O;O=F)F=O.nextSibling,C.test(O.className)&&h.node.removeChild(O);Wc(A,h,b)}function yp(A,h,b,C){var O=sc(A,h);return h.text=h.node=O.pre,O.bgClass&&(h.bgClass=O.bgClass),O.textClass&&(h.textClass=O.textClass),lc(A,h),BA(A,h,b,C),Wc(A,h,C),h.node}function Wc(A,h,b){if(ps(A,h.line,h,b,!0),h.rest)for(var C=0;C<h.rest.length;C++)ps(A,h.rest[C],h,b,!1)}function ps(A,h,b,C,O){if(h.widgets)for(var F=ac(b),Y=0,X=h.widgets;Y<X.length;++Y){var le=X[Y],fe=ve("div",[le.node],"CodeMirror-linewidget"+(le.className?" "+le.className:""));le.handleMouseEvents||fe.setAttribute("cm-ignore-events","true"),Ml(le,fe,b,C),A.display.input.setUneditable(fe),O&&le.above?F.insertBefore(fe,b.gutter||b.text):F.appendChild(fe),xo(le,"redraw")}}function Ml(A,h,b,C){if(A.noHScroll){(b.alignable||(b.alignable=[])).push(h);var O=C.wrapperWidth;h.style.left=C.fixedPos+"px",A.coverGutter||(O-=C.gutterTotalWidth,h.style.paddingLeft=C.gutterTotalWidth+"px"),h.style.width=O+"px"}A.coverGutter&&(h.style.zIndex=5,h.style.position="relative",A.noHScroll||(h.style.marginLeft=-C.gutterTotalWidth+"px"))}function Ku(A){if(A.height!=null)return A.height;var h=A.doc.cm;if(!h)return 0;if(!tn(document.body,A.node)){var b="position: relative;";A.coverGutter&&(b+="margin-left: -"+h.display.gutters.offsetWidth+"px;"),A.noHScroll&&(b+="width: "+h.display.wrapper.clientWidth+"px;"),Je(h.display.measure,ve("div",[A.node],null,b))}return A.height=A.node.parentNode.offsetHeight}function Nl(A,h){for(var b=da(h);b!=A.wrapper;b=b.parentNode)if(!b||b.nodeType==1&&b.getAttribute("cm-ignore-events")=="true"||b.parentNode==A.sizer&&b!=A.mover)return!0}function Nc(A){return A.lineSpace.offsetTop}function eA(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function Gc(A){if(A.cachedPaddingH)return A.cachedPaddingH;var h=Je(A.measure,ve("pre","x","CodeMirror-line-like")),b=window.getComputedStyle?window.getComputedStyle(h):h.currentStyle,C={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};return!isNaN(C.left)&&!isNaN(C.right)&&(A.cachedPaddingH=C),C}function qs(A){return Ve-A.display.nativeBarWidth}function uc(A){return A.display.scroller.clientWidth-qs(A)-A.display.barWidth}function Qc(A){return A.display.scroller.clientHeight-qs(A)-A.display.barHeight}function Ac(A,h,b){var C=A.options.lineWrapping,O=C&&uc(A);if(!h.measure.heights||C&&h.measure.width!=O){var F=h.measure.heights=[];if(C){h.measure.width=O;for(var Y=h.text.firstChild.getClientRects(),X=0;X<Y.length-1;X++){var le=Y[X],fe=Y[X+1];Math.abs(le.bottom-fe.bottom)>2&&F.push((le.bottom+fe.top)/2-b.top)}}F.push(b.bottom-b.top)}}function Af(A,h,b){if(A.line==h)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var C=0;C<A.rest.length;C++)if(A.rest[C]==h)return{map:A.measure.maps[C],cache:A.measure.caches[C]};for(var O=0;O<A.rest.length;O++)if(ge(A.rest[O])>b)return{map:A.measure.maps[O],cache:A.measure.caches[O],before:!0}}}function Td(A,h){h=Hr(h);var b=ge(h),C=A.display.externalMeasured=new Po(A.doc,h,b);C.lineN=b;var O=C.built=EA(A,C);return C.text=O.pre,Je(A.display.lineMeasure,O.pre),C}function $c(A,h,b,C){return as(A,ms(A,h),b,C)}function cc(A,h){if(h>=A.display.viewFrom&&h<A.display.viewTo)return A.display.view[tA(A,h)];var b=A.display.externalMeasured;if(b&&h>=b.lineN&&h<b.lineN+b.size)return b}function ms(A,h){var b=ge(h),C=cc(A,b);C&&!C.text?C=null:C&&C.changes&&(lf(A,C,b,El(A)),A.curOp.forceUpdate=!0),C||(C=Td(A,h));var O=Af(C,h,b);return{line:h,view:C,rect:null,map:O.map,cache:O.cache,before:O.before,hasHeights:!1}}function as(A,h,b,C,O){h.before&&(b=-1);var F=b+(C||""),Y;return h.cache.hasOwnProperty(F)?Y=h.cache[F]:(h.rect||(h.rect=h.view.text.getBoundingClientRect()),h.hasHeights||(Ac(A,h.view,h.rect),h.hasHeights=!0),Y=dc(A,h,b,C),Y.bogus||(h.cache[F]=Y)),{left:Y.left,right:Y.right,top:O?Y.rtop:Y.top,bottom:O?Y.rbottom:Y.bottom}}var Yc={left:0,right:0,top:0,bottom:0};function cf(A,h,b){for(var C,O,F,Y,X,le,fe=0;fe<A.length;fe+=3)if(X=A[fe],le=A[fe+1],h<X?(O=0,F=1,Y="left"):h<le?(O=h-X,F=O+1):(fe==A.length-3||h==le&&A[fe+3]>h)&&(F=le-X,O=F-1,h>=le&&(Y="right")),O!=null){if(C=A[fe+2],X==le&&b==(C.insertLeft?"left":"right")&&(Y=b),b=="left"&&O==0)for(;fe&&A[fe-2]==A[fe-3]&&A[fe-1].insertLeft;)C=A[(fe-=3)+2],Y="left";if(b=="right"&&O==le-X)for(;fe<A.length-3&&A[fe+3]==A[fe+4]&&!A[fe+5].insertLeft;)C=A[(fe+=3)+2],Y="right";break}return{node:C,start:O,end:F,collapse:Y,coverStart:X,coverEnd:le}}function Kd(A,h){var b=Yc;if(h=="left")for(var C=0;C<A.length&&(b=A[C]).left==b.right;C++);else for(var O=A.length-1;O>=0&&(b=A[O]).left==b.right;O--);return b}function dc(A,h,b,C){var O=cf(h.map,b,C),F=O.node,Y=O.start,X=O.end,le=O.collapse,fe;if(F.nodeType==3){for(var Le=0;Le<4;Le++){for(;Y&&Oe(h.line.text.charAt(O.coverStart+Y));)--Y;for(;O.coverStart+X<O.coverEnd&&Oe(h.line.text.charAt(O.coverStart+X));)++X;if(f&&g<9&&Y==0&&X==O.coverEnd-O.coverStart?fe=F.parentNode.getBoundingClientRect():fe=Kd(Ft(F,Y,X).getClientRects(),C),fe.left||fe.right||Y==0)break;X=Y,Y=Y-1,le="right"}f&&g<11&&(fe=Gl(A.display.measure,fe))}else{Y>0&&(le=C="right");var $e;A.options.lineWrapping&&($e=F.getClientRects()).length>1?fe=$e[C=="right"?$e.length-1:0]:fe=F.getBoundingClientRect()}if(f&&g<9&&!Y&&(!fe||!fe.left&&!fe.right)){var _t=F.parentNode.getClientRects()[0];_t?fe={left:_t.left,right:_t.left+Hs(A.display),top:_t.top,bottom:_t.bottom}:fe=Yc}for(var mt=fe.top-h.rect.top,Vt=fe.bottom-h.rect.top,An=(mt+Vt)/2,_n=h.view.measure.heights,Dn=0;Dn<_n.length-1&&!(An<_n[Dn]);Dn++);var Hn=Dn?_n[Dn-1]:0,Pn=_n[Dn],er={left:(le=="right"?fe.right:fe.left)-h.rect.left,right:(le=="left"?fe.left:fe.right)-h.rect.left,top:Hn,bottom:Pn};return!fe.left&&!fe.right&&(er.bogus=!0),A.options.singleCursorHeightPerLine||(er.rtop=mt,er.rbottom=Vt),er}function Gl(A,h){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Xe(A))return h;var b=screen.logicalXDPI/screen.deviceXDPI,C=screen.logicalYDPI/screen.deviceYDPI;return{left:h.left*b,right:h.right*b,top:h.top*C,bottom:h.bottom*C}}function Ah(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var h=0;h<A.rest.length;h++)A.measure.caches[h]={}}function hc(A){A.display.externalMeasure=null,ke(A.display.lineMeasure);for(var h=0;h<A.display.view.length;h++)Ah(A.display.view[h])}function qc(A){hc(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Vc(A){return B&&ee?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function Hc(A){return B&&ee?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function Vs(A){var h=Hr(A),b=h.widgets,C=0;if(b)for(var O=0;O<b.length;++O)b[O].above&&(C+=Ku(b[O]));return C}function Sl(A,h,b,C,O){if(!O){var F=Vs(h);b.top+=F,b.bottom+=F}if(C=="line")return b;C||(C="local");var Y=Va(h);if(C=="local"?Y+=Nc(A.display):Y-=A.display.viewOffset,C=="page"||C=="window"){var X=A.display.lineSpace.getBoundingClientRect();Y+=X.top+(C=="window"?0:Hc(Jt(A)));var le=X.left+(C=="window"?0:Vc(Jt(A)));b.left+=le,b.right+=le}return b.top+=Y,b.bottom+=Y,b}function gt(A,h,b){if(b=="div")return h;var C=h.left,O=h.top;if(b=="page")C-=Vc(Jt(A)),O-=Hc(Jt(A));else if(b=="local"||!b){var F=A.display.sizer.getBoundingClientRect();C+=F.left,O+=F.top}var Y=A.display.lineSpace.getBoundingClientRect();return{left:C-Y.left,top:O-Y.top}}function on(A,h,b,C,O){return C||(C=dn(A.doc,h.line)),Sl(A,C,$c(A,C,h.ch,O),b)}function Rt(A,h,b,C,O,F){C=C||dn(A.doc,h.line),O||(O=ms(A,C));function Y(Vt,An){var _n=as(A,O,Vt,An?"right":"left",F);return An?_n.left=_n.right:_n.right=_n.left,Sl(A,C,_n,b)}var X=It(C,A.doc.direction),le=h.ch,fe=h.sticky;if(le>=C.text.length?(le=C.text.length,fe="before"):le<=0&&(le=0,fe="after"),!X)return Y(fe=="before"?le-1:le,fe=="before");function Le(Vt,An,_n){var Dn=X[An],Hn=Dn.level==1;return Y(_n?Vt-1:Vt,Hn!=_n)}var $e=qn(X,le,fe),_t=Vn,mt=Le(le,$e,fe=="before");return _t!=null&&(mt.other=Le(le,_t,fe!="before")),mt}function Ar(A,h){var b=0;h=kr(A.doc,h),A.options.lineWrapping||(b=Hs(A.display)*h.ch);var C=dn(A.doc,h.line),O=Va(C)+Nc(A.display);return{left:b,right:b,top:O,bottom:O+C.height}}function Nr(A,h,b,C,O){var F=Ct(A,h,b);return F.xRel=O,C&&(F.outside=C),F}function Gi(A,h,b){var C=A.doc;if(b+=A.display.viewOffset,b<0)return Nr(C.first,0,null,-1,-1);var O=je(C,b),F=C.first+C.size-1;if(O>F)return Nr(C.first+C.size-1,dn(C,F).text.length,null,1,1);h<0&&(h=0);for(var Y=dn(C,O);;){var X=ch(A,Y,O,h,b),le=Bi(Y,X.ch+(X.xRel>0||X.outside>0?1:0));if(!le)return X;var fe=le.find(1);if(fe.line==O)return fe;Y=dn(C,O=fe.line)}}function fa(A,h,b,C){C-=Vs(h);var O=h.text.length,F=ct(function(Y){return as(A,b,Y-1).bottom<=C},O,0);return O=ct(function(Y){return as(A,b,Y).top>C},F,O),{begin:F,end:O}}function Oo(A,h,b,C){b||(b=ms(A,h));var O=Sl(A,h,as(A,b,C),"line").top;return fa(A,h,b,O)}function Pd(A,h,b,C){return A.bottom<=b?!1:A.top>b?!0:(C?A.left:A.right)>h}function ch(A,h,b,C,O){O-=Va(h);var F=ms(A,h),Y=Vs(h),X=0,le=h.text.length,fe=!0,Le=It(h,A.doc.direction);if(Le){var $e=(A.options.lineWrapping?Ql:Ks)(A,h,b,F,Le,C,O);fe=$e.level!=1,X=fe?$e.from:$e.to-1,le=fe?$e.to:$e.from-1}var _t=null,mt=null,Vt=ct(function(br){var Er=as(A,F,br);return Er.top+=Y,Er.bottom+=Y,Pd(Er,C,O,!1)?(Er.top<=O&&Er.left<=C&&(_t=br,mt=Er),!0):!1},X,le),An,_n,Dn=!1;if(mt){var Hn=C-mt.left<mt.right-C,Pn=Hn==fe;Vt=_t+(Pn?0:1),_n=Pn?"after":"before",An=Hn?mt.left:mt.right}else{!fe&&(Vt==le||Vt==X)&&Vt++,_n=Vt==0?"after":Vt==h.text.length?"before":as(A,F,Vt-(fe?1:0)).bottom+Y<=O==fe?"after":"before";var er=Rt(A,Ct(b,Vt,_n),"line",h,F);An=er.left,Dn=O<er.top?-1:O>=er.bottom?1:0}return Vt=st(h.text,Vt,1),Nr(b,Vt,_n,Dn,C-An)}function Ks(A,h,b,C,O,F,Y){var X=ct(function($e){var _t=O[$e],mt=_t.level!=1;return Pd(Rt(A,Ct(b,mt?_t.to:_t.from,mt?"before":"after"),"line",h,C),F,Y,!0)},0,O.length-1),le=O[X];if(X>0){var fe=le.level!=1,Le=Rt(A,Ct(b,fe?le.from:le.to,fe?"after":"before"),"line",h,C);Pd(Le,F,Y,!0)&&Le.top>Y&&(le=O[X-1])}return le}function Ql(A,h,b,C,O,F,Y){var X=fa(A,h,C,Y),le=X.begin,fe=X.end;/\s/.test(h.text.charAt(fe-1))&&fe--;for(var Le=null,$e=null,_t=0;_t<O.length;_t++){var mt=O[_t];if(!(mt.from>=fe||mt.to<=le)){var Vt=mt.level!=1,An=as(A,C,Vt?Math.min(fe,mt.to)-1:Math.max(le,mt.from)).right,_n=An<F?F-An+1e9:An-F;(!Le||$e>_n)&&(Le=mt,$e=_n)}}return Le||(Le=O[O.length-1]),Le.from<le&&(Le={from:le,to:Le.to,level:Le.level}),Le.to>fe&&(Le={from:Le.from,to:fe,level:Le.level}),Le}var Gn;function $l(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(Gn==null){Gn=ve("pre",null,"CodeMirror-line-like");for(var h=0;h<49;++h)Gn.appendChild(document.createTextNode("x")),Gn.appendChild(ve("br"));Gn.appendChild(document.createTextNode("x"))}Je(A.measure,Gn);var b=Gn.offsetHeight/50;return b>3&&(A.cachedTextHeight=b),ke(A.measure),b||1}function Hs(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var h=ve("span","xxxxxxxxxx"),b=ve("pre",[h],"CodeMirror-line-like");Je(A.measure,b);var C=h.getBoundingClientRect(),O=(C.right-C.left)/10;return O>2&&(A.cachedCharWidth=O),O||10}function El(A){for(var h=A.display,b={},C={},O=h.gutters.clientLeft,F=h.gutters.firstChild,Y=0;F;F=F.nextSibling,++Y){var X=A.display.gutterSpecs[Y].className;b[X]=F.offsetLeft+F.clientLeft+O,C[X]=F.clientWidth}return{fixedPos:lo(h),gutterTotalWidth:h.gutters.offsetWidth,gutterLeft:b,gutterWidth:C,wrapperWidth:h.wrapper.clientWidth}}function lo(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function jn(A){var h=$l(A.display),b=A.options.lineWrapping,C=b&&Math.max(5,A.display.scroller.clientWidth/Hs(A.display)-3);return function(O){if(vi(A.doc,O))return 0;var F=0;if(O.widgets)for(var Y=0;Y<O.widgets.length;Y++)O.widgets[Y].height&&(F+=O.widgets[Y].height);return b?F+(Math.ceil(O.text.length/C)||1)*h:F+h}}function fc(A){var h=A.doc,b=jn(A);h.iter(function(C){var O=b(C);O!=C.height&&Oi(C,O)})}function Pu(A,h,b,C){var O=A.display;if(!b&&da(h).getAttribute("cm-not-content")=="true")return null;var F,Y,X=O.lineSpace.getBoundingClientRect();try{F=h.clientX-X.left,Y=h.clientY-X.top}catch{return null}var le=Gi(A,F,Y),fe;if(C&&le.xRel>0&&(fe=dn(A.doc,le.line).text).length==le.ch){var Le=ce(fe,fe.length,A.options.tabSize)-fe.length;le=Ct(le.line,Math.max(0,Math.round((F-Gc(A.display).left)/Hs(A.display))-Le))}return le}function tA(A,h){if(h>=A.display.viewTo||(h-=A.display.viewFrom,h<0))return null;for(var b=A.display.view,C=0;C<b.length;C++)if(h-=b[C].size,h<0)return C}function gs(A,h,b,C){h==null&&(h=A.doc.first),b==null&&(b=A.doc.first+A.doc.size),C||(C=0);var O=A.display;if(C&&b<O.viewTo&&(O.updateLineNumbers==null||O.updateLineNumbers>h)&&(O.updateLineNumbers=h),A.curOp.viewChanged=!0,h>=O.viewTo)Ts&&Ta(A.doc,h)<O.viewTo&&Yl(A);else if(b<=O.viewFrom)Ts&&$o(A.doc,b+C)>O.viewFrom?Yl(A):(O.viewFrom+=C,O.viewTo+=C);else if(h<=O.viewFrom&&b>=O.viewTo)Yl(A);else if(h<=O.viewFrom){var F=Au(A,b,b+C,1);F?(O.view=O.view.slice(F.index),O.viewFrom=F.lineN,O.viewTo+=C):Yl(A)}else if(b>=O.viewTo){var Y=Au(A,h,h,-1);Y?(O.view=O.view.slice(0,Y.index),O.viewTo=Y.lineN):Yl(A)}else{var X=Au(A,h,h,-1),le=Au(A,b,b+C,1);X&&le?(O.view=O.view.slice(0,X.index).concat(oc(A,X.lineN,le.lineN)).concat(O.view.slice(le.index)),O.viewTo+=C):Yl(A)}var fe=O.externalMeasured;fe&&(b<fe.lineN?fe.lineN+=C:h<fe.lineN+fe.size&&(O.externalMeasured=null))}function nA(A,h,b){A.curOp.viewChanged=!0;var C=A.display,O=A.display.externalMeasured;if(O&&h>=O.lineN&&h<O.lineN+O.size&&(C.externalMeasured=null),!(h<C.viewFrom||h>=C.viewTo)){var F=C.view[tA(A,h)];if(F.node!=null){var Y=F.changes||(F.changes=[]);Ke(Y,b)==-1&&Y.push(b)}}}function Yl(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function Au(A,h,b,C){var O=tA(A,h),F,Y=A.display.view;if(!Ts||b==A.doc.first+A.doc.size)return{index:O,lineN:b};for(var X=A.display.viewFrom,le=0;le<O;le++)X+=Y[le].size;if(X!=h){if(C>0){if(O==Y.length-1)return null;F=X+Y[O].size-h,O++}else F=X-h;h+=F,b+=F}for(;Ta(A.doc,b)!=b;){if(O==(C<0?0:Y.length-1))return null;b+=C*Y[O-(C<0?1:0)].size,O+=C}return{index:O,lineN:b}}function Ud(A,h,b){var C=A.display,O=C.view;O.length==0||h>=C.viewTo||b<=C.viewFrom?(C.view=oc(A,h,b),C.viewFrom=h):(C.viewFrom>h?C.view=oc(A,h,C.viewFrom).concat(C.view):C.viewFrom<h&&(C.view=C.view.slice(tA(A,h))),C.viewFrom=h,C.viewTo<b?C.view=C.view.concat(oc(A,C.viewTo,b)):C.viewTo>b&&(C.view=C.view.slice(0,tA(A,b)))),C.viewTo=b}function Dd(A){for(var h=A.display.view,b=0,C=0;C<h.length;C++){var O=h[C];!O.hidden&&(!O.node||O.changes)&&++b}return b}function Uu(A){A.display.input.showSelection(A.display.input.prepareSelection())}function Fd(A,h){h===void 0&&(h=!0);var b=A.doc,C={},O=C.cursors=document.createDocumentFragment(),F=C.selection=document.createDocumentFragment(),Y=A.options.$customCursor;Y&&(h=!0);for(var X=0;X<b.sel.ranges.length;X++)if(!(!h&&X==b.sel.primIndex)){var le=b.sel.ranges[X];if(!(le.from().line>=A.display.viewTo||le.to().line<A.display.viewFrom)){var fe=le.empty();if(Y){var Le=Y(A,le);Le&&Zc(A,Le,O)}else(fe||A.options.showCursorWhenSelecting)&&Zc(A,le.head,O);fe||rA(A,le,F)}}return C}function Zc(A,h,b){var C=Rt(A,h,"div",null,null,!A.options.singleCursorHeightPerLine),O=b.appendChild(ve("div","","CodeMirror-cursor"));if(O.style.left=C.left+"px",O.style.top=C.top+"px",O.style.height=Math.max(0,C.bottom-C.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var F=on(A,h,"div",null,null),Y=F.right-F.left;O.style.width=(Y>0?Y:A.defaultCharWidth())+"px"}if(C.other){var X=b.appendChild(ve("div","","CodeMirror-cursor CodeMirror-secondarycursor"));X.style.display="",X.style.left=C.other.left+"px",X.style.top=C.other.top+"px",X.style.height=(C.other.bottom-C.other.top)*.85+"px"}}function Pa(A,h){return A.top-h.top||A.left-h.left}function rA(A,h,b){var C=A.display,O=A.doc,F=document.createDocumentFragment(),Y=Gc(A.display),X=Y.left,le=Math.max(C.sizerWidth,uc(A)-C.sizer.offsetLeft)-Y.right,fe=O.direction=="ltr";function Le(Pn,er,br,Er){er<0&&(er=0),er=Math.round(er),Er=Math.round(Er),F.appendChild(ve("div",null,"CodeMirror-selected","position: absolute; left: "+Pn+`px;
                             top: `+er+"px; width: "+(br??le-Pn)+`px;
                             height: `+(Er-er)+"px"))}function $e(Pn,er,br){var Er=dn(O,Pn),Ci=Er.text.length,Fo,La;function Jo(ma,ls){return on(A,Ct(Pn,ma),"div",Er,ls)}function ra(ma,ls,Ea){var Oa=Oo(A,Er,null,ma),ga=ls=="ltr"==(Ea=="after")?"left":"right",Ba=Ea=="after"?Oa.begin:Oa.end-(/\s/.test(Er.text.charAt(Oa.end-1))?2:1);return Jo(Ba,ga)[ga]}var Ra=It(Er,O.direction);return wt(Ra,er||0,br??Ci,function(ma,ls,Ea,Oa){var ga=Ea=="ltr",Ba=Jo(ma,ga?"left":"right"),fl=Jo(ls-1,ga?"right":"left"),Gd=er==null&&ma==0,cd=br==null&&ls==Ci,Ds=Oa==0,uA=!Ra||Oa==Ra.length-1;if(fl.top-Ba.top<=3){var Za=(fe?Gd:cd)&&Ds,Pf=(fe?cd:Gd)&&uA,zA=Za?X:(ga?Ba:fl).left,dd=Pf?le:(ga?fl:Ba).right;Le(zA,Ba.top,dd-zA,Ba.bottom)}else{var xc,ya,Qd,jA;ga?(xc=fe&&Gd&&Ds?X:Ba.left,ya=fe?le:ra(ma,Ea,"before"),Qd=fe?X:ra(ls,Ea,"after"),jA=fe&&cd&&uA?le:fl.right):(xc=fe?ra(ma,Ea,"before"):X,ya=!fe&&Gd&&Ds?le:Ba.right,Qd=!fe&&cd&&uA?X:fl.left,jA=fe?ra(ls,Ea,"after"):le),Le(xc,Ba.top,ya-xc,Ba.bottom),Ba.bottom<fl.top&&Le(X,Ba.bottom,null,fl.top),Le(Qd,fl.top,jA-Qd,fl.bottom)}(!Fo||Pa(Ba,Fo)<0)&&(Fo=Ba),Pa(fl,Fo)<0&&(Fo=fl),(!La||Pa(Ba,La)<0)&&(La=Ba),Pa(fl,La)<0&&(La=fl)}),{start:Fo,end:La}}var _t=h.from(),mt=h.to();if(_t.line==mt.line)$e(_t.line,_t.ch,mt.ch);else{var Vt=dn(O,_t.line),An=dn(O,mt.line),_n=Hr(Vt)==Hr(An),Dn=$e(_t.line,_t.ch,_n?Vt.text.length+1:null).end,Hn=$e(mt.line,_n?0:null,mt.ch).start;_n&&(Dn.top<Hn.top-2?(Le(Dn.right,Dn.top,null,Dn.bottom),Le(X,Hn.top,Hn.left,Hn.bottom)):Le(Dn.right,Dn.top,Hn.left-Dn.right,Dn.bottom)),Dn.bottom<Hn.top&&Le(X,Dn.bottom,null,Hn.top)}b.appendChild(F)}function IA(A){if(A.state.focused){var h=A.display;clearInterval(h.blinker);var b=!0;h.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?h.blinker=setInterval(function(){A.hasFocus()||mc(A),h.cursorDiv.style.visibility=(b=!b)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(h.cursorDiv.style.visibility="hidden")}}function Ol(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||pc(A))}function kA(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&mc(A))},100)}function pc(A,h){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(un(A,"focus",A,h),A.state.focused=!0,Ne(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),x&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),IA(A))}function mc(A,h){A.state.delayingBlurEvent||(A.state.focused&&(un(A,"blur",A,h),A.state.focused=!1,ht(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function Zs(A){for(var h=A.display,b=h.lineDiv.offsetTop,C=Math.max(0,h.scroller.getBoundingClientRect().top),O=h.lineDiv.getBoundingClientRect().top,F=0,Y=0;Y<h.view.length;Y++){var X=h.view[Y],le=A.options.lineWrapping,fe=void 0,Le=0;if(!X.hidden){if(O+=X.line.height,f&&g<8){var $e=X.node.offsetTop+X.node.offsetHeight;fe=$e-b,b=$e}else{var _t=X.node.getBoundingClientRect();fe=_t.bottom-_t.top,!le&&X.text.firstChild&&(Le=X.text.firstChild.getBoundingClientRect().right-_t.left-1)}var mt=X.line.height-fe;if((mt>.005||mt<-.005)&&(O<C&&(F-=mt),Oi(X.line,fe),wo(X.line),X.rest))for(var Vt=0;Vt<X.rest.length;Vt++)wo(X.rest[Vt]);if(Le>A.display.sizerWidth){var An=Math.ceil(Le/Hs(A.display));An>A.display.maxLineLength&&(A.display.maxLineLength=An,A.display.maxLine=X.line,A.display.maxLineChanged=!0)}}}Math.abs(F)>2&&(h.scroller.scrollTop+=F)}function wo(A){if(A.widgets)for(var h=0;h<A.widgets.length;++h){var b=A.widgets[h],C=b.node.parentNode;C&&(b.height=C.offsetHeight)}}function cu(A,h,b){var C=b&&b.top!=null?Math.max(0,b.top):A.scroller.scrollTop;C=Math.floor(C-Nc(A));var O=b&&b.bottom!=null?b.bottom:C+A.wrapper.clientHeight,F=je(h,C),Y=je(h,O);if(b&&b.ensure){var X=b.ensure.from.line,le=b.ensure.to.line;X<F?(F=X,Y=je(h,Va(dn(h,X))+A.wrapper.clientHeight)):Math.min(le,h.lastLine())>=Y&&(F=je(h,Va(dn(h,le))-A.wrapper.clientHeight),Y=le)}return{from:F,to:Math.max(Y,F+1)}}function Xc(A,h){if(!pr(A,"scrollCursorIntoView")){var b=A.display,C=b.sizer.getBoundingClientRect(),O=null,F=b.wrapper.ownerDocument;if(h.top+C.top<0?O=!0:h.bottom+C.top>(F.defaultView.innerHeight||F.documentElement.clientHeight)&&(O=!1),O!=null&&!j){var Y=ve("div","",null,`position: absolute;
                         top: `+(h.top-b.viewOffset-Nc(A.display))+`px;
                         height: `+(h.bottom-h.top+qs(A)+b.barHeight)+`px;
                         left: `+h.left+"px; width: "+Math.max(2,h.right-h.left)+"px;");A.display.lineSpace.appendChild(Y),Y.scrollIntoView(O),A.display.lineSpace.removeChild(Y)}}}function vp(A,h,b,C){C==null&&(C=0);var O;!A.options.lineWrapping&&h==b&&(b=h.sticky=="before"?Ct(h.line,h.ch+1,"before"):h,h=h.ch?Ct(h.line,h.sticky=="before"?h.ch-1:h.ch,"after"):h);for(var F=0;F<5;F++){var Y=!1,X=Rt(A,h),le=!b||b==h?X:Rt(A,b);O={left:Math.min(X.left,le.left),top:Math.min(X.top,le.top)-C,right:Math.max(X.left,le.left),bottom:Math.max(X.bottom,le.bottom)+C};var fe=dh(A,O),Le=A.doc.scrollTop,$e=A.doc.scrollLeft;if(fe.scrollTop!=null&&(gc(A,fe.scrollTop),Math.abs(A.doc.scrollTop-Le)>1&&(Y=!0)),fe.scrollLeft!=null&&(Do(A,fe.scrollLeft),Math.abs(A.doc.scrollLeft-$e)>1&&(Y=!0)),!Y)break}return O}function df(A,h){var b=dh(A,h);b.scrollTop!=null&&gc(A,b.scrollTop),b.scrollLeft!=null&&Do(A,b.scrollLeft)}function dh(A,h){var b=A.display,C=$l(A.display);h.top<0&&(h.top=0);var O=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:b.scroller.scrollTop,F=Qc(A),Y={};h.bottom-h.top>F&&(h.bottom=h.top+F);var X=A.doc.height+eA(b),le=h.top<C,fe=h.bottom>X-C;if(h.top<O)Y.scrollTop=le?0:h.top;else if(h.bottom>O+F){var Le=Math.min(h.top,(fe?X:h.bottom)-F);Le!=O&&(Y.scrollTop=Le)}var $e=A.options.fixedGutter?0:b.gutters.offsetWidth,_t=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:b.scroller.scrollLeft-$e,mt=uc(A)-b.gutters.offsetWidth,Vt=h.right-h.left>mt;return Vt&&(h.right=h.left+mt),h.left<10?Y.scrollLeft=0:h.left<_t?Y.scrollLeft=Math.max(0,h.left+$e-(Vt?0:10)):h.right>mt+_t-3&&(Y.scrollLeft=h.right+(Vt?0:10)-mt),Y}function hf(A,h){h!=null&&(Br(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+h)}function uo(A){Br(A);var h=A.getCursor();A.curOp.scrollToPos={from:h,to:h,margin:A.options.cursorScrollMargin}}function Zo(A,h,b){(h!=null||b!=null)&&Br(A),h!=null&&(A.curOp.scrollLeft=h),b!=null&&(A.curOp.scrollTop=b)}function mr(A,h){Br(A),A.curOp.scrollToPos=h}function Br(A){var h=A.curOp.scrollToPos;if(h){A.curOp.scrollToPos=null;var b=Ar(A,h.from),C=Ar(A,h.to);TA(A,b,C,h.margin)}}function TA(A,h,b,C){var O=dh(A,{left:Math.min(h.left,b.left),top:Math.min(h.top,b.top)-C,right:Math.max(h.right,b.right),bottom:Math.max(h.bottom,b.bottom)+C});Zo(A,O.scrollLeft,O.scrollTop)}function gc(A,h){Math.abs(A.doc.scrollTop-h)<2||(i||Bt(A,{top:h}),du(A,h,!0),i&&Bt(A),Me(A,100))}function du(A,h,b){h=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,h)),!(A.display.scroller.scrollTop==h&&!b)&&(A.doc.scrollTop=h,A.display.scrollbars.setScrollTop(h),A.display.scroller.scrollTop!=h&&(A.display.scroller.scrollTop=h))}function Do(A,h,b,C){h=Math.max(0,Math.min(h,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((b?h==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-h)<2)&&!C)&&(A.doc.scrollLeft=h,fn(A),A.display.scroller.scrollLeft!=h&&(A.display.scroller.scrollLeft=h),A.display.scrollbars.setScrollLeft(h))}function cl(A){var h=A.display,b=h.gutters.offsetWidth,C=Math.round(A.doc.height+eA(A.display));return{clientHeight:h.scroller.clientHeight,viewHeight:h.wrapper.clientHeight,scrollWidth:h.scroller.scrollWidth,clientWidth:h.scroller.clientWidth,viewWidth:h.wrapper.clientWidth,barLeft:A.options.fixedGutter?b:0,docHeight:C,scrollHeight:C+qs(A)+h.barHeight,nativeBarWidth:h.nativeBarWidth,gutterWidth:b}}var wa=function(A,h,b){this.cm=b;var C=this.vert=ve("div",[ve("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),O=this.horiz=ve("div",[ve("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");C.tabIndex=O.tabIndex=-1,A(C),A(O),Pt(C,"scroll",function(){C.clientHeight&&h(C.scrollTop,"vertical")}),Pt(O,"scroll",function(){O.clientWidth&&h(O.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};wa.prototype.update=function(A){var h=A.scrollWidth>A.clientWidth+1,b=A.scrollHeight>A.clientHeight+1,C=A.nativeBarWidth;if(b){this.vert.style.display="block",this.vert.style.bottom=h?C+"px":"0";var O=A.viewHeight-(h?C:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+O)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(h){this.horiz.style.display="block",this.horiz.style.right=b?C+"px":"0",this.horiz.style.left=A.barLeft+"px";var F=A.viewWidth-A.barLeft-(b?C:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+F)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(C==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:b?C:0,bottom:h?C:0}},wa.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},wa.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},wa.prototype.zeroWidthHack=function(){var A=se&&!W?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _e,this.disableVert=new _e},wa.prototype.enableZeroWidthBar=function(A,h,b){A.style.visibility="";function C(){var O=A.getBoundingClientRect(),F=b=="vert"?document.elementFromPoint(O.right-1,(O.top+O.bottom)/2):document.elementFromPoint((O.right+O.left)/2,O.bottom-1);F!=A?A.style.visibility="hidden":h.set(1e3,C)}h.set(1e3,C)},wa.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var Du=function(){};Du.prototype.update=function(){return{bottom:0,right:0}},Du.prototype.setScrollLeft=function(){},Du.prototype.setScrollTop=function(){},Du.prototype.clear=function(){};function ys(A,h){h||(h=cl(A));var b=A.display.barWidth,C=A.display.barHeight;Wo(A,h);for(var O=0;O<4&&b!=A.display.barWidth||C!=A.display.barHeight;O++)b!=A.display.barWidth&&A.options.lineWrapping&&Zs(A),Wo(A,cl(A)),b=A.display.barWidth,C=A.display.barHeight}function Wo(A,h){var b=A.display,C=b.scrollbars.update(h);b.sizer.style.paddingRight=(b.barWidth=C.right)+"px",b.sizer.style.paddingBottom=(b.barHeight=C.bottom)+"px",b.heightForcer.style.borderBottom=C.bottom+"px solid transparent",C.right&&C.bottom?(b.scrollbarFiller.style.display="block",b.scrollbarFiller.style.height=C.bottom+"px",b.scrollbarFiller.style.width=C.right+"px"):b.scrollbarFiller.style.display="",C.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(b.gutterFiller.style.display="block",b.gutterFiller.style.height=C.bottom+"px",b.gutterFiller.style.width=h.gutterWidth+"px"):b.gutterFiller.style.display=""}var No={native:wa,null:Du};function hh(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&ht(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new No[A.options.scrollbarStyle](function(h){A.display.wrapper.insertBefore(h,A.display.scrollbarFiller),Pt(h,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),h.setAttribute("cm-not-content","true")},function(h,b){b=="horizontal"?Do(A,h):gc(A,h)},A),A.display.scrollbars.addClass&&Ne(A.display.wrapper,A.display.scrollbars.addClass)}var yc=0;function M(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++yc,markArrays:null},so(A.curOp)}function u(A){var h=A.curOp;h&&jo(h,function(b){for(var C=0;C<b.ops.length;C++)b.ops[C].cm.curOp=null;m(b)})}function m(A){for(var h=A.ops,b=0;b<h.length;b++)_(h[b]);for(var C=0;C<h.length;C++)E(h[C]);for(var O=0;O<h.length;O++)K(h[O]);for(var F=0;F<h.length;F++)T(h[F]);for(var Y=0;Y<h.length;Y++)$(h[Y])}function _(A){var h=A.cm,b=h.display;ze(h),A.updateMaxLine&&jl(h),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<b.viewFrom||A.scrollToPos.to.line>=b.viewTo)||b.maxLineChanged&&h.options.lineWrapping,A.update=A.mustUpdate&&new Fe(h,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function E(A){A.updatedDisplay=A.mustUpdate&&Mt(A.cm,A.update)}function K(A){var h=A.cm,b=h.display;A.updatedDisplay&&Zs(h),A.barMeasure=cl(h),b.maxLineChanged&&!h.options.lineWrapping&&(A.adjustWidthTo=$c(h,b.maxLine,b.maxLine.text.length).left+3,h.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(b.scroller.clientWidth,b.sizer.offsetLeft+A.adjustWidthTo+qs(h)+h.display.barWidth),A.maxScrollLeft=Math.max(0,b.sizer.offsetLeft+A.adjustWidthTo-uc(h))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=b.input.prepareSelection())}function T(A){var h=A.cm;A.adjustWidthTo!=null&&(h.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<h.doc.scrollLeft&&Do(h,Math.min(h.display.scroller.scrollLeft,A.maxScrollLeft),!0),h.display.maxLineChanged=!1);var b=A.focus&&A.focus==St(dt(h));A.preparedSelection&&h.display.input.showSelection(A.preparedSelection,b),(A.updatedDisplay||A.startHeight!=h.doc.height)&&ys(h,A.barMeasure),A.updatedDisplay&&Zt(h,A.barMeasure),A.selectionChanged&&IA(h),h.state.focused&&A.updateInput&&h.display.input.reset(A.typing),b&&Ol(A.cm)}function $(A){var h=A.cm,b=h.display,C=h.doc;if(A.updatedDisplay&&Ye(h,A.update),b.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(b.wheelStartX=b.wheelStartY=null),A.scrollTop!=null&&du(h,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&Do(h,A.scrollLeft,!0,!0),A.scrollToPos){var O=vp(h,kr(C,A.scrollToPos.from),kr(C,A.scrollToPos.to),A.scrollToPos.margin);Xc(h,O)}var F=A.maybeHiddenMarkers,Y=A.maybeUnhiddenMarkers;if(F)for(var X=0;X<F.length;++X)F[X].lines.length||un(F[X],"hide");if(Y)for(var le=0;le<Y.length;++le)Y[le].lines.length&&un(Y[le],"unhide");b.wrapper.offsetHeight&&(C.scrollTop=h.display.scroller.scrollTop),A.changeObjs&&un(h,"changes",h,A.changeObjs),A.update&&A.update.finish()}function H(A,h){if(A.curOp)return h();M(A);try{return h()}finally{u(A)}}function te(A,h){return function(){if(A.curOp)return h.apply(A,arguments);M(A);try{return h.apply(A,arguments)}finally{u(A)}}}function Ae(A){return function(){if(this.curOp)return A.apply(this,arguments);M(this);try{return A.apply(this,arguments)}finally{u(this)}}}function ye(A){return function(){var h=this.cm;if(!h||h.curOp)return A.apply(this,arguments);M(h);try{return A.apply(this,arguments)}finally{u(h)}}}function Me(A,h){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(h,Kt(We,A))}function We(A){var h=A.doc;if(!(h.highlightFrontier>=A.display.viewTo)){var b=+new Date+A.options.workTime,C=Ho(A,h.highlightFrontier),O=[];h.iter(C.line,Math.min(h.first+h.size,A.display.viewTo+500),function(F){if(C.line>=A.display.viewFrom){var Y=F.styles,X=F.text.length>A.options.maxHighlightLength?Zn(h.mode,C.state):null,le=xl(A,F,C,!0);X&&(C.state=X),F.styles=le.styles;var fe=F.styleClasses,Le=le.classes;Le?F.styleClasses=Le:fe&&(F.styleClasses=null);for(var $e=!Y||Y.length!=F.styles.length||fe!=Le&&(!fe||!Le||fe.bgClass!=Le.bgClass||fe.textClass!=Le.textClass),_t=0;!$e&&_t<Y.length;++_t)$e=Y[_t]!=F.styles[_t];$e&&O.push(C.line),F.stateAfter=C.save(),C.nextLine()}else F.text.length<=A.options.maxHighlightLength&&xa(A,F.text,C),F.stateAfter=C.line%5==0?C.save():null,C.nextLine();if(+new Date>b)return Me(A,A.options.workDelay),!0}),h.highlightFrontier=C.line,h.modeFrontier=Math.max(h.modeFrontier,C.line),O.length&&H(A,function(){for(var F=0;F<O.length;F++)nA(A,O[F],"text")})}}var Fe=function(A,h,b){var C=A.display;this.viewport=h,this.visible=cu(C,A.doc,h),this.editorIsHidden=!C.wrapper.offsetWidth,this.wrapperHeight=C.wrapper.clientHeight,this.wrapperWidth=C.wrapper.clientWidth,this.oldDisplayWidth=uc(A),this.force=b,this.dims=El(A),this.events=[]};Fe.prototype.signal=function(A,h){ki(A,h)&&this.events.push(arguments)},Fe.prototype.finish=function(){for(var A=0;A<this.events.length;A++)un.apply(null,this.events[A])};function ze(A){var h=A.display;!h.scrollbarsClipped&&h.scroller.offsetWidth&&(h.nativeBarWidth=h.scroller.offsetWidth-h.scroller.clientWidth,h.heightForcer.style.height=qs(A)+"px",h.sizer.style.marginBottom=-h.nativeBarWidth+"px",h.sizer.style.borderRightWidth=qs(A)+"px",h.scrollbarsClipped=!0)}function At(A){if(A.hasFocus())return null;var h=St(dt(A));if(!h||!tn(A.display.lineDiv,h))return null;var b={activeElt:h};if(window.getSelection){var C=Et(A).getSelection();C.anchorNode&&C.extend&&tn(A.display.lineDiv,C.anchorNode)&&(b.anchorNode=C.anchorNode,b.anchorOffset=C.anchorOffset,b.focusNode=C.focusNode,b.focusOffset=C.focusOffset)}return b}function yt(A){if(!(!A||!A.activeElt||A.activeElt==St(ot(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&tn(document.body,A.anchorNode)&&tn(document.body,A.focusNode))){var h=A.activeElt.ownerDocument,b=h.defaultView.getSelection(),C=h.createRange();C.setEnd(A.anchorNode,A.anchorOffset),C.collapse(!1),b.removeAllRanges(),b.addRange(C),b.extend(A.focusNode,A.focusOffset)}}function Mt(A,h){var b=A.display,C=A.doc;if(h.editorIsHidden)return Yl(A),!1;if(!h.force&&h.visible.from>=b.viewFrom&&h.visible.to<=b.viewTo&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo)&&b.renderedView==b.view&&Dd(A)==0)return!1;Qt(A)&&(Yl(A),h.dims=El(A));var O=C.first+C.size,F=Math.max(h.visible.from-A.options.viewportMargin,C.first),Y=Math.min(O,h.visible.to+A.options.viewportMargin);b.viewFrom<F&&F-b.viewFrom<20&&(F=Math.max(C.first,b.viewFrom)),b.viewTo>Y&&b.viewTo-Y<20&&(Y=Math.min(O,b.viewTo)),Ts&&(F=Ta(A.doc,F),Y=$o(A.doc,Y));var X=F!=b.viewFrom||Y!=b.viewTo||b.lastWrapHeight!=h.wrapperHeight||b.lastWrapWidth!=h.wrapperWidth;Ud(A,F,Y),b.viewOffset=Va(dn(A.doc,b.viewFrom)),A.display.mover.style.top=b.viewOffset+"px";var le=Dd(A);if(!X&&le==0&&!h.force&&b.renderedView==b.view&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo))return!1;var fe=At(A);return le>4&&(b.lineDiv.style.display="none"),kt(A,b.updateLineNumbers,h.dims),le>4&&(b.lineDiv.style.display=""),b.renderedView=b.view,yt(fe),ke(b.cursorDiv),ke(b.selectionDiv),b.gutters.style.height=b.sizer.style.minHeight=0,X&&(b.lastWrapHeight=h.wrapperHeight,b.lastWrapWidth=h.wrapperWidth,Me(A,400)),b.updateLineNumbers=null,!0}function Ye(A,h){for(var b=h.viewport,C=!0;;C=!1){if(!C||!A.options.lineWrapping||h.oldDisplayWidth==uc(A)){if(b&&b.top!=null&&(b={top:Math.min(A.doc.height+eA(A.display)-Qc(A),b.top)}),h.visible=cu(A.display,A.doc,b),h.visible.from>=A.display.viewFrom&&h.visible.to<=A.display.viewTo)break}else C&&(h.visible=cu(A.display,A.doc,b));if(!Mt(A,h))break;Zs(A);var O=cl(A);Uu(A),ys(A,O),Zt(A,O),h.force=!1}h.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(h.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function Bt(A,h){var b=new Fe(A,h);if(Mt(A,b)){Zs(A),Ye(A,b);var C=cl(A);Uu(A),ys(A,C),Zt(A,C),b.finish()}}function kt(A,h,b){var C=A.display,O=A.options.lineNumbers,F=C.lineDiv,Y=F.firstChild;function X(Vt){var An=Vt.nextSibling;return x&&se&&A.display.currentWheelTarget==Vt?Vt.style.display="none":Vt.parentNode.removeChild(Vt),An}for(var le=C.view,fe=C.viewFrom,Le=0;Le<le.length;Le++){var $e=le[Le];if(!$e.hidden)if(!$e.node||$e.node.parentNode!=F){var _t=yp(A,$e,fe,b);F.insertBefore(_t,Y)}else{for(;Y!=$e.node;)Y=X(Y);var mt=O&&h!=null&&h<=fe&&$e.lineNumber;$e.changes&&(Ke($e.changes,"gutter")>-1&&(mt=!1),lf(A,$e,fe,b)),mt&&(ke($e.lineNumber),$e.lineNumber.appendChild(document.createTextNode(hn(A.options,fe)))),Y=$e.node.nextSibling}fe+=$e.size}for(;Y;)Y=X(Y)}function Ht(A){var h=A.gutters.offsetWidth;A.sizer.style.marginLeft=h+"px",xo(A,"gutterChanged",A)}function Zt(A,h){A.display.sizer.style.minHeight=h.docHeight+"px",A.display.heightForcer.style.top=h.docHeight+"px",A.display.gutters.style.height=h.docHeight+A.display.barHeight+qs(A)+"px"}function fn(A){var h=A.display,b=h.view;if(!(!h.alignWidgets&&(!h.gutters.firstChild||!A.options.fixedGutter))){for(var C=lo(h)-h.scroller.scrollLeft+A.doc.scrollLeft,O=h.gutters.offsetWidth,F=C+"px",Y=0;Y<b.length;Y++)if(!b[Y].hidden){A.options.fixedGutter&&(b[Y].gutter&&(b[Y].gutter.style.left=F),b[Y].gutterBackground&&(b[Y].gutterBackground.style.left=F));var X=b[Y].alignable;if(X)for(var le=0;le<X.length;le++)X[le].style.left=F}A.options.fixedGutter&&(h.gutters.style.left=C+O+"px")}}function Qt(A){if(!A.options.lineNumbers)return!1;var h=A.doc,b=hn(A.options,h.first+h.size-1),C=A.display;if(b.length!=C.lineNumChars){var O=C.measure.appendChild(ve("div",[ve("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),F=O.firstChild.offsetWidth,Y=O.offsetWidth-F;return C.lineGutter.style.width="",C.lineNumInnerWidth=Math.max(F,C.lineGutter.offsetWidth-Y)+1,C.lineNumWidth=C.lineNumInnerWidth+Y,C.lineNumChars=C.lineNumInnerWidth?b.length:-1,C.lineGutter.style.width=C.lineNumWidth+"px",Ht(A.display),!0}return!1}function Mn(A,h){for(var b=[],C=!1,O=0;O<A.length;O++){var F=A[O],Y=null;if(typeof F!="string"&&(Y=F.style,F=F.className),F=="CodeMirror-linenumbers")if(h)C=!0;else continue;b.push({className:F,style:Y})}return h&&!C&&b.push({className:"CodeMirror-linenumbers",style:null}),b}function kn(A){var h=A.gutters,b=A.gutterSpecs;ke(h),A.lineGutter=null;for(var C=0;C<b.length;++C){var O=b[C],F=O.className,Y=O.style,X=h.appendChild(ve("div",null,"CodeMirror-gutter "+F));Y&&(X.style.cssText=Y),F=="CodeMirror-linenumbers"&&(A.lineGutter=X,X.style.width=(A.lineNumWidth||1)+"px")}h.style.display=b.length?"":"none",Ht(A)}function Qn(A){kn(A.display),gs(A),fn(A)}function ii(A,h,b,C){var O=this;this.input=b,O.scrollbarFiller=ve("div",null,"CodeMirror-scrollbar-filler"),O.scrollbarFiller.setAttribute("cm-not-content","true"),O.gutterFiller=ve("div",null,"CodeMirror-gutter-filler"),O.gutterFiller.setAttribute("cm-not-content","true"),O.lineDiv=ft("div",null,"CodeMirror-code"),O.selectionDiv=ve("div",null,null,"position: relative; z-index: 1"),O.cursorDiv=ve("div",null,"CodeMirror-cursors"),O.measure=ve("div",null,"CodeMirror-measure"),O.lineMeasure=ve("div",null,"CodeMirror-measure"),O.lineSpace=ft("div",[O.measure,O.lineMeasure,O.selectionDiv,O.cursorDiv,O.lineDiv],null,"position: relative; outline: none");var F=ft("div",[O.lineSpace],"CodeMirror-lines");O.mover=ve("div",[F],null,"position: relative"),O.sizer=ve("div",[O.mover],"CodeMirror-sizer"),O.sizerWidth=null,O.heightForcer=ve("div",null,null,"position: absolute; height: "+Ve+"px; width: 1px;"),O.gutters=ve("div",null,"CodeMirror-gutters"),O.lineGutter=null,O.scroller=ve("div",[O.sizer,O.heightForcer,O.gutters],"CodeMirror-scroll"),O.scroller.setAttribute("tabIndex","-1"),O.wrapper=ve("div",[O.scrollbarFiller,O.gutterFiller,O.scroller],"CodeMirror"),B&&D>=105&&(O.wrapper.style.clipPath="inset(0px)"),O.wrapper.setAttribute("translate","no"),f&&g<8&&(O.gutters.style.zIndex=-1,O.scroller.style.paddingRight=0),!x&&!(i&&re)&&(O.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(O.wrapper):A(O.wrapper)),O.viewFrom=O.viewTo=h.first,O.reportedViewFrom=O.reportedViewTo=h.first,O.view=[],O.renderedView=null,O.externalMeasured=null,O.viewOffset=0,O.lastWrapHeight=O.lastWrapWidth=0,O.updateLineNumbers=null,O.nativeBarWidth=O.barHeight=O.barWidth=0,O.scrollbarsClipped=!1,O.lineNumWidth=O.lineNumInnerWidth=O.lineNumChars=null,O.alignWidgets=!1,O.cachedCharWidth=O.cachedTextHeight=O.cachedPaddingH=null,O.maxLine=null,O.maxLineLength=0,O.maxLineChanged=!1,O.wheelDX=O.wheelDY=O.wheelStartX=O.wheelStartY=null,O.shift=!1,O.selForContextMenu=null,O.activeTouch=null,O.gutterSpecs=Mn(C.gutters,C.lineNumbers),kn(O),b.init(O)}var si=0,cr=null;f?cr=-.53:i?cr=15:B?cr=-.7:V&&(cr=-1/3);function Li(A){var h=A.wheelDeltaX,b=A.wheelDeltaY;return h==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(h=A.detail),b==null&&A.detail&&A.axis==A.VERTICAL_AXIS?b=A.detail:b==null&&(b=A.wheelDelta),{x:h,y:b}}function mo(A){var h=Li(A);return h.x*=cr,h.y*=cr,h}function Ri(A,h){B&&D==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var b=Li(h),C=b.x,O=b.y,F=cr;h.deltaMode===0&&(C=h.deltaX,O=h.deltaY,F=1);var Y=A.display,X=Y.scroller,le=X.scrollWidth>X.clientWidth,fe=X.scrollHeight>X.clientHeight;if(C&&le||O&&fe){if(O&&se&&x){e:for(var Le=h.target,$e=Y.view;Le!=X;Le=Le.parentNode)for(var _t=0;_t<$e.length;_t++)if($e[_t].node==Le){A.display.currentWheelTarget=Le;break e}}if(C&&!i&&!L&&F!=null){O&&fe&&gc(A,Math.max(0,X.scrollTop+O*F)),Do(A,Math.max(0,X.scrollLeft+C*F)),(!O||O&&fe)&&Fr(h),Y.wheelStartX=null;return}if(O&&F!=null){var mt=O*F,Vt=A.doc.scrollTop,An=Vt+Y.wrapper.clientHeight;mt<0?Vt=Math.max(0,Vt+mt-50):An=Math.min(A.doc.height,An+mt+50),Bt(A,{top:Vt,bottom:An})}si<20&&h.deltaMode!==0&&(Y.wheelStartX==null?(Y.wheelStartX=X.scrollLeft,Y.wheelStartY=X.scrollTop,Y.wheelDX=C,Y.wheelDY=O,setTimeout(function(){if(Y.wheelStartX!=null){var _n=X.scrollLeft-Y.wheelStartX,Dn=X.scrollTop-Y.wheelStartY,Hn=Dn&&Y.wheelDY&&Dn/Y.wheelDY||_n&&Y.wheelDX&&_n/Y.wheelDX;Y.wheelStartX=Y.wheelStartY=null,Hn&&(cr=(cr*si+Hn)/(si+1),++si)}},200)):(Y.wheelDX+=C,Y.wheelDY+=O))}}var Tr=function(A,h){this.ranges=A,this.primIndex=h};Tr.prototype.primary=function(){return this.ranges[this.primIndex]},Tr.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var h=0;h<this.ranges.length;h++){var b=this.ranges[h],C=A.ranges[h];if(!ti(b.anchor,C.anchor)||!ti(b.head,C.head))return!1}return!0},Tr.prototype.deepCopy=function(){for(var A=[],h=0;h<this.ranges.length;h++)A[h]=new Sr(Ni(this.ranges[h].anchor),Ni(this.ranges[h].head));return new Tr(A,this.primIndex)},Tr.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},Tr.prototype.contains=function(A,h){h||(h=A);for(var b=0;b<this.ranges.length;b++){var C=this.ranges[b];if(Cn(h,C.from())>=0&&Cn(A,C.to())<=0)return b}return-1};var Sr=function(A,h){this.anchor=A,this.head=h};Sr.prototype.from=function(){return ba(this.anchor,this.head)},Sr.prototype.to=function(){return Xi(this.anchor,this.head)},Sr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Bo(A,h,b){var C=A&&A.options.selectionsMayTouch,O=h[b];h.sort(function(_t,mt){return Cn(_t.from(),mt.from())}),b=Ke(h,O);for(var F=1;F<h.length;F++){var Y=h[F],X=h[F-1],le=Cn(X.to(),Y.from());if(C&&!Y.empty()?le>0:le>=0){var fe=ba(X.from(),Y.from()),Le=Xi(X.to(),Y.to()),$e=X.empty()?Y.from()==Y.head:X.from()==X.head;F<=b&&--b,h.splice(--F,2,new Sr($e?Le:fe,$e?fe:Le))}}return new Tr(h,b)}function vs(A,h){return new Tr([new Sr(A,h||A)],0)}function ss(A){return A.text?Ct(A.from.line+A.text.length-1,$n(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function hu(A,h){if(Cn(A,h.from)<0)return A;if(Cn(A,h.to)<=0)return ss(h);var b=A.line+h.text.length-(h.to.line-h.from.line)-1,C=A.ch;return A.line==h.to.line&&(C+=ss(h).ch-h.to.ch),Ct(b,C)}function fu(A,h){for(var b=[],C=0;C<A.sel.ranges.length;C++){var O=A.sel.ranges[C];b.push(new Sr(hu(O.anchor,h),hu(O.head,h)))}return Bo(A.cm,b,A.sel.primIndex)}function dl(A,h,b){return A.line==h.line?Ct(b.line,A.ch-h.ch+b.ch):Ct(b.line+(A.line-h.line),A.ch)}function hl(A,h,b){for(var C=[],O=Ct(A.first,0),F=O,Y=0;Y<h.length;Y++){var X=h[Y],le=dl(X.from,O,F),fe=dl(ss(X),O,F);if(O=X.to,F=fe,b=="around"){var Le=A.sel.ranges[Y],$e=Cn(Le.head,Le.anchor)<0;C[Y]=new Sr($e?fe:le,$e?le:fe)}else C[Y]=new Sr(le,le)}return new Tr(C,A.sel.primIndex)}function pu(A){A.doc.mode=wn(A.options,A.doc.modeOption),Fu(A)}function Fu(A){A.doc.iter(function(h){h.stateAfter&&(h.stateAfter=null),h.styles&&(h.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,Me(A,100),A.state.modeGen++,A.curOp&&gs(A)}function Xo(A,h){return h.from.ch==0&&h.to.ch==0&&$n(h.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function li(A,h,b,C){function O(Hn){return b?b[Hn]:null}function F(Hn,Pn,er){ic(Hn,Pn,er,C),xo(Hn,"change",Hn,h)}function Y(Hn,Pn){for(var er=[],br=Hn;br<Pn;++br)er.push(new ku(fe[br],O(br),C));return er}var X=h.from,le=h.to,fe=h.text,Le=dn(A,X.line),$e=dn(A,le.line),_t=$n(fe),mt=O(fe.length-1),Vt=le.line-X.line;if(h.full)A.insert(0,Y(0,fe.length)),A.remove(fe.length,A.size-fe.length);else if(Xo(A,h)){var An=Y(0,fe.length-1);F($e,$e.text,mt),Vt&&A.remove(X.line,Vt),An.length&&A.insert(X.line,An)}else if(Le==$e)if(fe.length==1)F(Le,Le.text.slice(0,X.ch)+_t+Le.text.slice(le.ch),mt);else{var _n=Y(1,fe.length-1);_n.push(new ku(_t+Le.text.slice(le.ch),mt,C)),F(Le,Le.text.slice(0,X.ch)+fe[0],O(0)),A.insert(X.line+1,_n)}else if(fe.length==1)F(Le,Le.text.slice(0,X.ch)+fe[0]+$e.text.slice(le.ch),O(0)),A.remove(X.line+1,Vt);else{F(Le,Le.text.slice(0,X.ch)+fe[0],O(0)),F($e,_t+$e.text.slice(le.ch),mt);var Dn=Y(1,fe.length-1);Vt>1&&A.remove(X.line+1,Vt-1),A.insert(X.line+1,Dn)}xo(A,"change",A,h)}function Ki(A,h,b){function C(O,F,Y){if(O.linked)for(var X=0;X<O.linked.length;++X){var le=O.linked[X];if(le.doc!=F){var fe=Y&&le.sharedHist;b&&!fe||(h(le.doc,fe),C(le.doc,O,fe))}}}C(A,null,!0)}function Ua(A,h){if(h.cm)throw new Error("This document is already in use.");A.doc=h,h.cm=A,fc(A),pu(A),Ha(A),A.options.direction=h.direction,A.options.lineWrapping||jl(A),A.options.mode=h.modeOption,gs(A)}function Ha(A){(A.doc.direction=="rtl"?Ne:ht)(A.display.lineDiv,"CodeMirror-rtl")}function Ao(A){H(A,function(){Ha(A),gs(A)})}function Cs(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function Xs(A,h){var b={from:Ni(h.from),to:ss(h),text:Lr(A,h.from,h.to)};return iA(A,b,h.from.line,h.to.line+1),Ki(A,function(C){return iA(C,b,h.from.line,h.to.line+1)},!0),b}function Js(A){for(;A.length;){var h=$n(A);if(h.ranges)A.pop();else break}}function Jc(A,h){if(h)return Js(A.done),$n(A.done);if(A.done.length&&!$n(A.done).ranges)return $n(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),$n(A.done)}function fh(A,h,b,C){var O=A.history;O.undone.length=0;var F=+new Date,Y,X;if((O.lastOp==C||O.lastOrigin==h.origin&&h.origin&&(h.origin.charAt(0)=="+"&&O.lastModTime>F-(A.cm?A.cm.options.historyEventDelay:500)||h.origin.charAt(0)=="*"))&&(Y=Jc(O,O.lastOp==C)))X=$n(Y.changes),Cn(h.from,h.to)==0&&Cn(h.from,X.to)==0?X.to=ss(h):Y.changes.push(Xs(A,h));else{var le=$n(O.done);for((!le||!le.ranges)&&_s(A.sel,O.done),Y={changes:[Xs(A,h)],generation:O.generation},O.done.push(Y);O.done.length>O.undoDepth;)O.done.shift(),O.done[0].ranges||O.done.shift()}O.done.push(b),O.generation=++O.maxGeneration,O.lastModTime=O.lastSelTime=F,O.lastOp=O.lastSelOp=C,O.lastOrigin=O.lastSelOrigin=h.origin,X||un(A,"historyAdded")}function ph(A,h,b,C){var O=h.charAt(0);return O=="*"||O=="+"&&b.ranges.length==C.ranges.length&&b.somethingSelected()==C.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function ql(A,h,b,C){var O=A.history,F=C&&C.origin;b==O.lastSelOp||F&&O.lastSelOrigin==F&&(O.lastModTime==O.lastSelTime&&O.lastOrigin==F||ph(A,F,$n(O.done),h))?O.done[O.done.length-1]=h:_s(h,O.done),O.lastSelTime=+new Date,O.lastSelOrigin=F,O.lastSelOp=b,C&&C.clearRedo!==!1&&Js(O.undone)}function _s(A,h){var b=$n(h);b&&b.ranges&&b.equals(A)||h.push(A)}function iA(A,h,b,C){var O=h["spans_"+A.id],F=0;A.iter(Math.max(A.first,b),Math.min(A.first+A.size,C),function(Y){Y.markedSpans&&((O||(O=h["spans_"+A.id]={}))[F]=Y.markedSpans),++F})}function mh(A){if(!A)return null;for(var h,b=0;b<A.length;++b)A[b].marker.explicitlyCleared?h||(h=A.slice(0,b)):h&&h.push(A[b]);return h?h.length?h:null:A}function ff(A,h){var b=h["spans_"+A.id];if(!b)return null;for(var C=[],O=0;O<h.text.length;++O)C.push(mh(b[O]));return C}function v1(A,h){var b=ff(A,h),C=ai(A,h);if(!b)return C;if(!C)return b;for(var O=0;O<b.length;++O){var F=b[O],Y=C[O];if(F&&Y)e:for(var X=0;X<Y.length;++X){for(var le=Y[X],fe=0;fe<F.length;++fe)if(F[fe].marker==le.marker)continue e;F.push(le)}else Y&&(b[O]=Y)}return b}function vc(A,h,b){for(var C=[],O=0;O<A.length;++O){var F=A[O];if(F.ranges){C.push(b?Tr.prototype.deepCopy.call(F):F);continue}var Y=F.changes,X=[];C.push({changes:X});for(var le=0;le<Y.length;++le){var fe=Y[le],Le=void 0;if(X.push({from:fe.from,to:fe.to,text:fe.text}),h)for(var $e in fe)(Le=$e.match(/^spans_(\d+)$/))&&Ke(h,Number(Le[1]))>-1&&($n(X)[$e]=fe[$e],delete fe[$e])}}return C}function Ma(A,h,b,C){if(C){var O=A.anchor;if(b){var F=Cn(h,O)<0;F!=Cn(b,O)<0?(O=h,h=b):F!=Cn(h,b)<0&&(h=b)}return new Sr(O,h)}else return new Sr(b||h,h)}function oA(A,h,b,C,O){O==null&&(O=A.cm&&(A.cm.display.shift||A.extend)),Ps(A,new Tr([Ma(A.sel.primary(),h,b,O)],0),C)}function aA(A,h,b){for(var C=[],O=A.cm&&(A.cm.display.shift||A.extend),F=0;F<A.sel.ranges.length;F++)C[F]=Ma(A.sel.ranges[F],h[F],null,O);var Y=Bo(A.cm,C,A.sel.primIndex);Ps(A,Y,b)}function Da(A,h,b,C){var O=A.sel.ranges.slice(0);O[h]=b,Ps(A,Bo(A.cm,O,A.sel.primIndex),C)}function sA(A,h,b,C){Ps(A,vs(h,b),C)}function pf(A,h,b){var C={ranges:h.ranges,update:function(O){this.ranges=[];for(var F=0;F<O.length;F++)this.ranges[F]=new Sr(kr(A,O[F].anchor),kr(A,O[F].head))},origin:b&&b.origin};return un(A,"beforeSelectionChange",A,C),A.cm&&un(A.cm,"beforeSelectionChange",A.cm,C),C.ranges!=h.ranges?Bo(A.cm,C.ranges,C.ranges.length-1):h}function Vl(A,h,b){var C=A.history.done,O=$n(C);O&&O.ranges?(C[C.length-1]=h,bs(A,h,b)):Ps(A,h,b)}function Ps(A,h,b){bs(A,h,b),ql(A,A.sel,A.cm?A.cm.curOp.id:NaN,b)}function bs(A,h,b){(ki(A,"beforeSelectionChange")||A.cm&&ki(A.cm,"beforeSelectionChange"))&&(h=pf(A,h,b));var C=b&&b.bias||(Cn(h.primary().head,A.sel.primary().head)<0?-1:1);pa(A,Nm(A,h,C,!0)),!(b&&b.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&uo(A.cm)}function pa(A,h){h.equals(A.sel)||(A.sel=h,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,Zr(A.cm)),xo(A,"cursorActivity",A))}function Cp(A){pa(A,Nm(A,A.sel,null,!1))}function Nm(A,h,b,C){for(var O,F=0;F<h.ranges.length;F++){var Y=h.ranges[F],X=h.ranges.length==A.sel.ranges.length&&A.sel.ranges[F],le=Ru(A,Y.anchor,X&&X.anchor,b,C),fe=Y.head==Y.anchor?le:Ru(A,Y.head,X&&X.head,b,C);(O||le!=Y.anchor||fe!=Y.head)&&(O||(O=h.ranges.slice(0,F)),O[F]=new Sr(le,fe))}return O?Bo(A.cm,O,h.primIndex):h}function Lu(A,h,b,C,O){var F=dn(A,h.line);if(F.markedSpans)for(var Y=0;Y<F.markedSpans.length;++Y){var X=F.markedSpans[Y],le=X.marker,fe="selectLeft"in le?!le.selectLeft:le.inclusiveLeft,Le="selectRight"in le?!le.selectRight:le.inclusiveRight;if((X.from==null||(fe?X.from<=h.ch:X.from<h.ch))&&(X.to==null||(Le?X.to>=h.ch:X.to>h.ch))){if(O&&(un(le,"beforeCursorEnter"),le.explicitlyCleared))if(F.markedSpans){--Y;continue}else break;if(!le.atomic)continue;if(b){var $e=le.find(C<0?1:-1),_t=void 0;if((C<0?Le:fe)&&($e=mf(A,$e,-C,$e&&$e.line==h.line?F:null)),$e&&$e.line==h.line&&(_t=Cn($e,b))&&(C<0?_t<0:_t>0))return Lu(A,$e,h,C,O)}var mt=le.find(C<0?-1:1);return(C<0?fe:Le)&&(mt=mf(A,mt,C,mt.line==h.line?F:null)),mt?Lu(A,mt,h,C,O):null}}return h}function Ru(A,h,b,C,O){var F=C||1,Y=Lu(A,h,b,F,O)||!O&&Lu(A,h,b,F,!0)||Lu(A,h,b,-F,O)||!O&&Lu(A,h,b,-F,!0);return Y||(A.cantEdit=!0,Ct(A.first,0))}function mf(A,h,b,C){return b<0&&h.ch==0?h.line>A.first?kr(A,Ct(h.line-1)):null:b>0&&h.ch==(C||dn(A,h.line)).text.length?h.line<A.first+A.size-1?Ct(h.line+1,0):null:new Ct(h.line,h.ch+b)}function ed(A){A.setSelection(Ct(A.firstLine(),0),Ct(A.lastLine()),bt)}function _p(A,h,b){var C={canceled:!1,from:h.from,to:h.to,text:h.text,origin:h.origin,cancel:function(){return C.canceled=!0}};return b&&(C.update=function(O,F,Y,X){O&&(C.from=kr(A,O)),F&&(C.to=kr(A,F)),Y&&(C.text=Y),X!==void 0&&(C.origin=X)}),un(A,"beforeChange",A,C),A.cm&&un(A.cm,"beforeChange",A.cm,C),C.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:C.from,to:C.to,text:C.text,origin:C.origin}}function gh(A,h,b){if(A.cm){if(!A.cm.curOp)return te(A.cm,gh)(A,h,b);if(A.cm.state.suppressEdits)return}if(!((ki(A,"beforeChange")||A.cm&&ki(A.cm,"beforeChange"))&&(h=_p(A,h,!0),!h))){var C=qa&&!b&&rc(A,h.from,h.to);if(C)for(var O=C.length-1;O>=0;--O)Gm(A,{from:C[O].from,to:C[O].to,text:O?[""]:h.text,origin:h.origin});else Gm(A,h)}}function Gm(A,h){if(!(h.text.length==1&&h.text[0]==""&&Cn(h.from,h.to)==0)){var b=fu(A,h);fh(A,h,b,A.cm?A.cm.curOp.id:NaN),gf(A,h,b,ai(A,h));var C=[];Ki(A,function(O,F){!F&&Ke(C,O.history)==-1&&(C1(O.history,h),C.push(O.history)),gf(O,h,null,ai(O,h))})}}function td(A,h,b){var C=A.cm&&A.cm.state.suppressEdits;if(!(C&&!b)){for(var O=A.history,F,Y=A.sel,X=h=="undo"?O.done:O.undone,le=h=="undo"?O.undone:O.done,fe=0;fe<X.length&&(F=X[fe],!(b?F.ranges&&!F.equals(A.sel):!F.ranges));fe++);if(fe!=X.length){for(O.lastOrigin=O.lastSelOrigin=null;;)if(F=X.pop(),F.ranges){if(_s(F,le),b&&!F.equals(A.sel)){Ps(A,F,{clearRedo:!1});return}Y=F}else if(C){X.push(F);return}else break;var Le=[];_s(Y,le),le.push({changes:Le,generation:O.generation}),O.generation=F.generation||++O.maxGeneration;for(var $e=ki(A,"beforeChange")||A.cm&&ki(A.cm,"beforeChange"),_t=function(An){var _n=F.changes[An];if(_n.origin=h,$e&&!_p(A,_n,!1))return X.length=0,{};Le.push(Xs(A,_n));var Dn=An?fu(A,_n):$n(X);gf(A,_n,Dn,v1(A,_n)),!An&&A.cm&&A.cm.scrollIntoView({from:_n.from,to:ss(_n)});var Hn=[];Ki(A,function(Pn,er){!er&&Ke(Hn,Pn.history)==-1&&(C1(Pn.history,_n),Hn.push(Pn.history)),gf(Pn,_n,null,v1(Pn,_n))})},mt=F.changes.length-1;mt>=0;--mt){var Vt=_t(mt);if(Vt)return Vt.v}}}}function bp(A,h){if(h!=0&&(A.first+=h,A.sel=new Tr(lr(A.sel.ranges,function(O){return new Sr(Ct(O.anchor.line+h,O.anchor.ch),Ct(O.head.line+h,O.head.ch))}),A.sel.primIndex),A.cm)){gs(A.cm,A.first,A.first-h,h);for(var b=A.cm.display,C=b.viewFrom;C<b.viewTo;C++)nA(A.cm,C,"gutter")}}function gf(A,h,b,C){if(A.cm&&!A.cm.curOp)return te(A.cm,gf)(A,h,b,C);if(h.to.line<A.first){bp(A,h.text.length-1-(h.to.line-h.from.line));return}if(!(h.from.line>A.lastLine())){if(h.from.line<A.first){var O=h.text.length-1-(A.first-h.from.line);bp(A,O),h={from:Ct(A.first,0),to:Ct(h.to.line+O,h.to.ch),text:[$n(h.text)],origin:h.origin}}var F=A.lastLine();h.to.line>F&&(h={from:h.from,to:Ct(F,dn(A,F).text.length),text:[h.text[0]],origin:h.origin}),h.removed=Lr(A,h.from,h.to),b||(b=fu(A,h)),A.cm?yf(A.cm,h,C):li(A,h,C),bs(A,b,bt),A.cantEdit&&Ru(A,Ct(A.firstLine(),0))&&(A.cantEdit=!1)}}function yf(A,h,b){var C=A.doc,O=A.display,F=h.from,Y=h.to,X=!1,le=F.line;A.options.lineWrapping||(le=ge(Hr(dn(C,F.line))),C.iter(le,Y.line+1,function(mt){if(mt==O.maxLine)return X=!0,!0})),C.sel.contains(h.from,h.to)>-1&&Zr(A),li(C,h,b,jn(A)),A.options.lineWrapping||(C.iter(le,F.line+h.text.length,function(mt){var Vt=Ys(mt);Vt>O.maxLineLength&&(O.maxLine=mt,O.maxLineLength=Vt,O.maxLineChanged=!0,X=!1)}),X&&(A.curOp.updateMaxLine=!0)),tc(C,F.line),Me(A,400);var fe=h.text.length-(Y.line-F.line)-1;h.full?gs(A):F.line==Y.line&&h.text.length==1&&!Xo(A.doc,h)?nA(A,F.line,"text"):gs(A,F.line,Y.line+1,fe);var Le=ki(A,"changes"),$e=ki(A,"change");if($e||Le){var _t={from:F,to:Y,text:h.text,removed:h.removed,origin:h.origin};$e&&xo(A,"change",A,_t),Le&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(_t)}A.display.selForContextMenu=null}function nd(A,h,b,C,O){var F;C||(C=b),Cn(C,b)<0&&(F=[C,b],b=F[0],C=F[1]),typeof h=="string"&&(h=A.splitLines(h)),gh(A,{from:b,to:C,text:h,origin:O})}function Qm(A,h,b,C){b<A.line?A.line+=C:h<A.line&&(A.line=h,A.ch=0)}function Ld(A,h,b,C){for(var O=0;O<A.length;++O){var F=A[O],Y=!0;if(F.ranges){F.copied||(F=A[O]=F.deepCopy(),F.copied=!0);for(var X=0;X<F.ranges.length;X++)Qm(F.ranges[X].anchor,h,b,C),Qm(F.ranges[X].head,h,b,C);continue}for(var le=0;le<F.changes.length;++le){var fe=F.changes[le];if(b<fe.from.line)fe.from=Ct(fe.from.line+C,fe.from.ch),fe.to=Ct(fe.to.line+C,fe.to.ch);else if(h<=fe.to.line){Y=!1;break}}Y||(A.splice(0,O+1),O=0)}}function C1(A,h){var b=h.from.line,C=h.to.line,O=h.text.length-(C-b)-1;Ld(A.done,b,C,O),Ld(A.undone,b,C,O)}function KA(A,h,b,C){var O=h,F=h;return typeof h=="number"?F=dn(A,Mu(A,h)):O=ge(h),O==null?null:(C(F,O)&&A.cm&&nA(A.cm,O,b),F)}function PA(A){this.lines=A,this.parent=null;for(var h=0,b=0;b<A.length;++b)A[b].parent=this,h+=A[b].height;this.height=h}PA.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,h){for(var b=A,C=A+h;b<C;++b){var O=this.lines[b];this.height-=O.height,Ka(O),xo(O,"delete")}this.lines.splice(A,h)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,h,b){this.height+=b,this.lines=this.lines.slice(0,A).concat(h).concat(this.lines.slice(A));for(var C=0;C<h.length;++C)h[C].parent=this},iterN:function(A,h,b){for(var C=A+h;A<C;++A)if(b(this.lines[A]))return!0}};function rd(A){this.children=A;for(var h=0,b=0,C=0;C<A.length;++C){var O=A[C];h+=O.chunkSize(),b+=O.height,O.parent=this}this.size=h,this.height=b,this.parent=null}rd.prototype={chunkSize:function(){return this.size},removeInner:function(A,h){this.size-=h;for(var b=0;b<this.children.length;++b){var C=this.children[b],O=C.chunkSize();if(A<O){var F=Math.min(h,O-A),Y=C.height;if(C.removeInner(A,F),this.height-=Y-C.height,O==F&&(this.children.splice(b--,1),C.parent=null),(h-=F)==0)break;A=0}else A-=O}if(this.size-h<25&&(this.children.length>1||!(this.children[0]instanceof PA))){var X=[];this.collapse(X),this.children=[new PA(X)],this.children[0].parent=this}},collapse:function(A){for(var h=0;h<this.children.length;++h)this.children[h].collapse(A)},insertInner:function(A,h,b){this.size+=h.length,this.height+=b;for(var C=0;C<this.children.length;++C){var O=this.children[C],F=O.chunkSize();if(A<=F){if(O.insertInner(A,h,b),O.lines&&O.lines.length>50){for(var Y=O.lines.length%25+25,X=Y;X<O.lines.length;){var le=new PA(O.lines.slice(X,X+=25));O.height-=le.height,this.children.splice(++C,0,le),le.parent=this}O.lines=O.lines.slice(0,Y),this.maybeSpill()}break}A-=F}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var h=A.children.splice(A.children.length-5,5),b=new rd(h);if(A.parent){A.size-=b.size,A.height-=b.height;var O=Ke(A.parent.children,A);A.parent.children.splice(O+1,0,b)}else{var C=new rd(A.children);C.parent=A,A.children=[C,b],A=C}b.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,h,b){for(var C=0;C<this.children.length;++C){var O=this.children[C],F=O.chunkSize();if(A<F){var Y=Math.min(h,F-A);if(O.iterN(A,Y,b))return!0;if((h-=Y)==0)break;A=0}else A-=F}}};var Rd=function(A,h,b){if(b)for(var C in b)b.hasOwnProperty(C)&&(this[C]=b[C]);this.doc=A,this.node=h};Rd.prototype.clear=function(){var A=this.doc.cm,h=this.line.widgets,b=this.line,C=ge(b);if(!(C==null||!h)){for(var O=0;O<h.length;++O)h[O]==this&&h.splice(O--,1);h.length||(b.widgets=null);var F=Ku(this);Oi(b,Math.max(0,b.height-F)),A&&(H(A,function(){$m(A,b,-F),nA(A,C,"widget")}),xo(A,"lineWidgetCleared",A,this,C))}},Rd.prototype.changed=function(){var A=this,h=this.height,b=this.doc.cm,C=this.line;this.height=null;var O=Ku(this)-h;O&&(vi(this.doc,C)||Oi(C,C.height+O),b&&H(b,function(){b.curOp.forceUpdate=!0,$m(b,C,O),xo(b,"lineWidgetChanged",b,A,ge(C))}))},Ai(Rd);function $m(A,h,b){Va(h)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&hf(A,b)}function el(A,h,b,C){var O=new Rd(A,b,C),F=A.cm;return F&&O.noHScroll&&(F.display.alignWidgets=!0),KA(A,h,"widget",function(Y){var X=Y.widgets||(Y.widgets=[]);if(O.insertAt==null?X.push(O):X.splice(Math.min(X.length,Math.max(0,O.insertAt)),0,O),O.line=Y,F&&!vi(A,Y)){var le=Va(Y)<A.scrollTop;Oi(Y,Y.height+Ku(O)),le&&hf(F,O.height),F.curOp.forceUpdate=!0}return!0}),F&&xo(F,"lineWidgetAdded",F,O,typeof h=="number"?h:ge(h)),O}var Us=0,zu=function(A,h){this.lines=[],this.type=h,this.doc=A,this.id=++Us};zu.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,h=A&&!A.curOp;if(h&&M(A),ki(this,"clear")){var b=this.find();b&&xo(this,"clear",b.from,b.to)}for(var C=null,O=null,F=0;F<this.lines.length;++F){var Y=this.lines[F],X=zl(Y.markedSpans,this);A&&!this.collapsed?nA(A,ge(Y),"text"):A&&(X.to!=null&&(O=ge(Y)),X.from!=null&&(C=ge(Y))),Y.markedSpans=nc(Y.markedSpans,X),X.from==null&&this.collapsed&&!vi(this.doc,Y)&&A&&Oi(Y,$l(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var le=0;le<this.lines.length;++le){var fe=Hr(this.lines[le]),Le=Ys(fe);Le>A.display.maxLineLength&&(A.display.maxLine=fe,A.display.maxLineLength=Le,A.display.maxLineChanged=!0)}C!=null&&A&&this.collapsed&&gs(A,C,O+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&Cp(A.doc)),A&&xo(A,"markerCleared",A,this,C,O),h&&u(A),this.parent&&this.parent.clear()}},zu.prototype.find=function(A,h){A==null&&this.type=="bookmark"&&(A=1);for(var b,C,O=0;O<this.lines.length;++O){var F=this.lines[O],Y=zl(F.markedSpans,this);if(Y.from!=null&&(b=Ct(h?F:ge(F),Y.from),A==-1))return b;if(Y.to!=null&&(C=Ct(h?F:ge(F),Y.to),A==1))return C}return b&&{from:b,to:C}},zu.prototype.changed=function(){var A=this,h=this.find(-1,!0),b=this,C=this.doc.cm;!h||!C||H(C,function(){var O=h.line,F=ge(h.line),Y=cc(C,F);if(Y&&(Ah(Y),C.curOp.selectionChanged=C.curOp.forceUpdate=!0),C.curOp.updateMaxLine=!0,!vi(b.doc,O)&&b.height!=null){var X=b.height;b.height=null;var le=Ku(b)-X;le&&Oi(O,O.height+le)}xo(C,"markerChanged",C,A)})},zu.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var h=this.doc.cm.curOp;(!h.maybeHiddenMarkers||Ke(h.maybeHiddenMarkers,this)==-1)&&(h.maybeUnhiddenMarkers||(h.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},zu.prototype.detachLine=function(A){if(this.lines.splice(Ke(this.lines,A),1),!this.lines.length&&this.doc.cm){var h=this.doc.cm.curOp;(h.maybeHiddenMarkers||(h.maybeHiddenMarkers=[])).push(this)}},Ai(zu);function id(A,h,b,C,O){if(C&&C.shared)return yh(A,h,b,C,O);if(A.cm&&!A.cm.curOp)return te(A.cm,id)(A,h,b,C,O);var F=new zu(A,O),Y=Cn(h,b);if(C&&xe(C,F,!1),Y>0||Y==0&&F.clearWhenEmpty!==!1)return F;if(F.replacedWith&&(F.collapsed=!0,F.widgetNode=ft("span",[F.replacedWith],"CodeMirror-widget"),C.handleMouseEvents||F.widgetNode.setAttribute("cm-ignore-events","true"),C.insertLeft&&(F.widgetNode.insertLeft=!0)),F.collapsed){if(Ti(A,h.line,h,b,F)||h.line!=b.line&&Ti(A,b.line,h,b,F))throw new Error("Inserting collapsed marker partially overlapping an existing one");Zu()}F.addToHistory&&fh(A,{from:h,to:b,origin:"markText"},A.sel,NaN);var X=h.line,le=A.cm,fe;if(A.iter(X,b.line+1,function($e){le&&F.collapsed&&!le.options.lineWrapping&&Hr($e)==le.display.maxLine&&(fe=!0),F.collapsed&&X!=h.line&&Oi($e,0),Iu($e,new Bu(F,X==h.line?h.ch:null,X==b.line?b.ch:null),A.cm&&A.cm.curOp),++X}),F.collapsed&&A.iter(h.line,b.line+1,function($e){vi(A,$e)&&Oi($e,0)}),F.clearOnEnter&&Pt(F,"beforeCursorEnter",function(){return F.clear()}),F.readOnly&&(Ou(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),F.collapsed&&(F.id=++Us,F.atomic=!0),le){if(fe&&(le.curOp.updateMaxLine=!0),F.collapsed)gs(le,h.line,b.line+1);else if(F.className||F.startStyle||F.endStyle||F.css||F.attributes||F.title)for(var Le=h.line;Le<=b.line;Le++)nA(le,Le,"text");F.atomic&&Cp(le.doc),xo(le,"markerAdded",le,F)}return F}var zd=function(A,h){this.markers=A,this.primary=h;for(var b=0;b<A.length;++b)A[b].parent=this};zd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();xo(this,"clear")}},zd.prototype.find=function(A,h){return this.primary.find(A,h)},Ai(zd);function yh(A,h,b,C,O){C=xe(C),C.shared=!1;var F=[id(A,h,b,C,O)],Y=F[0],X=C.widgetNode;return Ki(A,function(le){X&&(C.widgetNode=X.cloneNode(!0)),F.push(id(le,kr(le,h),kr(le,b),C,O));for(var fe=0;fe<le.linked.length;++fe)if(le.linked[fe].isParent)return;Y=$n(F)}),new zd(F,Y)}function _1(A){return A.findMarks(Ct(A.first,0),A.clipPos(Ct(A.lastLine())),function(h){return h.parent})}function Ym(A,h){for(var b=0;b<h.length;b++){var C=h[b],O=C.find(),F=A.clipPos(O.from),Y=A.clipPos(O.to);if(Cn(F,Y)){var X=id(A,F,Y,C.primary,C.primary.type);C.markers.push(X),X.parent=C}}}function b1(A){for(var h=function(C){var O=A[C],F=[O.primary.doc];Ki(O.primary.doc,function(le){return F.push(le)});for(var Y=0;Y<O.markers.length;Y++){var X=O.markers[Y];Ke(F,X.doc)==-1&&(X.parent=null,O.markers.splice(Y--,1))}},b=0;b<A.length;b++)h(b)}var vh=0,tl=function(A,h,b,C,O){if(!(this instanceof tl))return new tl(A,h,b,C,O);b==null&&(b=0),rd.call(this,[new PA([new ku("",null)])]),this.first=b,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=b;var F=Ct(b,0);this.sel=vs(F),this.history=new Cs(null),this.id=++vh,this.modeOption=h,this.lineSep=C,this.direction=O=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),li(this,{from:F,to:F,text:A}),Ps(this,vs(F),bt)};tl.prototype=Dr(rd.prototype,{constructor:tl,iter:function(A,h,b){b?this.iterN(A-this.first,h-A,b):this.iterN(this.first,this.first+this.size,A)},insert:function(A,h){for(var b=0,C=0;C<h.length;++C)b+=h[C].height;this.insertInner(A-this.first,h,b)},remove:function(A,h){this.removeInner(A-this.first,h)},getValue:function(A){var h=Xr(this,this.first,this.first+this.size);return A===!1?h:h.join(A||this.lineSeparator())},setValue:ye(function(A){var h=Ct(this.first,0),b=this.first+this.size-1;gh(this,{from:h,to:Ct(b,dn(this,b).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&Zo(this.cm,0,0),Ps(this,vs(h),bt)}),replaceRange:function(A,h,b,C){h=kr(this,h),b=b?kr(this,b):h,nd(this,A,h,b,C)},getRange:function(A,h,b){var C=Lr(this,kr(this,A),kr(this,h));return b===!1?C:b===""?C.join(""):C.join(b||this.lineSeparator())},getLine:function(A){var h=this.getLineHandle(A);return h&&h.text},getLineHandle:function(A){if(Yt(this,A))return dn(this,A)},getLineNumber:function(A){return ge(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=dn(this,A)),Hr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return kr(this,A)},getCursor:function(A){var h=this.sel.primary(),b;return A==null||A=="head"?b=h.head:A=="anchor"?b=h.anchor:A=="end"||A=="to"||A===!1?b=h.to():b=h.from(),b},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ye(function(A,h,b){sA(this,kr(this,typeof A=="number"?Ct(A,h||0):A),null,b)}),setSelection:ye(function(A,h,b){sA(this,kr(this,A),kr(this,h||A),b)}),extendSelection:ye(function(A,h,b){oA(this,kr(this,A),h&&kr(this,h),b)}),extendSelections:ye(function(A,h){aA(this,bl(this,A),h)}),extendSelectionsBy:ye(function(A,h){var b=lr(this.sel.ranges,A);aA(this,bl(this,b),h)}),setSelections:ye(function(A,h,b){if(A.length){for(var C=[],O=0;O<A.length;O++)C[O]=new Sr(kr(this,A[O].anchor),kr(this,A[O].head||A[O].anchor));h==null&&(h=Math.min(A.length-1,this.sel.primIndex)),Ps(this,Bo(this.cm,C,h),b)}}),addSelection:ye(function(A,h,b){var C=this.sel.ranges.slice(0);C.push(new Sr(kr(this,A),kr(this,h||A))),Ps(this,Bo(this.cm,C,C.length-1),b)}),getSelection:function(A){for(var h=this.sel.ranges,b,C=0;C<h.length;C++){var O=Lr(this,h[C].from(),h[C].to());b=b?b.concat(O):O}return A===!1?b:b.join(A||this.lineSeparator())},getSelections:function(A){for(var h=[],b=this.sel.ranges,C=0;C<b.length;C++){var O=Lr(this,b[C].from(),b[C].to());A!==!1&&(O=O.join(A||this.lineSeparator())),h[C]=O}return h},replaceSelection:function(A,h,b){for(var C=[],O=0;O<this.sel.ranges.length;O++)C[O]=A;this.replaceSelections(C,h,b||"+input")},replaceSelections:ye(function(A,h,b){for(var C=[],O=this.sel,F=0;F<O.ranges.length;F++){var Y=O.ranges[F];C[F]={from:Y.from(),to:Y.to(),text:this.splitLines(A[F]),origin:b}}for(var X=h&&h!="end"&&hl(this,C,h),le=C.length-1;le>=0;le--)gh(this,C[le]);X?Vl(this,X):this.cm&&uo(this.cm)}),undo:ye(function(){td(this,"undo")}),redo:ye(function(){td(this,"redo")}),undoSelection:ye(function(){td(this,"undo",!0)}),redoSelection:ye(function(){td(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,h=0,b=0,C=0;C<A.done.length;C++)A.done[C].ranges||++h;for(var O=0;O<A.undone.length;O++)A.undone[O].ranges||++b;return{undo:h,redo:b}},clearHistory:function(){var A=this;this.history=new Cs(this.history),Ki(this,function(h){return h.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:vc(this.history.done),undone:vc(this.history.undone)}},setHistory:function(A){var h=this.history=new Cs(this.history);h.done=vc(A.done.slice(0),null,!0),h.undone=vc(A.undone.slice(0),null,!0)},setGutterMarker:ye(function(A,h,b){return KA(this,A,"gutter",function(C){var O=C.gutterMarkers||(C.gutterMarkers={});return O[h]=b,!b&&z(O)&&(C.gutterMarkers=null),!0})}),clearGutter:ye(function(A){var h=this;this.iter(function(b){b.gutterMarkers&&b.gutterMarkers[A]&&KA(h,b,"gutter",function(){return b.gutterMarkers[A]=null,z(b.gutterMarkers)&&(b.gutterMarkers=null),!0})})}),lineInfo:function(A){var h;if(typeof A=="number"){if(!Yt(this,A)||(h=A,A=dn(this,A),!A))return null}else if(h=ge(A),h==null)return null;return{line:h,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:ye(function(A,h,b){return KA(this,A,h=="gutter"?"gutter":"class",function(C){var O=h=="text"?"textClass":h=="background"?"bgClass":h=="gutter"?"gutterClass":"wrapClass";if(!C[O])C[O]=b;else{if(et(b).test(C[O]))return!1;C[O]+=" "+b}return!0})}),removeLineClass:ye(function(A,h,b){return KA(this,A,h=="gutter"?"gutter":"class",function(C){var O=h=="text"?"textClass":h=="background"?"bgClass":h=="gutter"?"gutterClass":"wrapClass",F=C[O];if(F)if(b==null)C[O]=null;else{var Y=F.match(et(b));if(!Y)return!1;var X=Y.index+Y[0].length;C[O]=F.slice(0,Y.index)+(!Y.index||X==F.length?"":" ")+F.slice(X)||null}else return!1;return!0})}),addLineWidget:ye(function(A,h,b){return el(this,A,h,b)}),removeLineWidget:function(A){A.clear()},markText:function(A,h,b){return id(this,kr(this,A),kr(this,h),b,b&&b.type||"range")},setBookmark:function(A,h){var b={replacedWith:h&&(h.nodeType==null?h.widget:h),insertLeft:h&&h.insertLeft,clearWhenEmpty:!1,shared:h&&h.shared,handleMouseEvents:h&&h.handleMouseEvents};return A=kr(this,A),id(this,A,A,b,"bookmark")},findMarksAt:function(A){A=kr(this,A);var h=[],b=dn(this,A.line).markedSpans;if(b)for(var C=0;C<b.length;++C){var O=b[C];(O.from==null||O.from<=A.ch)&&(O.to==null||O.to>=A.ch)&&h.push(O.marker.parent||O.marker)}return h},findMarks:function(A,h,b){A=kr(this,A),h=kr(this,h);var C=[],O=A.line;return this.iter(A.line,h.line+1,function(F){var Y=F.markedSpans;if(Y)for(var X=0;X<Y.length;X++){var le=Y[X];!(le.to!=null&&O==A.line&&A.ch>=le.to||le.from==null&&O!=A.line||le.from!=null&&O==h.line&&le.from>=h.ch)&&(!b||b(le.marker))&&C.push(le.marker.parent||le.marker)}++O}),C},getAllMarks:function(){var A=[];return this.iter(function(h){var b=h.markedSpans;if(b)for(var C=0;C<b.length;++C)b[C].from!=null&&A.push(b[C].marker)}),A},posFromIndex:function(A){var h,b=this.first,C=this.lineSeparator().length;return this.iter(function(O){var F=O.text.length+C;if(F>A)return h=A,!0;A-=F,++b}),kr(this,Ct(b,h))},indexFromPos:function(A){A=kr(this,A);var h=A.ch;if(A.line<this.first||A.ch<0)return 0;var b=this.lineSeparator().length;return this.iter(this.first,A.line,function(C){h+=C.text.length+b}),h},copy:function(A){var h=new tl(Xr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return h.scrollTop=this.scrollTop,h.scrollLeft=this.scrollLeft,h.sel=this.sel,h.extend=!1,A&&(h.history.undoDepth=this.history.undoDepth,h.setHistory(this.getHistory())),h},linkedDoc:function(A){A||(A={});var h=this.first,b=this.first+this.size;A.from!=null&&A.from>h&&(h=A.from),A.to!=null&&A.to<b&&(b=A.to);var C=new tl(Xr(this,h,b),A.mode||this.modeOption,h,this.lineSep,this.direction);return A.sharedHist&&(C.history=this.history),(this.linked||(this.linked=[])).push({doc:C,sharedHist:A.sharedHist}),C.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],Ym(C,_1(this)),C},unlinkDoc:function(A){if(A instanceof eo&&(A=A.doc),this.linked)for(var h=0;h<this.linked.length;++h){var b=this.linked[h];if(b.doc==A){this.linked.splice(h,1),A.unlinkDoc(this),b1(_1(this));break}}if(A.history==this.history){var C=[A.id];Ki(A,function(O){return C.push(O.id)},!0),A.history=new Cs(null),A.history.done=vc(this.history.done,C),A.history.undone=vc(this.history.undone,C)}},iterLinkedDocs:function(A){Ki(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Ee(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ye(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(h){return h.order=null}),this.cm&&Ao(this.cm))})}),tl.prototype.eachLine=tl.prototype.iter;var vf=0;function x1(A){var h=this;if(Vm(h),!(pr(h,A)||Nl(h.display,A))){Fr(A),f&&(vf=+new Date);var b=Pu(h,A,!0),C=A.dataTransfer.files;if(!(!b||h.isReadOnly()))if(C&&C.length&&window.FileReader&&window.File)for(var O=C.length,F=Array(O),Y=0,X=function(){++Y==O&&te(h,function(){b=kr(h.doc,b);var mt={from:b,to:b,text:h.doc.splitLines(F.filter(function(Vt){return Vt!=null}).join(h.doc.lineSeparator())),origin:"paste"};gh(h.doc,mt),Vl(h.doc,vs(kr(h.doc,b),kr(h.doc,ss(mt))))})()},le=function(mt,Vt){if(h.options.allowDropFileTypes&&Ke(h.options.allowDropFileTypes,mt.type)==-1){X();return}var An=new FileReader;An.onerror=function(){return X()},An.onload=function(){var _n=An.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(_n)){X();return}F[Vt]=_n,X()},An.readAsText(mt)},fe=0;fe<C.length;fe++)le(C[fe],fe);else{if(h.state.draggingText&&h.doc.sel.contains(b)>-1){h.state.draggingText(A),setTimeout(function(){return h.display.input.focus()},20);return}try{var Le=A.dataTransfer.getData("Text");if(Le){var $e;if(h.state.draggingText&&!h.state.draggingText.copy&&($e=h.listSelections()),bs(h.doc,vs(b,b)),$e)for(var _t=0;_t<$e.length;++_t)nd(h.doc,"",$e[_t].anchor,$e[_t].head,"drag");h.replaceSelection(Le,"around","paste"),h.display.input.focus()}}catch{}}}}function qm(A,h){if(f&&(!A.state.draggingText||+new Date-vf<100)){Wi(h);return}if(!(pr(A,h)||Nl(A.display,h))&&(h.dataTransfer.setData("Text",A.getSelection()),h.dataTransfer.effectAllowed="copyMove",h.dataTransfer.setDragImage&&!V)){var b=ve("img",null,null,"position: fixed; left: 0; top: 0;");b.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",L&&(b.width=b.height=1,A.display.wrapper.appendChild(b),b._top=b.offsetTop),h.dataTransfer.setDragImage(b,0,0),L&&b.parentNode.removeChild(b)}}function Pi(A,h){var b=Pu(A,h);if(b){var C=document.createDocumentFragment();Zc(A,b,C),A.display.dragCursor||(A.display.dragCursor=ve("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),Je(A.display.dragCursor,C)}}function Vm(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function xp(A){if(document.getElementsByClassName){for(var h=document.getElementsByClassName("CodeMirror"),b=[],C=0;C<h.length;C++){var O=h[C].CodeMirror;O&&b.push(O)}b.length&&b[0].operation(function(){for(var F=0;F<b.length;F++)A(b[F])})}}var UA=!1;function Hl(){UA||(w1(),UA=!0)}function w1(){var A;Pt(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,xp(jy)},100))}),Pt(window,"blur",function(){return xp(mc)})}function jy(A){var h=A.display;h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.scrollbarsClipped=!1,A.setSize()}for(var xs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Cf=0;Cf<10;Cf++)xs[Cf+48]=xs[Cf+96]=String(Cf);for(var DA=65;DA<=90;DA++)xs[DA]=String.fromCharCode(DA);for(var FA=1;FA<=12;FA++)xs[FA+111]=xs[FA+63235]="F"+FA;var lA={};lA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},lA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},lA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},lA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},lA.default=se?lA.macDefault:lA.pcDefault;function od(A){var h=A.split(/-(?!$)/);A=h[h.length-1];for(var b,C,O,F,Y=0;Y<h.length-1;Y++){var X=h[Y];if(/^(cmd|meta|m)$/i.test(X))F=!0;else if(/^a(lt)?$/i.test(X))b=!0;else if(/^(c|ctrl|control)$/i.test(X))C=!0;else if(/^s(hift)?$/i.test(X))O=!0;else throw new Error("Unrecognized modifier name: "+X)}return b&&(A="Alt-"+A),C&&(A="Ctrl-"+A),F&&(A="Cmd-"+A),O&&(A="Shift-"+A),A}function nl(A){var h={};for(var b in A)if(A.hasOwnProperty(b)){var C=A[b];if(/^(name|fallthrough|(de|at)tach)$/.test(b))continue;if(C=="..."){delete A[b];continue}for(var O=lr(b.split(" "),od),F=0;F<O.length;F++){var Y=void 0,X=void 0;F==O.length-1?(X=O.join(" "),Y=C):(X=O.slice(0,F+1).join(" "),Y="...");var le=h[X];if(!le)h[X]=Y;else if(le!=Y)throw new Error("Inconsistent bindings for "+X)}delete A[b]}for(var fe in h)A[fe]=h[fe];return A}function mu(A,h,b,C){h=bf(h);var O=h.call?h.call(A,C):h[A];if(O===!1)return"nothing";if(O==="...")return"multi";if(O!=null&&b(O))return"handled";if(h.fallthrough){if(Object.prototype.toString.call(h.fallthrough)!="[object Array]")return mu(A,h.fallthrough,b,C);for(var F=0;F<h.fallthrough.length;F++){var Y=mu(A,h.fallthrough[F],b,C);if(Y)return Y}}}function wp(A){var h=typeof A=="string"?A:xs[A.keyCode];return h=="Ctrl"||h=="Alt"||h=="Shift"||h=="Mod"}function Hm(A,h,b){var C=A;return h.altKey&&C!="Alt"&&(A="Alt-"+A),(De?h.metaKey:h.ctrlKey)&&C!="Ctrl"&&(A="Ctrl-"+A),(De?h.ctrlKey:h.metaKey)&&C!="Mod"&&(A="Cmd-"+A),!b&&h.shiftKey&&C!="Shift"&&(A="Shift-"+A),A}function _f(A,h){if(L&&A.keyCode==34&&A.char)return!1;var b=xs[A.keyCode];return b==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(b=A.code),Hm(b,A,h))}function bf(A){return typeof A=="string"?lA[A]:A}function ad(A,h){for(var b=A.doc.sel.ranges,C=[],O=0;O<b.length;O++){for(var F=h(b[O]);C.length&&Cn(F.from,$n(C).to)<=0;){var Y=C.pop();if(Cn(Y.from,F.from)<0){F.from=Y.from;break}}C.push(F)}H(A,function(){for(var X=C.length-1;X>=0;X--)nd(A.doc,"",C[X].from,C[X].to,"+delete");uo(A)})}function Mp(A,h,b){var C=st(A.text,h+b,b);return C<0||C>A.text.length?null:C}function jd(A,h,b){var C=Mp(A,h.ch,b);return C==null?null:new Ct(h.line,C,b<0?"after":"before")}function xf(A,h,b,C,O){if(A){h.doc.direction=="rtl"&&(O=-O);var F=It(b,h.doc.direction);if(F){var Y=O<0?$n(F):F[0],X=O<0==(Y.level==1),le=X?"after":"before",fe;if(Y.level>0||h.doc.direction=="rtl"){var Le=ms(h,b);fe=O<0?b.text.length-1:0;var $e=as(h,Le,fe).top;fe=ct(function(_t){return as(h,Le,_t).top==$e},O<0==(Y.level==1)?Y.from:Y.to-1,fe),le=="before"&&(fe=Mp(b,fe,1))}else fe=O<0?Y.to:Y.from;return new Ct(C,fe,le)}}return new Ct(C,O<0?b.text.length:0,O<0?"before":"after")}function gu(A,h,b,C){var O=It(h,A.doc.direction);if(!O)return jd(h,b,C);b.ch>=h.text.length?(b.ch=h.text.length,b.sticky="before"):b.ch<=0&&(b.ch=0,b.sticky="after");var F=qn(O,b.ch,b.sticky),Y=O[F];if(A.doc.direction=="ltr"&&Y.level%2==0&&(C>0?Y.to>b.ch:Y.from<b.ch))return jd(h,b,C);var X=function(Dn,Hn){return Mp(h,Dn instanceof Ct?Dn.ch:Dn,Hn)},le,fe=function(Dn){return A.options.lineWrapping?(le=le||ms(A,h),Oo(A,h,le,Dn)):{begin:0,end:h.text.length}},Le=fe(b.sticky=="before"?X(b,-1):b.ch);if(A.doc.direction=="rtl"||Y.level==1){var $e=Y.level==1==C<0,_t=X(b,$e?1:-1);if(_t!=null&&($e?_t<=Y.to&&_t<=Le.end:_t>=Y.from&&_t>=Le.begin)){var mt=$e?"before":"after";return new Ct(b.line,_t,mt)}}var Vt=function(Dn,Hn,Pn){for(var er=function(Fo,La){return La?new Ct(b.line,X(Fo,1),"before"):new Ct(b.line,Fo,"after")};Dn>=0&&Dn<O.length;Dn+=Hn){var br=O[Dn],Er=Hn>0==(br.level!=1),Ci=Er?Pn.begin:X(Pn.end,-1);if(br.from<=Ci&&Ci<br.to||(Ci=Er?br.from:X(br.to,-1),Pn.begin<=Ci&&Ci<Pn.end))return er(Ci,Er)}},An=Vt(F+C,C,Le);if(An)return An;var _n=C>0?Le.end:X(Le.begin,-1);return _n!=null&&!(C>0&&_n==h.text.length)&&(An=Vt(C>0?0:O.length-1,C,fe(_n)),An)?An:null}var wf={selectAll:ed,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),bt)},killLine:function(A){return ad(A,function(h){if(h.empty()){var b=dn(A.doc,h.head.line).text.length;return h.head.ch==b&&h.head.line<A.lastLine()?{from:h.head,to:Ct(h.head.line+1,0)}:{from:h.head,to:Ct(h.head.line,b)}}else return{from:h.from(),to:h.to()}})},deleteLine:function(A){return ad(A,function(h){return{from:Ct(h.from().line,0),to:kr(A.doc,Ct(h.to().line+1,0))}})},delLineLeft:function(A){return ad(A,function(h){return{from:Ct(h.from().line,0),to:h.from()}})},delWrappedLineLeft:function(A){return ad(A,function(h){var b=A.charCoords(h.head,"div").top+5,C=A.coordsChar({left:0,top:b},"div");return{from:C,to:h.from()}})},delWrappedLineRight:function(A){return ad(A,function(h){var b=A.charCoords(h.head,"div").top+5,C=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:b},"div");return{from:h.from(),to:C}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Ct(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Ct(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(h){return Mo(A,h.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(h){return Sp(A,h.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(h){return Mf(A,h.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(h){var b=A.cursorCoords(h.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:b},"div")},Lt)},goLineLeft:function(A){return A.extendSelectionsBy(function(h){var b=A.cursorCoords(h.head,"div").top+5;return A.coordsChar({left:0,top:b},"div")},Lt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(h){var b=A.cursorCoords(h.head,"div").top+5,C=A.coordsChar({left:0,top:b},"div");return C.ch<A.getLine(C.line).search(/\S/)?Sp(A,h.head):C},Lt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var h=[],b=A.listSelections(),C=A.options.tabSize,O=0;O<b.length;O++){var F=b[O].from(),Y=ce(A.getLine(F.line),F.ch,C);h.push(qt(C-Y%C))}A.replaceSelections(h)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return H(A,function(){for(var h=A.listSelections(),b=[],C=0;C<h.length;C++)if(h[C].empty()){var O=h[C].head,F=dn(A.doc,O.line).text;if(F){if(O.ch==F.length&&(O=new Ct(O.line,O.ch-1)),O.ch>0)O=new Ct(O.line,O.ch+1),A.replaceRange(F.charAt(O.ch-1)+F.charAt(O.ch-2),Ct(O.line,O.ch-2),O,"+transpose");else if(O.line>A.doc.first){var Y=dn(A.doc,O.line-1).text;Y&&(O=new Ct(O.line,1),A.replaceRange(F.charAt(0)+A.doc.lineSeparator()+Y.charAt(Y.length-1),Ct(O.line-1,Y.length-1),O,"+transpose"))}}b.push(new Sr(O,O))}A.setSelections(b)})},newlineAndIndent:function(A){return H(A,function(){for(var h=A.listSelections(),b=h.length-1;b>=0;b--)A.replaceRange(A.doc.lineSeparator(),h[b].anchor,h[b].head,"+input");h=A.listSelections();for(var C=0;C<h.length;C++)A.indentLine(h[C].from().line,null,!0);uo(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function Mo(A,h){var b=dn(A.doc,h),C=Hr(b);return C!=b&&(h=ge(C)),xf(!0,A,C,h,1)}function Mf(A,h){var b=dn(A.doc,h),C=$i(b);return C!=b&&(h=ge(C)),xf(!0,A,b,h,-1)}function Sp(A,h){var b=Mo(A,h.line),C=dn(A.doc,b.line),O=It(C,A.doc.direction);if(!O||O[0].level==0){var F=Math.max(b.ch,C.text.search(/\S/)),Y=h.line==b.line&&h.ch<=F&&h.ch;return Ct(b.line,Y?0:F,b.sticky)}return b}function Cc(A,h,b){if(typeof h=="string"&&(h=wf[h],!h))return!1;A.display.input.ensurePolled();var C=A.display.shift,O=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),b&&(A.display.shift=!1),O=h(A)!=Ze}finally{A.display.shift=C,A.state.suppressEdits=!1}return O}function Ep(A,h,b){for(var C=0;C<A.state.keyMaps.length;C++){var O=mu(h,A.state.keyMaps[C],b,A);if(O)return O}return A.options.extraKeys&&mu(h,A.options.extraKeys,b,A)||mu(h,A.options.keyMap,b,A)}var Sf=new _e;function Ch(A,h,b,C){var O=A.state.keySeq;if(O){if(wp(h))return"handled";if(/\'$/.test(h)?A.state.keySeq=null:Sf.set(50,function(){A.state.keySeq==O&&(A.state.keySeq=null,A.display.input.reset())}),Op(A,O+" "+h,b,C))return!0}return Op(A,h,b,C)}function Op(A,h,b,C){var O=Ep(A,h,C);return O=="multi"&&(A.state.keySeq=h),O=="handled"&&xo(A,"keyHandled",A,h,b),(O=="handled"||O=="multi")&&(Fr(b),IA(A)),!!O}function Wd(A,h){var b=_f(h,!0);return b?h.shiftKey&&!A.state.keySeq?Ch(A,"Shift-"+b,h,function(C){return Cc(A,C,!0)})||Ch(A,b,h,function(C){if(typeof C=="string"?/^go[A-Z]/.test(C):C.motion)return Cc(A,C)}):Ch(A,b,h,function(C){return Cc(A,C)}):!1}function Zm(A,h,b){return Ch(A,"'"+b+"'",h,function(C){return Cc(A,C,!0)})}var _h=null;function Xm(A){var h=this;if(!(A.target&&A.target!=h.display.input.getField())&&(h.curOp.focus=St(dt(h)),!pr(h,A))){f&&g<11&&A.keyCode==27&&(A.returnValue=!1);var b=A.keyCode;h.display.shift=b==16||A.shiftKey;var C=Wd(h,A);L&&(_h=C?b:null,!C&&b==88&&!Qe&&(se?A.metaKey:A.ctrlKey)&&h.replaceSelection("",null,"cut")),i&&!se&&!C&&b==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),b==18&&!/\bCodeMirror-crosshair\b/.test(h.display.lineDiv.className)&&Bl(h)}}function Bl(A){var h=A.display.lineDiv;Ne(h,"CodeMirror-crosshair");function b(C){(C.keyCode==18||!C.altKey)&&(ht(h,"CodeMirror-crosshair"),Jn(document,"keyup",b),Jn(document,"mouseover",b))}Pt(document,"keyup",b),Pt(document,"mouseover",b)}function Il(A){A.keyCode==16&&(this.doc.sel.shift=!1),pr(this,A)}function M1(A){var h=this;if(!(A.target&&A.target!=h.display.input.getField())&&!(Nl(h.display,A)||pr(h,A)||A.ctrlKey&&!A.altKey||se&&A.metaKey)){var b=A.keyCode,C=A.charCode;if(L&&b==_h){_h=null,Fr(A);return}if(!(L&&(!A.which||A.which<10)&&Wd(h,A))){var O=String.fromCharCode(C??b);O!="\b"&&(Zm(h,A,O)||h.display.input.onKeyPress(A))}}}var Jm=400,bh=function(A,h,b){this.time=A,this.pos=h,this.button=b};bh.prototype.compare=function(A,h,b){return this.time+Jm>A&&Cn(h,this.pos)==0&&b==this.button};var ju,sd;function Bp(A,h){var b=+new Date;return sd&&sd.compare(b,A,h)?(ju=sd=null,"triple"):ju&&ju.compare(b,A,h)?(sd=new bh(b,A,h),ju=null,"double"):(ju=new bh(b,A,h),sd=null,"single")}function S1(A){var h=this,b=h.display;if(!(pr(h,A)||b.activeTouch&&b.input.supportsTouch())){if(b.input.ensurePolled(),b.shift=A.shiftKey,Nl(b,A)){x||(b.scroller.draggable=!1,setTimeout(function(){return b.scroller.draggable=!0},100));return}if(!wh(h,A)){var C=Pu(h,A),O=zo(A),F=C?Bp(C,O):"single";Et(h).focus(),O==1&&h.state.selectingText&&h.state.selectingText(A),!(C&&E1(h,O,C,F,A))&&(O==1?C?Ef(h,C,F,A):da(A)==b.scroller&&Fr(A):O==2?(C&&oA(h.doc,C),setTimeout(function(){return b.input.focus()},20)):O==3&&(Re?h.display.input.onContextMenu(A):kA(h)))}}}function E1(A,h,b,C,O){var F="Click";return C=="double"?F="Double"+F:C=="triple"&&(F="Triple"+F),F=(h==1?"Left":h==2?"Middle":"Right")+F,Ch(A,Hm(F,O),O,function(Y){if(typeof Y=="string"&&(Y=wf[Y]),!Y)return!1;var X=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),X=Y(A,b)!=Ze}finally{A.state.suppressEdits=!1}return X})}function xh(A,h,b){var C=A.getOption("configureMouse"),O=C?C(A,h,b):{};if(O.unit==null){var F=oe?b.shiftKey&&b.metaKey:b.altKey;O.unit=F?"rectangle":h=="single"?"char":h=="double"?"word":"line"}return(O.extend==null||A.doc.extend)&&(O.extend=A.doc.extend||b.shiftKey),O.addNew==null&&(O.addNew=se?b.metaKey:b.ctrlKey),O.moveOnDrag==null&&(O.moveOnDrag=!(se?b.altKey:b.ctrlKey)),O}function Ef(A,h,b,C){f?setTimeout(Kt(Ol,A),0):A.curOp.focus=St(dt(A));var O=xh(A,b,C),F=A.doc.sel,Y;A.options.dragDrop&&os&&!A.isReadOnly()&&b=="single"&&(Y=F.contains(h))>-1&&(Cn((Y=F.ranges[Y]).from(),h)<0||h.xRel>0)&&(Cn(Y.to(),h)>0||h.xRel<0)?Wy(A,C,h,O):O1(A,C,h,O)}function Wy(A,h,b,C){var O=A.display,F=!1,Y=te(A,function(fe){x&&(O.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:kA(A)),Jn(O.wrapper.ownerDocument,"mouseup",Y),Jn(O.wrapper.ownerDocument,"mousemove",X),Jn(O.scroller,"dragstart",le),Jn(O.scroller,"drop",Y),F||(Fr(fe),C.addNew||oA(A.doc,b,null,null,C.extend),x&&!V||f&&g==9?setTimeout(function(){O.wrapper.ownerDocument.body.focus({preventScroll:!0}),O.input.focus()},20):O.input.focus())}),X=function(fe){F=F||Math.abs(h.clientX-fe.clientX)+Math.abs(h.clientY-fe.clientY)>=10},le=function(){return F=!0};x&&(O.scroller.draggable=!0),A.state.draggingText=Y,Y.copy=!C.moveOnDrag,Pt(O.wrapper.ownerDocument,"mouseup",Y),Pt(O.wrapper.ownerDocument,"mousemove",X),Pt(O.scroller,"dragstart",le),Pt(O.scroller,"drop",Y),A.state.delayingBlurEvent=!0,setTimeout(function(){return O.input.focus()},20),O.scroller.dragDrop&&O.scroller.dragDrop()}function LA(A,h,b){if(b=="char")return new Sr(h,h);if(b=="word")return A.findWordAt(h);if(b=="line")return new Sr(Ct(h.line,0),kr(A.doc,Ct(h.line+1,0)));var C=b(A,h);return new Sr(C.from,C.to)}function O1(A,h,b,C){f&&kA(A);var O=A.display,F=A.doc;Fr(h);var Y,X,le=F.sel,fe=le.ranges;if(C.addNew&&!C.extend?(X=F.sel.contains(b),X>-1?Y=fe[X]:Y=new Sr(b,b)):(Y=F.sel.primary(),X=F.sel.primIndex),C.unit=="rectangle")C.addNew||(Y=new Sr(b,b)),b=Pu(A,h,!0,!0),X=-1;else{var Le=LA(A,b,C.unit);C.extend?Y=Ma(Y,Le.anchor,Le.head,C.extend):Y=Le}C.addNew?X==-1?(X=fe.length,Ps(F,Bo(A,fe.concat([Y]),X),{scroll:!1,origin:"*mouse"})):fe.length>1&&fe[X].empty()&&C.unit=="char"&&!C.extend?(Ps(F,Bo(A,fe.slice(0,X).concat(fe.slice(X+1)),0),{scroll:!1,origin:"*mouse"}),le=F.sel):Da(F,X,Y,Gt):(X=0,Ps(F,new Tr([Y],0),Gt),le=F.sel);var $e=b;function _t(Pn){if(Cn($e,Pn)!=0)if($e=Pn,C.unit=="rectangle"){for(var er=[],br=A.options.tabSize,Er=ce(dn(F,b.line).text,b.ch,br),Ci=ce(dn(F,Pn.line).text,Pn.ch,br),Fo=Math.min(Er,Ci),La=Math.max(Er,Ci),Jo=Math.min(b.line,Pn.line),ra=Math.min(A.lastLine(),Math.max(b.line,Pn.line));Jo<=ra;Jo++){var Ra=dn(F,Jo).text,ma=Un(Ra,Fo,br);Fo==La?er.push(new Sr(Ct(Jo,ma),Ct(Jo,ma))):Ra.length>ma&&er.push(new Sr(Ct(Jo,ma),Ct(Jo,Un(Ra,La,br))))}er.length||er.push(new Sr(b,b)),Ps(F,Bo(A,le.ranges.slice(0,X).concat(er),X),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Pn)}else{var ls=Y,Ea=LA(A,Pn,C.unit),Oa=ls.anchor,ga;Cn(Ea.anchor,Oa)>0?(ga=Ea.head,Oa=ba(ls.from(),Ea.anchor)):(ga=Ea.anchor,Oa=Xi(ls.to(),Ea.head));var Ba=le.ranges.slice(0);Ba[X]=Of(A,new Sr(kr(F,Oa),ga)),Ps(F,Bo(A,Ba,X),Gt)}}var mt=O.wrapper.getBoundingClientRect(),Vt=0;function An(Pn){var er=++Vt,br=Pu(A,Pn,!0,C.unit=="rectangle");if(br)if(Cn(br,$e)!=0){A.curOp.focus=St(dt(A)),_t(br);var Er=cu(O,F);(br.line>=Er.to||br.line<Er.from)&&setTimeout(te(A,function(){Vt==er&&An(Pn)}),150)}else{var Ci=Pn.clientY<mt.top?-20:Pn.clientY>mt.bottom?20:0;Ci&&setTimeout(te(A,function(){Vt==er&&(O.scroller.scrollTop+=Ci,An(Pn))}),50)}}function _n(Pn){A.state.selectingText=!1,Vt=1/0,Pn&&(Fr(Pn),O.input.focus()),Jn(O.wrapper.ownerDocument,"mousemove",Dn),Jn(O.wrapper.ownerDocument,"mouseup",Hn),F.history.lastSelOrigin=null}var Dn=te(A,function(Pn){Pn.buttons===0||!zo(Pn)?_n(Pn):An(Pn)}),Hn=te(A,_n);A.state.selectingText=Hn,Pt(O.wrapper.ownerDocument,"mousemove",Dn),Pt(O.wrapper.ownerDocument,"mouseup",Hn)}function Of(A,h){var b=h.anchor,C=h.head,O=dn(A.doc,b.line);if(Cn(b,C)==0&&b.sticky==C.sticky)return h;var F=It(O);if(!F)return h;var Y=qn(F,b.ch,b.sticky),X=F[Y];if(X.from!=b.ch&&X.to!=b.ch)return h;var le=Y+(X.from==b.ch==(X.level!=1)?0:1);if(le==0||le==F.length)return h;var fe;if(C.line!=b.line)fe=(C.line-b.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var Le=qn(F,C.ch,C.sticky),$e=Le-Y||(C.ch-b.ch)*(X.level==1?-1:1);Le==le-1||Le==le?fe=$e<0:fe=$e>0}var _t=F[le+(fe?-1:0)],mt=fe==(_t.level==1),Vt=mt?_t.from:_t.to,An=mt?"after":"before";return b.ch==Vt&&b.sticky==An?h:new Sr(new Ct(b.line,Vt,An),C)}function ld(A,h,b,C){var O,F;if(h.touches)O=h.touches[0].clientX,F=h.touches[0].clientY;else try{O=h.clientX,F=h.clientY}catch{return!1}if(O>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;C&&Fr(h);var Y=A.display,X=Y.lineDiv.getBoundingClientRect();if(F>X.bottom||!ki(A,b))return Zi(h);F-=X.top-Y.viewOffset;for(var le=0;le<A.display.gutterSpecs.length;++le){var fe=Y.gutters.childNodes[le];if(fe&&fe.getBoundingClientRect().right>=O){var Le=je(A.doc,F),$e=A.display.gutterSpecs[le];return un(A,b,A,Le,$e.className,h),Zi(h)}}}function wh(A,h){return ld(A,h,"gutterClick",!0)}function Ip(A,h){Nl(A.display,h)||kp(A,h)||pr(A,h,"contextmenu")||Re||A.display.input.onContextMenu(h)}function kp(A,h){return ki(A,"gutterContextMenu")?ld(A,h,"gutterContextMenu",!1):!1}function e0(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),qc(A)}var ud={toString:function(){return"CodeMirror.Init"}},Bf={},If={};function t0(A){var h=A.optionHandlers;function b(C,O,F,Y){A.defaults[C]=O,F&&(h[C]=Y?function(X,le,fe){fe!=ud&&F(X,le,fe)}:F)}A.defineOption=b,A.Init=ud,b("value","",function(C,O){return C.setValue(O)},!0),b("mode",null,function(C,O){C.doc.modeOption=O,pu(C)},!0),b("indentUnit",2,pu,!0),b("indentWithTabs",!1),b("smartIndent",!0),b("tabSize",4,function(C){Fu(C),qc(C),gs(C)},!0),b("lineSeparator",null,function(C,O){if(C.doc.lineSep=O,!!O){var F=[],Y=C.doc.first;C.doc.iter(function(le){for(var fe=0;;){var Le=le.text.indexOf(O,fe);if(Le==-1)break;fe=Le+O.length,F.push(Ct(Y,Le))}Y++});for(var X=F.length-1;X>=0;X--)nd(C.doc,O,F[X],Ct(F[X].line,F[X].ch+O.length))}}),b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(C,O,F){C.state.specialChars=new RegExp(O.source+(O.test("	")?"":"|	"),"g"),F!=ud&&C.refresh()}),b("specialCharPlaceholder",Ju,function(C){return C.refresh()},!0),b("electricChars",!0),b("inputStyle",re?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),b("spellcheck",!1,function(C,O){return C.getInputField().spellcheck=O},!0),b("autocorrect",!1,function(C,O){return C.getInputField().autocorrect=O},!0),b("autocapitalize",!1,function(C,O){return C.getInputField().autocapitalize=O},!0),b("rtlMoveVisually",!ue),b("wholeLineUpdateBefore",!0),b("theme","default",function(C){e0(C),Qn(C)},!0),b("keyMap","default",function(C,O,F){var Y=bf(O),X=F!=ud&&bf(F);X&&X.detach&&X.detach(C,Y),Y.attach&&Y.attach(C,X||null)}),b("extraKeys",null),b("configureMouse",null),b("lineWrapping",!1,Tp,!0),b("gutters",[],function(C,O){C.display.gutterSpecs=Mn(O,C.options.lineNumbers),Qn(C)},!0),b("fixedGutter",!0,function(C,O){C.display.gutters.style.left=O?lo(C.display)+"px":"0",C.refresh()},!0),b("coverGutterNextToScrollbar",!1,function(C){return ys(C)},!0),b("scrollbarStyle","native",function(C){hh(C),ys(C),C.display.scrollbars.setScrollTop(C.doc.scrollTop),C.display.scrollbars.setScrollLeft(C.doc.scrollLeft)},!0),b("lineNumbers",!1,function(C,O){C.display.gutterSpecs=Mn(C.options.gutters,O),Qn(C)},!0),b("firstLineNumber",1,Qn,!0),b("lineNumberFormatter",function(C){return C},Qn,!0),b("showCursorWhenSelecting",!1,Uu,!0),b("resetSelectionOnContextMenu",!0),b("lineWiseCopyCut",!0),b("pasteLinesPerSelection",!0),b("selectionsMayTouch",!1),b("readOnly",!1,function(C,O){O=="nocursor"&&(mc(C),C.display.input.blur()),C.display.input.readOnlyChanged(O)}),b("screenReaderLabel",null,function(C,O){O=O===""?null:O,C.display.input.screenReaderLabelChanged(O)}),b("disableInput",!1,function(C,O){O||C.display.input.reset()},!0),b("dragDrop",!0,Ny),b("allowDropFileTypes",null),b("cursorBlinkRate",530),b("cursorScrollMargin",0),b("cursorHeight",1,Uu,!0),b("singleCursorHeightPerLine",!0,Uu,!0),b("workTime",100),b("workDelay",100),b("flattenSpans",!0,Fu,!0),b("addModeClass",!1,Fu,!0),b("pollInterval",100),b("undoDepth",200,function(C,O){return C.doc.history.undoDepth=O}),b("historyEventDelay",1250),b("viewportMargin",10,function(C){return C.refresh()},!0),b("maxHighlightLength",1e4,Fu,!0),b("moveInputWithCursor",!0,function(C,O){O||C.display.input.resetPosition()}),b("tabindex",null,function(C,O){return C.display.input.getField().tabIndex=O||""}),b("autofocus",null),b("direction","ltr",function(C,O){return C.doc.setDirection(O)},!0),b("phrases",null)}function Ny(A,h,b){var C=b&&b!=ud;if(!h!=!C){var O=A.display.dragFunctions,F=h?Pt:Jn;F(A.display.scroller,"dragstart",O.start),F(A.display.scroller,"dragenter",O.enter),F(A.display.scroller,"dragover",O.over),F(A.display.scroller,"dragleave",O.leave),F(A.display.scroller,"drop",O.drop)}}function Tp(A){A.options.lineWrapping?(Ne(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(ht(A.display.wrapper,"CodeMirror-wrap"),jl(A)),fc(A),gs(A),qc(A),setTimeout(function(){return ys(A)},100)}function eo(A,h){var b=this;if(!(this instanceof eo))return new eo(A,h);this.options=h=h?xe(h):{},xe(Bf,h,!1);var C=h.value;typeof C=="string"?C=new tl(C,h.mode,null,h.lineSeparator,h.direction):h.mode&&(C.modeOption=h.mode),this.doc=C;var O=new eo.inputStyles[h.inputStyle](this),F=this.display=new ii(A,C,O,h);F.wrapper.CodeMirror=this,e0(this),h.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),hh(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _e,keySeq:null,specialChars:null},h.autofocus&&!re&&F.input.focus(),f&&g<11&&setTimeout(function(){return b.display.input.reset(!0)},20),Kp(this),Hl(),M(this),this.curOp.forceUpdate=!0,Ua(this,C),h.autofocus&&!re||this.hasFocus()?setTimeout(function(){b.hasFocus()&&!b.state.focused&&pc(b)},20):mc(this);for(var Y in If)If.hasOwnProperty(Y)&&If[Y](this,h[Y],ud);Qt(this),h.finishInit&&h.finishInit(this);for(var X=0;X<Pp.length;++X)Pp[X](this);u(this),x&&h.lineWrapping&&getComputedStyle(F.lineDiv).textRendering=="optimizelegibility"&&(F.lineDiv.style.textRendering="auto")}eo.defaults=Bf,eo.optionHandlers=If;function Kp(A){var h=A.display;Pt(h.scroller,"mousedown",te(A,S1)),f&&g<11?Pt(h.scroller,"dblclick",te(A,function(le){if(!pr(A,le)){var fe=Pu(A,le);if(!(!fe||wh(A,le)||Nl(A.display,le))){Fr(le);var Le=A.findWordAt(fe);oA(A.doc,Le.anchor,Le.head)}}})):Pt(h.scroller,"dblclick",function(le){return pr(A,le)||Fr(le)}),Pt(h.scroller,"contextmenu",function(le){return Ip(A,le)}),Pt(h.input.getField(),"contextmenu",function(le){h.scroller.contains(le.target)||Ip(A,le)});var b,C={end:0};function O(){h.activeTouch&&(b=setTimeout(function(){return h.activeTouch=null},1e3),C=h.activeTouch,C.end=+new Date)}function F(le){if(le.touches.length!=1)return!1;var fe=le.touches[0];return fe.radiusX<=1&&fe.radiusY<=1}function Y(le,fe){if(fe.left==null)return!0;var Le=fe.left-le.left,$e=fe.top-le.top;return Le*Le+$e*$e>20*20}Pt(h.scroller,"touchstart",function(le){if(!pr(A,le)&&!F(le)&&!wh(A,le)){h.input.ensurePolled(),clearTimeout(b);var fe=+new Date;h.activeTouch={start:fe,moved:!1,prev:fe-C.end<=300?C:null},le.touches.length==1&&(h.activeTouch.left=le.touches[0].pageX,h.activeTouch.top=le.touches[0].pageY)}}),Pt(h.scroller,"touchmove",function(){h.activeTouch&&(h.activeTouch.moved=!0)}),Pt(h.scroller,"touchend",function(le){var fe=h.activeTouch;if(fe&&!Nl(h,le)&&fe.left!=null&&!fe.moved&&new Date-fe.start<300){var Le=A.coordsChar(h.activeTouch,"page"),$e;!fe.prev||Y(fe,fe.prev)?$e=new Sr(Le,Le):!fe.prev.prev||Y(fe,fe.prev.prev)?$e=A.findWordAt(Le):$e=new Sr(Ct(Le.line,0),kr(A.doc,Ct(Le.line+1,0))),A.setSelection($e.anchor,$e.head),A.focus(),Fr(le)}O()}),Pt(h.scroller,"touchcancel",O),Pt(h.scroller,"scroll",function(){h.scroller.clientHeight&&(gc(A,h.scroller.scrollTop),Do(A,h.scroller.scrollLeft,!0),un(A,"scroll",A))}),Pt(h.scroller,"mousewheel",function(le){return Ri(A,le)}),Pt(h.scroller,"DOMMouseScroll",function(le){return Ri(A,le)}),Pt(h.wrapper,"scroll",function(){return h.wrapper.scrollTop=h.wrapper.scrollLeft=0}),h.dragFunctions={enter:function(le){pr(A,le)||Wi(le)},over:function(le){pr(A,le)||(Pi(A,le),Wi(le))},start:function(le){return qm(A,le)},drop:te(A,x1),leave:function(le){pr(A,le)||Vm(A)}};var X=h.input.getField();Pt(X,"keyup",function(le){return Il.call(A,le)}),Pt(X,"keydown",te(A,Xm)),Pt(X,"keypress",te(A,M1)),Pt(X,"focus",function(le){return pc(A,le)}),Pt(X,"blur",function(le){return mc(A,le)})}var Pp=[];eo.defineInitHook=function(A){return Pp.push(A)};function kf(A,h,b,C){var O=A.doc,F;b==null&&(b="add"),b=="smart"&&(O.mode.indent?F=Ho(A,h).state:b="prev");var Y=A.options.tabSize,X=dn(O,h),le=ce(X.text,null,Y);X.stateAfter&&(X.stateAfter=null);var fe=X.text.match(/^\s*/)[0],Le;if(!C&&!/\S/.test(X.text))Le=0,b="not";else if(b=="smart"&&(Le=O.mode.indent(F,X.text.slice(fe.length),X.text),Le==Ze||Le>150)){if(!C)return;b="prev"}b=="prev"?h>O.first?Le=ce(dn(O,h-1).text,null,Y):Le=0:b=="add"?Le=le+A.options.indentUnit:b=="subtract"?Le=le-A.options.indentUnit:typeof b=="number"&&(Le=le+b),Le=Math.max(0,Le);var $e="",_t=0;if(A.options.indentWithTabs)for(var mt=Math.floor(Le/Y);mt;--mt)_t+=Y,$e+="	";if(_t<Le&&($e+=qt(Le-_t)),$e!=fe)return nd(O,$e,Ct(h,0),Ct(h,fe.length),"+input"),X.stateAfter=null,!0;for(var Vt=0;Vt<O.sel.ranges.length;Vt++){var An=O.sel.ranges[Vt];if(An.head.line==h&&An.head.ch<fe.length){var _n=Ct(h,fe.length);Da(O,Vt,new Sr(_n,_n));break}}}var Wu=null;function Ad(A){Wu=A}function Up(A,h,b,C,O){var F=A.doc;A.display.shift=!1,C||(C=F.sel);var Y=+new Date-200,X=O=="paste"||A.state.pasteIncoming>Y,le=Ee(h),fe=null;if(X&&C.ranges.length>1)if(Wu&&Wu.text.join(`
`)==h){if(C.ranges.length%Wu.text.length==0){fe=[];for(var Le=0;Le<Wu.text.length;Le++)fe.push(F.splitLines(Wu.text[Le]))}}else le.length==C.ranges.length&&A.options.pasteLinesPerSelection&&(fe=lr(le,function(Dn){return[Dn]}));for(var $e=A.curOp.updateInput,_t=C.ranges.length-1;_t>=0;_t--){var mt=C.ranges[_t],Vt=mt.from(),An=mt.to();mt.empty()&&(b&&b>0?Vt=Ct(Vt.line,Vt.ch-b):A.state.overwrite&&!X?An=Ct(An.line,Math.min(dn(F,An.line).text.length,An.ch+$n(le).length)):X&&Wu&&Wu.lineWise&&Wu.text.join(`
`)==le.join(`
`)&&(Vt=An=Ct(Vt.line,0)));var _n={from:Vt,to:An,text:fe?fe[_t%fe.length]:le,origin:O||(X?"paste":A.state.cutIncoming>Y?"cut":"+input")};gh(A.doc,_n),xo(A,"inputRead",A,_n)}h&&!X&&Dp(A,h),uo(A),A.curOp.updateInput<2&&(A.curOp.updateInput=$e),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function RA(A,h){var b=A.clipboardData&&A.clipboardData.getData("Text");if(b)return A.preventDefault(),!h.isReadOnly()&&!h.options.disableInput&&h.hasFocus()&&H(h,function(){return Up(h,b,0,null,"paste")}),!0}function Dp(A,h){if(!(!A.options.electricChars||!A.options.smartIndent))for(var b=A.doc.sel,C=b.ranges.length-1;C>=0;C--){var O=b.ranges[C];if(!(O.head.ch>100||C&&b.ranges[C-1].head.line==O.head.line)){var F=A.getModeAt(O.head),Y=!1;if(F.electricChars){for(var X=0;X<F.electricChars.length;X++)if(h.indexOf(F.electricChars.charAt(X))>-1){Y=kf(A,O.head.line,"smart");break}}else F.electricInput&&F.electricInput.test(dn(A.doc,O.head.line).text.slice(0,O.head.ch))&&(Y=kf(A,O.head.line,"smart"));Y&&xo(A,"electricInput",A,O.head.line)}}}function Fp(A){for(var h=[],b=[],C=0;C<A.doc.sel.ranges.length;C++){var O=A.doc.sel.ranges[C].head.line,F={anchor:Ct(O,0),head:Ct(O+1,0)};b.push(F),h.push(A.getRange(F.anchor,F.head))}return{text:h,ranges:b}}function Tf(A,h,b,C){A.setAttribute("autocorrect",b?"on":"off"),A.setAttribute("autocapitalize",C?"on":"off"),A.setAttribute("spellcheck",!!h)}function Kf(){var A=ve("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),h=ve("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return x?A.style.width="1000px":A.setAttribute("wrap","off"),G&&(A.style.border="1px solid black"),h}function Mh(A){var h=A.optionHandlers,b=A.helpers={};A.prototype={constructor:A,focus:function(){Et(this).focus(),this.display.input.focus()},setOption:function(C,O){var F=this.options,Y=F[C];F[C]==O&&C!="mode"||(F[C]=O,h.hasOwnProperty(C)&&te(this,h[C])(this,O,Y),un(this,"optionChange",this,C))},getOption:function(C){return this.options[C]},getDoc:function(){return this.doc},addKeyMap:function(C,O){this.state.keyMaps[O?"push":"unshift"](bf(C))},removeKeyMap:function(C){for(var O=this.state.keyMaps,F=0;F<O.length;++F)if(O[F]==C||O[F].name==C)return O.splice(F,1),!0},addOverlay:Ae(function(C,O){var F=C.token?C:A.getMode(this.options,C);if(F.startState)throw new Error("Overlays may not be stateful.");gr(this.state.overlays,{mode:F,modeSpec:C,opaque:O&&O.opaque,priority:O&&O.priority||0},function(Y){return Y.priority}),this.state.modeGen++,gs(this)}),removeOverlay:Ae(function(C){for(var O=this.state.overlays,F=0;F<O.length;++F){var Y=O[F].modeSpec;if(Y==C||typeof C=="string"&&Y.name==C){O.splice(F,1),this.state.modeGen++,gs(this);return}}}),indentLine:Ae(function(C,O,F){typeof O!="string"&&typeof O!="number"&&(O==null?O=this.options.smartIndent?"smart":"prev":O=O?"add":"subtract"),Yt(this.doc,C)&&kf(this,C,O,F)}),indentSelection:Ae(function(C){for(var O=this.doc.sel.ranges,F=-1,Y=0;Y<O.length;Y++){var X=O[Y];if(X.empty())X.head.line>F&&(kf(this,X.head.line,C,!0),F=X.head.line,Y==this.doc.sel.primIndex&&uo(this));else{var le=X.from(),fe=X.to(),Le=Math.max(F,le.line);F=Math.min(this.lastLine(),fe.line-(fe.ch?0:1))+1;for(var $e=Le;$e<F;++$e)kf(this,$e,C);var _t=this.doc.sel.ranges;le.ch==0&&O.length==_t.length&&_t[Y].from().ch>0&&Da(this.doc,Y,new Sr(le,_t[Y].to()),bt)}}}),getTokenAt:function(C,O){return Su(this,C,O)},getLineTokens:function(C,O){return Su(this,Ct(C),O,!0)},getTokenTypeAt:function(C){C=kr(this.doc,C);var O=Is(this,dn(this.doc,C.line)),F=0,Y=(O.length-1)/2,X=C.ch,le;if(X==0)le=O[2];else for(;;){var fe=F+Y>>1;if((fe?O[fe*2-1]:0)>=X)Y=fe;else if(O[fe*2+1]<X)F=fe+1;else{le=O[fe*2+2];break}}var Le=le?le.indexOf("overlay "):-1;return Le<0?le:Le==0?null:le.slice(0,Le-1)},getModeAt:function(C){var O=this.doc.mode;return O.innerMode?A.innerMode(O,this.getTokenAt(C).state).mode:O},getHelper:function(C,O){return this.getHelpers(C,O)[0]},getHelpers:function(C,O){var F=[];if(!b.hasOwnProperty(O))return F;var Y=b[O],X=this.getModeAt(C);if(typeof X[O]=="string")Y[X[O]]&&F.push(Y[X[O]]);else if(X[O])for(var le=0;le<X[O].length;le++){var fe=Y[X[O][le]];fe&&F.push(fe)}else X.helperType&&Y[X.helperType]?F.push(Y[X.helperType]):Y[X.name]&&F.push(Y[X.name]);for(var Le=0;Le<Y._global.length;Le++){var $e=Y._global[Le];$e.pred(X,this)&&Ke(F,$e.val)==-1&&F.push($e.val)}return F},getStateAfter:function(C,O){var F=this.doc;return C=Mu(F,C??F.first+F.size-1),Ho(this,C+1,O).state},cursorCoords:function(C,O){var F,Y=this.doc.sel.primary();return C==null?F=Y.head:typeof C=="object"?F=kr(this.doc,C):F=C?Y.from():Y.to(),Rt(this,F,O||"page")},charCoords:function(C,O){return on(this,kr(this.doc,C),O||"page")},coordsChar:function(C,O){return C=gt(this,C,O||"page"),Gi(this,C.left,C.top)},lineAtHeight:function(C,O){return C=gt(this,{top:C,left:0},O||"page").top,je(this.doc,C+this.display.viewOffset)},heightAtLine:function(C,O,F){var Y=!1,X;if(typeof C=="number"){var le=this.doc.first+this.doc.size-1;C<this.doc.first?C=this.doc.first:C>le&&(C=le,Y=!0),X=dn(this.doc,C)}else X=C;return Sl(this,X,{top:0,left:0},O||"page",F||Y).top+(Y?this.doc.height-Va(X):0)},defaultTextHeight:function(){return $l(this.display)},defaultCharWidth:function(){return Hs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(C,O,F,Y,X){var le=this.display;C=Rt(this,kr(this.doc,C));var fe=C.bottom,Le=C.left;if(O.style.position="absolute",O.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(O),le.sizer.appendChild(O),Y=="over")fe=C.top;else if(Y=="above"||Y=="near"){var $e=Math.max(le.wrapper.clientHeight,this.doc.height),_t=Math.max(le.sizer.clientWidth,le.lineSpace.clientWidth);(Y=="above"||C.bottom+O.offsetHeight>$e)&&C.top>O.offsetHeight?fe=C.top-O.offsetHeight:C.bottom+O.offsetHeight<=$e&&(fe=C.bottom),Le+O.offsetWidth>_t&&(Le=_t-O.offsetWidth)}O.style.top=fe+"px",O.style.left=O.style.right="",X=="right"?(Le=le.sizer.clientWidth-O.offsetWidth,O.style.right="0px"):(X=="left"?Le=0:X=="middle"&&(Le=(le.sizer.clientWidth-O.offsetWidth)/2),O.style.left=Le+"px"),F&&df(this,{left:Le,top:fe,right:Le+O.offsetWidth,bottom:fe+O.offsetHeight})},triggerOnKeyDown:Ae(Xm),triggerOnKeyPress:Ae(M1),triggerOnKeyUp:Il,triggerOnMouseDown:Ae(S1),execCommand:function(C){if(wf.hasOwnProperty(C))return wf[C].call(null,this)},triggerElectric:Ae(function(C){Dp(this,C)}),findPosH:function(C,O,F,Y){var X=1;O<0&&(X=-1,O=-O);for(var le=kr(this.doc,C),fe=0;fe<O&&(le=$r(this.doc,le,X,F,Y),!le.hitSide);++fe);return le},moveH:Ae(function(C,O){var F=this;this.extendSelectionsBy(function(Y){return F.display.shift||F.doc.extend||Y.empty()?$r(F.doc,Y.head,C,O,F.options.rtlMoveVisually):C<0?Y.from():Y.to()},Lt)}),deleteH:Ae(function(C,O){var F=this.doc.sel,Y=this.doc;F.somethingSelected()?Y.replaceSelection("",null,"+delete"):ad(this,function(X){var le=$r(Y,X.head,C,O,!1);return C<0?{from:le,to:X.head}:{from:X.head,to:le}})}),findPosV:function(C,O,F,Y){var X=1,le=Y;O<0&&(X=-1,O=-O);for(var fe=kr(this.doc,C),Le=0;Le<O;++Le){var $e=Rt(this,fe,"div");if(le==null?le=$e.left:$e.left=le,fe=Nd(this,$e,X,F),fe.hitSide)break}return fe},moveV:Ae(function(C,O){var F=this,Y=this.doc,X=[],le=!this.display.shift&&!Y.extend&&Y.sel.somethingSelected();if(Y.extendSelectionsBy(function(Le){if(le)return C<0?Le.from():Le.to();var $e=Rt(F,Le.head,"div");Le.goalColumn!=null&&($e.left=Le.goalColumn),X.push($e.left);var _t=Nd(F,$e,C,O);return O=="page"&&Le==Y.sel.primary()&&hf(F,on(F,_t,"div").top-$e.top),_t},Lt),X.length)for(var fe=0;fe<Y.sel.ranges.length;fe++)Y.sel.ranges[fe].goalColumn=X[fe]}),findWordAt:function(C){var O=this.doc,F=dn(O,C.line).text,Y=C.ch,X=C.ch;if(F){var le=this.getHelper(C,"wordChars");(C.sticky=="before"||X==F.length)&&Y?--Y:++X;for(var fe=F.charAt(Y),Le=be(fe,le)?function($e){return be($e,le)}:/\s/.test(fe)?function($e){return/\s/.test($e)}:function($e){return!/\s/.test($e)&&!be($e)};Y>0&&Le(F.charAt(Y-1));)--Y;for(;X<F.length&&Le(F.charAt(X));)++X}return new Sr(Ct(C.line,Y),Ct(C.line,X))},toggleOverwrite:function(C){C!=null&&C==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ne(this.display.cursorDiv,"CodeMirror-overwrite"):ht(this.display.cursorDiv,"CodeMirror-overwrite"),un(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==St(dt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ae(function(C,O){Zo(this,C,O)}),getScrollInfo:function(){var C=this.display.scroller;return{left:C.scrollLeft,top:C.scrollTop,height:C.scrollHeight-qs(this)-this.display.barHeight,width:C.scrollWidth-qs(this)-this.display.barWidth,clientHeight:Qc(this),clientWidth:uc(this)}},scrollIntoView:Ae(function(C,O){C==null?(C={from:this.doc.sel.primary().head,to:null},O==null&&(O=this.options.cursorScrollMargin)):typeof C=="number"?C={from:Ct(C,0),to:null}:C.from==null&&(C={from:C,to:null}),C.to||(C.to=C.from),C.margin=O||0,C.from.line!=null?mr(this,C):TA(this,C.from,C.to,C.margin)}),setSize:Ae(function(C,O){var F=this,Y=function(le){return typeof le=="number"||/^\d+$/.test(String(le))?le+"px":le};C!=null&&(this.display.wrapper.style.width=Y(C)),O!=null&&(this.display.wrapper.style.height=Y(O)),this.options.lineWrapping&&hc(this);var X=this.display.viewFrom;this.doc.iter(X,this.display.viewTo,function(le){if(le.widgets){for(var fe=0;fe<le.widgets.length;fe++)if(le.widgets[fe].noHScroll){nA(F,X,"widget");break}}++X}),this.curOp.forceUpdate=!0,un(this,"refresh",this)}),operation:function(C){return H(this,C)},startOperation:function(){return M(this)},endOperation:function(){return u(this)},refresh:Ae(function(){var C=this.display.cachedTextHeight;gs(this),this.curOp.forceUpdate=!0,qc(this),Zo(this,this.doc.scrollLeft,this.doc.scrollTop),Ht(this.display),(C==null||Math.abs(C-$l(this.display))>.5||this.options.lineWrapping)&&fc(this),un(this,"refresh",this)}),swapDoc:Ae(function(C){var O=this.doc;return O.cm=null,this.state.selectingText&&this.state.selectingText(),Ua(this,C),qc(this),this.display.input.reset(),Zo(this,C.scrollLeft,C.scrollTop),this.curOp.forceScroll=!0,xo(this,"swapDoc",this,O),O}),phrase:function(C){var O=this.options.phrases;return O&&Object.prototype.hasOwnProperty.call(O,C)?O[C]:C},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ai(A),A.registerHelper=function(C,O,F){b.hasOwnProperty(C)||(b[C]=A[C]={_global:[]}),b[C][O]=F},A.registerGlobalHelper=function(C,O,F,Y){A.registerHelper(C,O,Y),b[C]._global.push({pred:F,val:Y})}}function $r(A,h,b,C,O){var F=h,Y=b,X=dn(A,h.line),le=O&&A.direction=="rtl"?-b:b;function fe(){var Hn=h.line+le;return Hn<A.first||Hn>=A.first+A.size?!1:(h=new Ct(Hn,h.ch,h.sticky),X=dn(A,Hn))}function Le(Hn){var Pn;if(C=="codepoint"){var er=X.text.charCodeAt(h.ch+(b>0?0:-1));if(isNaN(er))Pn=null;else{var br=b>0?er>=55296&&er<56320:er>=56320&&er<57343;Pn=new Ct(h.line,Math.max(0,Math.min(X.text.length,h.ch+b*(br?2:1))),-b)}}else O?Pn=gu(A.cm,X,h,b):Pn=jd(X,h,b);if(Pn==null)if(!Hn&&fe())h=xf(O,A.cm,X,h.line,le);else return!1;else h=Pn;return!0}if(C=="char"||C=="codepoint")Le();else if(C=="column")Le(!0);else if(C=="word"||C=="group")for(var $e=null,_t=C=="group",mt=A.cm&&A.cm.getHelper(h,"wordChars"),Vt=!0;!(b<0&&!Le(!Vt));Vt=!1){var An=X.text.charAt(h.ch)||`
`,_n=be(An,mt)?"w":_t&&An==`
`?"n":!_t||/\s/.test(An)?null:"p";if(_t&&!Vt&&!_n&&(_n="s"),$e&&$e!=_n){b<0&&(b=1,Le(),h.sticky="after");break}if(_n&&($e=_n),b>0&&!Le(!Vt))break}var Dn=Ru(A,h,F,Y,!0);return ti(F,Dn)&&(Dn.hitSide=!0),Dn}function Nd(A,h,b,C){var O=A.doc,F=h.left,Y;if(C=="page"){var X=Math.min(A.display.wrapper.clientHeight,Et(A).innerHeight||O(A).documentElement.clientHeight),le=Math.max(X-.5*$l(A.display),3);Y=(b>0?h.bottom:h.top)+b*le}else C=="line"&&(Y=b>0?h.bottom+3:h.top-3);for(var fe;fe=Gi(A,F,Y),!!fe.outside;){if(b<0?Y<=0:Y>=O.height){fe.hitSide=!0;break}Y+=b*5}return fe}var Co=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _e,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Co.prototype.init=function(A){var h=this,b=this,C=b.cm,O=b.div=A.lineDiv;O.contentEditable=!0,Tf(O,C.options.spellcheck,C.options.autocorrect,C.options.autocapitalize);function F(X){for(var le=X.target;le;le=le.parentNode){if(le==O)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(le.className))break}return!1}Pt(O,"paste",function(X){!F(X)||pr(C,X)||RA(X,C)||g<=11&&setTimeout(te(C,function(){return h.updateFromDOM()}),20)}),Pt(O,"compositionstart",function(X){h.composing={data:X.data,done:!1}}),Pt(O,"compositionupdate",function(X){h.composing||(h.composing={data:X.data,done:!1})}),Pt(O,"compositionend",function(X){h.composing&&(X.data!=h.composing.data&&h.readFromDOMSoon(),h.composing.done=!0)}),Pt(O,"touchstart",function(){return b.forceCompositionEnd()}),Pt(O,"input",function(){h.composing||h.readFromDOMSoon()});function Y(X){if(!(!F(X)||pr(C,X))){if(C.somethingSelected())Ad({lineWise:!1,text:C.getSelections()}),X.type=="cut"&&C.replaceSelection("",null,"cut");else if(C.options.lineWiseCopyCut){var le=Fp(C);Ad({lineWise:!0,text:le.text}),X.type=="cut"&&C.operation(function(){C.setSelections(le.ranges,0,bt),C.replaceSelection("",null,"cut")})}else return;if(X.clipboardData){X.clipboardData.clearData();var fe=Wu.text.join(`
`);if(X.clipboardData.setData("Text",fe),X.clipboardData.getData("Text")==fe){X.preventDefault();return}}var Le=Kf(),$e=Le.firstChild;Tf($e),C.display.lineSpace.insertBefore(Le,C.display.lineSpace.firstChild),$e.value=Wu.text.join(`
`);var _t=St(ot(O));tt($e),setTimeout(function(){C.display.lineSpace.removeChild(Le),_t.focus(),_t==O&&b.showPrimarySelection()},50)}}Pt(O,"copy",Y),Pt(O,"cut",Y)},Co.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},Co.prototype.prepareSelection=function(){var A=Fd(this.cm,!1);return A.focus=St(ot(this.div))==this.div,A},Co.prototype.showSelection=function(A,h){!A||!this.cm.display.view.length||((A.focus||h)&&this.showPrimarySelection(),this.showMultipleSelections(A))},Co.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Co.prototype.showPrimarySelection=function(){var A=this.getSelection(),h=this.cm,b=h.doc.sel.primary(),C=b.from(),O=b.to();if(h.display.viewTo==h.display.viewFrom||C.line>=h.display.viewTo||O.line<h.display.viewFrom){A.removeAllRanges();return}var F=ws(h,A.anchorNode,A.anchorOffset),Y=ws(h,A.focusNode,A.focusOffset);if(!(F&&!F.bad&&Y&&!Y.bad&&Cn(ba(F,Y),C)==0&&Cn(Xi(F,Y),O)==0)){var X=h.display.view,le=C.line>=h.display.viewFrom&&_c(h,C)||{node:X[0].measure.map[2],offset:0},fe=O.line<h.display.viewTo&&_c(h,O);if(!fe){var Le=X[X.length-1].measure,$e=Le.maps?Le.maps[Le.maps.length-1]:Le.map;fe={node:$e[$e.length-1],offset:$e[$e.length-2]-$e[$e.length-3]}}if(!le||!fe){A.removeAllRanges();return}var _t=A.rangeCount&&A.getRangeAt(0),mt;try{mt=Ft(le.node,le.offset,fe.offset,fe.node)}catch{}mt&&(!i&&h.state.focused?(A.collapse(le.node,le.offset),mt.collapsed||(A.removeAllRanges(),A.addRange(mt))):(A.removeAllRanges(),A.addRange(mt)),_t&&A.anchorNode==null?A.addRange(_t):i&&this.startGracePeriod()),this.rememberSelection()}},Co.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},Co.prototype.showMultipleSelections=function(A){Je(this.cm.display.cursorDiv,A.cursors),Je(this.cm.display.selectionDiv,A.selection)},Co.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},Co.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var h=A.getRangeAt(0).commonAncestorContainer;return tn(this.div,h)},Co.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||St(ot(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Co.prototype.blur=function(){this.div.blur()},Co.prototype.getField=function(){return this.div},Co.prototype.supportsTouch=function(){return!0},Co.prototype.receivedFocus=function(){var A=this,h=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):H(this.cm,function(){return h.cm.curOp.selectionChanged=!0});function b(){h.cm.state.focused&&(h.pollSelection(),h.polling.set(h.cm.options.pollInterval,b))}this.polling.set(this.cm.options.pollInterval,b)},Co.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},Co.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),h=this.cm;if(ee&&B&&this.cm.display.gutterSpecs.length&&B1(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var b=ws(h,A.anchorNode,A.anchorOffset),C=ws(h,A.focusNode,A.focusOffset);b&&C&&H(h,function(){Ps(h.doc,vs(b,C),bt),(b.bad||C.bad)&&(h.curOp.selectionChanged=!0)})}}},Co.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,h=A.display,b=A.doc.sel.primary(),C=b.from(),O=b.to();if(C.ch==0&&C.line>A.firstLine()&&(C=Ct(C.line-1,dn(A.doc,C.line-1).length)),O.ch==dn(A.doc,O.line).text.length&&O.line<A.lastLine()&&(O=Ct(O.line+1,0)),C.line<h.viewFrom||O.line>h.viewTo-1)return!1;var F,Y,X;C.line==h.viewFrom||(F=tA(A,C.line))==0?(Y=ge(h.view[0].line),X=h.view[0].node):(Y=ge(h.view[F].line),X=h.view[F-1].node.nextSibling);var le=tA(A,O.line),fe,Le;if(le==h.view.length-1?(fe=h.viewTo-1,Le=h.lineDiv.lastChild):(fe=ge(h.view[le+1].line)-1,Le=h.view[le+1].node.previousSibling),!X)return!1;for(var $e=A.doc.splitLines(I1(A,X,Le,Y,fe)),_t=Lr(A.doc,Ct(Y,0),Ct(fe,dn(A.doc,fe).text.length));$e.length>1&&_t.length>1;)if($n($e)==$n(_t))$e.pop(),_t.pop(),fe--;else if($e[0]==_t[0])$e.shift(),_t.shift(),Y++;else break;for(var mt=0,Vt=0,An=$e[0],_n=_t[0],Dn=Math.min(An.length,_n.length);mt<Dn&&An.charCodeAt(mt)==_n.charCodeAt(mt);)++mt;for(var Hn=$n($e),Pn=$n(_t),er=Math.min(Hn.length-($e.length==1?mt:0),Pn.length-(_t.length==1?mt:0));Vt<er&&Hn.charCodeAt(Hn.length-Vt-1)==Pn.charCodeAt(Pn.length-Vt-1);)++Vt;if($e.length==1&&_t.length==1&&Y==C.line)for(;mt&&mt>C.ch&&Hn.charCodeAt(Hn.length-Vt-1)==Pn.charCodeAt(Pn.length-Vt-1);)mt--,Vt++;$e[$e.length-1]=Hn.slice(0,Hn.length-Vt).replace(/^\u200b+/,""),$e[0]=$e[0].slice(mt).replace(/\u200b+$/,"");var br=Ct(Y,mt),Er=Ct(fe,_t.length?$n(_t).length-Vt:0);if($e.length>1||$e[0]||Cn(br,Er))return nd(A.doc,$e,br,Er,"+input"),!0},Co.prototype.ensurePolled=function(){this.forceCompositionEnd()},Co.prototype.reset=function(){this.forceCompositionEnd()},Co.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Co.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},Co.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&H(this.cm,function(){return gs(A.cm)})},Co.prototype.setUneditable=function(A){A.contentEditable="false"},Co.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||te(this.cm,Up)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},Co.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},Co.prototype.onContextMenu=function(){},Co.prototype.resetPosition=function(){},Co.prototype.needsContentAttribute=!0;function _c(A,h){var b=cc(A,h.line);if(!b||b.hidden)return null;var C=dn(A.doc,h.line),O=Af(b,C,h.line),F=It(C,A.doc.direction),Y="left";if(F){var X=qn(F,h.ch);Y=X%2?"right":"left"}var le=cf(O.map,h.ch,Y);return le.offset=le.collapse=="right"?le.end:le.start,le}function B1(A){for(var h=A;h;h=h.parentNode)if(/CodeMirror-gutter-wrapper/.test(h.className))return!0;return!1}function bc(A,h){return h&&(A.bad=!0),A}function I1(A,h,b,C,O){var F="",Y=!1,X=A.doc.lineSeparator(),le=!1;function fe(mt){return function(Vt){return Vt.id==mt}}function Le(){Y&&(F+=X,le&&(F+=X),Y=le=!1)}function $e(mt){mt&&(Le(),F+=mt)}function _t(mt){if(mt.nodeType==1){var Vt=mt.getAttribute("cm-text");if(Vt){$e(Vt);return}var An=mt.getAttribute("cm-marker"),_n;if(An){var Dn=A.findMarks(Ct(C,0),Ct(O+1,0),fe(+An));Dn.length&&(_n=Dn[0].find(0))&&$e(Lr(A.doc,_n.from,_n.to).join(X));return}if(mt.getAttribute("contenteditable")=="false")return;var Hn=/^(pre|div|p|li|table|br)$/i.test(mt.nodeName);if(!/^br$/i.test(mt.nodeName)&&mt.textContent.length==0)return;Hn&&Le();for(var Pn=0;Pn<mt.childNodes.length;Pn++)_t(mt.childNodes[Pn]);/^(pre|p)$/i.test(mt.nodeName)&&(le=!0),Hn&&(Y=!0)}else mt.nodeType==3&&$e(mt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;_t(h),h!=b;)h=h.nextSibling,le=!1;return F}function ws(A,h,b){var C;if(h==A.display.lineDiv){if(C=A.display.lineDiv.childNodes[b],!C)return bc(A.clipPos(Ct(A.display.viewTo-1)),!0);h=null,b=0}else for(C=h;;C=C.parentNode){if(!C||C==A.display.lineDiv)return null;if(C.parentNode&&C.parentNode==A.display.lineDiv)break}for(var O=0;O<A.display.view.length;O++){var F=A.display.view[O];if(F.node==C)return Gy(F,h,b)}}function Gy(A,h,b){var C=A.text.firstChild,O=!1;if(!h||!tn(C,h))return bc(Ct(ge(A.line),0),!0);if(h==C&&(O=!0,h=C.childNodes[b],b=0,!h)){var F=A.rest?$n(A.rest):A.line;return bc(Ct(ge(F),F.text.length),O)}var Y=h.nodeType==3?h:null,X=h;for(!Y&&h.childNodes.length==1&&h.firstChild.nodeType==3&&(Y=h.firstChild,b&&(b=Y.nodeValue.length));X.parentNode!=C;)X=X.parentNode;var le=A.measure,fe=le.maps;function Le(_n,Dn,Hn){for(var Pn=-1;Pn<(fe?fe.length:0);Pn++)for(var er=Pn<0?le.map:fe[Pn],br=0;br<er.length;br+=3){var Er=er[br+2];if(Er==_n||Er==Dn){var Ci=ge(Pn<0?A.line:A.rest[Pn]),Fo=er[br]+Hn;return(Hn<0||Er!=_n)&&(Fo=er[br+(Hn?1:0)]),Ct(Ci,Fo)}}}var $e=Le(Y,X,b);if($e)return bc($e,O);for(var _t=X.nextSibling,mt=Y?Y.nodeValue.length-b:0;_t;_t=_t.nextSibling){if($e=Le(_t,_t.firstChild,0),$e)return bc(Ct($e.line,$e.ch-mt),O);mt+=_t.textContent.length}for(var Vt=X.previousSibling,An=b;Vt;Vt=Vt.previousSibling){if($e=Le(Vt,Vt.firstChild,-1),$e)return bc(Ct($e.line,$e.ch+An),O);An+=Vt.textContent.length}}var Sa=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new _e,this.hasSelection=!1,this.composing=null,this.resetting=!1};Sa.prototype.init=function(A){var h=this,b=this,C=this.cm;this.createField(A);var O=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),G&&(O.style.width="0px"),Pt(O,"input",function(){f&&g>=9&&h.hasSelection&&(h.hasSelection=null),b.poll()}),Pt(O,"paste",function(Y){pr(C,Y)||RA(Y,C)||(C.state.pasteIncoming=+new Date,b.fastPoll())});function F(Y){if(!pr(C,Y)){if(C.somethingSelected())Ad({lineWise:!1,text:C.getSelections()});else if(C.options.lineWiseCopyCut){var X=Fp(C);Ad({lineWise:!0,text:X.text}),Y.type=="cut"?C.setSelections(X.ranges,null,bt):(b.prevInput="",O.value=X.text.join(`
`),tt(O))}else return;Y.type=="cut"&&(C.state.cutIncoming=+new Date)}}Pt(O,"cut",F),Pt(O,"copy",F),Pt(A.scroller,"paste",function(Y){if(!(Nl(A,Y)||pr(C,Y))){if(!O.dispatchEvent){C.state.pasteIncoming=+new Date,b.focus();return}var X=new Event("paste");X.clipboardData=Y.clipboardData,O.dispatchEvent(X)}}),Pt(A.lineSpace,"selectstart",function(Y){Nl(A,Y)||Fr(Y)}),Pt(O,"compositionstart",function(){var Y=C.getCursor("from");b.composing&&b.composing.range.clear(),b.composing={start:Y,range:C.markText(Y,C.getCursor("to"),{className:"CodeMirror-composing"})}}),Pt(O,"compositionend",function(){b.composing&&(b.poll(),b.composing.range.clear(),b.composing=null)})},Sa.prototype.createField=function(A){this.wrapper=Kf(),this.textarea=this.wrapper.firstChild;var h=this.cm.options;Tf(this.textarea,h.spellcheck,h.autocorrect,h.autocapitalize)},Sa.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},Sa.prototype.prepareSelection=function(){var A=this.cm,h=A.display,b=A.doc,C=Fd(A);if(A.options.moveInputWithCursor){var O=Rt(A,b.sel.primary().head,"div"),F=h.wrapper.getBoundingClientRect(),Y=h.lineDiv.getBoundingClientRect();C.teTop=Math.max(0,Math.min(h.wrapper.clientHeight-10,O.top+Y.top-F.top)),C.teLeft=Math.max(0,Math.min(h.wrapper.clientWidth-10,O.left+Y.left-F.left))}return C},Sa.prototype.showSelection=function(A){var h=this.cm,b=h.display;Je(b.cursorDiv,A.cursors),Je(b.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},Sa.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var h=this.cm;if(this.resetting=!0,h.somethingSelected()){this.prevInput="";var b=h.getSelection();this.textarea.value=b,h.state.focused&&tt(this.textarea),f&&g>=9&&(this.hasSelection=b)}else A||(this.prevInput=this.textarea.value="",f&&g>=9&&(this.hasSelection=null));this.resetting=!1}},Sa.prototype.getField=function(){return this.textarea},Sa.prototype.supportsTouch=function(){return!1},Sa.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!re||St(ot(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Sa.prototype.blur=function(){this.textarea.blur()},Sa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Sa.prototype.receivedFocus=function(){this.slowPoll()},Sa.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},Sa.prototype.fastPoll=function(){var A=!1,h=this;h.pollingFast=!0;function b(){var C=h.poll();!C&&!A?(A=!0,h.polling.set(60,b)):(h.pollingFast=!1,h.slowPoll())}h.polling.set(20,b)},Sa.prototype.poll=function(){var A=this,h=this.cm,b=this.textarea,C=this.prevInput;if(this.contextMenuPending||this.resetting||!h.state.focused||Te(b)&&!C&&!this.composing||h.isReadOnly()||h.options.disableInput||h.state.keySeq)return!1;var O=b.value;if(O==C&&!h.somethingSelected())return!1;if(f&&g>=9&&this.hasSelection===O||se&&/[\uf700-\uf7ff]/.test(O))return h.display.input.reset(),!1;if(h.doc.sel==h.display.selForContextMenu){var F=O.charCodeAt(0);if(F==8203&&!C&&(C=""),F==8666)return this.reset(),this.cm.execCommand("undo")}for(var Y=0,X=Math.min(C.length,O.length);Y<X&&C.charCodeAt(Y)==O.charCodeAt(Y);)++Y;return H(h,function(){Up(h,O.slice(Y),C.length-Y,null,A.composing?"*compose":null),O.length>1e3||O.indexOf(`
`)>-1?b.value=A.prevInput="":A.prevInput=O,A.composing&&(A.composing.range.clear(),A.composing.range=h.markText(A.composing.start,h.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Sa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Sa.prototype.onKeyPress=function(){f&&g>=9&&(this.hasSelection=null),this.fastPoll()},Sa.prototype.onContextMenu=function(A){var h=this,b=h.cm,C=b.display,O=h.textarea;h.contextMenuPending&&h.contextMenuPending();var F=Pu(b,A),Y=C.scroller.scrollTop;if(!F||L)return;var X=b.options.resetSelectionOnContextMenu;X&&b.doc.sel.contains(F)==-1&&te(b,Ps)(b.doc,vs(F),bt);var le=O.style.cssText,fe=h.wrapper.style.cssText,Le=h.wrapper.offsetParent.getBoundingClientRect();h.wrapper.style.cssText="position: static",O.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-Le.top-5)+"px; left: "+(A.clientX-Le.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var $e;x&&($e=O.ownerDocument.defaultView.scrollY),C.input.focus(),x&&O.ownerDocument.defaultView.scrollTo(null,$e),C.input.reset(),b.somethingSelected()||(O.value=h.prevInput=" "),h.contextMenuPending=mt,C.selForContextMenu=b.doc.sel,clearTimeout(C.detectingSelectAll);function _t(){if(O.selectionStart!=null){var An=b.somethingSelected(),_n=""+(An?O.value:"");O.value="",O.value=_n,h.prevInput=An?"":"",O.selectionStart=1,O.selectionEnd=_n.length,C.selForContextMenu=b.doc.sel}}function mt(){if(h.contextMenuPending==mt&&(h.contextMenuPending=!1,h.wrapper.style.cssText=fe,O.style.cssText=le,f&&g<9&&C.scrollbars.setScrollTop(C.scroller.scrollTop=Y),O.selectionStart!=null)){(!f||f&&g<9)&&_t();var An=0,_n=function(){C.selForContextMenu==b.doc.sel&&O.selectionStart==0&&O.selectionEnd>0&&h.prevInput==""?te(b,ed)(b):An++<10?C.detectingSelectAll=setTimeout(_n,500):(C.selForContextMenu=null,C.input.reset())};C.detectingSelectAll=setTimeout(_n,200)}}if(f&&g>=9&&_t(),Re){Wi(A);var Vt=function(){Jn(window,"mouseup",Vt),setTimeout(mt,20)};Pt(window,"mouseup",Vt)}else setTimeout(mt,50)},Sa.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},Sa.prototype.setUneditable=function(){},Sa.prototype.needsContentAttribute=!1;function k1(A,h){if(h=h?xe(h):{},h.value=A.value,!h.tabindex&&A.tabIndex&&(h.tabindex=A.tabIndex),!h.placeholder&&A.placeholder&&(h.placeholder=A.placeholder),h.autofocus==null){var b=St(ot(A));h.autofocus=b==A||A.getAttribute("autofocus")!=null&&b==document.body}function C(){A.value=X.getValue()}var O;if(A.form&&(Pt(A.form,"submit",C),!h.leaveSubmitMethodAlone)){var F=A.form;O=F.submit;try{var Y=F.submit=function(){C(),F.submit=O,F.submit(),F.submit=Y}}catch{}}h.finishInit=function(le){le.save=C,le.getTextArea=function(){return A},le.toTextArea=function(){le.toTextArea=isNaN,C(),A.parentNode.removeChild(le.getWrapperElement()),A.style.display="",A.form&&(Jn(A.form,"submit",C),!h.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=O))}},A.style.display="none";var X=eo(function(le){return A.parentNode.insertBefore(le,A.nextSibling)},h);return X}function Qy(A){A.off=Jn,A.on=Pt,A.wheelEventPixels=mo,A.Doc=tl,A.splitLines=Ee,A.countColumn=ce,A.findColumn=Un,A.isWordChar=yi,A.Pass=Ze,A.signal=un,A.Line=ku,A.changeEnd=ss,A.scrollbarModel=No,A.Pos=Ct,A.cmpPos=Cn,A.modes=Ge,A.mimeModes=ut,A.resolveMode=Dt,A.getMode=wn,A.modeExtensions=Kn,A.extendMode=xn,A.copyState=Zn,A.startState=qr,A.innerMode=Cr,A.commands=wf,A.keyMap=lA,A.keyName=_f,A.isModifierKey=wp,A.lookupKey=mu,A.normalizeKeyMap=nl,A.StringStream=In,A.SharedTextMarker=zd,A.TextMarker=zu,A.LineWidget=Rd,A.e_preventDefault=Fr,A.e_stopPropagation=Wr,A.e_stop=Wi,A.addClass=Ne,A.contains=tn,A.rmClass=ht,A.keyNames=xs}t0(eo),Mh(eo);var Sh="iter insert remove copy getEditor constructor".split(" ");for(var Fa in tl.prototype)tl.prototype.hasOwnProperty(Fa)&&Ke(Sh,Fa)<0&&(eo.prototype[Fa]=function(A){return function(){return A.apply(this.doc,arguments)}}(tl.prototype[Fa]));return Ai(tl),eo.inputStyles={textarea:Sa,contenteditable:Co},eo.defineMode=function(A){!eo.defaults.mode&&A!="null"&&(eo.defaults.mode=A),Tt.apply(this,arguments)},eo.defineMIME=nn,eo.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),eo.defineMIME("text/plain","null"),eo.defineExtension=function(A,h){eo.prototype[A]=h},eo.defineDocExtension=function(A,h){tl.prototype[A]=h},eo.fromTextArea=k1,Qy(eo),eo.version="5.65.16",eo})}(wM)),wM.exports}var Rme=a5();const Ic=Qo(Rme);(function(t,n){(function(e){e(a5())})(function(e){e.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,a=i.jsonld,f=i.json||a,g=i.trackScope!==!1,x=i.typescript,I=i.wordCharacters||/[\w$\xa1-\uffff]/,B=function(){function ge(Ni){return{type:Ni,style:"keyword"}}var je=ge("keyword a"),Yt=ge("keyword b"),hn=ge("keyword c"),Ct=ge("keyword d"),Cn=ge("operator"),ti={type:"atom",style:"atom"};return{if:ge("if"),while:je,with:je,else:Yt,do:Yt,try:Yt,finally:Yt,return:Ct,break:Ct,continue:Ct,new:ge("new"),delete:hn,void:hn,throw:hn,debugger:ge("debugger"),var:ge("var"),const:ge("var"),let:ge("var"),function:ge("function"),catch:ge("catch"),for:ge("for"),switch:ge("switch"),case:ge("case"),default:ge("default"),in:Cn,typeof:Cn,instanceof:Cn,true:ti,false:ti,null:ti,undefined:ti,NaN:ti,Infinity:ti,this:ge("this"),class:ge("class"),super:ge("atom"),yield:hn,export:ge("export"),import:ge("import"),extends:hn,await:hn}}(),D=/[+\-*&%=<>!?|~^@]/,L=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function V(ge){for(var je=!1,Yt,hn=!1;(Yt=ge.next())!=null;){if(!je){if(Yt=="/"&&!hn)return;Yt=="["?hn=!0:hn&&Yt=="]"&&(hn=!1)}je=!je&&Yt=="\\"}}var W,j;function G(ge,je,Yt){return W=ge,j=Yt,je}function ee(ge,je){var Yt=ge.next();if(Yt=='"'||Yt=="'")return je.tokenize=re(Yt),je.tokenize(ge,je);if(Yt=="."&&ge.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return G("number","number");if(Yt=="."&&ge.match(".."))return G("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Yt))return G(Yt);if(Yt=="="&&ge.eat(">"))return G("=>","operator");if(Yt=="0"&&ge.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return G("number","number");if(/\d/.test(Yt))return ge.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),G("number","number");if(Yt=="/")return ge.eat("*")?(je.tokenize=se,se(ge,je)):ge.eat("/")?(ge.skipToEnd(),G("comment","comment")):Oi(ge,je,1)?(V(ge),ge.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),G("regexp","string-2")):(ge.eat("="),G("operator","operator",ge.current()));if(Yt=="`")return je.tokenize=oe,oe(ge,je);if(Yt=="#"&&ge.peek()=="!")return ge.skipToEnd(),G("meta","meta");if(Yt=="#"&&ge.eatWhile(I))return G("variable","property");if(Yt=="<"&&ge.match("!--")||Yt=="-"&&ge.match("->")&&!/\S/.test(ge.string.slice(0,ge.start)))return ge.skipToEnd(),G("comment","comment");if(D.test(Yt))return(Yt!=">"||!je.lexical||je.lexical.type!=">")&&(ge.eat("=")?(Yt=="!"||Yt=="=")&&ge.eat("="):/[<>*+\-|&?]/.test(Yt)&&(ge.eat(Yt),Yt==">"&&ge.eat(Yt))),Yt=="?"&&ge.eat(".")?G("."):G("operator","operator",ge.current());if(I.test(Yt)){ge.eatWhile(I);var hn=ge.current();if(je.lastType!="."){if(B.propertyIsEnumerable(hn)){var Ct=B[hn];return G(Ct.type,Ct.style,hn)}if(hn=="async"&&ge.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return G("async","keyword",hn)}return G("variable","variable",hn)}}function re(ge){return function(je,Yt){var hn=!1,Ct;if(a&&je.peek()=="@"&&je.match(L))return Yt.tokenize=ee,G("jsonld-keyword","meta");for(;(Ct=je.next())!=null&&!(Ct==ge&&!hn);)hn=!hn&&Ct=="\\";return hn||(Yt.tokenize=ee),G("string","string")}}function se(ge,je){for(var Yt=!1,hn;hn=ge.next();){if(hn=="/"&&Yt){je.tokenize=ee;break}Yt=hn=="*"}return G("comment","comment")}function oe(ge,je){for(var Yt=!1,hn;(hn=ge.next())!=null;){if(!Yt&&(hn=="`"||hn=="$"&&ge.eat("{"))){je.tokenize=ee;break}Yt=!Yt&&hn=="\\"}return G("quasi","string-2",ge.current())}var ue="([{}])";function me(ge,je){je.fatArrowAt&&(je.fatArrowAt=null);var Yt=ge.string.indexOf("=>",ge.start);if(!(Yt<0)){if(x){var hn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ge.string.slice(ge.start,Yt));hn&&(Yt=hn.index)}for(var Ct=0,Cn=!1,ti=Yt-1;ti>=0;--ti){var Ni=ge.string.charAt(ti),Xi=ue.indexOf(Ni);if(Xi>=0&&Xi<3){if(!Ct){++ti;break}if(--Ct==0){Ni=="("&&(Cn=!0);break}}else if(Xi>=3&&Xi<6)++Ct;else if(I.test(Ni))Cn=!0;else if(/["'\/`]/.test(Ni))for(;;--ti){if(ti==0)return;var ba=ge.string.charAt(ti-1);if(ba==Ni&&ge.string.charAt(ti-2)!="\\"){ti--;break}}else if(Cn&&!Ct){++ti;break}}Cn&&!Ct&&(je.fatArrowAt=ti)}}var De={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Re(ge,je,Yt,hn,Ct,Cn){this.indented=ge,this.column=je,this.type=Yt,this.prev=Ct,this.info=Cn,hn!=null&&(this.align=hn)}function et(ge,je){if(!g)return!1;for(var Yt=ge.localVars;Yt;Yt=Yt.next)if(Yt.name==je)return!0;for(var hn=ge.context;hn;hn=hn.prev)for(var Yt=hn.vars;Yt;Yt=Yt.next)if(Yt.name==je)return!0}function ht(ge,je,Yt,hn,Ct){var Cn=ge.cc;for(ke.state=ge,ke.stream=Ct,ke.marked=null,ke.cc=Cn,ke.style=je,ge.lexical.hasOwnProperty("align")||(ge.lexical.align=!0);;){var ti=Cn.length?Cn.pop():f?Ke:ce;if(ti(Yt,hn)){for(;Cn.length&&Cn[Cn.length-1].lex;)Cn.pop()();return ke.marked?ke.marked:Yt=="variable"&&et(ge,hn)?"variable-2":je}}}var ke={state:null,column:null,marked:null,cc:null};function Je(){for(var ge=arguments.length-1;ge>=0;ge--)ke.cc.push(arguments[ge])}function ve(){return Je.apply(null,arguments),!0}function ft(ge,je){for(var Yt=je;Yt;Yt=Yt.next)if(Yt.name==ge)return!0;return!1}function Ft(ge){var je=ke.state;if(ke.marked="def",!!g){if(je.context){if(je.lexical.info=="var"&&je.context&&je.context.block){var Yt=tn(ge,je.context);if(Yt!=null){je.context=Yt;return}}else if(!ft(ge,je.localVars)){je.localVars=new qe(ge,je.localVars);return}}i.globalVars&&!ft(ge,je.globalVars)&&(je.globalVars=new qe(ge,je.globalVars))}}function tn(ge,je){if(je)if(je.block){var Yt=tn(ge,je.prev);return Yt?Yt==je.prev?je:new Ne(Yt,je.vars,!0):null}else return ft(ge,je.vars)?je:new Ne(je.prev,new qe(ge,je.vars),!1);else return null}function St(ge){return ge=="public"||ge=="private"||ge=="protected"||ge=="abstract"||ge=="readonly"}function Ne(ge,je,Yt){this.prev=ge,this.vars=je,this.block=Yt}function qe(ge,je){this.name=ge,this.next=je}var tt=new qe("this",new qe("arguments",null));function Jt(){ke.state.context=new Ne(ke.state.context,ke.state.localVars,!1),ke.state.localVars=tt}function dt(){ke.state.context=new Ne(ke.state.context,ke.state.localVars,!0),ke.state.localVars=null}Jt.lex=dt.lex=!0;function ot(){ke.state.localVars=ke.state.context.vars,ke.state.context=ke.state.context.prev}ot.lex=!0;function Et(ge,je){var Yt=function(){var hn=ke.state,Ct=hn.indented;if(hn.lexical.type=="stat")Ct=hn.lexical.indented;else for(var Cn=hn.lexical;Cn&&Cn.type==")"&&Cn.align;Cn=Cn.prev)Ct=Cn.indented;hn.lexical=new Re(Ct,ke.stream.column(),ge,null,hn.lexical,je)};return Yt.lex=!0,Yt}function Kt(){var ge=ke.state;ge.lexical.prev&&(ge.lexical.type==")"&&(ge.indented=ge.lexical.indented),ge.lexical=ge.lexical.prev)}Kt.lex=!0;function xe(ge){function je(Yt){return Yt==ge?ve():ge==";"||Yt=="}"||Yt==")"||Yt=="]"?Je():ve(je)}return je}function ce(ge,je){return ge=="var"?ve(Et("vardef",je),Wr,xe(";"),Kt):ge=="keyword a"?ve(Et("form"),Ze,ce,Kt):ge=="keyword b"?ve(Et("form"),ce,Kt):ge=="keyword d"?ke.stream.match(/^\s*$/,!1)?ve():ve(Et("stat"),Gt,xe(";"),Kt):ge=="debugger"?ve(xe(";")):ge=="{"?ve(Et("}"),dt,ct,Kt,ot):ge==";"?ve():ge=="if"?(ke.state.lexical.info=="else"&&ke.state.cc[ke.state.cc.length-1]==Kt&&ke.state.cc.pop()(),ve(Et("form"),Ze,ce,Kt,_a)):ge=="function"?ve(Ee):ge=="for"?ve(Et("form"),dt,Pe,ce,ot,Kt):ge=="class"||x&&je=="interface"?(ke.marked="keyword",ve(Et("form",ge=="class"?ge:je),Ge,Kt)):ge=="variable"?x&&je=="declare"?(ke.marked="keyword",ve(ce)):x&&(je=="module"||je=="enum"||je=="type")&&ke.stream.match(/^\s*\w/,!1)?(ke.marked="keyword",je=="enum"?ve(dn):je=="type"?ve(Qe,xe("operator"),It,xe(";")):ve(Et("form"),Zi,xe("{"),Et("}"),ct,Kt,Kt)):x&&je=="namespace"?(ke.marked="keyword",ve(Et("form"),Ke,ce,Kt)):x&&je=="abstract"?(ke.marked="keyword",ve(ce)):ve(Et("stat"),ur):ge=="switch"?ve(Et("form"),Ze,xe("{"),Et("}","switch"),dt,ct,Kt,Kt,ot):ge=="case"?ve(Ke,xe(":")):ge=="default"?ve(xe(":")):ge=="catch"?ve(Et("form"),Jt,_e,ce,Kt,ot):ge=="export"?ve(Et("stat"),Dt,Kt):ge=="import"?ve(Et("stat"),Kn,Kt):ge=="async"?ve(ce):je=="@"?ve(Ke,ce):Je(Et("stat"),Ke,xe(";"),Kt)}function _e(ge){if(ge=="(")return ve(rt,xe(")"))}function Ke(ge,je){return bt(ge,je,!1)}function Ve(ge,je){return bt(ge,je,!0)}function Ze(ge){return ge!="("?Je():ve(Et(")"),Gt,xe(")"),Kt)}function bt(ge,je,Yt){if(ke.state.fatArrowAt==ke.stream.start){var hn=Yt?lr:$n;if(ge=="(")return ve(Jt,Et(")"),Oe(rt,")"),Kt,xe("=>"),hn,ot);if(ge=="variable")return Je(Jt,Zi,xe("=>"),hn,ot)}var Ct=Yt?Un:Lt;return De.hasOwnProperty(ge)?ve(Ct):ge=="function"?ve(Ee,Ct):ge=="class"||x&&je=="interface"?(ke.marked="keyword",ve(Et("form"),Xe,Kt)):ge=="keyword c"||ge=="async"?ve(Yt?Ve:Ke):ge=="("?ve(Et(")"),Gt,xe(")"),Kt,Ct):ge=="operator"||ge=="spread"?ve(Yt?Ve:Ke):ge=="["?ve(Et("]"),In,Kt,Ct):ge=="{"?st(be,"}",null,Ct):ge=="quasi"?Je(rr,Ct):ge=="new"?ve(gr(Yt)):ve()}function Gt(ge){return ge.match(/[;\}\)\],]/)?Je():Je(Ke)}function Lt(ge,je){return ge==","?ve(Gt):Un(ge,je,!1)}function Un(ge,je,Yt){var hn=Yt==!1?Lt:Un,Ct=Yt==!1?Ke:Ve;if(ge=="=>")return ve(Jt,Yt?lr:$n,ot);if(ge=="operator")return/\+\+|--/.test(je)||x&&je=="!"?ve(hn):x&&je=="<"&&ke.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?ve(Et(">"),Oe(It,">"),Kt,hn):je=="?"?ve(Ke,xe(":"),Ct):ve(Ct);if(ge=="quasi")return Je(rr,hn);if(ge!=";"){if(ge=="(")return st(Ve,")","call",hn);if(ge==".")return ve(yi,hn);if(ge=="[")return ve(Et("]"),Gt,xe("]"),Kt,hn);if(x&&je=="as")return ke.marked="keyword",ve(It,hn);if(ge=="regexp")return ke.state.lastType=ke.marked="operator",ke.stream.backUp(ke.stream.pos-ke.stream.start-1),ve(Ct)}}function rr(ge,je){return ge!="quasi"?Je():je.slice(je.length-2)!="${"?ve(rr):ve(Gt,qt)}function qt(ge){if(ge=="}")return ke.marked="string-2",ke.state.tokenize=oe,ve(rr)}function $n(ge){return me(ke.stream,ke.state),Je(ge=="{"?ce:Ke)}function lr(ge){return me(ke.stream,ke.state),Je(ge=="{"?ce:Ve)}function gr(ge){return function(je){return je=="."?ve(ge?Dr:Mr):je=="variable"&&x?ve(ki,ge?Un:Lt):Je(ge?Ve:Ke)}}function Mr(ge,je){if(je=="target")return ke.marked="keyword",ve(Lt)}function Dr(ge,je){if(je=="target")return ke.marked="keyword",ve(Un)}function ur(ge){return ge==":"?ve(Kt,ce):Je(Lt,xe(";"),Kt)}function yi(ge){if(ge=="variable")return ke.marked="property",ve()}function be(ge,je){if(ge=="async")return ke.marked="property",ve(be);if(ge=="variable"||ke.style=="keyword"){if(ke.marked="property",je=="get"||je=="set")return ve(z);var Yt;return x&&ke.state.fatArrowAt==ke.stream.start&&(Yt=ke.stream.match(/^\s*:\s*/,!1))&&(ke.state.fatArrowAt=ke.stream.pos+Yt[0].length),ve(q)}else{if(ge=="number"||ge=="string")return ke.marked=a?"property":ke.style+" property",ve(q);if(ge=="jsonld-keyword")return ve(q);if(x&&St(je))return ke.marked="keyword",ve(be);if(ge=="[")return ve(Ke,wt,xe("]"),q);if(ge=="spread")return ve(Ve,q);if(je=="*")return ke.marked="keyword",ve(be);if(ge==":")return Je(q)}}function z(ge){return ge!="variable"?Je(q):(ke.marked="property",ve(Ee))}function q(ge){if(ge==":")return ve(Ve);if(ge=="(")return Je(Ee)}function Oe(ge,je,Yt){function hn(Ct,Cn){if(Yt?Yt.indexOf(Ct)>-1:Ct==","){var ti=ke.state.lexical;return ti.info=="call"&&(ti.pos=(ti.pos||0)+1),ve(function(Ni,Xi){return Ni==je||Xi==je?Je():Je(ge)},hn)}return Ct==je||Cn==je?ve():Yt&&Yt.indexOf(";")>-1?Je(ge):ve(xe(je))}return function(Ct,Cn){return Ct==je||Cn==je?ve():Je(ge,hn)}}function st(ge,je,Yt){for(var hn=3;hn<arguments.length;hn++)ke.cc.push(arguments[hn]);return ve(Et(je,Yt),Oe(ge,je),Kt)}function ct(ge){return ge=="}"?ve():Je(ce,ct)}function wt(ge,je){if(x){if(ge==":")return ve(It);if(je=="?")return ve(wt)}}function Vn(ge,je){if(x&&(ge==":"||je=="in"))return ve(It)}function qn(ge){if(x&&ge==":")return ke.stream.match(/^\s*\w+\s+is\b/,!1)?ve(Ke,Qr,It):ve(It)}function Qr(ge,je){if(je=="is")return ke.marked="keyword",ve()}function It(ge,je){if(je=="keyof"||je=="typeof"||je=="infer"||je=="readonly")return ke.marked="keyword",ve(je=="typeof"?Ve:It);if(ge=="variable"||je=="void")return ke.marked="type",ve(Zr);if(je=="|"||je=="&")return ve(It);if(ge=="string"||ge=="number"||ge=="atom")return ve(Zr);if(ge=="[")return ve(Et("]"),Oe(It,"]",","),Kt,Zr);if(ge=="{")return ve(Et("}"),Pt,Kt,Zr);if(ge=="(")return ve(Oe(pr,")"),p,Zr);if(ge=="<")return ve(Oe(It,">"),It);if(ge=="quasi")return Je(Jn,Zr)}function p(ge){if(ge=="=>")return ve(It)}function Pt(ge){return ge.match(/[\}\)\]]/)?ve():ge==","||ge==";"?ve(Pt):Je(yr,Pt)}function yr(ge,je){if(ge=="variable"||ke.style=="keyword")return ke.marked="property",ve(yr);if(je=="?"||ge=="number"||ge=="string")return ve(yr);if(ge==":")return ve(It);if(ge=="[")return ve(xe("variable"),Vn,xe("]"),yr);if(ge=="(")return Je(Te,yr);if(!ge.match(/[;\}\)\],]/))return ve()}function Jn(ge,je){return ge!="quasi"?Je():je.slice(je.length-2)!="${"?ve(Jn):ve(It,un)}function un(ge){if(ge=="}")return ke.marked="string-2",ke.state.tokenize=oe,ve(Jn)}function pr(ge,je){return ge=="variable"&&ke.stream.match(/^\s*[?:]/,!1)||je=="?"?ve(pr):ge==":"?ve(It):ge=="spread"?ve(pr):Je(It)}function Zr(ge,je){if(je=="<")return ve(Et(">"),Oe(It,">"),Kt,Zr);if(je=="|"||ge=="."||je=="&")return ve(It);if(ge=="[")return ve(It,xe("]"),Zr);if(je=="extends"||je=="implements")return ke.marked="keyword",ve(It);if(je=="?")return ve(It,xe(":"),It)}function ki(ge,je){if(je=="<")return ve(Et(">"),Oe(It,">"),Kt,Zr)}function Ai(){return Je(It,Fr)}function Fr(ge,je){if(je=="=")return ve(It)}function Wr(ge,je){return je=="enum"?(ke.marked="keyword",ve(dn)):Je(Zi,wt,zo,os)}function Zi(ge,je){if(x&&St(je))return ke.marked="keyword",ve(Zi);if(ge=="variable")return Ft(je),ve();if(ge=="spread")return ve(Zi);if(ge=="[")return st(da,"]");if(ge=="{")return st(Wi,"}")}function Wi(ge,je){return ge=="variable"&&!ke.stream.match(/^\s*:/,!1)?(Ft(je),ve(zo)):(ge=="variable"&&(ke.marked="property"),ge=="spread"?ve(Zi):ge=="}"?Je():ge=="["?ve(Ke,xe("]"),xe(":"),Wi):ve(xe(":"),Zi,zo))}function da(){return Je(Zi,zo)}function zo(ge,je){if(je=="=")return ve(Ve)}function os(ge){if(ge==",")return ve(Wr)}function _a(ge,je){if(ge=="keyword b"&&je=="else")return ve(Et("form","else"),ce,Kt)}function Pe(ge,je){if(je=="await")return ve(Pe);if(ge=="(")return ve(Et(")"),ie,Kt)}function ie(ge){return ge=="var"?ve(Wr,he):ge=="variable"?ve(he):Je(he)}function he(ge,je){return ge==")"?ve():ge==";"?ve(he):je=="in"||je=="of"?(ke.marked="keyword",ve(Ke,he)):Je(Ke,he)}function Ee(ge,je){if(je=="*")return ke.marked="keyword",ve(Ee);if(ge=="variable")return Ft(je),ve(Ee);if(ge=="(")return ve(Jt,Et(")"),Oe(rt,")"),Kt,qn,ce,ot);if(x&&je=="<")return ve(Et(">"),Oe(Ai,">"),Kt,Ee)}function Te(ge,je){if(je=="*")return ke.marked="keyword",ve(Te);if(ge=="variable")return Ft(je),ve(Te);if(ge=="(")return ve(Jt,Et(")"),Oe(rt,")"),Kt,qn,ot);if(x&&je=="<")return ve(Et(">"),Oe(Ai,">"),Kt,Te)}function Qe(ge,je){if(ge=="keyword"||ge=="variable")return ke.marked="type",ve(Qe);if(je=="<")return ve(Et(">"),Oe(Ai,">"),Kt)}function rt(ge,je){return je=="@"&&ve(Ke,rt),ge=="spread"?ve(rt):x&&St(je)?(ke.marked="keyword",ve(rt)):x&&ge=="this"?ve(wt,zo):Je(Zi,wt,zo)}function Xe(ge,je){return ge=="variable"?Ge(ge,je):ut(ge,je)}function Ge(ge,je){if(ge=="variable")return Ft(je),ve(ut)}function ut(ge,je){if(je=="<")return ve(Et(">"),Oe(Ai,">"),Kt,ut);if(je=="extends"||je=="implements"||x&&ge==",")return je=="implements"&&(ke.marked="keyword"),ve(x?It:Ke,ut);if(ge=="{")return ve(Et("}"),Tt,Kt)}function Tt(ge,je){if(ge=="async"||ge=="variable"&&(je=="static"||je=="get"||je=="set"||x&&St(je))&&ke.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return ke.marked="keyword",ve(Tt);if(ge=="variable"||ke.style=="keyword")return ke.marked="property",ve(nn,Tt);if(ge=="number"||ge=="string")return ve(nn,Tt);if(ge=="[")return ve(Ke,wt,xe("]"),nn,Tt);if(je=="*")return ke.marked="keyword",ve(Tt);if(x&&ge=="(")return Je(Te,Tt);if(ge==";"||ge==",")return ve(Tt);if(ge=="}")return ve();if(je=="@")return ve(Ke,Tt)}function nn(ge,je){if(je=="!"||je=="?")return ve(nn);if(ge==":")return ve(It,zo);if(je=="=")return ve(Ve);var Yt=ke.state.lexical.prev,hn=Yt&&Yt.info=="interface";return Je(hn?Te:Ee)}function Dt(ge,je){return je=="*"?(ke.marked="keyword",ve(qr,xe(";"))):je=="default"?(ke.marked="keyword",ve(Ke,xe(";"))):ge=="{"?ve(Oe(wn,"}"),qr,xe(";")):Je(ce)}function wn(ge,je){if(je=="as")return ke.marked="keyword",ve(xe("variable"));if(ge=="variable")return Je(Ve,wn)}function Kn(ge){return ge=="string"?ve():ge=="("?Je(Ke):ge=="."?Je(Lt):Je(xn,Zn,qr)}function xn(ge,je){return ge=="{"?st(xn,"}"):(ge=="variable"&&Ft(je),je=="*"&&(ke.marked="keyword"),ve(Cr))}function Zn(ge){if(ge==",")return ve(xn,Zn)}function Cr(ge,je){if(je=="as")return ke.marked="keyword",ve(xn)}function qr(ge,je){if(je=="from")return ke.marked="keyword",ve(Ke)}function In(ge){return ge=="]"?ve():Je(Oe(Ve,"]"))}function dn(){return Je(Et("form"),Zi,xe("{"),Et("}"),Oe(Lr,"}"),Kt,Kt)}function Lr(){return Je(Zi,zo)}function Xr(ge,je){return ge.lastType=="operator"||ge.lastType==","||D.test(je.charAt(0))||/[,.]/.test(je.charAt(0))}function Oi(ge,je,Yt){return je.tokenize==ee&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(je.lastType)||je.lastType=="quasi"&&/\{\s*$/.test(ge.string.slice(0,ge.pos-(Yt||0)))}return{startState:function(ge){var je={tokenize:ee,lastType:"sof",cc:[],lexical:new Re((ge||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Ne(null,null,!1),indented:ge||0};return i.globalVars&&typeof i.globalVars=="object"&&(je.globalVars=i.globalVars),je},token:function(ge,je){if(ge.sol()&&(je.lexical.hasOwnProperty("align")||(je.lexical.align=!1),je.indented=ge.indentation(),me(ge,je)),je.tokenize!=se&&ge.eatSpace())return null;var Yt=je.tokenize(ge,je);return W=="comment"?Yt:(je.lastType=W=="operator"&&(j=="++"||j=="--")?"incdec":W,ht(je,Yt,W,j,ge))},indent:function(ge,je){if(ge.tokenize==se||ge.tokenize==oe)return e.Pass;if(ge.tokenize!=ee)return 0;var Yt=je&&je.charAt(0),hn=ge.lexical,Ct;if(!/^\s*else\b/.test(je))for(var Cn=ge.cc.length-1;Cn>=0;--Cn){var ti=ge.cc[Cn];if(ti==Kt)hn=hn.prev;else if(ti!=_a&&ti!=ot)break}for(;(hn.type=="stat"||hn.type=="form")&&(Yt=="}"||(Ct=ge.cc[ge.cc.length-1])&&(Ct==Lt||Ct==Un)&&!/^[,\.=+\-*:?[\(]/.test(je));)hn=hn.prev;s&&hn.type==")"&&hn.prev.type=="stat"&&(hn=hn.prev);var Ni=hn.type,Xi=Yt==Ni;return Ni=="vardef"?hn.indented+(ge.lastType=="operator"||ge.lastType==","?hn.info.length+1:0):Ni=="form"&&Yt=="{"?hn.indented:Ni=="form"?hn.indented+o:Ni=="stat"?hn.indented+(Xr(ge,je)?s||o:0):hn.info=="switch"&&!Xi&&i.doubleIndentSwitch!=!1?hn.indented+(/^(?:case|default)\b/.test(je)?o:2*o):hn.align?hn.column+(Xi?0:1):hn.indented+(Xi?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:a,jsonMode:f,expressionAllowed:Oi,skipExpression:function(ge){ht(ge,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(t,n){(function(e){e(a5())})(function(e){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(ue,me,De){var Re=document.createElement("div");Re.className="CodeMirror-lint-tooltip cm-s-"+ue.options.theme,Re.appendChild(De.cloneNode(!0)),ue.state.lint.options.selfContain?ue.getWrapperElement().appendChild(Re):document.body.appendChild(Re);function et(ht){if(!Re.parentNode)return e.off(document,"mousemove",et);var ke=Math.max(0,ht.clientY-Re.offsetHeight-5),Je=Math.max(0,Math.min(ht.clientX+5,Re.ownerDocument.defaultView.innerWidth-Re.offsetWidth));Re.style.top=ke+"px",Re.style.left=Je+"px"}return e.on(document,"mousemove",et),et(me),Re.style.opacity!=null&&(Re.style.opacity=1),Re}function s(ue){ue.parentNode&&ue.parentNode.removeChild(ue)}function a(ue){ue.parentNode&&(ue.style.opacity==null&&s(ue),ue.style.opacity=0,setTimeout(function(){s(ue)},600))}function f(ue,me,De,Re){var et=o(ue,me,De);function ht(){e.off(Re,"mouseout",ht),et&&(a(et),et=null)}var ke=setInterval(function(){if(et)for(var Je=Re;;Je=Je.parentNode){if(Je&&Je.nodeType==11&&(Je=Je.host),Je==document.body)return;if(!Je){ht();break}}if(!et)return clearInterval(ke)},400);e.on(Re,"mouseout",ht)}function g(ue,me,De){this.marked=[],me instanceof Function&&(me={getAnnotations:me}),(!me||me===!0)&&(me={}),this.options={},this.linterOptions=me.options||{};for(var Re in x)this.options[Re]=x[Re];for(var Re in me)x.hasOwnProperty(Re)?me[Re]!=null&&(this.options[Re]=me[Re]):me.options||(this.linterOptions[Re]=me[Re]);this.timeout=null,this.hasGutter=De,this.onMouseOver=function(et){oe(ue,et)},this.waitingFor=0}var x={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function I(ue){var me=ue.state.lint;me.hasGutter&&ue.clearGutter(r),me.options.highlightLines&&B(ue);for(var De=0;De<me.marked.length;++De)me.marked[De].clear();me.marked.length=0}function B(ue){ue.eachLine(function(me){var De=me.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(me.wrapClass);De&&ue.removeLineClass(me,"wrap",De[0])})}function D(ue,me,De,Re,et){var ht=document.createElement("div"),ke=ht;return ht.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+De,Re&&(ke=ht.appendChild(document.createElement("div")),ke.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),et!=!1&&e.on(ke,"mouseover",function(Je){f(ue,Je,me,ke)}),ht}function L(ue,me){return ue=="error"?ue:me}function V(ue){for(var me=[],De=0;De<ue.length;++De){var Re=ue[De],et=Re.from.line;(me[et]||(me[et]=[])).push(Re)}return me}function W(ue){var me=ue.severity;me||(me="error");var De=document.createElement("div");return De.className="CodeMirror-lint-message CodeMirror-lint-message-"+me,typeof ue.messageHTML<"u"?De.innerHTML=ue.messageHTML:De.appendChild(document.createTextNode(ue.message)),De}function j(ue,me){var De=ue.state.lint,Re=++De.waitingFor;function et(){Re=-1,ue.off("change",et)}ue.on("change",et),me(ue.getValue(),function(ht,ke){ue.off("change",et),De.waitingFor==Re&&(ke&&ht instanceof e&&(ht=ke),ue.operation(function(){ee(ue,ht)}))},De.linterOptions,ue)}function G(ue){var me=ue.state.lint;if(me){var De=me.options,Re=De.getAnnotations||ue.getHelper(e.Pos(0,0),"lint");if(Re)if(De.async||Re.async)j(ue,Re);else{var et=Re(ue.getValue(),me.linterOptions,ue);if(!et)return;et.then?et.then(function(ht){ue.operation(function(){ee(ue,ht)})}):ue.operation(function(){ee(ue,et)})}}}function ee(ue,me){var De=ue.state.lint;if(De){var Re=De.options;I(ue);for(var et=V(me),ht=0;ht<et.length;++ht){var ke=et[ht];if(ke){for(var Je=null,ve=De.hasGutter&&document.createDocumentFragment(),ft=0;ft<ke.length;++ft){var Ft=ke[ft],tn=Ft.severity;tn||(tn="error"),Je=L(Je,tn),Re.formatAnnotation&&(Ft=Re.formatAnnotation(Ft)),De.hasGutter&&ve.appendChild(W(Ft)),Ft.to&&De.marked.push(ue.markText(Ft.from,Ft.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+tn,__annotation:Ft}))}De.hasGutter&&ue.setGutterMarker(ht,r,D(ue,ve,Je,ke.length>1,Re.tooltips)),Re.highlightLines&&ue.addLineClass(ht,"wrap",i+Je)}}Re.onUpdateLinting&&Re.onUpdateLinting(me,et,ue)}}function re(ue){var me=ue.state.lint;me&&(clearTimeout(me.timeout),me.timeout=setTimeout(function(){G(ue)},me.options.delay))}function se(ue,me,De){for(var Re=De.target||De.srcElement,et=document.createDocumentFragment(),ht=0;ht<me.length;ht++){var ke=me[ht];et.appendChild(W(ke))}f(ue,De,et,Re)}function oe(ue,me){var De=me.target||me.srcElement;if(/\bCodeMirror-lint-mark-/.test(De.className)){for(var Re=De.getBoundingClientRect(),et=(Re.left+Re.right)/2,ht=(Re.top+Re.bottom)/2,ke=ue.findMarksAt(ue.coordsChar({left:et,top:ht},"client")),Je=[],ve=0;ve<ke.length;++ve){var ft=ke[ve].__annotation;ft&&Je.push(ft)}Je.length&&se(ue,Je,me)}}e.defineOption("lint",!1,function(ue,me,De){if(De&&De!=e.Init&&(I(ue),ue.state.lint.options.lintOnChange!==!1&&ue.off("change",re),e.off(ue.getWrapperElement(),"mouseover",ue.state.lint.onMouseOver),clearTimeout(ue.state.lint.timeout),delete ue.state.lint),me){for(var Re=ue.getOption("gutters"),et=!1,ht=0;ht<Re.length;++ht)Re[ht]==r&&(et=!0);var ke=ue.state.lint=new g(ue,me,et);ke.options.lintOnChange&&ue.on("change",re),ke.options.tooltips!=!1&&ke.options.tooltips!="gutter"&&e.on(ue.getWrapperElement(),"mouseover",ke.onMouseOver),G(ue)}}),e.defineExtension("performLint",function(){G(this)})})})();(function(t,n){(function(e){e(a5())})(function(e){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=e.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function s(B){return B&&B.bracketRegex||/[(){}[\]]/}function a(B,D,L){var V=B.getLineHandle(D.line),W=D.ch-1,j=L&&L.afterCursor;j==null&&(j=/(^| )cm-fat-cursor($| )/.test(B.getWrapperElement().className));var G=s(L),ee=!j&&W>=0&&G.test(V.text.charAt(W))&&o[V.text.charAt(W)]||G.test(V.text.charAt(W+1))&&o[V.text.charAt(++W)];if(!ee)return null;var re=ee.charAt(1)==">"?1:-1;if(L&&L.strict&&re>0!=(W==D.ch))return null;var se=B.getTokenTypeAt(i(D.line,W+1)),oe=f(B,i(D.line,W+(re>0?1:0)),re,se,L);return oe==null?null:{from:i(D.line,W),to:oe&&oe.pos,match:oe&&oe.ch==ee.charAt(0),forward:re>0}}function f(B,D,L,V,W){for(var j=W&&W.maxScanLineLength||1e4,G=W&&W.maxScanLines||1e3,ee=[],re=s(W),se=L>0?Math.min(D.line+G,B.lastLine()+1):Math.max(B.firstLine()-1,D.line-G),oe=D.line;oe!=se;oe+=L){var ue=B.getLine(oe);if(ue){var me=L>0?0:ue.length-1,De=L>0?ue.length:-1;if(!(ue.length>j))for(oe==D.line&&(me=D.ch-(L<0?1:0));me!=De;me+=L){var Re=ue.charAt(me);if(re.test(Re)&&(V===void 0||(B.getTokenTypeAt(i(oe,me+1))||"")==(V||""))){var et=o[Re];if(et&&et.charAt(1)==">"==L>0)ee.push(Re);else if(ee.length)ee.pop();else return{pos:i(oe,me),ch:Re}}}}}return oe-L==(L>0?B.lastLine():B.firstLine())?!1:null}function g(B,D,L){for(var V=B.state.matchBrackets.maxHighlightLineLength||1e3,W=L&&L.highlightNonMatching,j=[],G=B.listSelections(),ee=0;ee<G.length;ee++){var re=G[ee].empty()&&a(B,G[ee].head,L);if(re&&(re.match||W!==!1)&&B.getLine(re.from.line).length<=V){var se=re.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";j.push(B.markText(re.from,i(re.from.line,re.from.ch+1),{className:se})),re.to&&B.getLine(re.to.line).length<=V&&j.push(B.markText(re.to,i(re.to.line,re.to.ch+1),{className:se}))}}if(j.length){r&&B.state.focused&&B.focus();var oe=function(){B.operation(function(){for(var ue=0;ue<j.length;ue++)j[ue].clear()})};if(D)setTimeout(oe,800);else return oe}}function x(B){B.operation(function(){B.state.matchBrackets.currentlyHighlighted&&(B.state.matchBrackets.currentlyHighlighted(),B.state.matchBrackets.currentlyHighlighted=null),B.state.matchBrackets.currentlyHighlighted=g(B,!1,B.state.matchBrackets)})}function I(B){B.state.matchBrackets&&B.state.matchBrackets.currentlyHighlighted&&(B.state.matchBrackets.currentlyHighlighted(),B.state.matchBrackets.currentlyHighlighted=null)}e.defineOption("matchBrackets",!1,function(B,D,L){L&&L!=e.Init&&(B.off("cursorActivity",x),B.off("focus",x),B.off("blur",I),I(B)),D&&(B.state.matchBrackets=typeof D=="object"?D:{},B.on("cursorActivity",x),B.on("focus",x),B.on("blur",I))}),e.defineExtension("matchBrackets",function(){g(this,!0)}),e.defineExtension("findMatchingBracket",function(B,D,L){return(L||typeof D=="boolean")&&(L?(L.strict=D,D=L):D=D?{strict:!0}:null),a(this,B,D)}),e.defineExtension("scanForBracket",function(B,D,L,V){return f(this,B,D,L,V)})})})();var zme=/("(?:[^\\"]|\\.)*")|[:,]/g,jme=function(n,e){var r,i,o;return e=e||{},r=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),i=r===""?1/0:e.maxLength===void 0?80:e.maxLength,o=e.replacer,function s(a,f,g){var x,I,B,D,L,V,W,j,G,ee,re,se;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),re=JSON.stringify(a,o),re===void 0)return re;if(W=i-f.length-g,re.length<=W&&(G=re.replace(zme,function(oe,ue){return ue||oe+" "}),G.length<=W))return G;if(o!=null&&(a=JSON.parse(re),o=void 0),typeof a=="object"&&a!==null){if(j=f+r,B=[],I=0,Array.isArray(a))for(ee="[",x="]",W=a.length;I<W;I++)B.push(s(a[I],j,I===W-1?0:1)||"null");else for(ee="{",x="}",V=Object.keys(a),W=V.length;I<W;I++)D=V[I],L=JSON.stringify(D)+": ",se=s(a[D],j,L.length+(I===W-1?0:1)),se!==void 0&&B.push(L+se);if(B.length>0)return[ee,r+B.join(`,
`+j),x].join(`
`+f)}return re}(n,"",0)};const fW=Qo(jme);var pW={};(function(t){var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,s,a,f,g,x,I){var B=x.length-1;switch(g){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=x[B-1];case 13:this.$={};break;case 14:this.$=x[B-1];break;case 15:this.$=[x[B-2],x[B]];break;case 16:this.$={},this.$[x[B][0]]=x[B][1];break;case 17:this.$=x[B-2],x[B-2][x[B][0]]=x[B][1];break;case 18:this.$=[];break;case 19:this.$=x[B-1];break;case 20:this.$=[x[B]];break;case 21:this.$=x[B-2],x[B-2].push(x[B]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,s){throw new Error(o)},parse:function(o){var s=this,a=[0],f=[null],g=[],x=this.table,I="",B=0,D=0,L=0,V=2,W=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var j=this.lexer.yylloc;g.push(j),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function G(ve){a.length=a.length-2*ve,f.length=f.length-ve,g.length=g.length-ve}function ee(){var ve;return ve=s.lexer.lex()||1,typeof ve!="number"&&(ve=s.symbols_[ve]||ve),ve}for(var re,se,oe,ue,me,De={},Re,et,ht,ke;;){if(oe=a[a.length-1],this.defaultActions[oe]?ue=this.defaultActions[oe]:(re==null&&(re=ee()),ue=x[oe]&&x[oe][re]),typeof ue>"u"||!ue.length||!ue[0]){if(!L){ke=[];for(Re in x[oe])this.terminals_[Re]&&Re>2&&ke.push("'"+this.terminals_[Re]+"'");var Je="";this.lexer.showPosition?Je="Parse error on line "+(B+1)+`:
`+this.lexer.showPosition()+`
Expecting `+ke.join(", ")+", got '"+this.terminals_[re]+"'":Je="Parse error on line "+(B+1)+": Unexpected "+(re==1?"end of input":"'"+(this.terminals_[re]||re)+"'"),this.parseError(Je,{text:this.lexer.match,token:this.terminals_[re]||re,line:this.lexer.yylineno,loc:j,expected:ke})}if(L==3){if(re==W)throw new Error(Je||"Parsing halted.");D=this.lexer.yyleng,I=this.lexer.yytext,B=this.lexer.yylineno,j=this.lexer.yylloc,re=ee()}for(;!(V.toString()in x[oe]);){if(oe==0)throw new Error(Je||"Parsing halted.");G(1),oe=a[a.length-1]}se=re,re=V,oe=a[a.length-1],ue=x[oe]&&x[oe][V],L=3}if(ue[0]instanceof Array&&ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+re);switch(ue[0]){case 1:a.push(re),f.push(this.lexer.yytext),g.push(this.lexer.yylloc),a.push(ue[1]),re=null,se?(re=se,se=null):(D=this.lexer.yyleng,I=this.lexer.yytext,B=this.lexer.yylineno,j=this.lexer.yylloc,L>0&&L--);break;case 2:if(et=this.productions_[ue[1]][1],De.$=f[f.length-et],De._$={first_line:g[g.length-(et||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(et||1)].first_column,last_column:g[g.length-1].last_column},me=this.performAction.call(De,I,D,B,this.yy,ue[1],f,g),typeof me<"u")return me;et&&(a=a.slice(0,-1*et*2),f=f.slice(0,-1*et),g=g.slice(0,-1*et)),a.push(this.productions_[ue[1]][0]),f.push(De.$),g.push(De._$),ht=x[a[a.length-2]][a[a.length-1]],a.push(ht);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(s,a){if(this.yy.parseError)this.yy.parseError(s,a);else throw new Error(s)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var s=o.match(/\n/);return s&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),s=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+s+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,s,a,f,g;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),I=0;I<x.length&&(a=this._input.match(this.rules[x[I]]),!(a&&(!s||a[0].length>s[0].length)&&(s=a,f=I,!this.options.flex)));I++);if(s)return g=s[0].match(/\n.*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-1:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],o=this.performAction.call(this,this.yy,this,x[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var s=this.next();return typeof s<"u"?s:this.lex()},begin:function(s){this.conditionStack.push(s)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(s){this.begin(s)}};return i.options={},i.performAction=function(s,a,f,g){switch(f){case 0:break;case 1:return 6;case 2:return a.yytext=a.yytext.substr(1,a.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return e.lexer=r,e}();typeof _F<"u"&&(t.parser=n,t.parse=n.parse.bind(n))})(pW);const _E=Qo(pW);var mW={exports:{}};(function(t,n){(function(e,r){t.exports=r()})(tf,function(){var e=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(ce,_e){return _e={exports:{}},ce(_e,_e.exports),_e.exports}var i=r(function(ce){function _e(){var Ke=0,Ve=1,Ze=2,bt=3,Gt=4,Lt=5,Un=6,rr=7,qt=8,$n=9,lr=10,gr=11,Mr=12,Dr=13,ur=14,yi=15,be=16,z=17,q=0,Oe=1,st=2,ct=3,wt=4;function Vn(p,Pt){return 55296<=p.charCodeAt(Pt)&&p.charCodeAt(Pt)<=56319&&56320<=p.charCodeAt(Pt+1)&&p.charCodeAt(Pt+1)<=57343}function qn(p,Pt){Pt===void 0&&(Pt=0);var yr=p.charCodeAt(Pt);if(55296<=yr&&yr<=56319&&Pt<p.length-1){var Jn=yr,un=p.charCodeAt(Pt+1);return 56320<=un&&un<=57343?(Jn-55296)*1024+(un-56320)+65536:Jn}if(56320<=yr&&yr<=57343&&Pt>=1){var Jn=p.charCodeAt(Pt-1),un=yr;return 55296<=Jn&&Jn<=56319?(Jn-55296)*1024+(un-56320)+65536:un}return yr}function Qr(p,Pt,yr){var Jn=[p].concat(Pt).concat([yr]),un=Jn[Jn.length-2],pr=yr,Zr=Jn.lastIndexOf(ur);if(Zr>1&&Jn.slice(1,Zr).every(function(Fr){return Fr==bt})&&[bt,Dr,z].indexOf(p)==-1)return st;var ki=Jn.lastIndexOf(Gt);if(ki>0&&Jn.slice(1,ki).every(function(Fr){return Fr==Gt})&&[Mr,Gt].indexOf(un)==-1)return Jn.filter(function(Fr){return Fr==Gt}).length%2==1?ct:wt;if(un==Ke&&pr==Ve)return q;if(un==Ze||un==Ke||un==Ve)return pr==ur&&Pt.every(function(Fr){return Fr==bt})?st:Oe;if(pr==Ze||pr==Ke||pr==Ve)return Oe;if(un==Un&&(pr==Un||pr==rr||pr==$n||pr==lr))return q;if((un==$n||un==rr)&&(pr==rr||pr==qt))return q;if((un==lr||un==qt)&&pr==qt)return q;if(pr==bt||pr==yi)return q;if(pr==Lt)return q;if(un==Mr)return q;var Ai=Jn.indexOf(bt)!=-1?Jn.lastIndexOf(bt)-1:Jn.length-2;return[Dr,z].indexOf(Jn[Ai])!=-1&&Jn.slice(Ai+1,-1).every(function(Fr){return Fr==bt})&&pr==ur||un==yi&&[be,z].indexOf(pr)!=-1?q:Pt.indexOf(Gt)!=-1?st:un==Gt&&pr==Gt?q:Oe}this.nextBreak=function(p,Pt){if(Pt===void 0&&(Pt=0),Pt<0)return 0;if(Pt>=p.length-1)return p.length;for(var yr=It(qn(p,Pt)),Jn=[],un=Pt+1;un<p.length;un++)if(!Vn(p,un-1)){var pr=It(qn(p,un));if(Qr(yr,Jn,pr))return un;Jn.push(pr)}return p.length},this.splitGraphemes=function(p){for(var Pt=[],yr=0,Jn;(Jn=this.nextBreak(p,yr))<p.length;)Pt.push(p.slice(yr,Jn)),yr=Jn;return yr<p.length&&Pt.push(p.slice(yr)),Pt},this.iterateGraphemes=function(p){var Pt=0,yr={next:(function(){var Jn,un;return(un=this.nextBreak(p,Pt))<p.length?(Jn=p.slice(Pt,un),Pt=un,{value:Jn,done:!1}):Pt<p.length?(Jn=p.slice(Pt),Pt=p.length,{value:Jn,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(yr[Symbol.iterator]=function(){return yr}),yr},this.countGraphemes=function(p){for(var Pt=0,yr=0,Jn;(Jn=this.nextBreak(p,yr))<p.length;)yr=Jn,Pt++;return yr<p.length&&Pt++,Pt};function It(p){return 1536<=p&&p<=1541||p==1757||p==1807||p==2274||p==3406||p==69821||70082<=p&&p<=70083||p==72250||72326<=p&&p<=72329||p==73030?Mr:p==13?Ke:p==10?Ve:0<=p&&p<=9||11<=p&&p<=12||14<=p&&p<=31||127<=p&&p<=159||p==173||p==1564||p==6158||p==8203||8206<=p&&p<=8207||p==8232||p==8233||8234<=p&&p<=8238||8288<=p&&p<=8292||p==8293||8294<=p&&p<=8303||55296<=p&&p<=57343||p==65279||65520<=p&&p<=65528||65529<=p&&p<=65531||113824<=p&&p<=113827||119155<=p&&p<=119162||p==917504||p==917505||917506<=p&&p<=917535||917632<=p&&p<=917759||918e3<=p&&p<=921599?Ze:768<=p&&p<=879||1155<=p&&p<=1159||1160<=p&&p<=1161||1425<=p&&p<=1469||p==1471||1473<=p&&p<=1474||1476<=p&&p<=1477||p==1479||1552<=p&&p<=1562||1611<=p&&p<=1631||p==1648||1750<=p&&p<=1756||1759<=p&&p<=1764||1767<=p&&p<=1768||1770<=p&&p<=1773||p==1809||1840<=p&&p<=1866||1958<=p&&p<=1968||2027<=p&&p<=2035||2070<=p&&p<=2073||2075<=p&&p<=2083||2085<=p&&p<=2087||2089<=p&&p<=2093||2137<=p&&p<=2139||2260<=p&&p<=2273||2275<=p&&p<=2306||p==2362||p==2364||2369<=p&&p<=2376||p==2381||2385<=p&&p<=2391||2402<=p&&p<=2403||p==2433||p==2492||p==2494||2497<=p&&p<=2500||p==2509||p==2519||2530<=p&&p<=2531||2561<=p&&p<=2562||p==2620||2625<=p&&p<=2626||2631<=p&&p<=2632||2635<=p&&p<=2637||p==2641||2672<=p&&p<=2673||p==2677||2689<=p&&p<=2690||p==2748||2753<=p&&p<=2757||2759<=p&&p<=2760||p==2765||2786<=p&&p<=2787||2810<=p&&p<=2815||p==2817||p==2876||p==2878||p==2879||2881<=p&&p<=2884||p==2893||p==2902||p==2903||2914<=p&&p<=2915||p==2946||p==3006||p==3008||p==3021||p==3031||p==3072||3134<=p&&p<=3136||3142<=p&&p<=3144||3146<=p&&p<=3149||3157<=p&&p<=3158||3170<=p&&p<=3171||p==3201||p==3260||p==3263||p==3266||p==3270||3276<=p&&p<=3277||3285<=p&&p<=3286||3298<=p&&p<=3299||3328<=p&&p<=3329||3387<=p&&p<=3388||p==3390||3393<=p&&p<=3396||p==3405||p==3415||3426<=p&&p<=3427||p==3530||p==3535||3538<=p&&p<=3540||p==3542||p==3551||p==3633||3636<=p&&p<=3642||3655<=p&&p<=3662||p==3761||3764<=p&&p<=3769||3771<=p&&p<=3772||3784<=p&&p<=3789||3864<=p&&p<=3865||p==3893||p==3895||p==3897||3953<=p&&p<=3966||3968<=p&&p<=3972||3974<=p&&p<=3975||3981<=p&&p<=3991||3993<=p&&p<=4028||p==4038||4141<=p&&p<=4144||4146<=p&&p<=4151||4153<=p&&p<=4154||4157<=p&&p<=4158||4184<=p&&p<=4185||4190<=p&&p<=4192||4209<=p&&p<=4212||p==4226||4229<=p&&p<=4230||p==4237||p==4253||4957<=p&&p<=4959||5906<=p&&p<=5908||5938<=p&&p<=5940||5970<=p&&p<=5971||6002<=p&&p<=6003||6068<=p&&p<=6069||6071<=p&&p<=6077||p==6086||6089<=p&&p<=6099||p==6109||6155<=p&&p<=6157||6277<=p&&p<=6278||p==6313||6432<=p&&p<=6434||6439<=p&&p<=6440||p==6450||6457<=p&&p<=6459||6679<=p&&p<=6680||p==6683||p==6742||6744<=p&&p<=6750||p==6752||p==6754||6757<=p&&p<=6764||6771<=p&&p<=6780||p==6783||6832<=p&&p<=6845||p==6846||6912<=p&&p<=6915||p==6964||6966<=p&&p<=6970||p==6972||p==6978||7019<=p&&p<=7027||7040<=p&&p<=7041||7074<=p&&p<=7077||7080<=p&&p<=7081||7083<=p&&p<=7085||p==7142||7144<=p&&p<=7145||p==7149||7151<=p&&p<=7153||7212<=p&&p<=7219||7222<=p&&p<=7223||7376<=p&&p<=7378||7380<=p&&p<=7392||7394<=p&&p<=7400||p==7405||p==7412||7416<=p&&p<=7417||7616<=p&&p<=7673||7675<=p&&p<=7679||p==8204||8400<=p&&p<=8412||8413<=p&&p<=8416||p==8417||8418<=p&&p<=8420||8421<=p&&p<=8432||11503<=p&&p<=11505||p==11647||11744<=p&&p<=11775||12330<=p&&p<=12333||12334<=p&&p<=12335||12441<=p&&p<=12442||p==42607||42608<=p&&p<=42610||42612<=p&&p<=42621||42654<=p&&p<=42655||42736<=p&&p<=42737||p==43010||p==43014||p==43019||43045<=p&&p<=43046||43204<=p&&p<=43205||43232<=p&&p<=43249||43302<=p&&p<=43309||43335<=p&&p<=43345||43392<=p&&p<=43394||p==43443||43446<=p&&p<=43449||p==43452||p==43493||43561<=p&&p<=43566||43569<=p&&p<=43570||43573<=p&&p<=43574||p==43587||p==43596||p==43644||p==43696||43698<=p&&p<=43700||43703<=p&&p<=43704||43710<=p&&p<=43711||p==43713||43756<=p&&p<=43757||p==43766||p==44005||p==44008||p==44013||p==64286||65024<=p&&p<=65039||65056<=p&&p<=65071||65438<=p&&p<=65439||p==66045||p==66272||66422<=p&&p<=66426||68097<=p&&p<=68099||68101<=p&&p<=68102||68108<=p&&p<=68111||68152<=p&&p<=68154||p==68159||68325<=p&&p<=68326||p==69633||69688<=p&&p<=69702||69759<=p&&p<=69761||69811<=p&&p<=69814||69817<=p&&p<=69818||69888<=p&&p<=69890||69927<=p&&p<=69931||69933<=p&&p<=69940||p==70003||70016<=p&&p<=70017||70070<=p&&p<=70078||70090<=p&&p<=70092||70191<=p&&p<=70193||p==70196||70198<=p&&p<=70199||p==70206||p==70367||70371<=p&&p<=70378||70400<=p&&p<=70401||p==70460||p==70462||p==70464||p==70487||70502<=p&&p<=70508||70512<=p&&p<=70516||70712<=p&&p<=70719||70722<=p&&p<=70724||p==70726||p==70832||70835<=p&&p<=70840||p==70842||p==70845||70847<=p&&p<=70848||70850<=p&&p<=70851||p==71087||71090<=p&&p<=71093||71100<=p&&p<=71101||71103<=p&&p<=71104||71132<=p&&p<=71133||71219<=p&&p<=71226||p==71229||71231<=p&&p<=71232||p==71339||p==71341||71344<=p&&p<=71349||p==71351||71453<=p&&p<=71455||71458<=p&&p<=71461||71463<=p&&p<=71467||72193<=p&&p<=72198||72201<=p&&p<=72202||72243<=p&&p<=72248||72251<=p&&p<=72254||p==72263||72273<=p&&p<=72278||72281<=p&&p<=72283||72330<=p&&p<=72342||72344<=p&&p<=72345||72752<=p&&p<=72758||72760<=p&&p<=72765||p==72767||72850<=p&&p<=72871||72874<=p&&p<=72880||72882<=p&&p<=72883||72885<=p&&p<=72886||73009<=p&&p<=73014||p==73018||73020<=p&&p<=73021||73023<=p&&p<=73029||p==73031||92912<=p&&p<=92916||92976<=p&&p<=92982||94095<=p&&p<=94098||113821<=p&&p<=113822||p==119141||119143<=p&&p<=119145||119150<=p&&p<=119154||119163<=p&&p<=119170||119173<=p&&p<=119179||119210<=p&&p<=119213||119362<=p&&p<=119364||121344<=p&&p<=121398||121403<=p&&p<=121452||p==121461||p==121476||121499<=p&&p<=121503||121505<=p&&p<=121519||122880<=p&&p<=122886||122888<=p&&p<=122904||122907<=p&&p<=122913||122915<=p&&p<=122916||122918<=p&&p<=122922||125136<=p&&p<=125142||125252<=p&&p<=125258||917536<=p&&p<=917631||917760<=p&&p<=917999?bt:127462<=p&&p<=127487?Gt:p==2307||p==2363||2366<=p&&p<=2368||2377<=p&&p<=2380||2382<=p&&p<=2383||2434<=p&&p<=2435||2495<=p&&p<=2496||2503<=p&&p<=2504||2507<=p&&p<=2508||p==2563||2622<=p&&p<=2624||p==2691||2750<=p&&p<=2752||p==2761||2763<=p&&p<=2764||2818<=p&&p<=2819||p==2880||2887<=p&&p<=2888||2891<=p&&p<=2892||p==3007||3009<=p&&p<=3010||3014<=p&&p<=3016||3018<=p&&p<=3020||3073<=p&&p<=3075||3137<=p&&p<=3140||3202<=p&&p<=3203||p==3262||3264<=p&&p<=3265||3267<=p&&p<=3268||3271<=p&&p<=3272||3274<=p&&p<=3275||3330<=p&&p<=3331||3391<=p&&p<=3392||3398<=p&&p<=3400||3402<=p&&p<=3404||3458<=p&&p<=3459||3536<=p&&p<=3537||3544<=p&&p<=3550||3570<=p&&p<=3571||p==3635||p==3763||3902<=p&&p<=3903||p==3967||p==4145||4155<=p&&p<=4156||4182<=p&&p<=4183||p==4228||p==6070||6078<=p&&p<=6085||6087<=p&&p<=6088||6435<=p&&p<=6438||6441<=p&&p<=6443||6448<=p&&p<=6449||6451<=p&&p<=6456||6681<=p&&p<=6682||p==6741||p==6743||6765<=p&&p<=6770||p==6916||p==6965||p==6971||6973<=p&&p<=6977||6979<=p&&p<=6980||p==7042||p==7073||7078<=p&&p<=7079||p==7082||p==7143||7146<=p&&p<=7148||p==7150||7154<=p&&p<=7155||7204<=p&&p<=7211||7220<=p&&p<=7221||p==7393||7410<=p&&p<=7411||p==7415||43043<=p&&p<=43044||p==43047||43136<=p&&p<=43137||43188<=p&&p<=43203||43346<=p&&p<=43347||p==43395||43444<=p&&p<=43445||43450<=p&&p<=43451||43453<=p&&p<=43456||43567<=p&&p<=43568||43571<=p&&p<=43572||p==43597||p==43755||43758<=p&&p<=43759||p==43765||44003<=p&&p<=44004||44006<=p&&p<=44007||44009<=p&&p<=44010||p==44012||p==69632||p==69634||p==69762||69808<=p&&p<=69810||69815<=p&&p<=69816||p==69932||p==70018||70067<=p&&p<=70069||70079<=p&&p<=70080||70188<=p&&p<=70190||70194<=p&&p<=70195||p==70197||70368<=p&&p<=70370||70402<=p&&p<=70403||p==70463||70465<=p&&p<=70468||70471<=p&&p<=70472||70475<=p&&p<=70477||70498<=p&&p<=70499||70709<=p&&p<=70711||70720<=p&&p<=70721||p==70725||70833<=p&&p<=70834||p==70841||70843<=p&&p<=70844||p==70846||p==70849||71088<=p&&p<=71089||71096<=p&&p<=71099||p==71102||71216<=p&&p<=71218||71227<=p&&p<=71228||p==71230||p==71340||71342<=p&&p<=71343||p==71350||71456<=p&&p<=71457||p==71462||72199<=p&&p<=72200||p==72249||72279<=p&&p<=72280||p==72343||p==72751||p==72766||p==72873||p==72881||p==72884||94033<=p&&p<=94078||p==119142||p==119149?Lt:4352<=p&&p<=4447||43360<=p&&p<=43388?Un:4448<=p&&p<=4519||55216<=p&&p<=55238?rr:4520<=p&&p<=4607||55243<=p&&p<=55291?qt:p==44032||p==44060||p==44088||p==44116||p==44144||p==44172||p==44200||p==44228||p==44256||p==44284||p==44312||p==44340||p==44368||p==44396||p==44424||p==44452||p==44480||p==44508||p==44536||p==44564||p==44592||p==44620||p==44648||p==44676||p==44704||p==44732||p==44760||p==44788||p==44816||p==44844||p==44872||p==44900||p==44928||p==44956||p==44984||p==45012||p==45040||p==45068||p==45096||p==45124||p==45152||p==45180||p==45208||p==45236||p==45264||p==45292||p==45320||p==45348||p==45376||p==45404||p==45432||p==45460||p==45488||p==45516||p==45544||p==45572||p==45600||p==45628||p==45656||p==45684||p==45712||p==45740||p==45768||p==45796||p==45824||p==45852||p==45880||p==45908||p==45936||p==45964||p==45992||p==46020||p==46048||p==46076||p==46104||p==46132||p==46160||p==46188||p==46216||p==46244||p==46272||p==46300||p==46328||p==46356||p==46384||p==46412||p==46440||p==46468||p==46496||p==46524||p==46552||p==46580||p==46608||p==46636||p==46664||p==46692||p==46720||p==46748||p==46776||p==46804||p==46832||p==46860||p==46888||p==46916||p==46944||p==46972||p==47e3||p==47028||p==47056||p==47084||p==47112||p==47140||p==47168||p==47196||p==47224||p==47252||p==47280||p==47308||p==47336||p==47364||p==47392||p==47420||p==47448||p==47476||p==47504||p==47532||p==47560||p==47588||p==47616||p==47644||p==47672||p==47700||p==47728||p==47756||p==47784||p==47812||p==47840||p==47868||p==47896||p==47924||p==47952||p==47980||p==48008||p==48036||p==48064||p==48092||p==48120||p==48148||p==48176||p==48204||p==48232||p==48260||p==48288||p==48316||p==48344||p==48372||p==48400||p==48428||p==48456||p==48484||p==48512||p==48540||p==48568||p==48596||p==48624||p==48652||p==48680||p==48708||p==48736||p==48764||p==48792||p==48820||p==48848||p==48876||p==48904||p==48932||p==48960||p==48988||p==49016||p==49044||p==49072||p==49100||p==49128||p==49156||p==49184||p==49212||p==49240||p==49268||p==49296||p==49324||p==49352||p==49380||p==49408||p==49436||p==49464||p==49492||p==49520||p==49548||p==49576||p==49604||p==49632||p==49660||p==49688||p==49716||p==49744||p==49772||p==49800||p==49828||p==49856||p==49884||p==49912||p==49940||p==49968||p==49996||p==50024||p==50052||p==50080||p==50108||p==50136||p==50164||p==50192||p==50220||p==50248||p==50276||p==50304||p==50332||p==50360||p==50388||p==50416||p==50444||p==50472||p==50500||p==50528||p==50556||p==50584||p==50612||p==50640||p==50668||p==50696||p==50724||p==50752||p==50780||p==50808||p==50836||p==50864||p==50892||p==50920||p==50948||p==50976||p==51004||p==51032||p==51060||p==51088||p==51116||p==51144||p==51172||p==51200||p==51228||p==51256||p==51284||p==51312||p==51340||p==51368||p==51396||p==51424||p==51452||p==51480||p==51508||p==51536||p==51564||p==51592||p==51620||p==51648||p==51676||p==51704||p==51732||p==51760||p==51788||p==51816||p==51844||p==51872||p==51900||p==51928||p==51956||p==51984||p==52012||p==52040||p==52068||p==52096||p==52124||p==52152||p==52180||p==52208||p==52236||p==52264||p==52292||p==52320||p==52348||p==52376||p==52404||p==52432||p==52460||p==52488||p==52516||p==52544||p==52572||p==52600||p==52628||p==52656||p==52684||p==52712||p==52740||p==52768||p==52796||p==52824||p==52852||p==52880||p==52908||p==52936||p==52964||p==52992||p==53020||p==53048||p==53076||p==53104||p==53132||p==53160||p==53188||p==53216||p==53244||p==53272||p==53300||p==53328||p==53356||p==53384||p==53412||p==53440||p==53468||p==53496||p==53524||p==53552||p==53580||p==53608||p==53636||p==53664||p==53692||p==53720||p==53748||p==53776||p==53804||p==53832||p==53860||p==53888||p==53916||p==53944||p==53972||p==54e3||p==54028||p==54056||p==54084||p==54112||p==54140||p==54168||p==54196||p==54224||p==54252||p==54280||p==54308||p==54336||p==54364||p==54392||p==54420||p==54448||p==54476||p==54504||p==54532||p==54560||p==54588||p==54616||p==54644||p==54672||p==54700||p==54728||p==54756||p==54784||p==54812||p==54840||p==54868||p==54896||p==54924||p==54952||p==54980||p==55008||p==55036||p==55064||p==55092||p==55120||p==55148||p==55176?$n:44033<=p&&p<=44059||44061<=p&&p<=44087||44089<=p&&p<=44115||44117<=p&&p<=44143||44145<=p&&p<=44171||44173<=p&&p<=44199||44201<=p&&p<=44227||44229<=p&&p<=44255||44257<=p&&p<=44283||44285<=p&&p<=44311||44313<=p&&p<=44339||44341<=p&&p<=44367||44369<=p&&p<=44395||44397<=p&&p<=44423||44425<=p&&p<=44451||44453<=p&&p<=44479||44481<=p&&p<=44507||44509<=p&&p<=44535||44537<=p&&p<=44563||44565<=p&&p<=44591||44593<=p&&p<=44619||44621<=p&&p<=44647||44649<=p&&p<=44675||44677<=p&&p<=44703||44705<=p&&p<=44731||44733<=p&&p<=44759||44761<=p&&p<=44787||44789<=p&&p<=44815||44817<=p&&p<=44843||44845<=p&&p<=44871||44873<=p&&p<=44899||44901<=p&&p<=44927||44929<=p&&p<=44955||44957<=p&&p<=44983||44985<=p&&p<=45011||45013<=p&&p<=45039||45041<=p&&p<=45067||45069<=p&&p<=45095||45097<=p&&p<=45123||45125<=p&&p<=45151||45153<=p&&p<=45179||45181<=p&&p<=45207||45209<=p&&p<=45235||45237<=p&&p<=45263||45265<=p&&p<=45291||45293<=p&&p<=45319||45321<=p&&p<=45347||45349<=p&&p<=45375||45377<=p&&p<=45403||45405<=p&&p<=45431||45433<=p&&p<=45459||45461<=p&&p<=45487||45489<=p&&p<=45515||45517<=p&&p<=45543||45545<=p&&p<=45571||45573<=p&&p<=45599||45601<=p&&p<=45627||45629<=p&&p<=45655||45657<=p&&p<=45683||45685<=p&&p<=45711||45713<=p&&p<=45739||45741<=p&&p<=45767||45769<=p&&p<=45795||45797<=p&&p<=45823||45825<=p&&p<=45851||45853<=p&&p<=45879||45881<=p&&p<=45907||45909<=p&&p<=45935||45937<=p&&p<=45963||45965<=p&&p<=45991||45993<=p&&p<=46019||46021<=p&&p<=46047||46049<=p&&p<=46075||46077<=p&&p<=46103||46105<=p&&p<=46131||46133<=p&&p<=46159||46161<=p&&p<=46187||46189<=p&&p<=46215||46217<=p&&p<=46243||46245<=p&&p<=46271||46273<=p&&p<=46299||46301<=p&&p<=46327||46329<=p&&p<=46355||46357<=p&&p<=46383||46385<=p&&p<=46411||46413<=p&&p<=46439||46441<=p&&p<=46467||46469<=p&&p<=46495||46497<=p&&p<=46523||46525<=p&&p<=46551||46553<=p&&p<=46579||46581<=p&&p<=46607||46609<=p&&p<=46635||46637<=p&&p<=46663||46665<=p&&p<=46691||46693<=p&&p<=46719||46721<=p&&p<=46747||46749<=p&&p<=46775||46777<=p&&p<=46803||46805<=p&&p<=46831||46833<=p&&p<=46859||46861<=p&&p<=46887||46889<=p&&p<=46915||46917<=p&&p<=46943||46945<=p&&p<=46971||46973<=p&&p<=46999||47001<=p&&p<=47027||47029<=p&&p<=47055||47057<=p&&p<=47083||47085<=p&&p<=47111||47113<=p&&p<=47139||47141<=p&&p<=47167||47169<=p&&p<=47195||47197<=p&&p<=47223||47225<=p&&p<=47251||47253<=p&&p<=47279||47281<=p&&p<=47307||47309<=p&&p<=47335||47337<=p&&p<=47363||47365<=p&&p<=47391||47393<=p&&p<=47419||47421<=p&&p<=47447||47449<=p&&p<=47475||47477<=p&&p<=47503||47505<=p&&p<=47531||47533<=p&&p<=47559||47561<=p&&p<=47587||47589<=p&&p<=47615||47617<=p&&p<=47643||47645<=p&&p<=47671||47673<=p&&p<=47699||47701<=p&&p<=47727||47729<=p&&p<=47755||47757<=p&&p<=47783||47785<=p&&p<=47811||47813<=p&&p<=47839||47841<=p&&p<=47867||47869<=p&&p<=47895||47897<=p&&p<=47923||47925<=p&&p<=47951||47953<=p&&p<=47979||47981<=p&&p<=48007||48009<=p&&p<=48035||48037<=p&&p<=48063||48065<=p&&p<=48091||48093<=p&&p<=48119||48121<=p&&p<=48147||48149<=p&&p<=48175||48177<=p&&p<=48203||48205<=p&&p<=48231||48233<=p&&p<=48259||48261<=p&&p<=48287||48289<=p&&p<=48315||48317<=p&&p<=48343||48345<=p&&p<=48371||48373<=p&&p<=48399||48401<=p&&p<=48427||48429<=p&&p<=48455||48457<=p&&p<=48483||48485<=p&&p<=48511||48513<=p&&p<=48539||48541<=p&&p<=48567||48569<=p&&p<=48595||48597<=p&&p<=48623||48625<=p&&p<=48651||48653<=p&&p<=48679||48681<=p&&p<=48707||48709<=p&&p<=48735||48737<=p&&p<=48763||48765<=p&&p<=48791||48793<=p&&p<=48819||48821<=p&&p<=48847||48849<=p&&p<=48875||48877<=p&&p<=48903||48905<=p&&p<=48931||48933<=p&&p<=48959||48961<=p&&p<=48987||48989<=p&&p<=49015||49017<=p&&p<=49043||49045<=p&&p<=49071||49073<=p&&p<=49099||49101<=p&&p<=49127||49129<=p&&p<=49155||49157<=p&&p<=49183||49185<=p&&p<=49211||49213<=p&&p<=49239||49241<=p&&p<=49267||49269<=p&&p<=49295||49297<=p&&p<=49323||49325<=p&&p<=49351||49353<=p&&p<=49379||49381<=p&&p<=49407||49409<=p&&p<=49435||49437<=p&&p<=49463||49465<=p&&p<=49491||49493<=p&&p<=49519||49521<=p&&p<=49547||49549<=p&&p<=49575||49577<=p&&p<=49603||49605<=p&&p<=49631||49633<=p&&p<=49659||49661<=p&&p<=49687||49689<=p&&p<=49715||49717<=p&&p<=49743||49745<=p&&p<=49771||49773<=p&&p<=49799||49801<=p&&p<=49827||49829<=p&&p<=49855||49857<=p&&p<=49883||49885<=p&&p<=49911||49913<=p&&p<=49939||49941<=p&&p<=49967||49969<=p&&p<=49995||49997<=p&&p<=50023||50025<=p&&p<=50051||50053<=p&&p<=50079||50081<=p&&p<=50107||50109<=p&&p<=50135||50137<=p&&p<=50163||50165<=p&&p<=50191||50193<=p&&p<=50219||50221<=p&&p<=50247||50249<=p&&p<=50275||50277<=p&&p<=50303||50305<=p&&p<=50331||50333<=p&&p<=50359||50361<=p&&p<=50387||50389<=p&&p<=50415||50417<=p&&p<=50443||50445<=p&&p<=50471||50473<=p&&p<=50499||50501<=p&&p<=50527||50529<=p&&p<=50555||50557<=p&&p<=50583||50585<=p&&p<=50611||50613<=p&&p<=50639||50641<=p&&p<=50667||50669<=p&&p<=50695||50697<=p&&p<=50723||50725<=p&&p<=50751||50753<=p&&p<=50779||50781<=p&&p<=50807||50809<=p&&p<=50835||50837<=p&&p<=50863||50865<=p&&p<=50891||50893<=p&&p<=50919||50921<=p&&p<=50947||50949<=p&&p<=50975||50977<=p&&p<=51003||51005<=p&&p<=51031||51033<=p&&p<=51059||51061<=p&&p<=51087||51089<=p&&p<=51115||51117<=p&&p<=51143||51145<=p&&p<=51171||51173<=p&&p<=51199||51201<=p&&p<=51227||51229<=p&&p<=51255||51257<=p&&p<=51283||51285<=p&&p<=51311||51313<=p&&p<=51339||51341<=p&&p<=51367||51369<=p&&p<=51395||51397<=p&&p<=51423||51425<=p&&p<=51451||51453<=p&&p<=51479||51481<=p&&p<=51507||51509<=p&&p<=51535||51537<=p&&p<=51563||51565<=p&&p<=51591||51593<=p&&p<=51619||51621<=p&&p<=51647||51649<=p&&p<=51675||51677<=p&&p<=51703||51705<=p&&p<=51731||51733<=p&&p<=51759||51761<=p&&p<=51787||51789<=p&&p<=51815||51817<=p&&p<=51843||51845<=p&&p<=51871||51873<=p&&p<=51899||51901<=p&&p<=51927||51929<=p&&p<=51955||51957<=p&&p<=51983||51985<=p&&p<=52011||52013<=p&&p<=52039||52041<=p&&p<=52067||52069<=p&&p<=52095||52097<=p&&p<=52123||52125<=p&&p<=52151||52153<=p&&p<=52179||52181<=p&&p<=52207||52209<=p&&p<=52235||52237<=p&&p<=52263||52265<=p&&p<=52291||52293<=p&&p<=52319||52321<=p&&p<=52347||52349<=p&&p<=52375||52377<=p&&p<=52403||52405<=p&&p<=52431||52433<=p&&p<=52459||52461<=p&&p<=52487||52489<=p&&p<=52515||52517<=p&&p<=52543||52545<=p&&p<=52571||52573<=p&&p<=52599||52601<=p&&p<=52627||52629<=p&&p<=52655||52657<=p&&p<=52683||52685<=p&&p<=52711||52713<=p&&p<=52739||52741<=p&&p<=52767||52769<=p&&p<=52795||52797<=p&&p<=52823||52825<=p&&p<=52851||52853<=p&&p<=52879||52881<=p&&p<=52907||52909<=p&&p<=52935||52937<=p&&p<=52963||52965<=p&&p<=52991||52993<=p&&p<=53019||53021<=p&&p<=53047||53049<=p&&p<=53075||53077<=p&&p<=53103||53105<=p&&p<=53131||53133<=p&&p<=53159||53161<=p&&p<=53187||53189<=p&&p<=53215||53217<=p&&p<=53243||53245<=p&&p<=53271||53273<=p&&p<=53299||53301<=p&&p<=53327||53329<=p&&p<=53355||53357<=p&&p<=53383||53385<=p&&p<=53411||53413<=p&&p<=53439||53441<=p&&p<=53467||53469<=p&&p<=53495||53497<=p&&p<=53523||53525<=p&&p<=53551||53553<=p&&p<=53579||53581<=p&&p<=53607||53609<=p&&p<=53635||53637<=p&&p<=53663||53665<=p&&p<=53691||53693<=p&&p<=53719||53721<=p&&p<=53747||53749<=p&&p<=53775||53777<=p&&p<=53803||53805<=p&&p<=53831||53833<=p&&p<=53859||53861<=p&&p<=53887||53889<=p&&p<=53915||53917<=p&&p<=53943||53945<=p&&p<=53971||53973<=p&&p<=53999||54001<=p&&p<=54027||54029<=p&&p<=54055||54057<=p&&p<=54083||54085<=p&&p<=54111||54113<=p&&p<=54139||54141<=p&&p<=54167||54169<=p&&p<=54195||54197<=p&&p<=54223||54225<=p&&p<=54251||54253<=p&&p<=54279||54281<=p&&p<=54307||54309<=p&&p<=54335||54337<=p&&p<=54363||54365<=p&&p<=54391||54393<=p&&p<=54419||54421<=p&&p<=54447||54449<=p&&p<=54475||54477<=p&&p<=54503||54505<=p&&p<=54531||54533<=p&&p<=54559||54561<=p&&p<=54587||54589<=p&&p<=54615||54617<=p&&p<=54643||54645<=p&&p<=54671||54673<=p&&p<=54699||54701<=p&&p<=54727||54729<=p&&p<=54755||54757<=p&&p<=54783||54785<=p&&p<=54811||54813<=p&&p<=54839||54841<=p&&p<=54867||54869<=p&&p<=54895||54897<=p&&p<=54923||54925<=p&&p<=54951||54953<=p&&p<=54979||54981<=p&&p<=55007||55009<=p&&p<=55035||55037<=p&&p<=55063||55065<=p&&p<=55091||55093<=p&&p<=55119||55121<=p&&p<=55147||55149<=p&&p<=55175||55177<=p&&p<=55203?lr:p==9757||p==9977||9994<=p&&p<=9997||p==127877||127938<=p&&p<=127940||p==127943||127946<=p&&p<=127948||128066<=p&&p<=128067||128070<=p&&p<=128080||p==128110||128112<=p&&p<=128120||p==128124||128129<=p&&p<=128131||128133<=p&&p<=128135||p==128170||128372<=p&&p<=128373||p==128378||p==128400||128405<=p&&p<=128406||128581<=p&&p<=128583||128587<=p&&p<=128591||p==128675||128692<=p&&p<=128694||p==128704||p==128716||129304<=p&&p<=129308||129310<=p&&p<=129311||p==129318||129328<=p&&p<=129337||129341<=p&&p<=129342||129489<=p&&p<=129501?Dr:127995<=p&&p<=127999?ur:p==8205?yi:p==9792||p==9794||9877<=p&&p<=9878||p==9992||p==10084||p==127752||p==127806||p==127859||p==127891||p==127908||p==127912||p==127979||p==127981||p==128139||128187<=p&&p<=128188||p==128295||p==128300||p==128488||p==128640||p==128658?be:128102<=p&&p<=128105?z:gr}return this}ce.exports&&(ce.exports=_e)}),o=new i,s=function(_e,Ke,Ve){for(var Ze=o.iterateGraphemes(_e.substring(Ke)),bt="",Gt=0;Gt<Ve-Ke;Gt++){var Lt=Ze.next();if(bt+=Lt.value,Lt.done)break}return bt},a=function(ce,_e,Ke,Ve,Ze,bt,Gt){return{start:{line:ce,column:_e,offset:Ke},end:{line:Ve,column:Ze,offset:bt},source:Gt||null}},f=r(function(ce,_e){(function(Ke,Ve){ce.exports=Ve()})(e,function(){var Ke="",Ve,Ze=bt;function bt(lr,gr){if(typeof lr!="string")throw new TypeError("expected a string");if(gr===1)return lr;if(gr===2)return lr+lr;var Mr=lr.length*gr;if(Ve!==lr||typeof Ve>"u")Ve=lr,Ke="";else if(Ke.length>=Mr)return Ke.substr(0,Mr);for(;Mr>Ke.length&&gr>1;)gr&1&&(Ke+=lr),gr>>=1,lr+=lr;return Ke+=lr,Ke=Ke.substr(0,Mr),Ke}var Gt=function(gr,Mr,Dr){if(gr==null||Mr==null)return gr;var ur=String(gr),yi=typeof Mr=="number"?Mr:parseInt(Mr,10);if(isNaN(yi)||!isFinite(yi))return ur;var be=ur.length;if(be>=yi)return ur;var z=Dr==null?"":String(Dr);z===""&&(z=" ");for(var q=yi-be;z.length<q;)z+=z;var Oe=z.length>q?z.substr(0,q):z;return Oe+ur},Lt=Object.assign||function(lr){for(var gr=1;gr<arguments.length;gr++){var Mr=arguments[gr];for(var Dr in Mr)Object.prototype.hasOwnProperty.call(Mr,Dr)&&(lr[Dr]=Mr[Dr])}return lr};function Un(lr,gr,Mr,Dr){var ur=String(gr),yi=Gt(ur,Mr," "),be=Ze(" ",Dr.tabSize);return yi+" | "+lr.replace(/\t/g,be)}function rr(lr,gr,Mr,Dr,ur){return lr.slice(gr,Mr).map(function(yi,be){return Un(yi,gr+be+1,Dr,ur)}).join(`
`)}var qt={extraLines:2,tabSize:4},$n=function(gr,Mr,Dr,ur){ur=Lt({},qt,ur);var yi=gr.split(/\r\n?|\n|\f/),be=Math.max(1,Mr-ur.extraLines)-1,z=Math.min(Mr+ur.extraLines,yi.length),q=String(z).length,Oe=rr(yi,be,Mr,q,ur),st=Un(yi[Mr-1].substring(0,Dr-1),Mr,q,ur),ct=Ze(" ",st.length)+"^",wt=rr(yi,Mr,z,q,ur);return[Oe,ct,wt].filter(Boolean).join(`
`)};return $n})}),g=new Error().stack,x=function(ce){var _e=Object.create(SyntaxError.prototype);return Object.assign(_e,ce,{name:"SyntaxError"}),Object.defineProperty(_e,"stack",{get:function(){return g?g.replace(/^(.+\n){1,3}/,String(_e)+`
`):""}}),_e},I=function(ce,_e,Ke,Ve,Ze){throw x({message:Ve?ce+`
`+f(_e,Ve,Ze):ce,rawMessage:ce,source:Ke,line:Ve,column:Ze})},B={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(_e){for(var Ke=arguments.length,Ve=Array(Ke>1?Ke-1:0),Ze=1;Ze<Ke;Ze++)Ve[Ze-1]=arguments[Ze];return"Unexpected token <"+_e+"> at "+Ve.filter(Boolean).join(":")}},D={unexpectedSymbol:function(_e){for(var Ke=arguments.length,Ve=Array(Ke>1?Ke-1:0),Ze=1;Ze<Ke;Ze++)Ve[Ze-1]=arguments[Ze];return"Unexpected symbol <"+_e+"> at "+Ve.filter(Boolean).join(":")}},L={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},V={"{":L.LEFT_BRACE,"}":L.RIGHT_BRACE,"[":L.LEFT_BRACKET,"]":L.RIGHT_BRACKET,":":L.COLON,",":L.COMMA},W={true:L.TRUE,false:L.FALSE,null:L.NULL},j={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},G={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},ee={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function re(ce){return ce>="1"&&ce<="9"}function se(ce){return ce>="0"&&ce<="9"}function oe(ce){return se(ce)||ce>="a"&&ce<="f"||ce>="A"&&ce<="F"}function ue(ce){return ce==="e"||ce==="E"}function me(ce,_e,Ke,Ve){var Ze=ce.charAt(_e);if(Ze==="\r")_e++,Ke++,Ve=1,ce.charAt(_e)===`
`&&_e++;else if(Ze===`
`)_e++,Ke++,Ve=1;else if(Ze==="	"||Ze===" ")_e++,Ve++;else return null;return{index:_e,line:Ke,column:Ve}}function De(ce,_e,Ke,Ve){var Ze=ce.charAt(_e);return Ze in V?{type:V[Ze],line:Ke,column:Ve+1,index:_e+1,value:null}:null}function Re(ce,_e,Ke,Ve){for(var Ze in W)if(W.hasOwnProperty(Ze)&&ce.substr(_e,Ze.length)===Ze)return{type:W[Ze],line:Ke,column:Ve+Ze.length,index:_e+Ze.length,value:Ze};return null}function et(ce,_e,Ke,Ve){for(var Ze=_e,bt=j._START_;_e<ce.length;){var Gt=ce.charAt(_e);switch(bt){case j._START_:{if(Gt==='"')_e++,bt=j.START_QUOTE_OR_CHAR;else return null;break}case j.START_QUOTE_OR_CHAR:{if(Gt==="\\")_e++,bt=j.ESCAPE;else{if(Gt==='"')return _e++,{type:L.STRING,line:Ke,column:Ve+_e-Ze,index:_e,value:ce.slice(Ze,_e)};_e++}break}case j.ESCAPE:{if(Gt in G){if(_e++,Gt==="u")for(var Lt=0;Lt<4;Lt++){var Un=ce.charAt(_e);if(Un&&oe(Un))_e++;else return null}bt=j.START_QUOTE_OR_CHAR}else return null;break}}}}function ht(ce,_e,Ke,Ve){var Ze=_e,bt=_e,Gt=ee._START_;e:for(;_e<ce.length;){var Lt=ce.charAt(_e);switch(Gt){case ee._START_:{if(Lt==="-")Gt=ee.MINUS;else if(Lt==="0")bt=_e+1,Gt=ee.ZERO;else if(re(Lt))bt=_e+1,Gt=ee.DIGIT;else return null;break}case ee.MINUS:{if(Lt==="0")bt=_e+1,Gt=ee.ZERO;else if(re(Lt))bt=_e+1,Gt=ee.DIGIT;else return null;break}case ee.ZERO:{if(Lt===".")Gt=ee.POINT;else if(ue(Lt))Gt=ee.EXP;else break e;break}case ee.DIGIT:{if(se(Lt))bt=_e+1;else if(Lt===".")Gt=ee.POINT;else if(ue(Lt))Gt=ee.EXP;else break e;break}case ee.POINT:{if(se(Lt))bt=_e+1,Gt=ee.DIGIT_FRACTION;else break e;break}case ee.DIGIT_FRACTION:{if(se(Lt))bt=_e+1;else if(ue(Lt))Gt=ee.EXP;else break e;break}case ee.EXP:{if(Lt==="+"||Lt==="-")Gt=ee.EXP_DIGIT_OR_SIGN;else if(se(Lt))bt=_e+1,Gt=ee.EXP_DIGIT_OR_SIGN;else break e;break}case ee.EXP_DIGIT_OR_SIGN:{if(se(Lt))bt=_e+1;else break e;break}}_e++}return bt>0?{type:L.NUMBER,line:Ke,column:Ve+bt-Ze,index:bt,value:ce.slice(Ze,bt)}:null}var ke=function(_e,Ke){for(var Ve=1,Ze=1,bt=0,Gt=[];bt<_e.length;){var Lt=[_e,bt,Ve,Ze],Un=me.apply(void 0,Lt);if(Un){bt=Un.index,Ve=Un.line,Ze=Un.column;continue}var rr=De.apply(void 0,Lt)||Re.apply(void 0,Lt)||et.apply(void 0,Lt)||ht.apply(void 0,Lt);if(rr){var qt={type:rr.type,value:rr.value,loc:a(Ve,Ze,bt,rr.line,rr.column,rr.index,Ke.source)};Gt.push(qt),bt=rr.index,Ve=rr.line,Ze=rr.column}else I(D.unexpectedSymbol(s(_e,bt,bt+1),Ke.source,Ve,Ze),_e,Ke.source,Ve,Ze)}return Gt},Je={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},ve={_START_:0,KEY:1,COLON:2},ft={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},Ft={loc:!0,source:null};function tn(ce,_e,Ke){var Ve=_e.length>0?_e[_e.length-1].loc.end:{line:1,column:1};I(B.unexpectedEnd(),ce,Ke.source,Ve.line,Ve.column)}function St(ce){for(var _e=0,Ke=0;Ke<4;Ke++)_e=_e*16+parseInt(ce[Ke],16);return String.fromCharCode(_e)}var Ne={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},qe=['"',"\\","/"];function tt(ce){for(var _e="",Ke=0;Ke<ce.length;Ke++){var Ve=ce.charAt(Ke);if(Ve==="\\"){Ke++;var Ze=ce.charAt(Ke);if(Ze==="u")_e+=St(ce.substr(Ke+1,4)),Ke+=4;else if(qe.indexOf(Ze)!==-1)_e+=Ze;else if(Ze in Ne)_e+=Ne[Ze];else break}else _e+=Ve}return _e}function Jt(ce,_e,Ke,Ve){for(var Ze=void 0,bt={type:"Object",children:[]},Gt=Je._START_;Ke<_e.length;){var Lt=_e[Ke];switch(Gt){case Je._START_:{if(Lt.type===L.LEFT_BRACE)Ze=Lt,Gt=Je.OPEN_OBJECT,Ke++;else return null;break}case Je.OPEN_OBJECT:{if(Lt.type===L.RIGHT_BRACE)return Ve.loc&&(bt.loc=a(Ze.loc.start.line,Ze.loc.start.column,Ze.loc.start.offset,Lt.loc.end.line,Lt.loc.end.column,Lt.loc.end.offset,Ve.source)),{value:bt,index:Ke+1};var Un=dt(ce,_e,Ke,Ve);bt.children.push(Un.value),Gt=Je.PROPERTY,Ke=Un.index;break}case Je.PROPERTY:{if(Lt.type===L.RIGHT_BRACE)return Ve.loc&&(bt.loc=a(Ze.loc.start.line,Ze.loc.start.column,Ze.loc.start.offset,Lt.loc.end.line,Lt.loc.end.column,Lt.loc.end.offset,Ve.source)),{value:bt,index:Ke+1};Lt.type===L.COMMA?(Gt=Je.COMMA,Ke++):I(B.unexpectedToken(s(ce,Lt.loc.start.offset,Lt.loc.end.offset),Ve.source,Lt.loc.start.line,Lt.loc.start.column),ce,Ve.source,Lt.loc.start.line,Lt.loc.start.column);break}case Je.COMMA:{var rr=dt(ce,_e,Ke,Ve);rr?(Ke=rr.index,bt.children.push(rr.value),Gt=Je.PROPERTY):I(B.unexpectedToken(s(ce,Lt.loc.start.offset,Lt.loc.end.offset),Ve.source,Lt.loc.start.line,Lt.loc.start.column),ce,Ve.source,Lt.loc.start.line,Lt.loc.start.column);break}}}tn(ce,_e,Ve)}function dt(ce,_e,Ke,Ve){for(var Ze=void 0,bt={type:"Property",key:null,value:null},Gt=ve._START_;Ke<_e.length;){var Lt=_e[Ke];switch(Gt){case ve._START_:{if(Lt.type===L.STRING){var Un={type:"Identifier",value:tt(ce.slice(Lt.loc.start.offset+1,Lt.loc.end.offset-1)),raw:Lt.value};Ve.loc&&(Un.loc=Lt.loc),Ze=Lt,bt.key=Un,Gt=ve.KEY,Ke++}else return null;break}case ve.KEY:{Lt.type===L.COLON?(Gt=ve.COLON,Ke++):I(B.unexpectedToken(s(ce,Lt.loc.start.offset,Lt.loc.end.offset),Ve.source,Lt.loc.start.line,Lt.loc.start.column),ce,Ve.source,Lt.loc.start.line,Lt.loc.start.column);break}case ve.COLON:{var rr=Kt(ce,_e,Ke,Ve);return bt.value=rr.value,Ve.loc&&(bt.loc=a(Ze.loc.start.line,Ze.loc.start.column,Ze.loc.start.offset,rr.value.loc.end.line,rr.value.loc.end.column,rr.value.loc.end.offset,Ve.source)),{value:bt,index:rr.index}}}}}function ot(ce,_e,Ke,Ve){for(var Ze=void 0,bt={type:"Array",children:[]},Gt=ft._START_,Lt=void 0;Ke<_e.length;)switch(Lt=_e[Ke],Gt){case ft._START_:{if(Lt.type===L.LEFT_BRACKET)Ze=Lt,Gt=ft.OPEN_ARRAY,Ke++;else return null;break}case ft.OPEN_ARRAY:{if(Lt.type===L.RIGHT_BRACKET)return Ve.loc&&(bt.loc=a(Ze.loc.start.line,Ze.loc.start.column,Ze.loc.start.offset,Lt.loc.end.line,Lt.loc.end.column,Lt.loc.end.offset,Ve.source)),{value:bt,index:Ke+1};var Un=Kt(ce,_e,Ke,Ve);Ke=Un.index,bt.children.push(Un.value),Gt=ft.VALUE;break}case ft.VALUE:{if(Lt.type===L.RIGHT_BRACKET)return Ve.loc&&(bt.loc=a(Ze.loc.start.line,Ze.loc.start.column,Ze.loc.start.offset,Lt.loc.end.line,Lt.loc.end.column,Lt.loc.end.offset,Ve.source)),{value:bt,index:Ke+1};Lt.type===L.COMMA?(Gt=ft.COMMA,Ke++):I(B.unexpectedToken(s(ce,Lt.loc.start.offset,Lt.loc.end.offset),Ve.source,Lt.loc.start.line,Lt.loc.start.column),ce,Ve.source,Lt.loc.start.line,Lt.loc.start.column);break}case ft.COMMA:{var rr=Kt(ce,_e,Ke,Ve);Ke=rr.index,bt.children.push(rr.value),Gt=ft.VALUE;break}}tn(ce,_e,Ve)}function Et(ce,_e,Ke,Ve){var Ze=_e[Ke],bt=null;switch(Ze.type){case L.STRING:{bt=tt(ce.slice(Ze.loc.start.offset+1,Ze.loc.end.offset-1));break}case L.NUMBER:{bt=Number(Ze.value);break}case L.TRUE:{bt=!0;break}case L.FALSE:{bt=!1;break}case L.NULL:{bt=null;break}default:return null}var Gt={type:"Literal",value:bt,raw:Ze.value};return Ve.loc&&(Gt.loc=Ze.loc),{value:Gt,index:Ke+1}}function Kt(ce,_e,Ke,Ve){var Ze=_e[Ke],bt=Et.apply(void 0,arguments)||Jt.apply(void 0,arguments)||ot.apply(void 0,arguments);if(bt)return bt;I(B.unexpectedToken(s(ce,Ze.loc.start.offset,Ze.loc.end.offset),Ve.source,Ze.loc.start.line,Ze.loc.start.column),ce,Ve.source,Ze.loc.start.line,Ze.loc.start.column)}var xe=function(ce,_e){_e=Object.assign({},Ft,_e);var Ke=ke(ce,_e);Ke.length===0&&tn(ce,Ke,_e);var Ve=Kt(ce,Ke,0,_e);if(Ve.index===Ke.length)return Ve.value;var Ze=Ke[Ve.index];I(B.unexpectedToken(s(ce,Ze.loc.start.offset,Ze.loc.end.offset),_e.source,Ze.loc.start.line,Ze.loc.start.column),ce,_e.source,Ze.loc.start.line,Ze.loc.start.column)};return xe})})(mW);var Wme=mW.exports;const Nme=Qo(Wme);function vn(){var t="/workspaces/maputnik/src/libs/codemirror-mgl.ts",n="37765814f383d508239975db7885da9eb301d98e",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,gBAAe;AAKnC,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,SAAS;AAAA,MACtB,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37765814f383d508239975db7885da9eb301d98e"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return vn=function(){return s},s}vn();vn().s[0]++;Ic.defineMode("mgl",(t,n)=>(vn().f[0]++,vn().s[1]++,Ic.modes.javascript({...t,json:!0},n)));vn().s[2]++;Ic.registerHelper("lint","json",t=>{vn().f[1]++;const n=(vn().s[3]++,[]);vn().s[4]++,_E.parser.parseError=(e,r)=>{vn().f[2]++;const i=(vn().s[5]++,r.loc);vn().s[6]++,n.push({from:Ic.Pos(i.first_line-1,i.first_column),to:Ic.Pos(i.last_line-1,i.last_column),message:e})},vn().s[7]++;try{vn().s[8]++,_E.parse(t)}catch{}return vn().s[9]++,n});vn().s[10]++;Ic.registerHelper("lint","mgl",(t,n,e)=>{vn().f[3]++;const r=(vn().s[11]++,[]),{parser:i}=(vn().s[12]++,_E),{context:o}=(vn().s[13]++,n);vn().s[14]++,i.parseError=(x,I)=>{vn().f[4]++;const B=(vn().s[15]++,I.loc);vn().s[16]++,r.push({from:Ic.Pos(B.first_line-1,B.first_column),to:Ic.Pos(B.last_line-1,B.last_column),message:x})},vn().s[17]++;try{vn().s[18]++,i.parse(t)}catch{}if(vn().s[19]++,r.length>0)return vn().b[0][0]++,vn().s[20]++,r;vn().b[0][1]++;const s=(vn().s[21]++,Nme(t)),a=(vn().s[22]++,JSON.parse(t));function f(x,I){if(vn().f[5]++,vn().s[23]++,x){if(vn().b[1][1]++,vn().s[25]++,I.length<1)return vn().b[2][0]++,vn().s[26]++,x;if(vn().b[2][1]++,vn().s[27]++,x.children){vn().b[3][1]++;const B=(vn().s[29]++,I[0]);let D;return vn().s[30]++,B.match(/^[0-9]+$/)?(vn().b[4][0]++,vn().s[31]++,D=x.children[I[0]]):(vn().b[4][1]++,vn().s[32]++,D=x.children.find(L=>(vn().f[6]++,vn().s[33]++,vn().b[5][0]++,L.key&&(vn().b[5][1]++,L.key.type==="Identifier")&&(vn().b[5][2]++,L.key.value===B))),vn().s[34]++,D?(vn().b[6][0]++,vn().s[35]++,D=D.value):vn().b[6][1]++),vn().s[36]++,f(D,I.slice(1))}else{vn().b[3][0]++,vn().s[28]++;return}}else{vn().b[1][0]++,vn().s[24]++;return}}let g=(vn().s[37]++,null);if(vn().s[38]++,o==="layer"){vn().b[7][0]++;const x=(vn().s[39]++,KL({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[a]}));vn().s[40]++,x?(vn().b[8][0]++,vn().s[41]++,g={result:"error",value:x.filter(I=>(vn().f[7]++,vn().s[42]++,!I.message.match(/^layers\[0\]: source ".*" not found$/))).map(I=>{vn().f[8]++;const B=(vn().s[43]++,I.message.replace(/^layers\[0\]./,"").split(":"));return vn().s[44]++,{name:"",key:B[0],message:B[1]}})}):vn().b[8][1]++}else if(vn().b[7][1]++,vn().s[45]++,o==="expression")vn().b[9][0]++,vn().s[46]++,g=Zee.createExpression(a,n.spec);else throw vn().b[9][1]++,vn().s[47]++,new Error(`Invalid context ${o}`);if(vn().s[48]++,(g==null?void 0:g.result)==="error"){vn().b[10][0]++;const x=(vn().s[49]++,g.value);vn().s[50]++,x.forEach(I=>{vn().f[9]++;const{key:B,message:D}=(vn().s[51]++,I);if(vn().s[52]++,B)if(vn().b[11][1]++,vn().s[56]++,B){vn().b[12][0]++;const L=(vn().s[57]++,B.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),V=(vn().s[58]++,f(s,L));if(vn().s[59]++,V)vn().b[13][1]++;else{vn().b[13][0]++,vn().s[60]++,console.warn("Something went wrong parsing error:",I),vn().s[61]++;return}const{loc:W}=(vn().s[62]++,V),{start:j,end:G}=(vn().s[63]++,W);vn().s[64]++,r.push({from:Ic.Pos(j.line-1,j.column),to:Ic.Pos(G.line-1,G.column),message:D})}else vn().b[12][1]++;else{vn().b[11][0]++;const L=(vn().s[53]++,e.getLineHandle(e.lastLine())),V=(vn().s[54]++,{from:Ic.Pos(e.firstLine(),0),to:Ic.Pos(e.lastLine(),L.text.length),message:D});vn().s[55]++,r.push(V)}})}else vn().b[10][1]++;return vn().s[65]++,r});function Sn(){var t="/workspaces/maputnik/src/components/InputJson.tsx",n="4e773c8489b0d1ce34a45ab6b2fced86e992e3eb",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:28,column:3}},1:{start:{line:18,column:6},end:{line:18,column:65}},2:{start:{line:31,column:8},end:{line:31,column:12}},3:{start:{line:32,column:22},end:{line:32,column:27}},4:{start:{line:34,column:4},end:{line:34,column:17}},5:{start:{line:35,column:4},end:{line:35,column:32}},6:{start:{line:36,column:4},end:{line:40,column:6}},7:{start:{line:43,column:4},end:{line:59,column:7}},8:{start:{line:60,column:4},end:{line:60,column:42}},9:{start:{line:61,column:4},end:{line:61,column:40}},10:{start:{line:62,column:4},end:{line:62,column:38}},11:{start:{line:64,column:18},end:{line:66,column:3}},12:{start:{line:65,column:4},end:{line:65,column:31}},13:{start:{line:67,column:12},end:{line:74,column:3}},14:{start:{line:68,column:4},end:{line:69,column:27}},15:{start:{line:69,column:6},end:{line:69,column:27}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:83,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:78,column:26}},20:{start:{line:78,column:6},end:{line:78,column:26}},21:{start:{line:79,column:4},end:{line:82,column:7}},22:{start:{line:85,column:4},end:{line:85,column:43}},23:{start:{line:86,column:4},end:{line:86,column:41}},24:{start:{line:87,column:4},end:{line:87,column:39}},25:{start:{line:90,column:4},end:{line:95,column:5}},26:{start:{line:91,column:6},end:{line:91,column:36}},27:{start:{line:92,column:6},end:{line:94,column:8}},28:{start:{line:97,column:13},end:{line:126,column:3}},29:{start:{line:98,column:4},end:{line:104,column:5}},30:{start:{line:99,column:6},end:{line:99,column:37}},31:{start:{line:100,column:6},end:{line:102,column:9}},32:{start:{line:103,column:6},end:{line:103,column:13}},33:{start:{line:105,column:20},end:{line:105,column:40}},34:{start:{line:106,column:4},end:{line:122,column:5}},35:{start:{line:108,column:6},end:{line:113,column:7}},36:{start:{line:109,column:8},end:{line:109,column:42}},37:{start:{line:111,column:8},end:{line:111,column:19}},38:{start:{line:112,column:8},end:{line:112,column:27}},39:{start:{line:114,column:6},end:{line:121,column:7}},40:{start:{line:115,column:8},end:{line:115,column:35}},41:{start:{line:117,column:8},end:{line:118,column:43}},42:{start:{line:118,column:10},end:{line:118,column:43}},43:{start:{line:119,column:8},end:{line:120,column:35}},44:{start:{line:120,column:10},end:{line:120,column:35}},45:{start:{line:123,column:4},end:{line:125,column:7}},46:{start:{line:128,column:28},end:{line:128,column:38}},47:{start:{line:129,column:18},end:{line:129,column:20}},48:{start:{line:130,column:4},end:{line:132,column:5}},49:{start:{line:131,column:6},end:{line:131,column:45}},50:{start:{line:133,column:4},end:{line:147,column:9}},51:{start:{line:143,column:23},end:{line:143,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:24},end:{line:19,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:13},end:{line:20,column:14}},loc:{start:{line:20,column:19},end:{line:21,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:12},end:{line:22,column:13}},loc:{start:{line:22,column:18},end:{line:23,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:26,column:17},end:{line:26,column:18}},loc:{start:{line:26,column:23},end:{line:27,column:5}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:21},end:{line:41,column:3}},line:33},6:{name:"(anonymous_6)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:22},end:{line:63,column:3}},line:42},7:{name:"(anonymous_7)",decl:{start:{line:64,column:18},end:{line:64,column:19}},loc:{start:{line:64,column:24},end:{line:66,column:3}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:67,column:12},end:{line:67,column:13}},loc:{start:{line:67,column:18},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:83,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:25},end:{line:88,column:3}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:32},end:{line:96,column:3}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:97,column:13},end:{line:97,column:14}},loc:{start:{line:97,column:21},end:{line:126,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:127,column:2},end:{line:127,column:3}},loc:{start:{line:127,column:11},end:{line:148,column:3}},line:127},14:{name:"(anonymous_14)",decl:{start:{line:143,column:15},end:{line:143,column:16}},loc:{start:{line:143,column:23},end:{line:143,column:36}},line:143}},branchMap:{0:{loc:{start:{line:45,column:12},end:{line:47,column:7}},type:"binary-expr",locations:[{start:{line:45,column:12},end:{line:45,column:27}},{start:{line:45,column:31},end:{line:47,column:7}}],line:45},1:{loc:{start:{line:53,column:12},end:{line:55,column:7}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:27}},{start:{line:53,column:31},end:{line:55,column:7}}],line:53},2:{loc:{start:{line:68,column:4},end:{line:69,column:27}},type:"if",locations:[{start:{line:68,column:4},end:{line:69,column:27}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},3:{loc:{start:{line:77,column:4},end:{line:78,column:26}},type:"if",locations:[{start:{line:77,column:4},end:{line:78,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:90,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},5:{loc:{start:{line:90,column:8},end:{line:90,column:69}},type:"binary-expr",locations:[{start:{line:90,column:8},end:{line:90,column:29}},{start:{line:90,column:33},end:{line:90,column:69}}],line:90},6:{loc:{start:{line:98,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:104,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98},7:{loc:{start:{line:106,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:122,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:106},8:{loc:{start:{line:114,column:6},end:{line:121,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:121,column:7}},{start:{line:116,column:13},end:{line:121,column:7}}],line:114},9:{loc:{start:{line:114,column:10},end:{line:114,column:41}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:13}},{start:{line:114,column:17},end:{line:114,column:41}}],line:114},10:{loc:{start:{line:117,column:8},end:{line:118,column:43}},type:"if",locations:[{start:{line:117,column:8},end:{line:118,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},11:{loc:{start:{line:119,column:8},end:{line:120,column:35}},type:"if",locations:[{start:{line:119,column:8},end:{line:120,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119},12:{loc:{start:{line:130,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:130,column:4},end:{line:132,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAqKM,SACQ,KADR;AArKN,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AAErC,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA0BP,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM;AAAQ,WAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM;AAAU,eAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM;AAAa,eAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,2BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GAAG;AAAA;AAAA,QACrF,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4e773c8489b0d1ce34a45ab6b2fced86e992e3eb"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Sn=function(){return s},s}Sn();class gW extends gn.Component{constructor(e){Sn().f[5]++,Sn().s[4]++;super(e);rn(this,"_keyEvent");rn(this,"_doc");rn(this,"_el",(Sn().s[2]++,null));rn(this,"_cancelNextChange",(Sn().s[3]++,!1));rn(this,"onPointerDown",(Sn().s[11]++,()=>{Sn().f[7]++,Sn().s[12]++,this._keyEvent="pointer"}));rn(this,"onFocus",(Sn().s[13]++,()=>{Sn().f[8]++,Sn().s[14]++,this.props.onFocus?(Sn().b[2][0]++,Sn().s[15]++,this.props.onFocus()):Sn().b[2][1]++,Sn().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));rn(this,"onBlur",(Sn().s[17]++,()=>{Sn().f[9]++,Sn().s[18]++,this._keyEvent="keyboard",Sn().s[19]++,this.props.onBlur?(Sn().b[3][0]++,Sn().s[20]++,this.props.onBlur()):Sn().b[3][1]++,Sn().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));rn(this,"onChange",(Sn().s[28]++,e=>{if(Sn().f[12]++,Sn().s[29]++,this._cancelNextChange){Sn().b[6][0]++,Sn().s[30]++,this._cancelNextChange=!1,Sn().s[31]++,this.setState({prevValue:this._doc.getValue()}),Sn().s[32]++;return}else Sn().b[6][1]++;const r=(Sn().s[33]++,this._doc.getValue());if(Sn().s[34]++,this.state.prevValue!==r){Sn().b[7][0]++;let i,o;Sn().s[35]++;try{Sn().s[36]++,i=JSON.parse(r)}catch(s){Sn().s[37]++,o=s,Sn().s[38]++,console.warn(s)}Sn().s[39]++,Sn().b[9][0]++,o&&(Sn().b[9][1]++,this.props.onJSONInvalid)?(Sn().b[8][0]++,Sn().s[40]++,this.props.onJSONInvalid()):(Sn().b[8][1]++,Sn().s[41]++,this.props.onChange?(Sn().b[10][0]++,Sn().s[42]++,this.props.onChange(i)):Sn().b[10][1]++,Sn().s[43]++,this.props.onJSONValid?(Sn().b[11][0]++,Sn().s[44]++,this.props.onJSONValid()):Sn().b[11][1]++)}else Sn().b[7][1]++;Sn().s[45]++,this.setState({prevValue:r})}));Sn().s[5]++,this._keyEvent="keyboard",Sn().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){Sn().f[6]++,Sn().s[7]++,this._doc=Ic(this._el,{value:this.props.getValue(this.props.layer),mode:(Sn().b[0][0]++,this.props.mode||(Sn().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(Sn().b[1][0]++,this.props.lint||(Sn().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),Sn().s[8]++,this._doc.on("change",this.onChange),Sn().s[9]++,this._doc.on("focus",this.onFocus),Sn().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){Sn().f[10]++,Sn().s[22]++,this._doc.off("change",this.onChange),Sn().s[23]++,this._doc.off("focus",this.onFocus),Sn().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(e){Sn().f[11]++,Sn().s[25]++,Sn().b[5][0]++,!this.state.isEditing&&(Sn().b[5][1]++,e.layer!==this.props.layer)?(Sn().b[4][0]++,Sn().s[26]++,this._cancelNextChange=!0,Sn().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):Sn().b[4][1]++}render(){Sn().f[13]++;const{showMessage:e}=(Sn().s[46]++,this.state),r=(Sn().s[47]++,{});return Sn().s[48]++,this.props.maxHeight?(Sn().b[12][0]++,Sn().s[49]++,r.maxHeight=this.props.maxHeight):Sn().b[12][1]++,Sn().s[50]++,N.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[N.jsxs("div",{className:rh("JSONEditor__message",{"JSONEditor__message--on":e}),children:["Press ",N.jsx("kbd",{children:"ESC"})," to lose focus"]}),N.jsx("div",{className:rh("codemirror-container",this.props.className),ref:i=>(Sn().f[14]++,Sn().s[51]++,this._el=i),style:r})]})}}rn(gW,"defaultProps",(Sn().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:e=>(Sn().f[0]++,Sn().s[1]++,fW(e,{indent:2,maxLength:40})),onFocus:()=>{Sn().f[1]++},onBlur:()=>{Sn().f[2]++},onJSONInvalid:()=>{Sn().f[3]++},onJSONValid:()=>{Sn().f[4]++}}));function T3(){var t="/workspaces/maputnik/src/components/FieldJson.tsx",n="849d2baade860b30757a32df734f3372eef56a14",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"849d2baade860b30757a32df734f3372eef56a14"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return T3=function(){return s},s}T3();class z7 extends gn.Component{render(){return T3().f[0]++,T3().s[0]++,N.jsx(gW,{...this.props})}}var r_="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",Gme="M7,10L12,15L17,10H7Z",Qme="M7,15L12,10L17,15H7Z",j7="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function Y0(){var t="/workspaces/maputnik/src/libs/filterops.ts",n="f94b8a5c73ba9eb7f861658c58d2468ef8f73c51",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAEd,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f94b8a5c73ba9eb7f861658c58d2468ef8f73c51"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Y0=function(){return s},s}Y0();const W7=(Y0().s[0]++,["all","any","none"]);Y0().s[1]++;const $me=(Y0().s[2]++,Object.keys(vr.filter_operator.values).filter(t=>(Y0().f[0]++,Y0().s[3]++,W7.indexOf(t)<0)));function zr(){var t="/workspaces/maputnik/src/components/SingleFilterEditor.tsx",n="baa20d87bac19043cd75cda8787ebb28f94415d3",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:9,column:13}},1:{start:{line:9,column:4},end:{line:9,column:13}},2:{start:{line:10,column:2},end:{line:11,column:13}},3:{start:{line:11,column:4},end:{line:11,column:13}},4:{start:{line:12,column:2},end:{line:12,column:23}},5:{start:{line:15,column:19},end:{line:15,column:40}},6:{start:{line:16,column:2},end:{line:18,column:3}},7:{start:{line:17,column:4},end:{line:17,column:13}},8:{start:{line:19,column:2},end:{line:25,column:3}},9:{start:{line:20,column:4},end:{line:20,column:16}},10:{start:{line:21,column:9},end:{line:25,column:3}},11:{start:{line:22,column:4},end:{line:22,column:17}},12:{start:{line:24,column:4},end:{line:24,column:13}},13:{start:{line:28,column:2},end:{line:28,column:21}},14:{start:{line:29,column:2},end:{line:29,column:22}},15:{start:{line:30,column:2},end:{line:30,column:11}},16:{start:{line:33,column:24},end:{line:35,column:3}},17:{start:{line:37,column:20},end:{line:37,column:76}},18:{start:{line:38,column:4},end:{line:42,column:5}},19:{start:{line:39,column:6},end:{line:39,column:43}},20:{start:{line:40,column:11},end:{line:42,column:5}},21:{start:{line:41,column:6},end:{line:41,column:47}},22:{start:{line:43,column:4},end:{line:43,column:35}},23:{start:{line:46,column:14},end:{line:46,column:31}},24:{start:{line:47,column:21},end:{line:47,column:25}},25:{start:{line:48,column:25},end:{line:48,column:29}},26:{start:{line:49,column:23},end:{line:49,column:33}},27:{start:{line:50,column:4},end:{line:77,column:9}},28:{start:{line:56,column:72},end:{line:56,column:92}},29:{start:{line:57,column:41},end:{line:57,column:104}},30:{start:{line:65,column:37},end:{line:65,column:100}},31:{start:{line:74,column:27},end:{line:74,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:13,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:14,column:9},end:{line:14,column:21}},loc:{start:{line:14,column:25},end:{line:26,column:1}},line:14},2:{name:"parseFilter",decl:{start:{line:27,column:9},end:{line:27,column:20}},loc:{start:{line:27,column:24},end:{line:31,column:1}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:58},end:{line:44,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:78,column:3}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:56,column:58},end:{line:56,column:59}},loc:{start:{line:56,column:72},end:{line:56,column:92}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:57,column:20},end:{line:57,column:21}},loc:{start:{line:57,column:41},end:{line:57,column:104}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:65,column:20},end:{line:65,column:21}},loc:{start:{line:65,column:37},end:{line:65,column:100}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:74,column:20},end:{line:74,column:21}},loc:{start:{line:74,column:27},end:{line:74,column:89}},line:74}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:9,column:13}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:10,column:2},end:{line:11,column:13}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},2:{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},3:{loc:{start:{line:19,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:25,column:3}},{start:{line:21,column:9},end:{line:25,column:3}}],line:19},4:{loc:{start:{line:21,column:9},end:{line:25,column:3}},type:"if",locations:[{start:{line:21,column:9},end:{line:25,column:3}},{start:{line:23,column:9},end:{line:25,column:3}}],line:21},5:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38},6:{loc:{start:{line:38,column:8},end:{line:38,column:49}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:26}},{start:{line:38,column:30},end:{line:38,column:49}}],line:38},7:{loc:{start:{line:40,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:11},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},8:{loc:{start:{line:69,column:6},end:{line:76,column:10}},type:"binary-expr",locations:[{start:{line:69,column:6},end:{line:69,column:27}},{start:{line:69,column:47},end:{line:76,column:10}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM;AAAI,WAAO;AACrB,MAAI,MAAM,CAAW;AAAG,WAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"baa20d87bac19043cd75cda8787ebb28f94415d3"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return zr=function(){return s},s}zr();function Yme(t){return zr().f[0]++,zr().s[0]++,t===""?(zr().b[0][0]++,zr().s[1]++,t):(zr().b[0][1]++,zr().s[2]++,isNaN(t)?(zr().b[1][0]++,zr().s[3]++,t):(zr().b[1][1]++,zr().s[4]++,parseFloat(t)))}function qme(t){zr().f[1]++;const n=(zr().s[5]++,typeof t=="string");if(zr().s[6]++,n)zr().b[2][1]++;else return zr().b[2][0]++,zr().s[7]++,t;return zr().s[8]++,t.match(/^\s*true\s*$/)?(zr().b[3][0]++,zr().s[9]++,!0):(zr().b[3][1]++,zr().s[10]++,t.match(/^\s*false\s*$/)?(zr().b[4][0]++,zr().s[11]++,!1):(zr().b[4][1]++,zr().s[12]++,t))}function Vme(t){return zr().f[2]++,zr().s[13]++,t=Yme(t),zr().s[14]++,t=qme(t),zr().s[15]++,t}class yW extends gn.Component{onFilterPartChanged(n,e,r){zr().f[3]++;let i=(zr().s[17]++,[n,e,...r.map(Vme)]);zr().s[18]++,zr().b[6][0]++,n==="has"||(zr().b[6][1]++,n==="!has")?(zr().b[5][0]++,zr().s[19]++,i=[n,e]):(zr().b[5][1]++,zr().s[20]++,r.length===0?(zr().b[7][0]++,zr().s[21]++,i=[n,e,""]):zr().b[7][1]++),zr().s[22]++,this.props.onChange(i)}render(){zr().f[4]++;const n=(zr().s[23]++,this.props.filter),e=(zr().s[24]++,n[0]),r=(zr().s[25]++,n[1]),i=(zr().s[26]++,n.slice(2));return zr().s[27]++,N.jsxs("div",{className:"maputnik-filter-editor-single",children:[N.jsx("div",{className:"maputnik-filter-editor-property",children:N.jsx(Ky,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(zr().f[5]++,zr().s[28]++,[o,o])),onChange:o=>(zr().f[6]++,zr().s[29]++,this.onFilterPartChanged(e,o,i))})}),N.jsx("div",{className:"maputnik-filter-editor-operator",children:N.jsx(f1,{"aria-label":"function",value:e,onChange:o=>(zr().f[7]++,zr().s[30]++,this.onFilterPartChanged(o,r,i)),options:$me})}),(zr().b[8][0]++,i.length>0&&(zr().b[8][1]++,N.jsx("div",{className:"maputnik-filter-editor-args",children:N.jsx(Sd,{"aria-label":"value",value:i.join(","),onChange:o=>(zr().f[8]++,zr().s[31]++,this.onFilterPartChanged(e,r,o.split(",")))})})))]})}}rn(yW,"defaultProps",(zr().s[16]++,{properties:{}}));function K3(){var t="/workspaces/maputnik/src/components/FilterEditorBlock.tsx",n="5e13f6ab1f88c86018a06c402cb4f2f3e6accbfa",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:18,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:19,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAUW,SAOD,KAPC;AAVX,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAMvB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5e13f6ab1f88c86018a06c402cb4f2f3e6accbfa"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return K3=function(){return s},s}K3();class Hme extends gn.Component{render(){return K3().f[0]++,K3().s[0]++,N.jsxs("div",{className:"maputnik-filter-editor-block",children:[N.jsx("div",{className:"maputnik-filter-editor-block-action",children:N.jsx(ka,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:"Delete filter block",children:N.jsx(Ey,{})})}),N.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}var Zme=1/0,Xme="[object Symbol]",N7="\\ud800-\\udfff",vW="\\u0300-\\u036f\\ufe20-\\ufe23",CW="\\u20d0-\\u20f0",_W="\\ufe0e\\ufe0f",Jme="["+N7+"]",bE="["+vW+CW+"]",xE="\\ud83c[\\udffb-\\udfff]",e0e="(?:"+bE+"|"+xE+")",bW="[^"+N7+"]",xW="(?:\\ud83c[\\udde6-\\uddff]){2}",wW="[\\ud800-\\udbff][\\udc00-\\udfff]",MW="\\u200d",SW=e0e+"?",EW="["+_W+"]?",t0e="(?:"+MW+"(?:"+[bW,xW,wW].join("|")+")"+EW+SW+")*",n0e=EW+SW+t0e,r0e="(?:"+[bW+bE+"?",bE,xW,wW,Jme].join("|")+")",i0e=RegExp(xE+"(?="+xE+")|"+r0e+n0e,"g"),o0e=RegExp("["+MW+N7+vW+CW+_W+"]"),a0e=typeof window=="object"&&window&&window.Object===Object&&window,s0e=typeof self=="object"&&self&&self.Object===Object&&self,l0e=a0e||s0e||Function("return this")();function u0e(t){return t.split("")}function OW(t){return o0e.test(t)}function A0e(t){return OW(t)?c0e(t):u0e(t)}function c0e(t){return t.match(i0e)||[]}var d0e=Object.prototype,h0e=d0e.toString,YT=l0e.Symbol,qT=YT?YT.prototype:void 0,VT=qT?qT.toString:void 0;function f0e(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),e=e>i?i:e,e<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}function p0e(t){if(typeof t=="string")return t;if(v0e(t))return VT?VT.call(t):"";var n=t+"";return n=="0"&&1/t==-Zme?"-0":n}function m0e(t,n,e){var r=t.length;return e=e===void 0?r:e,!n&&e>=r?t:f0e(t,n,e)}function g0e(t){return function(n){n=BW(n);var e=OW(n)?A0e(n):void 0,r=e?e[0]:n.charAt(0),i=e?m0e(e,1).join(""):n.slice(1);return r[t]()+i}}function y0e(t){return!!t&&typeof t=="object"}function v0e(t){return typeof t=="symbol"||y0e(t)&&h0e.call(t)==Xme}function BW(t){return t==null?"":p0e(t)}function C0e(t){return _0e(BW(t).toLowerCase())}var _0e=g0e("toUpperCase"),b0e=C0e;const G7=Qo(b0e);function kh(){var t="/workspaces/maputnik/src/libs/label-from-field-name.ts",n="fd1508d04a5e3c544fc343817bbb45e1dd3e7527",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fd1508d04a5e3c544fc343817bbb45e1dd3e7527"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return kh=function(){return s},s}kh();function s5(t){kh().f[0]++;let n;const e=(kh().s[0]++,t.split("-"));return kh().s[1]++,e.length>1?(kh().b[0][0]++,kh().s[2]++,n=t.split("-").slice(1).join(" ")):(kh().b[0][1]++,kh().s[3]++,n=t),kh().s[4]++,G7(n)}function Di(){var t="/workspaces/maputnik/src/components/_ExpressionProperty.tsx",n="88fe91660b4373446b674024ed490b81a6767596",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:10,column:24},end:{line:16,column:3}},1:{start:{line:18,column:4},end:{line:18,column:17}},2:{start:{line:19,column:4},end:{line:21,column:6}},3:{start:{line:23,column:18},end:{line:27,column:3}},4:{start:{line:24,column:4},end:{line:26,column:7}},5:{start:{line:28,column:16},end:{line:32,column:3}},6:{start:{line:29,column:4},end:{line:31,column:7}},7:{start:{line:34,column:61},end:{line:34,column:71}},8:{start:{line:35,column:26},end:{line:35,column:36}},9:{start:{line:36,column:25},end:{line:36,column:52}},10:{start:{line:37,column:42},end:{line:59,column:8}},11:{start:{line:60,column:21},end:{line:60,column:83}},12:{start:{line:61,column:23},end:{line:61,column:39}},13:{start:{line:62,column:26},end:{line:62,column:40}},14:{start:{line:63,column:24},end:{line:63,column:26}},15:{start:{line:65,column:6},end:{line:65,column:65}},16:{start:{line:67,column:4},end:{line:78,column:5}},17:{start:{line:68,column:6},end:{line:68,column:52}},18:{start:{line:70,column:6},end:{line:74,column:9}},19:{start:{line:71,column:8},end:{line:71,column:45}},20:{start:{line:73,column:8},end:{line:73,column:39}},21:{start:{line:75,column:6},end:{line:77,column:7}},22:{start:{line:76,column:8},end:{line:76,column:37}},23:{start:{line:79,column:4},end:{line:109,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:18},end:{line:15,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:21},end:{line:22,column:3}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:23,column:18},end:{line:23,column:19}},loc:{start:{line:23,column:28},end:{line:27,column:3}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:28,column:16},end:{line:28,column:17}},loc:{start:{line:28,column:22},end:{line:32,column:3}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:110,column:3}},line:33},6:{name:"getValue",decl:{start:{line:64,column:13},end:{line:64,column:21}},loc:{start:{line:64,column:28},end:{line:66,column:5}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:55},end:{line:72,column:7}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:72,column:17},end:{line:72,column:18}},loc:{start:{line:72,column:36},end:{line:74,column:7}},line:72}},branchMap:{0:{loc:{start:{line:36,column:25},end:{line:36,column:52}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:45}},{start:{line:36,column:48},end:{line:36,column:52}}],line:36},1:{loc:{start:{line:38,column:6},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:38,column:6},end:{line:38,column:23}},{start:{line:38,column:43},end:{line:48,column:7}}],line:38},2:{loc:{start:{line:60,column:21},end:{line:60,column:83}},type:"cond-expr",locations:[{start:{line:60,column:44},end:{line:60,column:53}},{start:{line:60,column:56},end:{line:60,column:83}}],line:60},3:{loc:{start:{line:67,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:78,column:5}},{start:{line:69,column:11},end:{line:78,column:5}}],line:67},4:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA4DM,mBASM,KATN;AA5DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAE5B,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,qBAAqB,2BAA2B,MAAM,UAA4D;AAAA,EAChH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAa,OAA+B;AAC1C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC5D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC9C,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"88fe91660b4373446b674024ed490b81a6767596"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Di=function(){return s},s}Di();class Q7 extends gn.Component{constructor(e){Di().f[2]++,Di().s[1]++;super(e);rn(this,"onJSONInvalid",(Di().s[3]++,e=>{Di().f[3]++,Di().s[4]++,this.setState({jsonError:!0})}));rn(this,"onJSONValid",(Di().s[5]++,()=>{Di().f[4]++,Di().s[6]++,this.setState({jsonError:!1})}));Di().s[2]++,this.state={jsonError:!1}}render(){Di().f[5]++;const{errors:e,fieldName:r,fieldType:i,value:o,canUndo:s}=(Di().s[7]++,this.props),{jsonError:a}=(Di().s[8]++,this.state),f=(Di().s[9]++,s?(Di().b[0][0]++,!s()):(Di().b[0][1]++,!0)),g=(Di().s[10]++,N.jsxs(N.Fragment,{children:[(Di().b[1][0]++,this.props.onUndo&&(Di().b[1][1]++,N.jsx(ka,{onClick:this.props.onUndo,disabled:f,className:"maputnik-delete-stop",title:"Revert from expression",children:N.jsx(Gte,{})},"undo_action"))),N.jsx(ka,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:"Delete expression",children:N.jsx(Ey,{})},"delete_action")]})),x=(Di().s[11]++,i===void 0?(Di().b[2][0]++,r):(Di().b[2][1]++,`${i}.${r}`)),I=(Di().s[12]++,e[x]),B=(Di().s[13]++,`${x}[`),D=(Di().s[14]++,[]);function L(V){return Di().f[6]++,Di().s[15]++,fW(V,{indent:2,maxLength:38})}return Di().s[16]++,a?(Di().b[3][0]++,Di().s[17]++,D.push({message:"Invalid JSON"})):(Di().b[3][1]++,Di().s[18]++,Object.entries(e).filter(([V,W])=>(Di().f[7]++,Di().s[19]++,V.startsWith(B))).forEach(([V,W])=>(Di().f[8]++,Di().s[20]++,D.push(W))),Di().s[21]++,I?(Di().b[4][0]++,Di().s[22]++,D.push(I)):Di().b[4][1]++),Di().s[23]++,N.jsx(To,{error:D,fieldSpec:this.props.fieldSpec,label:s5(this.props.fieldName),action:g,wideMode:!0,children:N.jsx(z7,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:o,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:L,onChange:this.props.onChange})})}}rn(Q7,"defaultProps",(Di().s[0]++,{errors:{},onFocus:()=>{Di().f[0]++},onBlur:()=>{Di().f[1]++}}));function cn(){var t="/workspaces/maputnik/src/components/FilterEditor.tsx",n="f906c0768581fdb832270435399322734caf2379",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:16,column:17},end:{line:16,column:40}},1:{start:{line:17,column:2},end:{line:19,column:3}},2:{start:{line:18,column:4},end:{line:18,column:18}},3:{start:{line:20,column:20},end:{line:20,column:29}},4:{start:{line:21,column:16},end:{line:21,column:31}},5:{start:{line:22,column:2},end:{line:25,column:3}},6:{start:{line:23,column:4},end:{line:23,column:24}},7:{start:{line:24,column:4},end:{line:24,column:32}},8:{start:{line:26,column:2},end:{line:26,column:35}},9:{start:{line:29,column:2},end:{line:29,column:65}},10:{start:{line:32,column:2},end:{line:53,column:4}},11:{start:{line:55,column:19},end:{line:59,column:1}},12:{start:{line:61,column:2},end:{line:63,column:3}},13:{start:{line:62,column:4},end:{line:62,column:16}},14:{start:{line:64,column:21},end:{line:64,column:42}},15:{start:{line:65,column:2},end:{line:65,column:38}},16:{start:{line:68,column:2},end:{line:68,column:52}},17:{start:{line:71,column:2},end:{line:73,column:3}},18:{start:{line:72,column:4},end:{line:72,column:97}},19:{start:{line:72,column:38},end:{line:72,column:59}},20:{start:{line:72,column:75},end:{line:72,column:84}},21:{start:{line:74,column:2},end:{line:74,column:15}},22:{start:{line:77,column:24},end:{line:79,column:3}},23:{start:{line:81,column:4},end:{line:81,column:17}},24:{start:{line:82,column:4},end:{line:85,column:6}},25:{start:{line:89,column:22},end:{line:89,column:58}},26:{start:{line:90,column:4},end:{line:90,column:35}},27:{start:{line:91,column:4},end:{line:91,column:35}},28:{start:{line:94,column:22},end:{line:94,column:58}},29:{start:{line:95,column:4},end:{line:95,column:39}},30:{start:{line:96,column:4},end:{line:96,column:35}},31:{start:{line:98,column:18},end:{line:102,column:3}},32:{start:{line:99,column:26},end:{line:99,column:62}},33:{start:{line:100,column:4},end:{line:100,column:43}},34:{start:{line:101,column:4},end:{line:101,column:39}},35:{start:{line:103,column:16},end:{line:107,column:3}},36:{start:{line:104,column:4},end:{line:106,column:7}},37:{start:{line:108,column:15},end:{line:112,column:3}},38:{start:{line:109,column:4},end:{line:111,column:7}},39:{start:{line:113,column:19},end:{line:119,column:3}},40:{start:{line:114,column:19},end:{line:114,column:46}},41:{start:{line:115,column:4},end:{line:115,column:47}},42:{start:{line:116,column:4},end:{line:118,column:7}},43:{start:{line:121,column:32},end:{line:121,column:75}},44:{start:{line:122,column:4},end:{line:135,column:5}},45:{start:{line:123,column:6},end:{line:126,column:8}},46:{start:{line:127,column:11},end:{line:135,column:5}},47:{start:{line:128,column:6},end:{line:130,column:8}},48:{start:{line:132,column:6},end:{line:134,column:8}},49:{start:{line:138,column:23},end:{line:138,column:33}},50:{start:{line:139,column:36},end:{line:139,column:46}},51:{start:{line:140,column:22},end:{line:142,column:5}},52:{start:{line:143,column:26},end:{line:143,column:33}},53:{start:{line:144,column:36},end:{line:144,column:112}},54:{start:{line:145,column:4},end:{line:265,column:5}},55:{start:{line:146,column:6},end:{line:159,column:11}},56:{start:{line:160,column:11},end:{line:265,column:5}},57:{start:{line:161,column:21},end:{line:161,column:48}},58:{start:{line:162,column:26},end:{line:162,column:35}},59:{start:{line:163,column:22},end:{line:163,column:37}},60:{start:{line:164,column:38},end:{line:172,column:10}},61:{start:{line:173,column:27},end:{line:186,column:8}},62:{start:{line:174,column:22},end:{line:174,column:50}},63:{start:{line:175,column:8},end:{line:185,column:29}},64:{start:{line:187,column:6},end:{line:234,column:11}},65:{start:{line:198,column:33},end:{line:198,column:63}},66:{start:{line:236,column:25},end:{line:236,column:35}},67:{start:{line:237,column:6},end:{line:264,column:11}},68:{start:{line:242,column:14},end:{line:242,column:59}},69:{start:{line:243,column:14},end:{line:243,column:49}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:15,column:9},end:{line:15,column:24}},loc:{start:{line:15,column:32},end:{line:27,column:1}},line:15},1:{name:"migrateFilter",decl:{start:{line:28,column:9},end:{line:28,column:22}},loc:{start:{line:28,column:31},end:{line:30,column:1}},line:28},2:{name:"createStyleFromFilter",decl:{start:{line:31,column:9},end:{line:31,column:30}},loc:{start:{line:31,column:39},end:{line:54,column:1}},line:31},3:{name:"checkIfSimpleFilter",decl:{start:{line:60,column:9},end:{line:60,column:28}},loc:{start:{line:60,column:37},end:{line:66,column:1}},line:60},4:{name:"hasCombiningFilter",decl:{start:{line:67,column:9},end:{line:67,column:27}},loc:{start:{line:67,column:36},end:{line:69,column:1}},line:67},5:{name:"hasNestedCombiningFilter",decl:{start:{line:70,column:9},end:{line:70,column:33}},loc:{start:{line:70,column:42},end:{line:75,column:1}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:72,column:31},end:{line:72,column:32}},loc:{start:{line:72,column:38},end:{line:72,column:59}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:72,column:68},end:{line:72,column:69}},loc:{start:{line:72,column:75},end:{line:72,column:84}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:80,column:2},end:{line:80,column:3}},loc:{start:{line:80,column:21},end:{line:86,column:3}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:42},end:{line:92,column:3}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:30},end:{line:97,column:3}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:18},end:{line:98,column:19}},loc:{start:{line:98,column:24},end:{line:102,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:103,column:16},end:{line:103,column:17}},loc:{start:{line:103,column:25},end:{line:107,column:3}},line:103},13:{name:"(anonymous_13)",decl:{start:{line:108,column:15},end:{line:108,column:16}},loc:{start:{line:108,column:21},end:{line:112,column:3}},line:108},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:25},end:{line:119,column:3}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:55},end:{line:136,column:3}},line:120},16:{name:"(anonymous_16)",decl:{start:{line:137,column:2},end:{line:137,column:3}},loc:{start:{line:137,column:11},end:{line:266,column:3}},line:137},17:{name:"(anonymous_17)",decl:{start:{line:173,column:39},end:{line:173,column:40}},loc:{start:{line:173,column:51},end:{line:186,column:7}},line:173},18:{name:"(anonymous_18)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:63}},line:198},19:{name:"(anonymous_19)",decl:{start:{line:241,column:22},end:{line:241,column:23}},loc:{start:{line:241,column:28},end:{line:244,column:13}},line:241}},branchMap:{0:{loc:{start:{line:16,column:17},end:{line:16,column:40}},type:"binary-expr",locations:[{start:{line:16,column:17},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:40}}],line:16},1:{loc:{start:{line:17,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:19,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},2:{loc:{start:{line:22,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:25,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},4:{loc:{start:{line:61,column:6},end:{line:61,column:59}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:25}},{start:{line:61,column:29},end:{line:61,column:59}}],line:61},5:{loc:{start:{line:71,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:71,column:2},end:{line:73,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},6:{loc:{start:{line:122,column:4},end:{line:135,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:135,column:5}},{start:{line:127,column:11},end:{line:135,column:5}}],line:122},7:{loc:{start:{line:122,column:8},end:{line:122,column:73}},type:"binary-expr",locations:[{start:{line:122,column:8},end:{line:122,column:28}},{start:{line:122,column:32},end:{line:122,column:73}}],line:122},8:{loc:{start:{line:127,column:11},end:{line:135,column:5}},type:"if",locations:[{start:{line:127,column:11},end:{line:135,column:5}},{start:{line:131,column:11},end:{line:135,column:5}}],line:127},9:{loc:{start:{line:127,column:15},end:{line:127,column:80}},type:"binary-expr",locations:[{start:{line:127,column:15},end:{line:127,column:34}},{start:{line:127,column:38},end:{line:127,column:80}}],line:127},10:{loc:{start:{line:144,column:36},end:{line:144,column:112}},type:"binary-expr",locations:[{start:{line:144,column:36},end:{line:144,column:55}},{start:{line:144,column:59},end:{line:144,column:112}}],line:144},11:{loc:{start:{line:145,column:4},end:{line:265,column:5}},type:"if",locations:[{start:{line:145,column:4},end:{line:265,column:5}},{start:{line:160,column:11},end:{line:265,column:5}}],line:145},12:{loc:{start:{line:160,column:11},end:{line:265,column:5}},type:"if",locations:[{start:{line:160,column:11},end:{line:265,column:5}},{start:{line:235,column:11},end:{line:265,column:5}}],line:160},13:{loc:{start:{line:184,column:10},end:{line:184,column:119}},type:"binary-expr",locations:[{start:{line:184,column:10},end:{line:184,column:15}},{start:{line:184,column:35},end:{line:184,column:119}}],line:184},14:{loc:{start:{line:229,column:30},end:{line:229,column:62}},type:"cond-expr",locations:[{start:{line:229,column:51},end:{line:229,column:53}},{start:{line:229,column:56},end:{line:229,column:62}}],line:229},15:{loc:{start:{line:252,column:8},end:{line:263,column:12}},type:"binary-expr",locations:[{start:{line:252,column:8},end:{line:252,column:38}},{start:{line:252,column:58},end:{line:263,column:12}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AA+LQ,SAsDA,UAtDA,KAGA,YAHA;AA/LR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAG/B,SAAS,gBAAgB,OAA+E;AACtG,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ,CAAC;AAAA,MACX;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAA0B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA0B,cAAiC;AACzF,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,aAAa,wBAAwB,MAAM;AACrE,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,aAAa,wBAAwB,OAAO;AAC1E,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OAAE,+CAEH;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAM;AAAA,YAEN;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cAAM;AAAA;AAAA;AAAA,QAER;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAM;AAAA,UACN,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO;AAAA,YACP,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS,CAAC,CAAC,OAAO,sBAAsB,GAAG,CAAC,QAAQ,mBAAmB,GAAG,CAAC,OAAO,oBAAoB,CAAC;AAAA;AAAA,YACzG;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA;AAAA;AAAA,YACR;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBAAwB;AAAA;AAAA,UACG;AAAA,UACxC;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cACX;AAAA;AAAA,UAED;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f906c0768581fdb832270435399322734caf2379"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return cn=function(){return s},s}cn();function qp(t){cn().f[0]++;const n=(cn().s[0]++,cn().b[0][0]++,t.filter||(cn().b[0][1]++,["all"]));if(cn().s[1]++,Array.isArray(n))cn().b[1][1]++;else return cn().b[1][0]++,cn().s[2]++,n;let e=(cn().s[3]++,n[0]),r=(cn().s[4]++,n.slice(1));return cn().s[5]++,W7.indexOf(e)<0?(cn().b[2][0]++,cn().s[6]++,e="all",cn().s[7]++,r=[n.slice(0)]):cn().b[2][1]++,cn().s[8]++,[e,...r]}function x0e(t){return cn().f[1]++,cn().s[9]++,Kee(w0e(t)).layers[0].filter}function w0e(t){return cn().f[2]++,cn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:{}}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:t}]}}const M0e=(cn().s[11]++,["all","any","none"]);function HT(t){if(cn().f[3]++,cn().s[12]++,cn().b[4][0]++,t.length===1&&(cn().b[4][1]++,M0e.includes(t[0])))return cn().b[3][0]++,cn().s[13]++,!0;cn().b[3][1]++;const n=(cn().s[14]++,lC(t));return cn().s[15]++,!g4.isEqual(n,t)}function ZT(t){return cn().f[4]++,cn().s[16]++,W7.indexOf(t[0])>=0}function S0e(t){return cn().f[5]++,cn().s[17]++,ZT(t)?(cn().b[5][0]++,cn().s[18]++,t.slice(1).map(n=>(cn().f[6]++,cn().s[19]++,ZT(n))).filter(n=>(cn().f[7]++,cn().s[20]++,n==!0)).length>0):(cn().b[5][1]++,cn().s[21]++,!1)}class IW extends gn.Component{constructor(e){cn().f[8]++,cn().s[23]++;super(e);rn(this,"addFilterItem",(cn().s[31]++,()=>{cn().f[11]++;const e=(cn().s[32]++,qp(this.props).slice(0));cn().s[33]++,e.push(["==","name",""]),cn().s[34]++,this.props.onChange(e)}));rn(this,"onToggleDoc",(cn().s[35]++,e=>{cn().f[12]++,cn().s[36]++,this.setState({showDoc:e})}));rn(this,"makeFilter",(cn().s[37]++,()=>{cn().f[13]++,cn().s[38]++,this.setState({displaySimpleFilter:!0})}));rn(this,"makeExpression",(cn().s[39]++,()=>{cn().f[14]++;const e=(cn().s[40]++,qp(this.props));cn().s[41]++,this.props.onChange(x0e(e)),cn().s[42]++,this.setState({displaySimpleFilter:!1})}));cn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:HT(qp(e))}}onFilterPartChanged(e,r){cn().f[9]++;const i=(cn().s[25]++,qp(this.props).slice(0));cn().s[26]++,i[e]=r,cn().s[27]++,this.props.onChange(i)}deleteFilterItem(e){cn().f[10]++;const r=(cn().s[28]++,qp(this.props).slice(0));cn().s[29]++,r.splice(e+1,1),cn().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(e,r){cn().f[15]++;const i=(cn().s[43]++,HT(qp(e)));return cn().s[44]++,cn().b[7][0]++,!i&&(cn().b[7][1]++,r.displaySimpleFilter===!0)?(cn().b[6][0]++,cn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(cn().b[6][1]++,cn().s[46]++,cn().b[9][0]++,i&&(cn().b[9][1]++,r.displaySimpleFilter===!1)?(cn().b[8][0]++,cn().s[47]++,{valueIsSimpleFilter:!0}):(cn().b[8][1]++,cn().s[48]++,{valueIsSimpleFilter:!1}))}render(){cn().f[16]++;const{errors:e}=(cn().s[49]++,this.props),{displaySimpleFilter:r}=(cn().s[50]++,this.state),i=(cn().s[51]++,{doc:vr.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),o=(cn().s[52]++,["all"]),s=(cn().s[53]++,cn().b[10][0]++,r&&(cn().b[10][1]++,S0e(qp(this.props))));if(cn().s[54]++,s)return cn().b[11][0]++,cn().s[55]++,N.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[N.jsx("p",{children:"Nested filters are not supported."}),N.jsxs(ka,{onClick:this.makeExpression,title:"Convert to expression",children:[N.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:r_})}),"Upgrade to expression"]})]});if(cn().b[11][1]++,cn().s[56]++,r){cn().b[12][0]++;const a=(cn().s[57]++,qp(this.props)),f=(cn().s[58]++,a[0]),g=(cn().s[59]++,a.slice(1)),x=(cn().s[60]++,N.jsx("div",{children:N.jsx(ka,{onClick:this.makeExpression,title:"Convert to expression",className:"maputnik-make-zoom-function",children:N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:r_})})})})),I=(cn().s[61]++,g.map((B,D)=>{cn().f[17]++;const L=(cn().s[62]++,e[`filter[${D+1}]`]);return cn().s[63]++,N.jsxs("div",{children:[N.jsx(Hme,{onDelete:this.deleteFilterItem.bind(this,D),children:N.jsx(yW,{properties:this.props.properties,filter:B,onChange:this.onFilterPartChanged.bind(this,D+1)})},D),(cn().b[13][0]++,L&&(cn().b[13][1]++,N.jsx("div",{className:"maputnik-inline-error",children:L.message},"error")))]},`block-${D}`)}));return cn().s[64]++,N.jsxs(N.Fragment,{children:[N.jsx(To,{fieldSpec:i,label:"Filter",action:x,children:N.jsx(f1,{value:f,onChange:B=>(cn().f[18]++,cn().s[65]++,this.onFilterPartChanged(0,B)),options:[["all","every filter matches"],["none","no filter matches"],["any","any filter matches"]]})},"top"),I,N.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:N.jsxs(ka,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:j7})})," Add filter"]})},"buttons"),N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(cn().b[14][0]++,""):(cn().b[14][1]++,"none")},children:N.jsx(cB,{fieldSpec:i})},"doc")]})}else{cn().b[12][1]++;const{filter:a}=(cn().s[66]++,this.props);return cn().s[67]++,N.jsxs(N.Fragment,{children:[N.jsx(Q7,{onDelete:()=>{cn().f[19]++,cn().s[68]++,this.setState({displaySimpleFilter:!0}),cn().s[69]++,this.props.onChange(o)},fieldName:"filter",fieldSpec:i,value:a,errors:e,onChange:this.props.onChange}),(cn().b[15][0]++,this.state.valueIsSimpleFilter&&(cn().b[15][1]++,N.jsxs("div",{className:"maputnik-expr-infobox",children:["You've entered a old style filter,"," ",N.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:"switch to filter editor"})]})))]})}}}rn(IW,"defaultProps",(cn().s[22]++,{filter:["all"]}));var l5={},Es={},D_={},E0e=typeof window=="object"&&window&&window.Object===Object&&window,kW=E0e,O0e=kW,B0e=typeof self=="object"&&self&&self.Object===Object&&self,I0e=O0e||B0e||Function("return this")(),sh=I0e,k0e=sh,T0e=k0e.Symbol,F_=T0e,XT=F_,TW=Object.prototype,K0e=TW.hasOwnProperty,P0e=TW.toString,Ev=XT?XT.toStringTag:void 0;function U0e(t){var n=K0e.call(t,Ev),e=t[Ev];try{t[Ev]=void 0;var r=!0}catch{}var i=P0e.call(t);return r&&(n?t[Ev]=e:delete t[Ev]),i}var D0e=U0e,F0e=Object.prototype,L0e=F0e.toString;function R0e(t){return L0e.call(t)}var z0e=R0e,JT=F_,j0e=D0e,W0e=z0e,N0e="[object Null]",G0e="[object Undefined]",eK=JT?JT.toStringTag:void 0;function Q0e(t){return t==null?t===void 0?G0e:N0e:eK&&eK in Object(t)?j0e(t):W0e(t)}var p1=Q0e,$0e=Array.isArray,Rc=$0e;function Y0e(t){return t!=null&&typeof t=="object"}var sf=Y0e,q0e=p1,V0e=Rc,H0e=sf,Z0e="[object String]";function X0e(t){return typeof t=="string"||!V0e(t)&&H0e(t)&&q0e(t)==Z0e}var J0e=X0e;function e1e(t){return function(n,e,r){for(var i=-1,o=Object(n),s=r(n),a=s.length;a--;){var f=s[t?a:++i];if(e(o[f],f,o)===!1)break}return n}}var t1e=e1e,n1e=t1e,r1e=n1e(),KW=r1e;function i1e(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}var o1e=i1e,a1e=p1,s1e=sf,l1e="[object Arguments]";function u1e(t){return s1e(t)&&a1e(t)==l1e}var A1e=u1e,tK=A1e,c1e=sf,PW=Object.prototype,d1e=PW.hasOwnProperty,h1e=PW.propertyIsEnumerable,f1e=tK(function(){return arguments}())?tK:function(t){return c1e(t)&&d1e.call(t,"callee")&&!h1e.call(t,"callee")},$7=f1e,P3={exports:{}};function p1e(){return!1}var m1e=p1e;P3.exports;(function(t,n){var e=sh,r=m1e,i=n&&!n.nodeType&&n,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?e.Buffer:void 0,f=a?a.isBuffer:void 0,g=f||r;t.exports=g})(P3,P3.exports);var u5=P3.exports,g1e=9007199254740991,y1e=/^(?:0|[1-9]\d*)$/;function v1e(t,n){var e=typeof t;return n=n??g1e,!!n&&(e=="number"||e!="symbol"&&y1e.test(t))&&t>-1&&t%1==0&&t<n}var Y7=v1e,C1e=9007199254740991;function _1e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=C1e}var q7=_1e,b1e=p1,x1e=q7,w1e=sf,M1e="[object Arguments]",S1e="[object Array]",E1e="[object Boolean]",O1e="[object Date]",B1e="[object Error]",I1e="[object Function]",k1e="[object Map]",T1e="[object Number]",K1e="[object Object]",P1e="[object RegExp]",U1e="[object Set]",D1e="[object String]",F1e="[object WeakMap]",L1e="[object ArrayBuffer]",R1e="[object DataView]",z1e="[object Float32Array]",j1e="[object Float64Array]",W1e="[object Int8Array]",N1e="[object Int16Array]",G1e="[object Int32Array]",Q1e="[object Uint8Array]",$1e="[object Uint8ClampedArray]",Y1e="[object Uint16Array]",q1e="[object Uint32Array]",ts={};ts[z1e]=ts[j1e]=ts[W1e]=ts[N1e]=ts[G1e]=ts[Q1e]=ts[$1e]=ts[Y1e]=ts[q1e]=!0;ts[M1e]=ts[S1e]=ts[L1e]=ts[E1e]=ts[R1e]=ts[O1e]=ts[B1e]=ts[I1e]=ts[k1e]=ts[T1e]=ts[K1e]=ts[P1e]=ts[U1e]=ts[D1e]=ts[F1e]=!1;function V1e(t){return w1e(t)&&x1e(t.length)&&!!ts[b1e(t)]}var H1e=V1e;function Z1e(t){return function(n){return t(n)}}var V7=Z1e,U3={exports:{}};U3.exports;(function(t,n){var e=kW,r=n&&!n.nodeType&&n,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&e.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(U3,U3.exports);var H7=U3.exports,X1e=H1e,J1e=V7,nK=H7,rK=nK&&nK.isTypedArray,ege=rK?J1e(rK):X1e,Z7=ege,tge=o1e,nge=$7,rge=Rc,ige=u5,oge=Y7,age=Z7,sge=Object.prototype,lge=sge.hasOwnProperty;function uge(t,n){var e=rge(t),r=!e&&nge(t),i=!e&&!r&&ige(t),o=!e&&!r&&!i&&age(t),s=e||r||i||o,a=s?tge(t.length,String):[],f=a.length;for(var g in t)(n||lge.call(t,g))&&!(s&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||oge(g,f)))&&a.push(g);return a}var UW=uge,Age=Object.prototype;function cge(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||Age;return t===e}var X7=cge;function dge(t,n){return function(e){return t(n(e))}}var DW=dge,hge=DW,fge=hge(Object.keys,Object),pge=fge,mge=X7,gge=pge,yge=Object.prototype,vge=yge.hasOwnProperty;function Cge(t){if(!mge(t))return gge(t);var n=[];for(var e in Object(t))vge.call(t,e)&&e!="constructor"&&n.push(e);return n}var _ge=Cge;function bge(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var Bd=bge,xge=p1,wge=Bd,Mge="[object AsyncFunction]",Sge="[object Function]",Ege="[object GeneratorFunction]",Oge="[object Proxy]";function Bge(t){if(!wge(t))return!1;var n=xge(t);return n==Sge||n==Ege||n==Mge||n==Oge}var J7=Bge,Ige=J7,kge=q7;function Tge(t){return t!=null&&kge(t.length)&&!Ige(t)}var Py=Tge,Kge=UW,Pge=_ge,Uge=Py;function Dge(t){return Uge(t)?Kge(t):Pge(t)}var L_=Dge,Fge=KW,Lge=L_;function Rge(t,n){return t&&Fge(t,n,Lge)}var FW=Rge;function zge(t){return t}var A5=zge,jge=A5;function Wge(t){return typeof t=="function"?t:jge}var LW=Wge,Nge=FW,Gge=LW;function Qge(t,n){return t&&Nge(t,Gge(n))}var e8=Qge,$ge=DW,Yge=$ge(Object.getPrototypeOf,Object),t8=Yge,qge=p1,Vge=t8,Hge=sf,Zge="[object Object]",Xge=Function.prototype,Jge=Object.prototype,RW=Xge.toString,eye=Jge.hasOwnProperty,tye=RW.call(Object);function nye(t){if(!Hge(t)||qge(t)!=Zge)return!1;var n=Vge(t);if(n===null)return!0;var e=eye.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&RW.call(e)==tye}var zW=nye;function rye(t,n){for(var e=-1,r=t==null?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}var jW=rye;function iye(){this.__data__=[],this.size=0}var oye=iye;function aye(t,n){return t===n||t!==t&&n!==n}var R_=aye,sye=R_;function lye(t,n){for(var e=t.length;e--;)if(sye(t[e][0],n))return e;return-1}var c5=lye,uye=c5,Aye=Array.prototype,cye=Aye.splice;function dye(t){var n=this.__data__,e=uye(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():cye.call(n,e,1),--this.size,!0}var hye=dye,fye=c5;function pye(t){var n=this.__data__,e=fye(n,t);return e<0?void 0:n[e][1]}var mye=pye,gye=c5;function yye(t){return gye(this.__data__,t)>-1}var vye=yye,Cye=c5;function _ye(t,n){var e=this.__data__,r=Cye(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}var bye=_ye,xye=oye,wye=hye,Mye=mye,Sye=vye,Eye=bye;function Uy(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Uy.prototype.clear=xye;Uy.prototype.delete=wye;Uy.prototype.get=Mye;Uy.prototype.has=Sye;Uy.prototype.set=Eye;var d5=Uy,Oye=d5;function Bye(){this.__data__=new Oye,this.size=0}var Iye=Bye;function kye(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}var Tye=kye;function Kye(t){return this.__data__.get(t)}var Pye=Kye;function Uye(t){return this.__data__.has(t)}var Dye=Uye,Fye=sh,Lye=Fye["__core-js_shared__"],Rye=Lye,MM=Rye,iK=function(){var t=/[^.]+$/.exec(MM&&MM.keys&&MM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zye(t){return!!iK&&iK in t}var jye=zye,Wye=Function.prototype,Nye=Wye.toString;function Gye(t){if(t!=null){try{return Nye.call(t)}catch{}try{return t+""}catch{}}return""}var WW=Gye,Qye=J7,$ye=jye,Yye=Bd,qye=WW,Vye=/[\\^$.*+?()[\]{}|]/g,Hye=/^\[object .+?Constructor\]$/,Zye=Function.prototype,Xye=Object.prototype,Jye=Zye.toString,eve=Xye.hasOwnProperty,tve=RegExp("^"+Jye.call(eve).replace(Vye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nve(t){if(!Yye(t)||$ye(t))return!1;var n=Qye(t)?tve:Hye;return n.test(qye(t))}var rve=nve;function ive(t,n){return t==null?void 0:t[n]}var ove=ive,ave=rve,sve=ove;function lve(t,n){var e=sve(t,n);return ave(e)?e:void 0}var m1=lve,uve=m1,Ave=sh,cve=uve(Ave,"Map"),n8=cve,dve=m1,hve=dve(Object,"create"),h5=hve,oK=h5;function fve(){this.__data__=oK?oK(null):{},this.size=0}var pve=fve;function mve(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var gve=mve,yve=h5,vve="__lodash_hash_undefined__",Cve=Object.prototype,_ve=Cve.hasOwnProperty;function bve(t){var n=this.__data__;if(yve){var e=n[t];return e===vve?void 0:e}return _ve.call(n,t)?n[t]:void 0}var xve=bve,wve=h5,Mve=Object.prototype,Sve=Mve.hasOwnProperty;function Eve(t){var n=this.__data__;return wve?n[t]!==void 0:Sve.call(n,t)}var Ove=Eve,Bve=h5,Ive="__lodash_hash_undefined__";function kve(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Bve&&n===void 0?Ive:n,this}var Tve=kve,Kve=pve,Pve=gve,Uve=xve,Dve=Ove,Fve=Tve;function Dy(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Dy.prototype.clear=Kve;Dy.prototype.delete=Pve;Dy.prototype.get=Uve;Dy.prototype.has=Dve;Dy.prototype.set=Fve;var Lve=Dy,aK=Lve,Rve=d5,zve=n8;function jve(){this.size=0,this.__data__={hash:new aK,map:new(zve||Rve),string:new aK}}var Wve=jve;function Nve(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}var Gve=Nve,Qve=Gve;function $ve(t,n){var e=t.__data__;return Qve(n)?e[typeof n=="string"?"string":"hash"]:e.map}var f5=$ve,Yve=f5;function qve(t){var n=Yve(this,t).delete(t);return this.size-=n?1:0,n}var Vve=qve,Hve=f5;function Zve(t){return Hve(this,t).get(t)}var Xve=Zve,Jve=f5;function eCe(t){return Jve(this,t).has(t)}var tCe=eCe,nCe=f5;function rCe(t,n){var e=nCe(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}var iCe=rCe,oCe=Wve,aCe=Vve,sCe=Xve,lCe=tCe,uCe=iCe;function Fy(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Fy.prototype.clear=oCe;Fy.prototype.delete=aCe;Fy.prototype.get=sCe;Fy.prototype.has=lCe;Fy.prototype.set=uCe;var r8=Fy,ACe=d5,cCe=n8,dCe=r8,hCe=200;function fCe(t,n){var e=this.__data__;if(e instanceof ACe){var r=e.__data__;if(!cCe||r.length<hCe-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new dCe(r)}return e.set(t,n),this.size=e.size,this}var pCe=fCe,mCe=d5,gCe=Iye,yCe=Tye,vCe=Pye,CCe=Dye,_Ce=pCe;function Ly(t){var n=this.__data__=new mCe(t);this.size=n.size}Ly.prototype.clear=gCe;Ly.prototype.delete=yCe;Ly.prototype.get=vCe;Ly.prototype.has=CCe;Ly.prototype.set=_Ce;var p5=Ly,bCe="__lodash_hash_undefined__";function xCe(t){return this.__data__.set(t,bCe),this}var wCe=xCe;function MCe(t){return this.__data__.has(t)}var SCe=MCe,ECe=r8,OCe=wCe,BCe=SCe;function D3(t){var n=-1,e=t==null?0:t.length;for(this.__data__=new ECe;++n<e;)this.add(t[n])}D3.prototype.add=D3.prototype.push=OCe;D3.prototype.has=BCe;var ICe=D3;function kCe(t,n){for(var e=-1,r=t==null?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var TCe=kCe;function KCe(t,n){return t.has(n)}var PCe=KCe,UCe=ICe,DCe=TCe,FCe=PCe,LCe=1,RCe=2;function zCe(t,n,e,r,i,o){var s=e&LCe,a=t.length,f=n.length;if(a!=f&&!(s&&f>a))return!1;var g=o.get(t),x=o.get(n);if(g&&x)return g==n&&x==t;var I=-1,B=!0,D=e&RCe?new UCe:void 0;for(o.set(t,n),o.set(n,t);++I<a;){var L=t[I],V=n[I];if(r)var W=s?r(V,L,I,n,t,o):r(L,V,I,t,n,o);if(W!==void 0){if(W)continue;B=!1;break}if(D){if(!DCe(n,function(j,G){if(!FCe(D,G)&&(L===j||i(L,j,e,r,o)))return D.push(G)})){B=!1;break}}else if(!(L===V||i(L,V,e,r,o))){B=!1;break}}return o.delete(t),o.delete(n),B}var NW=zCe,jCe=sh,WCe=jCe.Uint8Array,GW=WCe;function NCe(t){var n=-1,e=Array(t.size);return t.forEach(function(r,i){e[++n]=[i,r]}),e}var GCe=NCe;function QCe(t){var n=-1,e=Array(t.size);return t.forEach(function(r){e[++n]=r}),e}var $Ce=QCe,sK=F_,lK=GW,YCe=R_,qCe=NW,VCe=GCe,HCe=$Ce,ZCe=1,XCe=2,JCe="[object Boolean]",e_e="[object Date]",t_e="[object Error]",n_e="[object Map]",r_e="[object Number]",i_e="[object RegExp]",o_e="[object Set]",a_e="[object String]",s_e="[object Symbol]",l_e="[object ArrayBuffer]",u_e="[object DataView]",uK=sK?sK.prototype:void 0,SM=uK?uK.valueOf:void 0;function A_e(t,n,e,r,i,o,s){switch(e){case u_e:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case l_e:return!(t.byteLength!=n.byteLength||!o(new lK(t),new lK(n)));case JCe:case e_e:case r_e:return YCe(+t,+n);case t_e:return t.name==n.name&&t.message==n.message;case i_e:case a_e:return t==n+"";case n_e:var a=VCe;case o_e:var f=r&ZCe;if(a||(a=HCe),t.size!=n.size&&!f)return!1;var g=s.get(t);if(g)return g==n;r|=XCe,s.set(t,n);var x=qCe(a(t),a(n),r,i,o,s);return s.delete(t),x;case s_e:if(SM)return SM.call(t)==SM.call(n)}return!1}var c_e=A_e;function d_e(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}var QW=d_e,h_e=QW,f_e=Rc;function p_e(t,n,e){var r=n(t);return f_e(t)?r:h_e(r,e(t))}var $W=p_e;function m_e(t,n){for(var e=-1,r=t==null?0:t.length,i=0,o=[];++e<r;){var s=t[e];n(s,e,t)&&(o[i++]=s)}return o}var g_e=m_e;function y_e(){return[]}var YW=y_e,v_e=g_e,C_e=YW,__e=Object.prototype,b_e=__e.propertyIsEnumerable,AK=Object.getOwnPropertySymbols,x_e=AK?function(t){return t==null?[]:(t=Object(t),v_e(AK(t),function(n){return b_e.call(t,n)}))}:C_e,i8=x_e,w_e=$W,M_e=i8,S_e=L_;function E_e(t){return w_e(t,S_e,M_e)}var qW=E_e,cK=qW,O_e=1,B_e=Object.prototype,I_e=B_e.hasOwnProperty;function k_e(t,n,e,r,i,o){var s=e&O_e,a=cK(t),f=a.length,g=cK(n),x=g.length;if(f!=x&&!s)return!1;for(var I=f;I--;){var B=a[I];if(!(s?B in n:I_e.call(n,B)))return!1}var D=o.get(t),L=o.get(n);if(D&&L)return D==n&&L==t;var V=!0;o.set(t,n),o.set(n,t);for(var W=s;++I<f;){B=a[I];var j=t[B],G=n[B];if(r)var ee=s?r(G,j,B,n,t,o):r(j,G,B,t,n,o);if(!(ee===void 0?j===G||i(j,G,e,r,o):ee)){V=!1;break}W||(W=B=="constructor")}if(V&&!W){var re=t.constructor,se=n.constructor;re!=se&&"constructor"in t&&"constructor"in n&&!(typeof re=="function"&&re instanceof re&&typeof se=="function"&&se instanceof se)&&(V=!1)}return o.delete(t),o.delete(n),V}var T_e=k_e,K_e=m1,P_e=sh,U_e=K_e(P_e,"DataView"),D_e=U_e,F_e=m1,L_e=sh,R_e=F_e(L_e,"Promise"),z_e=R_e,j_e=m1,W_e=sh,N_e=j_e(W_e,"Set"),G_e=N_e,Q_e=m1,$_e=sh,Y_e=Q_e($_e,"WeakMap"),q_e=Y_e,wE=D_e,ME=n8,SE=z_e,EE=G_e,OE=q_e,VW=p1,Ry=WW,dK="[object Map]",V_e="[object Object]",hK="[object Promise]",fK="[object Set]",pK="[object WeakMap]",mK="[object DataView]",H_e=Ry(wE),Z_e=Ry(ME),X_e=Ry(SE),J_e=Ry(EE),ebe=Ry(OE),v0=VW;(wE&&v0(new wE(new ArrayBuffer(1)))!=mK||ME&&v0(new ME)!=dK||SE&&v0(SE.resolve())!=hK||EE&&v0(new EE)!=fK||OE&&v0(new OE)!=pK)&&(v0=function(t){var n=VW(t),e=n==V_e?t.constructor:void 0,r=e?Ry(e):"";if(r)switch(r){case H_e:return mK;case Z_e:return dK;case X_e:return hK;case J_e:return fK;case ebe:return pK}return n});var m5=v0,EM=p5,tbe=NW,nbe=c_e,rbe=T_e,gK=m5,yK=Rc,vK=u5,ibe=Z7,obe=1,CK="[object Arguments]",_K="[object Array]",bx="[object Object]",abe=Object.prototype,bK=abe.hasOwnProperty;function sbe(t,n,e,r,i,o){var s=yK(t),a=yK(n),f=s?_K:gK(t),g=a?_K:gK(n);f=f==CK?bx:f,g=g==CK?bx:g;var x=f==bx,I=g==bx,B=f==g;if(B&&vK(t)){if(!vK(n))return!1;s=!0,x=!1}if(B&&!x)return o||(o=new EM),s||ibe(t)?tbe(t,n,e,r,i,o):nbe(t,n,f,e,r,i,o);if(!(e&obe)){var D=x&&bK.call(t,"__wrapped__"),L=I&&bK.call(n,"__wrapped__");if(D||L){var V=D?t.value():t,W=L?n.value():n;return o||(o=new EM),i(V,W,e,r,o)}}return B?(o||(o=new EM),rbe(t,n,e,r,i,o)):!1}var lbe=sbe,ube=lbe,xK=sf;function HW(t,n,e,r,i){return t===n?!0:t==null||n==null||!xK(t)&&!xK(n)?t!==t&&n!==n:ube(t,n,e,r,HW,i)}var ZW=HW,Abe=p5,cbe=ZW,dbe=1,hbe=2;function fbe(t,n,e,r){var i=e.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=e[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=e[i];var f=a[0],g=t[f],x=a[1];if(s&&a[2]){if(g===void 0&&!(f in t))return!1}else{var I=new Abe;if(r)var B=r(g,x,f,t,n,I);if(!(B===void 0?cbe(x,g,dbe|hbe,r,I):B))return!1}}return!0}var pbe=fbe,mbe=Bd;function gbe(t){return t===t&&!mbe(t)}var XW=gbe,ybe=XW,vbe=L_;function Cbe(t){for(var n=vbe(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,ybe(i)]}return n}var _be=Cbe;function bbe(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==void 0||t in Object(e))}}var JW=bbe,xbe=pbe,wbe=_be,Mbe=JW;function Sbe(t){var n=wbe(t);return n.length==1&&n[0][2]?Mbe(n[0][0],n[0][1]):function(e){return e===t||xbe(e,t,n)}}var Ebe=Sbe,Obe=p1,Bbe=sf,Ibe="[object Symbol]";function kbe(t){return typeof t=="symbol"||Bbe(t)&&Obe(t)==Ibe}var g5=kbe,Tbe=Rc,Kbe=g5,Pbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ube=/^\w*$/;function Dbe(t,n){if(Tbe(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||Kbe(t)?!0:Ube.test(t)||!Pbe.test(t)||n!=null&&t in Object(n)}var o8=Dbe,eN=r8,Fbe="Expected a function";function a8(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(Fbe);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return e.cache=o.set(i,s)||o,s};return e.cache=new(a8.Cache||eN),e}a8.Cache=eN;var Lbe=a8,Rbe=Lbe,zbe=500;function jbe(t){var n=Rbe(t,function(r){return e.size===zbe&&e.clear(),r}),e=n.cache;return n}var Wbe=jbe,Nbe=Wbe,Gbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qbe=/\\(\\)?/g,$be=Nbe(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(Gbe,function(e,r,i,o){n.push(i?o.replace(Qbe,"$1"):r||e)}),n}),Ybe=$be,wK=F_,qbe=jW,Vbe=Rc,Hbe=g5,Zbe=1/0,MK=wK?wK.prototype:void 0,SK=MK?MK.toString:void 0;function tN(t){if(typeof t=="string")return t;if(Vbe(t))return qbe(t,tN)+"";if(Hbe(t))return SK?SK.call(t):"";var n=t+"";return n=="0"&&1/t==-Zbe?"-0":n}var Xbe=tN,Jbe=Xbe;function exe(t){return t==null?"":Jbe(t)}var txe=exe,nxe=Rc,rxe=o8,ixe=Ybe,oxe=txe;function axe(t,n){return nxe(t)?t:rxe(t,n)?[t]:ixe(oxe(t))}var nN=axe,sxe=g5,lxe=1/0;function uxe(t){if(typeof t=="string"||sxe(t))return t;var n=t+"";return n=="0"&&1/t==-lxe?"-0":n}var y5=uxe,Axe=nN,cxe=y5;function dxe(t,n){n=Axe(n,t);for(var e=0,r=n.length;t!=null&&e<r;)t=t[cxe(n[e++])];return e&&e==r?t:void 0}var rN=dxe,hxe=rN;function fxe(t,n,e){var r=t==null?void 0:hxe(t,n);return r===void 0?e:r}var pxe=fxe;function mxe(t,n){return t!=null&&n in Object(t)}var gxe=mxe,yxe=nN,vxe=$7,Cxe=Rc,_xe=Y7,bxe=q7,xxe=y5;function wxe(t,n,e){n=yxe(n,t);for(var r=-1,i=n.length,o=!1;++r<i;){var s=xxe(n[r]);if(!(o=t!=null&&e(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&bxe(i)&&_xe(s,i)&&(Cxe(t)||vxe(t)))}var Mxe=wxe,Sxe=gxe,Exe=Mxe;function Oxe(t,n){return t!=null&&Exe(t,n,Sxe)}var Bxe=Oxe,Ixe=ZW,kxe=pxe,Txe=Bxe,Kxe=o8,Pxe=XW,Uxe=JW,Dxe=y5,Fxe=1,Lxe=2;function Rxe(t,n){return Kxe(t)&&Pxe(n)?Uxe(Dxe(t),n):function(e){var r=kxe(e,t);return r===void 0&&r===n?Txe(e,t):Ixe(n,r,Fxe|Lxe)}}var zxe=Rxe;function jxe(t){return function(n){return n==null?void 0:n[t]}}var Wxe=jxe,Nxe=rN;function Gxe(t){return function(n){return Nxe(n,t)}}var Qxe=Gxe,$xe=Wxe,Yxe=Qxe,qxe=o8,Vxe=y5;function Hxe(t){return qxe(t)?$xe(Vxe(t)):Yxe(t)}var Zxe=Hxe,Xxe=Ebe,Jxe=zxe,e2e=A5,t2e=Rc,n2e=Zxe;function r2e(t){return typeof t=="function"?t:t==null?e2e:typeof t=="object"?t2e(t)?Jxe(t[0],t[1]):Xxe(t):n2e(t)}var i2e=r2e,o2e=Py;function a2e(t,n){return function(e,r){if(e==null)return e;if(!o2e(e))return t(e,r);for(var i=e.length,o=n?i:-1,s=Object(e);(n?o--:++o<i)&&r(s[o],o,s)!==!1;);return e}}var s2e=a2e,l2e=FW,u2e=s2e,A2e=u2e(l2e),iN=A2e,c2e=iN,d2e=Py;function h2e(t,n){var e=-1,r=d2e(t)?Array(t.length):[];return c2e(t,function(i,o,s){r[++e]=n(i,o,s)}),r}var f2e=h2e,p2e=jW,m2e=i2e,g2e=f2e,y2e=Rc;function v2e(t,n){var e=y2e(t)?p2e:g2e;return e(t,m2e(n))}var C2e=v2e;Object.defineProperty(D_,"__esModule",{value:!0});D_.flattenNames=void 0;var _2e=J0e,b2e=v5(_2e),x2e=e8,w2e=v5(x2e),M2e=zW,S2e=v5(M2e),E2e=C2e,O2e=v5(E2e);function v5(t){return t&&t.__esModule?t:{default:t}}var B2e=D_.flattenNames=function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return(0,O2e.default)(n,function(r){Array.isArray(r)?t(r).map(function(i){return e.push(i)}):(0,S2e.default)(r)?(0,w2e.default)(r,function(i,o){i===!0&&e.push(o),e.push(o+"-"+i)}):(0,b2e.default)(r)&&e.push(r)}),e};D_.default=B2e;var z_={};function I2e(t,n){for(var e=-1,r=t==null?0:t.length;++e<r&&n(t[e],e,t)!==!1;);return t}var oN=I2e,k2e=m1,T2e=function(){try{var t=k2e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aN=T2e,EK=aN;function K2e(t,n,e){n=="__proto__"&&EK?EK(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}var s8=K2e,P2e=s8,U2e=R_,D2e=Object.prototype,F2e=D2e.hasOwnProperty;function L2e(t,n,e){var r=t[n];(!(F2e.call(t,n)&&U2e(r,e))||e===void 0&&!(n in t))&&P2e(t,n,e)}var sN=L2e,R2e=sN,z2e=s8;function j2e(t,n,e,r){var i=!e;e||(e={});for(var o=-1,s=n.length;++o<s;){var a=n[o],f=r?r(e[a],t[a],a,e,t):void 0;f===void 0&&(f=t[a]),i?z2e(e,a,f):R2e(e,a,f)}return e}var j_=j2e,W2e=j_,N2e=L_;function G2e(t,n){return t&&W2e(n,N2e(n),t)}var Q2e=G2e;function $2e(t){var n=[];if(t!=null)for(var e in Object(t))n.push(e);return n}var Y2e=$2e,q2e=Bd,V2e=X7,H2e=Y2e,Z2e=Object.prototype,X2e=Z2e.hasOwnProperty;function J2e(t){if(!q2e(t))return H2e(t);var n=V2e(t),e=[];for(var r in t)r=="constructor"&&(n||!X2e.call(t,r))||e.push(r);return e}var e3e=J2e,t3e=UW,n3e=e3e,r3e=Py;function i3e(t){return r3e(t)?t3e(t,!0):n3e(t)}var W_=i3e,o3e=j_,a3e=W_;function s3e(t,n){return t&&o3e(n,a3e(n),t)}var l3e=s3e,F3={exports:{}};F3.exports;(function(t,n){var e=sh,r=n&&!n.nodeType&&n,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?e.Buffer:void 0,a=s?s.allocUnsafe:void 0;function f(g,x){if(x)return g.slice();var I=g.length,B=a?a(I):new g.constructor(I);return g.copy(B),B}t.exports=f})(F3,F3.exports);var lN=F3.exports;function u3e(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}var uN=u3e,A3e=j_,c3e=i8;function d3e(t,n){return A3e(t,c3e(t),n)}var h3e=d3e,f3e=QW,p3e=t8,m3e=i8,g3e=YW,y3e=Object.getOwnPropertySymbols,v3e=y3e?function(t){for(var n=[];t;)f3e(n,m3e(t)),t=p3e(t);return n}:g3e,AN=v3e,C3e=j_,_3e=AN;function b3e(t,n){return C3e(t,_3e(t),n)}var x3e=b3e,w3e=$W,M3e=AN,S3e=W_;function E3e(t){return w3e(t,S3e,M3e)}var O3e=E3e,B3e=Object.prototype,I3e=B3e.hasOwnProperty;function k3e(t){var n=t.length,e=new t.constructor(n);return n&&typeof t[0]=="string"&&I3e.call(t,"index")&&(e.index=t.index,e.input=t.input),e}var T3e=k3e,OK=GW;function K3e(t){var n=new t.constructor(t.byteLength);return new OK(n).set(new OK(t)),n}var l8=K3e,P3e=l8;function U3e(t,n){var e=n?P3e(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}var D3e=U3e,F3e=/\w*$/;function L3e(t){var n=new t.constructor(t.source,F3e.exec(t));return n.lastIndex=t.lastIndex,n}var R3e=L3e,BK=F_,IK=BK?BK.prototype:void 0,kK=IK?IK.valueOf:void 0;function z3e(t){return kK?Object(kK.call(t)):{}}var j3e=z3e,W3e=l8;function N3e(t,n){var e=n?W3e(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var cN=N3e,G3e=l8,Q3e=D3e,$3e=R3e,Y3e=j3e,q3e=cN,V3e="[object Boolean]",H3e="[object Date]",Z3e="[object Map]",X3e="[object Number]",J3e="[object RegExp]",e4e="[object Set]",t4e="[object String]",n4e="[object Symbol]",r4e="[object ArrayBuffer]",i4e="[object DataView]",o4e="[object Float32Array]",a4e="[object Float64Array]",s4e="[object Int8Array]",l4e="[object Int16Array]",u4e="[object Int32Array]",A4e="[object Uint8Array]",c4e="[object Uint8ClampedArray]",d4e="[object Uint16Array]",h4e="[object Uint32Array]";function f4e(t,n,e){var r=t.constructor;switch(n){case r4e:return G3e(t);case V3e:case H3e:return new r(+t);case i4e:return Q3e(t,e);case o4e:case a4e:case s4e:case l4e:case u4e:case A4e:case c4e:case d4e:case h4e:return q3e(t,e);case Z3e:return new r;case X3e:case t4e:return new r(t);case J3e:return $3e(t);case e4e:return new r;case n4e:return Y3e(t)}}var p4e=f4e,m4e=Bd,TK=Object.create,g4e=function(){function t(){}return function(n){if(!m4e(n))return{};if(TK)return TK(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}(),y4e=g4e,v4e=y4e,C4e=t8,_4e=X7;function b4e(t){return typeof t.constructor=="function"&&!_4e(t)?v4e(C4e(t)):{}}var dN=b4e,x4e=m5,w4e=sf,M4e="[object Map]";function S4e(t){return w4e(t)&&x4e(t)==M4e}var E4e=S4e,O4e=E4e,B4e=V7,KK=H7,PK=KK&&KK.isMap,I4e=PK?B4e(PK):O4e,k4e=I4e,T4e=m5,K4e=sf,P4e="[object Set]";function U4e(t){return K4e(t)&&T4e(t)==P4e}var D4e=U4e,F4e=D4e,L4e=V7,UK=H7,DK=UK&&UK.isSet,R4e=DK?L4e(DK):F4e,z4e=R4e,j4e=p5,W4e=oN,N4e=sN,G4e=Q2e,Q4e=l3e,$4e=lN,Y4e=uN,q4e=h3e,V4e=x3e,H4e=qW,Z4e=O3e,X4e=m5,J4e=T3e,e5e=p4e,t5e=dN,n5e=Rc,r5e=u5,i5e=k4e,o5e=Bd,a5e=z4e,s5e=L_,l5e=W_,u5e=1,A5e=2,c5e=4,hN="[object Arguments]",d5e="[object Array]",h5e="[object Boolean]",f5e="[object Date]",p5e="[object Error]",fN="[object Function]",m5e="[object GeneratorFunction]",g5e="[object Map]",y5e="[object Number]",pN="[object Object]",v5e="[object RegExp]",C5e="[object Set]",_5e="[object String]",b5e="[object Symbol]",x5e="[object WeakMap]",w5e="[object ArrayBuffer]",M5e="[object DataView]",S5e="[object Float32Array]",E5e="[object Float64Array]",O5e="[object Int8Array]",B5e="[object Int16Array]",I5e="[object Int32Array]",k5e="[object Uint8Array]",T5e="[object Uint8ClampedArray]",K5e="[object Uint16Array]",P5e="[object Uint32Array]",Qa={};Qa[hN]=Qa[d5e]=Qa[w5e]=Qa[M5e]=Qa[h5e]=Qa[f5e]=Qa[S5e]=Qa[E5e]=Qa[O5e]=Qa[B5e]=Qa[I5e]=Qa[g5e]=Qa[y5e]=Qa[pN]=Qa[v5e]=Qa[C5e]=Qa[_5e]=Qa[b5e]=Qa[k5e]=Qa[T5e]=Qa[K5e]=Qa[P5e]=!0;Qa[p5e]=Qa[fN]=Qa[x5e]=!1;function Jx(t,n,e,r,i,o){var s,a=n&u5e,f=n&A5e,g=n&c5e;if(e&&(s=i?e(t,r,i,o):e(t)),s!==void 0)return s;if(!o5e(t))return t;var x=n5e(t);if(x){if(s=J4e(t),!a)return Y4e(t,s)}else{var I=X4e(t),B=I==fN||I==m5e;if(r5e(t))return $4e(t,a);if(I==pN||I==hN||B&&!i){if(s=f||B?{}:t5e(t),!a)return f?V4e(t,Q4e(s,t)):q4e(t,G4e(s,t))}else{if(!Qa[I])return i?t:{};s=e5e(t,I,a)}}o||(o=new j4e);var D=o.get(t);if(D)return D;o.set(t,s),a5e(t)?t.forEach(function(W){s.add(Jx(W,n,e,W,t,o))}):i5e(t)&&t.forEach(function(W,j){s.set(j,Jx(W,n,e,j,t,o))});var L=g?f?Z4e:H4e:f?l5e:s5e,V=x?void 0:L(t);return W4e(V||t,function(W,j){V&&(j=W,W=t[j]),N4e(s,j,Jx(W,n,e,j,t,o))}),s}var U5e=Jx,D5e=U5e,F5e=1,L5e=4;function R5e(t){return D5e(t,F5e|L5e)}var z5e=R5e;Object.defineProperty(z_,"__esModule",{value:!0});z_.mergeClasses=void 0;var j5e=e8,W5e=mN(j5e),N5e=z5e,G5e=mN(N5e),Q5e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function mN(t){return t&&t.__esModule?t:{default:t}}var $5e=z_.mergeClasses=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.default&&(0,G5e.default)(n.default)||{};return e.map(function(i){var o=n[i];return o&&(0,W5e.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=Q5e({},r[a],o[a])}),i}),r};z_.default=$5e;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});N_.autoprefix=void 0;var Y5e=e8,FK=V5e(Y5e),q5e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function V5e(t){return t&&t.__esModule?t:{default:t}}var H5e={borderRadius:function(n){return{msBorderRadius:n,MozBorderRadius:n,OBorderRadius:n,WebkitBorderRadius:n,borderRadius:n}},boxShadow:function(n){return{msBoxShadow:n,MozBoxShadow:n,OBoxShadow:n,WebkitBoxShadow:n,boxShadow:n}},userSelect:function(n){return{WebkitTouchCallout:n,KhtmlUserSelect:n,MozUserSelect:n,msUserSelect:n,WebkitUserSelect:n,userSelect:n}},flex:function(n){return{WebkitBoxFlex:n,MozBoxFlex:n,WebkitFlex:n,msFlex:n,flex:n}},flexBasis:function(n){return{WebkitFlexBasis:n,flexBasis:n}},justifyContent:function(n){return{WebkitJustifyContent:n,justifyContent:n}},transition:function(n){return{msTransition:n,MozTransition:n,OTransition:n,WebkitTransition:n,transition:n}},transform:function(n){return{msTransform:n,MozTransform:n,OTransform:n,WebkitTransform:n,transform:n}},absolute:function(n){var e=n&&n.split(" ");return{position:"absolute",top:e&&e[0],right:e&&e[1],bottom:e&&e[2],left:e&&e[3]}},extend:function(n,e){var r=e[n];return r||{extend:n}}},Z5e=N_.autoprefix=function(n){var e={};return(0,FK.default)(n,function(r,i){var o={};(0,FK.default)(r,function(s,a){var f=H5e[a];f?o=q5e({},o,f(s)):o[a]=s}),e[i]=o}),e};N_.default=Z5e;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});G_.hover=void 0;var X5e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},J5e=Or,OM=ewe(J5e);function ewe(t){return t&&t.__esModule?t:{default:t}}function twe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function LK(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function nwe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var rwe=G_.hover=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){nwe(i,r);function i(){var o,s,a,f;twe(this,i);for(var g=arguments.length,x=Array(g),I=0;I<g;I++)x[I]=arguments[I];return f=(s=(a=LK(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(x))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return OM.default.createElement(e,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},OM.default.createElement(n,X5e({},a.props,a.state)))},s),LK(a,f)}return i}(OM.default.Component)};G_.default=rwe;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.active=void 0;var iwe=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},owe=Or,BM=awe(owe);function awe(t){return t&&t.__esModule?t:{default:t}}function swe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function RK(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function lwe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var uwe=Q_.active=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){lwe(i,r);function i(){var o,s,a,f;swe(this,i);for(var g=arguments.length,x=Array(g),I=0;I<g;I++)x[I]=arguments[I];return f=(s=(a=RK(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(x))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return BM.default.createElement(e,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},BM.default.createElement(n,iwe({},a.props,a.state)))},s),RK(a,f)}return i}(BM.default.Component)};Q_.default=uwe;var u8={};Object.defineProperty(u8,"__esModule",{value:!0});var Awe=function(n,e){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return n===0&&i("first-child"),n===e-1&&i("last-child"),(n===0||n%2===0)&&i("even"),Math.abs(n%2)===1&&i("odd"),i("nth-child",n),r};u8.default=Awe;Object.defineProperty(Es,"__esModule",{value:!0});Es.ReactCSS=Es.loop=Es.handleActive=Es.handleHover=Es.hover=void 0;var cwe=D_,dwe=zy(cwe),hwe=z_,fwe=zy(hwe),pwe=N_,mwe=zy(pwe),gwe=G_,gN=zy(gwe),ywe=Q_,vwe=zy(ywe),Cwe=u8,_we=zy(Cwe);function zy(t){return t&&t.__esModule?t:{default:t}}Es.hover=gN.default;Es.handleHover=gN.default;Es.handleActive=vwe.default;Es.loop=_we.default;var bwe=Es.ReactCSS=function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var o=(0,dwe.default)(r),s=(0,fwe.default)(n,o);return(0,mwe.default)(s)};Es.default=bwe;var xwe=s8,wwe=R_;function Mwe(t,n,e){(e!==void 0&&!wwe(t[n],e)||e===void 0&&!(n in t))&&xwe(t,n,e)}var yN=Mwe,Swe=Py,Ewe=sf;function Owe(t){return Ewe(t)&&Swe(t)}var Bwe=Owe;function Iwe(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var vN=Iwe,kwe=j_,Twe=W_;function Kwe(t){return kwe(t,Twe(t))}var Pwe=Kwe,zK=yN,Uwe=lN,Dwe=cN,Fwe=uN,Lwe=dN,jK=$7,WK=Rc,Rwe=Bwe,zwe=u5,jwe=J7,Wwe=Bd,Nwe=zW,Gwe=Z7,NK=vN,Qwe=Pwe;function $we(t,n,e,r,i,o,s){var a=NK(t,e),f=NK(n,e),g=s.get(f);if(g){zK(t,e,g);return}var x=o?o(a,f,e+"",t,n,s):void 0,I=x===void 0;if(I){var B=WK(f),D=!B&&zwe(f),L=!B&&!D&&Gwe(f);x=f,B||D||L?WK(a)?x=a:Rwe(a)?x=Fwe(a):D?(I=!1,x=Uwe(f,!0)):L?(I=!1,x=Dwe(f,!0)):x=[]:Nwe(f)||jK(f)?(x=a,jK(a)?x=Qwe(a):(!Wwe(a)||jwe(a))&&(x=Lwe(f))):I=!1}I&&(s.set(f,x),i(x,f,r,o,s),s.delete(f)),zK(t,e,x)}var Ywe=$we,qwe=p5,Vwe=yN,Hwe=KW,Zwe=Ywe,Xwe=Bd,Jwe=W_,eMe=vN;function CN(t,n,e,r,i){t!==n&&Hwe(n,function(o,s){if(i||(i=new qwe),Xwe(o))Zwe(t,n,s,e,CN,r,i);else{var a=r?r(eMe(t,s),o,s+"",t,n,i):void 0;a===void 0&&(a=o),Vwe(t,s,a)}},Jwe)}var tMe=CN;function nMe(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}var rMe=nMe,iMe=rMe,GK=Math.max;function oMe(t,n,e){return n=GK(n===void 0?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=GK(r.length-n,0),s=Array(o);++i<o;)s[i]=r[n+i];i=-1;for(var a=Array(n+1);++i<n;)a[i]=r[i];return a[n]=e(s),iMe(t,this,a)}}var aMe=oMe;function sMe(t){return function(){return t}}var lMe=sMe,uMe=lMe,QK=aN,AMe=A5,cMe=QK?function(t,n){return QK(t,"toString",{configurable:!0,enumerable:!1,value:uMe(n),writable:!0})}:AMe,dMe=cMe,hMe=800,fMe=16,pMe=Date.now;function mMe(t){var n=0,e=0;return function(){var r=pMe(),i=fMe-(r-e);if(e=r,i>0){if(++n>=hMe)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}var gMe=mMe,yMe=dMe,vMe=gMe,CMe=vMe(yMe),_Me=CMe,bMe=A5,xMe=aMe,wMe=_Me;function MMe(t,n){return wMe(xMe(t,n,bMe),t+"")}var SMe=MMe,EMe=R_,OMe=Py,BMe=Y7,IMe=Bd;function kMe(t,n,e){if(!IMe(e))return!1;var r=typeof n;return(r=="number"?OMe(e)&&BMe(n,e.length):r=="string"&&n in e)?EMe(e[n],t):!1}var TMe=kMe,KMe=SMe,PMe=TMe;function UMe(t){return KMe(function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,s=i>2?e[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&PMe(e[0],e[1],s)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var a=e[r];a&&t(n,a,r,o)}return n})}var DMe=UMe,FMe=tMe,LMe=DMe,RMe=LMe(function(t,n,e){FMe(t,n,e)}),_N=RMe,A8={},$_={},c8={};Object.defineProperty(c8,"__esModule",{value:!0});c8.calculateChange=function(n,e,r,i,o){var s=o.clientWidth,a=o.clientHeight,f=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,g=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,x=f-(o.getBoundingClientRect().left+window.pageXOffset),I=g-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var B=void 0;if(I<0?B=0:I>a?B=1:B=Math.round(I*100/a)/100,e.a!==B)return{h:e.h,s:e.s,l:e.l,a:B,source:"rgb"}}else{var D=void 0;if(x<0?D=0:x>s?D=1:D=Math.round(x*100/s)/100,i!==D)return{h:e.h,s:e.s,l:e.l,a:D,source:"rgb"}}return null};var g1={},C5={};Object.defineProperty(C5,"__esModule",{value:!0});var IM={},zMe=C5.render=function(n,e,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=n,s.fillRect(0,0,o.width,o.height),s.fillStyle=e,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null};C5.get=function(n,e,r,i){var o=n+"-"+e+"-"+r+(i?"-server":"");if(IM[o])return IM[o];var s=zMe(n,e,r,i);return IM[o]=s,s};Object.defineProperty(g1,"__esModule",{value:!0});g1.Checkboard=void 0;var $K=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},bN=Or,YK=xN(bN),jMe=Es,WMe=xN(jMe),NMe=C5,GMe=QMe(NMe);function QMe(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function xN(t){return t&&t.__esModule?t:{default:t}}var wN=g1.Checkboard=function(n){var e=n.white,r=n.grey,i=n.size,o=n.renderers,s=n.borderRadius,a=n.boxShadow,f=n.children,g=(0,WMe.default)({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+GMe.get(e,r,i,o.canvas)+") center left"}}});return(0,bN.isValidElement)(f)?YK.default.cloneElement(f,$K({},f.props,{style:$K({},f.props.style,g.grid)})):YK.default.createElement("div",{style:g.grid})};wN.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};g1.default=wN;Object.defineProperty($_,"__esModule",{value:!0});$_.Alpha=void 0;var $Me=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},YMe=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),BE=Or,Vp=d8(BE),qMe=Es,VMe=d8(qMe),HMe=c8,ZMe=eSe(HMe),XMe=g1,JMe=d8(XMe);function eSe(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function d8(t){return t&&t.__esModule?t:{default:t}}function tSe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function qK(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function nSe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var rSe=$_.Alpha=function(t){nSe(n,t);function n(){var e,r,i,o;tSe(this,n);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=qK(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),i),i.handleChange=function(g){var x=ZMe.calculateChange(g,i.props.hsl,i.props.direction,i.props.a,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),qK(i,o)}return YMe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,VMe.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:$Me({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Vp.default.createElement("div",{style:o.alpha},Vp.default.createElement("div",{style:o.checkboard},Vp.default.createElement(JMe.default,{renderers:this.props.renderers})),Vp.default.createElement("div",{style:o.gradient}),Vp.default.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Vp.default.createElement("div",{style:o.pointer},this.props.pointer?Vp.default.createElement(this.props.pointer,this.props):Vp.default.createElement("div",{style:o.slider}))))}}]),n}(BE.PureComponent||BE.Component);$_.default=rSe;var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.EditableInput=void 0;var iSe=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),IE=Or,kM=MN(IE),oSe=Es,aSe=MN(oSe);function MN(t){return t&&t.__esModule?t:{default:t}}function sSe(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function lSe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function uSe(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function ASe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var cSe=1,SN=38,dSe=40,hSe=[SN,dSe],fSe=function(n){return hSe.indexOf(n)>-1},pSe=function(n){return Number(String(n).replace(/%/g,""))},mSe=1,gSe=Y_.EditableInput=function(t){ASe(n,t);function n(e){lSe(this,n);var r=uSe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=pSe(i.target.value);if(!isNaN(o)&&fSe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===SN?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},r.inputId="rc-editable-input-"+mSe++,r}return iSe(n,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return sSe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||cSe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,aSe.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return kM.default.createElement("div",{style:i.wrap},kM.default.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?kM.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),n}(IE.PureComponent||IE.Component);Y_.default=gSe;var q_={},h8={};Object.defineProperty(h8,"__esModule",{value:!0});h8.calculateChange=function(n,e,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,f=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,g=a-(i.getBoundingClientRect().left+window.pageXOffset),x=f-(i.getBoundingClientRect().top+window.pageYOffset);if(e==="vertical"){var I=void 0;if(x<0)I=359;else if(x>s)I=0;else{var B=-(x*100/s)+100;I=360*B/100}if(r.h!==I)return{h:I,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var D=void 0;if(g<0)D=0;else if(g>o)D=359;else{var L=g*100/o;D=360*L/100}if(r.h!==D)return{h:D,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(q_,"__esModule",{value:!0});q_.Hue=void 0;var ySe=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),kE=Or,tg=EN(kE),vSe=Es,CSe=EN(vSe),_Se=h8,bSe=xSe(_Se);function xSe(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function EN(t){return t&&t.__esModule?t:{default:t}}function wSe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function VK(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function MSe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var SSe=q_.Hue=function(t){MSe(n,t);function n(){var e,r,i,o;wSe(this,n);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=VK(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),i),i.handleChange=function(g){var x=bSe.calculateChange(g,i.props.direction,i.props.hsl,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),VK(i,o)}return ySe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=(0,CSe.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return tg.default.createElement("div",{style:s.hue},tg.default.createElement("div",{className:"hue-"+o,style:s.container,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},tg.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),tg.default.createElement("div",{style:s.pointer},this.props.pointer?tg.default.createElement(this.props.pointer,this.props):tg.default.createElement("div",{style:s.slider}))))}}]),n}(kE.PureComponent||kE.Component);q_.default=SSe;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.Raised=void 0;var ESe=Or,TM=_5(ESe),OSe=oh,xx=_5(OSe),BSe=Es,ISe=_5(BSe),kSe=_N,TSe=_5(kSe);function _5(t){return t&&t.__esModule?t:{default:t}}var f8=V_.Raised=function(n){var e=n.zDepth,r=n.radius,i=n.background,o=n.children,s=n.styles,a=s===void 0?{}:s,f=(0,ISe.default)((0,TSe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+e*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":e===1});return TM.default.createElement("div",{style:f.wrap},TM.default.createElement("div",{style:f.bg}),TM.default.createElement("div",{style:f.content},o))};f8.propTypes={background:xx.default.string,zDepth:xx.default.oneOf([0,1,2,3,4,5]),radius:xx.default.number,styles:xx.default.object};f8.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};V_.default=f8;var H_={},KSe=sh,PSe=function(){return KSe.Date.now()},USe=PSe,DSe=/\s/;function FSe(t){for(var n=t.length;n--&&DSe.test(t.charAt(n)););return n}var LSe=FSe,RSe=LSe,zSe=/^\s+/;function jSe(t){return t&&t.slice(0,RSe(t)+1).replace(zSe,"")}var WSe=jSe,NSe=WSe,HK=Bd,GSe=g5,ZK=NaN,QSe=/^[-+]0x[0-9a-f]+$/i,$Se=/^0b[01]+$/i,YSe=/^0o[0-7]+$/i,qSe=parseInt;function VSe(t){if(typeof t=="number")return t;if(GSe(t))return ZK;if(HK(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=HK(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=NSe(t);var e=$Se.test(t);return e||YSe.test(t)?qSe(t.slice(2),e?2:8):QSe.test(t)?ZK:+t}var HSe=VSe,ZSe=Bd,KM=USe,XK=HSe,XSe="Expected a function",JSe=Math.max,e6e=Math.min;function t6e(t,n,e){var r,i,o,s,a,f,g=0,x=!1,I=!1,B=!0;if(typeof t!="function")throw new TypeError(XSe);n=XK(n)||0,ZSe(e)&&(x=!!e.leading,I="maxWait"in e,o=I?JSe(XK(e.maxWait)||0,n):o,B="trailing"in e?!!e.trailing:B);function D(oe){var ue=r,me=i;return r=i=void 0,g=oe,s=t.apply(me,ue),s}function L(oe){return g=oe,a=setTimeout(j,n),x?D(oe):s}function V(oe){var ue=oe-f,me=oe-g,De=n-ue;return I?e6e(De,o-me):De}function W(oe){var ue=oe-f,me=oe-g;return f===void 0||ue>=n||ue<0||I&&me>=o}function j(){var oe=KM();if(W(oe))return G(oe);a=setTimeout(j,V(oe))}function G(oe){return a=void 0,B&&r?D(oe):(r=i=void 0,s)}function ee(){a!==void 0&&clearTimeout(a),g=0,r=f=i=a=void 0}function re(){return a===void 0?s:G(KM())}function se(){var oe=KM(),ue=W(oe);if(r=arguments,i=this,f=oe,ue){if(a===void 0)return L(f);if(I)return clearTimeout(a),a=setTimeout(j,n),D(f)}return a===void 0&&(a=setTimeout(j,n)),s}return se.cancel=ee,se.flush=re,se}var ON=t6e,n6e=ON,r6e=Bd,i6e="Expected a function";function o6e(t,n,e){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(i6e);return r6e(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),n6e(t,n,{leading:r,maxWait:n,trailing:i})}var a6e=o6e,p8={};Object.defineProperty(p8,"__esModule",{value:!0});p8.calculateChange=function(n,e,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,f=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,g=a-(r.getBoundingClientRect().left+window.pageXOffset),x=f-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>o&&(g=o),x<0?x=0:x>s&&(x=s);var I=g/o,B=1-x/s;return{h:e.h,s:I,v:B,a:e.a,source:"hsv"}};Object.defineProperty(H_,"__esModule",{value:!0});H_.Saturation=void 0;var s6e=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),TE=Or,f0=m8(TE),l6e=Es,u6e=m8(l6e),A6e=a6e,c6e=m8(A6e),d6e=p8,h6e=f6e(d6e);function f6e(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function m8(t){return t&&t.__esModule?t:{default:t}}function p6e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function m6e(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function g6e(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var y6e=H_.Saturation=function(t){g6e(n,t);function n(e){p6e(this,n);var r=m6e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,h6e.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,c6e.default)(function(i,o,s){i(o,s)},50),r}return s6e(n,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,f=i.pointer,g=i.circle,x=(0,u6e.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:f,circle:g}},{custom:!!this.props.style});return f0.default.createElement("div",{style:x.color,ref:function(B){return r.container=B},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},f0.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),f0.default.createElement("div",{style:x.white,className:"saturation-white"},f0.default.createElement("div",{style:x.black,className:"saturation-black"}),f0.default.createElement("div",{style:x.pointer},this.props.pointer?f0.default.createElement(this.props.pointer,this.props):f0.default.createElement("div",{style:x.circle}))))}}]),n}(TE.PureComponent||TE.Component);H_.default=y6e;var Z_={},vA={},v6e=oN,C6e=iN,_6e=LW,b6e=Rc;function x6e(t,n){var e=b6e(t)?v6e:C6e;return e(t,_6e(n))}var w6e=x6e,M6e=w6e,BN={exports:{}};(function(t,n){(function(e,r){t.exports=r()})(tf,function(){function e(xe){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},e(xe)}var r=/^\s+/,i=/\s+$/;function o(xe,ce){if(xe=xe||"",ce=ce||{},xe instanceof o)return xe;if(!(this instanceof o))return new o(xe,ce);var _e=s(xe);this._originalInput=xe,this._r=_e.r,this._g=_e.g,this._b=_e.b,this._a=_e.a,this._roundA=Math.round(100*this._a)/100,this._format=ce.format||_e.format,this._gradientType=ce.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=_e.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ce=this.toRgb();return(ce.r*299+ce.g*587+ce.b*114)/1e3},getLuminance:function(){var ce=this.toRgb(),_e,Ke,Ve,Ze,bt,Gt;return _e=ce.r/255,Ke=ce.g/255,Ve=ce.b/255,_e<=.03928?Ze=_e/12.92:Ze=Math.pow((_e+.055)/1.055,2.4),Ke<=.03928?bt=Ke/12.92:bt=Math.pow((Ke+.055)/1.055,2.4),Ve<=.03928?Gt=Ve/12.92:Gt=Math.pow((Ve+.055)/1.055,2.4),.2126*Ze+.7152*bt+.0722*Gt},setAlpha:function(ce){return this._a=Je(ce),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var ce=x(this._r,this._g,this._b);return{h:ce.h*360,s:ce.s,v:ce.v,a:this._a}},toHsvString:function(){var ce=x(this._r,this._g,this._b),_e=Math.round(ce.h*360),Ke=Math.round(ce.s*100),Ve=Math.round(ce.v*100);return this._a==1?"hsv("+_e+", "+Ke+"%, "+Ve+"%)":"hsva("+_e+", "+Ke+"%, "+Ve+"%, "+this._roundA+")"},toHsl:function(){var ce=f(this._r,this._g,this._b);return{h:ce.h*360,s:ce.s,l:ce.l,a:this._a}},toHslString:function(){var ce=f(this._r,this._g,this._b),_e=Math.round(ce.h*360),Ke=Math.round(ce.s*100),Ve=Math.round(ce.l*100);return this._a==1?"hsl("+_e+", "+Ke+"%, "+Ve+"%)":"hsla("+_e+", "+Ke+"%, "+Ve+"%, "+this._roundA+")"},toHex:function(ce){return B(this._r,this._g,this._b,ce)},toHexString:function(ce){return"#"+this.toHex(ce)},toHex8:function(ce){return D(this._r,this._g,this._b,this._a,ce)},toHex8String:function(ce){return"#"+this.toHex8(ce)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ve(this._r,255)*100)+"%",g:Math.round(ve(this._g,255)*100)+"%",b:Math.round(ve(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ve(this._r,255)*100)+"%, "+Math.round(ve(this._g,255)*100)+"%, "+Math.round(ve(this._b,255)*100)+"%)":"rgba("+Math.round(ve(this._r,255)*100)+"%, "+Math.round(ve(this._g,255)*100)+"%, "+Math.round(ve(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ht[B(this._r,this._g,this._b,!0)]||!1},toFilter:function(ce){var _e="#"+L(this._r,this._g,this._b,this._a),Ke=_e,Ve=this._gradientType?"GradientType = 1, ":"";if(ce){var Ze=o(ce);Ke="#"+L(Ze._r,Ze._g,Ze._b,Ze._a)}return"progid:DXImageTransform.Microsoft.gradient("+Ve+"startColorstr="+_e+",endColorstr="+Ke+")"},toString:function(ce){var _e=!!ce;ce=ce||this._format;var Ke=!1,Ve=this._a<1&&this._a>=0,Ze=!_e&&Ve&&(ce==="hex"||ce==="hex6"||ce==="hex3"||ce==="hex4"||ce==="hex8"||ce==="name");return Ze?ce==="name"&&this._a===0?this.toName():this.toRgbString():(ce==="rgb"&&(Ke=this.toRgbString()),ce==="prgb"&&(Ke=this.toPercentageRgbString()),(ce==="hex"||ce==="hex6")&&(Ke=this.toHexString()),ce==="hex3"&&(Ke=this.toHexString(!0)),ce==="hex4"&&(Ke=this.toHex8String(!0)),ce==="hex8"&&(Ke=this.toHex8String()),ce==="name"&&(Ke=this.toName()),ce==="hsl"&&(Ke=this.toHslString()),ce==="hsv"&&(Ke=this.toHsvString()),Ke||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(ce,_e){var Ke=ce.apply(null,[this].concat([].slice.call(_e)));return this._r=Ke._r,this._g=Ke._g,this._b=Ke._b,this.setAlpha(Ke._a),this},lighten:function(){return this._applyModification(G,arguments)},brighten:function(){return this._applyModification(ee,arguments)},darken:function(){return this._applyModification(re,arguments)},desaturate:function(){return this._applyModification(V,arguments)},saturate:function(){return this._applyModification(W,arguments)},greyscale:function(){return this._applyModification(j,arguments)},spin:function(){return this._applyModification(se,arguments)},_applyCombination:function(ce,_e){return ce.apply(null,[this].concat([].slice.call(_e)))},analogous:function(){return this._applyCombination(De,arguments)},complement:function(){return this._applyCombination(oe,arguments)},monochromatic:function(){return this._applyCombination(Re,arguments)},splitcomplement:function(){return this._applyCombination(me,arguments)},triad:function(){return this._applyCombination(ue,[3])},tetrad:function(){return this._applyCombination(ue,[4])}},o.fromRatio=function(xe,ce){if(e(xe)=="object"){var _e={};for(var Ke in xe)xe.hasOwnProperty(Ke)&&(Ke==="a"?_e[Ke]=xe[Ke]:_e[Ke]=qe(xe[Ke]));xe=_e}return o(xe,ce)};function s(xe){var ce={r:0,g:0,b:0},_e=1,Ke=null,Ve=null,Ze=null,bt=!1,Gt=!1;return typeof xe=="string"&&(xe=Et(xe)),e(xe)=="object"&&(ot(xe.r)&&ot(xe.g)&&ot(xe.b)?(ce=a(xe.r,xe.g,xe.b),bt=!0,Gt=String(xe.r).substr(-1)==="%"?"prgb":"rgb"):ot(xe.h)&&ot(xe.s)&&ot(xe.v)?(Ke=qe(xe.s),Ve=qe(xe.v),ce=I(xe.h,Ke,Ve),bt=!0,Gt="hsv"):ot(xe.h)&&ot(xe.s)&&ot(xe.l)&&(Ke=qe(xe.s),Ze=qe(xe.l),ce=g(xe.h,Ke,Ze),bt=!0,Gt="hsl"),xe.hasOwnProperty("a")&&(_e=xe.a)),_e=Je(_e),{ok:bt,format:xe.format||Gt,r:Math.min(255,Math.max(ce.r,0)),g:Math.min(255,Math.max(ce.g,0)),b:Math.min(255,Math.max(ce.b,0)),a:_e}}function a(xe,ce,_e){return{r:ve(xe,255)*255,g:ve(ce,255)*255,b:ve(_e,255)*255}}function f(xe,ce,_e){xe=ve(xe,255),ce=ve(ce,255),_e=ve(_e,255);var Ke=Math.max(xe,ce,_e),Ve=Math.min(xe,ce,_e),Ze,bt,Gt=(Ke+Ve)/2;if(Ke==Ve)Ze=bt=0;else{var Lt=Ke-Ve;switch(bt=Gt>.5?Lt/(2-Ke-Ve):Lt/(Ke+Ve),Ke){case xe:Ze=(ce-_e)/Lt+(ce<_e?6:0);break;case ce:Ze=(_e-xe)/Lt+2;break;case _e:Ze=(xe-ce)/Lt+4;break}Ze/=6}return{h:Ze,s:bt,l:Gt}}function g(xe,ce,_e){var Ke,Ve,Ze;xe=ve(xe,360),ce=ve(ce,100),_e=ve(_e,100);function bt(Un,rr,qt){return qt<0&&(qt+=1),qt>1&&(qt-=1),qt<1/6?Un+(rr-Un)*6*qt:qt<1/2?rr:qt<2/3?Un+(rr-Un)*(2/3-qt)*6:Un}if(ce===0)Ke=Ve=Ze=_e;else{var Gt=_e<.5?_e*(1+ce):_e+ce-_e*ce,Lt=2*_e-Gt;Ke=bt(Lt,Gt,xe+1/3),Ve=bt(Lt,Gt,xe),Ze=bt(Lt,Gt,xe-1/3)}return{r:Ke*255,g:Ve*255,b:Ze*255}}function x(xe,ce,_e){xe=ve(xe,255),ce=ve(ce,255),_e=ve(_e,255);var Ke=Math.max(xe,ce,_e),Ve=Math.min(xe,ce,_e),Ze,bt,Gt=Ke,Lt=Ke-Ve;if(bt=Ke===0?0:Lt/Ke,Ke==Ve)Ze=0;else{switch(Ke){case xe:Ze=(ce-_e)/Lt+(ce<_e?6:0);break;case ce:Ze=(_e-xe)/Lt+2;break;case _e:Ze=(xe-ce)/Lt+4;break}Ze/=6}return{h:Ze,s:bt,v:Gt}}function I(xe,ce,_e){xe=ve(xe,360)*6,ce=ve(ce,100),_e=ve(_e,100);var Ke=Math.floor(xe),Ve=xe-Ke,Ze=_e*(1-ce),bt=_e*(1-Ve*ce),Gt=_e*(1-(1-Ve)*ce),Lt=Ke%6,Un=[_e,bt,Ze,Ze,Gt,_e][Lt],rr=[Gt,_e,_e,bt,Ze,Ze][Lt],qt=[Ze,Ze,Gt,_e,_e,bt][Lt];return{r:Un*255,g:rr*255,b:qt*255}}function B(xe,ce,_e,Ke){var Ve=[Ne(Math.round(xe).toString(16)),Ne(Math.round(ce).toString(16)),Ne(Math.round(_e).toString(16))];return Ke&&Ve[0].charAt(0)==Ve[0].charAt(1)&&Ve[1].charAt(0)==Ve[1].charAt(1)&&Ve[2].charAt(0)==Ve[2].charAt(1)?Ve[0].charAt(0)+Ve[1].charAt(0)+Ve[2].charAt(0):Ve.join("")}function D(xe,ce,_e,Ke,Ve){var Ze=[Ne(Math.round(xe).toString(16)),Ne(Math.round(ce).toString(16)),Ne(Math.round(_e).toString(16)),Ne(tt(Ke))];return Ve&&Ze[0].charAt(0)==Ze[0].charAt(1)&&Ze[1].charAt(0)==Ze[1].charAt(1)&&Ze[2].charAt(0)==Ze[2].charAt(1)&&Ze[3].charAt(0)==Ze[3].charAt(1)?Ze[0].charAt(0)+Ze[1].charAt(0)+Ze[2].charAt(0)+Ze[3].charAt(0):Ze.join("")}function L(xe,ce,_e,Ke){var Ve=[Ne(tt(Ke)),Ne(Math.round(xe).toString(16)),Ne(Math.round(ce).toString(16)),Ne(Math.round(_e).toString(16))];return Ve.join("")}o.equals=function(xe,ce){return!xe||!ce?!1:o(xe).toRgbString()==o(ce).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function V(xe,ce){ce=ce===0?0:ce||10;var _e=o(xe).toHsl();return _e.s-=ce/100,_e.s=ft(_e.s),o(_e)}function W(xe,ce){ce=ce===0?0:ce||10;var _e=o(xe).toHsl();return _e.s+=ce/100,_e.s=ft(_e.s),o(_e)}function j(xe){return o(xe).desaturate(100)}function G(xe,ce){ce=ce===0?0:ce||10;var _e=o(xe).toHsl();return _e.l+=ce/100,_e.l=ft(_e.l),o(_e)}function ee(xe,ce){ce=ce===0?0:ce||10;var _e=o(xe).toRgb();return _e.r=Math.max(0,Math.min(255,_e.r-Math.round(255*-(ce/100)))),_e.g=Math.max(0,Math.min(255,_e.g-Math.round(255*-(ce/100)))),_e.b=Math.max(0,Math.min(255,_e.b-Math.round(255*-(ce/100)))),o(_e)}function re(xe,ce){ce=ce===0?0:ce||10;var _e=o(xe).toHsl();return _e.l-=ce/100,_e.l=ft(_e.l),o(_e)}function se(xe,ce){var _e=o(xe).toHsl(),Ke=(_e.h+ce)%360;return _e.h=Ke<0?360+Ke:Ke,o(_e)}function oe(xe){var ce=o(xe).toHsl();return ce.h=(ce.h+180)%360,o(ce)}function ue(xe,ce){if(isNaN(ce)||ce<=0)throw new Error("Argument to polyad must be a positive number");for(var _e=o(xe).toHsl(),Ke=[o(xe)],Ve=360/ce,Ze=1;Ze<ce;Ze++)Ke.push(o({h:(_e.h+Ze*Ve)%360,s:_e.s,l:_e.l}));return Ke}function me(xe){var ce=o(xe).toHsl(),_e=ce.h;return[o(xe),o({h:(_e+72)%360,s:ce.s,l:ce.l}),o({h:(_e+216)%360,s:ce.s,l:ce.l})]}function De(xe,ce,_e){ce=ce||6,_e=_e||30;var Ke=o(xe).toHsl(),Ve=360/_e,Ze=[o(xe)];for(Ke.h=(Ke.h-(Ve*ce>>1)+720)%360;--ce;)Ke.h=(Ke.h+Ve)%360,Ze.push(o(Ke));return Ze}function Re(xe,ce){ce=ce||6;for(var _e=o(xe).toHsv(),Ke=_e.h,Ve=_e.s,Ze=_e.v,bt=[],Gt=1/ce;ce--;)bt.push(o({h:Ke,s:Ve,v:Ze})),Ze=(Ze+Gt)%1;return bt}o.mix=function(xe,ce,_e){_e=_e===0?0:_e||50;var Ke=o(xe).toRgb(),Ve=o(ce).toRgb(),Ze=_e/100,bt={r:(Ve.r-Ke.r)*Ze+Ke.r,g:(Ve.g-Ke.g)*Ze+Ke.g,b:(Ve.b-Ke.b)*Ze+Ke.b,a:(Ve.a-Ke.a)*Ze+Ke.a};return o(bt)},o.readability=function(xe,ce){var _e=o(xe),Ke=o(ce);return(Math.max(_e.getLuminance(),Ke.getLuminance())+.05)/(Math.min(_e.getLuminance(),Ke.getLuminance())+.05)},o.isReadable=function(xe,ce,_e){var Ke=o.readability(xe,ce),Ve,Ze;switch(Ze=!1,Ve=Kt(_e),Ve.level+Ve.size){case"AAsmall":case"AAAlarge":Ze=Ke>=4.5;break;case"AAlarge":Ze=Ke>=3;break;case"AAAsmall":Ze=Ke>=7;break}return Ze},o.mostReadable=function(xe,ce,_e){var Ke=null,Ve=0,Ze,bt,Gt,Lt;_e=_e||{},bt=_e.includeFallbackColors,Gt=_e.level,Lt=_e.size;for(var Un=0;Un<ce.length;Un++)Ze=o.readability(xe,ce[Un]),Ze>Ve&&(Ve=Ze,Ke=o(ce[Un]));return o.isReadable(xe,Ke,{level:Gt,size:Lt})||!bt?Ke:(_e.includeFallbackColors=!1,o.mostReadable(xe,["#fff","#000"],_e))};var et=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ht=o.hexNames=ke(et);function ke(xe){var ce={};for(var _e in xe)xe.hasOwnProperty(_e)&&(ce[xe[_e]]=_e);return ce}function Je(xe){return xe=parseFloat(xe),(isNaN(xe)||xe<0||xe>1)&&(xe=1),xe}function ve(xe,ce){tn(xe)&&(xe="100%");var _e=St(xe);return xe=Math.min(ce,Math.max(0,parseFloat(xe))),_e&&(xe=parseInt(xe*ce,10)/100),Math.abs(xe-ce)<1e-6?1:xe%ce/parseFloat(ce)}function ft(xe){return Math.min(1,Math.max(0,xe))}function Ft(xe){return parseInt(xe,16)}function tn(xe){return typeof xe=="string"&&xe.indexOf(".")!=-1&&parseFloat(xe)===1}function St(xe){return typeof xe=="string"&&xe.indexOf("%")!=-1}function Ne(xe){return xe.length==1?"0"+xe:""+xe}function qe(xe){return xe<=1&&(xe=xe*100+"%"),xe}function tt(xe){return Math.round(parseFloat(xe)*255).toString(16)}function Jt(xe){return Ft(xe)/255}var dt=function(){var xe="[-\\+]?\\d+%?",ce="[-\\+]?\\d*\\.\\d+%?",_e="(?:"+ce+")|(?:"+xe+")",Ke="[\\s|\\(]+("+_e+")[,|\\s]+("+_e+")[,|\\s]+("+_e+")\\s*\\)?",Ve="[\\s|\\(]+("+_e+")[,|\\s]+("+_e+")[,|\\s]+("+_e+")[,|\\s]+("+_e+")\\s*\\)?";return{CSS_UNIT:new RegExp(_e),rgb:new RegExp("rgb"+Ke),rgba:new RegExp("rgba"+Ve),hsl:new RegExp("hsl"+Ke),hsla:new RegExp("hsla"+Ve),hsv:new RegExp("hsv"+Ke),hsva:new RegExp("hsva"+Ve),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ot(xe){return!!dt.CSS_UNIT.exec(xe)}function Et(xe){xe=xe.replace(r,"").replace(i,"").toLowerCase();var ce=!1;if(et[xe])xe=et[xe],ce=!0;else if(xe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var _e;return(_e=dt.rgb.exec(xe))?{r:_e[1],g:_e[2],b:_e[3]}:(_e=dt.rgba.exec(xe))?{r:_e[1],g:_e[2],b:_e[3],a:_e[4]}:(_e=dt.hsl.exec(xe))?{h:_e[1],s:_e[2],l:_e[3]}:(_e=dt.hsla.exec(xe))?{h:_e[1],s:_e[2],l:_e[3],a:_e[4]}:(_e=dt.hsv.exec(xe))?{h:_e[1],s:_e[2],v:_e[3]}:(_e=dt.hsva.exec(xe))?{h:_e[1],s:_e[2],v:_e[3],a:_e[4]}:(_e=dt.hex8.exec(xe))?{r:Ft(_e[1]),g:Ft(_e[2]),b:Ft(_e[3]),a:Jt(_e[4]),format:ce?"name":"hex8"}:(_e=dt.hex6.exec(xe))?{r:Ft(_e[1]),g:Ft(_e[2]),b:Ft(_e[3]),format:ce?"name":"hex"}:(_e=dt.hex4.exec(xe))?{r:Ft(_e[1]+""+_e[1]),g:Ft(_e[2]+""+_e[2]),b:Ft(_e[3]+""+_e[3]),a:Jt(_e[4]+""+_e[4]),format:ce?"name":"hex8"}:(_e=dt.hex3.exec(xe))?{r:Ft(_e[1]+""+_e[1]),g:Ft(_e[2]+""+_e[2]),b:Ft(_e[3]+""+_e[3]),format:ce?"name":"hex"}:!1}function Kt(xe){var ce,_e;return xe=xe||{level:"AA",size:"small"},ce=(xe.level||"AA").toUpperCase(),_e=(xe.size||"small").toLowerCase(),ce!=="AA"&&ce!=="AAA"&&(ce="AA"),_e!=="small"&&_e!=="large"&&(_e="small"),{level:ce,size:_e}}return o})})(BN);var S6e=BN.exports;Object.defineProperty(vA,"__esModule",{value:!0});vA.isvalidColorString=vA.red=vA.getContrastingColor=vA.isValidHex=vA.toState=vA.simpleCheckForValidColor=void 0;var E6e=M6e,O6e=IN(E6e),B6e=S6e,L3=IN(B6e);function IN(t){return t&&t.__esModule?t:{default:t}}vA.simpleCheckForValidColor=function(n){var e=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,O6e.default)(e,function(o){if(n[o]&&(r+=1,isNaN(n[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(n[o])&&(i+=1)}}),r===i?n:!1};var I6e=vA.toState=function(n,e){var r=n.hex?(0,L3.default)(n.hex):(0,L3.default)(n),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=e||0,o.h=e||0);var f=a==="000000"&&s.a===0;return{hsl:i,hex:f?"transparent":"#"+a,rgb:s,hsv:o,oldHue:n.h||e||i.h,source:n.source}};vA.isValidHex=function(n){if(n==="transparent")return!0;var e=String(n).charAt(0)==="#"?1:0;return n.length!==4+e&&n.length<7+e&&(0,L3.default)(n).isValid()};vA.getContrastingColor=function(n){if(!n)return"#fff";var e=I6e(n);if(e.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(e.rgb.r*299+e.rgb.g*587+e.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};vA.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};vA.isvalidColorString=function(n,e){var r=n.replace("","");return(0,L3.default)(e+" ("+r+")")._ok};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.ColorWrap=void 0;var Ov=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},k6e=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),KE=Or,T6e=kN(KE),K6e=ON,P6e=kN(K6e),U6e=vA,ng=D6e(U6e);function D6e(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function kN(t){return t&&t.__esModule?t:{default:t}}function F6e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function L6e(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function R6e(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var z6e=Z_.ColorWrap=function(n){var e=function(r){R6e(i,r);function i(o){F6e(this,i);var s=L6e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,f){var g=ng.simpleCheckForValidColor(a);if(g){var x=ng.toState(a,a.h||s.state.oldHue);s.setState(x),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,x,f),s.props.onChange&&s.props.onChange(x,f)}},s.handleSwatchHover=function(a,f){var g=ng.simpleCheckForValidColor(a);if(g){var x=ng.toState(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(x,f)}},s.state=Ov({},ng.toState(o.color,0)),s.debounce=(0,P6e.default)(function(a,f,g){a(f,g)},100),s}return k6e(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),T6e.default.createElement(n,Ov({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Ov({},ng.toState(s.color,a.oldHue))}}]),i}(KE.PureComponent||KE.Component);return e.propTypes=Ov({},n.propTypes),e.defaultProps=Ov({},n.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e};Z_.default=z6e;var X_={},b5={};Object.defineProperty(b5,"__esModule",{value:!0});b5.handleFocus=void 0;var j6e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},W6e=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),N6e=Or,PM=G6e(N6e);function G6e(t){return t&&t.__esModule?t:{default:t}}function Q6e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function JK(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function $6e(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}b5.handleFocus=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){$6e(i,r);function i(){var o,s,a,f;Q6e(this,i);for(var g=arguments.length,x=Array(g),I=0;I<g;I++)x[I]=arguments[I];return f=(s=(a=JK(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(x))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),JK(a,f)}return W6e(i,[{key:"render",value:function(){return PM.default.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},PM.default.createElement(n,j6e({},this.props,this.state)))}}]),i}(PM.default.Component)};Object.defineProperty(X_,"__esModule",{value:!0});X_.Swatch=void 0;var eP=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Y6e=Or,tP=g8(Y6e),q6e=Es,V6e=g8(q6e),H6e=b5,Z6e=g1,X6e=g8(Z6e);function g8(t){return t&&t.__esModule?t:{default:t}}var J6e=13,eEe=X_.Swatch=function(n){var e=n.color,r=n.style,i=n.onClick,o=i===void 0?function(){}:i,s=n.onHover,a=n.title,f=a===void 0?e:a,g=n.children,x=n.focus,I=n.focusStyle,B=I===void 0?{}:I,D=e==="transparent",L=(0,V6e.default)({default:{swatch:eP({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,x?B:{})}}),V=function(re){return o(e,re)},W=function(re){return re.keyCode===J6e&&o(e,re)},j=function(re){return s(e,re)},G={};return s&&(G.onMouseOver=j),tP.default.createElement("div",eP({style:L.swatch,onClick:V,title:f,tabIndex:0,onKeyDown:W},G),g,D&&tP.default.createElement(X6e.default,{borderRadius:L.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};X_.default=(0,H6e.handleFocus)(eEe);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=$_;Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return g(n).default}});var e=g1;Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return g(e).default}});var r=Y_;Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return g(r).default}});var i=q_;Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return g(i).default}});var o=V_;Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return g(o).default}});var s=H_;Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return g(s).default}});var a=Z_;Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return g(a).default}});var f=X_;Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return g(f).default}});function g(x){return x&&x.__esModule?x:{default:x}}})(A8);var J_={};function tEe(t){return t===void 0}var nEe=tEe,y8={};Object.defineProperty(y8,"__esModule",{value:!0});var nP=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},rEe=Or,rP=iEe(rEe);function iEe(t){return t&&t.__esModule?t:{default:t}}function oEe(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var wx=24;y8.default=function(t){var n=t.fill,e=n===void 0?"currentColor":n,r=t.width,i=r===void 0?wx:r,o=t.height,s=o===void 0?wx:o,a=t.style,f=a===void 0?{}:a,g=oEe(t,["fill","width","height","style"]);return rP.default.createElement("svg",nP({viewBox:"0 0 "+wx+" "+wx,style:nP({fill:e,width:i,height:s},f)},g),rP.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(J_,"__esModule",{value:!0});J_.ChromeFields=void 0;var aEe=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),sEe=Or,Na=x5(sEe),lEe=Es,uEe=x5(lEe),AEe=vA,cEe=pEe(AEe),dEe=nEe,iP=x5(dEe),jf=A8,hEe=y8,fEe=x5(hEe);function pEe(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function x5(t){return t&&t.__esModule?t:{default:t}}function mEe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function gEe(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function yEe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var TN=J_.ChromeFields=function(t){yEe(n,t);function n(e){mEe(this,n);var r=gEe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?cEe.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,iP.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,iP.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},e.hsl.a!==1&&e.view==="hex"?r.state={view:"rgb"}:r.state={view:e.view},r}return aEe(n,[{key:"render",value:function(){var r=this,i=(0,uEe.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=Na.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Na.default.createElement("div",{style:i.field},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=Na.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Na.default.createElement("div",{style:i.field},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Na.default.createElement("div",{style:i.field},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Na.default.createElement("div",{style:i.field},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Na.default.createElement("div",{style:i.alpha},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=Na.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Na.default.createElement("div",{style:i.field},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Na.default.createElement("div",{style:i.field},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Na.default.createElement("div",{style:i.field},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Na.default.createElement("div",{style:i.alpha},Na.default.createElement(jf.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Na.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,Na.default.createElement("div",{style:i.toggle},Na.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},Na.default.createElement(fEe.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),n}(Na.default.Component);TN.defaultProps={view:"hex"};J_.default=TN;var eb={};Object.defineProperty(eb,"__esModule",{value:!0});eb.ChromePointer=void 0;var vEe=Or,CEe=KN(vEe),_Ee=Es,bEe=KN(_Ee);function KN(t){return t&&t.__esModule?t:{default:t}}var xEe=eb.ChromePointer=function(){var n=(0,bEe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return CEe.default.createElement("div",{style:n.picker})};eb.default=xEe;var tb={};Object.defineProperty(tb,"__esModule",{value:!0});tb.ChromePointerCircle=void 0;var wEe=Or,MEe=PN(wEe),SEe=Es,EEe=PN(SEe);function PN(t){return t&&t.__esModule?t:{default:t}}var OEe=tb.ChromePointerCircle=function(){var n=(0,EEe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return MEe.default.createElement("div",{style:n.picker})};tb.default=OEe;Object.defineProperty(l5,"__esModule",{value:!0});l5.Chrome=void 0;var BEe=Or,yA=y1(BEe),IEe=oh,rg=y1(IEe),kEe=Es,TEe=y1(kEe),KEe=_N,PEe=y1(KEe),$v=A8,UEe=J_,DEe=y1(UEe),FEe=eb,oP=y1(FEe),LEe=tb,REe=y1(LEe);function y1(t){return t&&t.__esModule?t:{default:t}}var v8=l5.Chrome=function(n){var e=n.width,r=n.onChange,i=n.disableAlpha,o=n.rgb,s=n.hsl,a=n.hsv,f=n.hex,g=n.renderers,x=n.styles,I=x===void 0?{}:x,B=n.className,D=B===void 0?"":B,L=n.defaultView,V=(0,TEe.default)((0,PEe.default)({default:{picker:{width:e,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},I),{disableAlpha:i});return yA.default.createElement("div",{style:V.picker,className:"chrome-picker "+D},yA.default.createElement("div",{style:V.saturation},yA.default.createElement($v.Saturation,{style:V.Saturation,hsl:s,hsv:a,pointer:REe.default,onChange:r})),yA.default.createElement("div",{style:V.body},yA.default.createElement("div",{style:V.controls,className:"flexbox-fix"},yA.default.createElement("div",{style:V.color},yA.default.createElement("div",{style:V.swatch},yA.default.createElement("div",{style:V.active}),yA.default.createElement($v.Checkboard,{renderers:g}))),yA.default.createElement("div",{style:V.toggles},yA.default.createElement("div",{style:V.hue},yA.default.createElement($v.Hue,{style:V.Hue,hsl:s,pointer:oP.default,onChange:r})),yA.default.createElement("div",{style:V.alpha},yA.default.createElement($v.Alpha,{style:V.Alpha,rgb:o,hsl:s,pointer:oP.default,renderers:g,onChange:r})))),yA.default.createElement(DEe.default,{rgb:o,hsl:s,hex:f,view:L,onChange:r,disableAlpha:i})))};v8.propTypes={width:rg.default.oneOfType([rg.default.string,rg.default.number]),disableAlpha:rg.default.bool,styles:rg.default.object,defaultView:rg.default.oneOf(["hex","rgb","hsl"])};v8.defaultProps={width:225,disableAlpha:!1,styles:{}};var zEe=l5.default=(0,$v.ColorWrap)(v8);function fi(){var t="/workspaces/maputnik/src/components/InputColor.tsx",n="e1ad8984f978244a5c3f8cb9c6cf3aca14c75d93",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e1ad8984f978244a5c3f8cb9c6cf3aca14c75d93"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return fi=function(){return s},s}fi();function jEe(t){fi().f[0]++;const n=(fi().s[0]++,t.rgb);return fi().s[1]++,`rgba(${n.r}, ${n.g}, ${n.b}, ${n.a})`}class UN extends gn.Component{constructor(e){fi().f[1]++,fi().s[4]++;super(e);rn(this,"state",(fi().s[2]++,{pickerOpened:!1}));rn(this,"colorInput",(fi().s[3]++,null));rn(this,"calcPickerOffset",(fi().s[7]++,()=>{fi().f[3]++;const e=(fi().s[8]++,this.colorInput);if(fi().s[9]++,e){fi().b[0][0]++;const r=(fi().s[10]++,e.getBoundingClientRect());return fi().s[11]++,{top:r.top,left:r.left+196}}else return fi().b[0][1]++,fi().s[12]++,{top:160,left:555}}));rn(this,"togglePicker",(fi().s[13]++,()=>{fi().f[4]++,fi().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));fi().s[5]++,this.onChangeNoCheck=FS.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(e){fi().f[2]++,fi().s[6]++,this.props.onChange(e)}get color(){fi().f[5]++,fi().s[15]++;try{return fi().s[16]++,p6(this.props.value).rgb()}catch(e){return fi().s[17]++,console.warn("Error parsing color: ",e),fi().s[18]++,p6("rgb(255,255,255)")}}onChange(e){fi().f[6]++,fi().s[19]++,this.props.onChange(e===""?(fi().b[1][0]++,void 0):(fi().b[1][1]++,e))}render(){fi().f[7]++;const e=(fi().s[20]++,this.calcPickerOffset()),r=(fi().s[21]++,this.color.object()),i=(fi().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(fi().s[23]++,N.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:e.left,top:e.top},children:[N.jsx(zEe,{color:i,onChange:a=>(fi().f[8]++,fi().s[24]++,this.onChangeNoCheck(jEe(a)))}),N.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),s=(fi().s[25]++,{backgroundColor:this.props.value});return fi().s[26]++,N.jsxs("div",{className:"maputnik-color-wrapper",children:[(fi().b[2][0]++,this.state.pickerOpened&&(fi().b[2][1]++,o)),N.jsx("div",{className:"maputnik-color-swatch",style:s}),N.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:a=>(fi().f[9]++,fi().s[27]++,this.colorInput=a),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(fi().b[3][0]++,this.props.value):(fi().b[3][1]++,""),onChange:a=>(fi().f[10]++,fi().s[28]++,this.onChange(a.target.value))})]})}}function jt(){var t="/workspaces/maputnik/src/components/InputNumber.tsx",n="cd996ff25351f9a1feaedb8e0b08985c0ec91471",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:40,column:5}},10:{start:{line:31,column:6},end:{line:32,column:35}},11:{start:{line:32,column:8},end:{line:32,column:35}},12:{start:{line:33,column:6},end:{line:35,column:9}},13:{start:{line:36,column:11},end:{line:40,column:5}},14:{start:{line:37,column:6},end:{line:39,column:9}},15:{start:{line:41,column:4},end:{line:43,column:7}},16:{start:{line:46,column:4},end:{line:48,column:5}},17:{start:{line:47,column:6},end:{line:47,column:18}},18:{start:{line:49,column:18},end:{line:49,column:20}},19:{start:{line:50,column:4},end:{line:52,column:5}},20:{start:{line:51,column:6},end:{line:51,column:19}},21:{start:{line:53,column:4},end:{line:55,column:5}},22:{start:{line:54,column:6},end:{line:54,column:19}},23:{start:{line:56,column:4},end:{line:58,column:5}},24:{start:{line:57,column:6},end:{line:57,column:19}},25:{start:{line:59,column:4},end:{line:59,column:16}},26:{start:{line:61,column:15},end:{line:75,column:3}},27:{start:{line:62,column:4},end:{line:62,column:38}},28:{start:{line:63,column:4},end:{line:65,column:5}},29:{start:{line:64,column:6},end:{line:64,column:13}},30:{start:{line:66,column:4},end:{line:74,column:5}},31:{start:{line:67,column:6},end:{line:73,column:7}},32:{start:{line:68,column:8},end:{line:68,column:43}},33:{start:{line:69,column:8},end:{line:69,column:56}},34:{start:{line:71,column:8},end:{line:71,column:33}},35:{start:{line:72,column:8},end:{line:72,column:46}},36:{start:{line:76,column:18},end:{line:102,column:3}},37:{start:{line:77,column:16},end:{line:77,column:42}},38:{start:{line:78,column:17},end:{line:78,column:37}},39:{start:{line:79,column:21},end:{line:79,column:26}},40:{start:{line:80,column:4},end:{line:96,column:5}},41:{start:{line:81,column:19},end:{line:81,column:31}},42:{start:{line:82,column:6},end:{line:95,column:7}},43:{start:{line:83,column:8},end:{line:87,column:9}},44:{start:{line:84,column:10},end:{line:84,column:42}},45:{start:{line:86,column:10},end:{line:86,column:42}},46:{start:{line:88,column:8},end:{line:88,column:27}},47:{start:{line:90,column:8},end:{line:94,column:9}},48:{start:{line:91,column:10},end:{line:91,column:31}},49:{start:{line:93,column:10},end:{line:93,column:40}},50:{start:{line:97,column:4},end:{line:97,column:32}},51:{start:{line:98,column:4},end:{line:98,column:70}},52:{start:{line:99,column:4},end:{line:99,column:41}},53:{start:{line:100,column:4},end:{line:101,column:33}},54:{start:{line:101,column:6},end:{line:101,column:33}},55:{start:{line:104,column:4},end:{line:187,column:5}},56:{start:{line:105,column:20},end:{line:105,column:81}},57:{start:{line:106,column:27},end:{line:106,column:82}},58:{start:{line:108,column:6},end:{line:112,column:7}},59:{start:{line:109,column:8},end:{line:109,column:38}},60:{start:{line:111,column:8},end:{line:111,column:27}},61:{start:{line:113,column:6},end:{line:167,column:11}},62:{start:{line:126,column:14},end:{line:126,column:41}},63:{start:{line:129,column:14},end:{line:129,column:67}},64:{start:{line:132,column:14},end:{line:132,column:69}},65:{start:{line:135,column:14},end:{line:139,column:17}},66:{start:{line:154,column:14},end:{line:154,column:47}},67:{start:{line:157,column:14},end:{line:157,column:47}},68:{start:{line:160,column:14},end:{line:160,column:48}},69:{start:{line:161,column:14},end:{line:161,column:32}},70:{start:{line:169,column:20},end:{line:169,column:81}},71:{start:{line:170,column:6},end:{line:186,column:8}},72:{start:{line:178,column:27},end:{line:178,column:59}},73:{start:{line:180,column:12},end:{line:180,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:44,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:13},end:{line:60,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:21},end:{line:75,column:3}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:76,column:18},end:{line:76,column:19}},loc:{start:{line:76,column:25},end:{line:102,column:3}},line:76},6:{name:"(anonymous_6)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:11},end:{line:188,column:3}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:125,column:23},end:{line:125,column:24}},loc:{start:{line:125,column:29},end:{line:127,column:13}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:33},end:{line:130,column:13}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:31},end:{line:133,column:13}},line:131},10:{name:"(anonymous_10)",decl:{start:{line:134,column:20},end:{line:134,column:21}},loc:{start:{line:134,column:26},end:{line:140,column:13}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:153,column:21},end:{line:153,column:22}},loc:{start:{line:153,column:29},end:{line:155,column:13}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:156,column:22},end:{line:156,column:23}},loc:{start:{line:156,column:29},end:{line:158,column:13}},line:156},13:{name:"(anonymous_13)",decl:{start:{line:159,column:20},end:{line:159,column:21}},loc:{start:{line:159,column:28},end:{line:162,column:13}},line:159},14:{name:"(anonymous_14)",decl:{start:{line:178,column:20},end:{line:178,column:21}},loc:{start:{line:178,column:27},end:{line:178,column:59}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:179,column:19},end:{line:179,column:20}},loc:{start:{line:179,column:25},end:{line:181,column:11}},line:179}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:40,column:5}},{start:{line:36,column:11},end:{line:40,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:32,column:35}},type:"if",locations:[{start:{line:31,column:6},end:{line:32,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:36,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},8:{loc:{start:{line:36,column:15},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:15},end:{line:36,column:35}},{start:{line:36,column:39},end:{line:36,column:49}}],line:36},9:{loc:{start:{line:42,column:18},end:{line:42,column:50}},type:"cond-expr",locations:[{start:{line:42,column:36},end:{line:42,column:42}},{start:{line:42,column:45},end:{line:42,column:50}}],line:42},10:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},11:{loc:{start:{line:50,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},12:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},13:{loc:{start:{line:53,column:8},end:{line:53,column:56}},type:"binary-expr",locations:[{start:{line:53,column:8},end:{line:53,column:30}},{start:{line:53,column:34},end:{line:53,column:56}}],line:53},14:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},15:{loc:{start:{line:56,column:8},end:{line:56,column:56}},type:"binary-expr",locations:[{start:{line:56,column:8},end:{line:56,column:30}},{start:{line:56,column:34},end:{line:56,column:56}}],line:56},16:{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},17:{loc:{start:{line:66,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:66,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},18:{loc:{start:{line:67,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:73,column:7}},{start:{line:70,column:13},end:{line:73,column:7}}],line:67},19:{loc:{start:{line:80,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},20:{loc:{start:{line:82,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:95,column:7}},{start:{line:89,column:13},end:{line:95,column:7}}],line:82},21:{loc:{start:{line:83,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:87,column:9}},{start:{line:85,column:15},end:{line:87,column:9}}],line:83},22:{loc:{start:{line:90,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:94,column:9}},{start:{line:92,column:15},end:{line:94,column:9}}],line:90},23:{loc:{start:{line:100,column:4},end:{line:101,column:33}},type:"if",locations:[{start:{line:100,column:4},end:{line:101,column:33}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},24:{loc:{start:{line:104,column:4},end:{line:187,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:187,column:5}},{start:{line:168,column:11},end:{line:187,column:5}}],line:104},25:{loc:{start:{line:104,column:8},end:{line:104,column:205}},type:"binary-expr",locations:[{start:{line:104,column:8},end:{line:104,column:63}},{start:{line:104,column:67},end:{line:104,column:122}},{start:{line:104,column:126},end:{line:104,column:151}},{start:{line:104,column:155},end:{line:104,column:180}},{start:{line:104,column:184},end:{line:104,column:205}}],line:104},26:{loc:{start:{line:105,column:20},end:{line:105,column:81}},type:"cond-expr",locations:[{start:{line:105,column:41},end:{line:105,column:62}},{start:{line:105,column:65},end:{line:105,column:81}}],line:105},27:{loc:{start:{line:106,column:27},end:{line:106,column:82}},type:"cond-expr",locations:[{start:{line:106,column:59},end:{line:106,column:61}},{start:{line:106,column:64},end:{line:106,column:82}}],line:106},28:{loc:{start:{line:108,column:6},end:{line:112,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:112,column:7}},{start:{line:110,column:13},end:{line:112,column:7}}],line:108},29:{loc:{start:{line:123,column:19},end:{line:123,column:58}},type:"cond-expr",locations:[{start:{line:123,column:38},end:{line:123,column:50}},{start:{line:123,column:53},end:{line:123,column:58}}],line:123},30:{loc:{start:{line:152,column:19},end:{line:152,column:58}},type:"cond-expr",locations:[{start:{line:152,column:43},end:{line:152,column:45}},{start:{line:152,column:48},end:{line:152,column:58}}],line:152},31:{loc:{start:{line:169,column:20},end:{line:169,column:81}},type:"cond-expr",locations:[{start:{line:169,column:41},end:{line:169,column:62}},{start:{line:169,column:65},end:{line:169,column:81}}],line:169},32:{loc:{start:{line:177,column:17},end:{line:177,column:46}},type:"cond-expr",locations:[{start:{line:177,column:36},end:{line:177,column:38}},{start:{line:177,column:41},end:{line:177,column:46}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA2Ka,SACL,KADK;AA3Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AAuB7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM;AAAU,aAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,KAAK,MAAM,YAAa;AAClC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd996ff25351f9a1feaedb8e0b08985c0ec91471"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return jt=function(){return s},s}jt();class ef extends gn.Component{constructor(e){jt().f[0]++,jt().s[2]++;super(e);rn(this,"_keyboardEvent",(jt().s[1]++,!1));rn(this,"resetValue",(jt().s[26]++,()=>{if(jt().f[4]++,jt().s[27]++,this.setState({editing:!1}),jt().s[28]++,this.state.value)jt().b[16][1]++;else{jt().b[16][0]++,jt().s[29]++;return}jt().s[30]++,this.isValid(this.state.value)?jt().b[17][1]++:(jt().b[17][0]++,jt().s[31]++,this.isValid(this.props.value)?(jt().b[18][0]++,jt().s[32]++,this.changeValue(this.props.value),jt().s[33]++,this.setState({dirtyValue:this.props.value})):(jt().b[18][1]++,jt().s[34]++,this.changeValue(void 0),jt().s[35]++,this.setState({dirtyValue:void 0})))}));rn(this,"onChangeRange",(jt().s[36]++,e=>{jt().f[5]++;let r=(jt().s[37]++,parseFloat(e.target.value));const i=(jt().s[38]++,this.props.rangeStep);let o=(jt().s[39]++,r);if(jt().s[40]++,i){jt().b[19][0]++;const s=(jt().s[41]++,r%i);jt().s[42]++,this._keyboardEvent?(jt().b[20][0]++,jt().s[43]++,r<this.state.dirtyValue?(jt().b[21][0]++,jt().s[44]++,r=this.state.value-i):(jt().b[21][1]++,jt().s[45]++,r=this.state.value+i),jt().s[46]++,o=r):(jt().b[20][1]++,jt().s[47]++,s<i/2?(jt().b[22][0]++,jt().s[48]++,r=r-s):(jt().b[22][1]++,jt().s[49]++,r=r+(i-s)))}else jt().b[19][1]++;jt().s[50]++,this._keyboardEvent=!1,jt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),jt().s[52]++,this.setState({value:r,dirtyValue:o}),jt().s[53]++,this.props.onChange?(jt().b[23][0]++,jt().s[54]++,this.props.onChange(r)):jt().b[23][1]++}));jt().s[3]++,this.state={uuid:+gy(),editing:!1,value:e.value,dirtyValue:e.value}}static getDerivedStateFromProps(e,r){return jt().f[1]++,jt().s[4]++,jt().b[1][0]++,!r.editing&&(jt().b[1][1]++,e.value!==r.value)?(jt().b[0][0]++,jt().s[5]++,{value:e.value,dirtyValue:e.value}):(jt().b[0][1]++,jt().s[6]++,null)}changeValue(e){jt().f[2]++;const r=(jt().s[7]++,jt().b[3][0]++,e===""||(jt().b[3][1]++,e===void 0)?(jt().b[2][0]++,void 0):(jt().b[2][1]++,+e)),i=(jt().s[8]++,this.props.value!==r);jt().s[9]++,jt().b[5][0]++,this.isValid(r)&&(jt().b[5][1]++,i)?(jt().b[4][0]++,jt().s[10]++,this.props.onChange?(jt().b[6][0]++,jt().s[11]++,this.props.onChange(r)):jt().b[6][1]++,jt().s[12]++,this.setState({value:r})):(jt().b[4][1]++,jt().s[13]++,jt().b[8][0]++,!this.isValid(r)&&(jt().b[8][1]++,i)?(jt().b[7][0]++,jt().s[14]++,this.setState({value:void 0})):jt().b[7][1]++),jt().s[15]++,this.setState({dirtyValue:e===""?(jt().b[9][0]++,void 0):(jt().b[9][1]++,r)})}isValid(e){if(jt().f[3]++,jt().s[16]++,e===void 0)return jt().b[10][0]++,jt().s[17]++,!0;jt().b[10][1]++;const r=(jt().s[18]++,+e);return jt().s[19]++,isNaN(r)?(jt().b[11][0]++,jt().s[20]++,!1):(jt().b[11][1]++,jt().s[21]++,jt().b[13][0]++,!isNaN(this.props.min)&&(jt().b[13][1]++,r<this.props.min)?(jt().b[12][0]++,jt().s[22]++,!1):(jt().b[12][1]++,jt().s[23]++,jt().b[15][0]++,!isNaN(this.props.max)&&(jt().b[15][1]++,r>this.props.max)?(jt().b[14][0]++,jt().s[24]++,!1):(jt().b[14][1]++,jt().s[25]++,!0)))}render(){var e,r;if(jt().f[6]++,jt().s[55]++,jt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(jt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(jt().b[25][2]++,this.props.min!==void 0)&&(jt().b[25][3]++,this.props.max!==void 0)&&(jt().b[25][4]++,this.props.allowRange)){jt().b[24][0]++;const i=(jt().s[56]++,this.state.editing?(jt().b[26][0]++,this.state.dirtyValue):(jt().b[26][1]++,this.state.value)),o=(jt().s[57]++,this.props.default===void 0?(jt().b[27][0]++,""):(jt().b[27][1]++,this.props.default));let s;return jt().s[58]++,this.state.editingRange?(jt().b[28][0]++,jt().s[59]++,s=this.state.value):(jt().b[28][1]++,jt().s[60]++,s=i),jt().s[61]++,N.jsxs("div",{className:"maputnik-number-container",children:[N.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(jt().b[29][0]++,o):(jt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{jt().f[7]++,jt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{jt().f[8]++,jt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{jt().f[9]++,jt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{jt().f[10]++,jt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),N.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(e=this.props.default)==null?void 0:e.toString(),value:s===void 0?(jt().b[30][0]++,""):(jt().b[30][1]++,s),onFocus:a=>{jt().f[11]++,jt().s[66]++,this.setState({editing:!0})},onChange:a=>{jt().f[12]++,jt().s[67]++,this.changeValue(a.target.value)},onBlur:a=>{jt().f[13]++,jt().s[68]++,this.setState({editing:!1}),jt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{jt().b[24][1]++;const i=(jt().s[70]++,this.state.editing?(jt().b[31][0]++,this.state.dirtyValue):(jt().b[31][1]++,this.state.value));return jt().s[71]++,N.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(jt().b[32][0]++,""):(jt().b[32][1]++,i),onChange:o=>(jt().f[14]++,jt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{jt().f[15]++,jt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}rn(ef,"defaultProps",(jt().s[0]++,{rangeStep:1}));function Th(){var t="/workspaces/maputnik/src/components/InputCheckbox.tsx",n="2c3e4eee07ec293bb9e07c7d44587502278e52cf",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2c3e4eee07ec293bb9e07c7d44587502278e52cf"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Th=function(){return s},s}Th();class C8 extends gn.Component{constructor(){super(...arguments);rn(this,"onChange",(Th().s[1]++,()=>{Th().f[0]++,Th().s[2]++,this.props.onChange(!this.props.value)}))}render(){return Th().f[1]++,Th().s[3]++,N.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[N.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),N.jsx("div",{className:"maputnik-checkbox-box",children:N.jsx("svg",{style:{display:this.props.value?(Th().b[0][0]++,"inline"):(Th().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:N.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}rn(C8,"defaultProps",(Th().s[0]++,{value:!1}));function hr(){var t="/workspaces/maputnik/src/components/InputArray.tsx",n="b9a2002ce41d494a7877cf5157ac06994bd2de8b",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAwB,OAAwB;AAC9E,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b9a2002ce41d494a7877cf5157ac06994bd2de8b"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return hr=function(){return s},s}hr();var jM;let DN=(jM=class extends gn.Component{constructor(n){hr().f[0]++,hr().s[1]++,super(n),hr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(n,e){hr().f[1]++;const r=(hr().s[3]++,[]),i=(hr().s[4]++,e.initialPropsValue.slice(0));return hr().s[5]++,Array(n.length).fill(null).map((o,s)=>{hr().f[2]++,hr().s[6]++,n.value[s]===e.initialPropsValue[s]?(hr().b[0][0]++,hr().s[7]++,r[s]=e.value[s]):(hr().b[0][1]++,hr().s[8]++,r[s]=e.value[s],hr().s[9]++,i[s]=e.value[s])}),hr().s[10]++,{value:r,initialPropsValue:i}}isComplete(n){return hr().f[3]++,hr().s[11]++,Array(this.props.length).fill(null).every((e,r)=>{hr().f[4]++;const i=(hr().s[12]++,n[r]);return hr().s[13]++,hr().b[1][0]++,!(i===void 0||(hr().b[1][1]++,i===""))})}changeValue(n,e){hr().f[5]++;const r=(hr().s[14]++,this.state.value.slice(0));hr().s[15]++,r[n]=e,hr().s[16]++,this.setState({value:r},()=>{hr().f[6]++,hr().s[17]++,hr().b[3][0]++,this.isComplete(r)&&(hr().b[3][1]++,this.props.onChange)?(hr().b[2][0]++,hr().s[18]++,this.props.onChange(r)):(hr().b[2][1]++,hr().s[19]++,this.props.onChange?(hr().b[4][0]++,hr().s[20]++,this.props.onChange(void 0)):hr().b[4][1]++)})}render(){hr().f[7]++;const{value:n}=(hr().s[21]++,this.state),e=(hr().s[22]++,hr().b[5][0]++,n.length>0&&(hr().b[5][1]++,!n.every(i=>(hr().f[8]++,hr().s[23]++,hr().b[6][0]++,i===""||(hr().b[6][1]++,i===void 0))))),r=(hr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(hr().f[9]++,hr().s[25]++,this.props.type==="number"?(hr().b[7][0]++,hr().s[26]++,N.jsx(ef,{default:(hr().b[9][0]++,e||(hr().b[9][1]++,!this.props.default)?(hr().b[8][0]++,void 0):(hr().b[8][1]++,this.props.default[o])),value:n[o],required:e?(hr().b[10][0]++,!0):(hr().b[10][1]++,!1),onChange:s=>(hr().f[10]++,hr().s[27]++,this.changeValue(o,s)),"aria-label":(hr().b[11][0]++,this.props["aria-label"]||(hr().b[11][1]++,this.props.label))},o)):(hr().b[7][1]++,hr().s[28]++,N.jsx(Sd,{default:(hr().b[13][0]++,e||(hr().b[13][1]++,!this.props.default)?(hr().b[12][0]++,void 0):(hr().b[12][1]++,this.props.default[o])),value:n[o],required:e?(hr().b[14][0]++,!0):(hr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(hr().b[15][0]++,this.props["aria-label"]||(hr().b[15][1]++,this.props.label))},o)))));return hr().s[29]++,N.jsx("div",{className:"maputnik-array",children:r})}},rn(jM,"defaultProps",(hr().s[0]++,{value:[],default:[]})),jM);function il(){var t="/workspaces/maputnik/src/components/InputMultiInput.tsx",n="1b5cc2abbef01fec04dfe5e46a086329d8c28928",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b5cc2abbef01fec04dfe5e46a086329d8c28928"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return il=function(){return s},s}il();class WEe extends gn.Component{render(){il().f[0]++;let n=(il().s[0]++,this.props.options);il().s[1]++,il().b[1][0]++,n.length>0&&(il().b[1][1]++,!Array.isArray(n[0]))?(il().b[0][0]++,il().s[2]++,n=n.map(i=>(il().f[1]++,il().s[3]++,[i,i]))):il().b[0][1]++;const e=(il().s[4]++,il().b[2][0]++,this.props.value||(il().b[2][1]++,n[0][0])),r=(il().s[5]++,n.map(([i,o])=>(il().f[2]++,il().s[6]++,N.jsxs("label",{className:rh("maputnik-radio-as-button",{"maputnik-button-selected":i===e}),children:[N.jsx("input",{type:"radio",name:this.props.name,onChange:s=>(il().f[3]++,il().s[7]++,this.props.onChange(i)),value:i,checked:i===e}),o]},i))));return il().s[8]++,N.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function es(){var t="/workspaces/maputnik/src/components/InputEnum.tsx",n="7b6953e33669c13e07acdbe0aef96b5caf99e2cf",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7b6953e33669c13e07acdbe0aef96b5caf99e2cf"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return es=function(){return s},s}es();function NEe(t){es().f[0]++;let n=(es().s[0]++,0);return es().s[1]++,t.forEach(([e,r])=>{es().f[1]++,es().s[2]++,n+=r.length}),es().s[3]++,n}class _8 extends gn.Component{render(){es().f[2]++;const{options:n,value:e,onChange:r,name:i,label:o}=(es().s[4]++,this.props);return es().s[5]++,es().b[1][0]++,n.length<=3&&(es().b[1][1]++,NEe(n)<=20)?(es().b[0][0]++,es().s[6]++,N.jsx(WEe,{name:i,options:n,value:(es().b[2][0]++,e||(es().b[2][1]++,this.props.default)),onChange:r,"aria-label":(es().b[3][0]++,this.props["aria-label"]||(es().b[3][1]++,o))})):(es().b[0][1]++,es().s[7]++,N.jsx(f1,{options:n,value:(es().b[4][0]++,e||(es().b[4][1]++,this.props.default)),onChange:r,"aria-label":(es().b[5][0]++,this.props["aria-label"]||(es().b[5][1]++,o))}))}}function R3(){var t="/workspaces/maputnik/src/components/SmallError.tsx",n="2d39a03581d70ee73987d485614725052edc7a7d",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:9,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:10,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO;AAQP,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAU;AACR,WACE,qBAAC,SAAI,WAAU,cAAa;AAAA;AAAA,MAClB,KAAK,MAAM;AAAA,OACrB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2d39a03581d70ee73987d485614725052edc7a7d"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return R3=function(){return s},s}R3();class aP extends gn.Component{render(){return R3().f[0]++,R3().s[0]++,N.jsxs("div",{className:"SmallError",children:["Error: ",this.props.children]})}}function Ei(){var t="/workspaces/maputnik/src/components/InputUrl.tsx",n="fbbea39b47091126733cc178d0ea8872feb6c6aa",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:8,column:3}},1:{start:{line:7,column:4},end:{line:7,column:11}},2:{start:{line:10,column:22},end:{line:17,column:3}},3:{start:{line:11,column:4},end:{line:16,column:5}},4:{start:{line:12,column:21},end:{line:12,column:34}},5:{start:{line:13,column:6},end:{line:13,column:29}},6:{start:{line:15,column:6},end:{line:15,column:20}},7:{start:{line:18,column:19},end:{line:18,column:35}},8:{start:{line:19,column:16},end:{line:19,column:53}},9:{start:{line:20,column:2},end:{line:35,column:3}},10:{start:{line:21,column:4},end:{line:28,column:9}},11:{start:{line:29,column:9},end:{line:35,column:3}},12:{start:{line:30,column:4},end:{line:34,column:9}},13:{start:{line:36,column:2},end:{line:36,column:15}},14:{start:{line:39,column:24},end:{line:42,column:3}},15:{start:{line:44,column:4},end:{line:44,column:17}},16:{start:{line:45,column:4},end:{line:47,column:6}},17:{start:{line:49,column:12},end:{line:55,column:3}},18:{start:{line:50,column:4},end:{line:52,column:7}},19:{start:{line:53,column:4},end:{line:54,column:30}},20:{start:{line:54,column:6},end:{line:54,column:30}},21:{start:{line:56,column:13},end:{line:61,column:3}},22:{start:{line:57,column:4},end:{line:59,column:7}},23:{start:{line:60,column:4},end:{line:60,column:29}},24:{start:{line:63,column:4},end:{line:74,column:9}}},fnMap:{0:{name:"validate",decl:{start:{line:5,column:9},end:{line:5,column:17}},loc:{start:{line:5,column:23},end:{line:37,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:32},end:{line:17,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:19},end:{line:41,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:21},end:{line:48,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:49,column:12},end:{line:49,column:13}},loc:{start:{line:49,column:21},end:{line:55,column:3}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:56,column:13},end:{line:56,column:14}},loc:{start:{line:56,column:22},end:{line:61,column:3}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:11},end:{line:75,column:3}},line:62}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:20,column:2},end:{line:35,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:35,column:3}},{start:{line:29,column:9},end:{line:35,column:3}}],line:20},2:{loc:{start:{line:23,column:6},end:{line:27,column:10}},type:"cond-expr",locations:[{start:{line:23,column:30},end:{line:23,column:67}},{start:{line:23,column:86},end:{line:27,column:10}}],line:23},3:{loc:{start:{line:29,column:9},end:{line:35,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:35,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},4:{loc:{start:{line:29,column:13},end:{line:29,column:86}},type:"binary-expr",locations:[{start:{line:29,column:13},end:{line:29,column:21}},{start:{line:29,column:25},end:{line:29,column:45}},{start:{line:29,column:49},end:{line:29,column:86}}],line:29},5:{loc:{start:{line:53,column:4},end:{line:54,column:30}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4Bc,SACA,UADA,KACA,YADA;AA5Bd,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAGvB,SAAS,SAAS,KAAa;AAC7B,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,YACE,qBAAC,cAAW;AAAA;AAAA,MAER,QACI,oBAAC,UAAK,sBAAQ,IACd,iCAAE;AAAA,4BAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO;AAAA,OAEvD;AAAA,EAEJ,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,qBAAC,cAAW;AAAA;AAAA,MACyE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G;AAAA,EAEJ;AAEA,SAAO;AACT;AAoBA,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,KAAK;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fbbea39b47091126733cc178d0ea8872feb6c6aa"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ei=function(){return s},s}Ei();function UM(t){if(Ei().f[0]++,Ei().s[0]++,t===""){Ei().b[0][0]++,Ei().s[1]++;return}else Ei().b[0][1]++;let n;Ei().s[2]++;const e=o=>{Ei().f[1]++,Ei().s[3]++;try{const s=(Ei().s[4]++,new URL(o));return Ei().s[5]++,s.protocol}catch{Ei().s[6]++;return}},r=(Ei().s[7]++,e(t)),i=(Ei().s[8]++,window.location.protocol==="https:");return Ei().s[9]++,r?(Ei().b[1][1]++,Ei().s[11]++,Ei().b[4][0]++,r&&(Ei().b[4][1]++,r==="http:")&&(Ei().b[4][2]++,window.location.protocol==="https:")?(Ei().b[3][0]++,Ei().s[12]++,n=N.jsxs(aP,{children:["CORS policy won't allow fetching resources served over http from https, use a ",N.jsx("code",{children:"https://"})," domain"]})):Ei().b[3][1]++):(Ei().b[1][0]++,Ei().s[10]++,n=N.jsxs(aP,{children:["Must provide protocol ",i?(Ei().b[2][0]++,N.jsx("code",{children:"https://"})):(Ei().b[2][1]++,N.jsxs(N.Fragment,{children:[N.jsx("code",{children:"http://"})," or ",N.jsx("code",{children:"https://"})]}))]})),Ei().s[13]++,n}var WM;let b8=(WM=class extends gn.Component{constructor(e){Ei().f[3]++,Ei().s[15]++;super(e);rn(this,"onInput",(Ei().s[17]++,e=>{Ei().f[4]++,Ei().s[18]++,this.setState({error:UM(e)}),Ei().s[19]++,this.props.onInput?(Ei().b[5][0]++,Ei().s[20]++,this.props.onInput(e)):Ei().b[5][1]++}));rn(this,"onChange",(Ei().s[21]++,e=>{Ei().f[5]++,Ei().s[22]++,this.setState({error:UM(e)}),Ei().s[23]++,this.props.onChange(e)}));Ei().s[16]++,this.state={error:UM(e.value)}}render(){return Ei().f[6]++,Ei().s[24]++,N.jsxs("div",{children:[N.jsx(Sd,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}},rn(WM,"defaultProps",(Ei().s[14]++,{onInput:()=>{Ei().f[2]++}})),WM);function or(){var t="/workspaces/maputnik/src/components/InputDynamicArray.tsx",n="600d00a87867601024b96c9182b3522d1f83fa7c",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:13,column:19},end:{line:13,column:39}},1:{start:{line:14,column:4},end:{line:14,column:27}},2:{start:{line:15,column:4},end:{line:16,column:34}},3:{start:{line:16,column:6},end:{line:16,column:34}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:36,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:35,column:34}},17:{start:{line:35,column:6},end:{line:35,column:34}},18:{start:{line:38,column:19},end:{line:38,column:39}},19:{start:{line:39,column:4},end:{line:39,column:31}},20:{start:{line:40,column:4},end:{line:41,column:63}},21:{start:{line:41,column:6},end:{line:41,column:63}},22:{start:{line:44,column:19},end:{line:98,column:6}},23:{start:{line:45,column:45},end:{line:45,column:117}},24:{start:{line:47,column:6},end:{line:85,column:7}},25:{start:{line:48,column:8},end:{line:55,column:10}},26:{start:{line:56,column:13},end:{line:85,column:7}},27:{start:{line:57,column:8},end:{line:64,column:10}},28:{start:{line:65,column:13},end:{line:85,column:7}},29:{start:{line:66,column:24},end:{line:66,column:99}},30:{start:{line:66,column:78},end:{line:66,column:98}},31:{start:{line:67,column:8},end:{line:75,column:10}},32:{start:{line:77,column:8},end:{line:84,column:10}},33:{start:{line:86,column:6},end:{line:97,column:8}},34:{start:{line:99,column:4},end:{line:109,column:9}},35:{start:{line:114,column:4},end:{line:127,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:29},end:{line:17,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:36,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:24},end:{line:42,column:3}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:110,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:98,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:66,column:70},end:{line:66,column:71}},loc:{start:{line:66,column:78},end:{line:66,column:98}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:11},end:{line:128,column:3}},line:113}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:16,column:34}},type:"if",locations:[{start:{line:15,column:4},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:35,column:34}},type:"if",locations:[{start:{line:34,column:4},end:{line:35,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:40,column:4},end:{line:41,column:63}},type:"if",locations:[{start:{line:40,column:4},end:{line:41,column:63}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},7:{loc:{start:{line:41,column:26},end:{line:41,column:61}},type:"cond-expr",locations:[{start:{line:41,column:46},end:{line:41,column:52}},{start:{line:41,column:55},end:{line:41,column:61}}],line:41},8:{loc:{start:{line:47,column:6},end:{line:85,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:85,column:7}},{start:{line:56,column:13},end:{line:85,column:7}}],line:47},9:{loc:{start:{line:53,column:26},end:{line:53,column:70}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:50}},{start:{line:53,column:54},end:{line:53,column:70}}],line:53},10:{loc:{start:{line:56,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:56,column:13},end:{line:85,column:7}},{start:{line:65,column:13},end:{line:85,column:7}}],line:56},11:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},12:{loc:{start:{line:65,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:85,column:7}},{start:{line:76,column:13},end:{line:85,column:7}}],line:65},13:{loc:{start:{line:73,column:26},end:{line:73,column:70}},type:"binary-expr",locations:[{start:{line:73,column:26},end:{line:73,column:50}},{start:{line:73,column:54},end:{line:73,column:70}}],line:73},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAiE4B,cAiCf,YAjCe;AAjE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AAEvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAiBrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB,oBAAC,0BAAuB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC,GAAG;AACvF,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EAEJ;AACF;AAMA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAM;AAAA,QAEN;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"600d00a87867601024b96c9182b3522d1f83fa7c"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return or=function(){return s},s}or();let FN=class extends gn.Component{constructor(){super(...arguments);rn(this,"addValue",(or().s[5]++,()=>{or().f[2]++;const e=(or().s[6]++,this.values.slice(0));if(or().s[7]++,this.props.type==="number")or().b[2][0]++,or().s[8]++,e.push(0);else if(or().b[2][1]++,or().s[9]++,this.props.type==="url")or().b[3][0]++,or().s[10]++,e.push("");else if(or().b[3][1]++,or().s[11]++,this.props.type==="enum"){or().b[4][0]++;const{fieldSpec:r}=(or().s[12]++,this.props),i=(or().s[13]++,Object.keys(r.values)[0]);or().s[14]++,e.push(i)}else or().b[4][1]++,or().s[15]++,e.push("");or().s[16]++,this.props.onChange?(or().b[5][0]++,or().s[17]++,this.props.onChange(e)):or().b[5][1]++}))}changeValue(e,r){or().f[0]++;const i=(or().s[0]++,this.values.slice(0));or().s[1]++,i[e]=r,or().s[2]++,this.props.onChange?(or().b[0][0]++,or().s[3]++,this.props.onChange(i)):or().b[0][1]++}get values(){return or().f[1]++,or().s[4]++,or().b[1][0]++,this.props.value||(or().b[1][1]++,this.props.default)||(or().b[1][2]++,[])}deleteValue(e){or().f[3]++;const r=(or().s[18]++,this.values.slice(0));or().s[19]++,r.splice(e,1),or().s[20]++,this.props.onChange?(or().b[6][0]++,or().s[21]++,this.props.onChange(r.length>0?(or().b[7][0]++,r):(or().b[7][1]++,void 0))):or().b[6][1]++}render(){or().f[4]++;const e=(or().s[22]++,this.values.map((r,i)=>{var a;or().f[5]++;const o=(or().s[23]++,N.jsx(GEe,{onClick:this.deleteValue.bind(this,i)}));let s;if(or().s[24]++,this.props.type==="url")or().b[8][0]++,or().s[25]++,s=N.jsx(b8,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(or().b[9][0]++,this.props["aria-label"]||(or().b[9][1]++,this.props.label))});else if(or().b[8][1]++,or().s[26]++,this.props.type==="number")or().b[10][0]++,or().s[27]++,s=N.jsx(ef,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(or().b[11][0]++,this.props["aria-label"]||(or().b[11][1]++,this.props.label))});else if(or().b[10][1]++,or().s[28]++,this.props.type==="enum"){or().b[12][0]++;const f=(or().s[29]++,Object.keys((a=this.props.fieldSpec)==null?void 0:a.values).map(g=>(or().f[6]++,or().s[30]++,[g,G7(g)])));or().s[31]++,s=N.jsx(_8,{options:f,value:r,onChange:this.changeValue.bind(this,i),"aria-label":(or().b[13][0]++,this.props["aria-label"]||(or().b[13][1]++,this.props.label))})}else or().b[12][1]++,or().s[32]++,s=N.jsx(Sd,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(or().b[14][0]++,this.props["aria-label"]||(or().b[14][1]++,this.props.label))});return or().s[33]++,N.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[N.jsx("div",{className:"maputnik-array-block-action",children:o}),N.jsx("div",{className:"maputnik-array-block-content",children:s})]},i)}));return or().s[34]++,N.jsxs("div",{className:"maputnik-array",children:[e,N.jsx(ka,{className:"maputnik-array-add-value",onClick:this.addValue,children:"Add value"})]})}};class GEe extends gn.Component{render(){return or().f[7]++,or().s[35]++,N.jsx(ka,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove array item",children:N.jsx(AB,{label:N.jsx(Ey,{})})})}}function Yo(){var t="/workspaces/maputnik/src/components/InputFont.tsx",n="2021c52215a8b80cdbbf4467c0dbf40aa84ec970",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2021c52215a8b80cdbbf4467c0dbf40aa84ec970"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Yo=function(){return s},s}Yo();class LN extends gn.Component{get values(){Yo().f[0]++;const n=(Yo().s[1]++,Yo().b[0][0]++,this.props.value||(Yo().b[0][1]++,this.props.default)||(Yo().b[0][2]++,[]));return Yo().s[2]++,n[n.length-1]!==""?(Yo().b[1][0]++,Yo().s[3]++,n.concat("")):(Yo().b[1][1]++,Yo().s[4]++,n)}changeFont(n,e){Yo().f[1]++;const r=(Yo().s[5]++,this.values.slice(0));Yo().s[6]++,r[n]=e;const i=(Yo().s[7]++,r.filter(o=>(Yo().f[2]++,Yo().s[8]++,o!==void 0)).filter(o=>(Yo().f[3]++,Yo().s[9]++,o!=="")));Yo().s[10]++,this.props.onChange(i)}render(){Yo().f[4]++;const n=(Yo().s[11]++,this.values.map((e,r)=>{var i;return Yo().f[5]++,Yo().s[12]++,N.jsx("li",{children:N.jsx(Ky,{"aria-label":(Yo().b[2][0]++,this.props["aria-label"]||(Yo().b[2][1]++,this.props.name)),value:e,options:(i=this.props.fonts)==null?void 0:i.map(o=>(Yo().f[6]++,Yo().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return Yo().s[14]++,N.jsx("ul",{className:"maputnik-font",children:n})}}rn(LN,"defaultProps",(Yo().s[0]++,{fonts:[]}));function mi(){var t="/workspaces/maputnik/src/components/InputSpec.tsx",n="d9e231cc162d51dcb0bc80b049361f284873ce2f",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:27,column:5}},2:{start:{line:25,column:30},end:{line:25,column:81}},3:{start:{line:28,column:4},end:{line:114,column:5}},4:{start:{line:30,column:8},end:{line:37,column:10}},5:{start:{line:39,column:24},end:{line:39,column:101}},6:{start:{line:39,column:82},end:{line:39,column:100}},7:{start:{line:40,column:8},end:{line:46,column:10}},8:{start:{line:51,column:8},end:{line:67,column:9}},9:{start:{line:52,column:26},end:{line:52,column:59}},10:{start:{line:53,column:10},end:{line:59,column:12}},11:{start:{line:57,column:42},end:{line:57,column:48}},12:{start:{line:61,column:10},end:{line:66,column:12}},13:{start:{line:69,column:8},end:{line:74,column:10}},14:{start:{line:76,column:8},end:{line:81,column:10}},15:{start:{line:83,column:8},end:{line:111,column:9}},16:{start:{line:84,column:10},end:{line:90,column:12}},17:{start:{line:92,column:10},end:{line:110,column:11}},18:{start:{line:93,column:12},end:{line:100,column:14}},19:{start:{line:102,column:12},end:{line:109,column:14}},20:{start:{line:113,column:8},end:{line:113,column:20}},21:{start:{line:117,column:4},end:{line:117,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:115,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:25,column:16},end:{line:25,column:17}},loc:{start:{line:25,column:30},end:{line:25,column:81}},line:25},2:{name:"(anonymous_2)",decl:{start:{line:39,column:75},end:{line:39,column:76}},loc:{start:{line:39,column:82},end:{line:39,column:100}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:57,column:35},end:{line:57,column:36}},loc:{start:{line:57,column:42},end:{line:57,column:48}},line:57},4:{name:"(anonymous_4)",decl:{start:{line:116,column:2},end:{line:116,column:3}},loc:{start:{line:116,column:11},end:{line:118,column:3}},line:116}},branchMap:{0:{loc:{start:{line:28,column:4},end:{line:114,column:5}},type:"switch",locations:[{start:{line:29,column:6},end:{line:37,column:10}},{start:{line:38,column:6},end:{line:47,column:7}},{start:{line:48,column:6},end:{line:48,column:27}},{start:{line:49,column:6},end:{line:49,column:23}},{start:{line:50,column:6},end:{line:67,column:9}},{start:{line:68,column:6},end:{line:74,column:10}},{start:{line:75,column:6},end:{line:81,column:10}},{start:{line:82,column:6},end:{line:111,column:9}},{start:{line:112,column:6},end:{line:113,column:20}}],line:28},1:{loc:{start:{line:39,column:36},end:{line:39,column:69}},type:"binary-expr",locations:[{start:{line:39,column:36},end:{line:39,column:63}},{start:{line:39,column:67},end:{line:39,column:69}}],line:39},2:{loc:{start:{line:51,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:67,column:9}},{start:{line:60,column:15},end:{line:67,column:9}}],line:51},3:{loc:{start:{line:52,column:26},end:{line:52,column:59}},type:"binary-expr",locations:[{start:{line:52,column:26},end:{line:52,column:53}},{start:{line:52,column:57},end:{line:52,column:59}}],line:52},4:{loc:{start:{line:83,column:8},end:{line:111,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:111,column:9}},{start:{line:91,column:15},end:{line:111,column:9}}],line:83},5:{loc:{start:{line:92,column:10},end:{line:110,column:11}},type:"if",locations:[{start:{line:92,column:10},end:{line:110,column:11}},{start:{line:101,column:17},end:{line:110,column:11}}],line:92}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAwDM;AAxDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d9e231cc162d51dcb0bc80b049361f284873ce2f"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return mi=function(){return s},s}mi();const QEe=(mi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let ey=class extends gn.Component{childNodes(){var e,r;mi().f[0]++;const n=(mi().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(e=this.props.fieldSpec)==null?void 0:e.default,name:this.props.fieldName,onChange:i=>(mi().f[1]++,mi().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(mi().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return mi().b[0][0]++,mi().s[4]++,N.jsx(ef,{...n,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":mi().b[0][1]++;{const i=(mi().s[5]++,Object.keys((mi().b[1][0]++,this.props.fieldSpec.values||(mi().b[1][1]++,[]))).map(o=>(mi().f[2]++,mi().s[6]++,[o,G7(o)])));return mi().s[7]++,N.jsx(_8,{...n,options:i})}case"resolvedImage":mi().b[0][2]++;case"formatted":mi().b[0][3]++;case"string":if(mi().b[0][4]++,mi().s[8]++,QEe.indexOf(this.props.fieldName)>=0){mi().b[2][0]++;const i=(mi().s[9]++,mi().b[3][0]++,this.props.fieldSpec.values||(mi().b[3][1]++,[]));return mi().s[10]++,N.jsx(Ky,{...n,options:i.map(o=>(mi().f[3]++,mi().s[11]++,[o,o]))})}else return mi().b[2][1]++,mi().s[12]++,N.jsx(Sd,{...n});case"color":return mi().b[0][5]++,mi().s[13]++,N.jsx(UN,{...n});case"boolean":return mi().b[0][6]++,mi().s[14]++,N.jsx(C8,{...n});case"array":return mi().b[0][7]++,mi().s[15]++,this.props.fieldName==="text-font"?(mi().b[4][0]++,mi().s[16]++,N.jsx(LN,{...n,fonts:this.props.fieldSpec.values})):(mi().b[4][1]++,mi().s[17]++,this.props.fieldSpec.length?(mi().b[5][0]++,mi().s[18]++,N.jsx(DN,{...n,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(mi().b[5][1]++,mi().s[19]++,N.jsx(FN,{...n,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return mi().b[0][8]++,mi().s[20]++,null}}render(){return mi().f[4]++,mi().s[21]++,N.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function Pl(){var t="/workspaces/maputnik/src/components/Fieldset.tsx",n="5858fc29a531d95866cfff2f99eaf33ecf84da52",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAA6B;AACpC,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5858fc29a531d95866cfff2f99eaf33ecf84da52"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Pl=function(){return s},s}Pl();class i_ extends gn.Component{constructor(e){Pl().f[0]++,Pl().s[0]++;super(e);rn(this,"_labelId");rn(this,"onToggleDoc",(Pl().s[3]++,e=>{Pl().f[1]++,Pl().s[4]++,this.setState({showDoc:e})}));Pl().s[1]++,this._labelId=gy("fieldset_label_"),Pl().s[2]++,this.state={showDoc:!1}}render(){return Pl().f[2]++,Pl().s[5]++,N.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(Pl().b[0][0]++,this.props.fieldSpec&&(Pl().b[0][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:N.jsx(AB,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(Pl().b[1][0]++,!this.props.fieldSpec&&(Pl().b[1][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),N.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),N.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(Pl().b[2][0]++,this.props.fieldSpec&&(Pl().b[2][1]++,N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Pl().b[3][0]++,""):(Pl().b[3][1]++,"none")},children:N.jsx(cB,{fieldSpec:this.props.fieldSpec})})))]})}}function Lo(){var t="/workspaces/maputnik/src/components/SpecField.tsx",n="6961c253404e0d142a80c5087abd9839c927570f",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6961c253404e0d142a80c5087abd9839c927570f"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Lo=function(){return s},s}Lo();const $Ee=(Lo().s[0]++,{color:()=>(Lo().f[0]++,Lo().s[1]++,To),enum:({fieldSpec:t})=>(Lo().f[1]++,Lo().s[2]++,Object.keys(t.values).length<=3?(Lo().b[0][0]++,i_):(Lo().b[0][1]++,To)),boolean:()=>(Lo().f[2]++,Lo().s[3]++,To),array:()=>(Lo().f[3]++,Lo().s[4]++,i_),resolvedImage:()=>(Lo().f[4]++,Lo().s[5]++,To),number:()=>(Lo().f[5]++,Lo().s[6]++,To),string:()=>(Lo().f[6]++,Lo().s[7]++,To),formatted:()=>(Lo().f[7]++,Lo().s[8]++,To),padding:()=>(Lo().f[8]++,Lo().s[9]++,To)});class YEe extends gn.Component{render(){var i;Lo().f[9]++;const n=(Lo().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),e=(Lo().s[11]++,$Ee[n]);let r;return Lo().s[12]++,e?(Lo().b[1][0]++,Lo().s[13]++,r=e(this.props)):(Lo().b[1][1]++,Lo().s[14]++,console.warn("No such type for '%s'",n),Lo().s[15]++,r=To),Lo().s[16]++,N.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:N.jsx(ey,{...this.props})})}}function QA(){var t="/workspaces/maputnik/src/components/_FunctionButtons.tsx",n="3e9477bfdc1dbaf5d6ee6de97cbcc6961dda425f",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:46,column:5}},1:{start:{line:10,column:6},end:{line:18,column:8}},2:{start:{line:19,column:6},end:{line:27,column:8}},3:{start:{line:28,column:6},end:{line:38,column:7}},4:{start:{line:29,column:8},end:{line:37,column:10}},5:{start:{line:39,column:6},end:{line:43,column:11}},6:{start:{line:45,column:6},end:{line:45,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:47,column:3}},line:7}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:46,column:5}},{start:{line:44,column:11},end:{line:46,column:5}}],line:9},1:{loc:{start:{line:28,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:38,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AAyBY,cAsBC,YAtBD;AAzBZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AASjC,qBAAqB,6BAA6B,MAAM,UAAqC;AAAA,EAC3F,SAAS;AACP,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAM;AAAA,YAEN,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3e9477bfdc1dbaf5d6ee6de97cbcc6961dda425f"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return QA=function(){return s},s}QA();class qEe extends gn.Component{render(){QA().f[0]++;let n,e,r;return QA().s[0]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(QA().b[0][0]++,QA().s[1]++,r=N.jsx(ka,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:"Convert to expression",children:N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:r_})})}),QA().s[2]++,n=N.jsx(ka,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:"Convert property into a zoom function",children:N.jsx(Qte,{})}),QA().s[3]++,this.props.fieldSpec["property-type"]==="data-driven"?(QA().b[1][0]++,QA().s[4]++,e=N.jsx(ka,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:"Convert property to data function",children:N.jsx($te,{})})):QA().b[1][1]++,QA().s[5]++,N.jsxs("div",{children:[r,e,n]})):(QA().b[0][1]++,QA().s[6]++,N.jsx("div",{children:r}))}}function Kh(){var t="/workspaces/maputnik/src/components/_SpecProperty.tsx",n="fcd7821690703b3adfe11b0c9a00770b6aef8be2",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fcd7821690703b3adfe11b0c9a00770b6aef8be2"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Kh=function(){return s},s}Kh();class RN extends gn.Component{render(){Kh().f[0]++;const{errors:n,fieldName:e,fieldType:r}=(Kh().s[1]++,this.props),i=(Kh().s[2]++,N.jsx(qEe,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(Kh().s[3]++,n[r+"."+e]);return Kh().s[4]++,N.jsx(YEe,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:s5((Kh().b[0][0]++,this.props.fieldName||(Kh().b[0][1]++,""))),action:i})}}rn(RN,"defaultProps",(Kh().s[0]++,{errors:{}}));function $A(){var t="/workspaces/maputnik/src/libs/sort-numerically.ts",n="13115af75b8e00c5d8bba2adf1f0a0cac448e6ed",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13115af75b8e00c5d8bba2adf1f0a0cac448e6ed"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return $A=function(){return s},s}$A();function zN(t,n){$A().f[0]++;const e=($A().s[0]++,+t),r=($A().s[1]++,+n);return $A().s[2]++,e<r?($A().b[0][0]++,$A().s[3]++,-1):($A().b[0][1]++,$A().s[4]++,e>r?($A().b[1][0]++,$A().s[5]++,1):($A().b[1][1]++,$A().s[6]++,0))}function Hd(){var t="/workspaces/maputnik/src/libs/spec-helper.ts",n="f79a824e7d83f93730ccdf3df20a9275c1931ad5",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f79a824e7d83f93730ccdf3df20a9275c1931ad5"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Hd=function(){return s},s}Hd();function fd(t){if(Hd().f[0]++,Hd().s[0]++,Object.prototype.hasOwnProperty.call(t,"default"))return Hd().b[0][0]++,Hd().s[1]++,t.default;Hd().b[0][1]++;const n=(Hd().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return Hd().s[3]++,Hd().b[1][0]++,n[t.type]||(Hd().b[1][1]++,"")}function z3(){var t="/workspaces/maputnik/src/components/_DeleteStopButton.tsx",n="e7c7dd68313c812f7c84c3b4724f31b0cdb306d3",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:15,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:16,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAQvB,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO;AAAA,QAEP,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e7c7dd68313c812f7c84c3b4724f31b0cdb306d3"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return z3=function(){return s},s}z3();class jN extends gn.Component{render(){return z3().f[0]++,z3().s[0]++,N.jsx(ka,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove zoom level from stop",children:N.jsx(Ey,{})})}}function Wt(){var t="/workspaces/maputnik/src/components/_DataProperty.tsx",n="9ac12d6464fd643c80840e5a70e12ecb5aadf4a7",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:27,column:3}},1:{start:{line:19,column:4},end:{line:26,column:7}},2:{start:{line:20,column:6},end:{line:25,column:7}},3:{start:{line:21,column:8},end:{line:23,column:9}},4:{start:{line:22,column:10},end:{line:22,column:33}},5:{start:{line:24,column:8},end:{line:24,column:39}},6:{start:{line:28,column:2},end:{line:28,column:17}},7:{start:{line:31,column:10},end:{line:33,column:3}},8:{start:{line:35,column:20},end:{line:35,column:55}},9:{start:{line:36,column:4},end:{line:40,column:5}},10:{start:{line:37,column:6},end:{line:39,column:9}},11:{start:{line:43,column:20},end:{line:43,column:45}},12:{start:{line:44,column:4},end:{line:48,column:5}},13:{start:{line:45,column:6},end:{line:47,column:8}},14:{start:{line:49,column:4},end:{line:49,column:16}},15:{start:{line:52,column:4},end:{line:54,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:4},end:{line:57,column:5}},18:{start:{line:56,column:6},end:{line:56,column:24}},19:{start:{line:58,column:4},end:{line:58,column:25}},20:{start:{line:61,column:4},end:{line:65,column:5}},21:{start:{line:62,column:6},end:{line:62,column:83}},22:{start:{line:64,column:6},end:{line:64,column:53}},23:{start:{line:69,column:26},end:{line:74,column:70}},24:{start:{line:70,column:6},end:{line:73,column:8}},25:{start:{line:74,column:22},end:{line:74,column:69}},26:{start:{line:75,column:20},end:{line:75,column:22}},27:{start:{line:76,column:4},end:{line:78,column:7}},28:{start:{line:77,column:6},end:{line:77,column:30}},29:{start:{line:79,column:4},end:{line:81,column:7}},30:{start:{line:82,column:4},end:{line:82,column:50}},31:{start:{line:82,column:39},end:{line:82,column:48}},32:{start:{line:84,column:13},end:{line:104,column:3}},33:{start:{line:85,column:4},end:{line:102,column:5}},34:{start:{line:86,column:6},end:{line:89,column:8}},35:{start:{line:91,column:24},end:{line:91,column:61}},36:{start:{line:92,column:6},end:{line:101,column:8}},37:{start:{line:103,column:4},end:{line:103,column:42}},38:{start:{line:106,column:18},end:{line:106,column:56}},39:{start:{line:107,column:4},end:{line:113,column:6}},40:{start:{line:114,column:25},end:{line:114,column:53}},41:{start:{line:115,column:25},end:{line:118,column:5}},42:{start:{line:119,column:4},end:{line:119,column:54}},43:{start:{line:122,column:25},end:{line:125,column:5}},44:{start:{line:126,column:4},end:{line:128,column:5}},45:{start:{line:127,column:6},end:{line:127,column:34}},46:{start:{line:129,column:4},end:{line:129,column:60}},47:{start:{line:132,column:4},end:{line:139,column:5}},48:{start:{line:133,column:6},end:{line:133,column:42}},49:{start:{line:135,column:6},end:{line:138,column:9}},50:{start:{line:142,column:4},end:{line:146,column:5}},51:{start:{line:143,column:6},end:{line:143,column:43}},52:{start:{line:145,column:6},end:{line:145,column:40}},53:{start:{line:147,column:4},end:{line:147,column:58}},54:{start:{line:150,column:4},end:{line:152,column:5}},55:{start:{line:151,column:6},end:{line:151,column:78}},56:{start:{line:154,column:4},end:{line:202,column:5}},57:{start:{line:155,column:6},end:{line:201,column:9}},58:{start:{line:156,column:26},end:{line:156,column:77}},59:{start:{line:157,column:20},end:{line:157,column:40}},60:{start:{line:158,column:26},end:{line:158,column:79}},61:{start:{line:159,column:22},end:{line:159,column:29}},62:{start:{line:160,column:46},end:{line:160,column:122}},63:{start:{line:161,column:26},end:{line:166,column:9}},64:{start:{line:165,column:33},end:{line:165,column:97}},65:{start:{line:168,column:8},end:{line:172,column:9}},66:{start:{line:169,column:10},end:{line:169,column:73}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:24},end:{line:173,column:28}},69:{start:{line:174,column:8},end:{line:185,column:9}},70:{start:{line:175,column:10},end:{line:184,column:15}},71:{start:{line:180,column:37},end:{line:180,column:101}},72:{start:{line:186,column:8},end:{line:200,column:18}},73:{start:{line:196,column:41},end:{line:196,column:110}},74:{start:{line:203,column:4},end:{line:303,column:12}},75:{start:{line:214,column:39},end:{line:214,column:67}},76:{start:{line:232,column:43},end:{line:232,column:68}},77:{start:{line:247,column:39},end:{line:247,column:83}},78:{start:{line:263,column:42},end:{line:263,column:85}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:29,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:26,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:22},end:{line:41,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:48},end:{line:50,column:3}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:34},end:{line:59,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:34},end:{line:66,column:3}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:26},end:{line:83,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:69,column:36},end:{line:69,column:37}},loc:{start:{line:69,column:51},end:{line:74,column:5}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:74,column:69}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:26},end:{line:76,column:27}},loc:{start:{line:76,column:41},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:82,column:29},end:{line:82,column:30}},loc:{start:{line:82,column:39},end:{line:82,column:48}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:84,column:13},end:{line:84,column:14}},loc:{start:{line:84,column:35},end:{line:104,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:41},end:{line:120,column:3}},line:105},13:{name:"(anonymous_13)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:23},end:{line:130,column:3}},line:121},14:{name:"(anonymous_14)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:26},end:{line:140,column:3}},line:131},15:{name:"(anonymous_15)",decl:{start:{line:141,column:2},end:{line:141,column:3}},loc:{start:{line:141,column:40},end:{line:148,column:3}},line:141},16:{name:"(anonymous_16)",decl:{start:{line:149,column:2},end:{line:149,column:3}},loc:{start:{line:149,column:11},end:{line:304,column:3}},line:149},17:{name:"(anonymous_17)",decl:{start:{line:155,column:46},end:{line:155,column:47}},loc:{start:{line:155,column:61},end:{line:201,column:7}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:33},end:{line:165,column:97}},line:165},19:{name:"(anonymous_19)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:37},end:{line:180,column:101}},line:180},20:{name:"(anonymous_20)",decl:{start:{line:196,column:24},end:{line:196,column:25}},loc:{start:{line:196,column:41},end:{line:196,column:110}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:214,column:26},end:{line:214,column:27}},loc:{start:{line:214,column:39},end:{line:214,column:67}},line:214},22:{name:"(anonymous_22)",decl:{start:{line:232,column:26},end:{line:232,column:27}},loc:{start:{line:232,column:43},end:{line:232,column:68}},line:232},23:{name:"(anonymous_23)",decl:{start:{line:247,column:26},end:{line:247,column:27}},loc:{start:{line:247,column:39},end:{line:247,column:83}},line:247},24:{name:"(anonymous_24)",decl:{start:{line:263,column:26},end:{line:263,column:27}},loc:{start:{line:263,column:42},end:{line:263,column:85}},line:263}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:25,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},5:{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},6:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},9:{loc:{start:{line:85,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:102,column:5}},{start:{line:90,column:11},end:{line:102,column:5}}],line:85},10:{loc:{start:{line:91,column:24},end:{line:91,column:61}},type:"cond-expr",locations:[{start:{line:91,column:55},end:{line:91,column:57}},{start:{line:91,column:60},end:{line:91,column:61}}],line:91},11:{loc:{start:{line:106,column:18},end:{line:106,column:56}},type:"binary-expr",locations:[{start:{line:106,column:18},end:{line:106,column:50}},{start:{line:106,column:54},end:{line:106,column:56}}],line:106},12:{loc:{start:{line:110,column:14},end:{line:110,column:58}},type:"cond-expr",locations:[{start:{line:110,column:41},end:{line:110,column:42}},{start:{line:110,column:45},end:{line:110,column:58}}],line:110},13:{loc:{start:{line:126,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:128,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:126},14:{loc:{start:{line:132,column:4},end:{line:139,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:139,column:5}},{start:{line:134,column:11},end:{line:139,column:5}}],line:132},15:{loc:{start:{line:132,column:8},end:{line:132,column:70}},type:"binary-expr",locations:[{start:{line:132,column:8},end:{line:132,column:33}},{start:{line:132,column:37},end:{line:132,column:70}}],line:132},16:{loc:{start:{line:142,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:142,column:4},end:{line:146,column:5}},{start:{line:144,column:11},end:{line:146,column:5}}],line:142},17:{loc:{start:{line:150,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:150},18:{loc:{start:{line:154,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:202,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154},19:{loc:{start:{line:156,column:26},end:{line:156,column:77}},type:"cond-expr",locations:[{start:{line:156,column:56},end:{line:156,column:68}},{start:{line:156,column:71},end:{line:156,column:77}}],line:156},20:{loc:{start:{line:158,column:26},end:{line:158,column:79}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:69}},{start:{line:158,column:72},end:{line:158,column:79}}],line:158},21:{loc:{start:{line:168,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:172,column:9}},{start:{line:170,column:15},end:{line:172,column:9}}],line:168},22:{loc:{start:{line:174,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:174,column:8},end:{line:185,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},23:{loc:{start:{line:222,column:8},end:{line:237,column:9}},type:"binary-expr",locations:[{start:{line:222,column:8},end:{line:222,column:45}},{start:{line:222,column:65},end:{line:237,column:9}}],line:222},24:{loc:{start:{line:253,column:8},end:{line:268,column:9}},type:"binary-expr",locations:[{start:{line:253,column:8},end:{line:253,column:18}},{start:{line:253,column:38},end:{line:268,column:9}}],line:253},25:{loc:{start:{line:269,column:8},end:{line:277,column:15}},type:"binary-expr",locations:[{start:{line:269,column:8},end:{line:269,column:18}},{start:{line:269,column:38},end:{line:277,column:15}}],line:269},26:{loc:{start:{line:279,column:10},end:{line:289,column:11}},type:"binary-expr",locations:[{start:{line:279,column:10},end:{line:279,column:20}},{start:{line:279,column:40},end:{line:289,column:11}}],line:279}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAkO8B,cA8Bf,YA9Be;AAlO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,SAAQ,cAAa;AAErB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAElC,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc;AAAA,UACd,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO;AAAA,gBACP,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,yBAAW;AAAA,YACf,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9ac12d6464fd643c80840e5a70e12ecb5aadf4a7"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Wt=function(){return s},s}Wt();function sP(t,n){Wt().f[0]++;let e;return Wt().s[0]++,Wt().b[1][0]++,t.value&&(Wt().b[1][1]++,t.value.stops)?(Wt().b[0][0]++,Wt().s[1]++,t.value.stops.forEach((r,i)=>{Wt().f[1]++,Wt().s[2]++,Object.prototype.hasOwnProperty.call(n.refs,i)?Wt().b[2][1]++:(Wt().b[2][0]++,Wt().s[3]++,e?Wt().b[3][1]++:(Wt().b[3][0]++,Wt().s[4]++,e={...n}),Wt().s[5]++,e[i]=gy("stop-"))})):Wt().b[0][1]++,Wt().s[6]++,e}class VEe extends gn.Component{constructor(){super(...arguments);rn(this,"state",(Wt().s[7]++,{refs:{}}));rn(this,"onChange",(Wt().s[32]++,(e,r)=>{if(Wt().f[11]++,Wt().s[33]++,r.type==="identity")Wt().b[9][0]++,Wt().s[34]++,r={type:r.type,property:r.property};else{Wt().b[9][1]++;const i=(Wt().s[35]++,r.type==="categorical"?(Wt().b[10][0]++,""):(Wt().b[10][1]++,0));Wt().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},fd(this.props.fieldSpec)],[{zoom:10,value:i},fd(this.props.fieldSpec)]],...r}}Wt().s[37]++,this.props.onChange(e,r)}))}componentDidMount(){Wt().f[2]++;const e=(Wt().s[8]++,sP(this.props,this.state));Wt().s[9]++,e?(Wt().b[4][0]++,Wt().s[10]++,this.setState({refs:e})):Wt().b[4][1]++}static getDerivedStateFromProps(e,r){Wt().f[3]++;const i=(Wt().s[11]++,sP(e,r));return Wt().s[12]++,i?(Wt().b[5][0]++,Wt().s[13]++,{refs:i}):(Wt().b[5][1]++,Wt().s[14]++,null)}getFieldFunctionType(e){return Wt().f[4]++,Wt().s[15]++,e.expression.interpolated?(Wt().b[6][0]++,Wt().s[16]++,"exponential"):(Wt().b[6][1]++,Wt().s[17]++,e.type==="number"?(Wt().b[7][0]++,Wt().s[18]++,"interval"):(Wt().b[7][1]++,Wt().s[19]++,"categorical"))}getDataFunctionTypes(e){return Wt().f[5]++,Wt().s[20]++,e.expression.interpolated?(Wt().b[8][0]++,Wt().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(Wt().b[8][1]++,Wt().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(e){Wt().f[6]++;const r=(Wt().s[23]++,e.map((o,s)=>(Wt().f[7]++,Wt().s[24]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Wt().f[8]++,Wt().s[25]++,zN(o.data[0].zoom,s.data[0].zoom)))),i=(Wt().s[26]++,{});return Wt().s[27]++,r.forEach((o,s)=>{Wt().f[9]++,Wt().s[28]++,i[s]=o.ref}),Wt().s[29]++,this.setState({refs:i}),Wt().s[30]++,r.map(o=>(Wt().f[10]++,Wt().s[31]++,o.data))}changeStop(e,r,i){var f;Wt().f[12]++;const o=(Wt().s[38]++,Wt().b[11][0]++,((f=this.props.value)==null?void 0:f.stops.slice(0))||(Wt().b[11][1]++,[]));Wt().s[39]++,o[e]=[{value:r.value,zoom:r.zoom===void 0?(Wt().b[12][0]++,0):(Wt().b[12][1]++,r.zoom)},i];const s=(Wt().s[40]++,this.orderStopsByZoom(o)),a=(Wt().s[41]++,{...this.props.value,stops:s});Wt().s[42]++,this.onChange(this.props.fieldName,a)}changeBase(e){Wt().f[13]++;const r=(Wt().s[43]++,{...this.props.value,base:e});Wt().s[44]++,r.base===void 0?(Wt().b[13][0]++,Wt().s[45]++,delete r.base):Wt().b[13][1]++,Wt().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(e){Wt().f[14]++,Wt().s[47]++,Wt().b[15][0]++,e==="interpolate"&&(Wt().b[15][1]++,this.props.onChangeToZoomFunction)?(Wt().b[14][0]++,Wt().s[48]++,this.props.onChangeToZoomFunction()):(Wt().b[14][1]++,Wt().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:e}))}changeDataProperty(e,r){Wt().f[15]++,Wt().s[50]++,r?(Wt().b[16][0]++,Wt().s[51]++,this.props.value[e]=r):(Wt().b[16][1]++,Wt().s[52]++,delete this.props.value[e]),Wt().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var r,i,o,s,a,f,g,x;Wt().f[16]++,Wt().s[54]++,typeof((r=this.props.value)==null?void 0:r.type)>"u"?(Wt().b[17][0]++,Wt().s[55]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):Wt().b[17][1]++;let e;return Wt().s[56]++,(i=this.props.value)!=null&&i.stops?(Wt().b[18][0]++,Wt().s[57]++,e=this.props.value.stops.map((I,B)=>{var se,oe;Wt().f[17]++;const D=(Wt().s[58]++,typeof I[0]=="object"?(Wt().b[19][0]++,I[0].zoom):(Wt().b[19][1]++,void 0)),L=(Wt().s[59]++,this.state.refs[B]),V=(Wt().s[60]++,typeof I[0]=="object"?(Wt().b[20][0]++,I[0].value):(Wt().b[20][1]++,I[0])),W=(Wt().s[61]++,I[1]),j=(Wt().s[62]++,N.jsx(jN,{onClick:(se=this.props.onDeleteStop)==null?void 0:se.bind(this,B)})),G=(Wt().s[63]++,{"aria-label":"Input value",label:"Data value",value:V,onChange:ue=>(Wt().f[18]++,Wt().s[64]++,this.changeStop(B,{zoom:D,value:ue},W))});let ee;Wt().s[65]++,((oe=this.props.value)==null?void 0:oe.type)==="categorical"?(Wt().b[21][0]++,Wt().s[66]++,ee=N.jsx(Sd,{...G})):(Wt().b[21][1]++,Wt().s[67]++,ee=N.jsx(ef,{...G}));let re=(Wt().s[68]++,null);return Wt().s[69]++,D!==void 0?(Wt().b[22][0]++,Wt().s[70]++,re=N.jsx("div",{children:N.jsx(ef,{"aria-label":"Zoom",value:D,onChange:ue=>(Wt().f[19]++,Wt().s[71]++,this.changeStop(B,{zoom:ue,value:V},W)),min:0,max:22})})):Wt().b[22][1]++,Wt().s[72]++,N.jsxs("tr",{children:[N.jsx("td",{children:re}),N.jsx("td",{children:ee}),N.jsx("td",{children:N.jsx(ey,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:W,onChange:(ue,me)=>(Wt().f[20]++,Wt().s[73]++,this.changeStop(B,{zoom:D,value:V},me))})}),N.jsx("td",{children:j})]},L)})):Wt().b[18][1]++,Wt().s[74]++,N.jsx("div",{className:"maputnik-data-spec-block",children:N.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[N.jsx("legend",{children:s5(this.props.fieldName)}),N.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[N.jsx(To,{label:"Function",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(f1,{value:this.props.value.type,onChange:I=>(Wt().f[21]++,Wt().s[75]++,this.changeDataType(I)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(Wt().b[23][0]++,((o=this.props.value)==null?void 0:o.type)!=="identity"&&(Wt().b[23][1]++,N.jsx(To,{label:"Base",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(ey,{fieldName:"base",fieldSpec:vr.function.base,value:(s=this.props.value)==null?void 0:s.base,onChange:(I,B)=>(Wt().f[22]++,Wt().s[76]++,this.changeBase(B))})})},"base"))),N.jsx(To,{label:"Property",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(Sd,{value:(a=this.props.value)==null?void 0:a.property,title:"Input a data property to base styles off of.",onChange:I=>(Wt().f[23]++,Wt().s[77]++,this.changeDataProperty("property",I))})})},"property"),(Wt().b[24][0]++,e&&(Wt().b[24][1]++,N.jsx(To,{label:"Default",children:N.jsx(ey,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(f=this.props.value)==null?void 0:f.default,onChange:(I,B)=>(Wt().f[24]++,Wt().s[78]++,this.changeDataProperty("default",B))})},"default"))),(Wt().b[25][0]++,e&&(Wt().b[25][1]++,N.jsx("div",{className:"maputnik-function-stop",children:N.jsxs("table",{className:"maputnik-function-stop-table",children:[N.jsx("caption",{children:"Stops"}),N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Zoom"}),N.jsx("th",{children:"Input value"}),N.jsx("th",{rowSpan:2,children:"Output value"})]})}),N.jsx("tbody",{children:e})]})}))),N.jsxs("div",{className:"maputnik-toolbox",children:[(Wt().b[26][0]++,e&&(Wt().b[26][1]++,N.jsxs(ka,{className:"maputnik-add-stop",onClick:(g=this.props.onAddStop)==null?void 0:g.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:j7})})," Add stop"]}))),N.jsxs(ka,{className:"maputnik-add-stop",onClick:(x=this.props.onExpressionClick)==null?void 0:x.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:r_})})," Convert to expression"]})]})]})]})})}}function On(){var t="/workspaces/maputnik/src/components/_ZoomProperty.tsx",n="fb8e5e724e67c16c367e8e7abb7ab90dffe14716",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:15,column:16},end:{line:15,column:18}},1:{start:{line:16,column:2},end:{line:27,column:3}},2:{start:{line:17,column:4},end:{line:26,column:7}},3:{start:{line:18,column:6},end:{line:25,column:7}},4:{start:{line:19,column:8},end:{line:21,column:9}},5:{start:{line:20,column:10},end:{line:20,column:33}},6:{start:{line:22,column:8},end:{line:22,column:39}},7:{start:{line:24,column:8},end:{line:24,column:39}},8:{start:{line:28,column:2},end:{line:28,column:17}},9:{start:{line:31,column:24},end:{line:33,column:3}},10:{start:{line:34,column:10},end:{line:36,column:3}},11:{start:{line:38,column:20},end:{line:38,column:55}},12:{start:{line:39,column:4},end:{line:43,column:5}},13:{start:{line:40,column:6},end:{line:42,column:9}},14:{start:{line:46,column:20},end:{line:46,column:45}},15:{start:{line:47,column:4},end:{line:51,column:5}},16:{start:{line:48,column:6},end:{line:50,column:8}},17:{start:{line:52,column:4},end:{line:52,column:16}},18:{start:{line:56,column:26},end:{line:61,column:60}},19:{start:{line:57,column:6},end:{line:60,column:8}},20:{start:{line:61,column:22},end:{line:61,column:59}},21:{start:{line:62,column:20},end:{line:62,column:22}},22:{start:{line:63,column:4},end:{line:65,column:7}},23:{start:{line:64,column:6},end:{line:64,column:30}},24:{start:{line:66,column:4},end:{line:68,column:7}},25:{start:{line:69,column:4},end:{line:69,column:50}},26:{start:{line:69,column:39},end:{line:69,column:48}},27:{start:{line:72,column:18},end:{line:72,column:49}},28:{start:{line:73,column:4},end:{line:73,column:41}},29:{start:{line:74,column:25},end:{line:74,column:53}},30:{start:{line:75,column:25},end:{line:78,column:5}},31:{start:{line:79,column:4},end:{line:79,column:60}},32:{start:{line:82,column:25},end:{line:85,column:5}},33:{start:{line:86,column:4},end:{line:88,column:5}},34:{start:{line:87,column:6},end:{line:87,column:34}},35:{start:{line:89,column:4},end:{line:89,column:60}},36:{start:{line:91,column:19},end:{line:95,column:3}},37:{start:{line:92,column:4},end:{line:94,column:5}},38:{start:{line:93,column:6},end:{line:93,column:46}},39:{start:{line:97,column:23},end:{line:131,column:6}},40:{start:{line:98,column:24},end:{line:98,column:31}},41:{start:{line:99,column:18},end:{line:99,column:38}},42:{start:{line:100,column:20},end:{line:100,column:27}},43:{start:{line:101,column:44},end:{line:101,column:120}},44:{start:{line:102,column:6},end:{line:130,column:8}},45:{start:{line:111,column:43},end:{line:111,column:87}},46:{start:{line:123,column:43},end:{line:123,column:88}},47:{start:{line:132,column:4},end:{line:198,column:12}},48:{start:{line:143,column:39},end:{line:143,column:67}},49:{start:{line:160,column:43},end:{line:160,column:68}},50:{start:{line:201,column:4},end:{line:205,column:5}},51:{start:{line:202,column:6},end:{line:202,column:83}},52:{start:{line:204,column:6},end:{line:204,column:29}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:14,column:9},end:{line:14,column:20}},loc:{start:{line:14,column:35},end:{line:29,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:17,column:30},end:{line:17,column:31}},loc:{start:{line:17,column:45},end:{line:26,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:22},end:{line:44,column:3}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:48},end:{line:53,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:26},end:{line:70,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:36},end:{line:56,column:37}},loc:{start:{line:56,column:51},end:{line:61,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:61,column:12},end:{line:61,column:13}},loc:{start:{line:61,column:22},end:{line:61,column:59}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:41},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:69,column:29},end:{line:69,column:30}},loc:{start:{line:69,column:39},end:{line:69,column:48}},line:69},9:{name:"(anonymous_9)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:45},end:{line:80,column:3}},line:71},10:{name:"(anonymous_10)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:23},end:{line:90,column:3}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:91,column:19},end:{line:91,column:20}},loc:{start:{line:91,column:29},end:{line:95,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:11},end:{line:199,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:97,column:51},end:{line:97,column:52}},loc:{start:{line:97,column:66},end:{line:131,column:5}},line:97},14:{name:"(anonymous_14)",decl:{start:{line:111,column:26},end:{line:111,column:27}},loc:{start:{line:111,column:43},end:{line:111,column:87}},line:111},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:43},end:{line:123,column:88}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:143,column:26},end:{line:143,column:27}},loc:{start:{line:143,column:39},end:{line:143,column:67}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:160,column:26},end:{line:160,column:27}},loc:{start:{line:160,column:43},end:{line:160,column:68}},line:160},18:{name:"(anonymous_18)",decl:{start:{line:200,column:2},end:{line:200,column:3}},loc:{start:{line:200,column:34},end:{line:206,column:3}},line:200}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:16,column:6},end:{line:16,column:38}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:17}},{start:{line:16,column:21},end:{line:16,column:38}}],line:16},2:{loc:{start:{line:18,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:25,column:7}},{start:{line:23,column:13},end:{line:25,column:7}}],line:18},3:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},4:{loc:{start:{line:39,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:43,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},5:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},7:{loc:{start:{line:92,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},8:{loc:{start:{line:92,column:8},end:{line:92,column:67}},type:"binary-expr",locations:[{start:{line:92,column:8},end:{line:92,column:30}},{start:{line:92,column:34},end:{line:92,column:67}}],line:92},9:{loc:{start:{line:201,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:201,column:4},end:{line:205,column:5}},{start:{line:203,column:11},end:{line:205,column:5}}],line:201}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA8J2B,cACd,YADc;AA9J3B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,SAAQ,cAAa;AAErB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAe,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC1F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK;AAAA,MAuBP;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb8e5e724e67c16c367e8e7abb7ab90dffe14716"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return On=function(){return s},s}On();function lP(t,n){On().f[0]++;let e=(On().s[0]++,{});return On().s[1]++,On().b[1][0]++,t.value&&(On().b[1][1]++,t.value.stops)?(On().b[0][0]++,On().s[2]++,t.value.stops.forEach((r,i)=>{On().f[1]++,On().s[3]++,Object.prototype.hasOwnProperty.call(!n.refs,i)?(On().b[2][0]++,On().s[4]++,e?On().b[3][1]++:(On().b[3][0]++,On().s[5]++,e={...n}),On().s[6]++,e[i]=gy("stop-")):(On().b[2][1]++,On().s[7]++,e[i]=n.refs[i])})):On().b[0][1]++,On().s[8]++,e}class WN extends gn.Component{constructor(){super(...arguments);rn(this,"state",(On().s[10]++,{refs:{}}));rn(this,"changeDataType",(On().s[36]++,e=>{On().f[11]++,On().s[37]++,On().b[8][0]++,e!=="interpolate"&&(On().b[8][1]++,this.props.onChangeToDataFunction)?(On().b[7][0]++,On().s[38]++,this.props.onChangeToDataFunction(e)):On().b[7][1]++}))}componentDidMount(){On().f[2]++;const e=(On().s[11]++,lP(this.props,this.state));On().s[12]++,e?(On().b[4][0]++,On().s[13]++,this.setState({refs:e})):On().b[4][1]++}static getDerivedStateFromProps(e,r){On().f[3]++;const i=(On().s[14]++,lP(e,r));return On().s[15]++,i?(On().b[5][0]++,On().s[16]++,{refs:i}):(On().b[5][1]++,On().s[17]++,null)}orderStopsByZoom(e){On().f[4]++;const r=(On().s[18]++,e.map((o,s)=>(On().f[5]++,On().s[19]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(On().f[6]++,On().s[20]++,zN(o.data[0],s.data[0])))),i=(On().s[21]++,{});return On().s[22]++,r.forEach((o,s)=>{On().f[7]++,On().s[23]++,i[s]=o.ref}),On().s[24]++,this.setState({refs:i}),On().s[25]++,r.map(o=>(On().f[8]++,On().s[26]++,o.data))}changeZoomStop(e,r,i){On().f[9]++;const o=(On().s[27]++,this.props.value.stops.slice(0));On().s[28]++,o[e]=[r,i];const s=(On().s[29]++,this.orderStopsByZoom(o)),a=(On().s[30]++,{...this.props.value,stops:s});On().s[31]++,this.props.onChange(this.props.fieldName,a)}changeBase(e){On().f[10]++;const r=(On().s[32]++,{...this.props.value,base:e});On().s[33]++,r.base===void 0?(On().b[6][0]++,On().s[34]++,delete r.base):On().b[6][1]++,On().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var r,i,o,s;On().f[12]++;const e=(On().s[39]++,(r=this.props.value)==null?void 0:r.stops.map((a,f)=>{var D;On().f[13]++;const g=(On().s[40]++,a[0]),x=(On().s[41]++,this.state.refs[f]),I=(On().s[42]++,a[1]),B=(On().s[43]++,N.jsx(jN,{onClick:(D=this.props.onDeleteStop)==null?void 0:D.bind(this,f)}));return On().s[44]++,N.jsxs("tr",{children:[N.jsx("td",{children:N.jsx(ef,{"aria-label":"Zoom",value:g,onChange:L=>(On().f[14]++,On().s[45]++,this.changeZoomStop(f,L,I)),min:0,max:22})}),N.jsx("td",{children:N.jsx(ey,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:I,onChange:(L,V)=>(On().f[15]++,On().s[46]++,this.changeZoomStop(f,g,V))})}),N.jsx("td",{children:B})]},x)}));return On().s[47]++,N.jsx("div",{className:"maputnik-data-spec-block",children:N.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[N.jsx("legend",{children:s5(this.props.fieldName)}),N.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[N.jsx(To,{label:"Function",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(f1,{value:"interpolate",onChange:a=>(On().f[16]++,On().s[48]++,this.changeDataType(a)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),N.jsx(To,{label:"Base",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(ey,{fieldName:"base",fieldSpec:vr.function.base,value:(i=this.props.value)==null?void 0:i.base,onChange:(a,f)=>(On().f[17]++,On().s[49]++,this.changeBase(f))})})}),N.jsx("div",{className:"maputnik-function-stop",children:N.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[N.jsx("caption",{children:"Stops"}),N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Zoom"}),N.jsx("th",{rowSpan:2,children:"Output value"})]})}),N.jsx("tbody",{children:e})]})}),N.jsxs("div",{className:"maputnik-toolbox",children:[N.jsxs(ka,{className:"maputnik-add-stop",onClick:(o=this.props.onAddStop)==null?void 0:o.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:j7})})," Add stop"]}),N.jsxs(ka,{className:"maputnik-add-stop",onClick:(s=this.props.onExpressionClick)==null?void 0:s.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:r_})})," Convert to expression"]})]})]})]})})}getDataFunctionTypes(e){return On().f[18]++,On().s[50]++,e["property-type"]==="data-driven"?(On().b[9][0]++,On().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(On().b[9][1]++,On().s[52]++,["interpolate"])}}rn(WN,"defaultProps",(On().s[9]++,{errors:{}}));function at(){var t="/workspaces/maputnik/src/components/FieldFunction.tsx",n="368552f6f9a0d2bf15bc02fb8160b84267b23174",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA2B,OAA2B;AAEpF,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"368552f6f9a0d2bf15bc02fb8160b84267b23174"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return at=function(){return s},s}at();function uP(t){return at().f[0]++,at().s[0]++,at().b[0][0]++,Array.isArray(t)&&(at().b[0][1]++,t.length===2)&&(at().b[0][2]++,t[0]==="literal")}function AP(t){return at().f[1]++,at().s[1]++,at().b[1][0]++,Array.isArray(t)&&(at().b[1][1]++,t.length===2)&&(at().b[1][2]++,t[0]==="get")}function HEe(t){return at().f[2]++,at().s[2]++,at().b[2][0]++,typeof t=="object"&&(at().b[2][1]++,t.stops)&&(at().b[2][2]++,typeof t.property>"u")&&(at().b[2][3]++,Array.isArray(t.stops))&&(at().b[2][4]++,t.stops.length>1)&&(at().b[2][5]++,t.stops.every(n=>(at().f[3]++,at().s[3]++,at().b[3][0]++,Array.isArray(n)&&(at().b[3][1]++,n.length===2))))}function NN(t){return at().f[4]++,at().s[4]++,at().b[4][0]++,typeof t=="object"&&(at().b[4][1]++,t.type==="identity")&&(at().b[4][2]++,Object.prototype.hasOwnProperty.call(t,"property"))}function ZEe(t){return at().f[5]++,at().s[5]++,at().b[5][0]++,typeof t=="object"&&(at().b[5][1]++,t.stops)&&(at().b[5][2]++,typeof t.property<"u")&&(at().b[5][3]++,t.stops.length>1)&&(at().b[5][4]++,Array.isArray(t.stops))&&(at().b[5][5]++,t.stops.every(n=>(at().f[6]++,at().s[6]++,at().b[6][0]++,Array.isArray(n)&&(at().b[6][1]++,n.length===2)&&(at().b[6][2]++,typeof n[0]=="object"))))}function XEe(t){return at().f[7]++,at().s[7]++,at().b[7][0]++,NN(t)||(at().b[7][1]++,ZEe(t))}function x8(t){at().f[8]++;const n=(at().s[8]++,["string","boolean","number"]);return at().s[9]++,n.includes(typeof t)}function JEe(t){return at().f[9]++,at().s[10]++,Array.isArray(t)?(at().b[8][0]++,at().s[11]++,t.every(x8)):(at().b[8][1]++,at().s[12]++,!1)}function cP(t,n=(at().b[9][0]++,{})){return at().f[10]++,at().s[13]++,t===void 0?(at().b[10][0]++,at().s[14]++,"value"):(at().b[10][1]++,at().s[15]++,x8(t)?(at().b[11][0]++,at().s[16]++,"value"):(at().b[11][1]++,at().s[17]++,at().b[13][0]++,n.type==="array"&&(at().b[13][1]++,JEe(t))?(at().b[12][0]++,at().s[18]++,"value"):(at().b[12][1]++,at().s[19]++,HEe(t)?(at().b[14][0]++,at().s[20]++,"zoom_function"):(at().b[14][1]++,at().s[21]++,XEe(t)?(at().b[15][0]++,at().s[22]++,"data_function"):(at().b[15][1]++,at().s[23]++,"expression")))))}class eOe extends gn.Component{constructor(e){at().f[11]++,at().s[24]++;super(e);rn(this,"addStop",(at().s[34]++,()=>{at().f[14]++;const e=(at().s[35]++,this.props.value.stops.slice(0)),r=(at().s[36]++,e[e.length-1]);at().s[37]++,typeof r[0]=="object"?(at().b[19][0]++,at().s[38]++,e.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(at().b[19][1]++,at().s[39]++,e.push([r[0]+1,r[1]]));const i=(at().s[40]++,{...this.props.value,stops:e});at().s[41]++,this.props.onChange(this.props.fieldName,i)}));rn(this,"deleteExpression",(at().s[42]++,()=>{at().f[15]++;const{fieldSpec:e,fieldName:r}=(at().s[43]++,this.props);at().s[44]++,this.props.onChange(r,e.default),at().s[45]++,this.setState({dataType:"value"})}));rn(this,"deleteStop",(at().s[46]++,e=>{at().f[16]++;const r=(at().s[47]++,this.props.value.stops.slice(0));at().s[48]++,r.splice(e,1);let i=(at().s[49]++,{...this.props.value,stops:r});at().s[50]++,r.length===1?(at().b[20][0]++,at().s[51]++,i=r[0][1]):at().b[20][1]++,at().s[52]++,this.props.onChange(this.props.fieldName,i)}));rn(this,"makeZoomFunction",(at().s[53]++,()=>{at().f[17]++;const{value:e}=(at().s[54]++,this.props);let r;at().s[55]++,typeof e=="object"?(at().b[21][0]++,at().s[56]++,e.stops?(at().b[22][0]++,at().s[57]++,r={base:e.base,stops:e.stops.map(i=>(at().f[18]++,at().s[58]++,[i[0].zoom,(at().b[23][0]++,i[1]||(at().b[23][1]++,fd(this.props.fieldSpec)))]))}):(at().b[22][1]++,at().s[59]++,r={base:e.base,stops:[[6,fd(this.props.fieldSpec)],[10,fd(this.props.fieldSpec)]]})):(at().b[21][1]++,at().s[60]++,r={stops:[[6,(at().b[24][0]++,e||(at().b[24][1]++,fd(this.props.fieldSpec)))],[10,(at().b[25][0]++,e||(at().b[25][1]++,fd(this.props.fieldSpec)))]]}),at().s[61]++,this.props.onChange(this.props.fieldName,r)}));rn(this,"undoExpression",(at().s[62]++,()=>{at().f[19]++;const{value:e,fieldName:r}=(at().s[63]++,this.props);at().s[64]++,AP(e)?(at().b[26][0]++,at().s[65]++,this.props.onChange(r,{type:"identity",property:e[1]}),at().s[66]++,this.setState({dataType:"value"})):(at().b[26][1]++,at().s[67]++,uP(e)?(at().b[27][0]++,at().s[68]++,this.props.onChange(r,e[1]),at().s[69]++,this.setState({dataType:"value"})):at().b[27][1]++)}));rn(this,"canUndo",(at().s[70]++,()=>{at().f[20]++;const{value:e,fieldSpec:r}=(at().s[71]++,this.props);return at().s[72]++,at().b[28][0]++,AP(e)||(at().b[28][1]++,uP(e))||(at().b[28][2]++,x8(e))||(at().b[28][3]++,Array.isArray(e)&&(at().b[28][4]++,r.type==="array"))}));rn(this,"makeExpression",(at().s[73]++,()=>{at().f[21]++;const{value:e,fieldSpec:r}=(at().s[74]++,this.props);let i;at().s[75]++,at().b[30][0]++,typeof e=="object"&&(at().b[30][1]++,"stops"in e)?(at().b[29][0]++,at().s[76]++,i=Xee.convertFunction(e,r)):(at().b[29][1]++,at().s[77]++,NN(e)?(at().b[31][0]++,at().s[78]++,i=["get",e.property]):(at().b[31][1]++,at().s[79]++,i=["literal",(at().b[32][0]++,e||(at().b[32][1]++,this.props.fieldSpec.default))])),at().s[80]++,this.props.onChange(this.props.fieldName,i)}));rn(this,"makeDataFunction",(at().s[81]++,()=>{at().f[22]++;const e=(at().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(at().s[83]++,e==="categorical"?(at().b[33][0]++,""):(at().b[33][1]++,0)),{value:i}=(at().s[84]++,this.props);let o;at().s[85]++,typeof i=="object"?(at().b[34][0]++,at().s[86]++,i.stops?(at().b[35][0]++,at().s[87]++,o={property:"",type:e,base:i.base,stops:i.stops.map(s=>(at().f[23]++,at().s[88]++,[{zoom:s[0],value:r},(at().b[36][0]++,s[1]||(at().b[36][1]++,fd(this.props.fieldSpec)))]))}):(at().b[35][1]++,at().s[89]++,o={property:"",type:e,base:i.base,stops:[[{zoom:6,value:r},fd(this.props.fieldSpec)],[{zoom:10,value:r},fd(this.props.fieldSpec)]]})):(at().b[34][1]++,at().s[90]++,o={property:"",type:e,base:i.base,stops:[[{zoom:6,value:r},(at().b[37][0]++,this.props.value||(at().b[37][1]++,fd(this.props.fieldSpec)))],[{zoom:10,value:r},(at().b[38][0]++,this.props.value||(at().b[38][1]++,fd(this.props.fieldSpec)))]]}),at().s[91]++,this.props.onChange(this.props.fieldName,o)}));rn(this,"onMarkEditing",(at().s[92]++,()=>{at().f[24]++,at().s[93]++,this.setState({isEditing:!0})}));rn(this,"onUnmarkEditing",(at().s[94]++,()=>{at().f[25]++,at().s[95]++,this.setState({isEditing:!1})}));at().s[25]++,this.state={dataType:cP(e.value,e.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(e,r){return at().f[12]++,at().s[26]++,r.isEditing?(at().b[16][0]++,at().s[27]++,{}):(at().b[16][1]++,at().s[28]++,{isEditing:!1,dataType:cP(e.value,e.fieldSpec)})}getFieldFunctionType(e){return at().f[13]++,at().s[29]++,e.expression.interpolated?(at().b[17][0]++,at().s[30]++,"exponential"):(at().b[17][1]++,at().s[31]++,e.type==="number"?(at().b[18][0]++,at().s[32]++,"interval"):(at().b[18][1]++,at().s[33]++,"categorical"))}render(){at().f[26]++;const{dataType:e}=(at().s[96]++,this.state),r=(at().s[97]++,this.props.fieldSpec.default===this.props.value?(at().b[39][0]++,"maputnik-default-property"):(at().b[39][1]++,"maputnik-modified-property"));let i;return at().s[98]++,e==="expression"?(at().b[40][0]++,at().s[99]++,i=N.jsx(Q7,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(at().b[40][1]++,at().s[100]++,e==="zoom_function"?(at().b[41][0]++,at().s[101]++,i=N.jsx(WN,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(at().b[41][1]++,at().s[102]++,e==="data_function"?(at().b[42][0]++,at().s[103]++,i=N.jsx(VEe,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(at().b[42][1]++,at().s[104]++,i=N.jsx(RN,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),at().s[105]++,N.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function gi(){var t="/workspaces/maputnik/src/components/PropertyGroup.tsx",n="cf647e904f8c31b14870228e03db44c287e85fa0",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cf647e904f8c31b14870228e03db44c287e85fa0"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return gi=function(){return s},s}gi();const tOe=(gi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function nOe(t,n,e){gi().f[0]++;const r=(gi().s[1]++,GN(t,n,e)),i=(gi().s[2]++,t[r+"_"+n]),o=(gi().s[3]++,i[e]);return gi().s[4]++,tOe.indexOf(e)>=0?(gi().b[0][0]++,gi().s[5]++,{...o,values:t.$root.sprite.values}):(gi().b[0][1]++,gi().s[6]++,e==="text-font"?(gi().b[1][0]++,gi().s[7]++,{...o,values:t.$root.glyphs.values}):(gi().b[1][1]++,gi().s[8]++,o))}function GN(t,n,e){gi().f[1]++;const r=(gi().s[9]++,gi().b[2][0]++,t["paint_"+n]||(gi().b[2][1]++,{}));return gi().s[10]++,e in r?(gi().b[3][0]++,gi().s[11]++,"paint"):(gi().b[3][1]++,gi().s[12]++,"layout")}class rOe extends gn.Component{constructor(){super(...arguments);rn(this,"onPropertyChange",(gi().s[13]++,(e,r)=>{gi().f[2]++;const i=(gi().s[14]++,GN(this.props.spec,this.props.layer.type,e));gi().s[15]++,this.props.onChange(i,e,r)}))}render(){gi().f[3]++;const{errors:e}=(gi().s[16]++,this.props),r=(gi().s[17]++,this.props.groupFields.map(i=>{gi().f[4]++;const o=(gi().s[18]++,nOe(this.props.spec,this.props.layer.type,i)),s=(gi().s[19]++,gi().b[4][0]++,this.props.layer.paint||(gi().b[4][1]++,{})),a=(gi().s[20]++,gi().b[5][0]++,this.props.layer.layout||(gi().b[5][1]++,{})),f=(gi().s[21]++,i in s?(gi().b[6][0]++,s[i]):(gi().b[6][1]++,a[i])),g=(gi().s[22]++,i in s?(gi().b[7][0]++,"paint"):(gi().b[7][1]++,"layout"));return gi().s[23]++,N.jsx(eOe,{errors:e,onChange:this.onPropertyChange,fieldName:i,value:f,fieldType:g,fieldSpec:o},i)}));return gi().s[24]++,N.jsx("div",{className:"maputnik-property-group",children:r})}}var iOe=function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(r,i,o){e.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},e.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,i){if(1&i&&(r=e(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)e.d(o,s,(function(a){return r[a]}).bind(null,s));return o},e.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(i,"a",i),i},e.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},e.p="",e(e.s=2)}([function(t,n){t.exports=oh},function(t,n){t.exports=Or},function(t,n,e){e.r(n);var r=e(1),i=e(0),o=function(){return(o=Object.assign||function(L){for(var V,W=1,j=arguments.length;W<j;W++)for(var G in V=arguments[W])Object.prototype.hasOwnProperty.call(V,G)&&(L[G]=V[G]);return L}).apply(this,arguments)},s=function(L,V){var W={};for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&V.indexOf(j)<0&&(W[j]=L[j]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function"){var G=0;for(j=Object.getOwnPropertySymbols(L);G<j.length;G++)V.indexOf(j[G])<0&&Object.prototype.propertyIsEnumerable.call(L,j[G])&&(W[j[G]]=L[j[G]])}return W},a=0,f=r.forwardRef(function(L,V){var W=L.title,j=W===void 0?null:W,G=L.description,ee=G===void 0?null:G,re=L.size,se=re===void 0?null:re,oe=L.color,ue=oe===void 0?"currentColor":oe,me=L.horizontal,De=me===void 0?null:me,Re=L.vertical,et=Re===void 0?null:Re,ht=L.rotate,ke=ht===void 0?null:ht,Je=L.spin,ve=Je===void 0?null:Je,ft=L.style,Ft=ft===void 0?{}:ft,tn=L.children,St=s(L,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var Ne,qe=ve!==null&&ve,tt=r.Children.map(tn,function(Et){var Kt=Et;qe!==!0&&(qe=(ve===null?Kt.props.spin:ve)===!0);var xe=Kt.props.size;typeof se=="number"&&typeof Kt.props.size=="number"&&(xe=Kt.props.size/se);var ce={size:xe,color:ue===null?Kt.props.color:ue,horizontal:De===null?Kt.props.horizontal:De,vertical:et===null?Kt.props.vertical:et,rotate:ke===null?Kt.props.rotate:ke,spin:ve===null?Kt.props.spin:ve,inStack:!0};return r.cloneElement(Kt,ce)});se!==null&&(Ft.width=typeof se=="string"?se:1.5*se+"rem");var Jt,dt="stack_labelledby_"+a,ot="stack_describedby_"+a;if(j)Ne=ee?dt+" "+ot:dt;else if(Jt="presentation",ee)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:V,viewBox:"0 0 24 24",style:Ft,role:Jt,"aria-labelledby":Ne},St),j&&r.createElement("title",{id:dt},j),ee&&r.createElement("desc",{id:ot},ee),qe&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),tt)});f.displayName="Stack",f.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=f;e.d(n,"Icon",function(){return D}),e.d(n,"Stack",function(){return g});var x=function(){return(x=Object.assign||function(L){for(var V,W=1,j=arguments.length;W<j;W++)for(var G in V=arguments[W])Object.prototype.hasOwnProperty.call(V,G)&&(L[G]=V[G]);return L}).apply(this,arguments)},I=function(L,V){var W={};for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&V.indexOf(j)<0&&(W[j]=L[j]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function"){var G=0;for(j=Object.getOwnPropertySymbols(L);G<j.length;G++)V.indexOf(j[G])<0&&Object.prototype.propertyIsEnumerable.call(L,j[G])&&(W[j[G]]=L[j[G]])}return W},B=0,D=r.forwardRef(function(L,V){var W=L.path,j=L.id,G=j===void 0?++B:j,ee=L.title,re=ee===void 0?null:ee,se=L.description,oe=se===void 0?null:se,ue=L.size,me=ue===void 0?null:ue,De=L.color,Re=De===void 0?"currentColor":De,et=L.horizontal,ht=et!==void 0&&et,ke=L.vertical,Je=ke!==void 0&&ke,ve=L.rotate,ft=ve===void 0?0:ve,Ft=L.spin,tn=Ft!==void 0&&Ft,St=L.style,Ne=St===void 0?{}:St,qe=L.inStack,tt=qe!==void 0&&qe,Jt=I(L,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),dt={},ot=[];me!==null&&(tt?ot.push("scale("+me+")"):(Ne.width=typeof me=="string"?me:1.5*me+"rem",Ne.height=Ne.width)),ht&&ot.push("scaleX(-1)"),Je&&ot.push("scaleY(-1)"),ft!==0&&ot.push("rotate("+ft+"deg)"),Re!==null&&(dt.fill=Re);var Et=r.createElement("path",x({d:W,style:dt},tt?Jt:{})),Kt=Et;ot.length>0&&(Ne.transform=ot.join(" "),Ne.transformOrigin="center",tt&&(Kt=r.createElement("g",{style:Ne},Et,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var xe,ce=Kt,_e=tn===!0||typeof tn!="number"?2:tn,Ke=!tt&&(ht||Je);if(_e<0&&(Ke=!Ke),tn&&(ce=r.createElement("g",{style:{animation:"spin"+(Ke?"-inverse":"")+" linear "+Math.abs(_e)+"s infinite",transformOrigin:"center"}},Kt,!(ht||Je||ft!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),tt)return ce;var Ve,Ze="icon_labelledby_"+G,bt="icon_describedby_"+G;if(re)xe=oe?Ze+" "+bt:Ze;else if(Ve="presentation",oe)throw new Error("title attribute required when description is set");return r.createElement("svg",x({ref:V,viewBox:"0 0 24 24",style:Ne,role:Ve,"aria-labelledby":xe},Jt),re&&r.createElement("title",{id:Ze},re),oe&&r.createElement("desc",{id:bt},oe),!tt&&tn&&(Ke?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),ce)});D.displayName="Icon",D.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},D.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},n.default=D}]);const dP=Qo(iOe);function Ig(){var t="/workspaces/maputnik/src/components/LayerEditorGroup.tsx",n="267da1dbfea66bfabde565604d0503e34c43248f",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"267da1dbfea66bfabde565604d0503e34c43248f"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ig=function(){return s},s}Ig();class oOe extends gn.Component{render(){return Ig().f[0]++,Ig().s[0]++,N.jsxs(AW,{uuid:this.props.id,children:[N.jsx(hW,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:n=>(Ig().f[1]++,Ig().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:N.jsxs(Ume,{className:"maputnik-layer-editor-group__button",children:[N.jsx("span",{style:{flexGrow:1},children:this.props.title}),N.jsx(dP,{path:Qme,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),N.jsx(dP,{path:Gme,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),N.jsx(Lme,{children:this.props.children})]})}}function j3(){var t="/workspaces/maputnik/src/components/FieldMinZoom.tsx",n="8a85f28ba0f0fdad43e87205b2bb5b4bba322304",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8a85f28ba0f0fdad43e87205b2bb5b4bba322304"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return j3=function(){return s},s}j3();class aOe extends gn.Component{render(){return j3().f[0]++,j3().s[0]++,N.jsx(To,{label:"Min Zoom",fieldSpec:vr.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:N.jsx(ef,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:vr.layer.minzoom.minimum,max:vr.layer.minzoom.maximum,default:vr.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}function W3(){var t="/workspaces/maputnik/src/components/FieldMaxZoom.tsx",n="ef0fde5fd1bf5f790ee64f36561a3cfa95bdc5f4",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ef0fde5fd1bf5f790ee64f36561a3cfa95bdc5f4"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return W3=function(){return s},s}W3();class sOe extends gn.Component{render(){return W3().f[0]++,W3().s[0]++,N.jsx(To,{label:"Max Zoom",fieldSpec:vr.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:N.jsx(ef,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:vr.layer.maxzoom.minimum,max:vr.layer.maxzoom.maximum,default:vr.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}function _C(){var t="/workspaces/maputnik/src/components/FieldComment.tsx",n="64925707626f8ecdd3e5472cdcefba75b6fb9c3c",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:7,column:22},end:{line:9,column:5}},1:{start:{line:10,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:29,column:3}},line:6}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAuBM;AAvBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,KAAK;AAAA,IACP;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAQ;AAAA,YACR,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"64925707626f8ecdd3e5472cdcefba75b6fb9c3c"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return _C=function(){return s},s}_C();class lOe extends gn.Component{render(){_C().f[0]++;const n=(_C().s[0]++,{doc:"Comments for the current layer. This is non-standard and not in the spec."});return _C().s[1]++,N.jsx(To,{label:"Comments",fieldSpec:n,"data-wd-key":"layer-comment",error:this.props.error,children:N.jsx(Sd,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:"Comment...","data-wd-key":"layer-comment.input"})})}}const uOe={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},AOe={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},cOe={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},dOe={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},hOe={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},fOe={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},pOe={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},mOe={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},gOe={groups:[]},DM={line:uOe,background:AOe,fill:cOe,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:dOe,symbol:hOe,raster:fOe,hillshade:pOe,heatmap:mOe,invalid:gOe};function kg(){var t="/workspaces/maputnik/src/libs/format.ts",n="e7a20a6087857be141f110947d0c34583b5bad2e",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e7a20a6087857be141f110947d0c34583b5bad2e"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return kg=function(){return s},s}kg();function QN(t){return kg().f[0]++,kg().s[0]++,t===""?(kg().b[0][0]++,"[empty_string]"):(kg().b[0][1]++,`'${t}'`)}function an(){var t="/workspaces/maputnik/src/components/LayerEditor.tsx",n="50167eb60307b58f22872a48bd7c13f79a9fa4fe",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:54}},1:{start:{line:25,column:21},end:{line:28,column:3}},2:{start:{line:29,column:22},end:{line:32,column:3}},3:{start:{line:33,column:22},end:{line:36,column:3}},4:{start:{line:37,column:2},end:{line:37,column:100}},5:{start:{line:40,column:24},end:{line:47,column:3}},6:{start:{line:48,column:29},end:{line:50,column:3}},7:{start:{line:52,column:4},end:{line:52,column:17}},8:{start:{line:53,column:25},end:{line:53,column:27}},9:{start:{line:54,column:4},end:{line:56,column:7}},10:{start:{line:55,column:6},end:{line:55,column:39}},11:{start:{line:57,column:4},end:{line:57,column:34}},12:{start:{line:60,column:29},end:{line:60,column:54}},13:{start:{line:61,column:4},end:{line:65,column:7}},14:{start:{line:62,column:6},end:{line:64,column:7}},15:{start:{line:63,column:8},end:{line:63,column:45}},16:{start:{line:66,column:4},end:{line:68,column:6}},17:{start:{line:71,column:4},end:{line:76,column:6}},18:{start:{line:79,column:4},end:{line:82,column:6}},19:{start:{line:85,column:32},end:{line:88,column:5}},20:{start:{line:89,column:4},end:{line:91,column:7}},21:{start:{line:94,column:18},end:{line:94,column:20}},22:{start:{line:95,column:4},end:{line:97,column:5}},23:{start:{line:96,column:6},end:{line:96,column:62}},24:{start:{line:98,column:35},end:{line:98,column:45}},25:{start:{line:99,column:22},end:{line:99,column:24}},26:{start:{line:100,column:4},end:{line:106,column:7}},27:{start:{line:101,column:6},end:{line:105,column:7}},28:{start:{line:102,column:8},end:{line:104,column:10}},29:{start:{line:108,column:18},end:{line:108,column:34}},30:{start:{line:109,column:4},end:{line:111,column:5}},31:{start:{line:110,column:6},end:{line:110,column:63}},32:{start:{line:112,column:4},end:{line:215,column:5}},33:{start:{line:114,column:8},end:{line:178,column:13}},34:{start:{line:121,column:35},end:{line:121,column:112}},35:{start:{line:130,column:37},end:{line:133,column:15}},36:{start:{line:142,column:31},end:{line:142,column:69}},37:{start:{line:151,column:31},end:{line:151,column:75}},38:{start:{line:159,column:31},end:{line:159,column:70}},39:{start:{line:167,column:31},end:{line:167,column:70}},40:{start:{line:175,column:31},end:{line:175,column:104}},41:{start:{line:180,column:8},end:{line:188,column:16}},42:{start:{line:186,column:29},end:{line:186,column:67}},43:{start:{line:190,column:8},end:{line:199,column:10}},44:{start:{line:201,column:8},end:{line:212,column:10}},45:{start:{line:206,column:14},end:{line:209,column:16}},46:{start:{line:214,column:8},end:{line:214,column:49}},47:{start:{line:218,column:4},end:{line:221,column:7}},48:{start:{line:224,column:21},end:{line:224,column:23}},49:{start:{line:225,column:22},end:{line:225,column:43}},50:{start:{line:226,column:19},end:{line:243,column:6}},51:{start:{line:227,column:6},end:{line:227,column:70}},52:{start:{line:229,column:22},end:{line:229,column:52}},53:{start:{line:230,column:6},end:{line:230,column:29}},54:{start:{line:231,column:6},end:{line:242,column:8}},55:{start:{line:244,column:20},end:{line:244,column:49}},56:{start:{line:245,column:18},end:{line:270,column:5}},57:{start:{line:248,column:23},end:{line:248,column:71}},58:{start:{line:252,column:23},end:{line:252,column:68}},59:{start:{line:256,column:23},end:{line:256,column:80}},60:{start:{line:262,column:23},end:{line:262,column:41}},61:{start:{line:268,column:23},end:{line:268,column:40}},62:{start:{line:272,column:6},end:{line:272,column:30}},63:{start:{line:273,column:6},end:{line:273,column:26}},64:{start:{line:275,column:4},end:{line:314,column:6}},65:{start:{line:296,column:33},end:{line:296,column:42}},66:{start:{line:297,column:20},end:{line:297,column:174}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:21,column:9},end:{line:21,column:25}},loc:{start:{line:21,column:32},end:{line:23,column:1}},line:21},1:{name:"layoutGroups",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:33},end:{line:38,column:1}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:41,column:20},end:{line:41,column:21}},loc:{start:{line:41,column:26},end:{line:42,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:43,column:21},end:{line:43,column:22}},loc:{start:{line:43,column:27},end:{line:44,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:45,column:22},end:{line:45,column:23}},loc:{start:{line:45,column:28},end:{line:46,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:21},end:{line:58,column:3}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:54,column:48},end:{line:54,column:49}},loc:{start:{line:54,column:59},end:{line:56,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:48},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:61,column:54},end:{line:61,column:55}},loc:{start:{line:61,column:65},end:{line:65,column:5}},line:61},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:77,column:3}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:44},end:{line:83,column:3}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:36},end:{line:92,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:32},end:{line:216,column:3}},line:93},13:{name:"(anonymous_13)",decl:{start:{line:100,column:19},end:{line:100,column:20}},loc:{start:{line:100,column:30},end:{line:106,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:121,column:24},end:{line:121,column:25}},loc:{start:{line:121,column:35},end:{line:121,column:112}},line:121},15:{name:"(anonymous_15)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:37},end:{line:133,column:15}},line:130},16:{name:"(anonymous_16)",decl:{start:{line:142,column:24},end:{line:142,column:25}},loc:{start:{line:142,column:31},end:{line:142,column:69}},line:142},17:{name:"(anonymous_17)",decl:{start:{line:151,column:24},end:{line:151,column:25}},loc:{start:{line:151,column:31},end:{line:151,column:75}},line:151},18:{name:"(anonymous_18)",decl:{start:{line:159,column:24},end:{line:159,column:25}},loc:{start:{line:159,column:31},end:{line:159,column:70}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:167,column:24},end:{line:167,column:25}},loc:{start:{line:167,column:31},end:{line:167,column:70}},line:167},20:{name:"(anonymous_20)",decl:{start:{line:175,column:24},end:{line:175,column:25}},loc:{start:{line:175,column:31},end:{line:175,column:104}},line:175},21:{name:"(anonymous_21)",decl:{start:{line:186,column:22},end:{line:186,column:23}},loc:{start:{line:186,column:29},end:{line:186,column:67}},line:186},22:{name:"(anonymous_22)",decl:{start:{line:205,column:22},end:{line:205,column:23}},loc:{start:{line:205,column:34},end:{line:210,column:13}},line:205},23:{name:"(anonymous_23)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:20},end:{line:222,column:3}},line:217},24:{name:"(anonymous_24)",decl:{start:{line:223,column:2},end:{line:223,column:3}},loc:{start:{line:223,column:11},end:{line:315,column:3}},line:223},25:{name:"(anonymous_25)",decl:{start:{line:226,column:50},end:{line:226,column:51}},loc:{start:{line:226,column:61},end:{line:228,column:5}},line:226},26:{name:"(anonymous_26)",decl:{start:{line:228,column:11},end:{line:228,column:12}},loc:{start:{line:228,column:22},end:{line:243,column:5}},line:228},27:{name:"(anonymous_27)",decl:{start:{line:248,column:17},end:{line:248,column:18}},loc:{start:{line:248,column:23},end:{line:248,column:71}},line:248},28:{name:"(anonymous_28)",decl:{start:{line:252,column:17},end:{line:252,column:18}},loc:{start:{line:252,column:23},end:{line:252,column:68}},line:252},29:{name:"(anonymous_29)",decl:{start:{line:256,column:17},end:{line:256,column:18}},loc:{start:{line:256,column:23},end:{line:256,column:80}},line:256},30:{name:"(anonymous_30)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:41}},line:262},31:{name:"(anonymous_31)",decl:{start:{line:268,column:17},end:{line:268,column:18}},loc:{start:{line:268,column:23},end:{line:268,column:40}},line:268},32:{name:"handleSelection",decl:{start:{line:271,column:13},end:{line:271,column:28}},loc:{start:{line:271,column:40},end:{line:274,column:5}},line:271},33:{name:"(anonymous_33)",decl:{start:{line:295,column:147},end:{line:295,column:148}},loc:{start:{line:295,column:155},end:{line:298,column:19}},line:295}},branchMap:{0:{loc:{start:{line:22,column:9},end:{line:22,column:53}},type:"cond-expr",locations:[{start:{line:22,column:24},end:{line:22,column:36}},{start:{line:22,column:39},end:{line:22,column:53}}],line:22},1:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},2:{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},3:{loc:{start:{line:101,column:6},end:{line:105,column:7}},type:"if",locations:[{start:{line:101,column:6},end:{line:105,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:101},4:{loc:{start:{line:101,column:10},end:{line:101,column:96}},type:"binary-expr",locations:[{start:{line:101,column:10},end:{line:101,column:22}},{start:{line:101,column:26},end:{line:101,column:55}},{start:{line:101,column:59},end:{line:101,column:96}}],line:101},5:{loc:{start:{line:109,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:109,column:4},end:{line:111,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:109},6:{loc:{start:{line:112,column:4},end:{line:215,column:5}},type:"switch",locations:[{start:{line:113,column:6},end:{line:178,column:13}},{start:{line:179,column:6},end:{line:188,column:16}},{start:{line:189,column:6},end:{line:199,column:10}},{start:{line:200,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:214,column:49}}],line:112},7:{loc:{start:{line:136,column:10},end:{line:144,column:11}},type:"binary-expr",locations:[{start:{line:136,column:10},end:{line:136,column:48}},{start:{line:136,column:68},end:{line:144,column:11}}],line:136},8:{loc:{start:{line:145,column:10},end:{line:153,column:11}},type:"binary-expr",locations:[{start:{line:145,column:10},end:{line:145,column:93}},{start:{line:145,column:113},end:{line:153,column:11}}],line:145},9:{loc:{start:{line:175,column:83},end:{line:175,column:103}},type:"cond-expr",locations:[{start:{line:175,column:93},end:{line:175,column:99}},{start:{line:175,column:102},end:{line:175,column:103}}],line:175},10:{loc:{start:{line:227,column:15},end:{line:227,column:68}},type:"binary-expr",locations:[{start:{line:227,column:15},end:{line:227,column:41}},{start:{line:227,column:45},end:{line:227,column:68}}],line:227},11:{loc:{start:{line:244,column:20},end:{line:244,column:49}},type:"binary-expr",locations:[{start:{line:244,column:20},end:{line:244,column:43}},{start:{line:244,column:47},end:{line:244,column:49}}],line:244},12:{loc:{start:{line:255,column:14},end:{line:255,column:61}},type:"cond-expr",locations:[{start:{line:255,column:46},end:{line:255,column:52}},{start:{line:255,column:55},end:{line:255,column:61}}],line:255}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA6JyB,SA2EL,UA1Ed,KADmB;AA7JzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAG5B,SAAS,iBAAiB,MAAkC;AAC1D,SAAO,OAAO,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO;AAC9C;AAEA,SAAS,aAAa,WAA2F;AAC/G,QAAM,aAAa;AAAA,IACjB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,SAAS,EAAE,MAAM,EACzC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,IAAI,EAAE,QAAQ,WAAS;AACnD,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,IAAI,EAAE,OAAO,QAAQ,WAAS;AACzD,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,SAAS,EAAE,OAAO,WAAS;AACrD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM,MAAM,QAAQ,MAAM,GAAG;AAC7C,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC,MAAM;AAAA,MAMb;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,SAAS;AAAA,QAChD,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAW;AAAA,QAEX;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,iCAAC,QAAG,WAAU,uBAAsB;AAAA;AAAA,cAC1B,cAAc,KAAK,MAAM,MAAM,EAAE;AAAA,eAC3C;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA,sCAAC,UAAO,IAAG,4BAA2B,eAAY,4BAA2B,WAAU,qBAAoB,OAAM,iBAC/G,8BAAC,cAAW,WAAU,0BAAyB,GACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"50167eb60307b58f22872a48bd7c13f79a9fa4fe"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return an=function(){return s},s}an();function $N(t){return an().f[0]++,an().s[0]++,DM[t]?(an().b[0][0]++,DM[t]):(an().b[0][1]++,DM.invalid)}function hP(t){an().f[1]++;const n=(an().s[1]++,{title:"Layer",type:"layer"}),e=(an().s[2]++,{title:"Filter",type:"filter"}),r=(an().s[3]++,{title:"JSON Editor",type:"jsoneditor"});return an().s[4]++,[n,e].concat($N(t).groups).concat([r])}class PE extends gn.Component{constructor(n){an().f[5]++,an().s[7]++,super(n);const e=(an().s[8]++,{});an().s[9]++,hP(this.props.layer.type).forEach(r=>{an().f[6]++,an().s[10]++,e[r.title]=!0}),an().s[11]++,this.state={editorGroups:e}}static getDerivedStateFromProps(n,e){an().f[7]++;const r=(an().s[12]++,{...e.editorGroups});return an().s[13]++,$N(n.layer.type).groups.forEach(i=>{an().f[8]++,an().s[14]++,i.title in r?an().b[1][1]++:(an().b[1][0]++,an().s[15]++,r[i.title]=!0)}),an().s[16]++,{editorGroups:r}}getChildContext(){return an().f[9]++,an().s[17]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(n,e,r){an().f[10]++,an().s[18]++,this.props.onLayerChanged(this.props.layerIndex,gpe(this.props.layer,n,e,r))}onGroupToggle(n,e){an().f[11]++;const r=(an().s[19]++,{...this.state.editorGroups,[n]:e});an().s[20]++,this.setState({editorGroups:r})}renderGroupType(n,e){an().f[12]++;let r=(an().s[21]++,"");an().s[22]++,this.props.layer.metadata?(an().b[2][0]++,an().s[23]++,r=this.props.layer.metadata["maputnik:comment"]):an().b[2][1]++;const{errors:i,layerIndex:o}=(an().s[24]++,this.props),s=(an().s[25]++,{});an().s[26]++,i.forEach(g=>{an().f[13]++,an().s[27]++,an().b[4][0]++,g.parsed&&(an().b[4][1]++,g.parsed.type==="layer")&&(an().b[4][2]++,g.parsed.data.index==o)?(an().b[3][0]++,an().s[28]++,s[g.parsed.data.key]={message:g.parsed.data.message}):an().b[3][1]++});let a;const f=(an().s[29]++,this.props.layer);switch(an().s[30]++,Object.prototype.hasOwnProperty.call(this.props.sources,f.source)?(an().b[5][0]++,an().s[31]++,a=this.props.sources[f.source].layers):an().b[5][1]++,an().s[32]++,n){case"layer":return an().b[6][0]++,an().s[33]++,N.jsxs("div",{children:[N.jsx($j,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:s.id,onChange:g=>(an().f[14]++,an().s[34]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,g))}),N.jsx(B7,{disabled:!0,error:s.type,value:this.props.layer.type,onChange:g=>(an().f[15]++,an().s[35]++,this.props.onLayerChanged(this.props.layerIndex,mpe(this.props.layer,g)))}),(an().b[7][0]++,this.props.layer.type!=="background"&&(an().b[7][1]++,N.jsx(k7,{error:s.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:g=>(an().f[16]++,an().s[36]++,this.changeProperty(null,"source",g))}))),(an().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(an().b[8][1]++,N.jsx(T7,{error:s["source-layer"],sourceLayerIds:a,value:this.props.layer["source-layer"],onChange:g=>(an().f[17]++,an().s[37]++,this.changeProperty(null,"source-layer",g))}))),N.jsx(aOe,{error:s.minzoom,value:this.props.layer.minzoom,onChange:g=>(an().f[18]++,an().s[38]++,this.changeProperty(null,"minzoom",g))}),N.jsx(sOe,{error:s.maxzoom,value:this.props.layer.maxzoom,onChange:g=>(an().f[19]++,an().s[39]++,this.changeProperty(null,"maxzoom",g))}),N.jsx(lOe,{error:s.comment,value:r,onChange:g=>(an().f[20]++,an().s[40]++,this.changeProperty("metadata","maputnik:comment",g==""?(an().b[9][0]++,void 0):(an().b[9][1]++,g)))})]});case"filter":return an().b[6][1]++,an().s[41]++,N.jsx("div",{children:N.jsx("div",{className:"maputnik-filter-editor-wrapper",children:N.jsx(IW,{errors:s,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:g=>(an().f[21]++,an().s[42]++,this.changeProperty(null,"filter",g))})})});case"properties":return an().b[6][2]++,an().s[43]++,N.jsx(rOe,{errors:s,layer:this.props.layer,groupFields:e,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return an().b[6][3]++,an().s[44]++,N.jsx(z7,{layer:this.props.layer,onChange:g=>{an().f[22]++,an().s[45]++,this.props.onLayerChanged(this.props.layerIndex,g)}});default:return an().b[6][4]++,an().s[46]++,N.jsx(N.Fragment,{})}}moveLayer(n){an().f[23]++,an().s[47]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+n})}render(){an().f[24]++;const n=(an().s[48]++,[]),e=(an().s[49]++,this.props.layer.type),r=(an().s[50]++,hP(e).filter(a=>(an().f[25]++,an().s[51]++,an().b[10][0]++,!(e==="background"&&(an().b[10][1]++,a.type==="source")))).map(a=>{an().f[26]++;const f=(an().s[52]++,a.title.replace(/ /g,"_"));return an().s[53]++,n.push(f),an().s[54]++,N.jsx(oOe,{"data-wd-key":a.title,id:f,title:a.title,isActive:this.state.editorGroups[a.title],onActiveToggle:this.onGroupToggle.bind(this,a.title),children:this.renderGroupType(a.type,a.fields)},a.title)})),i=(an().s[55]++,an().b[11][0]++,this.props.layer.layout||(an().b[11][1]++,{})),o=(an().s[56]++,{delete:{text:"Delete",handler:()=>(an().f[27]++,an().s[57]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:"Duplicate",handler:()=>(an().f[28]++,an().s[58]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:i.visibility==="none"?(an().b[12][0]++,"Show"):(an().b[12][1]++,"Hide"),handler:()=>(an().f[29]++,an().s[59]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:"Move layer up",disabled:this.props.isFirstLayer,handler:()=>(an().f[30]++,an().s[60]++,this.moveLayer(-1))},moveLayerDown:{text:"Move layer down",disabled:this.props.isLastLayer,handler:()=>(an().f[31]++,an().s[61]++,this.moveLayer(1))}});function s(a,f){an().f[32]++,an().s[62]++,f.stopPropagation(),an().s[63]++,o[a].handler()}return an().s[64]++,N.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":"Layer editor",children:[N.jsx("header",{children:N.jsxs("div",{className:"layer-header",children:[N.jsxs("h2",{className:"layer-header__title",children:["Layer: ",QN(this.props.layer.id)]}),N.jsx("div",{className:"layer-header__info",children:N.jsxs(_x.Wrapper,{className:"more-menu",onSelection:s,closeOnSelection:!1,children:[N.jsx(_x.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:N.jsx(Xte,{className:"more-menu__button__svg"})}),N.jsx(_x.Menu,{children:N.jsx("ul",{className:"more-menu__menu",children:Object.keys(o).map(a=>{an().f[33]++;const f=(an().s[65]++,o[a]);return an().s[66]++,N.jsx("li",{children:N.jsx(_x.MenuItem,{value:a,className:"more-menu__menu__item",children:f.text})},a)})})})]})})]})}),N.jsx(wme,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:n,children:r})]})}}rn(PE,"defaultProps",(an().s[5]++,{onLayerChanged:()=>{an().f[2]++},onLayerIdChange:()=>{an().f[3]++},onLayerDestroyed:()=>{an().f[4]++}})),rn(PE,"childContextTypes",(an().s[6]++,{reactIconBase:Kr.object}));var fP=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))},yOe=function(){function t(n,e,r){this.name=n,this.version=e,this.os=r,this.type="browser"}return t}(),vOe=function(){function t(n){this.version=n,this.type="node",this.name="node",this.os=process.platform}return t}(),COe=function(){function t(n,e,r,i){this.name=n,this.version=e,this.os=r,this.bot=i,this.type="bot-device"}return t}(),_Oe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),bOe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),xOe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wOe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,pP=3,MOe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",xOe]],mP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function SOe(t){return t?gP(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new bOe:typeof navigator<"u"?gP(navigator.userAgent):BOe()}function EOe(t){return t!==""&&MOe.reduce(function(n,e){var r=e[0],i=e[1];if(n)return n;var o=i.exec(t);return!!o&&[r,o]},!1)}function gP(t){var n=EOe(t);if(!n)return null;var e=n[0],r=n[1];if(e==="searchbot")return new _Oe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<pP&&(i=fP(fP([],i,!0),IOe(pP-i.length),!0)):i=[];var o=i.join("."),s=OOe(t),a=wOe.exec(t);return a&&a[1]?new COe(e,o,s,a[1]):new yOe(e,o,s)}function OOe(t){for(var n=0,e=mP.length;n<e;n++){var r=mP[n],i=r[0],o=r[1],s=o.exec(t);if(s)return i}return null}function BOe(){var t=typeof process<"u"&&process.version;return t?new vOe(process.version.slice(1)):null}function IOe(t){for(var n=[],e=0;e<t;e++)n.push("0");return n}const kOe="maputnik",TOe="2.0.0-pre.2",KOe="A MapLibre GL visual style editor",POe="module",UOe="''",DOe={start:"vite",build:"tsc && vite build",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"',storybook:"storybook dev -h 0.0.0.0 -p 6006","build-storybook":"storybook build -o build/storybook"},FOe={type:"git",url:"https://github.com/maputnik/editor"},LOe="Lukas Martinelli",ROe="MIT",zOe="https://github.com/maputnik/editor#readme",jOe={"@mapbox/mapbox-gl-rtl-text":"^0.2.3","@maplibre/maplibre-gl-style-spec":"^17.0.1","@mdi/js":"^6.6.96","@mdi/react":"^1.5.0","@typescript-eslint/eslint-plugin":"^6.16.0","@typescript-eslint/parser":"^6.16.0","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.3.1",codemirror:"^5.65.2",color:"^4.2.3","detect-browser":"^5.3.0","file-saver":"^2.0.5","json-stringify-pretty-compact":"^3.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","mapbox-gl-inspect":"^1.3.1","maplibre-gl":"^2.4.0","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1","prop-types":"^15.8.1",react:"^16.0.0","react-accessible-accordion":"^4.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^4.0.1","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^16.0.0","react-file-reader-input":"^2.0.0","react-icon-base":"^2.1.2","react-icons":"^4.3.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.50.0",slugify:"^1.6.5","string-hash":"^1.1.3",url:"^0.11.0"},WOe={esversion:6},NOe={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},GOe={"@cypress/code-coverage":"^3.12.15","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.0.17","@storybook/addon-a11y":"^7.6.5","@storybook/addon-actions":"^7.6.5","@storybook/addon-links":"^7.6.5","@storybook/addon-storysource":"^7.6.5","@storybook/addons":"^7.6.5","@storybook/builder-vite":"^7.6.5","@storybook/react":"^7.6.5","@storybook/react-vite":"^7.6.5","@storybook/theming":"^7.6.5","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.13","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/react":"^16.14.52","@types/react-aria-menubutton":"^6.2.13","@types/react-aria-modal":"^4.0.9","@types/react-autocomplete":"^1.8.9","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.10","@types/react-dom":"^16.9.24","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.7","@vitejs/plugin-react":"^4.2.0",cors:"^2.8.5",cypress:"^13.6.1",eslint:"^8.56.0","eslint-plugin-react":"^7.33.2","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.5",express:"^4.17.3",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.0",mocha:"^9.2.2",postcss:"^8.4.12","react-hot-loader":"^4.13.0",storybook:"^7.6.5",stylelint:"^14.6.1","stylelint-config-recommended-scss":"^6.0.0","stylelint-scss":"^4.2.0",typescript:"^5.3.3",uuid:"^8.3.2",vite:"^5.0.0","vite-plugin-istanbul":"^5.0.0"},yP={name:kOe,version:TOe,description:KOe,type:POe,main:UOe,scripts:DOe,repository:FOe,author:LOe,license:ROe,homepage:zOe,dependencies:jOe,jshintConfig:WOe,stylelint:NOe,devDependencies:GOe};function Mi(){var t="/workspaces/maputnik/src/components/AppToolbar.tsx",n="cd7aa794fc29ce313ac00708e3349f10faf742d8",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:7,column:16},end:{line:7,column:24}},1:{start:{line:8,column:41},end:{line:8,column:89}},2:{start:{line:11,column:4},end:{line:11,column:107}},3:{start:{line:16,column:4},end:{line:26,column:6}},4:{start:{line:31,column:4},end:{line:41,column:6}},5:{start:{line:46,column:4},end:{line:53,column:6}},6:{start:{line:58,column:4},end:{line:66,column:6}},7:{start:{line:70,column:10},end:{line:78,column:3}},8:{start:{line:80,column:4},end:{line:80,column:34}},9:{start:{line:82,column:11},end:{line:89,column:3}},10:{start:{line:83,column:4},end:{line:88,column:5}},11:{start:{line:84,column:6},end:{line:84,column:59}},12:{start:{line:86,column:17},end:{line:86,column:65}},13:{start:{line:87,column:6},end:{line:87,column:17}},14:{start:{line:91,column:18},end:{line:127,column:5}},15:{start:{line:128,column:24},end:{line:130,column:6}},16:{start:{line:129,column:6},end:{line:129,column:45}},17:{start:{line:131,column:4},end:{line:235,column:12}},18:{start:{line:142,column:33},end:{line:142,column:58}},19:{start:{line:151,column:33},end:{line:151,column:60}},20:{start:{line:160,column:33},end:{line:160,column:51}},21:{start:{line:212,column:33},end:{line:212,column:69}},22:{start:{line:215,column:38},end:{line:215,column:59}},23:{start:{line:216,column:20},end:{line:216,column:157}},24:{start:{line:218,column:112},end:{line:218,column:145}},25:{start:{line:219,column:20},end:{line:219,column:133}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:12,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:27,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:11},end:{line:42,column:3}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:54,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:11},end:{line:67,column:3}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:79,column:2},end:{line:79,column:3}},loc:{start:{line:79,column:23},end:{line:81,column:3}},line:79},6:{name:"(anonymous_6)",decl:{start:{line:82,column:11},end:{line:82,column:12}},loc:{start:{line:82,column:23},end:{line:89,column:3}},line:82},7:{name:"(anonymous_7)",decl:{start:{line:90,column:2},end:{line:90,column:3}},loc:{start:{line:90,column:11},end:{line:236,column:3}},line:90},8:{name:"(anonymous_8)",decl:{start:{line:128,column:35},end:{line:128,column:36}},loc:{start:{line:128,column:45},end:{line:130,column:5}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:142,column:25},end:{line:142,column:26}},loc:{start:{line:142,column:33},end:{line:142,column:58}},line:142},10:{name:"(anonymous_10)",decl:{start:{line:151,column:25},end:{line:151,column:26}},loc:{start:{line:151,column:33},end:{line:151,column:60}},line:151},11:{name:"(anonymous_11)",decl:{start:{line:160,column:25},end:{line:160,column:26}},loc:{start:{line:160,column:33},end:{line:160,column:51}},line:160},12:{name:"(anonymous_12)",decl:{start:{line:212,column:26},end:{line:212,column:27}},loc:{start:{line:212,column:33},end:{line:212,column:69}},line:212},13:{name:"(anonymous_13)",decl:{start:{line:215,column:31},end:{line:215,column:32}},loc:{start:{line:215,column:38},end:{line:215,column:59}},line:215},14:{name:"(anonymous_14)",decl:{start:{line:215,column:65},end:{line:215,column:66}},loc:{start:{line:215,column:75},end:{line:217,column:19}},line:215},15:{name:"(anonymous_15)",decl:{start:{line:218,column:105},end:{line:218,column:106}},loc:{start:{line:218,column:112},end:{line:218,column:145}},line:218},16:{name:"(anonymous_16)",decl:{start:{line:218,column:151},end:{line:218,column:152}},loc:{start:{line:218,column:161},end:{line:220,column:19}},line:218}},branchMap:{0:{loc:{start:{line:83,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:83,column:4},end:{line:88,column:5}},{start:{line:85,column:11},end:{line:88,column:5}}],line:83}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAoBW,cA2MG,YA3MH;AApBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB,SAAQ,gBAAgB,iBAAiB,YAAY,UAAU,eAAe,cAAc,4BAA2B;AACvH,OAAO,aAAa;AAIpB,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,sCAAsC,KAAK,MAAM,SAAS;AAAA,QACzG,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEZ,8BAAC,UAAK,WAAU,iCACb,eAAK,MAAM,UACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBACxC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAC1C;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBACjC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAI,qDAAoD;AAAA,kBAC7D,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE;AAAA,6BAAC,iBAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF;AAAA,8BAAC,mBAAgB;AAAA,UACjB,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,QACA,qBAAC,iBAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF;AAAA,8BAAC,kBAAe;AAAA,UAChB,oBAAC,YAAS,oBAAM;AAAA,WAClB;AAAA,QACA,qBAAC,iBAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF;AAAA,8BAAC,YAAS;AAAA,UACV,oBAAC,YAAS,0BAAY;AAAA,WACxB;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAS,4BAAc;AAAA,WAC1B;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,WAAM;AAAA;AAAA,YACL;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAM,uBACb,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,2CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,QACA,qBAAC,0BAAuB,MAAM,kDAC5B;AAAA,8BAAC,wBAAqB;AAAA,UACtB,oBAAC,YAAS,sCAAwB;AAAA,WACpC;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd7aa794fc29ce313ac00708e3349f10faf742d8"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Mi=function(){return s},s}Mi();const QOe=(Mi().s[0]++,SOe()),Mx=(Mi().s[1]++,["chrome","firefox"].indexOf(QOe.name)>-1);class ig extends gn.Component{render(){return Mi().f[0]++,Mi().s[2]++,N.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class $Oe extends gn.Component{render(){return Mi().f[1]++,Mi().s[3]++,N.jsx("a",{className:rh("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class YOe extends gn.Component{render(){return Mi().f[2]++,Mi().s[4]++,N.jsx("a",{className:rh("maputnik-toolbar-link","maputnik-toolbar-link--highlighted",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link-highlighted",children:N.jsx("span",{className:"maputnik-toolbar-link-wrapper",children:this.props.children})})}}class qOe extends gn.Component{render(){return Mi().f[3]++,Mi().s[5]++,N.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class Sx extends gn.Component{render(){return Mi().f[4]++,Mi().s[6]++,N.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class VOe extends gn.Component{constructor(){super(...arguments);rn(this,"state",(Mi().s[7]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));rn(this,"onSkip",(Mi().s[9]++,e=>{if(Mi().f[6]++,Mi().s[10]++,e==="map")Mi().b[0][0]++,Mi().s[11]++,document.querySelector(".maplibregl-canvas").focus();else{Mi().b[0][1]++;const r=(Mi().s[12]++,document.querySelector("#skip-target-"+e));Mi().s[13]++,r.focus()}}))}handleSelection(e){Mi().f[5]++,Mi().s[8]++,this.props.onSetMapState(e)}render(){Mi().f[7]++;const e=(Mi().s[14]++,[{id:"map",group:"general",title:"Map"},{id:"inspect",group:"general",title:"Inspect",disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:"Deuteranopia filter",disabled:!Mx},{id:"filter-protanopia",group:"color-accessibility",title:"Protanopia filter",disabled:!Mx},{id:"filter-tritanopia",group:"color-accessibility",title:"Tritanopia filter",disabled:!Mx},{id:"filter-achromatopsia",group:"color-accessibility",title:"Achromatopsia filter",disabled:!Mx}]),r=(Mi().s[15]++,e.find(i=>(Mi().f[8]++,Mi().s[16]++,i.id===this.props.mapState)));return Mi().s[17]++,N.jsx("nav",{className:"maputnik-toolbar",children:N.jsxs("div",{className:"maputnik-toolbar__inner",children:[N.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[N.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:i=>(Mi().f[9]++,Mi().s[18]++,this.onSkip("layer-list")),children:"Layers list"}),N.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:i=>(Mi().f[10]++,Mi().s[19]++,this.onSkip("layer-editor")),children:"Layer editor"}),N.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:i=>(Mi().f[11]++,Mi().s[20]++,this.onSkip("map")),children:"Map view"}),N.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maputnik/editor",children:[N.jsx("img",{src:"node_modules/maputnik-design/logos/logo-color.svg"}),N.jsxs("h1",{children:[N.jsx("span",{className:"maputnik-toolbar-name",children:yP.name}),N.jsxs("span",{className:"maputnik-toolbar-version",children:["v",yP.version]})]})]})]}),N.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[N.jsxs(Sx,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[N.jsx(Rte,{}),N.jsx(ig,{children:"Open"})]}),N.jsxs(Sx,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[N.jsx(c6,{}),N.jsx(ig,{children:"Export"})]}),N.jsxs(Sx,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[N.jsx(qte,{}),N.jsx(ig,{children:"Data Sources"})]}),N.jsxs(Sx,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[N.jsx(zte,{}),N.jsx(ig,{children:"Style Settings"})]}),N.jsxs(qOe,{wdKey:"nav:inspect",children:[N.jsx(Ute,{}),N.jsxs("label",{children:["View",N.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:i=>(Mi().f[12]++,Mi().s[21]++,this.handleSelection(i.target.value)),value:r==null?void 0:r.id,children:[e.filter(i=>(Mi().f[13]++,Mi().s[22]++,i.group==="general")).map(i=>(Mi().f[14]++,Mi().s[23]++,N.jsx("option",{value:i.id,disabled:i.disabled,"data-wd-key":i.id,children:i.title},i.id))),N.jsx("optgroup",{label:"Color accessibility",children:e.filter(i=>(Mi().f[15]++,Mi().s[24]++,i.group==="color-accessibility")).map(i=>(Mi().f[16]++,Mi().s[25]++,N.jsx("option",{value:i.id,disabled:i.disabled,children:i.title},i.id)))})]})]})]}),N.jsxs($Oe,{href:"https://github.com/maputnik/editor/wiki",children:[N.jsx(Dte,{}),N.jsx(ig,{children:"Help"})]}),N.jsxs(YOe,{href:"https://gregorywolanski.typeform.com/to/cPgaSY",children:[N.jsx(Pte,{}),N.jsx(ig,{children:"Take the Maputnik Survey"})]})]})]})})}}function N3(){var t="/workspaces/maputnik/src/components/ScrollContainer.tsx",n="8b110ab72efdc416ac8e872773357e29c0387b09",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b110ab72efdc416ac8e872773357e29c0387b09"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return N3=function(){return s},s}N3();class HOe extends gn.Component{render(){return N3().f[0]++,N3().s[0]++,N.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function qf(){var t="/workspaces/maputnik/src/components/AppLayout.tsx",n="f9272acddc16f98a4056a19392d8aa98e629c1df",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:8,column:3}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:22,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:13,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:23,column:3}},line:14}},branchMap:{0:{loc:{start:{line:20,column:6},end:{line:20,column:123}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:23}},{start:{line:20,column:43},end:{line:20,column:123}}],line:20}},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAyBW,SAEL,KAFK;AAzBX,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAW5B,MAAM,kBAAkB,MAAM,UAA0B;AAAA,EACtD,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,oBAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,MACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,MACC,KAAK,MAAM;AAAA,MACX,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f9272acddc16f98a4056a19392d8aa98e629c1df"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return qf=function(){return s},s}qf();class YN extends gn.Component{getChildContext(){return qf().f[0]++,qf().s[1]++,{reactIconBase:{size:14}}}render(){return qf().f[1]++,qf().s[2]++,N.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,N.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),N.jsx("div",{className:"maputnik-layout-drawer",children:N.jsx(HOe,{children:this.props.layerEditor})}),this.props.map,(qf().b[0][0]++,this.props.bottom&&(qf().b[0][1]++,N.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}rn(YN,"childContextTypes",(qf().s[0]++,{reactIconBase:Kr.object}));function Ga(){var t="/workspaces/maputnik/src/components/AppMessagePanel.tsx",n="1b8f093c68a679d0a78804c326a48abe848543db",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:8,column:3}},1:{start:{line:10,column:35},end:{line:10,column:45}},2:{start:{line:11,column:19},end:{line:37,column:6}},3:{start:{line:13,column:6},end:{line:35,column:7}},4:{start:{line:14,column:27},end:{line:14,column:32}},5:{start:{line:15,column:24},end:{line:15,column:73}},6:{start:{line:16,column:8},end:{line:32,column:13}},7:{start:{line:27,column:31},end:{line:27,column:74}},8:{start:{line:34,column:8},end:{line:34,column:32}},9:{start:{line:36,column:6},end:{line:36,column:120}},10:{start:{line:38,column:18},end:{line:40,column:6}},11:{start:{line:39,column:6},end:{line:39,column:68}},12:{start:{line:41,column:4},end:{line:44,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:19},end:{line:6,column:20}},loc:{start:{line:6,column:25},end:{line:7,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:45,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:58},end:{line:37,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:31},end:{line:27,column:74}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:38,column:40},end:{line:38,column:41}},loc:{start:{line:38,column:50},end:{line:40,column:5}},line:38}},branchMap:{0:{loc:{start:{line:13,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:13,column:6},end:{line:35,column:7}},{start:{line:33,column:13},end:{line:35,column:7}}],line:13},1:{loc:{start:{line:13,column:10},end:{line:13,column:55}},type:"binary-expr",locations:[{start:{line:13,column:10},end:{line:13,column:22}},{start:{line:13,column:26},end:{line:13,column:55}}],line:13},2:{loc:{start:{line:21,column:10},end:{line:31,column:14}},type:"binary-expr",locations:[{start:{line:21,column:10},end:{line:21,column:50}},{start:{line:21,column:70},end:{line:31,column:14}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA2BkB,SAEJ,UAFI,KAEJ,YAFI;AA3BlB,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAY5B,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCAAE;AAAA;AAAA,UACM,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,UAAO;AAAA,UAAG,OAAO,KAAK;AAAA,UACzD,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAC3D;AAAA;AAAA,YAED;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b8f093c68a679d0a78804c326a48abe848543db"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ga=function(){return s},s}Ga();class qN extends gn.Component{render(){var i,o;Ga().f[1]++;const{selectedLayerIndex:n}=(Ga().s[1]++,this.props),e=(Ga().s[2]++,(i=this.props.errors)==null?void 0:i.map((s,a)=>{var g;Ga().f[2]++;let f;if(Ga().s[3]++,Ga().b[1][0]++,s.parsed&&(Ga().b[1][1]++,s.parsed.type==="layer")){Ga().b[0][0]++;const{parsed:x}=(Ga().s[4]++,s),I=(Ga().s[5]++,(g=this.props.mapStyle)==null?void 0:g.layers[x.data.index].id);Ga().s[6]++,f=N.jsxs(N.Fragment,{children:["Layer ",N.jsx("span",{children:QN(I)}),": ",x.data.message,(Ga().b[2][0]++,n!==x.data.index&&(Ga().b[2][1]++,N.jsxs(N.Fragment,{children:["",N.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(Ga().f[3]++,Ga().s[7]++,this.props.onLayerSelect(x.data.index)),children:"switch to layer"})]})))]})}else Ga().b[0][1]++,Ga().s[8]++,f=s.message;return Ga().s[9]++,N.jsx("p",{className:"maputnik-message-panel-error",children:f},"error-"+a)})),r=(Ga().s[10]++,(o=this.props.infos)==null?void 0:o.map((s,a)=>(Ga().f[4]++,Ga().s[11]++,N.jsx("p",{children:s},"info-"+a))));return Ga().s[12]++,N.jsxs("div",{className:"maputnik-message-panel",children:[e,r]})}}rn(qN,"defaultProps",(Ga().s[0]++,{onLayerSelect:()=>{Ga().f[0]++}}));function G3(){var t="/workspaces/maputnik/src/components/FieldArray.tsx",n="43f7d72b4f10d7d1147dc256d3df70827c43d8cc",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"43f7d72b4f10d7d1147dc256d3df70827c43d8cc"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return G3=function(){return s},s}G3();class Q3 extends gn.Component{render(){return G3().f[0]++,G3().s[0]++,N.jsx(i_,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(DN,{...this.props})})}}function $3(){var t="/workspaces/maputnik/src/components/FieldNumber.tsx",n="b71b47a0bba1a4e205582492c786d1988daae0eb",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b71b47a0bba1a4e205582492c786d1988daae0eb"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return $3=function(){return s},s}$3();class im extends gn.Component{render(){return $3().f[0]++,$3().s[0]++,N.jsx(To,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(ef,{...this.props})})}}function Y3(){var t="/workspaces/maputnik/src/components/FieldUrl.tsx",n="8dfd934314dfa680c0efe5e14cc41c8d9e8652f7",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8dfd934314dfa680c0efe5e14cc41c8d9e8652f7"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Y3=function(){return s},s}Y3();class o_ extends gn.Component{render(){return Y3().f[0]++,Y3().s[0]++,N.jsx(To,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(b8,{...this.props})})}}function q3(){var t="/workspaces/maputnik/src/components/FieldSelect.tsx",n="f8c1fba61eafe6d3978adde555ba68e7b933d522",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f8c1fba61eafe6d3978adde555ba68e7b933d522"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return q3=function(){return s},s}q3();class w8 extends gn.Component{render(){return q3().f[0]++,q3().s[0]++,N.jsx(To,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(f1,{...this.props})})}}function V3(){var t="/workspaces/maputnik/src/components/FieldEnum.tsx",n="dec4d4143dfd45a78d18a7a960a78f9b39bd9caa",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dec4d4143dfd45a78d18a7a960a78f9b39bd9caa"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return V3=function(){return s},s}V3();class ZOe extends gn.Component{render(){return V3().f[0]++,V3().s[0]++,N.jsx(i_,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(_8,{...this.props})})}}function H3(){var t="/workspaces/maputnik/src/components/FieldColor.tsx",n="cd407f6a711eb17a6b9766cab2d677f04710b0a8",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd407f6a711eb17a6b9766cab2d677f04710b0a8"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return H3=function(){return s},s}H3();class XOe extends gn.Component{render(){return H3().f[0]++,H3().s[0]++,N.jsx(To,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(UN,{...this.props})})}}function M8(){var t="/workspaces/maputnik/src/libs/field-spec-additional.ts",n="976a5cb1d00c5205f849b989c3a5ef515b3dfe94",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:16,column:1}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAAA,MAAM,OAAO;AAAA,EACX,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"976a5cb1d00c5205f849b989c3a5ef515b3dfe94"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return M8=function(){return s},s}M8();const Dh=(M8().s[0]++,{maputnik:{maptiler_access_token:{label:"MapTiler Access Token",doc:"Public access token for MapTiler Cloud."},thunderforest_access_token:{label:"Thunderforest Access Token",doc:"Public access token for Thunderforest services."},style_renderer:{label:"Style Renderer",doc:"Choose the default Maputnik renderer for this style."}}});function xi(){var t="/workspaces/maputnik/src/components/ModalSettings.tsx",n="72cb9903e38e861ed2ee2cecc0f9b3c60426cefb",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:15,column:23},end:{line:17,column:5}},1:{start:{line:18,column:4},end:{line:22,column:5}},2:{start:{line:19,column:6},end:{line:19,column:34}},3:{start:{line:21,column:6},end:{line:21,column:35}},4:{start:{line:23,column:4},end:{line:26,column:7}},5:{start:{line:29,column:18},end:{line:31,column:5}},6:{start:{line:32,column:4},end:{line:36,column:5}},7:{start:{line:33,column:6},end:{line:33,column:29}},8:{start:{line:35,column:6},end:{line:35,column:30}},9:{start:{line:37,column:4},end:{line:40,column:7}},10:{start:{line:43,column:25},end:{line:45,column:5}},11:{start:{line:46,column:4},end:{line:50,column:5}},12:{start:{line:47,column:6},end:{line:47,column:36}},13:{start:{line:49,column:6},end:{line:49,column:37}},14:{start:{line:51,column:4},end:{line:51,column:44}},15:{start:{line:54,column:21},end:{line:54,column:55}},16:{start:{line:55,column:51},end:{line:55,column:61}},17:{start:{line:56,column:23},end:{line:56,column:25}},18:{start:{line:57,column:18},end:{line:57,column:49}},19:{start:{line:58,column:23},end:{line:58,column:59}},20:{start:{line:59,column:4},end:{line:265,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:44},end:{line:27,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:39},end:{line:41,column:3}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:39},end:{line:52,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:266,column:3}},line:53}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:20,column:11},end:{line:22,column:5}}],line:18},1:{loc:{start:{line:32,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},2:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:48,column:11},end:{line:50,column:5}}],line:46},3:{loc:{start:{line:54,column:21},end:{line:54,column:55}},type:"binary-expr",locations:[{start:{line:54,column:21},end:{line:54,column:49}},{start:{line:54,column:53},end:{line:54,column:55}}],line:54},4:{loc:{start:{line:57,column:18},end:{line:57,column:49}},type:"binary-expr",locations:[{start:{line:57,column:18},end:{line:57,column:43}},{start:{line:57,column:47},end:{line:57,column:49}}],line:57},5:{loc:{start:{line:58,column:23},end:{line:58,column:59}},type:"binary-expr",locations:[{start:{line:58,column:23},end:{line:58,column:53}},{start:{line:58,column:57},end:{line:58,column:59}}],line:58},6:{loc:{start:{line:140,column:21},end:{line:140,column:42}},type:"binary-expr",locations:[{start:{line:140,column:21},end:{line:140,column:36}},{start:{line:140,column:40},end:{line:140,column:42}}],line:140},7:{loc:{start:{line:141,column:23},end:{line:141,column:60}},type:"binary-expr",locations:[{start:{line:141,column:23},end:{line:141,column:50}},{start:{line:141,column:54},end:{line:141,column:60}}],line:141},8:{loc:{start:{line:152,column:23},end:{line:152,column:53}},type:"binary-expr",locations:[{start:{line:152,column:23},end:{line:152,column:48}},{start:{line:152,column:52},end:{line:152,column:53}}],line:152},9:{loc:{start:{line:259,column:21},end:{line:259,column:62}},type:"binary-expr",locations:[{start:{line:259,column:21},end:{line:259,column:50}},{start:{line:259,column:54},end:{line:259,column:62}}],line:259}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AA0FM,SACE,KADF;AA1FN,OAAO,WAAW;AAClB,SAAQ,cAAa;AAGrB,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,0BAA0B,SAAQ,IAAI,KAAK;AAClD,UAAM,aAAa,CAAE;AAErB,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AAEtD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cAAa,GAAG;AAAA,cACf,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cAAa,GAAG;AAAA,cACf,OAAO;AAAA,cACP,WAAW,EAAC,KAAK,8DAA6D;AAAA,cAC9E,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cAAU,GAAG;AAAA,cACZ,WAAW,OAAO,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cAAU,GAAG;AAAA,cACZ,OAAM;AAAA,cACN,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cAAa,GAAG;AAAA,cACf,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,cAC1D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cAAa,GAAG;AAAA,cACf,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,cAC/D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,OAAO,MAAM,OAAO,WAAW,CAAC,GAAG,CAAC;AAAA,cAC7C,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,KAAK,WAAW;AAAA,cACtC,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACE,GAAG;AAAA,cACJ,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cAAa,GAAG;AAAA,cACf,OAAO,oBAAoB,SAAS,eAAe;AAAA,cACnD,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,4BAA4B;AAAA,cACrC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"72cb9903e38e861ed2ee2cecc0f9b3c60426cefb"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return xi=function(){return s},s}xi();class JOe extends gn.Component{changeTransitionProperty(n,e){xi().f[0]++;const r=(xi().s[0]++,{...this.props.mapStyle.transition});xi().s[1]++,e===void 0?(xi().b[0][0]++,xi().s[2]++,delete r[n]):(xi().b[0][1]++,xi().s[3]++,r[n]=e),xi().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(n,e){xi().f[1]++;const r=(xi().s[5]++,{...this.props.mapStyle.light});xi().s[6]++,e===void 0?(xi().b[1][0]++,xi().s[7]++,delete r[n]):(xi().b[1][1]++,xi().s[8]++,r[n]=e),xi().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeStyleProperty(n,e){xi().f[2]++;const r=(xi().s[10]++,{...this.props.mapStyle});xi().s[11]++,e===void 0?(xi().b[2][0]++,xi().s[12]++,delete r[n]):(xi().b[2][1]++,xi().s[13]++,r[n]=e),xi().s[14]++,this.props.onStyleChanged(r)}render(){xi().f[3]++;const n=(xi().s[15]++,xi().b[3][0]++,this.props.mapStyle.metadata||(xi().b[3][1]++,{})),{onChangeMetadataProperty:e,mapStyle:r}=(xi().s[16]++,this.props),i=(xi().s[17]++,{}),o=(xi().s[18]++,xi().b[4][0]++,this.props.mapStyle.light||(xi().b[4][1]++,{})),s=(xi().s[19]++,xi().b[5][0]++,this.props.mapStyle.transition||(xi().b[5][1]++,{}));return xi().s[20]++,N.jsx(af,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Style Settings",children:N.jsxs("div",{className:"modal:settings",children:[N.jsx(Nh,{...i,label:"Name",fieldSpec:vr.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),N.jsx(Nh,{...i,label:"Owner",fieldSpec:{doc:"Owner ID of the style. Used by Mapbox or future style APIs."},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),N.jsx(o_,{...i,fieldSpec:vr.$root.sprite,label:"Sprite URL","data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),N.jsx(o_,{...i,label:"Glyphs URL",fieldSpec:vr.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),N.jsx(Nh,{...i,label:Dh.maputnik.maptiler_access_token.label,fieldSpec:Dh.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:n["maputnik:openmaptiles_access_token"],onChange:e.bind(this,"maputnik:openmaptiles_access_token")}),N.jsx(Nh,{...i,label:Dh.maputnik.thunderforest_access_token.label,fieldSpec:Dh.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:n["maputnik:thunderforest_access_token"],onChange:e.bind(this,"maputnik:thunderforest_access_token")}),N.jsx(Q3,{label:"Center",fieldSpec:vr.$root.center,length:2,type:"number",value:(xi().b[6][0]++,r.center||(xi().b[6][1]++,[])),default:(xi().b[7][0]++,vr.$root.center.default||(xi().b[7][1]++,[0,0])),onChange:this.changeStyleProperty.bind(this,"center")}),N.jsx(im,{...i,label:"Zoom",fieldSpec:vr.$root.zoom,value:r.zoom,default:(xi().b[8][0]++,vr.$root.zoom.default||(xi().b[8][1]++,0)),onChange:this.changeStyleProperty.bind(this,"zoom")}),N.jsx(im,{...i,label:"Bearing",fieldSpec:vr.$root.bearing,value:r.bearing,default:vr.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),N.jsx(im,{...i,label:"Pitch",fieldSpec:vr.$root.pitch,value:r.pitch,default:vr.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),N.jsx(ZOe,{...i,label:"Light anchor",fieldSpec:vr.light.anchor,name:"light-anchor",value:o.anchor,options:Object.keys(vr.light.anchor.values),default:vr.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),N.jsx(XOe,{...i,label:"Light color",fieldSpec:vr.light.color,value:o.color,default:vr.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),N.jsx(im,{...i,label:"Light intensity",fieldSpec:vr.light.intensity,value:o.intensity,default:vr.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),N.jsx(Q3,{...i,label:"Light position",fieldSpec:vr.light.position,type:"number",length:vr.light.position.length,value:o.position,default:vr.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),N.jsx(im,{...i,label:"Transition delay",fieldSpec:vr.transition.delay,value:s.delay,default:vr.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),N.jsx(im,{...i,label:"Transition duration",fieldSpec:vr.transition.duration,value:s.duration,default:vr.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),N.jsx(w8,{...i,label:Dh.maputnik.style_renderer.label,fieldSpec:Dh.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol","Open Layers (experimental)"]],value:(xi().b[9][0]++,n["maputnik:renderer"]||(xi().b[9][1]++,"mlgljs")),onChange:e.bind(this,"maputnik:renderer")})]})})}}var VN={exports:{}};(function(t,n){(function(e,r,i){t.exports=i(),t.exports.default=i()})("slugify",tf,function(){var e=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),r=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function i(o,s){if(typeof o!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var a=r[s.locale]||{},f=s.replacement===void 0?"-":s.replacement,g=s.trim===void 0?!0:s.trim,x=o.normalize().split("").reduce(function(I,B){var D=a[B];return D===void 0&&(D=e[B]),D===void 0&&(D=B),D===f&&(D=" "),I+D.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(x=x.replace(/[^A-Za-z0-9\s]/g,"")),g&&(x=x.trim()),x=x.replace(/\s+/g,f),s.lower&&(x=x.toLowerCase()),x}return i.extend=function(o){Object.assign(e,o)},i})})(VN);var eBe=VN.exports;const tBe=Qo(eBe);var HN={exports:{}};(function(t,n){(function(e,r){r()})(tf,function(){function e(g,x){return typeof x>"u"?x={autoBom:!1}:typeof x!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),x={autoBom:!x}),x.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function r(g,x,I){var B=new XMLHttpRequest;B.open("GET",g),B.responseType="blob",B.onload=function(){f(B.response,x,I)},B.onerror=function(){console.error("could not download file")},B.send()}function i(g){var x=new XMLHttpRequest;x.open("HEAD",g,!1);try{x.send()}catch{}return 200<=x.status&&299>=x.status}function o(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var x=document.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(x)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(g,x,I){var B=s.URL||s.webkitURL,D=document.createElement("a");x=x||g.name||"download",D.download=x,D.rel="noopener",typeof g=="string"?(D.href=g,D.origin===location.origin?o(D):i(D.href)?r(g,x,I):o(D,D.target="_blank")):(D.href=B.createObjectURL(g),setTimeout(function(){B.revokeObjectURL(D.href)},4e4),setTimeout(function(){o(D)},0))}:"msSaveOrOpenBlob"in navigator?function(g,x,I){if(x=x||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(e(g,I),x);else if(i(g))r(g,x,I);else{var B=document.createElement("a");B.href=g,B.target="_blank",setTimeout(function(){o(B)})}}:function(g,x,I,B){if(B=B||open("","_blank"),B&&(B.document.title=B.document.body.innerText="downloading..."),typeof g=="string")return r(g,x,I);var D=g.type==="application/octet-stream",L=/constructor/i.test(s.HTMLElement)||s.safari,V=/CriOS\/[\d]+/.test(navigator.userAgent);if((V||D&&L||a)&&typeof FileReader<"u"){var W=new FileReader;W.onloadend=function(){var ee=W.result;ee=V?ee:ee.replace(/^data:[^;]*;/,"data:attachment/file;"),B?B.location.href=ee:location=ee,B=null},W.readAsDataURL(g)}else{var j=s.URL||s.webkitURL,G=j.createObjectURL(g);B?B.location=G:location.href=G,B=null,setTimeout(function(){j.revokeObjectURL(G)},4e4)}});s.saveAs=f.saveAs=f,t.exports=f})})(HN);var vP=HN.exports;const nBe="2.4.0",rBe="KDhMfHvorAFkFe64wlZb",iBe="b71f7f0ba4064f5eb9e903859a9cf5c6",ZN={openmaptiles:rBe,thunderforest:iBe};function Bn(){var t="/workspaces/maputnik/src/libs/style.ts",n="6ffd4a840b8d123b24d1f3f148e3f90af1ab1c89",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:2},end:{line:49,column:3}},19:{start:{line:48,column:4},end:{line:48,column:33}},20:{start:{line:50,column:19},end:{line:50,column:42}},21:{start:{line:51,column:20},end:{line:51,column:67}},22:{start:{line:52,column:2},end:{line:54,column:3}},23:{start:{line:53,column:4},end:{line:53,column:37}},24:{start:{line:55,column:2},end:{line:55,column:21}},25:{start:{line:58,column:17},end:{line:58,column:45}},26:{start:{line:59,column:2},end:{line:60,column:20}},27:{start:{line:60,column:4},end:{line:60,column:20}},28:{start:{line:61,column:2},end:{line:62,column:20}},29:{start:{line:62,column:4},end:{line:62,column:20}},30:{start:{line:63,column:22},end:{line:63,column:64}},31:{start:{line:64,column:2},end:{line:66,column:3}},32:{start:{line:65,column:4},end:{line:65,column:20}},33:{start:{line:67,column:25},end:{line:73,column:3}},34:{start:{line:74,column:23},end:{line:77,column:3}},35:{start:{line:78,column:2},end:{line:78,column:22}},36:{start:{line:81,column:21},end:{line:81,column:29}},37:{start:{line:82,column:2},end:{line:84,column:5}},38:{start:{line:83,column:4},end:{line:83,column:76}},39:{start:{line:85,column:2},end:{line:93,column:3}},40:{start:{line:86,column:27},end:{line:86,column:73}},41:{start:{line:87,column:4},end:{line:92,column:5}},42:{start:{line:88,column:6},end:{line:91,column:8}},43:{start:{line:94,column:2},end:{line:94,column:22}},44:{start:{line:97,column:26},end:{line:99,column:3}},45:{start:{line:100,column:2},end:{line:100,column:63}},46:{start:{line:101,column:2},end:{line:104,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:56,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:57,column:9},end:{line:57,column:33}},loc:{start:{line:57,column:67},end:{line:79,column:1}},line:57},9:{name:"replaceAccessTokens",decl:{start:{line:80,column:9},end:{line:80,column:28}},loc:{start:{line:80,column:50},end:{line:95,column:1}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:82,column:40},end:{line:82,column:41}},loc:{start:{line:82,column:56},end:{line:84,column:3}},line:82},11:{name:"stripAccessTokens",decl:{start:{line:96,column:9},end:{line:96,column:26}},loc:{start:{line:96,column:37},end:{line:105,column:1}},line:96}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:47,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:47,column:6},end:{line:47,column:89}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:46}},{start:{line:47,column:50},end:{line:47,column:89}}],line:47},5:{loc:{start:{line:50,column:19},end:{line:50,column:42}},type:"binary-expr",locations:[{start:{line:50,column:19},end:{line:50,column:36}},{start:{line:50,column:40},end:{line:50,column:42}}],line:50},6:{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:52,column:6},end:{line:52,column:40}},type:"binary-expr",locations:[{start:{line:52,column:6},end:{line:52,column:24}},{start:{line:52,column:28},end:{line:52,column:40}}],line:52},8:{loc:{start:{line:57,column:56},end:{line:57,column:65}},type:"default-arg",locations:[{start:{line:57,column:63},end:{line:57,column:65}}],line:57},9:{loc:{start:{line:59,column:2},end:{line:60,column:20}},type:"if",locations:[{start:{line:59,column:2},end:{line:60,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:61,column:2},end:{line:62,column:20}},type:"if",locations:[{start:{line:61,column:2},end:{line:62,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},11:{loc:{start:{line:61,column:6},end:{line:61,column:39}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:24}},{start:{line:61,column:28},end:{line:61,column:39}}],line:61},12:{loc:{start:{line:64,column:2},end:{line:66,column:3}},type:"if",locations:[{start:{line:64,column:2},end:{line:66,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},13:{loc:{start:{line:80,column:39},end:{line:80,column:48}},type:"default-arg",locations:[{start:{line:80,column:46},end:{line:80,column:48}}],line:80},14:{loc:{start:{line:85,column:2},end:{line:93,column:3}},type:"if",locations:[{start:{line:85,column:2},end:{line:93,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},15:{loc:{start:{line:85,column:6},end:{line:85,column:114}},type:"binary-expr",locations:[{start:{line:85,column:6},end:{line:85,column:21}},{start:{line:85,column:26},end:{line:85,column:69}},{start:{line:85,column:73},end:{line:85,column:113}}],line:85},16:{loc:{start:{line:87,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:92,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0,0],16:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,iBAAa;AAAA,EACf;AAEA,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC;AAAQ,WAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO;AAAK,WAAO;AAE7C,QAAM,cAAc,eAAe,YAAY,UAAU,IAAI;AAE7D,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IAC9C;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ffd4a840b8d123b24d1f3f148e3f90af1ab1c89"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Bn=function(){return s},s}Bn();const oBe=(Bn().s[0]++,JN({version:8,sources:{},layers:[]}));function XN(){return Bn().f[0]++,Bn().s[1]++,Math.random().toString(36).substring(2,9)}function aBe(t){return Bn().f[1]++,Bn().s[2]++,Bn().b[1][0]++,!("id"in t)||(Bn().b[1][1]++,!t.id)?(Bn().b[0][0]++,Bn().s[3]++,t.id=XN(),Bn().s[4]++,t):(Bn().b[0][1]++,Bn().s[5]++,t)}function sBe(t){Bn().f[2]++;const n=(Bn().s[6]++,t.layers.map(e=>{Bn().f[3]++;const r=(Bn().s[7]++,{...e});return Bn().s[8]++,delete r.interactive,Bn().s[9]++,r}));return Bn().s[10]++,{...t,layers:n}}function lBe(t){return Bn().f[4]++,Bn().s[11]++,{...t,layers:Dee(t.layers)}}function JN(t){return Bn().f[5]++,Bn().s[12]++,sBe(lBe(aBe(t)))}function uBe(t,n){Bn().f[6]++,Bn().s[13]++;for(let e=(Bn().s[14]++,0);e<t.length;e++){if(Bn().s[15]++,t[e].id===n)return Bn().b[2][0]++,Bn().s[16]++,e;Bn().b[2][1]++}return Bn().s[17]++,null}function S8(t,n,e){Bn().f[7]++,Bn().s[18]++,Bn().b[4][0]++,t==="thunderforest_transport"||(Bn().b[4][1]++,t==="thunderforest_outdoors")?(Bn().b[3][0]++,Bn().s[19]++,t="thunderforest"):Bn().b[3][1]++;const r=(Bn().s[20]++,Bn().b[5][0]++,n.metadata||(Bn().b[5][1]++,{}));let i=(Bn().s[21]++,r[`maputnik:${t}_access_token`]);return Bn().s[22]++,Bn().b[7][0]++,e.allowFallback&&(Bn().b[7][1]++,!i)?(Bn().b[6][0]++,Bn().s[23]++,i=ZN[t]):Bn().b[6][1]++,Bn().s[24]++,i}function ABe(t,n,e=(Bn().b[8][0]++,{})){Bn().f[8]++;const r=(Bn().s[25]++,t.sources[n]);if(Bn().s[26]++,r)Bn().b[9][1]++;else return Bn().b[9][0]++,Bn().s[27]++,t;if(Bn().s[28]++,Bn().b[11][0]++,!("url"in r)||(Bn().b[11][1]++,!r.url))return Bn().b[10][0]++,Bn().s[29]++,t;Bn().b[10][1]++;const i=(Bn().s[30]++,S8(n,t,e));if(Bn().s[31]++,i)Bn().b[12][1]++;else return Bn().b[12][0]++,Bn().s[32]++,t;const o=(Bn().s[33]++,{...t.sources,[n]:{...r,url:r.url.replace("{key}",i)}}),s=(Bn().s[34]++,{...t,sources:o});return Bn().s[35]++,s}function cBe(t,n=(Bn().b[13][0]++,{})){Bn().f[9]++;let e=(Bn().s[36]++,t);if(Bn().s[37]++,Object.keys(t.sources).forEach(r=>{Bn().f[10]++,Bn().s[38]++,e=ABe(e,r,n)}),Bn().s[39]++,Bn().b[15][0]++,t.glyphs&&(Bn().b[15][1]++,t.glyphs.match(/\.tilehosting\.com/)||(Bn().b[15][2]++,t.glyphs.match(/\.maptiler\.com/)))){Bn().b[14][0]++;const r=(Bn().s[40]++,S8("openmaptiles",t,n));Bn().s[41]++,r?(Bn().b[16][0]++,Bn().s[42]++,e={...e,glyphs:t.glyphs.replace("{key}",r)}):Bn().b[16][1]++}else Bn().b[14][1]++;return Bn().s[43]++,e}function dBe(t){Bn().f[11]++;const n=(Bn().s[44]++,{...t.metadata});return Bn().s[45]++,delete n["maputnik:openmaptiles_access_token"],Bn().s[46]++,{...t,metadata:n}}const Cu={ensureStyleValidity:JN,emptyStyle:oBe,indexOfLayer:uBe,generateId:XN,getAccessToken:S8,replaceAccessTokens:cBe,stripAccessTokens:dBe};function Io(){var t="/workspaces/maputnik/src/components/ModalExport.tsx",n="51019aacdec57211db38f2539e683517902afca4",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:13,column:28},end:{line:13,column:35}},1:{start:{line:16,column:4},end:{line:20,column:6}},2:{start:{line:23,column:4},end:{line:31,column:5}},3:{start:{line:24,column:6},end:{line:28,column:9}},4:{start:{line:30,column:6},end:{line:30,column:36}},5:{start:{line:34,column:23},end:{line:34,column:44}},6:{start:{line:35,column:22},end:{line:35,column:55}},7:{start:{line:36,column:17},end:{line:60,column:1}},8:{start:{line:61,column:17},end:{line:61,column:70}},9:{start:{line:62,column:23},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:39}},11:{start:{line:66,column:23},end:{line:66,column:44}},12:{start:{line:67,column:17},end:{line:67,column:83}},13:{start:{line:68,column:23},end:{line:68,column:40}},14:{start:{line:69,column:4},end:{line:69,column:39}},15:{start:{line:72,column:25},end:{line:78,column:5}},16:{start:{line:79,column:4},end:{line:79,column:44}},17:{start:{line:82,column:4},end:{line:137,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:19},end:{line:21,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:15},end:{line:32,column:3}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:17},end:{line:64,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:18},end:{line:70,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:42},end:{line:80,column:3}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:11},end:{line:138,column:3}},line:81}},branchMap:{0:{loc:{start:{line:23,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:31,column:5}},{start:{line:29,column:11},end:{line:31,column:5}}],line:23},1:{loc:{start:{line:35,column:22},end:{line:35,column:55}},type:"binary-expr",locations:[{start:{line:35,column:22},end:{line:35,column:46}},{start:{line:35,column:50},end:{line:35,column:55}}],line:35},2:{loc:{start:{line:99,column:24},end:{line:99,column:58}},type:"binary-expr",locations:[{start:{line:99,column:24},end:{line:99,column:52}},{start:{line:99,column:56},end:{line:99,column:58}}],line:99},3:{loc:{start:{line:108,column:24},end:{line:108,column:58}},type:"binary-expr",locations:[{start:{line:108,column:24},end:{line:108,column:52}},{start:{line:108,column:56},end:{line:108,column:58}}],line:108}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AA+GQ,cAKA,YALA;AA/GR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,sBAAqB;AAE7B,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAGhC,MAAM,sBAAsB;AAW5B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EAEzE,iBAAkB;AAChB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAc;AACZ,QAAG,KAAK,MAAM,SAAS,MAAM;AAC3B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,eAAe;AACb,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ;AAC9C,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,gBAAgB;AACd,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAG,4BAAc;AAAA,UAClB,oBAAC,OAAE,qDAEH;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,gBAC1D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,gBAC/D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,cAAc,KAAK,IAAI;AAAA,gBAErC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,aAAa,KAAK,IAAI;AAAA,gBAEpC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"51019aacdec57211db38f2539e683517902afca4"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Io=function(){return s},s}Io();const CP=(Io().s[0]++,nBe);class hBe extends gn.Component{tokenizedStyle(){return Io().f[0]++,Io().s[1]++,xF(Cu.stripAccessTokens(Cu.replaceAccessTokens(this.props.mapStyle)))}exportName(){return Io().f[1]++,Io().s[2]++,this.props.mapStyle.name?(Io().b[0][0]++,Io().s[3]++,tBe(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(Io().b[0][1]++,Io().s[4]++,this.props.mapStyle.id)}downloadHtml(){Io().f[2]++;const n=(Io().s[5]++,this.tokenizedStyle()),e=(Io().s[6]++,Io().b[1][0]++,this.props.mapStyle.name||(Io().b[1][1]++,"Map")),r=(Io().s[7]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${e}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${CP}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${CP}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${n},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(Io().s[8]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(Io().s[9]++,this.exportName());Io().s[10]++,vP.saveAs(i,o+".html")}downloadStyle(){Io().f[3]++;const n=(Io().s[11]++,this.tokenizedStyle()),e=(Io().s[12]++,new Blob([n],{type:"application/json;charset=utf-8"})),r=(Io().s[13]++,this.exportName());Io().s[14]++,vP.saveAs(e,r+".json")}changeMetadataProperty(n,e){Io().f[4]++;const r=(Io().s[15]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[n]:e}});Io().s[16]++,this.props.onStyleChanged(r)}render(){return Io().f[5]++,Io().s[17]++,N.jsx(af,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Export Style",className:"maputnik-export-modal",children:N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Download Style"}),N.jsx("p",{children:"Download a JSON style to your computer."}),N.jsxs("div",{children:[N.jsx(Nh,{label:Dh.maputnik.maptiler_access_token.label,fieldSpec:Dh.maputnik.maptiler_access_token,value:(Io().b[2][0]++,this.props.mapStyle.metadata||(Io().b[2][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),N.jsx(Nh,{label:Dh.maputnik.thunderforest_access_token.label,fieldSpec:Dh.maputnik.thunderforest_access_token,value:(Io().b[3][0]++,this.props.mapStyle.metadata||(Io().b[3][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")})]}),N.jsxs("div",{className:"maputnik-modal-export-buttons",children:[N.jsxs(ka,{onClick:this.downloadStyle.bind(this),children:[N.jsx(c6,{}),"Download Style"]}),N.jsxs(ka,{onClick:this.downloadHtml.bind(this),children:[N.jsx(c6,{}),"Download HTML"]})]})]})})}}function Z3(){var t="/workspaces/maputnik/src/components/FieldDynamicArray.tsx",n="c578b0e5665b0c9b03bd76995b70e42d902018cb",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c578b0e5665b0c9b03bd76995b70e42d902018cb"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Z3=function(){return s},s}Z3();class eG extends gn.Component{render(){return Z3().f[0]++,Z3().s[0]++,N.jsx(i_,{label:this.props.label,children:N.jsx(FN,{...this.props})})}}function X3(){var t="/workspaces/maputnik/src/components/FieldCheckbox.tsx",n="8d21faae844bad42080190983c9450ad658394f4",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d21faae844bad42080190983c9450ad658394f4"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return X3=function(){return s},s}X3();class fBe extends gn.Component{render(){return X3().f[0]++,X3().s[0]++,N.jsx(To,{label:this.props.label,children:N.jsx(C8,{...this.props})})}}function zn(){var t="/workspaces/maputnik/src/components/ModalSourcesTypeEditor.tsx",n="f85ea70048fcd00851806cb3493ad7cb11322483",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:28,column:9}},1:{start:{line:21,column:29},end:{line:24,column:12}},2:{start:{line:33,column:4},end:{line:36,column:7}},3:{start:{line:39,column:18},end:{line:39,column:47}},4:{start:{line:40,column:4},end:{line:49,column:6}},5:{start:{line:52,column:4},end:{line:79,column:9}},6:{start:{line:60,column:33},end:{line:63,column:12}},7:{start:{line:72,column:33},end:{line:75,column:12}},8:{start:{line:84,column:24},end:{line:91,column:5}},9:{start:{line:85,column:26},end:{line:85,column:64}},10:{start:{line:86,column:6},end:{line:86,column:29}},11:{start:{line:87,column:6},end:{line:90,column:9}},12:{start:{line:92,column:4},end:{line:119,column:9}},13:{start:{line:99,column:29},end:{line:102,column:12}},14:{start:{line:106,column:8},end:{line:117,column:10}},15:{start:{line:114,column:31},end:{line:114,column:52}},16:{start:{line:124,column:24},end:{line:131,column:5}},17:{start:{line:125,column:26},end:{line:125,column:64}},18:{start:{line:126,column:6},end:{line:126,column:29}},19:{start:{line:127,column:6},end:{line:130,column:9}},20:{start:{line:132,column:23},end:{line:137,column:5}},21:{start:{line:133,column:6},end:{line:136,column:9}},22:{start:{line:138,column:4},end:{line:164,column:9}},23:{start:{line:151,column:8},end:{line:162,column:10}},24:{start:{line:159,column:31},end:{line:159,column:52}},25:{start:{line:169,column:4},end:{line:180,column:6}},26:{start:{line:175,column:28},end:{line:178,column:10}},27:{start:{line:185,column:4},end:{line:217,column:9}},28:{start:{line:197,column:12},end:{line:200,column:15}},29:{start:{line:210,column:12},end:{line:213,column:15}},30:{start:{line:222,column:24},end:{line:225,column:5}},31:{start:{line:226,column:4},end:{line:261,column:5}},32:{start:{line:228,column:8},end:{line:228,column:79}},33:{start:{line:230,column:8},end:{line:230,column:85}},34:{start:{line:232,column:8},end:{line:232,column:77}},35:{start:{line:234,column:8},end:{line:234,column:76}},36:{start:{line:236,column:8},end:{line:236,column:77}},37:{start:{line:238,column:8},end:{line:238,column:76}},38:{start:{line:240,column:8},end:{line:240,column:77}},39:{start:{line:242,column:8},end:{line:254,column:13}},40:{start:{line:248,column:36},end:{line:251,column:14}},41:{start:{line:256,column:8},end:{line:256,column:74}},42:{start:{line:258,column:8},end:{line:258,column:74}},43:{start:{line:260,column:8},end:{line:260,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:29,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:29},end:{line:24,column:12}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:24},end:{line:37,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:19},end:{line:50,column:3}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:11},end:{line:80,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:20},end:{line:60,column:21}},loc:{start:{line:60,column:33},end:{line:63,column:12}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:33},end:{line:75,column:12}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:11},end:{line:120,column:3}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:84,column:24},end:{line:84,column:25}},loc:{start:{line:84,column:38},end:{line:91,column:5}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:99,column:20},end:{line:99,column:21}},loc:{start:{line:99,column:29},end:{line:102,column:12}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:105,column:67},end:{line:105,column:68}},loc:{start:{line:105,column:83},end:{line:118,column:7}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:114,column:22},end:{line:114,column:23}},loc:{start:{line:114,column:31},end:{line:114,column:52}},line:114},12:{name:"(anonymous_12)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:11},end:{line:165,column:3}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:124,column:24},end:{line:124,column:25}},loc:{start:{line:124,column:38},end:{line:131,column:5}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:132,column:23},end:{line:132,column:24}},loc:{start:{line:132,column:33},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:150,column:67},end:{line:150,column:68}},loc:{start:{line:150,column:83},end:{line:163,column:7}},line:150},16:{name:"(anonymous_16)",decl:{start:{line:159,column:22},end:{line:159,column:23}},loc:{start:{line:159,column:31},end:{line:159,column:52}},line:159},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:181,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:175,column:18},end:{line:175,column:19}},loc:{start:{line:175,column:28},end:{line:178,column:10}},line:175},19:{name:"(anonymous_19)",decl:{start:{line:184,column:2},end:{line:184,column:3}},loc:{start:{line:184,column:11},end:{line:218,column:3}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:196,column:20},end:{line:196,column:21}},loc:{start:{line:196,column:30},end:{line:201,column:11}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:209,column:20},end:{line:209,column:21}},loc:{start:{line:209,column:33},end:{line:214,column:11}},line:209},22:{name:"(anonymous_22)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:11},end:{line:262,column:3}},line:221},23:{name:"(anonymous_23)",decl:{start:{line:248,column:22},end:{line:248,column:23}},loc:{start:{line:248,column:36},end:{line:251,column:14}},line:248}},branchMap:{0:{loc:{start:{line:39,column:18},end:{line:39,column:47}},type:"binary-expr",locations:[{start:{line:39,column:18},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:39,column:47}}],line:39},1:{loc:{start:{line:59,column:17},end:{line:59,column:47}},type:"binary-expr",locations:[{start:{line:59,column:17},end:{line:59,column:42}},{start:{line:59,column:46},end:{line:59,column:47}}],line:59},2:{loc:{start:{line:71,column:17},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:17},end:{line:71,column:42}},{start:{line:71,column:46},end:{line:71,column:48}}],line:71},3:{loc:{start:{line:226,column:4},end:{line:261,column:5}},type:"switch",locations:[{start:{line:227,column:6},end:{line:228,column:79}},{start:{line:229,column:6},end:{line:230,column:85}},{start:{line:231,column:6},end:{line:232,column:77}},{start:{line:233,column:6},end:{line:234,column:76}},{start:{line:235,column:6},end:{line:236,column:77}},{start:{line:237,column:6},end:{line:238,column:76}},{start:{line:239,column:6},end:{line:240,column:77}},{start:{line:241,column:6},end:{line:254,column:13}},{start:{line:255,column:6},end:{line:256,column:74}},{start:{line:257,column:6},end:{line:258,column:74}},{start:{line:259,column:6},end:{line:260,column:20}}],line:226},4:{loc:{start:{line:252,column:19},end:{line:252,column:90}},type:"binary-expr",locations:[{start:{line:252,column:19},end:{line:252,column:45}},{start:{line:252,column:49},end:{line:252,column:90}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AAwBW,SACL,KADK;AAxBX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAa1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAYA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,WAAW,WAAW,OAAO,eAAe,MACxD;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,qBAAqB,+BAA+B,MAAM,UAAuC;AAAA,EAC/F,SAAS;AACP,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,IACvB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,oBAAC,uBAAqB,GAAG,aACzD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,WAAW,OAAO,kBAAkB;AAAA,YACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,YAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,QACzE,GACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f85ea70048fcd00851806cb3493ad7cb11322483"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return zn=function(){return s},s}zn();class FM extends gn.Component{render(){return zn().f[0]++,zn().s[0]++,N.jsxs("div",{children:[N.jsx(o_,{label:"TileJSON URL",fieldSpec:vr.source_vector.url,value:this.props.source.url,onChange:n=>(zn().f[1]++,zn().s[1]++,this.props.onChange({...this.props.source,url:n}))}),this.props.children]})}}class LM extends gn.Component{changeTileUrls(n){zn().f[2]++,zn().s[2]++,this.props.onChange({...this.props.source,tiles:n})}renderTileUrls(){zn().f[3]++;const n=(zn().s[3]++,zn().b[0][0]++,this.props.source.tiles||(zn().b[0][1]++,[]));return zn().s[4]++,N.jsx(eG,{label:"Tile URL",fieldSpec:vr.source_vector.tiles,type:"url",value:n,onChange:this.changeTileUrls.bind(this)})}render(){return zn().f[4]++,zn().s[5]++,N.jsxs("div",{children:[this.renderTileUrls(),N.jsx(im,{label:"Min Zoom",fieldSpec:vr.source_vector.minzoom,value:(zn().b[1][0]++,this.props.source.minzoom||(zn().b[1][1]++,0)),onChange:n=>(zn().f[5]++,zn().s[6]++,this.props.onChange({...this.props.source,minzoom:n}))}),N.jsx(im,{label:"Max Zoom",fieldSpec:vr.source_vector.maxzoom,value:(zn().b[2][0]++,this.props.source.maxzoom||(zn().b[2][1]++,22)),onChange:n=>(zn().f[6]++,zn().s[7]++,this.props.onChange({...this.props.source,maxzoom:n}))}),this.props.children]})}}class pBe extends gn.Component{render(){zn().f[7]++,zn().s[8]++;const n=(e,r)=>{zn().f[8]++;const i=(zn().s[9]++,this.props.source.coordinates.slice(0));zn().s[10]++,i[e]=r,zn().s[11]++,this.props.onChange({...this.props.source,coordinates:i})};return zn().s[12]++,N.jsxs("div",{children:[N.jsx(o_,{label:"Image URL",fieldSpec:vr.source_image.url,value:this.props.source.url,onChange:e=>(zn().f[9]++,zn().s[13]++,this.props.onChange({...this.props.source,url:e}))}),["top left","top right","bottom right","bottom left"].map((e,r)=>(zn().f[10]++,zn().s[14]++,N.jsx(Q3,{label:`Coord ${e}`,length:2,type:"number",value:this.props.source.coordinates[r],default:[0,0],onChange:i=>(zn().f[11]++,zn().s[15]++,n(r,i))},e)))]})}}class mBe extends gn.Component{render(){zn().f[12]++,zn().s[16]++;const n=(r,i)=>{zn().f[13]++;const o=(zn().s[17]++,this.props.source.coordinates.slice(0));zn().s[18]++,o[r]=i,zn().s[19]++,this.props.onChange({...this.props.source,coordinates:o})};zn().s[20]++;const e=r=>{zn().f[14]++,zn().s[21]++,this.props.onChange({...this.props.source,urls:r})};return zn().s[22]++,N.jsxs("div",{children:[N.jsx(eG,{label:"Video URL",fieldSpec:vr.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:e}),["top left","top right","bottom right","bottom left"].map((r,i)=>(zn().f[15]++,zn().s[23]++,N.jsx(Q3,{label:`Coord ${r}`,length:2,type:"number",value:this.props.source.coordinates[i],default:[0,0],onChange:o=>(zn().f[16]++,zn().s[24]++,n(i,o))},r)))]})}}class gBe extends gn.Component{render(){return zn().f[17]++,zn().s[25]++,N.jsx(o_,{label:"GeoJSON URL",fieldSpec:vr.source_geojson.data,value:this.props.source.data,onChange:n=>(zn().f[18]++,zn().s[26]++,this.props.onChange({...this.props.source,data:n}))})}}class yBe extends gn.Component{render(){return zn().f[19]++,zn().s[27]++,N.jsxs("div",{children:[N.jsx(To,{label:"GeoJSON",fieldSpec:vr.source_geojson.data,children:N.jsx(z7,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:n=>{zn().f[20]++,zn().s[28]++,this.props.onChange({...this.props.source,data:n})}})}),N.jsx(fBe,{label:"Cluster",value:this.props.source.cluster,onChange:n=>{zn().f[21]++,zn().s[29]++,this.props.onChange({...this.props.source,cluster:n})}})]})}}class tG extends gn.Component{render(){zn().f[22]++;const n=(zn().s[30]++,{source:this.props.source,onChange:this.props.onChange});switch(zn().s[31]++,this.props.mode){case"geojson_url":return zn().b[3][0]++,zn().s[32]++,N.jsx(gBe,{...n});case"geojson_json":return zn().b[3][1]++,zn().s[33]++,N.jsx(yBe,{...n});case"tilejson_vector":return zn().b[3][2]++,zn().s[34]++,N.jsx(FM,{...n});case"tilexyz_vector":return zn().b[3][3]++,zn().s[35]++,N.jsx(LM,{...n});case"tilejson_raster":return zn().b[3][4]++,zn().s[36]++,N.jsx(FM,{...n});case"tilexyz_raster":return zn().b[3][5]++,zn().s[37]++,N.jsx(LM,{...n});case"tilejson_raster-dem":return zn().b[3][6]++,zn().s[38]++,N.jsx(FM,{...n});case"tilexyz_raster-dem":return zn().b[3][7]++,zn().s[39]++,N.jsx(LM,{...n,children:N.jsx(w8,{label:"Encoding",fieldSpec:vr.source_raster_dem.encoding,options:Object.keys(vr.source_raster_dem.encoding.values),onChange:e=>(zn().f[23]++,zn().s[40]++,this.props.onChange({...this.props.source,encoding:e})),value:(zn().b[4][0]++,this.props.source.encoding||(zn().b[4][1]++,vr.source_raster_dem.encoding.default))})});case"image":return zn().b[3][8]++,zn().s[41]++,N.jsx(pBe,{...n});case"video":return zn().b[3][9]++,zn().s[42]++,N.jsx(mBe,{...n});default:return zn().b[3][10]++,zn().s[43]++,null}}}function Jd(){var t="/workspaces/maputnik/src/libs/source.ts",n="1c9a2780288daa9b1f8858c9d8df1d78a05bf123",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1c9a2780288daa9b1f8858c9d8df1d78a05bf123"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Jd=function(){return s},s}Jd();function vBe(t,n){Jd().f[0]++;const e=(Jd().s[0]++,{...t.sources});return Jd().s[1]++,delete e[n],Jd().s[2]++,{...t,sources:e}}function _P(t,n,e){return Jd().f[1]++,Jd().s[3]++,nG(t,n,e)}function nG(t,n,e){Jd().f[2]++;const r=(Jd().s[4]++,{...t.sources,[n]:e});return Jd().s[5]++,{...t,sources:r}}const CBe={type:"vector",url:"https://api.maptiler.com/tiles/v3/tiles.json?key={key}",title:"OpenMapTiles v3"},_Be={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},bBe={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},xBe={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},bP={openmaptiles:CBe,thunderforest_transport:_Be,thunderforest_outdoors:bBe,open_zoomstack:xBe};function $t(){var t="/workspaces/maputnik/src/components/ModalSources.tsx",n="1b4d6916d12cf31505c51799cfaefa4d30418b66",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:32,column:9}},1:{start:{line:19,column:23},end:{line:19,column:57}},2:{start:{line:36,column:2},end:{line:40,column:3}},3:{start:{line:37,column:4},end:{line:38,column:30}},4:{start:{line:38,column:6},end:{line:38,column:30}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:45,column:3}},7:{start:{line:42,column:4},end:{line:43,column:34}},8:{start:{line:43,column:6},end:{line:43,column:34}},9:{start:{line:44,column:4},end:{line:44,column:33}},10:{start:{line:46,column:2},end:{line:50,column:3}},11:{start:{line:47,column:4},end:{line:48,column:30}},12:{start:{line:48,column:6},end:{line:48,column:30}},13:{start:{line:49,column:4},end:{line:49,column:29}},14:{start:{line:51,column:2},end:{line:57,column:3}},15:{start:{line:52,column:4},end:{line:56,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:6},end:{line:55,column:28}},18:{start:{line:58,column:2},end:{line:60,column:3}},19:{start:{line:59,column:4},end:{line:59,column:19}},20:{start:{line:61,column:2},end:{line:63,column:3}},21:{start:{line:62,column:4},end:{line:62,column:19}},22:{start:{line:64,column:2},end:{line:64,column:14}},23:{start:{line:68,column:4},end:{line:94,column:9}},24:{start:{line:80,column:27},end:{line:80,column:67}},25:{start:{line:99,column:4},end:{line:99,column:17}},26:{start:{line:100,column:4},end:{line:104,column:6}},27:{start:{line:107,column:19},end:{line:107,column:50}},28:{start:{line:108,column:25},end:{line:108,column:40}},29:{start:{line:109,column:4},end:{line:183,column:5}},30:{start:{line:111,column:8},end:{line:114,column:10}},31:{start:{line:116,column:8},end:{line:120,column:10}},32:{start:{line:122,column:8},end:{line:125,column:10}},33:{start:{line:127,column:8},end:{line:132,column:10}},34:{start:{line:134,column:8},end:{line:137,column:10}},35:{start:{line:139,column:8},end:{line:144,column:10}},36:{start:{line:146,column:8},end:{line:149,column:10}},37:{start:{line:151,column:8},end:{line:156,column:10}},38:{start:{line:158,column:8},end:{line:167,column:10}},39:{start:{line:169,column:8},end:{line:180,column:10}},40:{start:{line:182,column:8},end:{line:182,column:18}},41:{start:{line:185,column:10},end:{line:188,column:3}},42:{start:{line:186,column:33},end:{line:186,column:43}},43:{start:{line:187,column:4},end:{line:187,column:39}},44:{start:{line:189,column:19},end:{line:191,column:3}},45:{start:{line:190,column:4},end:{line:190,column:30}},46:{start:{line:193,column:32},end:{line:195,column:5}},47:{start:{line:196,column:4},end:{line:243,column:9}},48:{start:{line:203,column:27},end:{line:203,column:57}},49:{start:{line:223,column:30},end:{line:223,column:87}},50:{start:{line:248,column:27},end:{line:248,column:40}},51:{start:{line:249,column:4},end:{line:249,column:35}},52:{start:{line:250,column:4},end:{line:250,column:26}},53:{start:{line:253,column:21},end:{line:253,column:40}},54:{start:{line:254,column:26},end:{line:266,column:6}},55:{start:{line:255,column:21},end:{line:255,column:47}},56:{start:{line:256,column:6},end:{line:265,column:8}},57:{start:{line:261,column:29},end:{line:261,column:93}},58:{start:{line:262,column:26},end:{line:262,column:85}},59:{start:{line:267,column:27},end:{line:279,column:6}},60:{start:{line:267,column:75},end:{line:267,column:106}},61:{start:{line:268,column:21},end:{line:268,column:44}},62:{start:{line:269,column:6},end:{line:278,column:8}},63:{start:{line:275,column:26},end:{line:275,column:107}},64:{start:{line:280,column:4},end:{line:309,column:6}},65:{start:{line:303,column:45},end:{line:303,column:109}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:33,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:57}},line:19},2:{name:"editorMode",decl:{start:{line:35,column:9},end:{line:35,column:19}},loc:{start:{line:35,column:28},end:{line:65,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:95,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:184,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:185,column:10},end:{line:185,column:11}},loc:{start:{line:185,column:16},end:{line:188,column:3}},line:185},8:{name:"(anonymous_8)",decl:{start:{line:189,column:19},end:{line:189,column:20}},loc:{start:{line:189,column:31},end:{line:191,column:3}},line:189},9:{name:"(anonymous_9)",decl:{start:{line:192,column:2},end:{line:192,column:3}},loc:{start:{line:192,column:11},end:{line:244,column:3}},line:192},10:{name:"(anonymous_10)",decl:{start:{line:203,column:20},end:{line:203,column:21}},loc:{start:{line:203,column:27},end:{line:203,column:57}},line:203},11:{name:"(anonymous_11)",decl:{start:{line:223,column:20},end:{line:223,column:21}},loc:{start:{line:223,column:30},end:{line:223,column:87}},line:223},12:{name:"(anonymous_12)",decl:{start:{line:247,column:2},end:{line:247,column:3}},loc:{start:{line:247,column:21},end:{line:251,column:3}},line:247},13:{name:"(anonymous_13)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:11},end:{line:310,column:3}},line:252},14:{name:"(anonymous_14)",decl:{start:{line:254,column:60},end:{line:254,column:61}},loc:{start:{line:254,column:74},end:{line:266,column:5}},line:254},15:{name:"(anonymous_15)",decl:{start:{line:261,column:20},end:{line:261,column:21}},loc:{start:{line:261,column:29},end:{line:261,column:93}},line:261},16:{name:"(anonymous_16)",decl:{start:{line:262,column:20},end:{line:262,column:21}},loc:{start:{line:262,column:26},end:{line:262,column:85}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:267,column:61},end:{line:267,column:62}},loc:{start:{line:267,column:75},end:{line:267,column:106}},line:267},18:{name:"(anonymous_18)",decl:{start:{line:267,column:112},end:{line:267,column:113}},loc:{start:{line:267,column:126},end:{line:279,column:5}},line:267},19:{name:"(anonymous_19)",decl:{start:{line:275,column:20},end:{line:275,column:21}},loc:{start:{line:275,column:26},end:{line:275,column:107}},line:275},20:{name:"(anonymous_20)",decl:{start:{line:303,column:23},end:{line:303,column:24}},loc:{start:{line:303,column:45},end:{line:303,column:109}},line:303}},branchMap:{0:{loc:{start:{line:36,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},1:{loc:{start:{line:37,column:4},end:{line:38,column:30}},type:"if",locations:[{start:{line:37,column:4},end:{line:38,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:41,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:43,column:34}},type:"if",locations:[{start:{line:42,column:4},end:{line:43,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:46,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:46,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},5:{loc:{start:{line:47,column:4},end:{line:48,column:30}},type:"if",locations:[{start:{line:47,column:4},end:{line:48,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:51,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:57,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},7:{loc:{start:{line:52,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:56,column:5}},{start:{line:54,column:11},end:{line:56,column:5}}],line:52},8:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},9:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},10:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},11:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},12:{loc:{start:{line:109,column:4},end:{line:183,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:120,column:10}},{start:{line:121,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:144,column:10}},{start:{line:145,column:6},end:{line:149,column:10}},{start:{line:150,column:6},end:{line:156,column:10}},{start:{line:157,column:6},end:{line:167,column:10}},{start:{line:168,column:6},end:{line:180,column:10}},{start:{line:181,column:6},end:{line:182,column:18}}],line:109},13:{loc:{start:{line:118,column:19},end:{line:118,column:42}},type:"binary-expr",locations:[{start:{line:118,column:19},end:{line:118,column:33}},{start:{line:118,column:37},end:{line:118,column:42}}],line:118},14:{loc:{start:{line:124,column:15},end:{line:124,column:72}},type:"binary-expr",locations:[{start:{line:124,column:15},end:{line:124,column:25}},{start:{line:124,column:29},end:{line:124,column:72}}],line:124},15:{loc:{start:{line:129,column:17},end:{line:129,column:80}},type:"binary-expr",locations:[{start:{line:129,column:17},end:{line:129,column:29}},{start:{line:129,column:33},end:{line:129,column:80}}],line:129},16:{loc:{start:{line:130,column:19},end:{line:130,column:38}},type:"binary-expr",locations:[{start:{line:130,column:19},end:{line:130,column:33}},{start:{line:130,column:37},end:{line:130,column:38}}],line:130},17:{loc:{start:{line:131,column:19},end:{line:131,column:39}},type:"binary-expr",locations:[{start:{line:131,column:19},end:{line:131,column:33}},{start:{line:131,column:37},end:{line:131,column:39}}],line:131},18:{loc:{start:{line:136,column:15},end:{line:136,column:72}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:25}},{start:{line:136,column:29},end:{line:136,column:72}}],line:136},19:{loc:{start:{line:141,column:17},end:{line:141,column:80}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:29}},{start:{line:141,column:33},end:{line:141,column:80}}],line:141},20:{loc:{start:{line:142,column:19},end:{line:142,column:38}},type:"binary-expr",locations:[{start:{line:142,column:19},end:{line:142,column:33}},{start:{line:142,column:37},end:{line:142,column:38}}],line:142},21:{loc:{start:{line:143,column:19},end:{line:143,column:39}},type:"binary-expr",locations:[{start:{line:143,column:19},end:{line:143,column:33}},{start:{line:143,column:37},end:{line:143,column:39}}],line:143},22:{loc:{start:{line:148,column:15},end:{line:148,column:72}},type:"binary-expr",locations:[{start:{line:148,column:15},end:{line:148,column:25}},{start:{line:148,column:29},end:{line:148,column:72}}],line:148},23:{loc:{start:{line:153,column:17},end:{line:153,column:80}},type:"binary-expr",locations:[{start:{line:153,column:17},end:{line:153,column:29}},{start:{line:153,column:33},end:{line:153,column:80}}],line:153},24:{loc:{start:{line:154,column:19},end:{line:154,column:38}},type:"binary-expr",locations:[{start:{line:154,column:19},end:{line:154,column:33}},{start:{line:154,column:37},end:{line:154,column:38}}],line:154},25:{loc:{start:{line:155,column:19},end:{line:155,column:39}},type:"binary-expr",locations:[{start:{line:155,column:19},end:{line:155,column:33}},{start:{line:155,column:37},end:{line:155,column:39}}],line:155}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AA+BU,cACA,YADA;AA/BV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,SAAQ,cAAa;AAGrB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,WAAW,KAAK,MAAM,QAAQ;AAAA,YAC1C,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM,CAAC;AAAA,QACT;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,QAC/D;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AAQP,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,EAAC,KAAK,yFAAwF;AAAA,UACzG,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,gBAAgB;AAAA,YACjC,CAAC,eAAe,eAAe;AAAA,YAC/B,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,mBAAmB;AAAA,YACtC,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,kBAAkB;AAAA,YACrC,CAAC,uBAAuB,2BAA2B;AAAA,YACnD,CAAC,sBAAsB,uBAAuB;AAAA,YAC9C,CAAC,SAAS,OAAO;AAAA,YACjB,CAAC,SAAS,OAAO;AAAA,UACnB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA;AAAA,MACpB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EACF;AACF;AASA,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM;AAC5B,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA;AAAA,QAJrE;AAAA,MAKP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YACjB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,kCAAoB;AAAA,YACxB,oBAAC,OAAE,sEAEH;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YAClB,oBAAC,OAAE,0GAA4F;AAAA,YAC/F;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA;AAAA,YAC3H;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b4d6916d12cf31505c51799cfaefa4d30418b66"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return $t=function(){return s},s}$t();class wBe extends gn.Component{render(){return $t().f[0]++,$t().s[0]++,N.jsx("div",{className:"maputnik-public-source",children:N.jsxs(ka,{className:"maputnik-public-source-select",onClick:()=>($t().f[1]++,$t().s[1]++,this.props.onSelect(this.props.id)),children:[N.jsxs("div",{className:"maputnik-public-source-info",children:[N.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),N.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),N.jsx("span",{className:"maputnik-space"}),N.jsx(jL,{})]})})}}function MBe(t){return $t().f[2]++,$t().s[2]++,t.type==="raster"?($t().b[0][0]++,$t().s[3]++,t.tiles?($t().b[1][0]++,$t().s[4]++,"tilexyz_raster"):($t().b[1][1]++,$t().s[5]++,"tilejson_raster")):($t().b[0][1]++,$t().s[6]++,t.type==="raster-dem"?($t().b[2][0]++,$t().s[7]++,t.tiles?($t().b[3][0]++,$t().s[8]++,"tilexyz_raster-dem"):($t().b[3][1]++,$t().s[9]++,"tilejson_raster-dem")):($t().b[2][1]++,$t().s[10]++,t.type==="vector"?($t().b[4][0]++,$t().s[11]++,t.tiles?($t().b[5][0]++,$t().s[12]++,"tilexyz_vector"):($t().b[5][1]++,$t().s[13]++,"tilejson_vector")):($t().b[4][1]++,$t().s[14]++,t.type==="geojson"?($t().b[6][0]++,$t().s[15]++,typeof t.data=="string"?($t().b[7][0]++,$t().s[16]++,"geojson_url"):($t().b[7][1]++,$t().s[17]++,"geojson_json")):($t().b[6][1]++,$t().s[18]++,t.type==="image"?($t().b[8][0]++,$t().s[19]++,"image"):($t().b[8][1]++,$t().s[20]++,t.type==="video"?($t().b[9][0]++,$t().s[21]++,"video"):($t().b[9][1]++,$t().s[22]++,null))))))}class SBe extends gn.Component{render(){return $t().f[3]++,$t().s[23]++,N.jsxs("div",{className:"maputnik-active-source-type-editor",children:[N.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[N.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),N.jsx("span",{className:"maputnik-space"}),N.jsx(ka,{"aria-label":`Remove '${this.props.sourceId}' source`,className:"maputnik-active-source-type-editor-header-delete",onClick:()=>($t().f[4]++,$t().s[24]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:N.jsx(Ey,{})})]}),N.jsx("div",{className:"maputnik-active-source-type-editor-content",children:N.jsx(tG,{onChange:this.props.onChange,mode:MBe(this.props.source),source:this.props.source})})]})}}class EBe extends gn.Component{constructor(e){$t().f[5]++,$t().s[25]++;super(e);rn(this,"onAdd",($t().s[41]++,()=>{$t().f[7]++;const{source:e,sourceId:r}=($t().s[42]++,this.state);$t().s[43]++,this.props.onAdd(r,e)}));rn(this,"onChangeSource",($t().s[44]++,e=>{$t().f[8]++,$t().s[45]++,this.setState({source:e})}));$t().s[26]++,this.state={mode:"tilejson_vector",sourceId:Cu.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(e){$t().f[6]++;const r=($t().s[27]++,$t().b[10][0]++,($t().b[11][0]++,this.state||($t().b[11][1]++,{})).source||($t().b[10][1]++,{})),{protocol:i}=($t().s[28]++,window.location);switch($t().s[29]++,e){case"geojson_url":return $t().b[12][0]++,$t().s[30]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return $t().b[12][1]++,$t().s[31]++,{type:"geojson",cluster:($t().b[13][0]++,r.cluster||($t().b[13][1]++,!1)),data:{}};case"tilejson_vector":return $t().b[12][2]++,$t().s[32]++,{type:"vector",url:($t().b[14][0]++,r.url||($t().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_vector":return $t().b[12][3]++,$t().s[33]++,{type:"vector",tiles:($t().b[15][0]++,r.tiles||($t().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:($t().b[16][0]++,r.minzoom||($t().b[16][1]++,0)),maxzoom:($t().b[17][0]++,r.maxzoom||($t().b[17][1]++,14))};case"tilejson_raster":return $t().b[12][4]++,$t().s[34]++,{type:"raster",url:($t().b[18][0]++,r.url||($t().b[18][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster":return $t().b[12][5]++,$t().s[35]++,{type:"raster",tiles:($t().b[19][0]++,r.tiles||($t().b[19][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:($t().b[20][0]++,r.minzoom||($t().b[20][1]++,0)),maxzoom:($t().b[21][0]++,r.maxzoom||($t().b[21][1]++,14))};case"tilejson_raster-dem":return $t().b[12][6]++,$t().s[36]++,{type:"raster-dem",url:($t().b[22][0]++,r.url||($t().b[22][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return $t().b[12][7]++,$t().s[37]++,{type:"raster-dem",tiles:($t().b[23][0]++,r.tiles||($t().b[23][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:($t().b[24][0]++,r.minzoom||($t().b[24][1]++,0)),maxzoom:($t().b[25][0]++,r.maxzoom||($t().b[25][1]++,14))};case"image":return $t().b[12][8]++,$t().s[38]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return $t().b[12][9]++,$t().s[39]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return $t().b[12][10]++,$t().s[40]++,{}}}render(){$t().f[9]++;const e=($t().s[46]++,{doc:vr.source_vector.type.doc});return $t().s[47]++,N.jsxs("div",{className:"maputnik-add-source",children:[N.jsx(Nh,{label:"Source ID",fieldSpec:{doc:"Unique ID that identifies the source and is used in the layer to reference the source."},value:this.state.sourceId,onChange:r=>($t().f[10]++,$t().s[48]++,this.setState({sourceId:r}))}),N.jsx(w8,{label:"Source Type",fieldSpec:e,options:[["geojson_json","GeoJSON (JSON)"],["geojson_url","GeoJSON (URL)"],["tilejson_vector","Vector (TileJSON URL)"],["tilexyz_vector","Vector (XYZ URLs)"],["tilejson_raster","Raster (TileJSON URL)"],["tilexyz_raster","Raster (XYZ URL)"],["tilejson_raster-dem","Raster DEM (TileJSON URL)"],["tilexyz_raster-dem","Raster DEM (XYZ URLs)"],["image","Image"],["video","Video"]],onChange:r=>($t().f[11]++,$t().s[49]++,this.setState({mode:r,source:this.defaultSource(r)})),value:this.state.mode}),N.jsx(tG,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),N.jsx(ka,{className:"maputnik-add-source-button",onClick:this.onAdd,children:"Add Source"})]})}}class OBe extends gn.Component{stripTitle(n){$t().f[12]++;const e=($t().s[50]++,{...n});return $t().s[51]++,delete e.title,$t().s[52]++,e}render(){$t().f[13]++;const n=($t().s[53]++,this.props.mapStyle),e=($t().s[54]++,Object.keys(n.sources).map(i=>{$t().f[14]++;const o=($t().s[55]++,n.sources[i]);return $t().s[56]++,N.jsx(SBe,{sourceId:i,source:o,onChange:s=>($t().f[15]++,$t().s[57]++,this.props.onStyleChanged(nG(n,i,s))),onDelete:()=>($t().f[16]++,$t().s[58]++,this.props.onStyleChanged(vBe(n,i)))},i)})),r=($t().s[59]++,Object.keys(bP).filter(i=>($t().f[17]++,$t().s[60]++,!(i in n.sources))).map(i=>{$t().f[18]++;const o=($t().s[61]++,bP[i]);return $t().s[62]++,N.jsx(wBe,{id:i,type:o.type,title:o.title,onSelect:()=>($t().f[19]++,$t().s[63]++,this.props.onStyleChanged(_P(n,i,this.stripTitle(o))))},i)}));return $t().s[64]++,N.jsxs(af,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Sources",children:[N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Active Sources"}),e]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Choose Public Source"}),N.jsx("p",{children:"Add one of the publicly available sources to your style."}),N.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:r})]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Add New Source"}),N.jsx("p",{children:"Add a new source to your style. You can only choose the source type and id at creation time!"}),N.jsx(EBe,{onAdd:(i,o)=>($t().f[20]++,$t().s[65]++,this.props.onStyleChanged(_P(n,i,o)))})]})]})}}var rG={};Object.defineProperty(rG,"__esModule",{value:!0});var BBe=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},IBe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kBe=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),TBe=Or,RM=DBe(TBe),KBe=Rm,PBe=UBe(KBe);function UBe(t){return t&&t.__esModule?t:{default:t}}function DBe(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function FBe(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function LBe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function RBe(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function zBe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var jBe=function(t){zBe(n,t);function n(e){LBe(this,n);var r=RBe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));r.handleChange=function(o){var s=Array.prototype.slice.call(o.target.files),a=(r.props.as||"url").toLowerCase();Promise.all(s.map(function(f){return new Promise(function(g,x){var I=new FileReader;switch(I.onload=function(B){g([B,f])},a){case"binary":{I.readAsBinaryString(f);break}case"buffer":{I.readAsArrayBuffer(f);break}case"text":{I.readAsText(f);break}case"url":{I.readAsDataURL(f);break}}})})).then(function(f){r.props.onChange(o,f)})},r.triggerInput=function(){var o=PBe.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":IBe(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return kBe(n,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,s=i.style,a=FBe(i,["as","children","style"]),f=o?{position:"absolute",top:"-9999px"}:{};return RM.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:s},RM.createElement("input",BBe({},a,{type:"file",ref:function(x){r._reactFileReaderInput=x},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:f})),o)}}]),n}(RM.Component),WBe=rG.default=jBe;function pd(){var t="/workspaces/maputnik/src/components/ModalLoading.tsx",n="7d1bd80f1bf887e78c45db3305466d462cd955bb",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:27,column:6}},2:{start:{line:18,column:26},end:{line:18,column:42}},3:{start:{line:21,column:28},end:{line:21,column:49}},4:{start:{line:24,column:137},end:{line:24,column:159}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:21},end:{line:8,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:28,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:26},end:{line:18,column:42}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:22},end:{line:21,column:23}},loc:{start:{line:21,column:28},end:{line:21,column:49}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:24,column:130},end:{line:24,column:131}},loc:{start:{line:24,column:137},end:{line:24,column:159}},line:24}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAqBW,SAWL,KAXK;AArBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAAG,oBAErD,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7d1bd80f1bf887e78c45db3305466d462cd955bb"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return pd=function(){return s},s}pd();class NBe extends gn.Component{underlayOnClick(n){pd().f[0]++,pd().s[0]++,n.stopPropagation()}render(){return pd().f[1]++,pd().s[1]++,N.jsxs(af,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:n=>(pd().f[2]++,pd().s[2]++,underlayProps(n))},title:this.props.title,onOpenToggle:()=>(pd().f[3]++,pd().s[3]++,this.props.onCancel()),children:[N.jsx("p",{children:this.props.message}),N.jsx("p",{className:"maputnik-dialog__buttons",children:N.jsx(ka,{onClick:n=>(pd().f[4]++,pd().s[4]++,this.props.onCancel(n)),children:"Cancel"})})]})}}const iG=[{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"maptiler-basic-gl-style",title:"Maptiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.8/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.8/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@339e5b7/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"os-zoomstack-outdoor",title:"Zoomstack Outdoor",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{id:"os-zoomstack-road",title:"Zoomstack Road",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{id:"os-zoomstack-light",title:"Zoomstack Light",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{id:"os-zoomstack-night",title:"Zoomstack Night",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="}];function Rn(){var t="/workspaces/maputnik/src/components/ModalOpen.tsx",n="3768a5be33430432a518c718813366d4b2dded11",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:37,column:9}},1:{start:{line:19,column:23},end:{line:19,column:58}},2:{start:{line:42,column:4},end:{line:42,column:17}},3:{start:{line:43,column:4},end:{line:45,column:6}},4:{start:{line:48,column:4},end:{line:50,column:7}},5:{start:{line:53,column:4},end:{line:54,column:26}},6:{start:{line:54,column:6},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:13},end:{line:125,column:3}},31:{start:{line:106,column:21},end:{line:106,column:29}},32:{start:{line:107,column:19},end:{line:107,column:35}},33:{start:{line:108,column:4},end:{line:108,column:22}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:110,column:4},end:{line:123,column:6}},36:{start:{line:112,column:6},end:{line:119,column:7}},37:{start:{line:113,column:8},end:{line:113,column:48}},38:{start:{line:115,column:8},end:{line:117,column:11}},39:{start:{line:118,column:8},end:{line:118,column:15}},40:{start:{line:120,column:6},end:{line:120,column:53}},41:{start:{line:121,column:6},end:{line:121,column:39}},42:{start:{line:122,column:6},end:{line:122,column:26}},43:{start:{line:124,column:4},end:{line:124,column:50}},44:{start:{line:124,column:28},end:{line:124,column:49}},45:{start:{line:127,column:4},end:{line:129,column:7}},46:{start:{line:130,column:4},end:{line:130,column:22}},47:{start:{line:131,column:4},end:{line:131,column:30}},48:{start:{line:133,column:16},end:{line:137,column:3}},49:{start:{line:134,column:4},end:{line:136,column:7}},50:{start:{line:139,column:25},end:{line:150,column:6}},51:{start:{line:140,column:6},end:{line:149,column:8}},52:{start:{line:152,column:4},end:{line:157,column:5}},53:{start:{line:153,column:6},end:{line:156,column:11}},54:{start:{line:155,column:61},end:{line:155,column:78}},55:{start:{line:158,column:4},end:{line:224,column:9}},56:{start:{line:164,column:30},end:{line:164,column:49}},57:{start:{line:220,column:27},end:{line:220,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:38,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:58}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:21},end:{line:46,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:15},end:{line:51,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:27},end:{line:62,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:13},end:{line:105,column:14}},loc:{start:{line:105,column:27},end:{line:125,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:110,column:20},end:{line:110,column:21}},loc:{start:{line:110,column:27},end:{line:123,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:124,column:21},end:{line:124,column:22}},loc:{start:{line:124,column:28},end:{line:124,column:49}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:17},end:{line:132,column:3}},line:126},15:{name:"(anonymous_15)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:25},end:{line:137,column:3}},line:133},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:225,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:139,column:42},end:{line:139,column:43}},loc:{start:{line:139,column:54},end:{line:150,column:5}},line:139},18:{name:"(anonymous_18)",decl:{start:{line:155,column:55},end:{line:155,column:56}},loc:{start:{line:155,column:61},end:{line:155,column:78}},line:155},19:{name:"(anonymous_19)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:30},end:{line:164,column:49}},line:164},20:{name:"(anonymous_20)",decl:{start:{line:220,column:20},end:{line:220,column:21}},loc:{start:{line:220,column:27},end:{line:220,column:56}},line:220}},branchMap:{0:{loc:{start:{line:53,column:4},end:{line:54,column:26}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:152,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:157,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA4BQ,SACE,KADF;AA5BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AAExC,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAeA,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG;AAAG,QAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,WAAW,CAAC,GAAQ,UAAoB;AACtC,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAE9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO;AAAA,UAEN;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAG,0BAAY;AAAA,cAChB,oBAAC,OAAE,qDAAuC;AAAA,cAC1C,oBAAC,mBAAgB,UAAU,KAAK,UAAU,UAAU,IAAI,cAAW,cACjE,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,iBAAO,GACzE;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAG,2BAAa;AAAA,cACjB,qBAAC,OAAE;AAAA;AAAA,gBAC4C,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAW;AAAA,kBACX,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAQ;AAAA,kBACR,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAG,4BAAc;AAAA,cAClB,oBAAC,OAAE,sEAEH;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,cAAY,KAAK,MAAM;AAAA;AAAA,MAClC;AAAA,OACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3768a5be33430432a518c718813366d4b2dded11"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Rn=function(){return s},s}Rn();class GBe extends gn.Component{render(){return Rn().f[0]++,Rn().s[0]++,N.jsx("div",{className:"maputnik-public-style",children:N.jsxs(ka,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(Rn().f[1]++,Rn().s[1]++,this.props.onSelect(this.props.url)),children:[N.jsxs("div",{className:"maputnik-public-style-header",children:[N.jsx("div",{children:this.props.title}),N.jsx("span",{className:"maputnik-space"}),N.jsx(jL,{})]}),N.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class QBe extends gn.Component{constructor(e){Rn().f[2]++,Rn().s[2]++;super(e);rn(this,"onStyleSelect",(Rn().s[10]++,e=>{Rn().f[5]++,Rn().s[11]++,this.clearError();let r=(Rn().s[12]++,!1);Rn().s[13]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(i){return Rn().f[6]++,Rn().s[14]++,i.json()}).then(i=>{if(Rn().f[7]++,Rn().s[15]++,r){Rn().b[2][0]++,Rn().s[16]++;return}else Rn().b[2][1]++;Rn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(Rn().s[18]++,Cu.ensureStyleValidity(i));Rn().s[19]++,console.log("Loaded style ",o.id),Rn().s[20]++,this.props.onStyleOpen(o),Rn().s[21]++,this.onOpenToggle()}).catch(i=>{Rn().f[8]++,Rn().s[22]++,this.setState({error:`Failed to load: '${e}'`,activeRequest:null,activeRequestUrl:null}),Rn().s[23]++,console.error(i),Rn().s[24]++,console.warn("Could not open the style URL",e)}),Rn().s[25]++,this.setState({activeRequest:{abort:function(){Rn().f[9]++,Rn().s[26]++,r=!0}},activeRequestUrl:e})}));rn(this,"onSubmitUrl",(Rn().s[27]++,e=>{Rn().f[10]++,Rn().s[28]++,e.preventDefault(),Rn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));rn(this,"onUpload",(Rn().s[30]++,(e,r)=>{Rn().f[11]++;const[,i]=(Rn().s[31]++,r[0]),o=(Rn().s[32]++,new FileReader);Rn().s[33]++,this.clearError(),Rn().s[34]++,o.readAsText(i,"UTF-8"),Rn().s[35]++,o.onload=s=>{var f;Rn().f[12]++;let a;Rn().s[36]++;try{Rn().s[37]++,a=JSON.parse((f=s.target)==null?void 0:f.result)}catch(g){Rn().s[38]++,this.setState({error:g.toString()}),Rn().s[39]++;return}Rn().s[40]++,a=Cu.ensureStyleValidity(a),Rn().s[41]++,this.props.onStyleOpen(a),Rn().s[42]++,this.onOpenToggle()},Rn().s[43]++,o.onerror=s=>(Rn().f[13]++,Rn().s[44]++,console.log(s.target))}));rn(this,"onChangeUrl",(Rn().s[48]++,e=>{Rn().f[15]++,Rn().s[49]++,this.setState({styleUrl:e})}));Rn().s[3]++,this.state={styleUrl:""}}clearError(){Rn().f[3]++,Rn().s[4]++,this.setState({error:null})}onCancelActiveRequest(e){Rn().f[4]++,Rn().s[5]++,e?(Rn().b[0][0]++,Rn().s[6]++,e.stopPropagation()):Rn().b[0][1]++,Rn().s[7]++,this.state.activeRequest?(Rn().b[1][0]++,Rn().s[8]++,this.state.activeRequest.abort(),Rn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):Rn().b[1][1]++}onOpenToggle(){Rn().f[14]++,Rn().s[45]++,this.setState({styleUrl:""}),Rn().s[46]++,this.clearError(),Rn().s[47]++,this.props.onOpenToggle()}render(){Rn().f[16]++;const e=(Rn().s[50]++,iG.map(i=>(Rn().f[17]++,Rn().s[51]++,N.jsx(GBe,{url:i.url,title:i.title,thumbnailUrl:i.thumbnail,onSelect:this.onStyleSelect},i.id))));let r;return Rn().s[52]++,this.state.error?(Rn().b[3][0]++,Rn().s[53]++,r=N.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,N.jsx("a",{href:"#",onClick:()=>(Rn().f[18]++,Rn().s[54]++,this.clearError()),className:"maputnik-modal-error-close",children:""})]})):Rn().b[3][1]++,Rn().s[55]++,N.jsxs("div",{children:[N.jsxs(af,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(Rn().f[19]++,Rn().s[56]++,this.onOpenToggle()),title:"Open Style",children:[r,N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Upload Style"}),N.jsx("p",{children:"Upload a JSON style from your computer."}),N.jsx(WBe,{onChange:this.onUpload,tabIndex:-1,"aria-label":"Style file",children:N.jsxs(ka,{className:"maputnik-upload-button",children:[N.jsx(Yte,{})," Upload"]})})]}),N.jsx("section",{className:"maputnik-modal-section",children:N.jsxs("form",{onSubmit:this.onSubmitUrl,children:[N.jsx("h1",{children:"Load from URL"}),N.jsxs("p",{children:["Load from a URL. Note that the URL must have ",N.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]}),N.jsx(b8,{"aria-label":"Style URL","data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:"Enter URL...",value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),N.jsx("div",{children:N.jsx(ka,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[N.jsx("h1",{children:"Gallery Styles"}),N.jsx("p",{children:"Open one of the publicly available styles to start from."}),N.jsx("div",{className:"maputnik-style-gallery-container",children:e})]})]}),N.jsx(NBe,{isOpen:!!this.state.activeRequest,title:"Loading style",onCancel:i=>(Rn().f[20]++,Rn().s[57]++,this.onCancelActiveRequest(i)),message:"Loading: "+this.state.activeRequestUrl})]})}}function Ph(){var t="/workspaces/maputnik/src/components/ModalShortcuts.tsx",n="e07beb3e336c18cab1bbbcb6efff3b9fa551d354",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:39,column:5}},1:{start:{line:40,column:25},end:{line:113,column:5}},2:{start:{line:114,column:4},end:{line:143,column:6}},3:{start:{line:128,column:12},end:{line:131,column:22}},4:{start:{line:135,column:12},end:{line:139,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:144,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:127,column:57},end:{line:127,column:58}},loc:{start:{line:127,column:72},end:{line:132,column:11}},line:127},2:{name:"(anonymous_2)",decl:{start:{line:134,column:65},end:{line:134,column:66}},loc:{start:{line:134,column:80},end:{line:140,column:11}},line:134}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAea,SAwCA,UAxCA,KAwCA,YAxCA;AAfb,OAAO,WAAW;AAElB,OAAO,WAAW;AASlB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,aAAQ,WAAU,mDACjB;AAAA,+BAAC,OAAE;AAAA;AAAA,YACK,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAE,0EAA4D;AAAA,UAC/D,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e07beb3e336c18cab1bbbcb6efff3b9fa551d354"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ph=function(){return s},s}Ph();class $Be extends gn.Component{render(){Ph().f[0]++;const n=(Ph().s[0]++,[{key:N.jsx("kbd",{children:"?"}),text:"Shortcuts menu"},{key:N.jsx("kbd",{children:"o"}),text:"Open modal"},{key:N.jsx("kbd",{children:"e"}),text:"Export modal"},{key:N.jsx("kbd",{children:"d"}),text:"Data Sources modal"},{key:N.jsx("kbd",{children:"s"}),text:"Style Settings modal"},{key:N.jsx("kbd",{children:"i"}),text:"Toggle inspect"},{key:N.jsx("kbd",{children:"m"}),text:"Focus map"},{key:N.jsx("kbd",{children:"!"}),text:"Debug modal"}]),e=(Ph().s[1]++,[{key:N.jsx("kbd",{children:"+"}),text:"Increase the zoom level by 1."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"+"})]}),text:"Increase the zoom level by 2."},{key:N.jsx("kbd",{children:"-"}),text:"Decrease the zoom level by 1."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"-"})]}),text:"Decrease the zoom level by 2."},{key:N.jsx("kbd",{children:"Up"}),text:"Pan up by 100 pixels."},{key:N.jsx("kbd",{children:"Down"}),text:"Pan down by 100 pixels."},{key:N.jsx("kbd",{children:"Left"}),text:"Pan left by 100 pixels."},{key:N.jsx("kbd",{children:"Right"}),text:"Pan right by 100 pixels."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Right"})]}),text:"Increase the rotation by 15 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Left"})]}),text:"Decrease the rotation by 15 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Up"})]}),text:"Increase the pitch by 10 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Down"})]}),text:"Decrease the pitch by 10 degrees."}]);return Ph().s[2]++,N.jsx(af,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Shortcuts",children:N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[N.jsxs("p",{children:["Press ",N.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]}),N.jsx("dl",{children:n.map((r,i)=>(Ph().f[1]++,Ph().s[3]++,N.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[N.jsx("dt",{children:r.key},"dt"+i),N.jsx("dd",{children:r.text},"dd"+i)]},i)))}),N.jsx("p",{children:"If the Map is in focused you can use the following shortcuts"}),N.jsx("ul",{children:e.map((r,i)=>(Ph().f[2]++,Ph().s[4]++,N.jsxs("li",{children:[N.jsx("span",{children:r.key})," ",r.text]},i)))})]})})}}const YBe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function om(){var t="/workspaces/maputnik/src/components/ModalSurvey.tsx",n="5993086309c93172f34951212710bf8c31c04115",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalSurvey.tsx",statementMap:{0:{start:{line:7,column:12},end:{line:10,column:3}},1:{start:{line:8,column:4},end:{line:8,column:76}},2:{start:{line:9,column:4},end:{line:9,column:30}},3:{start:{line:12,column:4},end:{line:27,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:12},end:{line:7,column:13}},loc:{start:{line:7,column:18},end:{line:10,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalSurvey.tsx"],names:[],mappings:"AA2BM,SACE,KADF;AA3BN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAGlB,OAAO,eAAe;AAOtB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,UAAU,MAAM;AACd,WAAO,KAAK,kDAAkD,QAAQ;AAEtE,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAM;AAAA,QAEN,+BAAC,SAAI,WAAU,yBACb;AAAA,8BAAC,SAAI,KAAK,WAAW,WAAU,+BAA8B;AAAA,UAC7D,oBAAC,QAAG,sDAAwC;AAAA,UAC5C,oBAAC,OAAE,WAAU,sCAAqC,uLAAyK;AAAA,UAC3N,oBAAC,eAAY,SAAS,KAAK,SAAS,WAAU,kEAAiE,sCAAwB;AAAA,UACvI,oBAAC,OAAE,WAAU,mCAAkC,mEAAqD;AAAA,WACtG;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5993086309c93172f34951212710bf8c31c04115"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return om=function(){return s},s}om();class qBe extends gn.Component{constructor(){super(...arguments);rn(this,"onClick",(om().s[0]++,()=>{om().f[0]++,om().s[1]++,window.open("https://gregorywolanski.typeform.com/to/cPgaSY","_blank"),om().s[2]++,this.props.onOpenToggle()}))}render(){return om().f[1]++,om().s[3]++,N.jsx(af,{"data-wd-key":"modal:survey",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Maputnik Survey",children:N.jsxs("div",{className:"maputnik-modal-survey",children:[N.jsx("img",{src:YBe,className:"maputnik-modal-survey__logo"}),N.jsx("h1",{children:"You + Maputnik = Maputnik better for you"}),N.jsx("p",{className:"maputnik-modal-survey__description",children:"We dont track you, so we dont know how you use Maputnik. Help us make Maputnik better for you by completing a 7minute survey carried out by our contributing designer."}),N.jsx(ka,{onClick:this.onClick,className:"maputnik-big-button maputnik-white-button maputnik-wide-button",children:"Take the Maputnik Survey"}),N.jsx("p",{className:"maputnik-modal-survey__footnote",children:"It takes 7 minutes, tops! Every question is optional."})]})})}}function Cl(){var t="/workspaces/maputnik/src/components/ModalDebug.tsx",n="d31e9757f2a85370063dd0c293756585a3abd4ff",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:6,column:34}},1:{start:{line:7,column:20},end:{line:7,column:48}},2:{start:{line:8,column:19},end:{line:8,column:49}},3:{start:{line:9,column:19},end:{line:9,column:49}},4:{start:{line:10,column:4},end:{line:52,column:6}},5:{start:{line:21,column:14},end:{line:25,column:27}},6:{start:{line:22,column:96},end:{line:22,column:153}},7:{start:{line:28,column:14},end:{line:32,column:27}},8:{start:{line:29,column:96},end:{line:29,column:153}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:53,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:20,column:140},end:{line:20,column:141}},loc:{start:{line:20,column:156},end:{line:26,column:13}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:89},end:{line:22,column:90}},loc:{start:{line:22,column:96},end:{line:22,column:153}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:27,column:136},end:{line:27,column:137}},loc:{start:{line:27,column:152},end:{line:33,column:13}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:29,column:89},end:{line:29,column:90}},loc:{start:{line:29,column:96},end:{line:29,column:153}},line:29}},branchMap:{0:{loc:{start:{line:20,column:12},end:{line:26,column:17}},type:"binary-expr",locations:[{start:{line:20,column:12},end:{line:20,column:44}},{start:{line:20,column:64},end:{line:26,column:17}}],line:20},1:{loc:{start:{line:27,column:12},end:{line:33,column:17}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:40}},{start:{line:27,column:60},end:{line:33,column:17}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAsCQ,cAKQ,YALR;AAtCR,OAAO,WAAW;AAElB,OAAO,WAAW;AAqBlB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,UAAM,EAAC,QAAO,IAAI,KAAK;AAEvB,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAG,qBAAO;AAAA,YACV,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,qBAAC,OACC;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d31e9757f2a85370063dd0c293756585a3abd4ff"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Cl=function(){return s},s}Cl();class VBe extends gn.Component{render(){Cl().f[0]++;const{mapView:n}=(Cl().s[0]++,this.props),e=(Cl().s[1]++,Math.round(n.zoom)+1),r=(Cl().s[2]++,+n.center.lng.toFixed(5)),i=(Cl().s[3]++,+n.center.lat.toFixed(5));return Cl().s[4]++,N.jsxs(af,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Debug",children:[N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[N.jsx("h1",{children:"Options"}),(Cl().b[0][0]++,this.props.renderer==="mlgljs"&&(Cl().b[0][1]++,N.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([o,s])=>(Cl().f[1]++,Cl().s[5]++,N.jsx("li",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",checked:s,onChange:a=>(Cl().f[2]++,Cl().s[6]++,this.props.onChangeMaplibreGlDebug(o,a.target.checked))})," ",o]})},o)))}))),(Cl().b[1][0]++,this.props.renderer==="ol"&&(Cl().b[1][1]++,N.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([o,s])=>(Cl().f[3]++,Cl().s[7]++,N.jsx("li",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",checked:s,onChange:a=>(Cl().f[4]++,Cl().s[8]++,this.props.onChangeOpenlayersDebug(o,a.target.checked))})," ",o]})},o)))})))]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Links"}),N.jsxs("p",{children:[N.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${e}/${i}/${r}`,children:"Open in OSM"}),"  Opens the current view on openstreetmap.org"]})]})]})}}function ko(){var t="/workspaces/maputnik/src/libs/metadata.ts",n="7948d4e0c5d13edca53acbb1ddba6b64d068d06a",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:17,column:18}},6:{start:{line:17,column:4},end:{line:17,column:18}},7:{start:{line:18,column:17},end:{line:18,column:42}},8:{start:{line:19,column:23},end:{line:19,column:57}},9:{start:{line:20,column:2},end:{line:24,column:3}},10:{start:{line:21,column:4},end:{line:21,column:41}},11:{start:{line:23,column:4},end:{line:23,column:69}},12:{start:{line:25,column:14},end:{line:25,column:35}},13:{start:{line:26,column:2},end:{line:26,column:24}},14:{start:{line:29,column:2},end:{line:30,column:18}},15:{start:{line:30,column:4},end:{line:30,column:18}},16:{start:{line:31,column:14},end:{line:31,column:31}},17:{start:{line:32,column:2},end:{line:32,column:57}},18:{start:{line:32,column:32},end:{line:32,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:27,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:28,column:16},end:{line:28,column:38}},loc:{start:{line:28,column:52},end:{line:33,column:1}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:20},end:{line:32,column:21}},loc:{start:{line:32,column:32},end:{line:32,column:55}},line:32}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:17,column:18}},type:"if",locations:[{start:{line:16,column:2},end:{line:17,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:20,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:24,column:3}},{start:{line:22,column:9},end:{line:24,column:3}}],line:20},2:{loc:{start:{line:29,column:2},end:{line:30,column:18}},type:"if",locations:[{start:{line:29,column:2},end:{line:30,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC;AAAa,WAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC;AAAS,WAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7948d4e0c5d13edca53acbb1ddba6b64d068d06a"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return ko=function(){return s},s}ko();function oG(t,n,e){ko().f[0]++,ko().s[0]++,fetch(t,{mode:"cors",credentials:"same-origin"}).then(function(r){return ko().f[1]++,ko().s[1]++,r.json()}).then(function(r){ko().f[2]++,ko().s[2]++,e(r)}).catch(function(){ko().f[3]++,ko().s[3]++,console.warn("Can not metadata for "+t),ko().s[4]++,e(n)})}function HBe(t,n){if(ko().f[4]++,ko().s[5]++,t)ko().b[0][1]++;else return ko().b[0][0]++,ko().s[6]++,n([]);const e=(ko().s[7]++,Pm.parse(t)),r=(ko().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");ko().s[9]++,e.pathname===r?(ko().b[1][0]++,ko().s[10]++,e.pathname="/fontstacks.json"):(ko().b[1][1]++,ko().s[11]++,e.pathname=e.pathname.replace(r,".json"));const i=(ko().s[12]++,Pm.format(e));ko().s[13]++,oG(i,[],n)}function ZBe(t,n){if(ko().f[5]++,ko().s[14]++,t)ko().b[2][1]++;else return ko().b[2][0]++,ko().s[15]++,n([]);const e=(ko().s[16]++,t+".json");ko().s[17]++,oG(e,{},r=>(ko().f[6]++,ko().s[18]++,n(Object.keys(r))))}function Ul(){var t="/workspaces/maputnik/src/libs/urlopen.ts",n="ed714ab3e882459fb697a482c655b5e686b05d6f",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed714ab3e882459fb697a482c655b5e686b05d6f"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ul=function(){return s},s}Ul();function XBe(){Ul().f[0]++;const t=(Ul().s[0]++,new URL(window.location.href));return Ul().s[1]++,t.searchParams.get("style")}function aG(t,n){Ul().f[1]++,Ul().s[2]++,console.log("Loading style",t),Ul().s[3]++,fetch(t,{mode:"cors",credentials:"same-origin"}).then(function(e){return Ul().f[2]++,Ul().s[4]++,e.json()}).then(function(e){Ul().f[3]++,Ul().s[5]++,n(Cu.ensureStyleValidity(e))}).catch(function(){Ul().f[4]++,Ul().s[6]++,console.warn("Could not fetch default style",t),Ul().s[7]++,n(Cu.emptyStyle)})}function xP(){Ul().f[5]++;const t=(Ul().s[8]++,new URL(window.location.href));Ul().s[9]++,t.searchParams.delete("style"),Ul().s[10]++,window.history.replaceState({},document.title,t.toString())}function _A(){var t="/workspaces/maputnik/src/libs/diffmessage.ts",n="52bc49924e0f93c536b8e22569e5f812d6865f71",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"52bc49924e0f93c536b8e22569e5f812d6865f71"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return _A=function(){return s},s}_A();function sG(t,n){_A().f[0]++;const e=(_A().s[0]++,jee(t,n));return _A().s[1]++,e.map(r=>(_A().f[1]++,_A().s[2]++,r.command+" "+r.args.join(" ")))}function JBe(t,n){return _A().f[2]++,_A().s[3]++,sG(t,n).map(e=>(_A().f[3]++,_A().s[4]++,"Undo "+e))}function e7e(t,n){return _A().f[4]++,_A().s[5]++,sG(t,n).map(e=>(_A().f[5]++,_A().s[6]++,"Redo "+e))}function Pr(){var t="/workspaces/maputnik/src/libs/stylestore.ts",n="691dcd7a358df5fb626022204f3d7fc2d25fcaae",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:64,column:34}},28:{start:{line:64,column:6},end:{line:64,column:34}},29:{start:{line:65,column:20},end:{line:65,column:67}},30:{start:{line:66,column:22},end:{line:66,column:68}},31:{start:{line:67,column:4},end:{line:68,column:39}},32:{start:{line:68,column:6},end:{line:68,column:39}},33:{start:{line:69,column:4},end:{line:69,column:25}},34:{start:{line:73,column:4},end:{line:73,column:51}},35:{start:{line:74,column:16},end:{line:74,column:37}},36:{start:{line:75,column:4},end:{line:75,column:63}},37:{start:{line:76,column:4},end:{line:76,column:65}},38:{start:{line:77,column:4},end:{line:77,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:70,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:17},end:{line:78,column:3}},line:72}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:64,column:34}},type:"if",locations:[{start:{line:63,column:4},end:{line:64,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:67,column:4},end:{line:68,column:39}},type:"if",locations:[{start:{line:67,column:4},end:{line:68,column:39}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW;AAAG,aAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG;AAAW,aAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"691dcd7a358df5fb626022204f3d7fc2d25fcaae"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Pr=function(){return s},s}Pr();const a_=(Pr().s[0]++,"maputnik"),lG=(Pr().s[1]++,"style"),wP=(Pr().s[2]++,{latest:[a_,"latest_style"].join(":"),accessToken:[a_,"access_token"].join(":")}),t7e=(Pr().s[3]++,iG[0].url);function MP(t){Pr().f[0]++,Pr().s[4]++,aG(t7e,t)}function n7e(){Pr().f[1]++;const t=(Pr().s[5]++,[]);Pr().s[6]++;for(let n=(Pr().s[7]++,0);n<window.localStorage.length;n++){const e=(Pr().s[8]++,window.localStorage.key(n));Pr().s[9]++,uG(e)?(Pr().b[0][0]++,Pr().s[10]++,t.push(r7e(e))):Pr().b[0][1]++}return Pr().s[11]++,t}function uG(t){Pr().f[2]++;const n=(Pr().s[12]++,t.split(":"));return Pr().s[13]++,Pr().b[1][0]++,n.length===3&&(Pr().b[1][1]++,n[0]===a_)&&(Pr().b[1][2]++,n[1]===lG)}function r7e(t){if(Pr().f[3]++,Pr().s[14]++,uG(t))Pr().b[2][1]++;else throw Pr().b[2][0]++,Pr().s[15]++,"Key is not a valid style key";const n=(Pr().s[16]++,t.split(":")),e=(Pr().s[17]++,n[2]);return Pr().s[18]++,e}function SP(t){return Pr().f[4]++,Pr().s[19]++,[a_,lG,t].join(":")}class EP{constructor(){rn(this,"mapStyles");Pr().f[5]++,Pr().s[20]++,this.mapStyles=n7e()}init(n){Pr().f[6]++,Pr().s[21]++,n(null)}purge(){Pr().f[7]++,Pr().s[22]++;for(let n=(Pr().s[23]++,0);n<window.localStorage.length;n++){const e=(Pr().s[24]++,window.localStorage.key(n));Pr().s[25]++,e.startsWith(a_)?(Pr().b[3][0]++,Pr().s[26]++,window.localStorage.removeItem(e)):Pr().b[3][1]++}}latestStyle(n){if(Pr().f[8]++,Pr().s[27]++,this.mapStyles.length===0)return Pr().b[4][0]++,Pr().s[28]++,MP(n);Pr().b[4][1]++;const e=(Pr().s[29]++,window.localStorage.getItem(wP.latest)),r=(Pr().s[30]++,window.localStorage.getItem(SP(e)));if(Pr().s[31]++,r)return Pr().b[5][0]++,Pr().s[32]++,n(JSON.parse(r));Pr().b[5][1]++,Pr().s[33]++,MP(n)}save(n){Pr().f[9]++,Pr().s[34]++,n=Cu.ensureStyleValidity(n);const e=(Pr().s[35]++,SP(n.id));return Pr().s[36]++,window.localStorage.setItem(e,JSON.stringify(n)),Pr().s[37]++,window.localStorage.setItem(wP.latest,n.id),Pr().s[38]++,n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UE=function(t,n){return UE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},UE(t,n)};function AG(t,n){UE(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function i7e(t){var n=typeof Symbol=="function"&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}function o7e(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function a7e(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(o7e(arguments[n]));return t}var cG=function(){function t(n,e){this.target=e,this.type=n}return t}(),s7e=function(t){AG(n,t);function n(e,r){var i=t.call(this,"error",r)||this;return i.message=e.message,i.error=e,i}return n}(cG),l7e=function(t){AG(n,t);function n(e,r,i){e===void 0&&(e=1e3),r===void 0&&(r="");var o=t.call(this,"close",i)||this;return o.wasClean=!0,o.code=e,o.reason=r,o}return n}(cG);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var u7e=function(){if(typeof WebSocket<"u")return WebSocket},A7e=function(t){return typeof t<"u"&&!!t&&t.CLOSING===2},p0={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},c7e=function(){function t(n,e,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var s=i._options.minUptime,a=s===void 0?p0.minUptime:s;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},a),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(f){return i._ws.send(f)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(f){return i._callEventListener(o,f)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(s){return i._callEventListener(o,s)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(s){return i._callEventListener(o,s)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(s){return i._callEventListener(o,s)})},this._url=n,this._protocols=e,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){var n=this._messageQueue.reduce(function(e,r){return typeof r=="string"?e+=r.length:r instanceof Blob?e+=r.size:e+=r.byteLength,e},0);return n+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(n,e){if(n===void 0&&(n=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,e)},t.prototype.reconnect=function(n,e){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,e),this._connect())},t.prototype.send=function(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{var e=this._options.maxEnqueuedMessages,r=e===void 0?p0.maxEnqueuedMessages:e;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}},t.prototype.addEventListener=function(n,e){this._listeners[n]&&this._listeners[n].push(e)},t.prototype.dispatchEvent=function(n){var e,r,i=this._listeners[n.type];if(i)try{for(var o=i7e(i),s=o.next();!s.done;s=o.next()){var a=s.value;this._callEventListener(n,a)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return!0},t.prototype.removeEventListener=function(n,e){this._listeners[n]&&(this._listeners[n]=this._listeners[n].filter(function(r){return r!==e}))},t.prototype._debug=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._options.debug&&console.log.apply(console,a7e(["RWS>"],n))},t.prototype._getNextDelay=function(){var n=this._options,e=n.reconnectionDelayGrowFactor,r=e===void 0?p0.reconnectionDelayGrowFactor:e,i=n.minReconnectionDelay,o=i===void 0?p0.minReconnectionDelay:i,s=n.maxReconnectionDelay,a=s===void 0?p0.maxReconnectionDelay:s,f=0;return this._retryCount>0&&(f=o*Math.pow(r,this._retryCount-1),f>a&&(f=a)),this._debug("next delay",f),f},t.prototype._wait=function(){var n=this;return new Promise(function(e){setTimeout(e,n._getNextDelay())})},t.prototype._getNextUrl=function(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){var e=n();if(typeof e=="string")return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},t.prototype._connect=function(){var n=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var e=this._options,r=e.maxRetries,i=r===void 0?p0.maxRetries:r,o=e.connectionTimeout,s=o===void 0?p0.connectionTimeout:o,a=e.WebSocket,f=a===void 0?u7e():a;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!A7e(f))throw Error("No valid WebSocket class provided");this._wait().then(function(){return n._getNextUrl(n._url)}).then(function(g){n._closeCalled||(n._debug("connect",{url:g,protocols:n._protocols}),n._ws=n._protocols?new f(g,n._protocols):new f(g),n._ws.binaryType=n._binaryType,n._connectLock=!1,n._addListeners(),n._connectTimeout=setTimeout(function(){return n._handleTimeout()},s))})}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new s7e(Error("TIMEOUT"),this))},t.prototype._disconnect=function(n,e){if(n===void 0&&(n=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(n,e),this._handleClose(new l7e(n,e,this))}catch{}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(n,e){"handleEvent"in e?e.handleEvent(n):e(n)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}();function Ur(){var t="/workspaces/maputnik/src/libs/apistore.ts",n="0c605d1fabb355f82905627f86553a852c670690",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:46,column:6}},16:{start:{line:35,column:6},end:{line:36,column:15}},17:{start:{line:36,column:8},end:{line:36,column:15}},18:{start:{line:37,column:6},end:{line:37,column:52}},19:{start:{line:38,column:24},end:{line:38,column:40}},20:{start:{line:39,column:6},end:{line:43,column:7}},21:{start:{line:40,column:8},end:{line:40,column:41}},22:{start:{line:42,column:8},end:{line:42,column:27}},23:{start:{line:44,column:27},end:{line:44,column:65}},24:{start:{line:45,column:6},end:{line:45,column:44}},25:{start:{line:49,column:4},end:{line:59,column:5}},26:{start:{line:50,column:6},end:{line:56,column:9}},27:{start:{line:53,column:8},end:{line:53,column:31}},28:{start:{line:55,column:8},end:{line:55,column:44}},29:{start:{line:58,column:6},end:{line:58,column:92}},30:{start:{line:63,column:22},end:{line:67,column:5}},31:{start:{line:68,column:15},end:{line:68,column:26}},32:{start:{line:69,column:4},end:{line:79,column:7}},33:{start:{line:77,column:6},end:{line:78,column:29}},34:{start:{line:78,column:8},end:{line:78,column:29}},35:{start:{line:80,column:4},end:{line:80,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:47,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:46,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:18},end:{line:60,column:3}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:52,column:14},end:{line:52,column:15}},loc:{start:{line:52,column:33},end:{line:54,column:7}},line:52},10:{name:"(anonymous_10)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:29},end:{line:56,column:7}},line:54},11:{name:"(anonymous_11)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:17},end:{line:81,column:3}},line:62},12:{name:"(anonymous_12)",decl:{start:{line:76,column:13},end:{line:76,column:14}},loc:{start:{line:76,column:29},end:{line:79,column:5}},line:76}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:36,column:15}},type:"if",locations:[{start:{line:35,column:6},end:{line:36,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:49,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:59,column:5}},{start:{line:57,column:11},end:{line:59,column:5}}],line:49},5:{loc:{start:{line:77,column:6},end:{line:78,column:29}},type:"if",locations:[{start:{line:77,column:6},end:{line:78,column:29}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE;AAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG;AAAO,gBAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0c605d1fabb355f82905627f86553a852c670690"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ur=function(){return s},s}Ur();class d7e{constructor(n){rn(this,"localUrl");rn(this,"websocketUrl");rn(this,"latestStyleId",(Ur().s[0]++,void 0));rn(this,"onLocalStyleChange");Ur().f[0]++,Ur().s[1]++,this.onLocalStyleChange=(Ur().b[0][0]++,n.onLocalStyleChange||(Ur().b[0][1]++,()=>{Ur().f[1]++}));const e=(Ur().s[2]++,Ur().b[1][0]++,n.port||(Ur().b[1][1]++,"8000")),r=(Ur().s[3]++,Ur().b[2][0]++,n.host||(Ur().b[2][1]++,"localhost"));Ur().s[4]++,this.localUrl=`http://${r}:${e}`,Ur().s[5]++,this.websocketUrl=`ws://${r}:${e}/ws`,Ur().s[6]++,this.init=this.init.bind(this)}init(n){Ur().f[2]++,Ur().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(e=>(Ur().f[3]++,Ur().s[8]++,e.json())).then(e=>{Ur().f[4]++;const r=(Ur().s[9]++,e);Ur().s[10]++,this.latestStyleId=r[0],Ur().s[11]++,this.notifyLocalChanges(),Ur().s[12]++,n(null)}).catch(()=>{Ur().f[5]++,Ur().s[13]++,n(new Error("Can not connect to style API"))})}notifyLocalChanges(){Ur().f[6]++;const n=(Ur().s[14]++,new c7e(this.websocketUrl));Ur().s[15]++,n.onmessage=e=>{if(Ur().f[7]++,Ur().s[16]++,e.data)Ur().b[3][1]++;else{Ur().b[3][0]++,Ur().s[17]++;return}Ur().s[18]++,console.log("Received style update from API");let r=(Ur().s[19]++,Cu.emptyStyle);Ur().s[20]++;try{Ur().s[21]++,r=JSON.parse(e.data)}catch(o){Ur().s[22]++,console.error(o)}const i=(Ur().s[23]++,Cu.ensureStyleValidity(r));Ur().s[24]++,this.onLocalStyleChange(i)}}latestStyle(n){if(Ur().f[8]++,Ur().s[25]++,this.latestStyleId)Ur().b[4][0]++,Ur().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(e){return Ur().f[9]++,Ur().s[27]++,e.json()}).then(function(e){Ur().f[10]++,Ur().s[28]++,n(Cu.ensureStyleValidity(e))});else throw Ur().b[4][1]++,Ur().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(n){Ur().f[11]++;const e=(Ur().s[30]++,xF(Cu.stripAccessTokens(Cu.replaceAccessTokens(n)))),r=(Ur().s[31]++,n.id);return Ur().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:e}).catch(function(i){Ur().f[12]++,Ur().s[33]++,i?(Ur().b[5][0]++,Ur().s[34]++,console.error(i)):Ur().b[5][1]++}),Ur().s[35]++,n}}function Ja(){var t="/workspaces/maputnik/src/libs/revisions.ts",n="c556d7dc170a31bdf73e4e0a3c0d80bbea858b62",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:34}},5:{start:{line:16,column:4},end:{line:16,column:22}},6:{start:{line:19,column:4},end:{line:21,column:5}},7:{start:{line:20,column:6},end:{line:20,column:24}},8:{start:{line:22,column:4},end:{line:22,column:24}},9:{start:{line:25,column:4},end:{line:27,column:5}},10:{start:{line:26,column:6},end:{line:26,column:24}},11:{start:{line:28,column:4},end:{line:28,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:17,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:9},end:{line:23,column:3}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:9},end:{line:29,column:3}},line:24}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:19,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},2:{loc:{start:{line:25,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:27,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EACP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c556d7dc170a31bdf73e4e0a3c0d80bbea858b62"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ja=function(){return s},s}Ja();class h7e{constructor(n=(Ja().b[0][0]++,[])){rn(this,"revisions");rn(this,"currentIdx");Ja().f[0]++,Ja().s[0]++,this.revisions=n,Ja().s[1]++,this.currentIdx=n.length-1}get latest(){return Ja().f[1]++,Ja().s[2]++,this.revisions[this.revisions.length-1]}get current(){return Ja().f[2]++,Ja().s[3]++,this.revisions[this.currentIdx]}addRevision(n){Ja().f[3]++,Ja().s[4]++,this.revisions.push(n),Ja().s[5]++,this.currentIdx++}undo(){return Ja().f[4]++,Ja().s[6]++,this.currentIdx>0?(Ja().b[1][0]++,Ja().s[7]++,this.currentIdx--):Ja().b[1][1]++,Ja().s[8]++,this.current}redo(){return Ja().f[5]++,Ja().s[9]++,this.currentIdx<this.revisions.length-1?(Ja().b[2][0]++,Ja().s[10]++,this.currentIdx++):Ja().b[2][1]++,Ja().s[11]++,this.current}}var dG="Expected a function",OP=NaN,f7e="[object Symbol]",p7e=/^\s+|\s+$/g,m7e=/^[-+]0x[0-9a-f]+$/i,g7e=/^0b[01]+$/i,y7e=/^0o[0-7]+$/i,v7e=parseInt,C7e=typeof window=="object"&&window&&window.Object===Object&&window,_7e=typeof self=="object"&&self&&self.Object===Object&&self,b7e=C7e||_7e||Function("return this")(),x7e=Object.prototype,w7e=x7e.toString,M7e=Math.max,S7e=Math.min,zM=function(){return b7e.Date.now()};function E7e(t,n,e){var r,i,o,s,a,f,g=0,x=!1,I=!1,B=!0;if(typeof t!="function")throw new TypeError(dG);n=BP(n)||0,J3(e)&&(x=!!e.leading,I="maxWait"in e,o=I?M7e(BP(e.maxWait)||0,n):o,B="trailing"in e?!!e.trailing:B);function D(oe){var ue=r,me=i;return r=i=void 0,g=oe,s=t.apply(me,ue),s}function L(oe){return g=oe,a=setTimeout(j,n),x?D(oe):s}function V(oe){var ue=oe-f,me=oe-g,De=n-ue;return I?S7e(De,o-me):De}function W(oe){var ue=oe-f,me=oe-g;return f===void 0||ue>=n||ue<0||I&&me>=o}function j(){var oe=zM();if(W(oe))return G(oe);a=setTimeout(j,V(oe))}function G(oe){return a=void 0,B&&r?D(oe):(r=i=void 0,s)}function ee(){a!==void 0&&clearTimeout(a),g=0,r=f=i=a=void 0}function re(){return a===void 0?s:G(zM())}function se(){var oe=zM(),ue=W(oe);if(r=arguments,i=this,f=oe,ue){if(a===void 0)return L(f);if(I)return a=setTimeout(j,n),D(f)}return a===void 0&&(a=setTimeout(j,n)),s}return se.cancel=ee,se.flush=re,se}function O7e(t,n,e){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(dG);return J3(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),E7e(t,n,{leading:r,maxWait:n,trailing:i})}function J3(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function B7e(t){return!!t&&typeof t=="object"}function I7e(t){return typeof t=="symbol"||B7e(t)&&w7e.call(t)==f7e}function BP(t){if(typeof t=="number")return t;if(I7e(t))return OP;if(J3(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=J3(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=t.replace(p7e,"");var e=g7e.test(t);return e||y7e.test(t)?v7e(t.slice(2),e?2:8):m7e.test(t)?OP:+t}var k7e=O7e;const T7e=Qo(k7e);function ei(){var t="/workspaces/maputnik/src/libs/layerwatcher.ts",n="e254016da777b8d88ddc51be94e69ad1d627c1ab",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e254016da777b8d88ddc51be94e69ad1d627c1ab"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return ei=function(){return s},s}ei();class K7e{constructor(n=(ei().b[0][0]++,{})){rn(this,"onSourcesChange");rn(this,"onVectorLayersChange");rn(this,"throttledAnalyzeVectorLayerFields");rn(this,"_sources");rn(this,"_vectorLayers");ei().f[0]++,ei().s[0]++,this.onSourcesChange=(ei().b[1][0]++,n.onSourcesChange||(ei().b[1][1]++,()=>{ei().f[1]++})),ei().s[1]++,this.onVectorLayersChange=(ei().b[2][0]++,n.onVectorLayersChange||(ei().b[2][1]++,()=>{ei().f[2]++})),ei().s[2]++,this._sources={},ei().s[3]++,this._vectorLayers={},ei().s[4]++,this.throttledAnalyzeVectorLayerFields=T7e(this.analyzeVectorLayerFields,5e3)}analyzeMap(n){ei().f[3]++;const e=(ei().s[5]++,{...this._sources});ei().s[6]++,Object.keys(n.style.sourceCaches).forEach(r=>{ei().f[4]++,ei().s[7]++,this._sources[r]=n.style.sourceCaches[r]._source.vectorLayerIds}),ei().s[8]++,u6(e,this._sources)?ei().b[3][1]++:(ei().b[3][0]++,ei().s[9]++,this.onSourcesChange(this._sources)),ei().s[10]++,this.throttledAnalyzeVectorLayerFields(n)}analyzeVectorLayerFields(n){ei().f[5]++;const e=(ei().s[11]++,{...this._vectorLayers});ei().s[12]++,Object.keys(this._sources).forEach(r=>{ei().f[6]++,ei().s[13]++,(ei().b[4][0]++,this._sources[r]||(ei().b[4][1]++,[])).forEach(i=>{ei().f[7]++;const o=(ei().s[14]++,ei().b[5][0]++,this._vectorLayers[i]||(ei().b[5][1]++,{})),s=(ei().s[15]++,{sourceLayer:i});ei().s[16]++,n.querySourceFeatures(r,s).forEach(a=>{ei().f[8]++,ei().s[17]++,Object.keys(a.properties).forEach(f=>{ei().f[9]++;const g=(ei().s[18]++,ei().b[6][0]++,o[f]||(ei().b[6][1]++,{}));ei().s[19]++,g[a.properties[f]]={},ei().s[20]++,o[f]=g})}),ei().s[21]++,this._vectorLayers[i]=o})}),ei().s[22]++,u6(e,this._vectorLayers)?ei().b[7][1]++:(ei().b[7][0]++,ei().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return ei().f[10]++,ei().s[24]++,this._sources}get vectorLayers(){return ei().f[11]++,ei().s[25]++,this._vectorLayers}}function Ro(){var t="/workspaces/maputnik/src/libs/debug.ts",n="a3458445bc5d5a61d28af159abeefbc73441fce8",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a3458445bc5d5a61d28af159abeefbc73441fce8"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return Ro=function(){return s},s}Ro();const bC=(Ro().s[0]++,{});function E8(){Ro().f[0]++;const t=(Ro().s[1]++,new URL(window.location.href).searchParams),n=(Ro().s[2]++,t.get("debug"));return Ro().s[3]++,n?(Ro().b[0][0]++,Ro().s[4]++,!!n.match(/^(|1|true)$/)):(Ro().b[0][1]++,Ro().s[5]++,!1)}function hG(){return Ro().f[1]++,Ro().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function P7e(t,n,e){if(Ro().f[2]++,Ro().s[7]++,E8())Ro().b[1][1]++;else throw Ro().b[1][0]++,Ro().s[8]++,hG();Ro().s[9]++,bC[t]=(Ro().b[2][0]++,bC[t]||(Ro().b[2][1]++,{})),Ro().s[10]++,bC[t][n]=e}function U7e(t,n){if(Ro().f[3]++,Ro().s[11]++,E8())Ro().b[3][1]++;else throw Ro().b[3][0]++,Ro().s[12]++,hG();if(Ro().s[13]++,Object.prototype.hasOwnProperty.call(bC,t))return Ro().b[4][0]++,Ro().s[14]++,bC[t][n];Ro().b[4][1]++}const C0=(Ro().s[15]++,{enabled:E8,get:U7e,set:P7e});Ro().s[16]++;window.debug=C0;function ae(){var t="/workspaces/maputnik/src/components/App.tsx",n="092de7af0fac2d32d97c1a6acb1dde11c77c8654",e=globalThis,r="__coverage__",i={path:"/workspaces/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:37,column:0},end:{line:37,column:30}},1:{start:{line:39,column:29},end:{line:39,column:60}},2:{start:{line:40,column:26},end:{line:40,column:54}},3:{start:{line:41,column:31},end:{line:41,column:64}},4:{start:{line:42,column:2},end:{line:54,column:3}},5:{start:{line:43,column:24},end:{line:43,column:95}},6:{start:{line:44,column:4},end:{line:46,column:5}},7:{start:{line:45,column:6},end:{line:45,column:47}},8:{start:{line:47,column:9},end:{line:54,column:3}},9:{start:{line:48,column:24},end:{line:48,column:96}},10:{start:{line:49,column:4},end:{line:51,column:5}},11:{start:{line:50,column:6},end:{line:50,column:47}},12:{start:{line:53,column:4},end:{line:53,column:15}},13:{start:{line:57,column:2},end:{line:66,column:4}},14:{start:{line:72,column:15},end:{line:72,column:19}},15:{start:{line:74,column:4},end:{line:74,column:17}},16:{start:{line:75,column:4},end:{line:75,column:19}},17:{start:{line:76,column:4},end:{line:76,column:45}},18:{start:{line:77,column:19},end:{line:77,column:75}},19:{start:{line:78,column:15},end:{line:78,column:38}},20:{start:{line:79,column:4},end:{line:81,column:5}},21:{start:{line:80,column:6},end:{line:80,column:34}},22:{start:{line:82,column:4},end:{line:86,column:7}},23:{start:{line:83,column:40},end:{line:83,column:86}},24:{start:{line:87,column:22},end:{line:138,column:5}},25:{start:{line:91,column:10},end:{line:91,column:40}},26:{start:{line:97,column:10},end:{line:97,column:35}},27:{start:{line:103,column:10},end:{line:103,column:37}},28:{start:{line:109,column:10},end:{line:109,column:38}},29:{start:{line:115,column:10},end:{line:115,column:39}},30:{start:{line:121,column:10},end:{line:123,column:12}},31:{start:{line:129,column:10},end:{line:129,column:63}},32:{start:{line:135,column:10},end:{line:135,column:36}},33:{start:{line:139,column:4},end:{line:152,column:7}},34:{start:{line:140,column:6},end:{line:151,column:7}},35:{start:{line:141,column:8},end:{line:141,column:24}},36:{start:{line:142,column:8},end:{line:142,column:30}},37:{start:{line:143,column:13},end:{line:151,column:7}},38:{start:{line:144,column:25},end:{line:146,column:10}},39:{start:{line:145,column:10},end:{line:145,column:41}},40:{start:{line:147,column:8},end:{line:150,column:9}},41:{start:{line:148,column:10},end:{line:148,column:44}},42:{start:{line:149,column:10},end:{line:149,column:29}},43:{start:{line:153,column:21},end:{line:153,column:38}},44:{start:{line:154,column:4},end:{line:173,column:5}},45:{start:{line:155,column:6},end:{line:155,column:41}},46:{start:{line:156,column:6},end:{line:156,column:74}},47:{start:{line:156,column:43},end:{line:156,column:72}},48:{start:{line:157,column:6},end:{line:157,column:31}},49:{start:{line:159,column:6},end:{line:161,column:7}},50:{start:{line:160,column:8},end:{line:160,column:33}},51:{start:{line:162,column:6},end:{line:172,column:9}},52:{start:{line:163,column:8},end:{line:166,column:9}},53:{start:{line:164,column:10},end:{line:164,column:74}},54:{start:{line:165,column:10},end:{line:165,column:45}},55:{start:{line:167,column:8},end:{line:167,column:104}},56:{start:{line:167,column:50},end:{line:167,column:102}},57:{start:{line:168,column:8},end:{line:171,column:9}},58:{start:{line:169,column:10},end:{line:169,column:63}},59:{start:{line:170,column:10},end:{line:170,column:69}},60:{start:{line:174,column:4},end:{line:177,column:5}},61:{start:{line:175,column:6},end:{line:175,column:65}},62:{start:{line:176,column:6},end:{line:176,column:59}},63:{start:{line:178,column:4},end:{line:212,column:6}},64:{start:{line:213,column:4},end:{line:215,column:7}},65:{start:{line:214,column:35},end:{line:214,column:69}},66:{start:{line:217,column:19},end:{line:235,column:3}},67:{start:{line:218,column:4},end:{line:234,column:5}},68:{start:{line:219,column:6},end:{line:225,column:7}},69:{start:{line:220,column:8},end:{line:220,column:27}},70:{start:{line:221,column:8},end:{line:221,column:22}},71:{start:{line:222,column:13},end:{line:225,column:7}},72:{start:{line:223,column:8},end:{line:223,column:27}},73:{start:{line:224,column:8},end:{line:224,column:22}},74:{start:{line:227,column:6},end:{line:233,column:7}},75:{start:{line:228,column:8},end:{line:228,column:27}},76:{start:{line:229,column:8},end:{line:229,column:22}},77:{start:{line:230,column:13},end:{line:233,column:7}},78:{start:{line:231,column:8},end:{line:231,column:27}},79:{start:{line:232,column:8},end:{line:232,column:22}},80:{start:{line:237,column:4},end:{line:237,column:60}},81:{start:{line:240,column:4},end:{line:240,column:63}},82:{start:{line:243,column:4},end:{line:243,column:40}},83:{start:{line:246,column:21},end:{line:246,column:55}},84:{start:{line:247,column:24},end:{line:247,column:93}},85:{start:{line:248,column:21},end:{line:248,column:110}},86:{start:{line:249,column:4},end:{line:251,column:7}},87:{start:{line:250,column:6},end:{line:250,column:80}},88:{start:{line:254,column:4},end:{line:256,column:7}},89:{start:{line:255,column:6},end:{line:255,column:80}},90:{start:{line:258,column:29},end:{line:272,column:3}},91:{start:{line:259,column:4},end:{line:263,column:5}},92:{start:{line:260,column:6},end:{line:262,column:9}},93:{start:{line:264,column:25},end:{line:270,column:5}},94:{start:{line:271,column:4},end:{line:271,column:38}},95:{start:{line:273,column:19},end:{line:385,column:3}},96:{start:{line:274,column:4},end:{line:279,column:6}},97:{start:{line:280,column:4},end:{line:282,column:5}},98:{start:{line:281,column:6},end:{line:281,column:44}},99:{start:{line:283,column:19},end:{line:283,column:51}},100:{start:{line:284,column:24},end:{line:284,column:26}},101:{start:{line:285,column:4},end:{line:296,column:5}},102:{start:{line:286,column:26},end:{line:286,column:42}},103:{start:{line:287,column:6},end:{line:295,column:9}},104:{start:{line:288,column:8},end:{line:293,column:9}},105:{start:{line:289,column:24},end:{line:291,column:11}},106:{start:{line:292,column:10},end:{line:292,column:34}},107:{start:{line:294,column:8},end:{line:294,column:40}},108:{start:{line:297,column:25},end:{line:348,column:6}},109:{start:{line:298,column:23},end:{line:298,column:109}},110:{start:{line:299,column:6},end:{line:312,column:7}},111:{start:{line:300,column:35},end:{line:300,column:43}},112:{start:{line:301,column:8},end:{line:311,column:10}},113:{start:{line:313,column:33},end:{line:313,column:100}},114:{start:{line:314,column:6},end:{line:327,column:7}},115:{start:{line:315,column:35},end:{line:315,column:53}},116:{start:{line:316,column:8},end:{line:326,column:10}},117:{start:{line:328,column:25},end:{line:328,column:88}},118:{start:{line:329,column:6},end:{line:347,column:7}},119:{start:{line:330,column:52},end:{line:330,column:62}},120:{start:{line:331,column:20},end:{line:331,column:78}},121:{start:{line:332,column:8},end:{line:342,column:10}},122:{start:{line:344,column:8},end:{line:346,column:10}},123:{start:{line:349,column:24},end:{line:349,column:30}},124:{start:{line:350,column:4},end:{line:364,column:5}},125:{start:{line:351,column:6},end:{line:351,column:42}},126:{start:{line:352,column:6},end:{line:363,column:9}},127:{start:{line:353,column:28},end:{line:353,column:33}},128:{start:{line:354,column:8},end:{line:362,column:9}},129:{start:{line:355,column:10},end:{line:361,column:11}},130:{start:{line:356,column:28},end:{line:356,column:49}},131:{start:{line:357,column:30},end:{line:357,column:69}},132:{start:{line:358,column:12},end:{line:358,column:44}},133:{start:{line:360,column:12},end:{line:360,column:30}},134:{start:{line:365,column:4},end:{line:367,column:5}},135:{start:{line:366,column:6},end:{line:366,column:40}},136:{start:{line:368,column:4},end:{line:370,column:5}},137:{start:{line:369,column:6},end:{line:369,column:40}},138:{start:{line:371,column:4},end:{line:373,column:5}},139:{start:{line:372,column:6},end:{line:372,column:47}},140:{start:{line:374,column:4},end:{line:376,column:5}},141:{start:{line:375,column:6},end:{line:375,column:31}},142:{start:{line:377,column:4},end:{line:384,column:7}},143:{start:{line:382,column:6},end:{line:382,column:26}},144:{start:{line:383,column:6},end:{line:383,column:27}},145:{start:{line:386,column:11},end:{line:393,column:3}},146:{start:{line:387,column:24},end:{line:387,column:49}},147:{start:{line:388,column:21},end:{line:388,column:67}},148:{start:{line:389,column:4},end:{line:389,column:61}},149:{start:{line:390,column:4},end:{line:392,column:7}},150:{start:{line:394,column:11},end:{line:401,column:3}},151:{start:{line:395,column:24},end:{line:395,column:49}},152:{start:{line:396,column:21},end:{line:396,column:67}},153:{start:{line:397,column:4},end:{line:397,column:61}},154:{start:{line:398,column:4},end:{line:400,column:7}},155:{start:{line:402,column:16},end:{line:417,column:3}},156:{start:{line:403,column:33},end:{line:403,column:37}},157:{start:{line:404,column:17},end:{line:404,column:43}},158:{start:{line:405,column:4},end:{line:405,column:53}},159:{start:{line:406,column:4},end:{line:406,column:53}},160:{start:{line:407,column:4},end:{line:408,column:13}},161:{start:{line:408,column:6},end:{line:408,column:13}},162:{start:{line:409,column:4},end:{line:413,column:5}},163:{start:{line:410,column:6},end:{line:412,column:9}},164:{start:{line:414,column:4},end:{line:414,column:29}},165:{start:{line:415,column:4},end:{line:415,column:49}},166:{start:{line:416,column:4},end:{line:416,column:32}},167:{start:{line:418,column:19},end:{line:424,column:3}},168:{start:{line:419,column:25},end:{line:422,column:5}},169:{start:{line:423,column:4},end:{line:423,column:38}},170:{start:{line:425,column:19},end:{line:430,column:3}},171:{start:{line:426,column:19},end:{line:426,column:45}},172:{start:{line:427,column:28},end:{line:427,column:43}},173:{start:{line:428,column:4},end:{line:428,column:37}},174:{start:{line:429,column:4},end:{line:429,column:41}},175:{start:{line:431,column:16},end:{line:438,column:3}},176:{start:{line:432,column:19},end:{line:432,column:45}},177:{start:{line:433,column:26},end:{line:433,column:41}},178:{start:{line:434,column:24},end:{line:434,column:55}},179:{start:{line:435,column:4},end:{line:435,column:46}},180:{start:{line:436,column:4},end:{line:436,column:48}},181:{start:{line:437,column:4},end:{line:437,column:39}},182:{start:{line:439,column:28},end:{line:448,column:3}},183:{start:{line:440,column:19},end:{line:440,column:45}},184:{start:{line:441,column:26},end:{line:441,column:41}},185:{start:{line:442,column:18},end:{line:442,column:45}},186:{start:{line:443,column:26},end:{line:443,column:70}},187:{start:{line:444,column:4},end:{line:444,column:88}},188:{start:{line:445,column:4},end:{line:445,column:33}},189:{start:{line:446,column:4},end:{line:446,column:33}},190:{start:{line:447,column:4},end:{line:447,column:39}},191:{start:{line:449,column:20},end:{line:456,column:3}},192:{start:{line:450,column:26},end:{line:450,column:61}},193:{start:{line:451,column:4},end:{line:454,column:6}},194:{start:{line:455,column:4},end:{line:455,column:39}},195:{start:{line:457,column:19},end:{line:461,column:3}},196:{start:{line:458,column:26},end:{line:458,column:61}},197:{start:{line:459,column:4},end:{line:459,column:33}},198:{start:{line:460,column:4},end:{line:460,column:39}},199:{start:{line:462,column:16},end:{line:466,column:3}},200:{start:{line:463,column:4},end:{line:465,column:27}},201:{start:{line:467,column:21},end:{line:481,column:3}},202:{start:{line:468,column:21},end:{line:468,column:44}},203:{start:{line:469,column:4},end:{line:480,column:5}},204:{start:{line:470,column:27},end:{line:476,column:7}},205:{start:{line:477,column:6},end:{line:477,column:26}},206:{start:{line:479,column:6},end:{line:479,column:22}},207:{start:{line:482,column:14},end:{line:485,column:3}},208:{start:{line:483,column:4},end:{line:483,column:47}},209:{start:{line:484,column:4},end:{line:484,column:34}},210:{start:{line:487,column:23},end:{line:487,column:25}},211:{start:{line:488,column:4},end:{line:522,column:5}},212:{start:{line:489,column:6},end:{line:521,column:7}},213:{start:{line:490,column:8},end:{line:493,column:10}},214:{start:{line:494,column:18},end:{line:494,column:25}},215:{start:{line:495,column:8},end:{line:499,column:9}},216:{start:{line:496,column:10},end:{line:496,column:62}},217:{start:{line:498,column:10},end:{line:498,column:63}},218:{start:{line:500,column:8},end:{line:518,column:11}},219:{start:{line:502,column:30},end:{line:502,column:45}},220:{start:{line:503,column:10},end:{line:505,column:11}},221:{start:{line:504,column:12},end:{line:504,column:19}},222:{start:{line:506,column:26},end:{line:508,column:12}},223:{start:{line:509,column:10},end:{line:511,column:11}},224:{start:{line:510,column:12},end:{line:510,column:47}},225:{start:{line:512,column:10},end:{line:512,column:51}},226:{start:{line:513,column:10},end:{line:515,column:13}},227:{start:{line:517,column:10},end:{line:517,column:72}},228:{start:{line:520,column:8},end:{line:520,column:86}},229:{start:{line:523,column:4},end:{line:528,column:5}},230:{start:{line:524,column:6},end:{line:524,column:39}},231:{start:{line:525,column:6},end:{line:527,column:9}},232:{start:{line:531,column:21},end:{line:531,column:55}},233:{start:{line:532,column:4},end:{line:532,column:53}},234:{start:{line:534,column:16},end:{line:538,column:3}},235:{start:{line:535,column:4},end:{line:537,column:7}},236:{start:{line:540,column:40},end:{line:540,column:50}},237:{start:{line:541,column:21},end:{line:552,column:5}},238:{start:{line:544,column:8},end:{line:546,column:11}},239:{start:{line:549,column:8},end:{line:549,column:44}},240:{start:{line:550,column:8},end:{line:550,column:28}},241:{start:{line:553,column:21},end:{line:553,column:40}},242:{start:{line:555,column:4},end:{line:577,column:5}},243:{start:{line:556,column:6},end:{line:564,column:8}},244:{start:{line:566,column:6},end:{line:576,column:8}},245:{start:{line:579,column:4},end:{line:581,column:5}},246:{start:{line:580,column:6},end:{line:580,column:63}},247:{start:{line:582,column:25},end:{line:582,column:27}},248:{start:{line:583,column:4},end:{line:585,column:5}},249:{start:{line:584,column:6},end:{line:584,column:52}},250:{start:{line:586,column:4},end:{line:586,column:160}},251:{start:{line:588,column:18},end:{line:606,column:3}},252:{start:{line:589,column:43},end:{line:589,column:53}},253:{start:{line:590,column:35},end:{line:590,column:45}},254:{start:{line:591,column:16},end:{line:591,column:38}},255:{start:{line:592,column:20},end:{line:592,column:50}},256:{start:{line:593,column:4},end:{line:593,column:70}},257:{start:{line:594,column:23},end:{line:594,column:122}},258:{start:{line:594,column:66},end:{line:594,column:91}},259:{start:{line:594,column:109},end:{line:594,column:121}},260:{start:{line:595,column:4},end:{line:599,column:5}},261:{start:{line:596,column:6},end:{line:596,column:58}},262:{start:{line:598,column:6},end:{line:598,column:39}},263:{start:{line:600,column:4},end:{line:604,column:5}},264:{start:{line:601,column:6},end:{line:601,column:38}},265:{start:{line:602,column:11},end:{line:604,column:5}},266:{start:{line:603,column:6},end:{line:603,column:46}},267:{start:{line:605,column:4},end:{line:605,column:71}},268:{start:{line:607,column:27},end:{line:652,column:3}},269:{start:{line:608,column:16},end:{line:608,column:38}},270:{start:{line:609,column:23},end:{line:609,column:52}},271:{start:{line:610,column:4},end:{line:622,column:5}},272:{start:{line:611,column:21},end:{line:611,column:42}},273:{start:{line:612,column:23},end:{line:612,column:25}},274:{start:{line:613,column:6},end:{line:615,column:9}},275:{start:{line:614,column:8},end:{line:614,column:35}},276:{start:{line:616,column:6},end:{line:621,column:9}},277:{start:{line:623,column:17},end:{line:623,column:45}},278:{start:{line:624,column:4},end:{line:626,column:5}},279:{start:{line:625,column:6},end:{line:625,column:29}},280:{start:{line:627,column:17},end:{line:627,column:46}},281:{start:{line:628,column:4},end:{line:651,column:5}},282:{start:{line:629,column:6},end:{line:650,column:7}},283:{start:{line:630,column:22},end:{line:630,column:37}},284:{start:{line:631,column:46},end:{line:634,column:9}},285:{start:{line:635,column:20},end:{line:635,column:24}},286:{start:{line:636,column:8},end:{line:641,column:9}},287:{start:{line:637,column:33},end:{line:637,column:63}},288:{start:{line:638,column:10},end:{line:640,column:11}},289:{start:{line:639,column:12},end:{line:639,column:26}},290:{start:{line:642,column:8},end:{line:647,column:9}},291:{start:{line:643,column:10},end:{line:646,column:13}},292:{start:{line:649,column:8},end:{line:649,column:26}},293:{start:{line:653,column:18},end:{line:658,column:3}},294:{start:{line:654,column:4},end:{line:657,column:27}},295:{start:{line:660,column:4},end:{line:662,column:5}},296:{start:{line:661,column:6},end:{line:661,column:41}},297:{start:{line:663,column:4},end:{line:668,column:27}},298:{start:{line:671,column:4},end:{line:671,column:60}},299:{start:{line:673,column:28},end:{line:680,column:3}},300:{start:{line:674,column:4},end:{line:679,column:7}},301:{start:{line:681,column:28},end:{line:688,column:3}},302:{start:{line:682,column:4},end:{line:687,column:7}},303:{start:{line:690,column:19},end:{line:690,column:51}},304:{start:{line:691,column:26},end:{line:691,column:92}},305:{start:{line:692,column:36},end:{line:705,column:5}},306:{start:{line:706,column:38},end:{line:720,column:5}},307:{start:{line:721,column:24},end:{line:740,column:14}},308:{start:{line:741,column:24},end:{line:751,column:14}},309:{start:{line:752,column:35},end:{line:817,column:8}},310:{start:{line:769,column:23},end:{line:769,column:43}},311:{start:{line:818,column:4},end:{line:828,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:38,column:9},end:{line:38,column:28}},loc:{start:{line:38,column:44},end:{line:55,column:1}},line:38},1:{name:"updateRootSpec",decl:{start:{line:56,column:9},end:{line:56,column:23}},loc:{start:{line:56,column:52},end:{line:67,column:1}},line:56},2:{name:"(anonymous_2)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:21},end:{line:216,column:3}},line:73},3:{name:"(anonymous_3)",decl:{start:{line:83,column:26},end:{line:83,column:27}},loc:{start:{line:83,column:40},end:{line:83,column:86}},line:83},4:{name:"(anonymous_4)",decl:{start:{line:90,column:17},end:{line:90,column:18}},loc:{start:{line:90,column:23},end:{line:92,column:9}},line:90},5:{name:"(anonymous_5)",decl:{start:{line:96,column:17},end:{line:96,column:18}},loc:{start:{line:96,column:23},end:{line:98,column:9}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:102,column:17},end:{line:102,column:18}},loc:{start:{line:102,column:23},end:{line:104,column:9}},line:102},7:{name:"(anonymous_7)",decl:{start:{line:108,column:17},end:{line:108,column:18}},loc:{start:{line:108,column:23},end:{line:110,column:9}},line:108},8:{name:"(anonymous_8)",decl:{start:{line:114,column:17},end:{line:114,column:18}},loc:{start:{line:114,column:23},end:{line:116,column:9}},line:114},9:{name:"(anonymous_9)",decl:{start:{line:120,column:17},end:{line:120,column:18}},loc:{start:{line:120,column:23},end:{line:124,column:9}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:128,column:17},end:{line:128,column:18}},loc:{start:{line:128,column:23},end:{line:130,column:9}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:134,column:17},end:{line:134,column:18}},loc:{start:{line:134,column:23},end:{line:136,column:9}},line:134},12:{name:"(anonymous_12)",decl:{start:{line:139,column:44},end:{line:139,column:45}},loc:{start:{line:139,column:51},end:{line:152,column:5}},line:139},13:{name:"(anonymous_13)",decl:{start:{line:144,column:40},end:{line:144,column:41}},loc:{start:{line:144,column:55},end:{line:146,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:156,column:29},end:{line:156,column:30}},loc:{start:{line:156,column:43},end:{line:156,column:72}},line:156},15:{name:"(anonymous_15)",decl:{start:{line:162,column:27},end:{line:162,column:28}},loc:{start:{line:162,column:36},end:{line:172,column:7}},line:162},16:{name:"(anonymous_16)",decl:{start:{line:167,column:36},end:{line:167,column:37}},loc:{start:{line:167,column:50},end:{line:167,column:102}},line:167},17:{name:"(anonymous_17)",decl:{start:{line:214,column:28},end:{line:214,column:29}},loc:{start:{line:214,column:35},end:{line:214,column:69}},line:214},18:{name:"(anonymous_18)",decl:{start:{line:217,column:19},end:{line:217,column:20}},loc:{start:{line:217,column:26},end:{line:235,column:3}},line:217},19:{name:"(anonymous_19)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:22},end:{line:238,column:3}},line:236},20:{name:"(anonymous_20)",decl:{start:{line:239,column:2},end:{line:239,column:3}},loc:{start:{line:239,column:25},end:{line:241,column:3}},line:239},21:{name:"(anonymous_21)",decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:27},end:{line:244,column:3}},line:242},22:{name:"(anonymous_22)",decl:{start:{line:245,column:2},end:{line:245,column:3}},loc:{start:{line:245,column:27},end:{line:252,column:3}},line:245},23:{name:"(anonymous_23)",decl:{start:{line:249,column:37},end:{line:249,column:38}},loc:{start:{line:249,column:48},end:{line:251,column:5}},line:249},24:{name:"(anonymous_24)",decl:{start:{line:253,column:2},end:{line:253,column:3}},loc:{start:{line:253,column:23},end:{line:257,column:3}},line:253},25:{name:"(anonymous_25)",decl:{start:{line:254,column:36},end:{line:254,column:37}},loc:{start:{line:254,column:47},end:{line:256,column:5}},line:254},26:{name:"(anonymous_26)",decl:{start:{line:258,column:29},end:{line:258,column:30}},loc:{start:{line:258,column:50},end:{line:272,column:3}},line:258},27:{name:"(anonymous_27)",decl:{start:{line:273,column:19},end:{line:273,column:20}},loc:{start:{line:273,column:44},end:{line:385,column:3}},line:273},28:{name:"(anonymous_28)",decl:{start:{line:287,column:30},end:{line:287,column:31}},loc:{start:{line:287,column:48},end:{line:295,column:7}},line:287},29:{name:"(anonymous_29)",decl:{start:{line:297,column:56},end:{line:297,column:57}},loc:{start:{line:297,column:67},end:{line:348,column:5}},line:297},30:{name:"(anonymous_30)",decl:{start:{line:352,column:21},end:{line:352,column:22}},loc:{start:{line:352,column:32},end:{line:363,column:7}},line:352},31:{name:"(anonymous_31)",decl:{start:{line:381,column:7},end:{line:381,column:8}},loc:{start:{line:381,column:13},end:{line:384,column:5}},line:381},32:{name:"(anonymous_32)",decl:{start:{line:386,column:11},end:{line:386,column:12}},loc:{start:{line:386,column:17},end:{line:393,column:3}},line:386},33:{name:"(anonymous_33)",decl:{start:{line:394,column:11},end:{line:394,column:12}},loc:{start:{line:394,column:17},end:{line:401,column:3}},line:394},34:{name:"(anonymous_34)",decl:{start:{line:402,column:16},end:{line:402,column:17}},loc:{start:{line:402,column:26},end:{line:417,column:3}},line:402},35:{name:"(anonymous_35)",decl:{start:{line:418,column:19},end:{line:418,column:20}},loc:{start:{line:418,column:38},end:{line:424,column:3}},line:418},36:{name:"(anonymous_36)",decl:{start:{line:425,column:19},end:{line:425,column:20}},loc:{start:{line:425,column:30},end:{line:430,column:3}},line:425},37:{name:"(anonymous_37)",decl:{start:{line:431,column:16},end:{line:431,column:17}},loc:{start:{line:431,column:27},end:{line:438,column:3}},line:431},38:{name:"(anonymous_38)",decl:{start:{line:439,column:28},end:{line:439,column:29}},loc:{start:{line:439,column:39},end:{line:448,column:3}},line:439},39:{name:"(anonymous_39)",decl:{start:{line:449,column:20},end:{line:449,column:21}},loc:{start:{line:449,column:46},end:{line:456,column:3}},line:449},40:{name:"(anonymous_40)",decl:{start:{line:457,column:19},end:{line:457,column:20}},loc:{start:{line:457,column:37},end:{line:461,column:3}},line:457},41:{name:"(anonymous_41)",decl:{start:{line:462,column:16},end:{line:462,column:17}},loc:{start:{line:462,column:30},end:{line:466,column:3}},line:462},42:{name:"(anonymous_42)",decl:{start:{line:467,column:21},end:{line:467,column:22}},loc:{start:{line:467,column:35},end:{line:481,column:3}},line:467},43:{name:"(anonymous_43)",decl:{start:{line:482,column:14},end:{line:482,column:15}},loc:{start:{line:482,column:28},end:{line:485,column:3}},line:482},44:{name:"(anonymous_44)",decl:{start:{line:486,column:2},end:{line:486,column:3}},loc:{start:{line:486,column:17},end:{line:529,column:3}},line:486},45:{name:"(anonymous_45)",decl:{start:{line:502,column:16},end:{line:502,column:17}},loc:{start:{line:502,column:30},end:{line:502,column:45}},line:502},46:{name:"(anonymous_46)",decl:{start:{line:502,column:52},end:{line:502,column:53}},loc:{start:{line:502,column:62},end:{line:516,column:9}},line:502},47:{name:"(anonymous_47)",decl:{start:{line:516,column:17},end:{line:516,column:18}},loc:{start:{line:516,column:26},end:{line:518,column:9}},line:516},48:{name:"(anonymous_48)",decl:{start:{line:530,column:2},end:{line:530,column:3}},loc:{start:{line:530,column:17},end:{line:533,column:3}},line:530},49:{name:"(anonymous_49)",decl:{start:{line:534,column:16},end:{line:534,column:17}},loc:{start:{line:534,column:29},end:{line:538,column:3}},line:534},50:{name:"(anonymous_50)",decl:{start:{line:539,column:2},end:{line:539,column:3}},loc:{start:{line:539,column:16},end:{line:587,column:3}},line:539},51:{name:"(anonymous_51)",decl:{start:{line:543,column:27},end:{line:543,column:28}},loc:{start:{line:543,column:42},end:{line:547,column:7}},line:543},52:{name:"(anonymous_52)",decl:{start:{line:548,column:20},end:{line:548,column:21}},loc:{start:{line:548,column:27},end:{line:551,column:7}},line:548},53:{name:"(anonymous_53)",decl:{start:{line:588,column:18},end:{line:588,column:19}},loc:{start:{line:588,column:24},end:{line:606,column:3}},line:588},54:{name:"(anonymous_54)",decl:{start:{line:594,column:50},end:{line:594,column:51}},loc:{start:{line:594,column:66},end:{line:594,column:91}},line:594},55:{name:"(anonymous_55)",decl:{start:{line:594,column:100},end:{line:594,column:101}},loc:{start:{line:594,column:109},end:{line:594,column:121}},line:594},56:{name:"(anonymous_56)",decl:{start:{line:607,column:27},end:{line:607,column:28}},loc:{start:{line:607,column:41},end:{line:652,column:3}},line:607},57:{name:"(anonymous_57)",decl:{start:{line:613,column:21},end:{line:613,column:22}},loc:{start:{line:613,column:36},end:{line:615,column:7}},line:613},58:{name:"(anonymous_58)",decl:{start:{line:653,column:18},end:{line:653,column:19}},loc:{start:{line:653,column:29},end:{line:658,column:3}},line:653},59:{name:"(anonymous_59)",decl:{start:{line:659,column:2},end:{line:659,column:3}},loc:{start:{line:659,column:29},end:{line:669,column:3}},line:659},60:{name:"(anonymous_60)",decl:{start:{line:670,column:2},end:{line:670,column:3}},loc:{start:{line:670,column:25},end:{line:672,column:3}},line:670},61:{name:"(anonymous_61)",decl:{start:{line:673,column:28},end:{line:673,column:29}},loc:{start:{line:673,column:44},end:{line:680,column:3}},line:673},62:{name:"(anonymous_62)",decl:{start:{line:681,column:28},end:{line:681,column:29}},loc:{start:{line:681,column:44},end:{line:688,column:3}},line:681},63:{name:"(anonymous_63)",decl:{start:{line:689,column:2},end:{line:689,column:3}},loc:{start:{line:689,column:11},end:{line:829,column:3}},line:689},64:{name:"(anonymous_64)",decl:{start:{line:769,column:15},end:{line:769,column:16}},loc:{start:{line:769,column:23},end:{line:769,column:43}},line:769}},branchMap:{0:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:47,column:9},end:{line:54,column:3}}],line:42},1:{loc:{start:{line:42,column:6},end:{line:42,column:43}},type:"binary-expr",locations:[{start:{line:42,column:6},end:{line:42,column:24}},{start:{line:42,column:28},end:{line:42,column:43}}],line:42},2:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},3:{loc:{start:{line:47,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:47,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:47},4:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},5:{loc:{start:{line:79,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:81,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},6:{loc:{start:{line:79,column:8},end:{line:79,column:89}},type:"binary-expr",locations:[{start:{line:79,column:8},end:{line:79,column:20}},{start:{line:79,column:25},end:{line:79,column:54}},{start:{line:79,column:58},end:{line:79,column:88}}],line:79},7:{loc:{start:{line:122,column:12},end:{line:122,column:61}},type:"cond-expr",locations:[{start:{line:122,column:44},end:{line:122,column:53}},{start:{line:122,column:56},end:{line:122,column:61}}],line:122},8:{loc:{start:{line:140,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:140,column:6},end:{line:151,column:7}},{start:{line:143,column:13},end:{line:151,column:7}}],line:140},9:{loc:{start:{line:143,column:13},end:{line:151,column:7}},type:"if",locations:[{start:{line:143,column:13},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:143},10:{loc:{start:{line:143,column:17},end:{line:143,column:88}},type:"binary-expr",locations:[{start:{line:143,column:17},end:{line:143,column:44}},{start:{line:143,column:48},end:{line:143,column:88}}],line:143},11:{loc:{start:{line:147,column:8},end:{line:150,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:150,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},12:{loc:{start:{line:154,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:173,column:5}},{start:{line:158,column:11},end:{line:173,column:5}}],line:154},13:{loc:{start:{line:154,column:8},end:{line:154,column:104}},type:"binary-expr",locations:[{start:{line:154,column:8},end:{line:154,column:16}},{start:{line:154,column:20},end:{line:154,column:104}}],line:154},14:{loc:{start:{line:159,column:6},end:{line:161,column:7}},type:"if",locations:[{start:{line:159,column:6},end:{line:161,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},15:{loc:{start:{line:163,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:166,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:163},16:{loc:{start:{line:168,column:8},end:{line:171,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:171,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:168},17:{loc:{start:{line:174,column:4},end:{line:177,column:5}},type:"if",locations:[{start:{line:174,column:4},end:{line:177,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},18:{loc:{start:{line:218,column:4},end:{line:234,column:5}},type:"if",locations:[{start:{line:218,column:4},end:{line:234,column:5}},{start:{line:226,column:11},end:{line:234,column:5}}],line:218},19:{loc:{start:{line:219,column:6},end:{line:225,column:7}},type:"if",locations:[{start:{line:219,column:6},end:{line:225,column:7}},{start:{line:222,column:13},end:{line:225,column:7}}],line:219},20:{loc:{start:{line:219,column:10},end:{line:219,column:53}},type:"binary-expr",locations:[{start:{line:219,column:10},end:{line:219,column:19}},{start:{line:219,column:23},end:{line:219,column:33}},{start:{line:219,column:37},end:{line:219,column:53}}],line:219},21:{loc:{start:{line:222,column:13},end:{line:225,column:7}},type:"if",locations:[{start:{line:222,column:13},end:{line:225,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:222},22:{loc:{start:{line:222,column:17},end:{line:222,column:46}},type:"binary-expr",locations:[{start:{line:222,column:17},end:{line:222,column:26}},{start:{line:222,column:30},end:{line:222,column:46}}],line:222},23:{loc:{start:{line:227,column:6},end:{line:233,column:7}},type:"if",locations:[{start:{line:227,column:6},end:{line:233,column:7}},{start:{line:230,column:13},end:{line:233,column:7}}],line:227},24:{loc:{start:{line:227,column:10},end:{line:227,column:39}},type:"binary-expr",locations:[{start:{line:227,column:10},end:{line:227,column:19}},{start:{line:227,column:23},end:{line:227,column:39}}],line:227},25:{loc:{start:{line:230,column:13},end:{line:233,column:7}},type:"if",locations:[{start:{line:230,column:13},end:{line:233,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:230},26:{loc:{start:{line:230,column:17},end:{line:230,column:46}},type:"binary-expr",locations:[{start:{line:230,column:17},end:{line:230,column:26}},{start:{line:230,column:30},end:{line:230,column:46}}],line:230},27:{loc:{start:{line:246,column:21},end:{line:246,column:55}},type:"binary-expr",locations:[{start:{line:246,column:21},end:{line:246,column:49}},{start:{line:246,column:53},end:{line:246,column:55}}],line:246},28:{loc:{start:{line:247,column:24},end:{line:247,column:93}},type:"binary-expr",locations:[{start:{line:247,column:24},end:{line:247,column:70}},{start:{line:247,column:74},end:{line:247,column:93}}],line:247},29:{loc:{start:{line:248,column:21},end:{line:248,column:110}},type:"cond-expr",locations:[{start:{line:248,column:55},end:{line:248,column:96}},{start:{line:248,column:99},end:{line:248,column:110}}],line:248},30:{loc:{start:{line:259,column:4},end:{line:263,column:5}},type:"if",locations:[{start:{line:259,column:4},end:{line:263,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:259},31:{loc:{start:{line:259,column:8},end:{line:259,column:123}},type:"binary-expr",locations:[{start:{line:259,column:8},end:{line:259,column:40}},{start:{line:259,column:44},end:{line:259,column:123}}],line:259},32:{loc:{start:{line:273,column:30},end:{line:273,column:39}},type:"default-arg",locations:[{start:{line:273,column:37},end:{line:273,column:39}}],line:273},33:{loc:{start:{line:280,column:4},end:{line:282,column:5}},type:"if",locations:[{start:{line:280,column:4},end:{line:282,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:280},34:{loc:{start:{line:283,column:19},end:{line:283,column:51}},type:"binary-expr",locations:[{start:{line:283,column:19},end:{line:283,column:45}},{start:{line:283,column:49},end:{line:283,column:51}}],line:283},35:{loc:{start:{line:285,column:4},end:{line:296,column:5}},type:"if",locations:[{start:{line:285,column:4},end:{line:296,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},36:{loc:{start:{line:285,column:8},end:{line:285,column:35}},type:"binary-expr",locations:[{start:{line:285,column:8},end:{line:285,column:16}},{start:{line:285,column:20},end:{line:285,column:35}}],line:285},37:{loc:{start:{line:288,column:8},end:{line:293,column:9}},type:"if",locations:[{start:{line:288,column:8},end:{line:293,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:288},38:{loc:{start:{line:288,column:12},end:{line:288,column:56}},type:"binary-expr",locations:[{start:{line:288,column:12},end:{line:288,column:27}},{start:{line:288,column:31},end:{line:288,column:56}}],line:288},39:{loc:{start:{line:299,column:6},end:{line:312,column:7}},type:"if",locations:[{start:{line:299,column:6},end:{line:312,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:299},40:{loc:{start:{line:314,column:6},end:{line:327,column:7}},type:"if",locations:[{start:{line:314,column:6},end:{line:327,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:314},41:{loc:{start:{line:329,column:6},end:{line:347,column:7}},type:"if",locations:[{start:{line:329,column:6},end:{line:347,column:7}},{start:{line:343,column:13},end:{line:347,column:7}}],line:329},42:{loc:{start:{line:331,column:20},end:{line:331,column:78}},type:"cond-expr",locations:[{start:{line:331,column:40},end:{line:331,column:67}},{start:{line:331,column:70},end:{line:331,column:78}}],line:331},43:{loc:{start:{line:331,column:20},end:{line:331,column:37}},type:"binary-expr",locations:[{start:{line:331,column:20},end:{line:331,column:25}},{start:{line:331,column:29},end:{line:331,column:37}}],line:331},44:{loc:{start:{line:350,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:350,column:4},end:{line:364,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:350},45:{loc:{start:{line:354,column:8},end:{line:362,column:9}},type:"if",locations:[{start:{line:354,column:8},end:{line:362,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:354},46:{loc:{start:{line:365,column:4},end:{line:367,column:5}},type:"if",locations:[{start:{line:365,column:4},end:{line:367,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:365},47:{loc:{start:{line:368,column:4},end:{line:370,column:5}},type:"if",locations:[{start:{line:368,column:4},end:{line:370,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:368},48:{loc:{start:{line:371,column:4},end:{line:373,column:5}},type:"if",locations:[{start:{line:371,column:4},end:{line:373,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:371},49:{loc:{start:{line:374,column:4},end:{line:376,column:5}},type:"if",locations:[{start:{line:374,column:4},end:{line:376,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:374},50:{loc:{start:{line:407,column:4},end:{line:408,column:13}},type:"if",locations:[{start:{line:407,column:4},end:{line:408,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:407},51:{loc:{start:{line:409,column:4},end:{line:413,column:5}},type:"if",locations:[{start:{line:409,column:4},end:{line:413,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:409},52:{loc:{start:{line:443,column:26},end:{line:443,column:70}},type:"cond-expr",locations:[{start:{line:443,column:46},end:{line:443,column:65}},{start:{line:443,column:68},end:{line:443,column:70}}],line:443},53:{loc:{start:{line:444,column:31},end:{line:444,column:87}},type:"cond-expr",locations:[{start:{line:444,column:69},end:{line:444,column:78}},{start:{line:444,column:81},end:{line:444,column:87}}],line:444},54:{loc:{start:{line:468,column:21},end:{line:468,column:44}},type:"binary-expr",locations:[{start:{line:468,column:21},end:{line:468,column:38}},{start:{line:468,column:42},end:{line:468,column:44}}],line:468},55:{loc:{start:{line:469,column:4},end:{line:480,column:5}},type:"if",locations:[{start:{line:469,column:4},end:{line:480,column:5}},{start:{line:478,column:11},end:{line:480,column:5}}],line:469},56:{loc:{start:{line:489,column:6},end:{line:521,column:7}},type:"if",locations:[{start:{line:489,column:6},end:{line:521,column:7}},{start:{line:519,column:13},end:{line:521,column:7}}],line:489},57:{loc:{start:{line:489,column:10},end:{line:489,column:149}},type:"binary-expr",locations:[{start:{line:489,column:10},end:{line:489,column:72}},{start:{line:489,column:76},end:{line:489,column:97}},{start:{line:489,column:101},end:{line:489,column:149}}],line:489},58:{loc:{start:{line:503,column:10},end:{line:505,column:11}},type:"if",locations:[{start:{line:503,column:10},end:{line:505,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:503},59:{loc:{start:{line:520,column:26},end:{line:520,column:85}},type:"binary-expr",locations:[{start:{line:520,column:26},end:{line:520,column:49}},{start:{line:520,column:53},end:{line:520,column:85}}],line:520},60:{loc:{start:{line:523,column:4},end:{line:528,column:5}},type:"if",locations:[{start:{line:523,column:4},end:{line:528,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:523},61:{loc:{start:{line:531,column:21},end:{line:531,column:55}},type:"binary-expr",locations:[{start:{line:531,column:21},end:{line:531,column:49}},{start:{line:531,column:53},end:{line:531,column:55}}],line:531},62:{loc:{start:{line:532,column:11},end:{line:532,column:52}},type:"binary-expr",locations:[{start:{line:532,column:11},end:{line:532,column:40}},{start:{line:532,column:44},end:{line:532,column:52}}],line:532},63:{loc:{start:{line:542,column:16},end:{line:542,column:41}},type:"binary-expr",locations:[{start:{line:542,column:16},end:{line:542,column:29}},{start:{line:542,column:33},end:{line:542,column:41}}],line:542},64:{loc:{start:{line:555,column:4},end:{line:577,column:5}},type:"if",locations:[{start:{line:555,column:4},end:{line:577,column:5}},{start:{line:565,column:11},end:{line:577,column:5}}],line:555},65:{loc:{start:{line:579,column:4},end:{line:581,column:5}},type:"if",locations:[{start:{line:579,column:4},end:{line:581,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:579},66:{loc:{start:{line:583,column:4},end:{line:585,column:5}},type:"if",locations:[{start:{line:583,column:4},end:{line:585,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:583},67:{loc:{start:{line:594,column:66},end:{line:594,column:91}},type:"cond-expr",locations:[{start:{line:594,column:81},end:{line:594,column:84}},{start:{line:594,column:87},end:{line:594,column:91}}],line:594},68:{loc:{start:{line:595,column:4},end:{line:599,column:5}},type:"if",locations:[{start:{line:595,column:4},end:{line:599,column:5}},{start:{line:597,column:11},end:{line:599,column:5}}],line:595},69:{loc:{start:{line:600,column:4},end:{line:604,column:5}},type:"if",locations:[{start:{line:600,column:4},end:{line:604,column:5}},{start:{line:602,column:11},end:{line:604,column:5}}],line:600},70:{loc:{start:{line:602,column:11},end:{line:604,column:5}},type:"if",locations:[{start:{line:602,column:11},end:{line:604,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:602},71:{loc:{start:{line:610,column:4},end:{line:622,column:5}},type:"if",locations:[{start:{line:610,column:4},end:{line:622,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:610},72:{loc:{start:{line:610,column:8},end:{line:610,column:39}},type:"binary-expr",locations:[{start:{line:610,column:8},end:{line:610,column:18}},{start:{line:610,column:22},end:{line:610,column:39}}],line:610},73:{loc:{start:{line:624,column:4},end:{line:626,column:5}},type:"if",locations:[{start:{line:624,column:4},end:{line:626,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:624},74:{loc:{start:{line:624,column:8},end:{line:624,column:27}},type:"binary-expr",locations:[{start:{line:624,column:8},end:{line:624,column:12}},{start:{line:624,column:16},end:{line:624,column:27}}],line:624},75:{loc:{start:{line:628,column:4},end:{line:651,column:5}},type:"if",locations:[{start:{line:628,column:4},end:{line:651,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:628},76:{loc:{start:{line:636,column:8},end:{line:641,column:9}},type:"if",locations:[{start:{line:636,column:8},end:{line:641,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:636},77:{loc:{start:{line:638,column:10},end:{line:640,column:11}},type:"if",locations:[{start:{line:638,column:10},end:{line:640,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:638},78:{loc:{start:{line:642,column:8},end:{line:647,column:9}},type:"if",locations:[{start:{line:642,column:8},end:{line:647,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:642},79:{loc:{start:{line:660,column:4},end:{line:662,column:5}},type:"if",locations:[{start:{line:660,column:4},end:{line:662,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:660},80:{loc:{start:{line:660,column:8},end:{line:660,column:49}},type:"binary-expr",locations:[{start:{line:660,column:8},end:{line:660,column:30}},{start:{line:660,column:34},end:{line:660,column:49}}],line:660},81:{loc:{start:{line:690,column:19},end:{line:690,column:51}},type:"binary-expr",locations:[{start:{line:690,column:19},end:{line:690,column:45}},{start:{line:690,column:49},end:{line:690,column:51}}],line:690},82:{loc:{start:{line:691,column:26},end:{line:691,column:92}},type:"cond-expr",locations:[{start:{line:691,column:46},end:{line:691,column:83}},{start:{line:691,column:86},end:{line:691,column:92}}],line:691},83:{loc:{start:{line:721,column:24},end:{line:740,column:14}},type:"cond-expr",locations:[{start:{line:721,column:56},end:{line:740,column:5}},{start:{line:740,column:8},end:{line:740,column:14}}],line:721},84:{loc:{start:{line:741,column:24},end:{line:751,column:14}},type:"cond-expr",locations:[{start:{line:741,column:97},end:{line:751,column:5}},{start:{line:751,column:8},end:{line:751,column:14}}],line:741}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0]},inputSourceMap:{version:3,file:null,sources:["/workspaces/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAqtBmB,SAAA,KAgNA,YAhNA;AAptBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,gBAAe;AAE/B,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,qBAAqB,IAAI,MAAM,oBAAoB;AACnD,QAAA,kBAAkB,IAAI,MAAM,iBAAiB;AAC7C,QAAA,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,MAAI,sBAAsB,iBAAiB;AACnC,UAAA,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AACvB,UAAA,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAyDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EACA,aAAoC;AAAA,EAEpC,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AACK,aAAA,WAAW,YAAY,CAAA,aAAY,KAAK,eAAe,UAAU,EAAC,aAAa,KAAI,CAAC,CAAC;AAEvF,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,IACF;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAEvE,UAAA,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAGA,UAAM,SAAS,SAAS,UAAiB,MAAM,KAAK,CAAC;AAIrD,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa;AAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,aAAgD;AAChD,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AACzD,QAAA,cAAc,YAAY,UAAU,OAAO;AAC/B,mBAAA,QAAQ,UAAU,EAAE;AAAA,IACnC;AAEA,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK,CAAC,OAAO,KAAK,aAAa;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"092de7af0fac2d32d97c1a6acb1dde11c77c8654"},o=e[r]||(e[r]={});(!o[t]||o[t].hash!==n)&&(o[t]=i);var s=o[t];return ae=function(){return s},s}ae();ae().s[0]++;window.Buffer=Vq.Buffer;function D7e(t,n){ae().f[0]++;const e=(ae().s[1]++,t.match(/\.tilehosting\.com/)),r=(ae().s[2]++,t.match(/\.maptiler\.com/)),i=(ae().s[3]++,t.match(/\.thunderforest\.com/));if(ae().s[4]++,ae().b[1][0]++,e||(ae().b[1][1]++,r)){ae().b[0][0]++;const o=(ae().s[5]++,Cu.getAccessToken("openmaptiles",n,{allowFallback:!0}));if(ae().s[6]++,o)return ae().b[2][0]++,ae().s[7]++,t.replace("{key}",o);ae().b[2][1]++}else if(ae().b[0][1]++,ae().s[8]++,i){ae().b[3][0]++;const o=(ae().s[9]++,Cu.getAccessToken("thunderforest",n,{allowFallback:!0}));if(ae().s[10]++,o)return ae().b[4][0]++,ae().s[11]++,t.replace("{key}",o);ae().b[4][1]++}else return ae().b[3][1]++,ae().s[12]++,t}function IP(t,n,e){return ae().f[1]++,ae().s[13]++,{...t,$root:{...t.$root,[n]:{...t.$root[n],values:e}}}}class F7e extends gn.Component{constructor(e){ae().f[2]++,ae().s[15]++;super(e);rn(this,"revisionStore");rn(this,"styleStore");rn(this,"layerWatcher");rn(this,"shortcutEl",(ae().s[14]++,null));rn(this,"handleKeyPress",(ae().s[66]++,e=>{ae().f[18]++,ae().s[67]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(ae().b[18][0]++,ae().s[68]++,ae().b[20][0]++,e.metaKey&&(ae().b[20][1]++,e.shiftKey)&&(ae().b[20][2]++,e.keyCode===90)?(ae().b[19][0]++,ae().s[69]++,e.preventDefault(),ae().s[70]++,this.onRedo()):(ae().b[19][1]++,ae().s[71]++,ae().b[22][0]++,e.metaKey&&(ae().b[22][1]++,e.keyCode===90)?(ae().b[21][0]++,ae().s[72]++,e.preventDefault(),ae().s[73]++,this.onUndo()):ae().b[21][1]++)):(ae().b[18][1]++,ae().s[74]++,ae().b[24][0]++,e.ctrlKey&&(ae().b[24][1]++,e.keyCode===90)?(ae().b[23][0]++,ae().s[75]++,e.preventDefault(),ae().s[76]++,this.onUndo()):(ae().b[23][1]++,ae().s[77]++,ae().b[26][0]++,e.ctrlKey&&(ae().b[26][1]++,e.keyCode===89)?(ae().b[25][0]++,ae().s[78]++,e.preventDefault(),ae().s[79]++,this.onRedo()):ae().b[25][1]++))}));rn(this,"onChangeMetadataProperty",(ae().s[90]++,(e,r)=>{ae().f[26]++,ae().s[91]++,ae().b[31][0]++,e==="maputnik:renderer"&&(ae().b[31][1]++,r!==YV(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(ae().b[30][0]++,ae().s[92]++,this.setState({mapState:"map"})):ae().b[30][1]++;const i=(ae().s[93]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[e]:r}});ae().s[94]++,this.onStyleChanged(i)}));rn(this,"onStyleChanged",(ae().s[95]++,(e,r=(ae().b[32][0]++,{}))=>{ae().f[27]++,ae().s[96]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},ae().s[97]++,r.initialLoad?(ae().b[33][0]++,ae().s[98]++,this.getInitialStateFromUrl(e)):ae().b[33][1]++;const i=(ae().s[99]++,ae().b[34][0]++,KL(e,vr)||(ae().b[34][1]++,[])),o=(ae().s[100]++,[]);if(ae().s[101]++,ae().b[36][0]++,e&&(ae().b[36][1]++,e.layers)){ae().b[35][0]++;const f=(ae().s[102]++,new window.Map);ae().s[103]++,e.layers.forEach((g,x)=>{if(ae().f[28]++,ae().s[104]++,ae().b[38][0]++,g.id===""&&(ae().b[38][1]++,f.has(g.id))){ae().b[37][0]++;const I=(ae().s[105]++,new Error(`layers[${x}]: duplicate layer id [empty_string], previously used`));ae().s[106]++,o.push(I)}else ae().b[37][1]++;ae().s[107]++,f.set(g.id,!0)})}else ae().b[35][1]++;const s=(ae().s[108]++,o.concat(i).map(f=>{ae().f[29]++;const g=(ae().s[109]++,f.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(ae().s[110]++,g){ae().b[39][0]++;const[,B,D]=(ae().s[111]++,g);return ae().s[112]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(B,10),key:"id",message:D}}}}else ae().b[39][1]++;const x=(ae().s[113]++,f.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(ae().s[114]++,x){ae().b[40][0]++;const[,B,D]=(ae().s[115]++,x);return ae().s[116]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(B,10),key:"source",message:D}}}}else ae().b[40][1]++;const I=(ae().s[117]++,f.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(ae().s[118]++,I){ae().b[41][0]++;const[,B,D,L,V]=(ae().s[119]++,I),W=(ae().s[120]++,ae().b[43][0]++,D&&(ae().b[43][1]++,L)?(ae().b[42][0]++,[D,L].join(".")):(ae().b[42][1]++,L));return ae().s[121]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(B,10),key:W,message:V}}}}else return ae().b[41][1]++,ae().s[122]++,{message:f.message}}));let a=(ae().s[123]++,void 0);ae().s[124]++,i.length>0?(ae().b[44][0]++,ae().s[125]++,a=$I(e),ae().s[126]++,i.forEach(f=>{ae().f[30]++;const{message:g}=(ae().s[127]++,f);if(ae().s[128]++,g){ae().b[45][0]++,ae().s[129]++;try{const x=(ae().s[130]++,g.split(":")[0]),I=(ae().s[131]++,x.match(/^\S+?\[\d+\]\.[^[]+/)[0]);ae().s[132]++,g4.unset(a,I)}catch(x){ae().s[133]++,console.warn(x)}}else ae().b[45][1]++})):ae().b[44][1]++,ae().s[134]++,e.glyphs!==this.state.mapStyle.glyphs?(ae().b[46][0]++,ae().s[135]++,this.updateFonts(e.glyphs)):ae().b[46][1]++,ae().s[136]++,e.sprite!==this.state.mapStyle.sprite?(ae().b[47][0]++,ae().s[137]++,this.updateIcons(e.sprite)):ae().b[47][1]++,ae().s[138]++,r.addRevision?(ae().b[48][0]++,ae().s[139]++,this.revisionStore.addRevision(e)):ae().b[48][1]++,ae().s[140]++,r.save?(ae().b[49][0]++,ae().s[141]++,this.saveStyle(e)):ae().b[49][1]++,ae().s[142]++,this.setState({mapStyle:e,dirtyMapStyle:a,errors:s},()=>{ae().f[31]++,ae().s[143]++,this.fetchSources(),ae().s[144]++,this.setStateInUrl()})}));rn(this,"onUndo",(ae().s[145]++,()=>{ae().f[32]++;const e=(ae().s[146]++,this.revisionStore.undo()),r=(ae().s[147]++,JBe(this.state.mapStyle,e));ae().s[148]++,this.onStyleChanged(e,{addRevision:!1}),ae().s[149]++,this.setState({infos:r})}));rn(this,"onRedo",(ae().s[150]++,()=>{ae().f[33]++;const e=(ae().s[151]++,this.revisionStore.redo()),r=(ae().s[152]++,e7e(this.state.mapStyle,e));ae().s[153]++,this.onStyleChanged(e,{addRevision:!1}),ae().s[154]++,this.setState({infos:r})}));rn(this,"onMoveLayer",(ae().s[155]++,e=>{ae().f[34]++;let{oldIndex:r,newIndex:i}=(ae().s[156]++,e),o=(ae().s[157]++,this.state.mapStyle.layers);if(ae().s[158]++,r=VI(r,0,o.length-1),ae().s[159]++,i=VI(i,0,o.length-1),ae().s[160]++,r===i){ae().b[50][0]++,ae().s[161]++;return}else ae().b[50][1]++;ae().s[162]++,r===this.state.selectedLayerIndex?(ae().b[51][0]++,ae().s[163]++,this.setState({selectedLayerIndex:i})):ae().b[51][1]++,ae().s[164]++,o=o.slice(0),ae().s[165]++,qV(o,r,i),ae().s[166]++,this.onLayersChange(o)}));rn(this,"onLayersChange",(ae().s[167]++,e=>{ae().f[35]++;const r=(ae().s[168]++,{...this.state.mapStyle,layers:e});ae().s[169]++,this.onStyleChanged(r)}));rn(this,"onLayerDestroy",(ae().s[170]++,e=>{ae().f[36]++;const r=(ae().s[171]++,this.state.mapStyle.layers),i=(ae().s[172]++,r.slice(0));ae().s[173]++,i.splice(e,1),ae().s[174]++,this.onLayersChange(i)}));rn(this,"onLayerCopy",(ae().s[175]++,e=>{ae().f[37]++;const r=(ae().s[176]++,this.state.mapStyle.layers),i=(ae().s[177]++,r.slice(0)),o=(ae().s[178]++,$I(i[e]));ae().s[179]++,o.id=o.id+"-copy",ae().s[180]++,i.splice(e,0,o),ae().s[181]++,this.onLayersChange(i)}));rn(this,"onLayerVisibilityToggle",(ae().s[182]++,e=>{ae().f[38]++;const r=(ae().s[183]++,this.state.mapStyle.layers),i=(ae().s[184]++,r.slice(0)),o=(ae().s[185]++,{...i[e]}),s=(ae().s[186]++,"layout"in o?(ae().b[52][0]++,{...o.layout}):(ae().b[52][1]++,{}));ae().s[187]++,s.visibility=s.visibility==="none"?(ae().b[53][0]++,"visible"):(ae().b[53][1]++,"none"),ae().s[188]++,o.layout=s,ae().s[189]++,i[e]=o,ae().s[190]++,this.onLayersChange(i)}));rn(this,"onLayerIdChange",(ae().s[191]++,(e,r,i)=>{ae().f[39]++;const o=(ae().s[192]++,this.state.mapStyle.layers.slice(0));ae().s[193]++,o[e]={...o[e],id:i},ae().s[194]++,this.onLayersChange(o)}));rn(this,"onLayerChanged",(ae().s[195]++,(e,r)=>{ae().f[40]++;const i=(ae().s[196]++,this.state.mapStyle.layers.slice(0));ae().s[197]++,i[e]=r,ae().s[198]++,this.onLayersChange(i)}));rn(this,"setMapState",(ae().s[199]++,e=>{ae().f[41]++,ae().s[200]++,this.setState({mapState:e},this.setStateInUrl)}));rn(this,"setDefaultValues",(ae().s[201]++,e=>{ae().f[42]++;const r=(ae().s[202]++,ae().b[54][0]++,e.metadata||(ae().b[54][1]++,{}));if(ae().s[203]++,r["maputnik:renderer"]===void 0){ae().b[55][0]++;const i=(ae().s[204]++,{...e,metadata:{...e.metadata,"maputnik:renderer":"mlgljs"}});return ae().s[205]++,i}else return ae().b[55][1]++,ae().s[206]++,e}));rn(this,"openStyle",(ae().s[207]++,e=>{ae().f[43]++,ae().s[208]++,e=this.setDefaultValues(e),ae().s[209]++,this.onStyleChanged(e)}));rn(this,"onMapChange",(ae().s[234]++,e=>{ae().f[49]++,ae().s[235]++,this.setState({mapView:e})}));rn(this,"setStateInUrl",(ae().s[251]++,()=>{ae().f[53]++;const{mapState:e,mapStyle:r,isOpen:i}=(ae().s[252]++,this.state),{selectedLayerIndex:o}=(ae().s[253]++,this.state),s=(ae().s[254]++,new URL(location.href)),a=(ae().s[255]++,e9(JSON.stringify(r)));ae().s[256]++,s.searchParams.set("layer",`${a}~${o}`);const f=(ae().s[257]++,Object.entries(i).map(([g,x])=>(ae().f[54]++,ae().s[258]++,x===!0?(ae().b[67][0]++,g):(ae().b[67][1]++,null))).filter(g=>(ae().f[55]++,ae().s[259]++,g!==null)));ae().s[260]++,f.length>0?(ae().b[68][0]++,ae().s[261]++,s.searchParams.set("modal",f.join(","))):(ae().b[68][1]++,ae().s[262]++,s.searchParams.delete("modal")),ae().s[263]++,e==="map"?(ae().b[69][0]++,ae().s[264]++,s.searchParams.delete("view")):(ae().b[69][1]++,ae().s[265]++,e==="inspect"?(ae().b[70][0]++,ae().s[266]++,s.searchParams.set("view","inspect")):ae().b[70][1]++),ae().s[267]++,history.replaceState({selectedLayerIndex:o},"Maputnik",s.href)}));rn(this,"getInitialStateFromUrl",(ae().s[268]++,e=>{ae().f[56]++;const r=(ae().s[269]++,new URL(location.href)),i=(ae().s[270]++,r.searchParams.get("modal"));if(ae().s[271]++,ae().b[72][0]++,i&&(ae().b[72][1]++,i!=="")){ae().b[71][0]++;const a=(ae().s[272]++,i.split(",")),f=(ae().s[273]++,{});ae().s[274]++,a.forEach(g=>{ae().f[57]++,ae().s[275]++,f[g]=!0}),ae().s[276]++,this.setState({isOpen:{...this.state.isOpen,...f}})}else ae().b[71][1]++;const o=(ae().s[277]++,r.searchParams.get("view"));ae().s[278]++,ae().b[74][0]++,o&&(ae().b[74][1]++,o!=="")?(ae().b[73][0]++,ae().s[279]++,this.setMapState(o)):ae().b[73][1]++;const s=(ae().s[280]++,r.searchParams.get("layer"));if(ae().s[281]++,s){ae().b[75][0]++,ae().s[282]++;try{const a=(ae().s[283]++,s.split("~")),[f,g]=(ae().s[284]++,[a[0],parseInt(a[1],10)]);let x=(ae().s[285]++,!0);if(ae().s[286]++,f!=="-"){ae().b[76][0]++;const I=(ae().s[287]++,e9(JSON.stringify(e)));ae().s[288]++,I!==parseInt(f,10)?(ae().b[77][0]++,ae().s[289]++,x=!1):ae().b[77][1]++}else ae().b[76][1]++;ae().s[290]++,x?(ae().b[78][0]++,ae().s[291]++,this.setState({selectedLayerIndex:g,selectedLayerOriginalId:e.layers[g].id})):ae().b[78][1]++}catch(a){ae().s[292]++,console.warn(a)}}else ae().b[75][1]++}));rn(this,"onLayerSelect",(ae().s[293]++,e=>{ae().f[58]++,ae().s[294]++,this.setState({selectedLayerIndex:e,selectedLayerOriginalId:this.state.mapStyle.layers[e].id},this.setStateInUrl)}));rn(this,"onChangeOpenlayersDebug",(ae().s[299]++,(e,r)=>{ae().f[61]++,ae().s[300]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[e]:r}})}));rn(this,"onChangeMaplibreGlDebug",(ae().s[301]++,(e,r)=>{ae().f[62]++,ae().s[302]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[e]:r}})}));ae().s[16]++,Sq(this),ae().s[17]++,this.revisionStore=new h7e;const r=(ae().s[18]++,new URLSearchParams(window.location.search.substring(1)));let i=(ae().s[19]++,r.get("localport"));ae().s[20]++,ae().b[6][0]++,i==null&&(ae().b[6][1]++,window.location.port!=="80")&&(ae().b[6][2]++,window.location.port!=="443")?(ae().b[5][0]++,ae().s[21]++,i=window.location.port):ae().b[5][1]++,ae().s[22]++,this.styleStore=new d7e({onLocalStyleChange:a=>(ae().f[3]++,ae().s[23]++,this.onStyleChanged(a,{save:!1})),port:i,host:r.get("localhost")});const o=(ae().s[24]++,[{key:"?",handler:()=>{ae().f[4]++,ae().s[25]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{ae().f[5]++,ae().s[26]++,this.toggleModal("open")}},{key:"e",handler:()=>{ae().f[6]++,ae().s[27]++,this.toggleModal("export")}},{key:"d",handler:()=>{ae().f[7]++,ae().s[28]++,this.toggleModal("sources")}},{key:"s",handler:()=>{ae().f[8]++,ae().s[29]++,this.toggleModal("settings")}},{key:"i",handler:()=>{ae().f[9]++,ae().s[30]++,this.setMapState(this.state.mapState==="map"?(ae().b[7][0]++,"inspect"):(ae().b[7][1]++,"map"))}},{key:"m",handler:()=>{ae().f[10]++,ae().s[31]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{ae().f[11]++,ae().s[32]++,this.toggleModal("debug")}}]);ae().s[33]++,document.body.addEventListener("keyup",a=>{if(ae().f[12]++,ae().s[34]++,a.key==="Escape")ae().b[8][0]++,ae().s[35]++,a.target.blur(),ae().s[36]++,document.body.focus();else if(ae().b[8][1]++,ae().s[37]++,ae().b[10][0]++,this.state.isOpen.shortcuts||(ae().b[10][1]++,document.activeElement===document.body)){ae().b[9][0]++;const f=(ae().s[38]++,o.find(g=>(ae().f[13]++,ae().s[39]++,g.key===a.key)));ae().s[40]++,f?(ae().b[11][0]++,ae().s[41]++,this.setModal("shortcuts",!1),ae().s[42]++,f.handler()):ae().b[11][1]++}else ae().b[9][1]++});const s=(ae().s[43]++,XBe());ae().s[44]++,ae().b[13][0]++,s&&(ae().b[13][1]++,window.confirm("Load style from URL: "+s+" and discard current changes?"))?(ae().b[12][0]++,ae().s[45]++,this.styleStore=new EP,ae().s[46]++,aG(s,a=>(ae().f[14]++,ae().s[47]++,this.onStyleChanged(a))),ae().s[48]++,xP()):(ae().b[12][1]++,ae().s[49]++,s?(ae().b[14][0]++,ae().s[50]++,xP()):ae().b[14][1]++,ae().s[51]++,this.styleStore.init(a=>{ae().f[15]++,ae().s[52]++,a?(ae().b[15][0]++,ae().s[53]++,console.log("Falling back to local storage for storing styles"),ae().s[54]++,this.styleStore=new EP):ae().b[15][1]++,ae().s[55]++,this.styleStore.latestStyle(f=>(ae().f[16]++,ae().s[56]++,this.onStyleChanged(f,{initialLoad:!0}))),ae().s[57]++,C0.enabled()?(ae().b[16][0]++,ae().s[58]++,C0.set("maputnik","styleStore",this.styleStore),ae().s[59]++,C0.set("maputnik","revisionStore",this.revisionStore)):ae().b[16][1]++})),ae().s[60]++,C0.enabled()?(ae().b[17][0]++,ae().s[61]++,C0.set("maputnik","revisionStore",this.revisionStore),ae().s[62]++,C0.set("maputnik","styleStore",this.styleStore)):ae().b[17][1]++,ae().s[63]++,this.state={errors:[],infos:[],mapStyle:Cu.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:vr,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,survey:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1}},ae().s[64]++,this.layerWatcher=new K7e({onVectorLayersChange:a=>(ae().f[17]++,ae().s[65]++,this.setState({vectorLayers:a}))})}componentDidMount(){ae().f[19]++,ae().s[80]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){ae().f[20]++,ae().s[81]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(e){ae().f[21]++,ae().s[82]++,this.styleStore.save(e)}updateFonts(e){ae().f[22]++;const r=(ae().s[83]++,ae().b[27][0]++,this.state.mapStyle.metadata||(ae().b[27][1]++,{})),i=(ae().s[84]++,ae().b[28][0]++,r["maputnik:openmaptiles_access_token"]||(ae().b[28][1]++,ZN.openmaptiles)),o=(ae().s[85]++,typeof e=="string"?(ae().b[29][0]++,e.replace("{key}",i)):(ae().b[29][1]++,e));ae().s[86]++,HBe(o,s=>{ae().f[23]++,ae().s[87]++,this.setState({spec:IP(this.state.spec,"glyphs",s)})})}updateIcons(e){ae().f[24]++,ae().s[88]++,ZBe(e,r=>{ae().f[25]++,ae().s[89]++,this.setState({spec:IP(this.state.spec,"sprite",r)})})}fetchSources(){ae().f[44]++;const e=(ae().s[210]++,{});ae().s[211]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(ae().s[212]++,ae().b[57][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(ae().b[57][1]++,i.type==="vector")&&(ae().b[57][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){ae().b[56][0]++,ae().s[213]++,e[r]={type:i.type,layers:[]};let o=(ae().s[214]++,i.url);ae().s[215]++;try{ae().s[216]++,o=D7e(o,this.state.mapStyle)}catch(s){ae().s[217]++,console.warn("Failed to setFetchAccessToken: ",s)}ae().s[218]++,fetch(o,{mode:"cors"}).then(s=>(ae().f[45]++,ae().s[219]++,s.json())).then(s=>{if(ae().f[46]++,ae().s[220]++,Object.prototype.hasOwnProperty.call(s,"vector_layers"))ae().b[58][1]++;else{ae().b[58][0]++,ae().s[221]++;return}const a=(ae().s[222]++,Object.assign({},{[r]:this.state.sources[r]}));ae().s[223]++;for(const f of s.vector_layers)ae().s[224]++,a[r].layers.push(f.id);ae().s[225]++,console.debug("Updating source: "+r),ae().s[226]++,this.setState({sources:a})}).catch(s=>{ae().f[47]++,ae().s[227]++,console.error("Failed to process sources for '%s'",o,s)})}else ae().b[56][1]++,ae().s[228]++,e[r]=(ae().b[59][0]++,this.state.sources[r]||(ae().b[59][1]++,this.state.mapStyle.sources[r]));ae().s[229]++,u6(this.state.sources,e)?ae().b[60][1]++:(ae().b[60][0]++,ae().s[230]++,console.debug("Setting sources"),ae().s[231]++,this.setState({sources:e}))}_getRenderer(){ae().f[48]++;const e=(ae().s[232]++,ae().b[61][0]++,this.state.mapStyle.metadata||(ae().b[61][1]++,{}));return ae().s[233]++,ae().b[62][0]++,e["maputnik:renderer"]||(ae().b[62][1]++,"mlgljs")}mapRenderer(){ae().f[50]++;const{mapStyle:e,dirtyMapStyle:r}=(ae().s[236]++,this.state),i=(ae().s[237]++,{mapStyle:(ae().b[63][0]++,r||(ae().b[63][1]++,e)),replaceAccessTokens:g=>(ae().f[51]++,ae().s[238]++,Cu.replaceAccessTokens(g,{allowFallback:!0})),onDataChange:g=>{ae().f[52]++,ae().s[239]++,this.layerWatcher.analyzeMap(g.map),ae().s[240]++,this.fetchSources()}}),o=(ae().s[241]++,this._getRenderer());let s;ae().s[242]++,o==="ol"?(ae().b[64][0]++,ae().s[243]++,s=N.jsx(wj,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(ae().b[64][1]++,ae().s[244]++,s=N.jsx(JL,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let a;ae().s[245]++,this.state.mapState.match(/^filter-/)?(ae().b[65][0]++,ae().s[246]++,a=this.state.mapState.replace(/^filter-/,"")):ae().b[65][1]++;const f=(ae().s[247]++,{});return ae().s[248]++,a?(ae().b[66][0]++,ae().s[249]++,f.filter=`url('#${a}')`):ae().b[66][1]++,ae().s[250]++,N.jsx("div",{style:f,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:s})}setModal(e,r){ae().f[59]++,ae().s[295]++,ae().b[80][0]++,e==="survey"&&(ae().b[80][1]++,r===!1)?(ae().b[79][0]++,ae().s[296]++,localStorage.setItem("survey","")):ae().b[79][1]++,ae().s[297]++,this.setState({isOpen:{...this.state.isOpen,[e]:r}},this.setStateInUrl)}toggleModal(e){ae().f[60]++,ae().s[298]++,this.setModal(e,!this.state.isOpen[e])}render(){ae().f[63]++;const e=(ae().s[303]++,ae().b[81][0]++,this.state.mapStyle.layers||(ae().b[81][1]++,[])),r=(ae().s[304]++,e.length>0?(ae().b[82][0]++,e[this.state.selectedLayerIndex]):(ae().b[82][1]++,void 0)),i=(ae().s[305]++,N.jsx(VOe,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(ae().s[306]++,N.jsx(Cpe,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:e,sources:this.state.sources,errors:this.state.errors})),s=(ae().s[307]++,r?(ae().b[83][0]++,N.jsx(PE,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(ae().b[83][1]++,void 0)),a=(ae().s[308]++,this.state.errors.length+this.state.infos.length>0?(ae().b[84][0]++,N.jsx(qN,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(ae().b[84][1]++,void 0)),f=(ae().s[309]++,N.jsxs("div",{children:[N.jsx(VBe,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),N.jsx($Be,{ref:g=>(ae().f[64]++,ae().s[310]++,this.shortcutEl=g),isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),N.jsx(JOe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),N.jsx(hBe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export")}),N.jsx(QBe,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open")}),N.jsx(OBe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")}),N.jsx(qBe,{isOpen:this.state.isOpen.survey,onOpenToggle:this.toggleModal.bind(this,"survey")})]}));return ae().s[311]++,N.jsx(YN,{toolbar:i,layerList:o,layerEditor:s,map:this.mapRenderer(),bottom:a,modals:f})}}$D.render(N.jsx($M.Provider,{value:{className:"react-icons"},children:N.jsx(F7e,{})}),document.querySelector("#app"));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-_KQCmim3.js.map
